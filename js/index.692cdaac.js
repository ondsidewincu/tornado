var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&s(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));import{R as c,A as d,q as u,W as h,J as p,z as m,S as g,I as y,u as _,d as f,a as v,r as E,b,c as C,e as x,f as w,g as S,h as k,i as T,j as I,k as N,L as A,l as P,m as D,n as O,o as L,p as R,s as F,t as M,C as U,v as B,w as z,x as V,y as H,B as W,D as j,E as G,F as q,G as Y,H as K,K as Q,N as Z,M as X,O as J,P as ee,$ as te,Q as ne,T as re,U as ie,V as ae,X as se,Y as oe,Z as le,_ as ce,a0 as de,a1 as ue,a2 as he,a3 as pe,a4 as me,a5 as ge,a6 as ye}from"./vendor.46127f98.js";const _e=e=>{const t=e.icon||"circle-loading-spinner",n={xsmall:`${t}-xsmall`,small:`${t}-small`,medium:`${t}-medium`,large:`${t}-large`},r={color:e.color||"#2b2b2b"},i=e.size?n[e.size]:`${t}-small`,a=e.customClass||"",s=e.style||{},l=`fa ${t} loading-spin default-loading-icon-styles ${i} ${a}`;return c.createElement("div",{className:`loading-icon-container ${e.customContainerClass||""}`,style:e.loadingIconContainerStyle||{}},c.createElement("i",{className:l,style:o(o({},s),r)}))},fe=e=>{if(!e||0===e.length)return{};const t=e.split("?")[1].split("&"),n={};return t.forEach((e=>{const t=e.split("=")[0],r=e.split("=")[1];n[t]=decodeURI(r)})),n},ve=(e,t)=>{const n=[],r=Object.keys(e);if(0===r.length||!r)return"";r.forEach((t=>{const r=e[t];n.push(`${t}=${r}`)}));return(t&&t.isAppending?"&":"?")+n.join("&")};var Ee=Object.defineProperty,be=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,ke=(e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Te=(e,t)=>{for(var n in t||(t={}))we.call(t,n)&&ke(e,n,t[n]);if(xe)for(var n of xe(t))Se.call(t,n)&&ke(e,n,t[n]);return e},Ie=(e,t)=>be(e,Ce(t)),Ne=(e,t,n)=>(ke(e,"symbol"!=typeof t?t+"":t,n),n);class Ae{constructor(e,t,n){Ne(this,"getTrackingRouteName",(()=>this.trackingRouteName)),this._instance_trackedRoute=!0,this.urlPathName=e,this.appRouteName=t,this.trackingRouteName=n}}const Pe={PROMO_REDEMPTION_SUCCESS:"Promo Redemption Success",SPLASH:"Splash",SPLASH_SIGN_IN:"Splash Sign In",SPLASH_SIGN_UP:"Splash Sign Up",DEV_TOOLS:"ModeSelect",DEV:"Dev",AUTHED_APP_INITIALIZATION:"AuthedAppInitialization",ONBOARDING_NAVIGATOR:"Onboarding Navigator",ONBOARDED_NAVIGATOR:"Onboarded Navigator",START_LIVE_TRADING_SIGN_UP:"StartLiveTradingSignUp",LT_INVESTING_EXPERIENCE:"LTInvestingExperience",ENTER_NAME:"Enter Name",ENTER_ADDRESS:"Enter Address",ENTER_PHONE:"Enter Phone",INVESTOR_PROFILE:"InvestorProfile",IDENTITY:"Identity",ENTER_DATE_OF_BIRTH:"Enter Date of Birth",DISCLOSURES:"Disclosures",DISCLOSURES_EMPLOYMENT:"Disclosures Employment",AGREEMENTS:"Agreements",LIVE_ACCOUNT_SUBMITTED:"LiveAccountSubmitted",LT_REDEEM_REWARDS:"LiveTradingRedeemReferralRewards",ONBOARDING_FUNDING:"OnboardingFunding",ONBOARDING_ALMOST_THERE:"AlmostThereOnboarding",LT_FUNDING_DEPOSIT:"LiveTradingFundingTransfers",LT_DEFAULT_EXPECTED_RETURN:"LTDefaultExpectedReturn",START_PAPER_TRADING_SIGN_UP:"StartPaperTradingSignUp",PT_INVESTING_EXPERIENCE:"PTInvestingExperience",PT_DEFAULT_EXPECTED_RETURN:"PTDefaultExpectedReturn",START_ONBOARDING:"Onboarding",ONBOARDING_ACCOUNT_SELECTION:"OnboardingAccountSelection",HOME:"Home",ACTIVITY_FEED:"Activity",DASHBOARD:"Dashboard",TRADE:"Trade",FUNDING:"Funding",COMMUNITY:"Community",CLOSED_ACCOUNT:"ClosedAccount",SEARCH:"Search",EXPLORE:"Explore",SECURITY_PAGE:"Security",FILTERED_SECURITY_LIST:"FilteredSecurityList",SECURITY_LIVE_PRICING:"SecurityLivePricing",CREATE_ORDER:"NewOrder",CREATE_THOUGHT:"CreateThought",CONTACTS_IMPORT:"ContactsImport",COMMUNITY_SEARCH:"CommunitySearch",REFERRAL_ACTIONS:"ReferralActions",CONNECTIONS_LIST:"ConnectionsList",REWARDS:"Rewards",REDEEM_REWARDS:"RedeemReferralRewards",ACCOUNT:"Account",ACCOUNT_TRANSACTION_HISTORY:"Account Transaction History",LEGAL:"Legal",SUPPORT:"Support",CREATE_SUPPORT_REQUEST:"CreateSupportRequest",USER_SETTINGS:"UserSettings",USER_PROFILE:"Profile",VIEWPOINT_PROFILE:"Viewpoint Profile",VIEWPOINT_EXPLORE:"Explore All Viewpoints",EDIT_USER_PROFILE:"EditProfile",CHANGE_EMAIL:"ChangeEmail",CHANGE_PASSWORD:"ChangePassword",UPDATE_PREFERENCES:"UpdatePreferences",UPDATE_LIVE_ACCOUNT:"UpdateLiveAccount",UPDATE_LIVE_ACCOUNT_FORM:"UpdateLiveAccountForm",LIVE_ACCOUNT_FURTHER_DOCUMENTATION_ENTRY:"LiveAccountFurtherDocumentationEntry",ONBOARDING_CONTACT_RESUBMIT:"OnboardingContactFormResubmit",CONTACT_RESUBMIT:"ContactFormResubmit",FUNDING_WITHDRAWAL:"FundingWithdrawal",FUNDING_DEPOSIT:"FundingDeposit",PAPER_FUNDING_TRANSFERS:"FundingTransferPaper",FUNDING_MODAL:"FundingModal",LINK_BANK_ACCOUNT:"LinkBankAccountModeSelection",LINK_BANK_ACCOUNT_PLAID:"LinkBankAccountPlaid",LINK_BANK_ACCOUNT_MICRO:"LinkBankAccountMicro",VERIFY_BANK_ACCOUNT:"VerifyBankAccount",MANAGE_BANK_ACCOUNTS:"ManageBankAccounts",MANAGE_RECURRING_DEPOSITS:"ManageRecurringDeposits",CREATE_RECURRING_DEPOSITS:"CreateRecurringDeposits",BANK_TRANSFER_HISTORY:"BankTransferHistory",DEPOSIT_EXECUTION:"DepositExecution",INTERESTS_SELECTION:"InterestsSelection",INTEREST_WATCHLIST:"InterestsWatchList",PROMPT_PICK_OWN_STOCKS:"PickOwnStocksPrompt",CTL_RESPONSE:"CtlResponse",TRENDING_STOCKS:"TrendingStocks",GETTING_REWARDS_INTERSTITIAL:"GettingRewardsInterstitial",AUDIO_LIBRARY:"AudioLibrary",INVESTING_JOURNEY:"InvestingJourney",NEWS_ARTICLE:"NewsArticle",CREATE_SHARE:"CreateShare",UPCOMING_EARNINGS:"UpcomingEarnings",THOUGHTS_LIST:"ThoughtsList",PRIVACY_SETTING_SELECT:"PrivacySettingSelect",SITE_DISCLOSURES:"Site Disclosures",LEARN:"Learn",LEARN_HOME:"Learn Home",LEARN_REWARD_EARNED:"Learn Reward Earned",LEARN_DISCLAIMERS:"Learn Disclaimers",LEARN_LESSONS_COMPLETED:"Learn Lessons Completed",FINISH_ACCOUNT_SETUP:"Finish Account Setup",VIEWPOINT_WELCOME:"ViewpointWelcome",VIEWPOINT_SUBSCRIPTION_MANAGEMENT:"ViewpointSubscriptionManagement",VIEWPOINT_SUBSCRIPTION_SUCCESS:"ViewpointSubscriptionSuccess",PUSH_NOTIFICATION_DETAIL:"Push Notification Detail",ANNUAL_MEMBERSHIP_ACCOUNT_OPT_IN:"Annual Membership Account Opt-in",MODAL:"Modal",USER_LIST_MODAL:"UserListModal",CLOSE_ACCOUNT_MODAL:"CloseAccountModal",SKIPPING_SIGNUP_REWARD_MODAL:"SkippingSignupRewardModal",MORE_INFO_ON_MARGIN_ACCOUNTS:"MoreInfoOnMarginAccountsModal",REMOVE_CONNECTION_MODAL:"RemoveConnectionModal",VIEWPOINT_SUBSCRIPTION_CONFIRMATION_MODAL:"ViewpointSubscribeConfirmationModal",START_LIVE_TRADING_NOW_ACTION_MODAL:"Start Live Trading Now Action Modal",CANCEL_VIEWPOINT_SUBSCRIPTION_MODAL:"CancelViewpointSubscriptionModal",INVITE_BY_EMAIL:"AddInviteEmailMessage",INFO_ICON_EXPLANATION:"InfoIconExplanation",ADD_IDEA_WITH_IDEA_TYPE_SELECTION:"AddIdea-IdeaTypeSelection",SECURITY_SCREEN_ACTIONS:"SecurityScreenActions",RATE_APP_MODAL:"Rate App Modal",OTA_UPDATE_APP_MODAL:"OTA Update Prompt Modal",FINISH_ACCOUNT_SETUP_MODAL:"Finish Account Setup Modal",DEPOSIT_PROMO_MODAL:"Deposit Promo Modal",SELECTION_MODAL:"Selection Modal",CONFIRM_EMAIL_ADDRESS_MODAL:"Confirm Email Address Modal",DISCLOSURES_MODAL:"Disclosures Modal",DONT_MISS_OUT_SIGN_UP_BONUS_MODAL:"Dont Miss Out Sign Up Bonus Modal",WITHDRAWAL_FUNDING_BREAKDOWN:"Withdrawal Funding Breakdown Modal",BROKERAGE_TRANSFER_MODAL:"Brokerage ACAT Transfer Request Modal",ANNUAL_ACCOUNT_UPGRADE_MODAL:"Annual Account Upgrade Modal",IOS_DROPDOWN_MODAL:"iOS Dropdown Modal",SELECT_SINGLE_FORM_OF_CONTACT:"Select Single Form of Contact Modal",SHARE_LEARN_MODAL:"Share Learn Modal",ONBOARDING_WELCOME_VIDEO:"Onboarding Welcome Video Modal",PROMPT_ENABLE_PUSH_NOTIFICATIONS:"Prompt Enable Push Notifications Modal"},De={security:"/securities/:id",thoughtWithSlug:"/thoughts/:id/:thoughtSlug",thought:"/thoughts/:id",featuredViewpoints:"/viewpoint_contributors/featured",manageViewpoints:"/viewpoint_contributors/manage",viewpointProfile:"/viewpoint_contributors/:name",bdTerms:"/terms",socureDocSubmission:"/live-account-submission-status",resubmitAddress:"/resubmit-address",uploadDocuments:"/upload-required-documents",onboardingUploadDocuments:"/live_accounts/documentation",liveAccountSubmitConfirmation:"/live_accounts/confirmation",onboardingAlmostThere:"/almost-there",agreements:"/live_accounts/agreements",disclosures:"/live_accounts/disclosures",disclosuresEmployment:"/live_accounts/disclosures-employment",identity:"/live_accounts/identity",contact:"/live_accounts/contact",investorProfile:"/live_accounts/investor_profile",inviteFriends:"/invite-friends",trade:"/orders",myIdeas:"/ideas",onboardResumeProgress:"/onboard",portfolio:"/portfolio",portfolioHistory:"/portfolio/history",portfolioFunding:"/portfolio/funding",funding:"/funding",recurringDeposits:"/funding/recurring-deposits",createRecurringDeposits:"/funding/schedule-new-recurring-deposit",linkBank:"/funding/link-bank",withdrawFunds:"/funding/withdraw",depositFunds:"/funding/deposit",usersSignup:"/users/sign_up",login:"/login",signup:"/signup",editProfile:"/users/edit",connections:"/users/connections",userProfile:"/users/:id/public_profile",thoughtLeaders:"/users/thought_leaders",privacySettings:"/privacy_settings",ask:"/ask",rewards:"/referrals",rewardRedemption:"/rewards_redemption",learnAndEarn:"/learn-and-earn",learnAndEarnProgress:"/learn-and-earn-progress",learnAndEarnMoreInfo:"/learn-and-earn-more-info",selectAccountType:"/account_type",investingExperience:"/investing_experience",subscriptions:"/subscriptions",membership:"/membership",portfolioExplorer:"/ideas/portfolio_explorer",popularStocks:"/ideas/community",inviteFriendsFromPlatform:"/invites/provider",inviteFriendsFromPlatformSuccess:"/invites/:network/contact_callback",inviteFriendsFromPlatformFailure:"/invites/:network/contact_failure",inviteContactsFailure:"/contacts/failure",legal:"/legal",faq:"/faq",marginDisclosure:"/margin_disclosure",privacyPolicy:"/privacy_policy",tos:"/terms_of_service",tosNvstrFinancial:"/terms_of_service_nvstr_financial",tosNvstrTechnologies:"/terms_of_service_nvstr_technologies",referralRules:"/referral_rules",viewpointGuidelines:"/viewpoint_guidelines",shareLink:"/share/:token",eDocuments:"/documents",dashboard:"/",finishAccountSetup:"/finish-account-setup"},Oe="mobileApp",Le="webApp",Re="Account Type Selected",Fe="Complete Apex Account",Me="Bank Link Skipped",Ue="Button Clicked",$e="Feed Loaded",Be="Idea Viewed",ze="Modal Viewed",Ve="Onboarding Completed",He="Onboarding Funding Skipped",We="Pro/Con Viewed",je="Tab Viewed",Ge="Page Viewed",qe="Learn and Earn Lesson Viewed",Ye="Learn and Earn Reward Viewed",Ke="Learn and Earn Disclaimer Viewed",Qe="Security Viewed",Ze="string",Xe="number",Je="boolean",et="object";class tt{constructor(e,t,n={}){Ne(this,"schema",{}),Ne(this,"isRequired",!1),this.schema=Te({type:e},n),this.isRequired=t}}class nt extends tt{constructor(e,t={}){super(Ze,e,t)}}class rt{constructor(e={},t={}){Ne(this,"schema",{}),this.schema=Ie(Te({type:et,properties:Object.entries(e).reduce(((e,t)=>Ie(Te({},e),{[t[0]]:t[1].schema})),{})},t),{required:Object.entries(e).filter((([e,t])=>t.isRequired)).map((([e])=>e))})}}const it=e=>Object.values(e),at={live:"live",simulated:"simulated"},st=it(at),ot={button:"button",link:"link"},lt=it(ot),ct={body:"body",footer:"footer",header:"header"},dt=it(ct),ut={android:"android",ios:"ios",web:"web"},ht=it(ut),pt={buy:"buy",sell:"sell"},mt=it(pt),gt={con:"con",pro:"pro"},yt=it(gt);var _t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getEnumAsArray:it,account_types:at,account_types_enum:st,button_types:ot,button_types_enum:lt,node_location:ct,node_location_enum:dt,platform:ut,platform_enum:ht,idea_types:pt,idea_types_enum:mt,pro_or_con:gt,pro_or_con_enum:yt});const{account_types_enum:ft,button_types_enum:vt,node_location_enum:Et,platform_enum:bt,idea_types_enum:Ct,pro_or_con_enum:xt}=_t;new rt({},{additionalProperties:!0}).schema,new rt({account_type:new nt(!0,{enum:ft})},{additionalProperties:!1}).schema,new rt({button_type:new nt(!0,{enum:vt}),context:new nt(!0),description:new nt(!0),position:new nt(!0,{enum:Et}),platform:new nt(!0,{enum:bt})},{additionalProperties:!1}).schema,new rt({item_count:new class extends tt{constructor(e,t={}){super(Xe,e,t)}}(!0)}).schema,new rt({context:new nt(!0),idea_type:new nt(!0,{enum:Ct}),ticker_symbol:new nt(!0)},{additionalProperties:!1}).schema,new rt({context:new nt(!0),is_error:new class extends tt{constructor(e,t={}){super(Je,e,t)}}(!0),message:new nt(!0),modal_type:new nt(!0)},{additionalProperties:!1}).schema,new rt({location:new nt(!0)}),new rt({context:new nt(!0),pro_or_con:new nt(!0,{enum:xt}),ticker_symbol:new nt(!0)},{additionalProperties:!1}).schema,new rt({context:new nt(!0),platform:new nt(!0,{enum:bt}),position:new nt(!0,{enum:Et}),description:new nt(!0)},{additionalProperties:!1}).schema;const wt="Featured Viewpoints",St="Socure Document Upload",kt="Address Resubmit",Tt="Onboarding Almost There",It="Enter Name",Nt="Enter Contact Address",At="Enter Phone Number",Pt="Agreements",Dt="Disclosures",Ot="Identity",Lt="Enter Date of Birth",Rt="Enter Citizenship",Ft="Investor Profile",Mt="Account Type Selection",Ut="Investing Experience Select",$t="Default Expected Return Select",Bt="Link Bank Account Method Selection",zt="Link Bank Account Plaid",Vt="Link Bank Account Micro",Ht="Interests Selection",Wt="Interests Watchlist",jt="Funding Transfer (Onboarding)",Gt="Enter SSN",qt="Select Privacy Setting",Yt="Redeem Rewards";const Kt=new class{constructor(){Ne(this,"addTrackedRoute",(e=>{if(!e._instance_trackedRoute)throw Error;this.trackedRoutes.push(e)})),Ne(this,"getTrackingNameForWebappRoute",(e=>{const t=this._buildWebappTrackedRoutesLookup();if(t[e])return t[e].trackingRouteName;const n=e.split("/");if(1===n.length)return null;n[n.length-1]="*";const r=n.join("/");if(t[r])return t[r].trackingRouteName;if(2===n.length)return null;n[n.length-2]="*";const i=n.join("/");if(t[i])return t[i].trackingRouteName;const a=e.split("/");a[n.length-2]="*";const s=a.join("/");return t[s]?t[s].trackingRouteName:null})),Ne(this,"getTrackingNameForAppRoute",(e=>{const t=this.trackedRoutes.filter((t=>t.appRouteName===e));t.length>1&&console.warn("multiple matched routes");const n=t[0];return(null==n?void 0:n.trackingRouteName)||null})),Ne(this,"getTrackingNameForRoute",((e,t)=>t===Oe?this.getTrackingNameForAppRoute(e):t===Le?this.getTrackingNameForWebappRoute(e):void 0)),Ne(this,"_buildWebappTrackedRoutesLookup",(()=>{const e=[];this.trackedRoutes.forEach((t=>{null!==t.urlPathName&&e.push(t)}));const t={};return e.forEach((e=>{var n;t[(n=e.urlPathName,n.split("/").map((e=>":"===e[0]?"*":e)).join("/"))]=e})),t})),Ne(this,"_scanForMissingWebappRoutes",(()=>{const e=[],{routes:t,duplicatedRoutes:n}=this._getAllWebappTrackedRoutes();return Object.entries(De).forEach((n=>{const[r,i]=n;t.includes(i)||e.push({routeName:r,route:i})})),{missingRoutes:e,duplicatedRoutes:n}})),Ne(this,"_scanForMissingAppRoutes",(()=>{const e=[],{routes:t,duplicatedRoutes:n}=this._getAllAppTrackedRoutes();return Object.entries(Pe).forEach((n=>{const[r,i]=n;t.includes(i)||e.push({routeName:r,route:i})})),{missingRoutes:e,duplicatedRoutes:n}})),Ne(this,"_getAllAppTrackedRoutes",(()=>{const e=[],t=[];return this.trackedRoutes.forEach((n=>{const r=n.appRouteName;null!==r&&(e.includes(r)?t.push(r):e.push(r))})),{routes:e,duplicatedRoutes:t}})),Ne(this,"_getAllWebappTrackedRoutes",(()=>{const e=[],t=[];return this.trackedRoutes.forEach((n=>{const r=n.urlPathName;null!==r&&(e.includes(r)?t.push(r):e.push(r))})),{routes:e,duplicatedRoutes:t}})),this.trackedRoutes=[]}};Kt.addTrackedRoute(new Ae(De.security,Pe.SECURITY_PAGE,"Security")),Kt.addTrackedRoute(new Ae(De.thoughtWithSlug,null,"Thought")),Kt.addTrackedRoute(new Ae(De.thought,null,"Thought")),Kt.addTrackedRoute(new Ae(null,Pe.VIEWPOINT_EXPLORE,"View All Viewpoints")),Kt.addTrackedRoute(new Ae(De.featuredViewpoints,Pe.VIEWPOINT_WELCOME,"Featured Viewpoints")),Kt.addTrackedRoute(new Ae(De.manageViewpoints,Pe.VIEWPOINT_SUBSCRIPTION_MANAGEMENT,"Viewpoints Management")),Kt.addTrackedRoute(new Ae(De.viewpointProfile,Pe.VIEWPOINT_PROFILE,"Viewpoint Profile")),Kt.addTrackedRoute(new Ae(De.bdTerms,null,"BD Terms")),Kt.addTrackedRoute(new Ae(De.socureDocSubmission,Pe.LIVE_ACCOUNT_FURTHER_DOCUMENTATION_ENTRY,"Socure Document Upload")),Kt.addTrackedRoute(new Ae(null,Pe.ONBOARDING_CONTACT_RESUBMIT,"Address Resubmit")),Kt.addTrackedRoute(new Ae(De.resubmitAddress,Pe.CONTACT_RESUBMIT,"Address Resubmit")),Kt.addTrackedRoute(new Ae(De.uploadDocuments,null,"Upload Documents")),Kt.addTrackedRoute(new Ae(De.onboardingUploadDocuments,null,"Upload Documents (Onboarding)")),Kt.addTrackedRoute(new Ae(De.liveAccountSubmitConfirmation,Pe.LIVE_ACCOUNT_SUBMITTED,"Live Account Submit Confirmation")),Kt.addTrackedRoute(new Ae(De.onboardingAlmostThere,Pe.ONBOARDING_ALMOST_THERE,"Onboarding Almost There")),Kt.addTrackedRoute(new Ae(null,Pe.ONBOARDING_FUNDING,"Funding")),Kt.addTrackedRoute(new Ae(null,Pe.ENTER_NAME,"Enter Name")),Kt.addTrackedRoute(new Ae(null,Pe.ENTER_ADDRESS,"Enter Contact Address")),Kt.addTrackedRoute(new Ae(null,Pe.ENTER_PHONE,"Enter Phone Number")),Kt.addTrackedRoute(new Ae(De.agreements,Pe.AGREEMENTS,"Agreements")),Kt.addTrackedRoute(new Ae(De.disclosures,Pe.DISCLOSURES,"Disclosures")),Kt.addTrackedRoute(new Ae(De.disclosuresEmployment,Pe.DISCLOSURES_EMPLOYMENT,"Disclosures Employment")),Kt.addTrackedRoute(new Ae(De.identity,Pe.IDENTITY,"Identity")),Kt.addTrackedRoute(new Ae(null,Pe.ENTER_DATE_OF_BIRTH,"Enter Date of Birth")),Kt.addTrackedRoute(new Ae(De.contact,null,"Contact")),Kt.addTrackedRoute(new Ae(De.investorProfile,Pe.INVESTOR_PROFILE,"Investor Profile")),Kt.addTrackedRoute(new Ae(De.onboardResumeProgress,Pe.START_ONBOARDING,"Resume Onboarding")),Kt.addTrackedRoute(new Ae(De.selectAccountType,Pe.ONBOARDING_ACCOUNT_SELECTION,"Account Type Selection")),Kt.addTrackedRoute(new Ae(De.investingExperience,Pe.LT_INVESTING_EXPERIENCE,"Investing Experience Select")),Kt.addTrackedRoute(new Ae(null,Pe.PT_INVESTING_EXPERIENCE,"Investing Experience Select")),Kt.addTrackedRoute(new Ae(null,Pe.LT_DEFAULT_EXPECTED_RETURN,"Default Expected Return Select")),Kt.addTrackedRoute(new Ae(null,Pe.PT_DEFAULT_EXPECTED_RETURN,"Default Expected Return Select")),Kt.addTrackedRoute(new Ae(null,Pe.START_PAPER_TRADING_SIGN_UP,"Start Paper Trading Signup")),Kt.addTrackedRoute(new Ae(null,Pe.CLOSED_ACCOUNT,"Closed Account")),Kt.addTrackedRoute(new Ae(null,Pe.SEARCH,"Search")),Kt.addTrackedRoute(new Ae(null,Pe.EXPLORE,"Explore")),Kt.addTrackedRoute(new Ae(null,Pe.FILTERED_SECURITY_LIST,"Filtered Security List")),Kt.addTrackedRoute(new Ae(null,Pe.SECURITY_LIVE_PRICING,"Security Live Pricing")),Kt.addTrackedRoute(new Ae(null,Pe.CREATE_ORDER,"Create Trade")),Kt.addTrackedRoute(new Ae(null,Pe.CREATE_THOUGHT,"Create Thought")),Kt.addTrackedRoute(new Ae(null,Pe.CONTACTS_IMPORT,"Contacts Import")),Kt.addTrackedRoute(new Ae(null,Pe.COMMUNITY_SEARCH,"Community Search")),Kt.addTrackedRoute(new Ae(null,Pe.CONNECTIONS_LIST,"Connections List")),Kt.addTrackedRoute(new Ae(null,Pe.ACCOUNT,"Account Settings")),Kt.addTrackedRoute(new Ae(null,Pe.USER_SETTINGS,"User Settings")),Kt.addTrackedRoute(new Ae(De.legal,Pe.LEGAL,"Legal Links")),Kt.addTrackedRoute(new Ae(null,Pe.SUPPORT,"Support")),Kt.addTrackedRoute(new Ae(null,Pe.CREATE_SUPPORT_REQUEST,"Create Support Request")),Kt.addTrackedRoute(new Ae(null,Pe.CHANGE_EMAIL,"Change Email")),Kt.addTrackedRoute(new Ae(null,Pe.CHANGE_PASSWORD,"Change Password")),Kt.addTrackedRoute(new Ae(null,Pe.UPDATE_PREFERENCES,"Update Preferences")),Kt.addTrackedRoute(new Ae(null,Pe.UPDATE_LIVE_ACCOUNT,"Update Live Account")),Kt.addTrackedRoute(new Ae(null,Pe.UPDATE_LIVE_ACCOUNT_FORM,"Update Live Account Form")),Kt.addTrackedRoute(new Ae(null,Pe.IOS_DROPDOWN_MODAL,"IOS Dropdown Modal")),Kt.addTrackedRoute(new Ae(null,Pe.SELECT_SINGLE_FORM_OF_CONTACT,"Select Single Form Of Contact Modal")),Kt.addTrackedRoute(new Ae(null,Pe.SHARE_LEARN_MODAL,"Share Learn Modal")),Kt.addTrackedRoute(new Ae(null,Pe.ONBOARDING_WELCOME_VIDEO,"Onboarding Welcome Video Modal")),Kt.addTrackedRoute(new Ae(null,Pe.PROMPT_ENABLE_PUSH_NOTIFICATIONS,"Prompt Enable Push Notifications Modal")),Kt.addTrackedRoute(new Ae(De.linkBank,Pe.LINK_BANK_ACCOUNT,"Link Bank Account Method Selection")),Kt.addTrackedRoute(new Ae(null,Pe.LINK_BANK_ACCOUNT_PLAID,"Link Bank Account Plaid")),Kt.addTrackedRoute(new Ae(null,Pe.LINK_BANK_ACCOUNT_MICRO,"Link Bank Account Micro")),Kt.addTrackedRoute(new Ae(null,Pe.VERIFY_BANK_ACCOUNT,"Verify Bank Account")),Kt.addTrackedRoute(new Ae(null,Pe.FUNDING_MODAL,"Funding Modal")),Kt.addTrackedRoute(new Ae(De.recurringDeposits,Pe.MANAGE_RECURRING_DEPOSITS,"Manage Recurring Deposits")),Kt.addTrackedRoute(new Ae(De.createRecurringDeposits,Pe.CREATE_RECURRING_DEPOSITS,"Create Recurring Deposits")),Kt.addTrackedRoute(new Ae(null,Pe.MANAGE_BANK_ACCOUNTS,"Manage Bank Account")),Kt.addTrackedRoute(new Ae(null,Pe.BANK_TRANSFER_HISTORY,"Bank Transfer History")),Kt.addTrackedRoute(new Ae(null,Pe.DEPOSIT_EXECUTION,"Deposit Execution")),Kt.addTrackedRoute(new Ae(null,Pe.INTERESTS_SELECTION,"Interests Selection")),Kt.addTrackedRoute(new Ae(null,Pe.INTEREST_WATCHLIST,"Interests Watchlist")),Kt.addTrackedRoute(new Ae(null,Pe.PROMPT_PICK_OWN_STOCKS,"Pick Own Stocks Prompt")),Kt.addTrackedRoute(new Ae(null,Pe.CTL_RESPONSE,"CTL Response")),Kt.addTrackedRoute(new Ae(null,Pe.TRENDING_STOCKS,"Trending Stocks")),Kt.addTrackedRoute(new Ae(null,Pe.GETTING_REWARDS_INTERSTITIAL,"Fetching Rewards")),Kt.addTrackedRoute(new Ae(null,Pe.UPCOMING_EARNINGS,"Upcoming Earnings")),Kt.addTrackedRoute(new Ae(null,Pe.THOUGHTS_LIST,"Thought List")),Kt.addTrackedRoute(new Ae(null,Pe.AUDIO_LIBRARY,"Audio Library")),Kt.addTrackedRoute(new Ae(null,Pe.INVESTING_JOURNEY,"Investing Journey")),Kt.addTrackedRoute(new Ae(null,Pe.NEWS_ARTICLE,"News Article")),Kt.addTrackedRoute(new Ae(null,Pe.SITE_DISCLOSURES,"Site Disclosures")),Kt.addTrackedRoute(new Ae(null,Pe.PUSH_NOTIFICATION_DETAIL,"Push Notification Detail")),Kt.addTrackedRoute(new Ae(De.dashboard,null,"Webapp Dashboard")),Kt.addTrackedRoute(new Ae(De.portfolio,Pe.DASHBOARD,"Portfolio")),Kt.addTrackedRoute(new Ae(null,Pe.ACTIVITY_FEED,"Activity Feed")),Kt.addTrackedRoute(new Ae(De.trade,Pe.TRADE,"Trade")),Kt.addTrackedRoute(new Ae(De.portfolioFunding,Pe.FUNDING,"Funding")),Kt.addTrackedRoute(new Ae(De.funding,null,"Funding")),Kt.addTrackedRoute(new Ae(De.withdrawFunds,Pe.FUNDING_WITHDRAWAL,"Funding Transfer - Withdrawal")),Kt.addTrackedRoute(new Ae(De.depositFunds,Pe.FUNDING_DEPOSIT,"Funding Transfer - Deposit")),Kt.addTrackedRoute(new Ae(null,Pe.PAPER_FUNDING_TRANSFERS,"Funding Transfer")),Kt.addTrackedRoute(new Ae(null,Pe.LT_FUNDING_DEPOSIT,"Funding Transfer (Onboarding)")),Kt.addTrackedRoute(new Ae(De.myIdeas,null,"My Ideas")),Kt.addTrackedRoute(new Ae(De.connections,Pe.COMMUNITY,"Community")),Kt.addTrackedRoute(new Ae(De.portfolioHistory,Pe.ACCOUNT_TRANSACTION_HISTORY,"Account History")),Kt.addTrackedRoute(new Ae(De.eDocuments,null,"E Documents")),Kt.addTrackedRoute(new Ae(De.usersSignup,null,"Signup")),Kt.addTrackedRoute(new Ae(null,Pe.SPLASH,"Splash")),Kt.addTrackedRoute(new Ae(De.login,Pe.SPLASH_SIGN_IN,"Login")),Kt.addTrackedRoute(new Ae(De.signup,Pe.SPLASH_SIGN_UP,"Signup")),Kt.addTrackedRoute(new Ae(De.editProfile,Pe.EDIT_USER_PROFILE,"Edit User Profile")),Kt.addTrackedRoute(new Ae(De.privacySettings,Pe.PRIVACY_SETTING_SELECT,"Select Privacy Setting")),Kt.addTrackedRoute(new Ae(De.userProfile,Pe.USER_PROFILE,"User Profile")),Kt.addTrackedRoute(new Ae(De.thoughtLeaders,null,"Thought Leaders")),Kt.addTrackedRoute(new Ae(De.ask,Pe.CREATE_SHARE,"Create Ask")),Kt.addTrackedRoute(new Ae(De.inviteFriends,Pe.REFERRAL_ACTIONS,"All Referral Actions")),Kt.addTrackedRoute(new Ae(De.rewards,Pe.REWARDS,"Rewards")),Kt.addTrackedRoute(new Ae(De.rewardRedemption,Pe.REDEEM_REWARDS,"Redeem Rewards")),Kt.addTrackedRoute(new Ae(null,Pe.LT_REDEEM_REWARDS,"Redeem Rewards")),Kt.addTrackedRoute(new Ae(De.learnAndEarn,Pe.LEARN,"Learn and Earn Lesson")),Kt.addTrackedRoute(new Ae(De.learnAndEarnProgress,Pe.LEARN_LESSONS_COMPLETED,"Learn and Earn Progress")),Kt.addTrackedRoute(new Ae(De.learnAndEarnMoreInfo,Pe.LEARN_DISCLAIMERS,"Learn and Earn More Info")),Kt.addTrackedRoute(new Ae(null,Pe.LEARN_REWARD_EARNED,"Learn and Earn Reward Earned")),Kt.addTrackedRoute(new Ae(null,Pe.LEARN_HOME,"Learn and Earn Home")),Kt.addTrackedRoute(new Ae(null,Pe.ANNUAL_MEMBERSHIP_ACCOUNT_OPT_IN,"Annual Membership Opt-in")),Kt.addTrackedRoute(new Ae(De.portfolioExplorer,null,"Portfolio Explorer")),Kt.addTrackedRoute(new Ae(De.popularStocks,null,"Popular Stocks")),Kt.addTrackedRoute(new Ae(De.subscriptions,null,"Subscriptions Payment")),Kt.addTrackedRoute(new Ae(De.membership,null,"Membership Payment")),Kt.addTrackedRoute(new Ae(De.inviteFriendsFromPlatform,null,"Invite Friends From Platform")),Kt.addTrackedRoute(new Ae(De.inviteFriendsFromPlatformSuccess,null,"Invite Friends From Platform - Success")),Kt.addTrackedRoute(new Ae(De.inviteFriendsFromPlatformFailure,null,"Invite Friends From Platform - Failure")),Kt.addTrackedRoute(new Ae(De.inviteContactsFailure,null,"Contact Import Failure")),Kt.addTrackedRoute(new Ae(De.faq,null,"FAQ")),Kt.addTrackedRoute(new Ae(De.marginDisclosure,null,"Margin Disclosure")),Kt.addTrackedRoute(new Ae(De.privacyPolicy,null,"Privacy Policy")),Kt.addTrackedRoute(new Ae(De.tos,null,"Terms of Service")),Kt.addTrackedRoute(new Ae(De.tosNvstrFinancial,null,"Terms of Service - Nvstr Financial")),Kt.addTrackedRoute(new Ae(De.tosNvstrTechnologies,null,"Terms of Service - Nvstr Technologies")),Kt.addTrackedRoute(new Ae(De.referralRules,null,"Referral Rules")),Kt.addTrackedRoute(new Ae(De.viewpointGuidelines,null,"Viewpoint Contributor Guidelines")),Kt.addTrackedRoute(new Ae(De.shareLink,null,"Share Link Visited (Already Logged In)")),Kt.addTrackedRoute(new Ae(null,Pe.DEV_TOOLS,"Dev Tools")),Kt.addTrackedRoute(new Ae(null,Pe.DEV,"Dev")),Kt.addTrackedRoute(new Ae(null,Pe.AUTHED_APP_INITIALIZATION,"App Loading")),Kt.addTrackedRoute(new Ae(null,Pe.START_LIVE_TRADING_SIGN_UP,"Start Live Trading")),Kt.addTrackedRoute(new Ae(null,Pe.PROMO_REDEMPTION_SUCCESS,"Promo Redemption Success")),Kt.addTrackedRoute(new Ae(null,Pe.VIEWPOINT_SUBSCRIPTION_SUCCESS,"Viewpoint Subscription Success")),Kt.addTrackedRoute(new Ae(De.finishAccountSetup,Pe.FINISH_ACCOUNT_SETUP,"Finish Account Setup"));const Qt=Kt,Zt={root:()=>"/",home:()=>"/",faq:()=>"/faq",dashboard:()=>"/",dashboardPositions:()=>"/?tab=positions",dashboardWithOptimizer:()=>"/?auto_expand=optimizer",onboardingDashboardWithOptimizer:()=>"/?queue_auto_expand=optimizer",dashboardWithRebalancer:()=>"/?auto_expand=rebalancer",onboardingDashboardWithRebalancer:()=>"/?queue_auto_expand=rebalancer",accountType:()=>"/account_type",activity:()=>"/notifications",connections:()=>"/users/connections",feed:()=>"/?tab=feed",funding:()=>"/portfolio/funding",history:()=>"/portfolio/history",investingExperience:()=>"/investing_experience",importConnections:()=>"/invites/provider",importResults:e=>`/invites/${e}/contact_callback`,importResultsGmail:()=>"/invites/gmail/contact_callback",importResultsFacebook:()=>"/invites/facebook/contact_callback",notifications:()=>"/notifications",onboardingStart:()=>"/onboard",orders:()=>"/orders",portfolioExplorer:()=>"/ideas/portfolio_explorer",portfolioAnalysis:()=>"/portfolio",positions:()=>"/portfolio",profile:e=>`/users/${e}/public_profile`,viewpoint_profile:e=>`/viewpoint_contributors/${Dk(e)}`,referrals:()=>"/referrals",registerLiveAccountFormStart:()=>"/live_accounts/new",rewards:()=>"/referrals",rewardRedemption:()=>"/rewards_redemption",securitiesPage:(e,t)=>`/securities/${e}${t||""}`,trade:()=>"/orders",referralRules:()=>"/referral_rules",viewpointGuidelines:()=>"/viewpoint_guidelines",subscriptions:()=>"/subscriptions",membership:()=>"/membership",get registerLiveAccount(){return this.accountType}},Xt=De,Jt={build:()=>"/signup"},en={build:()=>"/"},tn={build:()=>"/finish-account-setup"},nn={build:()=>"/upload-required-documents"},rn={build:()=>"/portfolio"},an={build:()=>"/get-started"},sn={build:()=>"/documents"},on={build:()=>"/orders"},ln={build:()=>"/orders?oo=1"},cn={build:(e,t,n)=>{if(t===encodeURIComponent(t)&&t.indexOf(".")<0)return e?`/${e}/${t}`:`/order/${t}`;{let t=`?sid=${n}`;return e&&(t+=`&tt=${e}`),"/order"+t}}},dn={build:(e,t,n)=>{if(e)return`/orders/options?securityId=${e}`;if(t)return`/orders/options?orderId=${t}`;if(n){return`/orders/options${ve(n)}`}}},un={build:()=>"/live_accounts/new"},hn={build:()=>"/privacy_settings"},pn={build:()=>"/referrals"},mn={build:()=>"https://tornado.com/referral_rules"},gn={build:()=>"/rewards_redemption"},yn={build:()=>"/referrals"},_n={build:()=>"/funding/recurring-deposits"},fn={build:()=>"/funding/deposit"},vn={build:()=>"/funding/withdraw"},En={build:()=>"/funding/link-bank"},bn={build:()=>"/funding/verify-bank-account"},Cn={build:()=>"/live-account-submission-status"},xn={build:()=>"/upload-required-documents"},wn={build:()=>"/resubmit-address"},Sn={build:()=>"/funding"},kn={build:()=>"/viewpoint_contributors/featured"},Tn={build:()=>"/ideas/explore"},In={build:()=>"/viewpoint_contributors/manage"},Nn={build:e=>`/viewpoint_contributors/${Dk(e)}`},An={build:e=>`/learn-and-earn?lesson=${e}`},Pn={build:()=>"/learn-and-earn"},Dn={build:()=>"/learn-and-earn-home"},On={build:()=>"/learn-and-earn-progress"},Ln=(e,t,n)=>{const r=Zt[e];return r||Uk(`Path to page not found, received ${e}`),r(t,n)};var Rn=Object.defineProperty,Fn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Un=Object.getOwnPropertySymbols,$n=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,zn=(e,t,n)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vn=(e,t)=>{for(var n in t||(t={}))$n.call(t,n)&&zn(e,n,t[n]);if(Un)for(var n of Un(t))Bn.call(t,n)&&zn(e,n,t[n]);return e},Hn=(e,t)=>Fn(e,Mn(t));const Wn=d`
  padding: ${e=>e.padding};
`,jn=d`
  margin: ${e=>e.margin};
`,Gn=d`
  z-index: ${e=>e.zIndex?e.zIndex:1};
`,qn=d`
  position: ${e=>e.position};
`,Yn=d`
  overflow: ${e=>e.overflow};
`,Kn=d`
  border: ${e=>e.border};
`,Qn=d`
  border-style: ${e=>e.borderStyle};
`,Zn=d`
  word-break: ${e=>e.wordBreak};
`,Xn=d`
  transition: ${e=>e.transition};
`,Jn=d`
  cursor: ${e=>e.cursor};
`,er=d`
  max-width: ${e=>e.maxWidth};
`,tr=d`
  max-height: ${e=>e.maxHeight};
`,nr=d`
  flex-shrink: ${e=>e.shrink};
`,rr=d`
  flex-wrap: ${e=>e.wrap};
`,ir=d`
  line-height: ${e=>e.lineHeight||"160%"};
`,ar=d`
  letter-spacing: ${e=>e.letterSpacing};
`,sr=d`
  font-size: ${e=>e.fontSize};
`,or=d`
  color: ${e=>e.color};
`,lr=d`
  font-weight: ${e=>e.fontWeight};
`,cr=d`
  text-align: ${e=>e.align||e.textAlign};
`,dr=d`
  text-transform: ${e=>e.textTransform};
`,ur=d`
  font-style: ${e=>e.fontStyle};
`,hr=d`
  font-family: ${e=>e.fontFamily};
`,pr=d`
  user-select: ${e=>e.userSelect};
`,mr=d`
  background: ${e=>e.background};
`,gr=d`
  left: ${e=>e.left};
`,yr=d`
  top: ${e=>e.top};
`,_r=d`
  opacity: ${e=>e.opacity};
`,fr={LineHeight:ir,LetterSpacing:ar,FontSize:sr,FontWeight:lr,FontFamily:hr,FontStyle:ur,Opacity:_r,Color:or,TextAlign:cr,TextTransform:dr,UserSelect:pr,Padding:Wn,Margin:jn,Cursor:Jn},vr={primary:{charcoal:"#2a2b2b",oak:"#F7F4F2"},secondary:{yellow:"#fcfe7d",navy:"#211e2c",black:"#000",blackTransparent:"rgba(30,30,30,0.1)",white:"#fff",whiteTransparent:"rgba(255,255,255,0.3)",cyan:"#9ffbf5",blue:"#0000FF",streetBlue:"#1674b1",streetGreen:"#080",streetRed:"#ff0000",lightBlue:"#7AC9EA",purple:"#6d56fb",promoPurple:"#5937f9",darkPurple:"#201F2C",lavender:"#dcdbff",red:"#f5665d",green:"#7ecb00",brightGreen:"#1AD36F",brightRed:"#FF5000",darkRed:"#bc332c",darkGreen:"#5a7a00",silver:"#c0c0c0",lightCharcoal:"#343434",orange:"rgb(255,156,34)",cream:"#F6F3EF",lighterGrey:"rgb(235,235,235)",osGrey:"rgb(218,224,227)",cloud:"#777777",darkCloud:"#474747",lightCloud:"#f6f7f7"},element:{borderLight:"rgba(31,31,31, 0.05)",borderDark:"rgba(247,244,242, 0.05)"}},Er={light:"muted-light-color-scheme",dark:"dark-color-scheme",theStreet:"the-street-color-scheme"},br=(e,t)=>{let n;return!!/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)&&(n=e.substring(1).split(""),3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),`rgba(${[n>>16&255,n>>8&255,255&n].join(",")},${t})`)},{charcoal:Cr,oak:xr}=vr.primary,{white:wr,darkCloud:Sr,lightCloud:kr,cloud:Tr,streetBlue:Ir,streetGreen:Nr,streetRed:Ar,orange:Pr,purple:Dr,lightCharcoal:Or,green:Lr,red:Rr,darkRed:Fr,brightGreen:Mr,yellow:Ur,lightBlue:$r}=vr.secondary,Br={[Er.light]:{header:wr,appBackground:xr,component:br(wr,.9),componentNoOpacity:br(wr,1),disabled:br(Cr,.05),overlay:br(Cr,.6),border:br(Cr,.2),lowContrastBorder:br(Cr,.05),text:Cr,secondaryText:br(Cr,.3),buttonText:wr,proColor:Mr,conColor:Rr,neutral:Or,negative:Rr,positive:Mr,inputBg:"transparent",avatarBackgroundColor:Dr,buttonColor:Dr,primaryCtaButton:Dr,primaryEyeCatchingCtaButton:$r,badge:Dr,error:Rr,warning:Pr,hoverComponentBackground:br(Dr,.1)},[Er.dark]:{header:Cr,appBackground:Cr,component:Or,componentNoOpacity:br(Or,1),disabled:br(wr,.05),overlay:br(xr,.4),border:br(xr,.2),lowContrastBorder:br(xr,.05),text:wr,secondaryText:br(wr,.4),buttonText:Cr,proColor:Mr,conColor:Rr,neutral:wr,negative:Rr,positive:Mr,inputBg:"transparent",badge:Ur,avatarBackgroundColor:Ur,buttonColor:Ur,primaryCtaButton:Ur,primaryEyeCatchingCtaButton:$r,error:Rr,warning:Pr,hoverComponentBackground:br(Ur,.1)},[Er.theStreet]:{header:wr,appBackground:kr,darkerAppBackground:Tr,component:br(wr,.9),componentNoOpacity:br(wr,1),disabled:br(Sr,.05),overlay:br(Sr,.6),border:br(Sr,.2),lowContrastBorder:br(Sr,.05),text:Sr,secondaryText:br(Sr,.6),badge:Ir,proColor:Nr,conColor:Ar,neutral:Tr,negative:Ar,warning:Pr,positive:Nr,avatarBackgroundColor:Ir,inputBg:"transparent",buttonColor:Ir,primaryCtaButton:Ir,buttonText:wr,primaryEyeCatchingCtaButton:Ir,error:Ar,hoverComponentBackground:br(Ir,.5)}},zr={mobile:"768px",table:"1024px",desktop:"1368px"},Vr="mobile",Hr="tablet",Wr="desktop",jr="phone",Gr="dollarAmount",qr="centsAmount",Yr={top:"flex-start",left:"flex-start",right:"flex-end",center:"center",bottom:"flex-end"},Kr=d`
  width: ${e=>e.width};
`,Qr=d`
  height: ${e=>e.height?e.height:"auto"};
`,Zr=d`
  justify-content: ${e=>e.hAlign&&Yr[e.hAlign]?Yr[e.hAlign]:Yr.left};
`,Xr=d`
  align-items: ${e=>e.vAlign&&Yr[e.vAlign]?Yr[e.vAlign]:"stretch"};
`,Jr=u("div")`
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  ${e=>e.shrink?nr:""};
  ${e=>e.wrap?rr:""};

  ${e=>e.width?Kr:""};
  ${e=>e.height?Qr:""};

  ${e=>e.hAlign?Zr:""};
  ${e=>e.vAlign?Xr:""};

  ${e=>e.padding?Wn:""};
  ${e=>e.margin?jn:""};
  ${e=>e.zIndex?Gn:""};
  ${e=>e.position?qn:""};
  ${e=>e.overflow?Yn:""};
  ${e=>e.border?Kn:""};
  ${e=>e.borderStyle?Qn:""};
  ${e=>e.wordbreak?Zn:""};
  ${e=>e.maxWidth?er:""};
  ${e=>e.maxHeight?tr:""};
  ${e=>e.transition?Xn:""};
  ${e=>e.cursor?Jn:""};
  ${e=>e.background?mr:""};

  ${e=>e.left?gr:""};
  ${e=>e.top?yr:""};
`,ei=d`
  flex-basis: ${e=>e.width};
`,ti=d`
  height: ${e=>e.height};
`,ni=d`
  align-items: ${e=>e.hAlign&&Yr[e.hAlign]?Yr[e.hAlign]:"stretch"};
`,ri=d`
  justify-content: ${e=>e.vAlign&&Yr[e.vAlign]?Yr[e.vAlign]:"stretch"};
`,ii=u.div`
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  ${e=>e.shrink?nr:""};
  ${e=>e.wrap?rr:""};

  ${e=>e.width?ei:""};
  ${e=>e.height?ti:""};

  ${e=>e.hAlign?ni:""};
  ${e=>e.vAlign?ri:""};

  ${e=>e.padding?Wn:""};
  ${e=>e.margin?jn:""};
  ${e=>e.zIndex?Gn:""};
  ${e=>e.position?qn:""};
  ${e=>e.overflow?Yn:""};
  ${e=>e.border?Kn:""};
  ${e=>e.borderStyle?Qn:""};
  ${e=>e.wordbreak?Zn:""};
  ${e=>e.maxWidth?er:""};
  ${e=>e.maxHeight?tr:""};
  ${e=>e.transition?Xn:""};
  ${e=>e.cursor?Jn:""};
  ${e=>e.background?mr:""};
  ${e=>e.left?gr:""};
  ${e=>e.top?yr:""};
`,ai=u("div")`
  position: relative;
  top: ${e=>e.top||"auto"};
  bottom: ${e=>e.bottom||"auto"};
  right: ${e=>e.right||"auto"};
  left: ${e=>e.left||"auto"};
  display: ${e=>e.display||"block"};
  height: ${e=>e.height||"auto"};
  width: ${e=>e.width||"auto"};
  ${e=>e.padding?Wn:""};
  ${e=>e.margin?jn:""};
  ${e=>e.zIndex?Gn:""};
  ${e=>e.position?qn:""};
  ${e=>e.overflow?Yn:""};
  ${e=>e.border?Kn:""};
  ${e=>e.wordbreak?Zn:""};
  ${e=>e.maxWidth?er:""};
  ${e=>e.maxHeight?tr:""};
  ${e=>e.transition?Xn:""};
  ${e=>e.cursor?Jn:""};
`,si=u.div`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,oi=({width:e,color:t})=>{const n=e/(13/12);return c.createElement(si,{color:t},c.createElement("svg",{width:e,height:n,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12.3327 1.34163L11.1577 0.166626L6.49935 4.82496L1.84102 0.166626L0.666016 1.34163L5.32435 5.99996L0.666016 10.6583L1.84102 11.8333L6.49935 7.17496L11.1577 11.8333L12.3327 10.6583L7.67435 5.99996L12.3327 1.34163Z"})))},li=h`
  0% {
    transform: translateY(20px);
    opacity: 0;
  }

  100% {
    transform: translateY(0px);
    opacity: 1;
  }
`;u.div`
  margin-top: 50px;

  height: 100vh;

  position: fixed;
  top: 0;
  left: 0;
  right: 0;

  z-index: 101;

  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;

  @media (max-width: 625px) {
    margin-top: 16px;
  }
`,u.div`
  max-width: 570px;
  height: ${({height:e})=>e||"500px"};

  position: relative;
  z-index: 102;

  border-radius: 5px;
  background: ${({isDarkTheme:e})=>e?vr.primary.charcoal:vr.primary.oak};
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  overflow: auto;

  -webkit-animation: ${({isAnimated:e})=>e?d`
          ${li} 150ms ease-in
        `:"unset"};
  -moz-animation: ${({isAnimated:e})=>e?d`
          ${li} 150ms ease-in
        `:"unset"};
  -o-animation: ${({isAnimated:e})=>e?d`
          ${li} 150ms ease-in
        `:"unset"};
  animation: ${({isAnimated:e})=>e?d`
          ${li} 150ms ease-in
        `:"unset"};
`,u.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  border-radius: 2px;
`,u.div`
  position: absolute;
  top: 12px;
  right: 12px;
  cursor: pointer;
`;const ci=h`
  from {
    opacity: 0;
  }

  to {
    opacity: 0.9;
  }
`;u.div`
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  width: 100vw;
  height: 100vh;
  opacity: 0.9;
  background-color: ${({isDarkTheme:e})=>e?vr.primary.charcoal:vr.primary.oak};

  -webkit-animation: ${({isAnimated:e})=>e?d`${ci} 300ms`:"unset"};
  -moz-animation: ${({isAnimated:e})=>e?d`${ci} 300ms`:"unset"};
  -o-animation: ${({isAnimated:e})=>e?d`${ci} 300ms`:"unset"};
  animation: ${({isAnimated:e})=>e?d`${ci} 300ms`:"unset"};
`;const di=u("div")`
  box-sizing: border-box;
  line-height: 160%;
  ${e=>e.lineHeight?ir:""};
  ${e=>e.letterSpacing?ar:""};
  ${e=>e.fontSize?sr:""};
  ${e=>e.fontWeight?lr:""};
  ${e=>e.fontFamily?hr:""};
  ${e=>e.fontStyle?ur:""};
  ${e=>e.color?or:""};
  ${e=>e.opacity?_r:""};

  ${e=>e.textAlign?cr:""};
  ${e=>e.textTransform?dr:""};
  ${e=>e.userSelect?pr:""};

  ${e=>e.padding?Wn:""};
  ${e=>e.margin?jn:""};
  ${e=>e.cursor?Jn:""};
`,ui=u.span`
  box-sizing: border-box;
  line-height: 160%;

  ${e=>e.lineHeight?ir:""};
  ${e=>e.letterSpacing?ar:""};
  ${e=>e.fontSize?sr:""};
  ${e=>e.bold?"font-weight: 800;":e.thin?"font-weight: 100;":e.fontWeight?lr:""};
  ${e=>e.fontStyle?ur:""};

  ${e=>e.opacity?_r:""};

  ${e=>e.textAlign?cr:""};
  ${e=>e.textTransform?dr:""};
  ${e=>e.userSelect?pr:""};
  ${e=>e.cursor?Jn:""};
  ${e=>e.truncate?"display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;":""};

  color: ${({color:e,isLowContrast:t,theme:n})=>t?n.themeColors.secondaryText:e||n.themeColors.text};
  ${e=>e.fontFamily?hr:""};

  //font-family: ${e=>(({bold:e,thin:t,fontFamily:n})=>e?'"Bolton-Bold", Arial':t?'"Bolton-Regular", Arial':n?hr:'"Bolton-Medium", Arial')(e)};
`,hi=e=>{const{isLowContrast:t,isSmall:n,isLarge:r,fontSettings:i,uppercase:a,center:s,bold:o,truncate:l,children:d}=e,u=c.useContext(m),h=(null==u?void 0:u.screenSize)||null,p=i||{small:{},standard:{}},g=!n&&!(h===Vr)||r?p.standard:p.small,y={};return a&&(y.textTransform="uppercase"),s&&(y.textAlign="center"),o?c.createElement(ui,Vn(Vn(Vn({className:"base-text"},g),y),e),c.createElement("b",null,d)):c.createElement(ui,Vn(Vn(Vn({className:"base-text"},g),y),e),d)},pi=u.span`
  * {
    color: ${({value:e,theme:t})=>0===e?t.themeColors.neutral:e>0?t.themeColors.positive:t.themeColors.negative};
  }
`,mi=({value:e,children:t})=>c.createElement(pi,{value:e},t),gi=(e,t)=>({small:e,standard:t}),yi=e=>{const{children:t}=e,n=gi({fontSize:"14px",lineHeight:"20px"},{fontSize:"18px",lineHeight:"24px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},_i=e=>{const{children:t}=e,n=gi({fontSize:"16px",lineHeight:"24px"},{fontSize:"20px",lineHeight:"28px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},fi=e=>{const{children:t}=e,n=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"16px",lineHeight:"24px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},vi=e=>{const{children:t}=e,n=gi({fontSize:"14px",lineHeight:"18px"},{fontSize:"16px",lineHeight:"18px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},Ei=e=>{const{children:t}=e,n=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"14px",lineHeight:"18px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},bi=e=>{const{children:t}=e,n=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},Ci=e=>{const{children:t}=e,n=gi({fontSize:"10px",lineHeight:"14px"},{fontSize:"12px",lineHeight:"14px"});return c.createElement(hi,Vn({fontSettings:n},e),t)},xi=u.h1`
  font-size: inherit;
  line-height: inherit;
`,wi=e=>{const{children:t}=e,n=gi({fontSize:"36px",lineHeight:"40px",textCase:"uppercase"},{fontSize:"64px",lineHeight:"76px",textCase:"uppercase"});return c.createElement(hi,Vn({fontSettings:n},e),c.createElement(xi,null,t))},Si=u.h3`
  font-size: inherit;
  line-height: inherit;
`,ki=e=>{const{children:t}=e,n=gi({fontSize:"24px",lineHeight:"36px",textCase:"uppercase"},{fontSize:"36px",lineHeight:"68px",textCase:"uppercase"});return c.createElement(hi,Vn({fontSettings:n},e),c.createElement(Si,null,t))},Ti=u.h5`
  font-size: inherit;
  line-height: inherit;
`,Ii=e=>{const{children:t}=e,n=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"36px"});return c.createElement(hi,Vn({fontSettings:n},e),c.createElement(Ti,null,t))},Ni=d`
  svg {
    width: 150px;
  }
`,Ai=u.div`
  ${e=>e.isSmall?Ni:""};
  g {
    fill: ${e=>e.isDarkMode?"#fff":"#222"};
  }
`;function Pi({isDarkMode:e,isSmall:t}){return c.createElement(Ai,{isDarkMode:e,isSmall:t},c.createElement("svg",{width:184,height:21,viewBox:"0 0 184 21",className:"full-logo-tornado"},c.createElement("g",{fill:"#1F1F1F",fillRule:"nonzero"},c.createElement("path",{d:"M45.674 4.201v16.542h-4.55V4.201h-8.723V0h21.982v4.201h-8.71zm29.118 7.304v.153c0 5.732-3.2 9.21-10.838 9.21-7.638 0-10.865-3.492-10.865-9.21v-.153c0-5.731 3.227-9.21 10.865-9.21 7.624 0 10.838 3.492 10.838 9.21zm-4.591.126v-.098c0-3.812-1.934-5.133-6.26-5.133-4.327 0-6.261 1.321-6.261 5.133v.098c0 3.812 1.934 5.133 6.26 5.133 4.327.014 6.26-1.307 6.26-5.133zm18.587-9.335c.64 0 .946.027 1.35.125v4.535c-3.103-.71-8.404-.556-8.404 2.337v11.45h-4.577V2.421h4.577v6.024c0-3.144 1.837-6.15 7.054-6.15zm8.25 5.954c0-3.005 1.836-5.954 7.331-5.954 5.273 0 8.348 2.518 8.348 7.373v11.074h-4.578V10.24c0-2.393-1.502-3.965-5.467-3.965-2.727 0-5.62.557-5.62 2.825v11.658h-4.578V2.421h4.577V8.25h-.014zm23.205.96h-4.633v-.098c0-4.354 3.59-6.816 9.642-6.816 6.775 0 9.766 2.03 9.766 6.942v11.505h-4.549v-4.535c0 1.878-1.962 4.66-7.61 4.66-5.217 0-8.097-1.224-8.097-4.813v-.223c0-5.398 6.97-5.273 15.707-6.51v-.029c0-2.142-1.113-3.158-5.398-3.158-3.534 0-4.842 1.016-4.842 3.005v.07h.014zm3.13 8.653c3.618 0 7.096-.375 7.096-2.462v-2.616c-8.473.946-11.116 1.405-11.116 3.033v.098c0 1.21.974 1.947 4.02 1.947zM154.606 0h4.55v20.743h-4.55V15.61c0 2.337-1.934 5.272-7.665 5.272-6.776 0-9.516-3.687-9.516-9.238v-.097c0-5.55 2.754-9.238 9.516-9.238 5.731 0 7.665 2.922 7.665 5.273V0zm-6.218 6.135c-4.272 0-6.386 1.35-6.386 5.398v.098c0 4.048 2.114 5.398 6.386 5.398 3.255 0 6.204-.46 6.204-2.296V8.417c.014-1.823-2.949-2.282-6.204-2.282zm34.85 5.37v.153c0 5.732-3.2 9.21-10.838 9.21-7.638 0-10.865-3.492-10.865-9.21v-.153c0-5.731 3.227-9.21 10.865-9.21 7.624 0 10.838 3.492 10.838 9.21zm-4.591.126v-.098c0-3.812-1.934-5.133-6.261-5.133s-6.26 1.321-6.26 5.133v.098c0 3.812 1.933 5.133 6.26 5.133 4.327.014 6.261-1.307 6.261-5.133zM14.872 20.743c-.139-.556-.626-1.071-1.21-1.725-1.586-1.753-3.604-6.233 1.655-9.057C19.964 7.471 24.792 4.438 26.628 0H11.756c.139.556.626 1.071 1.21 1.725 1.586 1.753 3.604 6.233-1.655 9.057C6.664 13.272 1.822 16.305 0 20.743h14.872z"}))))}const Di=u.div`
  g {
    fill: ${e=>e.isDarkMode?"#fff":"black"};
  }

  @media (prefers-color-scheme: dark) {
    g {
      fill: #fff;
    }
  }
`;function Oi({isDarkMode:e,height:t,width:n}){return c.createElement(Di,{isDarkMode:e},c.createElement("svg",{width:n,height:t,viewBox:"0 0 59 51"},c.createElement("g",null,c.createElement("path",{d:"M31.3589 51C31.0356 49.6297 29.8906 48.3508 28.5032 46.7457C24.7719 42.4522 20.0169 31.4378 32.4096 24.4821C43.3205 18.3485 54.6895 10.8969 59 0L27.6546 0C27.9779 1.37027 29.1228 2.64918 30.5103 4.25435C34.2416 8.54785 38.9966 19.5622 26.6039 26.5179C15.6795 32.6515 4.3105 40.1031 0 51L31.3589 51Z"}))))}const Li=u.div`
  box-sizing: border-box;
  display: inline-block;
  vertical-align: middle;
  overflow: visible;
  margin: 12px 24px;
  width: 60px;
  height: 60px;
  & > svg {
    width: 45px;
    height: 45px;
  }

  & > svg {
    display: block;
    overflow: visible;
    animation-name: spin-cycle;
  }

  @keyframes spin-cycle {
    from {
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
      transform: scale(1);
    }
    to {
      fill: rgba(255, 255, 255, 0);
      transform: scale(1);
    }
  }

  & > svg > * {
    transform: translate3d(0, 0, 0);
    transform-origin: center;
    animation-iteration-count: infinite;
    fill: rgba(255, 255, 255, 0.2);
    animation-name: spin-cycle;
    animation-duration: 0.8s;
  }
  & > svg > *:nth-of-type(8) {
    -webkit-animation-delay: 0.1s;
    animation-delay: 0.1s;
  }
  & > svg > *:nth-of-type(7) {
    -webkit-animation-delay: 0.2s;
    animation-delay: 0.2s;
  }
  & > svg > *:nth-of-type(6) {
    -webkit-animation-delay: 0.3s;
    animation-delay: 0.3s;
  }
  & > svg > *:nth-of-type(5) {
    -webkit-animation-delay: 0.4s;
    animation-delay: 0.4s;
  }
  & > svg > *:nth-of-type(4) {
    -webkit-animation-delay: 0.5s;
    animation-delay: 0.5s;
  }
  & > svg > *:nth-of-type(3) {
    -webkit-animation-delay: 0.6s;
    animation-delay: 0.6s;
  
  & > svg > *:nth-of-type(2) {
    -webkit-animation-delay: 0.7s;
    animation-delay: 0.7s;
  }
  & > svg > *:nth-of-type(1) {
    animation-delay: 0.8s;
  }
`;function Ri({isDarkMode:e}){return c.createElement(Li,{isDarkMode:e},c.createElement("svg",{viewBox:"156 -189 512 512"},c.createElement("path",{d:"M636 99h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64c17.7 0 32 14.3 32 32S653.7 99 636 99z"}),c.createElement("path",{d:"M547.8-23.5C535.2-11 515-11 502.5-23.5s-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L547.8-23.5z"}),c.createElement("path",{d:"M412-61c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444-75.3 429.7-61 412-61z"}),c.createElement("path",{d:"M276.2-23.5L231-68.8c-12.5-12.5-12.5-32.8 0-45.2s32.8-12.5 45.2 0l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2S288.8-11 276.2-23.5z"}),c.createElement("path",{d:"M284 67c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64C269.7 35 284 49.3 284 67z"}),c.createElement("path",{d:"M276.2 248c-12.5 12.5-32.8 12.5-45.2 0 -12.5-12.5-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L276.2 248z"}),c.createElement("path",{d:"M412 323c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444 308.7 429.7 323 412 323z"}),c.createElement("path",{d:"M547.8 157.5l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2 -12.5 12.5-32.8 12.5-45.2 0l-45.2-45.2c-12.5-12.5-12.5-32.8 0-45.2S535.2 145 547.8 157.5z"})))}const Fi=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Mi=({width:e,color:t})=>c.createElement(Fi,{width:e,viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t},c.createElement("path",{d:"M5.4025 10.2565L1.37237 6.21402L0 7.58091L5.4025 13L17 1.36689L15.6373 0L5.4025 10.2565Z"})),Ui=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,$i=({width:e,color:t})=>c.createElement(Ui,{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M8.99984 0.666992C4.39984 0.666992 0.666504 4.40033 0.666504 9.00033C0.666504 13.6003 4.39984 17.3337 8.99984 17.3337C13.5998 17.3337 17.3332 13.6003 17.3332 9.00033C17.3332 4.40033 13.5998 0.666992 8.99984 0.666992ZM8.99984 15.667C5.32484 15.667 2.33317 12.6753 2.33317 9.00033C2.33317 5.32533 5.32484 2.33366 8.99984 2.33366C12.6748 2.33366 15.6665 5.32533 15.6665 9.00033C15.6665 12.6753 12.6748 15.667 8.99984 15.667ZM12.8248 5.31699L7.33317 10.8087L5.17484 8.65866L3.99984 9.83366L7.33317 13.167L13.9998 6.50033L12.8248 5.31699Z",fill:"#201F2C"})),Bi=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{fill:"currentColor",d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"}))),zi=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Vi=({width:e,color:t})=>c.createElement(zi,{width:e,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t},c.createElement("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})),Hi=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Wi=({width:e,color:t})=>c.createElement(Hi,{width:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t},c.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})),ji=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Gi=()=>c.createElement(ji,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M11.5,1L2,6V8H21V6M16,10V17H19V10M2,22H21V19H2M10,10V17H13V10M4,10V17H7V10H4Z"})),qi=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Yi=()=>c.createElement(qi,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,21C15.75,20 19,15.54 19,11.22V6.3L12,3.18V21Z"})),Ki=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Qi=()=>c.createElement(Ki,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"})),Zi=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,Xi=({width:e,color:t})=>c.createElement(Zi,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})),Ji=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,ea=({width:e,color:t})=>c.createElement(Ji,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M17,13H7V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})),ta=u.svg`
  path {
    fill: ${e=>e.color||vr.primary.charcoal};
  }
`,na=()=>c.createElement(ta,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})),ra=u.svg`
  path {
    fill: ${({theme:e,color:t})=>{var n;return t||(null==(n=null==e?void 0:e.themeColors)?void 0:n.text)||vr.primary.charcoal}};
  }
`,ia=()=>c.createElement(ra,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})),aa=u.svg`
  path {
    fill: ${({color:e,theme:t})=>e||t.themeColors.text};
  }
`,sa=()=>c.createElement(aa,{viewBox:"-1 -1 12 8",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M5 5.65687L0.550251 5.65687C0.104798 5.65687 -0.118284 5.1183 0.196699 4.80331L4.64645 0.353566C4.84171 0.158303 5.15829 0.158303 5.35355 0.353566L9.8033 4.80331C10.1183 5.1183 9.8952 5.65687 9.44975 5.65687L5 5.65687Z"})),oa=u.svg`
  path {
    fill: ${({color:e,theme:t})=>e||t.themeColors.text};
  }
`,la=()=>c.createElement(oa,{viewBox:"-1 -1 12 9",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M5 0.656854L9.44975 0.656854C9.8952 0.656854 10.1183 1.19543 9.8033 1.51041L5.35355 5.96015C5.15829 6.15542 4.84171 6.15542 4.64645 5.96015L0.196699 1.51041C-0.118283 1.19542 0.1048 0.656854 0.550253 0.656854L5 0.656854Z"})),ca=u.svg`
  path {
    fill: ${({color:e,theme:t})=>e||t.themeColors.text};
  }
`,da=()=>c.createElement(ca,{viewBox:"0 0 24 24"},c.createElement("path",{d:"M20 14H4V10H20V14Z"})),ua=u.div``,ha=u.div`
  display: flex;
  flex: 1;
  justify-content: center;
  align-items: flex-start;
  flex-direction: row;
`,pa=u.div`
  flex: 1;

  border-width: 2px;
  border-style: solid;
  border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};

  padding: 16px 12px;

  text-align: center;
  font-size: 14px;
  line-height: 18px;
  font-family: 'Bolton-Bold', Arial;
  font-weight: 500;

  cursor: pointer;

  ${({isSelected:e,theme:t})=>e?`background-color: ${t.themeColors.primaryCtaButton}; color: ${t.themeColors.buttonText};`:`background-color: transparent; color: ${t.themeColors.primaryCtaButton};`}

  ${({isSelected:e,index:t})=>0===t?`\n        border-right-width: ${e?"1px":0};\n        border-top-left-radius: 8px;\n        border-bottom-left-radius: 8px;\n      `:`\n        border-left-width: ${e?0:"1px"};\n        border-top-right-radius: 8px;\n        border-bottom-right-radius: 8px;\n      `}
  
  &:hover {
    ${({isSelected:e,theme:t})=>e?"":`background-color: ${br(t.themeColors.primaryCtaButton,.1)}`}
  }
`,ma=u.div`
  padding-top: 8px;
  color: ${({theme:e})=>e.themeColors.error};
  text-align: center;
`,ya=({text:e,value:t})=>({text:e,value:t}),_a=e=>{const{index:t,name:n,value:r,onClick:i,text:a,isSelected:s,color:o}=e;return c.createElement(pa,{className:"no-select",isSelected:s,index:t,onClick:()=>i(n)(r),color:o},a)},fa=({name:e,value:t,error:n,color:r,items:i,onChange:a})=>{const s=c.useCallback((e=>e===t),[t]);return c.createElement(ua,null,c.createElement(ha,null,c.createElement(_a,Hn(Vn({key:i[0].text,index:0,name:e},i[0]),{isSelected:s(i[0].value),onClick:a,color:r})),c.createElement(_a,Hn(Vn({key:i[1].text,index:1,name:e},i[1]),{isSelected:s(i[1].value),onClick:a,color:r}))),n&&c.createElement(ma,null,c.createElement(di,{fontSize:"14px"},n)))};function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t,n){return t&&ba(e.prototype,t),n&&ba(e,n),e}function xa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ta(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Gs){return!1}}();return function(){var n,r=wa(e);if(t){var i=wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ta(this,n)}}function Na(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wa(e)););return e}function Aa(e,t,n){return(Aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Na(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Pa(e,t,n,r){return(Pa="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,a=Na(e,t);if(a){if((i=Object.getOwnPropertyDescriptor(a,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,t,n);return!0})(e,t,n,r)}function Da(e,t,n,r,i){if(!Pa(e,t,n,r||e)&&i)throw new Error("failed to set property");return n}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return La(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ra(e){return"string"==typeof e||e instanceof String}u.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  overflow: auto;
  border-radius: 8px;

  border-width: 1px;
  border-style: solid;
  border-color: ${({theme:e})=>e.themeColors.border};
  background: ${({theme:e})=>e.themeColors.component};
`,u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};

  :last-child {
    border: none;
  }

  padding: 12px 16px;

  text-align: left;
  font-size: 14px;
  line-height: 18px;
  font-family: 'Bolton-Bold', Arial;
  font-weight: 500;

  cursor: pointer;

  &:hover {
    ${({isSelected:e,theme:t})=>e?"":`background-color: ${br(t.themeColors.primaryCtaButton,.1)}`}
  }

  svg {
    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,u.div`
  padding-top: 8px;
  color: ${({theme:e})=>e.themeColors.error};
  text-align: center;
`;var Fa="NONE",Ma="LEFT",Ua="FORCE_LEFT",$a="RIGHT",Ba="FORCE_RIGHT";function za(e){switch(e){case Ma:return Ua;case $a:return Ba;default:return e}}function Va(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function Ha(e,t){if(t===e)return!0;var n,r=Array.isArray(t),i=Array.isArray(e);if(r&&i){if(t.length!=e.length)return!1;for(n=0;n<t.length;n++)if(!Ha(t[n],e[n]))return!1;return!0}if(r!=i)return!1;if(t&&e&&"object"===va(t)&&"object"===va(e)){var a=t instanceof Date,s=e instanceof Date;if(a&&s)return t.getTime()==e.getTime();if(a!=s)return!1;var o=t instanceof RegExp,l=e instanceof RegExp;if(o&&l)return t.toString()==e.toString();if(o!=l)return!1;var c=Object.keys(t);for(n=0;n<c.length;n++)if(!Object.prototype.hasOwnProperty.call(e,c[n]))return!1;for(n=0;n<c.length;n++)if(!Ha(e[c[n]],t[c[n]]))return!1;return!0}return!(!t||!e||"function"!=typeof t||"function"!=typeof e)&&t.toString()===e.toString()}var Wa=function(){function e(t,n,r,i){for(Ea(this,e),this.value=t,this.cursorPos=n,this.oldValue=r,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ca(e,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?Fa:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?$a:Ma}}]),e}(),ja=function(){function e(t){Ea(this,e),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},t)}return Ca(e,[{key:"aggregate",value:function(e){return this.rawInserted+=e.rawInserted,this.skip=this.skip||e.skip,this.inserted+=e.inserted,this.tailShift+=e.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),e}(),Ga=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;Ea(this,e),this.value=t,this.from=n,this.stop=r}return Ca(e,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(e){this.value+=String(e)}},{key:"appendTo",value:function(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(e){Object.assign(this,e)}},{key:"shiftBefore",value:function(e){if(this.from>=e||!this.value.length)return"";var t=this.value[0];return this.value=this.value.slice(1),t}}]),e}();function qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new qa.InputMask(e,t)}var Ya=function(){function e(t){Ea(this,e),this._value="",this._update(Object.assign({},e.DEFAULTS,t)),this.isInitialized=!0}return Ca(e,[{key:"updateOptions",value:function(e){Object.keys(e).length&&this.withValueRefresh(this._update.bind(this,e))}},{key:"_update",value:function(e){Object.assign(this,e)}},{key:"state",get:function(){return{_value:this.value}},set:function(e){this._value=e._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(e){this.resolve(e)}},{key:"resolve",value:function(e){return this.reset(),this.append(e,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(e){this.reset(),this.append(e,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(e){this.value=this.doFormat(e)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(e){this.reset(),this.append(e,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"nearestInputPos",value:function(e,t){return e}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(e,t)}},{key:"extractTail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new Ga(this.extractInput(e,t),e)}},{key:"appendTail",value:function(e){return Ra(e)&&(e=new Ga(String(e))),e.appendTo(this)}},{key:"_appendCharRaw",value:function(e){return e?(this._value+=e,new ja({inserted:e,rawInserted:e})):new ja}},{key:"_appendChar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=this.state,i=this._appendCharRaw(this.doPrepare(e,t),t);if(i.inserted){var a,s=!1!==this.doValidate(t);if(s&&null!=n){var o=this.state;this.overwrite&&(a=n.state,n.shiftBefore(this.value.length));var l=this.appendTail(n);(s=l.rawInserted===n.toString())&&l.inserted&&(this.state=o)}s||(i=new ja,this.state=r,n&&a&&(n.state=a))}return i}},{key:"_appendPlaceholder",value:function(){return new ja}},{key:"append",value:function(e,t,n){if(!Ra(e))throw new Error("value should be string");var r=new ja,i=Ra(n)?new Ga(String(n)):n;t&&t.tail&&(t._beforeTailState=this.state);for(var a=0;a<e.length;++a)r.aggregate(this._appendChar(e[a],t,i));return null!=i&&(r.tailShift+=this.appendTail(i).tailShift),r}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,e)+this.value.slice(t),new ja}},{key:"withValueRefresh",value:function(e){if(this._refreshing||!this.isInitialized)return e();this._refreshing=!0;var t=this.rawInputValue,n=this.value,r=e();return this.rawInputValue=t,this.value&&this.value!==n&&0===n.indexOf(this.value)&&this.append(n.slice(this.value.length),{},""),delete this._refreshing,r}},{key:"runIsolated",value:function(e){if(this._isolated||!this.isInitialized)return e(this);this._isolated=!0;var t=this.state,n=e(this);return this.state=t,delete this._isolated,n}},{key:"doPrepare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(e,this,t):e}},{key:"doValidate",value:function(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(e){return this.format?this.format(e,this):e}},{key:"doParse",value:function(e){return this.parse?this.parse(e,this):e}},{key:"splice",value:function(e,t,n,r){var i=e+t,a=this.extractTail(i),s=this.nearestInputPos(e,r);return new ja({tailShift:s-e}).aggregate(this.remove(s)).aggregate(this.append(n,{input:!0},a))}}]),e}();function Ka(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?qa.MaskedRegExp:Ra(e)?qa.MaskedPattern:e instanceof Date||e===Date?qa.MaskedDate:e instanceof Number||"number"==typeof e||e===Number?qa.MaskedNumber:Array.isArray(e)||e===Array?qa.MaskedDynamic:qa.Masked&&e.prototype instanceof qa.Masked?e:e instanceof Function?qa.MaskedFunction:e instanceof qa.Masked?e.constructor:(console.warn("Mask not found for mask",e),qa.Masked)}function Qa(e){if(qa.Masked&&e instanceof qa.Masked)return e;var t=(e=Object.assign({},e)).mask;if(qa.Masked&&t instanceof qa.Masked)return t;var n=Ka(t);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(e)}Ya.DEFAULTS={format:function(e){return e},parse:function(e){return e}},qa.Masked=Ya,qa.createMask=Qa;var Za=["mask"],Xa={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Ja=function(){function e(t){Ea(this,e);var n=t.mask,r=ka(t,Za);this.masked=Qa({mask:n}),Object.assign(this,r)}return Ca(e,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===e&&t>=1?(this._isFilled=!1,this.masked.remove(e,t)):new ja}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new ja;var n=this.masked.state,r=this.masked._appendChar(e,t);return r.inserted&&!1===this.doValidate(t)&&(r.inserted=r.rawInserted="",this.masked.state=n),r.inserted||this.isOptional||this.lazy||t.input||(r.inserted=this.placeholderChar),r.skip=!r.inserted&&!this.isOptional,this._isFilled=Boolean(r.inserted),r}},{key:"append",value:function(){var e;return(e=this.masked).append.apply(e,arguments)}},{key:"_appendPlaceholder",value:function(){var e=new ja;return this._isFilled||this.isOptional||(this._isFilled=!0,e.inserted=this.placeholderChar),e}},{key:"extractTail",value:function(){var e;return(e=this.masked).extractTail.apply(e,arguments)}},{key:"appendTail",value:function(){var e;return(e=this.masked).appendTail.apply(e,arguments)}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(e,t,n)}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa,n=0,r=this.value.length,i=Math.min(Math.max(e,n),r);switch(t){case Ma:case Ua:return this.isComplete?i:n;case $a:case Ba:return this.isComplete?i:r;case Fa:default:return i}}},{key:"doValidate",value:function(){var e,t;return(e=this.masked).doValidate.apply(e,arguments)&&(!this.parent||(t=this.parent).doValidate.apply(t,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(e){this.masked.state=e.masked,this._isFilled=e._isFilled}}]),e}(),es=function(){function e(t){Ea(this,e),Object.assign(this,t),this._value=""}return Ca(e,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new ja}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa,n=0,r=this._value.length;switch(t){case Ma:case Ua:return n;case Fa:case $a:case Ba:default:return r}}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.raw&&this._isRawInput&&this._value.slice(e,t)||""}},{key:"isComplete",get:function(){return!0}},{key:"_appendChar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ja;if(this._value)return n;var r=this.char===e[0],i=r&&(this.isUnmasking||t.input||t.raw)&&!t.tail;return i&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=i&&(t.raw||t.input),n}},{key:"_appendPlaceholder",value:function(){var e=new ja;return this._value||(this._value=e.inserted=this.char),e}},{key:"extractTail",value:function(){return arguments.length>1&&void 0!==arguments[1]||this.value.length,new Ga("")}},{key:"appendTail",value:function(e){return Ra(e)&&(e=new Ga(String(e))),e.appendTo(this)}},{key:"append",value:function(e,t,n){var r=this._appendChar(e,t);return null!=n&&(r.tailShift+=this.appendTail(n).tailShift),r}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(e){Object.assign(this,e)}}]),e}(),ts=["chunks"],ns=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ea(this,e),this.chunks=t,this.from=n}return Ca(e,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(t){if(String(t)){Ra(t)&&(t=new Ga(String(t)));var n=this.chunks[this.chunks.length-1],r=n&&(n.stop===t.stop||null==t.stop)&&t.from===n.from+n.toString().length;if(t instanceof Ga)r?n.extend(t.toString()):this.chunks.push(t);else if(t instanceof e){if(null==t.stop)for(var i;t.chunks.length&&null==t.chunks[0].stop;)(i=t.chunks.shift()).from+=t.from,this.extend(i);t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}}},{key:"appendTo",value:function(t){if(!(t instanceof qa.MaskedPattern))return new Ga(this.toString()).appendTo(t);for(var n=new ja,r=0;r<this.chunks.length&&!n.skip;++r){var i=this.chunks[r],a=t._mapPosToBlock(t.value.length),s=i.stop,o=void 0;if(null!=s&&(!a||a.index<=s)&&((i instanceof e||t._stops.indexOf(s)>=0)&&n.aggregate(t._appendPlaceholder(s)),o=i instanceof e&&t._blocks[s]),o){var l=o.appendTail(i);l.skip=!1,n.aggregate(l),t._value+=l.inserted;var c=i.toString().slice(l.rawInserted.length);c&&n.aggregate(t.append(c,{tail:!0}))}else n.aggregate(t.append(i.toString(),{tail:!0}))}return n}},{key:"state",get:function(){return{chunks:this.chunks.map((function(e){return e.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(t){var n=t.chunks,r=ka(t,ts);Object.assign(this,r),this.chunks=n.map((function(t){var n="chunks"in t?new e:new Ga;return n.state=t,n}))}},{key:"shiftBefore",value:function(e){if(this.from>=e||!this.chunks.length)return"";for(var t=e-this.from,n=0;n<this.chunks.length;){var r=this.chunks[n],i=r.shiftBefore(t);if(r.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}}]),e}(),rs=function(e){xa(n,Ya);var t=Ia(n);function n(){return Ea(this,n),t.apply(this,arguments)}return Ca(n,[{key:"_update",value:function(e){e.mask&&(e.validate=function(t){return t.search(e.mask)>=0}),Aa(wa(n.prototype),"_update",this).call(this,e)}}]),n}();qa.MaskedRegExp=rs;var is=["_blocks"],as=function(e){xa(n,Ya);var t=Ia(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ea(this,n),e.definitions=Object.assign({},Xa,e.definitions),t.call(this,Object.assign({},n.DEFAULTS,e))}return Ca(n,[{key:"_update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.definitions=Object.assign({},this.definitions,e.definitions),Aa(wa(n.prototype),"_update",this).call(this,e),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var e=this,t=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var r=this.mask;if(r&&t)for(var i=!1,a=!1,s=0;s<r.length;++s){if(this.blocks)if("continue"===function(){var t=r.slice(s),n=Object.keys(e.blocks).filter((function(e){return 0===t.indexOf(e)}));n.sort((function(e,t){return t.length-e.length}));var i=n[0];if(i){var a=Qa(Object.assign({parent:e,lazy:e.lazy,placeholderChar:e.placeholderChar,overwrite:e.overwrite},e.blocks[i]));return a&&(e._blocks.push(a),e._maskedBlocks[i]||(e._maskedBlocks[i]=[]),e._maskedBlocks[i].push(e._blocks.length-1)),s+=i.length-1,"continue"}}())continue;var o=r[s],l=o in t;if(o!==n.STOP_CHAR)if("{"!==o&&"}"!==o)if("["!==o&&"]"!==o){if(o===n.ESCAPE_CHAR){if(++s,!(o=r[s]))break;l=!1}var c=l?new Ja({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:t[o],isOptional:a}):new es({char:o,isUnmasking:i});this._blocks.push(c)}else a=!a;else i=!i;else this._stops.push(this._blocks.length)}}},{key:"state",get:function(){return Object.assign({},Aa(wa(n.prototype),"state",this),{_blocks:this._blocks.map((function(e){return e.state}))})},set:function(e){var t=e._blocks,r=ka(e,is);this._blocks.forEach((function(e,n){return e.state=t[n]})),Da(wa(n.prototype),"state",r,this,!0)}},{key:"reset",value:function(){Aa(wa(n.prototype),"reset",this).call(this),this._blocks.forEach((function(e){return e.reset()}))}},{key:"isComplete",get:function(){return this._blocks.every((function(e){return e.isComplete}))}},{key:"doCommit",value:function(){this._blocks.forEach((function(e){return e.doCommit()})),Aa(wa(n.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce((function(e,t){return e+t.unmaskedValue}),"")},set:function(e){Da(wa(n.prototype),"unmaskedValue",e,this,!0)}},{key:"value",get:function(){return this._blocks.reduce((function(e,t){return e+t.value}),"")},set:function(e){Da(wa(n.prototype),"value",e,this,!0)}},{key:"appendTail",value:function(e){return Aa(wa(n.prototype),"appendTail",this).call(this,e).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._mapPosToBlock(this.value.length),r=new ja;if(!n)return r;for(var i=n.index;;++i){var a=this._blocks[i];if(!a)break;var s=a._appendChar(e,t),o=s.skip;if(r.aggregate(s),o||s.rawInserted)break}return r}},{key:"extractTail",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=new ns;return t===n||this._forEachBlocksInRange(t,n,(function(t,n,i,a){var s=t.extractTail(i,a);s.stop=e._findStopBefore(n),s.from=e._blockStartPos(n),s instanceof ns&&(s.blockIndex=n),r.extend(s)})),r}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return"";var r="";return this._forEachBlocksInRange(e,t,(function(e,t,i,a){r+=e.extractInput(i,a,n)})),r}},{key:"_findStopBefore",value:function(e){for(var t,n=0;n<this._stops.length;++n){var r=this._stops[n];if(!(r<=e))break;t=r}return t}},{key:"_appendPlaceholder",value:function(e){var t=this,n=new ja;if(this.lazy&&null==e)return n;var r=this._mapPosToBlock(this.value.length);if(!r)return n;var i=r.index,a=null!=e?e:this._blocks.length;return this._blocks.slice(i,a).forEach((function(r){if(!r.lazy||null!=e){var i=null!=r._blocks?[r._blocks.length]:[],a=r._appendPlaceholder.apply(r,i);t._value+=a.inserted,n.aggregate(a)}})),n}},{key:"_mapPosToBlock",value:function(e){for(var t="",n=0;n<this._blocks.length;++n){var r=this._blocks[n],i=t.length;if(e<=(t+=r.value).length)return{index:n,offset:e-i}}}},{key:"_blockStartPos",value:function(e){return this._blocks.slice(0,e).reduce((function(e,t){return e+t.value.length}),0)}},{key:"_forEachBlocksInRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,r=this._mapPosToBlock(e);if(r){var i=this._mapPosToBlock(t),a=i&&r.index===i.index,s=r.offset,o=i&&a?i.offset:this._blocks[r.index].value.length;if(n(this._blocks[r.index],r.index,s,o),i&&!a){for(var l=r.index+1;l<i.index;++l)n(this._blocks[l],l,0,this._blocks[l].value.length);n(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=Aa(wa(n.prototype),"remove",this).call(this,e,t);return this._forEachBlocksInRange(e,t,(function(e,t,n,i){r.aggregate(e.remove(n,i))})),r}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa,n=this._mapPosToBlock(e)||{index:0,offset:0},r=n.offset,i=n.index,a=this._blocks[i];if(!a)return e;var s=r;0!==s&&s<a.value.length&&(s=a.nearestInputPos(r,za(t)));var o=s===a.value.length,l=0===s;if(!l&&!o)return this._blockStartPos(i)+s;var c=o?i+1:i;if(t===Fa){if(c>0){var d=c-1,u=this._blocks[d],h=u.nearestInputPos(0,Fa);if(!u.value.length||h!==u.value.length)return this._blockStartPos(c)}for(var p=c,m=p;m<this._blocks.length;++m){var g=this._blocks[m],y=g.nearestInputPos(0,Fa);if(!g.value.length||y!==g.value.length)return this._blockStartPos(m)+y}for(var _=c-1;_>=0;--_){var f=this._blocks[_],v=f.nearestInputPos(0,Fa);if(!f.value.length||v!==f.value.length)return this._blockStartPos(_)+f.value.length}return e}if(t===Ma||t===Ua){for(var E,b=c;b<this._blocks.length;++b)if(this._blocks[b].value){E=b;break}if(null!=E){var C=this._blocks[E],x=C.nearestInputPos(0,$a);if(0===x&&C.unmaskedValue.length)return this._blockStartPos(E)+x}for(var w,S=-1,k=c-1;k>=0;--k){var T=this._blocks[k],I=T.nearestInputPos(T.value.length,Ua);if(T.value&&0===I||(w=k),0!==I){if(I!==T.value.length)return this._blockStartPos(k)+I;S=k;break}}if(t===Ma)for(var N=S+1;N<=Math.min(c,this._blocks.length-1);++N){var A=this._blocks[N],P=A.nearestInputPos(0,Fa),D=this._blockStartPos(N)+P;if(D>e)break;if(P!==A.value.length)return D}if(S>=0)return this._blockStartPos(S)+this._blocks[S].value.length;if(t===Ua||this.lazy&&!this.extractInput()&&!ss(this._blocks[c]))return 0;if(null!=w)return this._blockStartPos(w);for(var O=c;O<this._blocks.length;++O){var L=this._blocks[O],R=L.nearestInputPos(0,Fa);if(!L.value.length||R!==L.value.length)return this._blockStartPos(O)+R}return 0}if(t===$a||t===Ba){for(var F,M,U=c;U<this._blocks.length;++U){var $=this._blocks[U],B=$.nearestInputPos(0,Fa);if(B!==$.value.length){M=this._blockStartPos(U)+B,F=U;break}}if(null!=F&&null!=M){for(var z=F;z<this._blocks.length;++z){var V=this._blocks[z],H=V.nearestInputPos(0,Ba);if(H!==V.value.length)return this._blockStartPos(z)+H}return t===Ba?this.value.length:M}for(var W=Math.min(c,this._blocks.length-1);W>=0;--W){var j=this._blocks[W],G=j.nearestInputPos(j.value.length,Ma);if(0!==G){var q=this._blockStartPos(W)+G;if(q>=e)return q;break}}}return e}},{key:"maskedBlock",value:function(e){return this.maskedBlocks(e)[0]}},{key:"maskedBlocks",value:function(e){var t=this,n=this._maskedBlocks[e];return n?n.map((function(e){return t._blocks[e]})):[]}}]),n}();function ss(e){if(!e)return!1;var t=e.value;return!t||e.nearestInputPos(0,Fa)!==t.length}as.DEFAULTS={lazy:!0,placeholderChar:"_"},as.STOP_CHAR="`",as.ESCAPE_CHAR="\\",as.InputDefinition=Ja,as.FixedDefinition=es,qa.MaskedPattern=as;var os=function(e){xa(n,as);var t=Ia(n);function n(){return Ea(this,n),t.apply(this,arguments)}return Ca(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(e){e=Object.assign({to:this.to||0,from:this.from||0},e);var t=String(e.to).length;null!=e.maxLength&&(t=Math.max(t,e.maxLength)),e.maxLength=t;for(var r=String(e.from).padStart(t,"0"),i=String(e.to).padStart(t,"0"),a=0;a<i.length&&i[a]===r[a];)++a;e.mask=i.slice(0,a).replace(/0/g,"\\0")+"0".repeat(t-a),Aa(wa(n.prototype),"_update",this).call(this,e)}},{key:"isComplete",get:function(){return Aa(wa(n.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(e){var t="",n="",r=Oa(e.match(/^(\D*)(\d*)(\D*)/)||[],3),i=r[1],a=r[2];return a&&(t="0".repeat(i.length)+a,n="9".repeat(i.length)+a),[t=t.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=Aa(wa(n.prototype),"doPrepare",this).call(this,e,t).replace(/\D/g,""),!this.autofix)return e;for(var r=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),a=this.value,s="",o=0;o<e.length;++o){var l=a+s+e[o],c=this.boundaries(l),d=Oa(c,2),u=d[0],h=d[1];Number(h)<this.from?s+=r[l.length-1]:Number(u)>this.to?s+=i[l.length-1]:s+=e[o]}return s}},{key:"doValidate",value:function(){var e,t=this.value,r=t.search(/[^0]/);if(-1===r&&t.length<=this._matchFrom)return!0;for(var i=this.boundaries(t),a=Oa(i,2),s=a[0],o=a[1],l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return this.from<=Number(o)&&Number(s)<=this.to&&(e=Aa(wa(n.prototype),"doValidate",this)).call.apply(e,[this].concat(c))}}]),n}();qa.MaskedRange=os;var ls=function(e){xa(n,as);var t=Ia(n);function n(e){return Ea(this,n),t.call(this,Object.assign({},n.DEFAULTS,e))}return Ca(n,[{key:"_update",value:function(e){e.mask===Date&&delete e.mask,e.pattern&&(e.mask=e.pattern);var t=e.blocks;e.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),e.min&&(e.blocks.Y.from=e.min.getFullYear()),e.max&&(e.blocks.Y.to=e.max.getFullYear()),e.min&&e.max&&e.blocks.Y.from===e.blocks.Y.to&&(e.blocks.m.from=e.min.getMonth()+1,e.blocks.m.to=e.max.getMonth()+1,e.blocks.m.from===e.blocks.m.to&&(e.blocks.d.from=e.min.getDate(),e.blocks.d.to=e.max.getDate())),Object.assign(e.blocks,t),Object.keys(e.blocks).forEach((function(t){var n=e.blocks[t];"autofix"in n||(n.autofix=e.autofix)})),Aa(wa(n.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this.date,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=Aa(wa(n.prototype),"doValidate",this)).call.apply(e,[this].concat(i))&&(!this.isComplete||this.isDateExist(this.value)&&null!=t&&(null==this.min||this.min<=t)&&(null==this.max||t<=this.max))}},{key:"isDateExist",value:function(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}},{key:"date",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"typedValue",get:function(){return this.isComplete?Aa(wa(n.prototype),"typedValue",this):null},set:function(e){Da(wa(n.prototype),"typedValue",e,this,!0)}}]),n}();ls.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(e){return[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join(".")},parse:function(e){var t=Oa(e.split("."),3),n=t[0],r=t[1],i=t[2];return new Date(i,r-1,n)}},ls.GET_DEFAULT_BLOCKS=function(){return{d:{mask:os,from:1,to:31,maxLength:2},m:{mask:os,from:1,to:12,maxLength:2},Y:{mask:os,from:1900,to:9999}}},qa.MaskedDate=ls;var cs=function(){function e(){Ea(this,e)}return Ca(e,[{key:"selectionStart",get:function(){var e;try{e=this._unsafeSelectionStart}catch(Gs){}return null!=e?e:this.value.length}},{key:"selectionEnd",get:function(){var e;try{e=this._unsafeSelectionEnd}catch(Gs){}return null!=e?e:this.value.length}},{key:"select",value:function(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch(Gs){}}},{key:"_unsafeSelect",value:function(e,t){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(e){}},{key:"unbindEvents",value:function(){}}]),e}();qa.MaskElement=cs;var ds=function(e){xa(n,cs);var t=Ia(n);function n(e){var r;return Ea(this,n),(r=t.call(this)).input=e,r._handlers={},r}return Ca(n,[{key:"rootElement",get:function(){return this.input.getRootNode?this.input.getRootNode():document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(e,t){this.input.setSelectionRange(e,t)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}},{key:"bindEvents",value:function(e){var t=this;Object.keys(e).forEach((function(r){return t._toggleEventHandler(n.EVENTS_MAP[r],e[r])}))}},{key:"unbindEvents",value:function(){var e=this;Object.keys(this._handlers).forEach((function(t){return e._toggleEventHandler(t)}))}},{key:"_toggleEventHandler",value:function(e,t){this._handlers[e]&&(this.input.removeEventListener(e,this._handlers[e]),delete this._handlers[e]),t&&(this.input.addEventListener(e,t),this._handlers[e]=t)}}]),n}();ds.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},qa.HTMLMaskElement=ds;var us=function(e){xa(n,ds);var t=Ia(n);function n(){return Ea(this,n),t.apply(this,arguments)}return Ca(n,[{key:"_unsafeSelectionStart",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection();return t&&t.anchorOffset}},{key:"_unsafeSelectionEnd",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection();return t&&this._unsafeSelectionStart+String(t).length}},{key:"_unsafeSelect",value:function(e,t){if(this.rootElement.createRange){var n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,e),n.setEnd(this.input.lastChild||this.input,t);var r=this.rootElement,i=r.getSelection&&r.getSelection();i&&(i.removeAllRanges(),i.addRange(n))}}},{key:"value",get:function(){return this.input.textContent},set:function(e){this.input.textContent=e}}]),n}();qa.HTMLContenteditableMaskElement=us;var hs=["mask"],ps=function(){function e(t,n){Ea(this,e),this.el=t instanceof cs?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new us(t):new ds(t),this.masked=Qa(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ca(e,[{key:"mask",get:function(){return this.masked.mask},set:function(e){if(!this.maskEquals(e))if(e instanceof qa.Masked||this.masked.constructor!==Ka(e)){var t=Qa({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}else this.masked.updateOptions({mask:e})}},{key:"maskEquals",value:function(e){return null==e||e===this.masked.mask||e===Date&&this.masked instanceof ls}},{key:"value",get:function(){return this._value},set:function(e){this.masked.value=e,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(e){this.masked.unmaskedValue=e,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(e){this.masked.typedValue=e,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._listeners[e];i&&i.forEach((function(e){return e.apply(void 0,n)}))}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(e){this.el&&this.el.isActive&&(this.el.select(e,e),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var e=this.masked.unmaskedValue,t=this.masked.value,n=this.unmaskedValue!==e||this.value!==t;this._unmaskedValue=e,this._value=t,this.el.value!==t&&(this.el.value=t),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(e){var t=e.mask,n=ka(e,hs),r=!this.maskEquals(t),i=!Ha(this.masked,n);r&&(this.mask=t),i&&this.masked.updateOptions(n),(r||i)&&this.updateControl()}},{key:"updateCursor",value:function(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}},{key:"_delayUpdateCursor",value:function(e){var t=this;this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout((function(){t.el&&(t.cursorPos=t._changingCursorPos,t._abortUpdateCursor())}),10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,Ma)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}},{key:"off",value:function(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;var n=this._listeners[e].indexOf(t);return n>=0&&this._listeners[e].splice(n,1),this}},{key:"_onInput",value:function(e){if(this._inputEvent=e,this._abortUpdateCursor(),!this._selection)return this.updateValue();var t=new Wa(this.el.value,this.cursorPos,this.value,this._selection),n=this.masked.rawInputValue,r=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection).offset,i=n===this.masked.rawInputValue?t.removeDirection:Fa,a=this.masked.nearestInputPos(t.startChangePos+r,i);this.updateControl(),this.updateCursor(a),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_onFocus",value:function(e){this.alignCursorFriendly()}},{key:"_onClick",value:function(e){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),e}();qa.InputMask=ps;var ms=function(e){xa(n,as);var t=Ia(n);function n(){return Ea(this,n),t.apply(this,arguments)}return Ca(n,[{key:"_update",value:function(e){e.enum&&(e.mask="*".repeat(e.enum[0].length)),Aa(wa(n.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.enum.some((function(e){return e.indexOf(t.unmaskedValue)>=0}))&&(e=Aa(wa(n.prototype),"doValidate",this)).call.apply(e,[this].concat(i))}}]),n}();qa.MaskedEnum=ms;var gs=function(e){xa(n,Ya);var t=Ia(n);function n(e){return Ea(this,n),t.call(this,Object.assign({},n.DEFAULTS,e))}return Ca(n,[{key:"_update",value:function(e){Aa(wa(n.prototype),"_update",this).call(this,e),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var e="^"+(this.allowNegative?"[+|\\-]?":""),t=(this.scale?"("+Va(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(e+"(0|([1-9]+\\d*))?"+t),this._numberRegExp=new RegExp(e+"\\d*"+t),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Va).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Va(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(e){return e.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(e){var t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}},{key:"doPrepare",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=Aa(wa(n.prototype),"doPrepare",this)).call.apply(t,[this,this._removeThousandsSeparators(e.replace(this._mapToRadixRegExp,this.radix))].concat(i))}},{key:"_separatorsCount",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=0;r<e;++r)this._value.indexOf(this.thousandsSeparator,r)===r&&(++n,t&&(e+=this.thousandsSeparator.length));return n}},{key:"_separatorsCountFromSlice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=arguments.length>2?arguments[2]:void 0,i=this._adjustRangeWithSeparators(e,t),a=Oa(i,2);return e=a[0],t=a[1],this._removeThousandsSeparators(Aa(wa(n.prototype),"extractInput",this).call(this,e,t,r))}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return Aa(wa(n.prototype),"_appendCharRaw",this).call(this,e,t);var r=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);var a=Aa(wa(n.prototype),"_appendCharRaw",this).call(this,e,t);this._value=this._insertThousandsSeparators(this._value);var s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,o=this._separatorsCountFromSlice(s);return a.tailShift+=(o-i)*this.thousandsSeparator.length,a.skip=!a.rawInserted&&e===this.thousandsSeparator,a}},{key:"_findSeparatorAround",value:function(e){if(this.thousandsSeparator){var t=e-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,t);if(n<=e)return n}return-1}},{key:"_adjustRangeWithSeparators",value:function(e,t){var n=this._findSeparatorAround(e);n>=0&&(e=n);var r=this._findSeparatorAround(t);return r>=0&&(t=r+this.thousandsSeparator.length),[e,t]}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this._adjustRangeWithSeparators(e,t),r=Oa(n,2);e=r[0],t=r[1];var i=this.value.slice(0,e),a=this.value.slice(t),s=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+a));var o=this._separatorsCountFromSlice(i);return new ja({tailShift:(o-s)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(e,t){if(!this.thousandsSeparator)return e;switch(t){case Fa:case Ma:case Ua:var n=this._findSeparatorAround(e-1);if(n>=0){var r=n+this.thousandsSeparator.length;if(e<r||this.value.length<=r||t===Ua)return n}break;case $a:case Ba:var i=this._findSeparatorAround(e);if(i>=0)return i+this.thousandsSeparator.length}return e}},{key:"doValidate",value:function(e){var t=(e.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(t){var r=this.number;t=t&&!isNaN(r)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return t&&Aa(wa(n.prototype),"doValidate",this).call(this,e)}},{key:"doCommit",value:function(){if(this.value){var e=this.number,t=e;null!=this.min&&(t=Math.max(t,this.min)),null!=this.max&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=String(t));var r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&(r=this._padFractionalZeros(r)),this._value=r}Aa(wa(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(e){var t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(function(e,t,n,r){return t+r})),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}},{key:"_padFractionalZeros",value:function(e){if(!e)return e;var t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(e){Da(wa(n.prototype),"unmaskedValue",e.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(e){Da(wa(n.prototype),"unmaskedValue",String(e),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),n}();gs.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},qa.MaskedNumber=gs;var ys=function(e){xa(n,Ya);var t=Ia(n);function n(){return Ea(this,n),t.apply(this,arguments)}return Ca(n,[{key:"_update",value:function(e){e.mask&&(e.validate=e.mask),Aa(wa(n.prototype),"_update",this).call(this,e)}}]),n}();qa.MaskedFunction=ys;var _s=["compiledMasks","currentMaskRef","currentMask"],fs=function(e){xa(n,Ya);var t=Ia(n);function n(e){var r;return Ea(this,n),(r=t.call(this,Object.assign({},n.DEFAULTS,e))).currentMask=null,r}return Ca(n,[{key:"_update",value:function(e){Aa(wa(n.prototype),"_update",this).call(this,e),"mask"in e&&(this.compiledMasks=Array.isArray(e.mask)?e.mask.map((function(e){return Qa(e)})):[])}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._applyDispatch(e,t);return this.currentMask&&n.aggregate(this.currentMask._appendChar(e,t)),n}},{key:"_applyDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tail&&null!=t._beforeTailState?t._beforeTailState._value:this.value,r=this.rawInputValue,i=t.tail&&null!=t._beforeTailState?t._beforeTailState._rawInputValue:r,a=r.slice(i.length),s=this.currentMask,o=new ja,l=s&&s.state;if(this.currentMask=this.doDispatch(e,Object.assign({},t)),this.currentMask)if(this.currentMask!==s){if(this.currentMask.reset(),i){var c=this.currentMask.append(i,{raw:!0});o.tailShift=c.inserted.length-n.length}a&&(o.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=l;return o}},{key:"_appendPlaceholder",value:function(){var e=this._applyDispatch.apply(this,arguments);return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}},{key:"doDispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(e,this,t)}},{key:"doValidate",value:function(){for(var e,t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=Aa(wa(n.prototype),"doValidate",this)).call.apply(e,[this].concat(i))&&(!this.currentMask||(t=this.currentMask).doValidate.apply(t,i))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach((function(e){return e.reset()}))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(e){Da(wa(n.prototype),"value",e,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(e){Da(wa(n.prototype),"unmaskedValue",e,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(e){var t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"remove",value:function(){var e,t=new ja;this.currentMask&&t.aggregate((e=this.currentMask).remove.apply(e,arguments)).aggregate(this._applyDispatch());return t}},{key:"state",get:function(){return Object.assign({},Aa(wa(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(e){return e.state})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(e){var t=e.compiledMasks,r=e.currentMaskRef,i=e.currentMask,a=ka(e,_s);this.compiledMasks.forEach((function(e,n){return e.state=t[n]})),null!=r&&(this.currentMask=r,this.currentMask.state=i),Da(wa(n.prototype),"state",a,this,!0)}},{key:"extractInput",value:function(){var e;return this.currentMask?(e=this.currentMask).extractInput.apply(e,arguments):""}},{key:"extractTail",value:function(){for(var e,t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.currentMask?(e=this.currentMask).extractTail.apply(e,i):(t=Aa(wa(n.prototype),"extractTail",this)).call.apply(t,[this].concat(i))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Aa(wa(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var e,t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.currentMask?(e=this.currentMask).nearestInputPos.apply(e,i):(t=Aa(wa(n.prototype),"nearestInputPos",this)).call.apply(t,[this].concat(i))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Aa(wa(n.prototype),"overwrite",this)},set:function(e){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]),n}();fs.DEFAULTS={dispatch:function(e,t,n){if(t.compiledMasks.length){var r=t.rawInputValue,i=t.compiledMasks.map((function(t,i){return t.reset(),t.append(r,{raw:!0}),t.append(e,n),{weight:t.rawInputValue.length,index:i}}));return i.sort((function(e,t){return t.weight-e.weight})),t.compiledMasks[i[0].index]}}},qa.MaskedDynamic=fs;var vs={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vs.MASKED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vs.MASKED,r=Qa(e);return function(e){return r.runIsolated((function(r){return r[t]=e,r[n]}))}}qa.PIPE_TYPE=vs,qa.createPipe=Es,qa.pipe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Es.apply(void 0,n)(e)};try{globalThis.IMask=qa}catch(Gs){}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var bs={exports:{}};function Cs(){}function xs(){}xs.resetWarningCache=Cs;bs.exports=function(){function e(e,t,n,r,i,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xs,resetWarningCache:Cs};return n.PropTypes=n,n}();var ws=bs.exports;function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Is(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ns(e)}function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Gs){return!1}}();return function(){var n,r=ks(e);if(t){var i=ks(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return As(this,n)}}var Ds={mask:ws.oneOfType([ws.array,ws.func,ws.string,ws.instanceOf(RegExp),ws.oneOf([Date,Number,qa.Masked]),ws.instanceOf(qa.Masked)]),value:ws.any,unmask:ws.oneOfType([ws.bool,ws.oneOf(["typed"])]),prepare:ws.func,validate:ws.func,commit:ws.func,overwrite:ws.bool,onAccept:ws.func,onComplete:ws.func,placeholderChar:ws.string,lazy:ws.bool,definitions:ws.object,blocks:ws.object,pattern:ws.string,format:ws.func,parse:ws.func,autofix:ws.bool,radix:ws.string,thousandsSeparator:ws.string,mapToRadix:ws.arrayOf(ws.string),scale:ws.number,signed:ws.bool,normalizeZeros:ws.bool,padFractionalZeros:ws.bool,min:ws.oneOfType([ws.number,ws.instanceOf(Date)]),max:ws.oneOfType([ws.number,ws.instanceOf(Date)]),dispatch:ws.func,inputRef:ws.func},Os=Object.keys(Ds),Ls=["value","unmask","onAccept","onComplete","inputRef"],Rs=Os.filter((function(e){return Ls.indexOf(e)<0}));var Fs,Ms,Us,$s=["inputRef"],Bs=(Fs=function(e){var t=e.inputRef,n=Is(e,$s);return c.createElement("input",Object.assign({},n,{ref:t}))},Ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(a,c.Component);var t,n,r,i=Ps(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._inputRef=t._inputRef.bind(Ns(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.mask&&this.initMask()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=this._extractMaskOptionsFromProps(e);t.mask?this.maskRef?(this.maskRef.updateOptions(t),"value"in e&&(e.value!==this.maskValue||"string"!=typeof e.value&&""===this.maskRef.value&&!this.maskRef.el.isActive)&&(this.maskValue=e.value)):this.initMask(t):(this.destroyMask(),"value"in e&&(this.element.value=e.value))}},{key:"componentWillUnmount",value:function(){this.destroyMask()}},{key:"_inputRef",value:function(e){this.element=e,this.props.inputRef&&this.props.inputRef(e)}},{key:"initMask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._extractMaskOptionsFromProps(this.props);this.maskRef=qa(this.element,e).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&(this.maskValue=this.props.value)}},{key:"destroyMask",value:function(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}},{key:"_extractMaskOptionsFromProps",value:function(e){var t=Object.assign({},e);return Object.keys(t).filter((function(e){return Rs.indexOf(e)<0})).forEach((function(e){delete t[e]})),t}},{key:"_extractNonMaskProps",value:function(e){var t=Object.assign({},e);return Os.forEach((function(e){delete t[e]})),t}},{key:"maskValue",get:function(){return"typed"===this.props.unmask?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value},set:function(e){e=null==e?"":e,"typed"===this.props.unmask?this.maskRef.typedValue=e:this.props.unmask?this.maskRef.unmaskedValue=e:this.maskRef.value=e}},{key:"_onAccept",value:function(e){this.props.onAccept&&this.props.onAccept(this.maskValue,this.maskRef,e)}},{key:"_onComplete",value:function(e){this.props.onComplete&&this.props.onComplete(this.maskValue,this.maskRef,e)}},{key:"render",value:function(){return c.createElement(Fs,Object.assign({},this._extractNonMaskProps(this.props),{inputRef:this._inputRef}))}}])&&Ss(t.prototype,n),r&&Ss(t,r),a}(),Us=Fs.displayName||Fs.name||"Component",Ms.displayName="IMask(".concat(Us,")"),Ms.propTypes=Ds,Ms);const zs=u.div`
  border: none;
  padding: 0;
  margin: 0;

  input {
    width: 100%;
    background: transparent;
    color: ${({theme:e})=>e.themeColors.text};
  }

  .input-text-prefix {
    display: block;
  }

  label {
    cursor: pointer;
    color: ${({theme:e})=>e.themeColors.text};
  }

  input::placeholder {
    color: ${({theme:e})=>br(e.themeColors.text,.3)};
  }

  .input-text-prefix,
  input,
  input::placeholder {
    font-size: 16px;
    line-height: 18px;
  }
`,Vs=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
`,Hs=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,Ws=u.div`
  margin-right: 2px;

  &,
  * {
    color: ${({theme:e})=>e.themeColors.text};
  }
`,js=({name:e,inputRef:t,type:n,prefix:r,value:i,valueSanitizer:a,placeholder:s,onChange:o,onFocus:l,onBlur:d,label:u,error:h,disabled:p,inputProps:m,autoFocus:g,maskType:y})=>{const _=c.useRef(null),[f,v]=c.useState((e=>jr===e?{mask:"000-000-0000"}:Gr===e?{mask:Number,scale:2,signed:!1,thousandsSeparator:",",padFractionalZeros:!0,normalizeZeros:!0,radix:".",mapToRadix:["."],max:1e6}:qr===e?{mask:Number,scale:2,signed:!0,padFractionalZeros:!0,normalizeZeros:!0,radix:".",mapToRadix:["."],max:.99}:{mask:null})(y)),[E,b]=c.useState(!1);c.useEffect((()=>{var e,n;g&&(null==(e=null==t?void 0:t.current)||e.focus(),null==(n=null==_?void 0:_.current)||n.focus())}),[]);const C=c.useCallback((t=>{if(f.mask)return;const n=i;let r=t.target.value;a&&(r=a(r,n)),o(e)(r)}),[i,o,a,f]),x=c.useCallback((t=>{o(e)(t)}),[i,o,a]),w=()=>{b(!0),l&&l(e)},S=()=>{b(!1),d&&d(e)};return c.createElement(zs,{className:"text-wrapper "+(E?"focused":"")},c.createElement("label",{for:e,className:"no-select"},u&&c.createElement(Ei,null,u)),c.createElement(Vs,{className:"sc-input-wrapper"},r&&c.createElement(Ws,{className:"input-text-prefix"},r),y?c.createElement(Bs,Vn(Hn(Vn({},f),{inputRef:e=>_.current=e,id:e,type:n||"text",name:e,placeholder:s||"",value:i,onChange:C,onAccept:(e,t)=>{x(e)},onFocus:w,onBlur:S,disabled:p}),m||{})):c.createElement("input",Vn({ref:t||_,id:e,type:n||"text",name:e,placeholder:s||"",value:i,onChange:C,onFocus:w,onBlur:S,disabled:p},m||{}))),h&&c.createElement(Hs,{className:"sc-error-text"},c.createElement(Ei,null,h)))};var Gs,qs={exports:{}};"undefined"!=typeof self&&self,qs.exports=(Gs=c,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t){e.exports=Gs},function(e,t,n){function r(e){return new Date(e.getTime())}function i(e){return e instanceof Date&&!isNaN(e.valueOf())}function a(e,t){var n=r(e);return n.setMonth(e.getMonth()+t),n}function s(e,t){return!(!e||!t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function o(e,t){return!(!e||!t)&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function l(e,t){return r(e).setHours(0,0,0,0)<r(t).setHours(0,0,0,0)}function c(e,t){return r(e).setHours(0,0,0,0)>r(t).setHours(0,0,0,0)}function d(e){var t=new Date;return t.setHours(0,0,0,0),l(e,t)}function u(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function h(e,t,n){var i=r(e);return i.setHours(0,0,0,0),c(i,t)&&l(i,n)||c(i,n)&&l(i,t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,r=t.to;return n?n&&r&&s(n,r)&&s(e,n)?(n=null,r=null):r&&l(e,n)?n=e:r&&s(e,r)?(n=e,r=e):l(r=e,n)&&(r=n,n=e):n=e,{from:n,to:r}}function m(e,t){var n=t.from,r=t.to;return n&&s(e,n)||r&&s(e,r)||n&&r&&h(e,n,r)}function g(e){var t=r(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=r,t.isDate=i,t.addMonths=a,t.isSameDay=s,t.isSameMonth=o,t.isDayBefore=l,t.isDayAfter=c,t.isPastDay=d,t.isFutureDay=u,t.isDayBetween=h,t.addDayToRange=p,t.isDayInRange=m,t.getWeekNumber=g,t.default={addDayToRange:p,addMonths:a,clone:r,getWeekNumber:g,isDate:i,isDayAfter:c,isDayBefore:l,isDayBetween:h,isDayInRange:m,isFutureDay:u,isPastDay:d,isSameDay:s,isSameMonth:o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},function(e,t,n){function r(e){e.preventDefault(),e.stopPropagation()}function i(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function a(e){var t=i(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function s(e){var t=g({},e.modifiers);return e.selectedDays&&(t[e.classNames.selected]=e.selectedDays),e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays),t}function o(e){var t=e.firstDayOfWeek,n=e.locale,r=void 0===n?"en":n,i=e.localeUtils,a=void 0===i?{}:i;return isNaN(t)?a.getFirstDayOfWeek?a.getFirstDayOfWeek(r):0:t}function l(e){return!!(e&&e.from&&e.to)}function c(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,f.getFirstDayOfWeek)(),n=arguments[2],r=a(e),i=[],s=[],o=[],l=1;l<=r;l+=1)i.push(new Date(e.getFullYear(),e.getMonth(),l,12));i.forEach((function(e){s.length>0&&e.getDay()===t&&(o.push(s),s=[]),s.push(e),i.indexOf(e)===i.length-1&&o.push(s)}));for(var c=o[0],d=7-c.length;d>0;d-=1){var u=(0,_.clone)(c[0]);u.setDate(c[0].getDate()-1),c.unshift(u)}for(var h=o[o.length-1],p=h.length;p<7;p+=1){var m=(0,_.clone)(h[h.length-1]);m.setDate(h[h.length-1].getDate()+1),h.push(m)}if(n&&o.length<6)for(var g=void 0,y=o.length;y<6;y+=1){for(var v=(g=o[o.length-1])[g.length-1],E=[],b=0;b<7;b+=1){var C=(0,_.clone)(v);C.setDate(v.getDate()+b+1),E.push(C)}o.push(E)}return o}function u(e){var t=(0,_.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t}function h(e,t){var n=void 0;n=t===E.default?t.day+"--"+t.outside:""+t.outside;var r="."+t.day.replace(/ /g,".")+":not(."+n.replace(/ /g,".")+")";return e.querySelectorAll(r)}function p(e){return Array.prototype.slice.call(e,0)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.cancelEvent=r,t.getFirstDayOfMonth=i,t.getDaysInMonth=a,t.getModifiersFromProps=s,t.getFirstDayOfWeekFromProps=o,t.isRangeOfDates=l,t.getMonthsDiff=c,t.getWeekArray=d,t.startOfMonth=u,t.getDayNodes=h,t.nodeListToArray=p,t.hasOwnProp=m;var y,_=n(1),f=n(5),v=n(3),E=(y=v)&&y.__esModule?y:{default:y}},function(e,t,n){function r(e){return e.toDateString()}function i(e){return u[e.getMonth()]+" "+e.getFullYear()}function a(e){return d[e]}function s(e){return c[e]}function o(){return 0}function l(){return u}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=r,t.formatMonthTitle=i,t.formatWeekdayShort=a,t.formatWeekdayLong=s,t.getFirstDayOfWeek=o,t.getMonths=l;var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["Su","Mo","Tu","We","Th","Fr","Sa"],u=["January","February","March","April","May","June","July","August","September","October","November","December"];t.default={formatDay:r,formatMonthTitle:i,formatWeekdayShort:a,formatWeekdayLong:s,getFirstDayOfWeek:o,getMonths:l}},function(e,t,n){function r(e,t){return!!t&&(Array.isArray(t)?t:[t]).some((function(t){return!!t&&(t instanceof Date?(0,a.isSameDay)(e,t):(0,s.isRangeOfDates)(t)?(0,a.isDayInRange)(e,t):t.after&&t.before&&(0,a.isDayAfter)(t.before,t.after)?(0,a.isDayAfter)(e,t.after)&&(0,a.isDayBefore)(e,t.before):t.after&&t.before&&((0,a.isDayAfter)(t.after,t.before)||(0,a.isSameDay)(t.after,t.before))?(0,a.isDayAfter)(e,t.after)||(0,a.isDayBefore)(e,t.before):t.after?(0,a.isDayAfter)(e,t.after):t.before?(0,a.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some((function(t){return e.getDay()===t})):"function"==typeof t&&t(e))}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(n,i){var a=t[i];return r(e,a)&&n.push(i),n}),[])}Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=r,t.getModifiersForDay=i;var a=n(1),s=n(4);t.default={dayMatchesModifier:r,getModifiersForDay:i}},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),h=i(u),p=i(n(9)),m=i(n(10)),g=i(n(11)),y=i(n(14)),_=r(n(4)),f=r(n(1)),v=r(n(5)),E=r(n(6)),b=i(n(3)),C=n(2),x=t.DayPicker=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dayPicker=null,n.showNextMonth=function(e){if(n.allowNextMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=f.addMonths(n.state.currentMonth,t);n.showMonth(r,e)}},n.showPreviousMonth=function(e){if(n.allowPreviousMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=f.addMonths(n.state.currentMonth,-t);n.showMonth(r,e)}},n.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case C.LEFT:"rtl"===n.props.dir?n.showNextMonth():n.showPreviousMonth(),_.cancelEvent(e);break;case C.RIGHT:"rtl"===n.props.dir?n.showPreviousMonth():n.showNextMonth(),_.cancelEvent(e);break;case C.UP:n.showPreviousYear(),_.cancelEvent(e);break;case C.DOWN:n.showNextYear(),_.cancelEvent(e)}n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleDayKeyDown=function(e,t,r){switch(r.persist(),r.keyCode){case C.LEFT:_.cancelEvent(r),"rtl"===n.props.dir?n.focusNextDay(r.target):n.focusPreviousDay(r.target);break;case C.RIGHT:_.cancelEvent(r),"rtl"===n.props.dir?n.focusPreviousDay(r.target):n.focusNextDay(r.target);break;case C.UP:_.cancelEvent(r),n.focusPreviousWeek(r.target);break;case C.DOWN:_.cancelEvent(r),n.focusNextWeek(r.target);break;case C.ENTER:case C.SPACE:_.cancelEvent(r),n.props.onDayClick&&n.handleDayClick(e,t,r)}n.props.onDayKeyDown&&n.props.onDayKeyDown(e,t,r)},n.handleDayClick=function(e,t,r){r.persist(),t[n.props.classNames.outside]&&n.props.enableOutsideDaysClick&&n.handleOutsideDayClick(e),n.props.onDayClick&&n.props.onDayClick(e,t,r)},n.handleTodayButtonClick=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth());n.showMonth(r),e.target.blur(),n.props.onTodayButtonClick&&(e.persist(),n.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),E.getModifiersForDay(t,n.props.modifiers),e))};var r=n.getCurrentMonthFromProps(e);return n.state={currentMonth:r},n}return l(t,e),d(t,[{key:"componentDidUpdate",value:function(e){if(e.month!==this.props.month&&!f.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:"getCurrentMonthFromProps",value:function(e){var t=_.startOfMonth(e.month||e.initialMonth||new Date);if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var n=_.startOfMonth(e.fromMonth),r=_.getMonthsDiff(n,t);t=f.addMonths(n,Math.floor(r/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&_.getMonthsDiff(t,e.toMonth)<=0&&(t=f.addMonths(_.startOfMonth(e.toMonth),1-this.props.numberOfMonths));return t}},{key:"getNextNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=f.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=f.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,n=t.fromMonth,r=t.toMonth;return!(!t.canChangeMonth||n&&_.getMonthsDiff(n,e)<0||r&&_.getMonthsDiff(r,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:_.startOfMonth(e)},(function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)}))}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"focusFirstDayOfMonth",value:function(){_.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=_.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,n=_.getDayNodes(this.dayPicker,this.props.classNames),r=_.nodeListToArray(n).indexOf(e);-1!==r&&(0===r?this.showPreviousMonth((function(){return t.focusLastDayOfMonth()})):n[r-1].focus())}},{key:"focusNextDay",value:function(e){var t=this,n=_.getDayNodes(this.dayPicker,this.props.classNames),r=_.nodeListToArray(n).indexOf(e);-1!==r&&(r===n.length-1?this.showNextMonth((function(){return t.focusFirstDayOfMonth()})):n[r+1].focus())}},{key:"focusNextWeek",value:function(e){var t=this,n=_.getDayNodes(this.dayPicker,this.props.classNames),r=_.nodeListToArray(n).indexOf(e);r>n.length-8?this.showNextMonth((function(){var e=7-(n.length-r);_.getDayNodes(t.dayPicker,t.props.classNames)[e].focus()})):n[r+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,n=_.getDayNodes(this.dayPicker,this.props.classNames),r=_.nodeListToArray(n).indexOf(e);r<=6?this.showPreviousMonth((function(){var e=_.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+r].focus()})):n[r-7].focus()}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,r=_.getMonthsDiff(t,e);r>0&&r>=n?this.showNextMonth():r<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,n=e.locale,r=e.localeUtils,i=e.canChangeMonth,s=e.navbarElement,o=a(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!i)return null;var l={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:o.dir,labels:t,locale:n,localeUtils:r};return h.default.isValidElement(s)?h.default.cloneElement(s,l):h.default.createElement(s,l)}},{key:"renderMonths",value:function(){for(var e=[],t=_.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var r=f.addMonths(this.state.currentMonth,n);e.push(h.default.createElement(g.default,c({key:n},this.props,{month:r,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderFooter",value:function(){return this.props.todayButton?h.default.createElement("div",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:"renderTodayButton",value:function(){return h.default.createElement("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),h.default.createElement("div",c({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),h.default.createElement("div",{className:this.props.classNames.wrapper,ref:function(t){return e.wrapper=t},tabIndex:this.props.canChangeMonth&&void 0!==this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),h.default.createElement("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(u.Component);x.defaultProps={classNames:b.default,tabIndex:0,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:v,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:h.default.createElement(y.default,null),navbarElement:h.default.createElement(m.default,{classNames:b.default}),captionElement:h.default.createElement(p.default,{classNames:b.default})},x.VERSION="7.4.10",x.DateUtils=f,x.LocaleUtils=v,x.ModifiersUtils=E,t.DateUtils=f,t.LocaleUtils=v,t.ModifiersUtils=E,t.default=x},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7).default;r.Input=n(15).default,t.default=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),d=r(n(5)),u=n(2),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyUp=n.handleKeyUp.bind(n),n}return s(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:"handleKeyUp",value:function(e){e.keyCode===u.ENTER&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.date,r=e.months,i=e.locale,a=e.localeUtils,s=e.onClick;return c.default.createElement("div",{className:t.caption,role:"heading","aria-live":"polite"},c.default.createElement("div",{onClick:s,onKeyUp:this.handleKeyUp},r?r[n.getMonth()]+" "+n.getFullYear():a.formatMonthTitle(n,i)))}}]),t}(l.Component);h.defaultProps={localeUtils:d.default},t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),d=r(n(3)),u=n(2),h=function(e){function t(){var e,n,r;i(this,t);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleNextClick=function(){r.props.onNextClick&&r.props.onNextClick()},r.handlePreviousClick=function(){r.props.onPreviousClick&&r.props.onPreviousClick()},r.handleNextKeyDown=function(e){e.keyCode!==u.ENTER&&e.keyCode!==u.SPACE||(e.preventDefault(),r.handleNextClick())},r.handlePreviousKeyDown=function(e){e.keyCode!==u.ENTER&&e.keyCode!==u.SPACE||(e.preventDefault(),r.handlePreviousClick())},a(r,n)}return s(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.className,r=e.showPreviousButton,i=e.showNextButton,a=e.labels,s=e.dir,o=void 0,l=void 0,d=void 0,u=void 0,h=void 0,p=void 0;"rtl"===s?(o=this.handleNextClick,l=this.handlePreviousClick,d=this.handleNextKeyDown,u=this.handlePreviousKeyDown,p=r,h=i):(o=this.handlePreviousClick,l=this.handleNextClick,d=this.handlePreviousKeyDown,u=this.handleNextKeyDown,p=i,h=r);var m=h?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,g=p?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,y=c.default.createElement("span",{tabIndex:"0",role:"button","aria-label":a.previousMonth,key:"previous",className:m,onKeyDown:h?d:void 0,onClick:h?o:void 0}),_=c.default.createElement("span",{tabIndex:"0",role:"button","aria-label":a.nextMonth,key:"right",className:g,onKeyDown:p?u:void 0,onClick:p?l:void 0});return c.default.createElement("div",{className:n||t.navBar},"rtl"===s?[_,y]:[y,_])}}]),t}(l.Component);h.defaultProps={classNames:d.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0},t.default=h},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=i(c),u=i(n(12)),h=i(n(13)),p=n(2),m=r(n(6)),g=r(n(4)),y=r(n(1)),_=function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderDay=function(e){var t=r.props.month.getMonth(),n=g.getModifiersFromProps(r.props),i=m.getModifiersForDay(e,n);y.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,r.props.classNames.today)&&i.push(r.props.classNames.today),e.getMonth()!==t&&i.push(r.props.classNames.outside);var a=e.getMonth()!==t,s=-1;r.props.onDayClick&&!a&&1===e.getDate()&&(s=r.props.tabIndex);var o=""+e.getFullYear()+e.getMonth()+e.getDate(),l={};return i.forEach((function(e){l[e]=!0})),d.default.createElement(h.default,{key:(a?"outside-":"")+o,classNames:r.props.classNames,day:e,modifiers:l,modifiersStyles:r.props.modifiersStyles,empty:a&&!r.props.showOutsideDays&&!r.props.fixedWeeks,tabIndex:s,ariaLabel:r.props.localeUtils.formatDay(e,r.props.locale),ariaDisabled:a||i.indexOf(r.props.classNames.disabled)>-1,ariaSelected:i.indexOf(r.props.classNames.selected)>-1,onClick:r.props.onDayClick,onFocus:r.props.onDayFocus,onKeyDown:r.props.onDayKeyDown,onMouseEnter:r.props.onDayMouseEnter,onMouseLeave:r.props.onDayMouseLeave,onMouseDown:r.props.onDayMouseDown,onMouseUp:r.props.onDayMouseUp,onTouchEnd:r.props.onDayTouchEnd,onTouchStart:r.props.onDayTouchStart},r.props.renderDay(e,l))},s(r,n)}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classNames,r=t.month,i=t.months,a=t.fixedWeeks,s=t.captionElement,o=t.weekdayElement,l=t.locale,c=t.localeUtils,h=t.weekdaysLong,m=t.weekdaysShort,_=t.firstDayOfWeek,f=t.onCaptionClick,v=t.showWeekNumbers,E=t.showWeekDays,b=t.onWeekClick,C={date:r,classNames:n,months:i,localeUtils:c,locale:l,onClick:f?function(e){return f(r,e)}:void 0},x=d.default.isValidElement(s)?d.default.cloneElement(s,C):d.default.createElement(s,C),w=g.getWeekArray(r,_,a);return d.default.createElement("div",{className:n.month,role:"grid"},x,E&&d.default.createElement(u.default,{classNames:n,weekdaysShort:m,weekdaysLong:h,firstDayOfWeek:_,showWeekNumbers:v,locale:l,localeUtils:c,weekdayElement:o}),d.default.createElement("div",{className:n.body,role:"rowgroup"},w.map((function(t){var i=void 0;return v&&(i=y.getWeekNumber(t[6])),d.default.createElement("div",{key:t[0].getTime(),className:n.week,role:"row"},v&&d.default.createElement("div",{className:n.weekNumber,tabIndex:b?0:-1,role:"gridcell",onClick:b?function(e){return b(i,t,e)}:void 0,onKeyUp:b?function(e){return e.keyCode===p.ENTER&&b(i,t,e)}:void 0},e.props.renderWeek(i,t,r)),t.map(e.renderDay))}))))}}]),t}(c.Component);t.default=_},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(s=l)&&s.__esModule?s:{default:s},d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){for(var e=this.props,t=e.classNames,n=e.firstDayOfWeek,r=e.showWeekNumbers,i=e.weekdaysLong,a=e.weekdaysShort,s=e.locale,o=e.localeUtils,l=e.weekdayElement,d=[],u=0;u<7;u+=1){var h=(u+n)%7,p={key:u,className:t.weekday,weekday:h,weekdaysLong:i,weekdaysShort:a,localeUtils:o,locale:s},m=c.default.isValidElement(l)?c.default.cloneElement(l,p):c.default.createElement(l,p);d.push(m)}return c.default.createElement("div",{className:t.weekdays,role:"rowgroup"},c.default.createElement("div",{className:t.weekdaysRow,role:"row"},r&&c.default.createElement("div",{className:t.weekday}),d))}}]),t}(l.Component);t.default=d},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){if(e)return function(r){r.persist(),e(t,n,r)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),u=r(d),h=n(1),p=n(4),m=r(n(3)),g=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=Object.keys(this.props),r=Object.keys(e);return n.length!==r.length||n.some((function(n){if("modifiers"===n||"modifiersStyles"===n||"classNames"===n){var r=t.props[n],i=e[n],a=Object.keys(r),s=Object.keys(i);return a.length!==s.length||a.some((function(e){return!(0,p.hasOwnProp)(i,e)||r[e]!==i[e]}))}return"day"===n?!(0,h.isSameDay)(t.props[n],e[n]):!(0,p.hasOwnProp)(e,n)||t.props[n]!==e[n]}))}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.modifiersStyles,r=e.day,i=e.tabIndex,a=e.empty,s=e.modifiers,c=e.onMouseEnter,d=e.onMouseLeave,h=e.onMouseUp,p=e.onMouseDown,g=e.onClick,y=e.onKeyDown,_=e.onTouchStart,f=e.onTouchEnd,v=e.onFocus,E=e.ariaLabel,b=e.ariaDisabled,C=e.ariaSelected,x=e.children,w=t.day;t!==m.default?w+=" "+Object.keys(s).join(" "):w+=Object.keys(s).map((function(e){return" "+w+"--"+e})).join("");var S=void 0;return n&&Object.keys(s).filter((function(e){return!!n[e]})).forEach((function(e){S=l({},S,n[e])})),a?u.default.createElement("div",{"aria-disabled":!0,className:w,style:S}):u.default.createElement("div",{className:w,tabIndex:i,style:S,role:"gridcell","aria-label":E,"aria-disabled":b,"aria-selected":C,onClick:o(g,r,s),onKeyDown:o(y,r,s),onMouseEnter:o(c,r,s),onMouseLeave:o(d,r,s),onMouseUp:o(h,r,s),onMouseDown:o(p,r,s),onTouchEnd:o(f,r,s),onTouchStart:o(_,r,s),onFocus:o(v,r,s)},x)}}]),t}(d.Component);g.defaultProps={tabIndex:-1},g.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=g},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(s=l)&&s.__esModule?s:{default:s},d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){var e=this.props,t=e.weekday,n=e.className,r=e.weekdaysLong,i=e.weekdaysShort,a=e.localeUtils,s=e.locale,o=void 0;o=r?r[t]:a.formatWeekdayLong(t,s);var l=void 0;return l=i?i[t]:a.formatWeekdayShort(t,s),c.default.createElement("div",{className:n,role:"columnheader"},c.default.createElement("abbr",{title:o},l))}}]),t}(l.Component);t.default=d},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e){var t=(e.input,e.selectedDay,e.month,e.children),n=e.classNames,r=l(e,["input","selectedDay","month","children","classNames"]);return m.default.createElement("div",p({className:n.overlayWrapper},r),m.default.createElement("div",{className:n.overlay},t))}function d(e){return(0,y.isDate)(e)?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}function u(e){if("string"==typeof e){var t=e.split("-");if(3===t.length){var n=parseInt(t[0],10),r=parseInt(t[1],10)-1,i=parseInt(t[2],10);if(!(isNaN(n)||String(n).length>4||isNaN(r)||isNaN(i)||i<=0||i>31||r<0||r>=12))return new Date(n,r,i,12,0,0,0)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_TIMEOUT=void 0;var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.OverlayComponent=c,t.defaultFormat=d,t.defaultParse=u;var m=r(n(0)),g=r(n(7)),y=n(1),_=n(6),f=n(2),v=t.HIDE_TIMEOUT=100,E=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.input=null,n.daypicker=null,n.clickTimeout=null,n.hideTimeout=null,n.inputBlurTimeout=null,n.inputFocusTimeout=null,n.state=n.getInitialStateFromProps(e),n.state.showOverlay=e.showOverlay,n.hideAfterDayClick=n.hideAfterDayClick.bind(n),n.handleInputClick=n.handleInputClick.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleInputKeyDown=n.handleInputKeyDown.bind(n),n.handleInputKeyUp=n.handleInputKeyUp.bind(n),n.handleDayClick=n.handleDayClick.bind(n),n.handleMonthChange=n.handleMonthChange.bind(n),n.handleOverlayFocus=n.handleOverlayFocus.bind(n),n.handleOverlayBlur=n.handleOverlayBlur.bind(n),n}return o(t,e),h(t,[{key:"componentDidUpdate",value:function(e){var t={},n=this.props,r=n.value,i=n.formatDate,a=n.format,s=n.dayPickerProps;r===e.value&&s.locale===e.dayPickerProps.locale&&a===e.format||((0,y.isDate)(r)?t.value=i(r,a,s.locale):t.value=r);var o=e.dayPickerProps.month;s.month&&s.month!==o&&!(0,y.isSameMonth)(s.month,o)&&(t.month=s.month),e.dayPickerProps.selectedDays!==s.selectedDays&&(t.selectedDays=s.selectedDays),Object.keys(t).length>0&&this.setState(t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.inputFocusTimeout),clearTimeout(this.inputBlurTimeout),clearTimeout(this.overlayBlurTimeout)}},{key:"getInitialMonthFromProps",value:function(e){var t=e.dayPickerProps,n=e.format,r=void 0;return e.value&&(r=(0,y.isDate)(e.value)?e.value:e.parseDate(e.value,n,t.locale)),t.initialMonth||t.month||r||new Date}},{key:"getInitialStateFromProps",value:function(e){var t=e.dayPickerProps,n=e.formatDate,r=e.format,i=e.typedValue,a=e.value;return e.value&&(0,y.isDate)(e.value)&&(a=n(e.value,r,t.locale)),{value:a,typedValue:i,month:this.getInitialMonthFromProps(e),selectedDays:t.selectedDays}}},{key:"getInput",value:function(){return this.input}},{key:"getDayPicker",value:function(){return this.daypicker}},{key:"updateState",value:function(e,t,n){var r=this,a=this.props,s=a.dayPickerProps,o=a.onDayChange;this.setState({month:e,value:t,typedValue:""},(function(){if(n&&n(),o){var t=p({disabled:s.disabledDays,selected:s.selectedDays},s.modifiers),a=(0,_.getModifiersForDay)(e,t).reduce((function(e,t){return p({},e,i({},t,!0))}),{});o(e,a,r)}}))}},{key:"showDayPicker",value:function(){var e=this,t=this.props,n=t.parseDate,r=t.format,i=t.dayPickerProps,a=this.state,s=a.value;if(!a.showOverlay){var o=s?n(s,r,i.locale):this.getInitialMonthFromProps(this.props);this.setState((function(e){return{showOverlay:!0,month:o||e.month}}),(function(){e.props.onDayPickerShow&&e.props.onDayPickerShow()}))}}},{key:"hideDayPicker",value:function(){var e=this;!1!==this.state.showOverlay&&this.setState({showOverlay:!1},(function(){e.props.onDayPickerHide&&e.props.onDayPickerHide()}))}},{key:"hideAfterDayClick",value:function(){var e=this;this.props.hideOnDayClick&&(this.hideTimeout=setTimeout((function(){e.overlayHasFocus=!1,e.hideDayPicker()}),v))}},{key:"handleInputClick",value:function(e){this.showDayPicker(),this.props.inputProps.onClick&&(e.persist(),this.props.inputProps.onClick(e))}},{key:"handleInputFocus",value:function(e){var t=this;this.showDayPicker(),this.inputFocusTimeout=setTimeout((function(){t.overlayHasFocus=!1}),2),this.props.inputProps.onFocus&&(e.persist(),this.props.inputProps.onFocus(e))}},{key:"handleInputBlur",value:function(e){var t=this;this.inputBlurTimeout=setTimeout((function(){t.overlayHasFocus||t.hideDayPicker()}),1),this.props.inputProps.onBlur&&(e.persist(),this.props.inputProps.onBlur(e))}},{key:"handleOverlayFocus",value:function(e){e.preventDefault(),this.overlayHasFocus=!0,this.props.keepFocus&&this.input&&"function"==typeof this.input.focus&&this.input.focus()}},{key:"handleOverlayBlur",value:function(){var e=this;this.overlayBlurTimeout=setTimeout((function(){e.overlayHasFocus=!1}),3)}},{key:"handleInputChange",value:function(e){var t=this.props,n=t.dayPickerProps,r=t.format,i=t.inputProps,a=t.onDayChange,s=t.parseDate;i.onChange&&(e.persist(),i.onChange(e));var o=e.target.value;if(""===o.trim())return this.setState({value:o,typedValue:""}),void(a&&a(void 0,{},this));var l=s(o,r,n.locale);if(!l)return this.setState({value:o,typedValue:o}),void(a&&a(void 0,{},this));this.updateState(l,o)}},{key:"handleInputKeyDown",value:function(e){e.keyCode===f.TAB?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyDown&&(e.persist(),this.props.inputProps.onKeyDown(e))}},{key:"handleInputKeyUp",value:function(e){e.keyCode===f.ESC?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyUp&&(e.persist(),this.props.inputProps.onKeyUp(e))}},{key:"handleMonthChange",value:function(e){var t=this;this.setState({month:e},(function(){t.props.dayPickerProps&&t.props.dayPickerProps.onMonthChange&&t.props.dayPickerProps.onMonthChange(e)}))}},{key:"handleDayClick",value:function(e,t,n){var r=this,i=this.props,a=i.clickUnselectsDay,s=i.dayPickerProps,o=i.onDayChange,l=i.formatDate,c=i.format;if(s.onDayClick&&s.onDayClick(e,t,n),!(t.disabled||s&&s.classNames&&t[s.classNames.disabled])){if(t.selected&&a){var d=this.state.selectedDays;if(Array.isArray(d)){var u=(d=d.slice(0)).indexOf(e);d.splice(u,1)}else d&&(d=null);return this.setState({value:"",typedValue:"",selectedDays:d},this.hideAfterDayClick),void(o&&o(void 0,t,this))}var h=l(e,c,s.locale);this.setState({value:h,typedValue:"",month:e},(function(){o&&o(e,t,r),r.hideAfterDayClick()}))}}},{key:"renderOverlay",value:function(){var e=this,t=this.props,n=t.classNames,r=t.dayPickerProps,i=t.parseDate,a=t.formatDate,s=t.format,o=this.state,l=o.selectedDays,c=o.value,d=void 0;if(!l&&c){var u=i(c,s,r.locale);u&&(d=u)}else l&&(d=l);var h=void 0;r.todayButton&&(h=function(){return e.updateState(new Date,a(new Date,s,r.locale),e.hideAfterDayClick)});var y=this.props.overlayComponent;return m.default.createElement(y,{classNames:n,month:this.state.month,selectedDay:d,input:this.input,tabIndex:0,onFocus:this.handleOverlayFocus,onBlur:this.handleOverlayBlur},m.default.createElement(g.default,p({ref:function(t){return e.daypicker=t},onTodayButtonClick:h},r,{month:this.state.month,selectedDays:d,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange})))}},{key:"render",value:function(){var e=this,t=this.props.component,n=this.props.inputProps;return m.default.createElement("div",{className:this.props.classNames.container,style:this.props.style},m.default.createElement(t,p({ref:function(t){return e.input=t},placeholder:this.props.placeholder},n,{value:this.state.value||this.state.typedValue,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:n.disabled?void 0:this.handleInputClick})),this.state.showOverlay&&this.renderOverlay())}}]),t}(m.default.Component);E.defaultProps={dayPickerProps:{},value:"",typedValue:"",placeholder:"YYYY-M-D",format:"L",formatDate:d,parseDate:u,showOverlay:!1,hideOnDayClick:!0,clickUnselectsDay:!1,keepFocus:!0,component:"input",inputProps:{},overlayComponent:c,classNames:{container:"DayPickerInput",overlayWrapper:"DayPickerInput-OverlayWrapper",overlay:"DayPickerInput-Overlay"}},t.default=E}]).default),u.div`
  padding-top: 8px;

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }

  .DayPicker-Month {
    border: ${({theme:e})=>`1px solid ${e.themeColors.text}`};
    border-radius: 5px;

    margin: 12px 0;
  }

  .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {
    color: ${({theme:e})=>e.themeColors.buttonText} !important;
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton} !important;
    border-radius: 5px !important;
  }

  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {
    color: ${({theme:e})=>e.themeColors.text} !important;
    background-color: ${({theme:e})=>br(e.themeColors.primaryCtaButton,.2)} !important;
    border-radius: 5px !important;
  }

  .DayPicker-NavBar {
    span {
      top: 10px;
      color: ${({theme:e})=>e.themeColors.text};
    }
  }
`;const Ys=u.form`
  display: block;
  margin: 0;
  padding: 0;

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }

  select {
    color: ${({theme:e})=>e.themeColors.text};
    -webkit-appearance: auto;
  }

  .DayPicker-Month {
    border: ${({theme:e})=>`1px solid ${e.themeColors.text}`};
    border-radius: 5px;

    margin: 12px 0;
  }

  .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {
    color: ${({theme:e})=>e.colorThemeName===Er.light?vr.primary.oak:vr.primary.charcoal} !important;
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton} !important;
    border-radius: 5px !important;
  }

  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {
    color: ${({theme:e})=>e.themeColors.text} !important;
    background-color: ${({theme:e})=>br(e.themeColors.primaryCtaButton,.2)} !important;
    border-radius: 5px !important;
  }

  .DayPicker-NavBar {
    span {
      top: 10px;
      color: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Ks=u.div`
  display: block;
  margin: 0;
  padding: 8px 0;
  height: 46px;
`,Qs=u.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 200px;
  height: 29px;
`,Zs=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,Xs=["January","February","March","April","May","June","July","August","September","October","November","December"],Js=(new Date).getMonth(),eo=(new Date).getFullYear(),to=new Date(eo,Js),no=new Date(eo+10,Js),ro=({name:e,label:t,toMonth:n,value:r,error:i,onChange:a})=>{const s=""!==r&&r?r:new Date,o=[];for(let c=to.getFullYear();c<=(n||no).getFullYear();c+=1)o.push(c);const l=t=>{const{year:n,month:r}=t.target.form,i=new Date(n.value,r.value);a(e)(i)};return c.createElement(Ys,{className:"DayPicker-Caption"},t&&c.createElement("label",null,c.createElement(Ei,null,t)),c.createElement(Ks,{className:"input-wrapper"},c.createElement(Qs,null,c.createElement("select",{name:"month",onChange:l,value:s.getMonth()},Xs.map(((e,t)=>c.createElement("option",{key:e,value:t},e)))),c.createElement("select",{name:"year",onChange:l,value:s.getFullYear()},o.map((e=>c.createElement("option",{key:e,value:e},e)))))),i&&c.createElement(Zs,{className:"sc-error-text"},c.createElement(Ei,null,i)))},io=u.div`
  border: none;

  select {
    display: block;
    width: 100%;

    color: ${({theme:e})=>e.themeColors.text};
    cursor: pointer;

    option {
      color: ${({theme:e})=>e.themeColors.text};
      background: ${({theme:e})=>e.themeColors.component};
      font-size: 16px;
    }
  }
`,ao=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,so=({text:e,value:t,disabled:n})=>({text:e,value:t,disabled:n}),oo=({item:e})=>{const{text:t,disabled:n,value:r}=e,i=t;return c.createElement("option",{value:r,disabled:n},n?i:t)},lo=({name:e,value:t,label:n,items:r,onChange:i,error:a})=>{const s=c.useCallback((t=>{const n=t.target.value;i(e)(n)}),[i,e]);return c.createElement(io,null,n&&c.createElement("label",{for:e,className:"no-select"},c.createElement(Ei,null,n)),c.createElement("select",{name:e,value:t,onChange:s},r.map((t=>c.createElement(oo,{key:`${e}-${t.value}`,item:t})))),a&&c.createElement(ao,{className:"sc-error-text"},c.createElement(Ei,null,a)))},co=u.div``,uo=u.div`
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-start;
`,ho=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,po=({text:e,value:t})=>({text:e,value:t}),mo=({name:e,values:t,items:n,onChange:r,error:i,ItemComponent:a})=>{const s=c.useCallback((n=>{if(t.includes(n)){const i=t.filter((e=>e!==n));r(e)(i)}else{const i=[...t,n];r(e)(i)}}),[r,e,t]);return c.createElement(co,null,c.createElement(uo,null,n.map((e=>c.createElement(a,Hn(Vn({key:e.value},e),{onClick:s,isSelected:t.includes(e.value)}))))),i&&c.createElement(ho,{className:"sc-error-text"},c.createElement(Ei,null,i)))},go=u.div`
  padding-right: 16px;
  padding-bottom: 16px;

  button {
    padding: 6px 8px;
  }

  svg {
    margin-left: 12px;
    line-height: 18px;
    height: 14px;
    width: 14px;
  }

  @media (max-width: 360px) {
    padding-right: 8px;

    svg {
      margin-left: 6px;
    }
  }
`,yo=u.div`
  * {
    transition: all 150ms;
  }
  button {
    display: block;

    background: transparent;
    border: 2px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 5px;
    cursor: pointer;

    * {
      fill: ${({theme:e})=>e.themeColors.text};
      color: ${({theme:e})=>e.themeColors.text};
    }
  }

  button:hover {
    display: block;

    border: 2px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 5px;
    background: ${({theme:e})=>e.themeColors.text};

    cursor: pointer;
    * {
      fill: ${({theme:e})=>e.themeColors.appBackground};
      color: ${({theme:e})=>e.themeColors.appBackground};
    }
  }
`,_o=u.div`
  * {
    transition: all 150ms;
  }
  button {
    display: block;

    border: 2px solid ${({theme:e})=>br(e.themeColors.appBackground,.2)};
    border-radius: 5px;
    background: ${({theme:e})=>e.themeColors.text};

    cursor: pointer;
    * {
      fill: ${({theme:e})=>e.themeColors.appBackground};
      color: ${({theme:e})=>e.themeColors.appBackground};
    }
  }
`,fo=({text:e,value:t,isSelected:n,onClick:r})=>{const i=c.useCallback((()=>{r(t)}),[r,t]);return n?c.createElement(go,null,c.createElement(_o,null,c.createElement("button",{name:name,value:t,onClick:i},c.createElement(Ei,null,e),c.createElement(Vi,null)))):c.createElement(go,null,c.createElement(yo,null,c.createElement("button",{name:name,value:t,onClick:i},c.createElement(Ei,null,e),c.createElement(Vi,null))))},vo=u.div`
  border: none;

  select {
    display: block;
    width: 100%;

    color: ${({theme:e})=>e.themeColors.text};
    cursor: pointer;

    option {
      color: ${({theme:e})=>e.themeColors.text};
      background: ${({theme:e})=>e.themeColors.component};
      font-size: 16px;
    }
  }
`,Eo=u.div`
  background: transparent;
  width: 36px;
`,bo=u.div`
  position: relative;
  cursor: pointer;
  overflow: hidden;

  transition: all 0.2s ease;

  background: transparent;
  border-radius: 2px;
  border: 1px solid ${({theme:e})=>e.themeColors.border};

  height: 20px;
  width: 20px;

  &::before,
  &::after {
    position: absolute;
    display: block;
    content: '';
    width: 2px;
    transition: all 0.2s ease;
  }
  &::before {
    height: 3px;
    left: 1px;
    top: 20px;
    -webkit-transform: rotate(-45deg);
    transform: rotate(-45deg);
  }
  &::after {
    height: 7px;
    right: 3px;
    top: 20px;
    -webkit-transform: rotate(45deg);
    transform: rotate(45deg);
  }

  ${({theme:e,checked:t})=>t?`\n    background-color: ${e.themeColors.primaryCtaButton};\n    \n      &::before {\n        height: 6px;\n        left: 4px;\n        top: 9px;\n        -webkit-transform: rotate(-40deg);\n        transform: rotate(-40deg);\n        background-color: ${e.themeColors.component};\n      }\n      &::after {\n        height: 13px;\n        right: 6px;\n        top: 3px;\n        background-color: ${e.themeColors.component};\n      }\n  `:""};
`,Co=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,xo=({name:e,value:t,label:n,onChange:r,error:i,stopPropagation:a})=>{const s=c.useCallback((n=>{a&&n.stopPropagation(),r(e)(!t)}),[r,e,t]);return c.createElement(vo,null,n&&c.createElement("label",{className:"no-select"},c.createElement(Ei,null,n)),c.createElement(Eo,null,c.createElement(bo,{id:`checkbox-${e}`,checked:t,onClick:s})),i&&c.createElement(Co,{className:"sc-error-text"},c.createElement(Ei,null,i)))},wo=u.div`
  position: relative;

  label {
    position: absolute;
    top: 0;
    left: 0;
    height: 20px;
    padding: 0;
  }

  .sc-input-wrapper {
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: ${({theme:e})=>e.themeColors.text};
  }

  .input-text-prefix {
    padding: 7px 0 9px 0;
    font-size: 18px;
    line-height: 27px;
  }

  input {
    padding: 8px 0 8px 3px;

    transform-origin: left;
    transition: border 0.3s ease;
    font-size: 16px;
    line-height: 27px;
    border: none !important;

    &:focus {
      outline: none;
    }
  }

  ${({theme:e,isLifted:t})=>t?"\n      label {\n        left: 0px;\n      }\n    ":"\n      label {\n        top: 32px;\n        left: 0;\n\n        pointer-events: none;\n\n        * {\n          font-size: 16px;\n        }\n      }\n      \n      .input-text-prefix {\n        display: none;\n      }\n    "};

  .sc-error-text {
    padding: 4px 0 0 3px;
  }

  ${({theme:e,error:t})=>null!==t?`\n      .sc-input-wrapper {\n        border-color: ${e.themeColors.error};\n      }\n\n      label * {\n        color: ${e.themeColors.error};\n     }\n  `:""};

  ${({theme:e,isFocused:t})=>t?`\n      .sc-input-wrapper {\n        border-color: ${e.themeColors.primaryCtaButton};\n      }\n\n      label * {\n        color: ${e.themeColors.primaryCtaButton};\n     }\n  `:""};
`,So=u.div`
  height: 20px;
`,ko=e=>{const[t,n]=c.useState(!1),{value:r,placeholder:i,error:a,onFocus:s,onBlur:o,forceLiftedState:l}=e,d=!t&&""===r;return c.createElement(wo,{error:a,isFocused:t,isLifted:!d||l},c.createElement(So,null),c.createElement(js,Hn(Vn({},e),{value:d?"":r,placeholder:i,onFocus:e=>{s&&s(e),n(!0)},onBlur:e=>{o&&o(e),n(!1)}})))},To=u.div`
  width: 100%;

  label {
    padding: 0;
    margin: 0;
  }

  select {
    padding: 8px 0;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
    font-size: 16px;
    line-height: 18px;
    height: 46px; // line height doesn't change height of select
  }

  .sc-error-text {
    padding: 4px 0 0 3px;
  }
`,Io=e=>c.createElement(To,null,c.createElement(lo,Vn({},e)));u.div``,u.div`
  position: relative;

  label {
    position: absolute;
    top: 0;
    left: 0;
    height: 20px;
    padding: 0;
  }

  .sc-input-wrapper {
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: ${({theme:e})=>e.themeColors.text};
  }

  .input-text-prefix {
    padding: 8px 0;
  }

  input {
    padding: 8px 0 8px 3px;

    transform-origin: left;
    transition: border 0.3s ease;
    font-size: 16px;
    line-height: 27px;

    &:focus {
      outline: none;
    }
  }

  ${({theme:e,isLifted:t})=>"\n      label {\n        left: 0px;\n      }\n    "};

  .sc-error-text {
    padding: 4px 0 0 3px;
  }

  ${({theme:e,error:t})=>null!==t?`\n      .sc-input-wrapper {\n        border-color: ${e.themeColors.error};\n      }\n\n      label * {\n        color: ${e.themeColors.error};\n     }\n  `:""};
`,u.div`
  position: relative;
  margin-top: 20px;
  width: 100%;
  padding: 8px 0 8px 3px;

  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: ${({theme:e})=>e.themeColors.text};

  font-size: 16px;
  line-height: 27px;
  color: ${({theme:e})=>e.themeColors.text};
  cursor: default;
`,u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`;const No=u.form`
  display: block;
  margin: 0;
  padding: 0;

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }

  .input-wrapper {
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  select {
    color: ${({theme:e})=>e.themeColors.text};
    -webkit-appearance: auto;
  }
`,Ao=e=>c.createElement(No,null,c.createElement(ro,Vn({},e))),Po=u.div`
  position: relative;
`,Do=u.div`
  position: relative;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
`,Oo=u.div`
  margin-right: 16px;

  &:last-child {
    margin-right: 0;
  }
`,Lo=u.div`
  padding-top: 8px;
  color: ${({theme:e})=>e.themeColors.error};
`,Ro=e=>{const{name:t,value:n,error:r,onChange:i,autoFocus:a}=e,[s,o]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(""),p=c.useRef(null),m=c.useRef(null),g=c.useRef(null);return c.useEffect((()=>{if(""!==n){const e=new Date(n);if(!isNaN(e.getDate())){const[e,t,r]=n.split("/");o(e),d(t),h(r)}}}),[]),c.useEffect((()=>{var e;1===s.length&&["3","4","5","6","7","8","9"].includes(s)&&(o("0"+s),null==(e=null==m?void 0:m.current)||e.focus());let n="1"===s?"01":s,r=1===l.length?"0"+l:l;const a=`${n}/${r}/${u}`,c=new Date(a);!isNaN(c.getDate())&&s.length>0&&l.length>0&&4===u.length&&(s!==n&&o(n),l!==r&&d(r),i(t)(a))}),[t,s,l,u,i]),c.createElement(Po,null,c.createElement(Do,null,c.createElement(Oo,null,c.createElement(ko,Hn(Vn({},e),{name:e.name?`${e.name}-month`:"date-month",inputRef:p,onChange:e=>e=>{var t;o(e),2===n.length&&(null==(t=null==m?void 0:m.current)||t.focus())},label:"Month",value:s,placeholder:"MM",forceLiftedState:!0,autoFocus:a,error:null}))),c.createElement(Oo,null,c.createElement(ko,Hn(Vn({},e),{name:e.name?`${e.name}-day`:"date-day",inputRef:m,onChange:e=>e=>{var t;d(e),2===e.length&&(null==(t=null==g?void 0:g.current)||t.focus())},label:"Day",value:l,placeholder:"DD",forceLiftedState:!0,autoFocus:!1,error:null}))),c.createElement(Oo,null,c.createElement(ko,Hn(Vn({},e),{name:e.name?`${e.name}-year`:"date-year",inputRef:g,onChange:e=>e=>{h(e)},label:"Year",value:u,placeholder:"YYYY",forceLiftedState:!0,autoFocus:!1,error:null})))),null!==r&&c.createElement(Lo,null,r))},Fo=u.div`
  select {
    padding: 4px 0;
    margin: 0 4px;

    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
    border-top: none;
    border-left: none;
    border-right: none;

    font-size: 16px;
    line-height: 18px;

    // web-ui global overrides
    display: inline-block !important;
    width: auto !important;
    background: none !important;
    -webkit-appearance: auto;
  }

  .sc-error-text {
    padding: 4px 0 0 3px;
  }
`,Mo=e=>c.createElement(Fo,null,c.createElement(lo,Hn(Vn({},e),{label:null}))),Uo=u.div`
  label {
    padding: 0;
    margin: 0;
  }

  select {
    padding: 8px 0;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
    font-size: 16px;
    line-height: 18px;
  }

  .sc-error-text {
    padding: 4px 0 0 3px;
  }
`,$o=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,Bo=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,zo=e=>{const{label:t,error:n}=e;return c.createElement(Uo,null,c.createElement($o,null,c.createElement(xo,Hn(Vn({},e),{label:null,error:null})),c.createElement(Ei,null,t)),n&&c.createElement(Bo,null,c.createElement(Ei,null,n)))},Vo=u.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,Ho=u.div`
  display: flex;
  flex: 1;
  justify-content: center;
  align-items: center;

  svg {
    width: ${({size:e})=>`${e>0?e:24}px`};
  }

  path {
    fill: ${({theme:e})=>e.themeColors.neutral};
  }
`,Wo=u.div`
  display: flex;
  flex: 1;
  justify-content: center;
  align-items: center;

  svg {
    width: ${({size:e})=>`${e>0?e:24}px`};
  }

  path {
    fill: ${({theme:e})=>e.themeColors.positive};
  }
`,jo=u.div`
  display: flex;
  flex: 1;
  justify-content: center;
  align-items: center;

  svg {
    width: ${({size:e})=>`${e>0?e:24}px`};
  }

  path {
    fill: ${({theme:e})=>e.themeColors.negative};
  }
`,Go=({value:e,size:t})=>0===e?c.createElement(Vo,null,c.createElement(Ho,{size:t},c.createElement(da,null))):e>0?c.createElement(Vo,null,c.createElement(Wo,{size:t},c.createElement(sa,null))):e<0?c.createElement(Vo,null,c.createElement(jo,{size:t},c.createElement(la,null))):null,qo=d`
  svg {
    background: #2b2927;
    border-radius: 9px;
    .border-color-app-store {
      fill: #2b2927;
    }
  }
`,Yo=u.div`
  cursor: pointer;

  g {
    fill: ${e=>e.forceDarkTheme?e.theme.secondary.white:e.theme.themeColors.text};
  }
  ${e=>e.isDarkBg?qo:""};
`;p((function({forceDarkTheme:e,height:t,width:n,isDarkBg:r,onAfterClick:i}){return c.createElement(Yo,{forceDarkTheme:e,isDarkBg:r,onClick:()=>{null==window||window.open("https://apps.apple.com/us/app/nvstr-invest-trade-discuss/id1481266478?ls=1","_blank").focus(),i()}},c.createElement("svg",{width:n,height:t,viewBox:"0 0 205 59",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",null,c.createElement("path",{className:"border-color-app-store",d:"M196.667 1.17426C200.169 1.17426 203.019 3.93509 203.019 7.32796V51.296C203.019 54.6889 200.169 57.4497 196.667 57.4497H7.5641C4.06192 57.4497 1.21215 54.6889 1.21215 51.296V7.32796C1.21215 3.93509 4.06192 1.17426 7.5641 1.17426H196.667ZM196.667 -5.01847e-05H7.5641C3.40574 -5.01847e-05 0 3.29938 0 7.32796V51.296C0 55.3246 3.40574 58.624 7.5641 58.624H196.667C200.825 58.624 204.231 55.3246 204.231 51.296V7.32796C204.231 3.29938 200.825 -5.01847e-05 196.667 -5.01847e-05Z"}),c.createElement("path",{d:"M45.578 28.9951C45.5341 24.2715 49.5703 21.9734 49.7549 21.8665C47.469 18.6377 43.926 18.1966 42.6809 18.1614C39.7052 17.858 36.8187 19.8864 35.3029 19.8864C33.7568 19.8864 31.4225 18.1907 28.9067 18.2406C25.6692 18.2889 22.6406 20.1048 20.9795 22.9246C17.5515 28.6742 20.1081 37.1234 23.3925 41.7708C25.0354 44.0469 26.9551 46.5882 29.4679 46.4988C31.9263 46.4006 32.8446 44.9805 35.8112 44.9805C38.7506 44.9805 39.6129 46.4988 42.1756 46.4417C44.814 46.4006 46.4751 44.1553 48.0605 41.8587C49.9591 39.25 50.7216 36.6808 50.7518 36.5489C50.6898 36.5283 45.6279 34.6568 45.578 28.9951Z"}),c.createElement("path",{d:"M40.7369 15.1042C42.0591 13.5023 42.9638 11.3229 42.7127 9.11133C40.799 9.1934 38.4057 10.3937 37.0275 11.9605C35.8082 13.3411 34.7189 15.6039 35.0003 17.732C37.15 17.8874 39.3572 16.6812 40.7369 15.1042Z"}),c.createElement("path",{d:"M81.1547 46.1737H77.7191L75.8372 40.4446H69.2957L67.503 46.1737H64.1582L70.6391 26.6694H74.642L81.1547 46.1737ZM75.2699 38.041L73.5679 32.9481C73.3879 32.4278 73.0506 31.2025 72.5528 29.2738H72.4923C72.2941 30.1033 71.9749 31.3286 71.5362 32.9481L69.8646 38.041H75.2699Z"}),c.createElement("path",{d:"M97.8218 38.9671C97.8218 41.3589 97.1546 43.2496 95.8203 44.6375C94.6252 45.873 93.1411 46.49 91.3696 46.49C89.4574 46.49 88.0837 45.8246 87.2472 44.4939H87.1866V51.9025H83.9613V36.7379C83.9613 35.2342 83.9205 33.6909 83.8418 32.1081H86.6783L86.8584 34.3372H86.9189C87.9945 32.6577 89.6268 31.8193 91.8174 31.8193C93.5299 31.8193 94.9595 32.4745 96.1032 33.7862C97.2499 35.0994 97.8218 36.8258 97.8218 38.9671ZM94.5359 39.0814C94.5359 37.7125 94.2182 36.584 93.5798 35.6959C92.8824 34.7696 91.946 34.3065 90.772 34.3065C89.9763 34.3065 89.2532 34.5644 88.6072 35.073C87.9597 35.5859 87.5361 36.2557 87.3379 37.0852C87.2381 37.4722 87.1882 37.7887 87.1882 38.0379V40.3828C87.1882 41.4058 87.5119 42.2691 88.1594 42.974C88.8069 43.679 89.648 44.0307 90.6828 44.0307C91.8976 44.0307 92.8431 43.5764 93.5193 42.6707C94.1971 41.7634 94.5359 40.5675 94.5359 39.0814Z"}),c.createElement("path",{d:"M114.518 38.9671C114.518 41.3589 113.851 43.2496 112.516 44.6375C111.322 45.873 109.838 46.49 108.066 46.49C106.154 46.49 104.78 45.8246 103.945 44.4939H103.885V51.9025H100.66V36.7379C100.66 35.2342 100.619 33.6909 100.54 32.1081H103.377L103.557 34.3372H103.617C104.691 32.6577 106.324 31.8193 108.516 31.8193C110.227 31.8193 111.656 32.4745 112.803 33.7862C113.945 35.0994 114.518 36.8258 114.518 38.9671ZM111.233 39.0814C111.233 37.7125 110.913 36.584 110.275 35.6959C109.578 34.7696 108.644 34.3065 107.469 34.3065C106.672 34.3065 105.95 34.5644 105.302 35.073C104.655 35.5859 104.233 36.2557 104.035 37.0852C103.936 37.4722 103.885 37.7887 103.885 38.0379V40.3828C103.885 41.4058 104.209 42.2691 104.853 42.974C105.501 43.6775 106.342 44.0307 107.38 44.0307C108.594 44.0307 109.54 43.5764 110.216 42.6707C110.894 41.7634 111.233 40.5675 111.233 39.0814Z"}),c.createElement("path",{d:"M133.186 40.7022C133.186 42.3613 132.592 43.7111 131.398 44.7532C130.086 45.8919 128.26 46.4606 125.914 46.4606C123.748 46.4606 122.011 46.0561 120.696 45.2456L121.444 42.6412C122.86 43.4708 124.413 43.887 126.106 43.887C127.321 43.887 128.266 43.6202 128.946 43.0897C129.622 42.5592 129.959 41.8469 129.959 40.9587C129.959 40.1673 129.681 39.5004 129.123 38.9596C128.567 38.4188 127.64 37.9161 126.345 37.4515C122.82 36.1779 121.059 34.3122 121.059 31.8588C121.059 30.2554 121.677 28.9408 122.913 27.9178C124.144 26.8933 125.787 26.3818 127.841 26.3818C129.673 26.3818 131.195 26.6911 132.41 27.3081L131.604 29.8553C130.469 29.2573 129.186 28.9584 127.751 28.9584C126.616 28.9584 125.729 29.2295 125.094 29.7688C124.557 30.251 124.288 30.8387 124.288 31.5349C124.288 32.3058 124.595 32.9433 125.212 33.4446C125.749 33.9077 126.725 34.4089 128.141 34.9497C129.873 35.6254 131.145 36.4153 131.964 37.3211C132.779 38.2239 133.186 39.3539 133.186 40.7022Z"}),c.createElement("path",{d:"M143.851 34.4527H140.296V41.281C140.296 43.0177 140.922 43.8853 142.178 43.8853C142.754 43.8853 143.232 43.837 143.61 43.7403L143.699 46.1131C143.064 46.3432 142.227 46.4589 141.191 46.4589C139.917 46.4589 138.922 46.0823 138.203 45.3304C137.488 44.5771 137.128 43.3138 137.128 41.5389V34.4498H135.01V32.1048H137.128V29.5298L140.296 28.6035V32.1048H143.851V34.4527Z"}),c.createElement("path",{d:"M159.891 39.0237C159.891 41.1855 159.252 42.9604 157.979 44.3483C156.643 45.7772 154.87 46.4895 152.66 46.4895C150.53 46.4895 148.834 45.8051 147.569 44.4362C146.304 43.0673 145.672 41.3394 145.672 39.2568C145.672 37.0774 146.322 35.2923 147.628 33.9044C148.93 32.515 150.688 31.8203 152.899 31.8203C155.029 31.8203 156.743 32.5047 158.036 33.8751C159.274 35.2044 159.891 36.9206 159.891 39.0237ZM156.545 39.1249C156.545 37.8278 156.259 36.7154 155.679 35.7877C155.003 34.665 154.036 34.1052 152.784 34.1052C151.487 34.1052 150.502 34.6665 149.826 35.7877C149.247 36.7169 148.961 37.8469 148.961 39.1835C148.961 40.4806 149.247 41.5929 149.826 42.5192C150.523 43.6419 151.498 44.2017 152.755 44.2017C153.986 44.2017 154.953 43.6301 155.65 42.4899C156.245 41.5446 156.545 40.4205 156.545 39.1249Z"}),c.createElement("path",{d:"M170.374 34.8561C170.055 34.7989 169.715 34.7696 169.358 34.7696C168.223 34.7696 167.346 35.1844 166.728 36.0154C166.191 36.7482 165.922 37.6744 165.922 38.7927V46.172H162.698L162.728 36.5371C162.728 34.9162 162.688 33.4403 162.607 32.1095H165.417L165.535 34.8004H165.624C165.964 33.8756 166.501 33.131 167.237 32.5727C167.955 32.07 168.731 31.8193 169.568 31.8193C169.866 31.8193 170.135 31.8399 170.374 31.8765V34.8561Z"}),c.createElement("path",{d:"M184.8 38.4742C184.8 39.034 184.762 39.5059 184.682 39.8914H175.006C175.044 41.2808 175.511 42.3433 176.41 43.0761C177.225 43.7313 178.28 44.0596 179.574 44.0596C181.007 44.0596 182.314 43.8383 183.49 43.3942L183.995 45.5633C182.621 46.1437 181 46.4324 179.128 46.4324C176.877 46.4324 175.11 45.7904 173.824 44.508C172.541 43.2256 171.898 41.5036 171.898 39.3433C171.898 37.2225 172.496 35.4565 173.693 34.048C174.945 32.5443 176.638 31.7925 178.768 31.7925C180.86 31.7925 182.444 32.5443 183.52 34.048C184.372 35.2425 184.8 36.7198 184.8 38.4742ZM181.724 37.6637C181.745 36.7374 181.535 35.9372 181.098 35.2616C180.54 34.3925 179.682 33.9586 178.528 33.9586C177.473 33.9586 176.615 34.3822 175.96 35.2322C175.423 35.9079 175.104 36.7184 175.006 37.6622H181.724V37.6637Z"}),c.createElement("path",{d:"M74.2041 14.6694C74.2041 16.3944 73.6701 17.6929 72.6036 18.565C71.6157 19.3696 70.2118 19.7726 68.3934 19.7726C67.4917 19.7726 66.7202 19.7345 66.0742 19.6583V10.233C66.9169 10.1011 67.8246 10.0337 68.8049 10.0337C70.537 10.0337 71.8426 10.3986 72.7231 11.1285C73.7094 11.9536 74.2041 13.1334 74.2041 14.6694ZM72.5325 14.7119C72.5325 13.5936 72.2269 12.7363 71.6157 12.1383C71.0045 11.5418 70.1119 11.2428 68.9365 11.2428C68.4372 11.2428 68.0121 11.2751 67.6597 11.3425V18.5078C67.8548 18.5371 68.2118 18.5503 68.7307 18.5503C69.944 18.5503 70.8805 18.2235 71.54 17.5698C72.1996 16.9162 72.5325 15.9635 72.5325 14.7119Z"}),c.createElement("path",{d:"M83.0677 16.1752C83.0677 17.2377 82.7545 18.1083 82.1282 18.7913C81.4717 19.4933 80.6018 19.8436 79.5156 19.8436C78.4687 19.8436 77.6352 19.5079 77.0134 18.8338C76.3931 18.1611 76.083 17.3125 76.083 16.2895C76.083 15.2196 76.4022 14.3417 77.0436 13.6602C77.6851 12.9787 78.5474 12.6372 79.6336 12.6372C80.6805 12.6372 81.5216 12.9728 82.1585 13.6455C82.7636 14.2992 83.0677 15.1434 83.0677 16.1752ZM81.4233 16.225C81.4233 15.5875 81.2811 15.0408 80.9982 14.585C80.6653 14.0339 80.1918 13.7584 79.5761 13.7584C78.9392 13.7584 78.4551 14.0339 78.1223 14.585C77.8379 15.0408 77.6972 15.5963 77.6972 16.2528C77.6972 16.8904 77.8394 17.4371 78.1223 17.8929C78.4657 18.4439 78.9438 18.7195 79.561 18.7195C80.1661 18.7195 80.6411 18.4395 80.983 17.8782C81.2765 17.4136 81.4233 16.8625 81.4233 16.225Z"}),c.createElement("path",{d:"M94.9527 12.7778L92.7213 19.6867H91.269L90.3446 16.6866C90.1101 15.9377 89.9195 15.1931 89.7713 14.4545H89.7425C89.6049 15.2137 89.4142 15.9567 89.1692 16.6866L88.1873 19.6867H86.7184L84.6201 12.7778H86.2494L87.0558 16.0622C87.2509 16.839 87.4113 17.5791 87.5399 18.2797H87.5686C87.6866 17.7023 87.8818 16.9665 88.1571 16.0769L89.1692 12.7793H90.4611L91.4308 16.0066C91.6653 16.7936 91.8559 17.5513 92.0027 18.2812H92.0465C92.154 17.5704 92.3158 16.8126 92.5307 16.0066L93.396 12.7793H94.9527V12.7778Z"}),c.createElement("path",{d:"M103.172 19.6872H101.586V15.7301C101.586 14.5107 101.108 13.901 100.149 13.901C99.6788 13.901 99.299 14.0681 99.004 14.4037C98.7121 14.7394 98.5638 15.1351 98.5638 15.588V19.6858H96.9784V14.7526C96.9784 14.1458 96.9587 13.4877 96.9209 12.7755H98.3142L98.3883 13.8556H98.4322C98.6168 13.52 98.8921 13.243 99.2537 13.0217C99.6833 12.7637 100.164 12.6333 100.691 12.6333C101.356 12.6333 101.91 12.8414 102.35 13.2591C102.898 13.7706 103.172 14.5342 103.172 15.5484V19.6872Z"}),c.createElement("path",{d:"M107.544 19.6873H105.96V9.6084H107.544V19.6873Z"}),c.createElement("path",{d:"M116.878 16.1752C116.878 17.2377 116.565 18.1083 115.939 18.7913C115.282 19.4933 114.411 19.8436 113.326 19.8436C112.278 19.8436 111.444 19.5079 110.824 18.8338C110.204 18.1611 109.894 17.3125 109.894 16.2895C109.894 15.2196 110.213 14.3417 110.854 13.6602C111.496 12.9787 112.358 12.6372 113.443 12.6372C114.491 12.6372 115.331 12.9728 115.969 13.6455C116.574 14.2992 116.878 15.1434 116.878 16.1752ZM115.232 16.225C115.232 15.5875 115.09 15.0408 114.807 14.585C114.476 14.0339 114.001 13.7584 113.387 13.7584C112.748 13.7584 112.264 14.0339 111.933 14.585C111.648 15.0408 111.508 15.5963 111.508 16.2528C111.508 16.8904 111.65 17.4371 111.933 17.8929C112.276 18.4439 112.754 18.7195 113.372 18.7195C113.977 18.7195 114.45 18.4395 114.792 17.8782C115.087 17.4136 115.232 16.8625 115.232 16.225Z"}),c.createElement("path",{d:"M124.551 19.6867H123.127L123.009 18.8909H122.965C122.478 19.5255 121.784 19.8436 120.882 19.8436C120.209 19.8436 119.664 19.634 119.255 19.2178C118.882 18.8396 118.696 18.3692 118.696 17.8108C118.696 16.9666 119.059 16.3232 119.79 15.8777C120.519 15.4321 121.545 15.2137 122.866 15.224V15.095C122.866 14.1849 122.372 13.7305 121.385 13.7305C120.681 13.7305 120.061 13.902 119.525 14.242L119.203 13.2337C119.866 12.8365 120.684 12.6372 121.649 12.6372C123.513 12.6372 124.448 13.5898 124.448 15.4951V18.0394C124.448 18.7297 124.483 19.2793 124.551 19.6867ZM122.905 17.3125V16.247C121.156 16.2177 120.282 16.6823 120.282 17.6393C120.282 17.9998 120.382 18.2695 120.586 18.4498C120.79 18.6301 121.05 18.7195 121.36 18.7195C121.708 18.7195 122.034 18.6125 122.33 18.4C122.628 18.186 122.811 17.9148 122.879 17.5821C122.896 17.5074 122.905 17.4165 122.905 17.3125Z"}),c.createElement("path",{d:"M133.56 19.6873H132.153L132.079 18.5779H132.035C131.585 19.4221 130.82 19.8442 129.744 19.8442C128.885 19.8442 128.169 19.5173 127.602 18.8637C127.035 18.21 126.752 17.3614 126.752 16.3194C126.752 15.2011 127.059 14.2954 127.676 13.6036C128.274 12.9588 129.006 12.6363 129.877 12.6363C130.835 12.6363 131.505 12.9485 131.886 13.5743H131.917V9.6084H133.504V17.826C133.504 18.4987 133.522 19.1187 133.56 19.6873ZM131.917 16.7737V15.6218C131.917 15.4224 131.902 15.2612 131.873 15.1381C131.784 14.7688 131.591 14.4581 131.299 14.2075C131.004 13.9568 130.649 13.8308 130.239 13.8308C129.647 13.8308 129.185 14.058 128.844 14.5138C128.507 14.9696 128.336 15.5514 128.336 16.2622C128.336 16.9452 128.498 17.4992 128.823 17.9257C129.166 18.38 129.629 18.6072 130.209 18.6072C130.729 18.6072 131.145 18.4181 131.461 18.0385C131.767 17.6883 131.917 17.2662 131.917 16.7737Z"}),c.createElement("path",{d:"M147.119 16.1752C147.119 17.2377 146.806 18.1083 146.18 18.7913C145.523 19.4933 144.655 19.8436 143.567 19.8436C142.522 19.8436 141.688 19.5079 141.065 18.8338C140.445 18.1611 140.135 17.3125 140.135 16.2895C140.135 15.2196 140.454 14.3417 141.095 13.6602C141.737 12.9787 142.599 12.6372 143.687 12.6372C144.732 12.6372 145.575 12.9728 146.21 13.6455C146.815 14.2992 147.119 15.1434 147.119 16.1752ZM145.477 16.225C145.477 15.5875 145.334 15.0408 145.051 14.585C144.717 14.0339 144.245 13.7584 143.628 13.7584C142.992 13.7584 142.508 14.0339 142.174 14.585C141.89 15.0408 141.749 15.5963 141.749 16.2528C141.749 16.8904 141.891 17.4371 142.174 17.8929C142.517 18.4439 142.996 18.7195 143.613 18.7195C144.218 18.7195 144.694 18.4395 145.036 17.8782C145.328 17.4136 145.477 16.8625 145.477 16.225Z"}),c.createElement("path",{d:"M155.644 19.6872H154.06V15.7301C154.06 14.5107 153.582 13.901 152.621 13.901C152.151 13.901 151.771 14.0681 151.478 14.4037C151.184 14.7394 151.037 15.1351 151.037 15.588V19.6858H149.451V14.7526C149.451 14.1458 149.432 13.4877 149.395 12.7755H150.786L150.86 13.8556H150.904C151.09 13.52 151.366 13.243 151.726 13.0217C152.157 12.7637 152.637 12.6333 153.164 12.6333C153.829 12.6333 154.382 12.8414 154.823 13.2591C155.372 13.7706 155.644 14.5342 155.644 15.5484V19.6872Z"}),c.createElement("path",{d:"M166.314 13.9292H164.568V17.2854C164.568 18.1384 164.878 18.5649 165.493 18.5649C165.777 18.5649 166.013 18.5415 166.199 18.4931L166.24 19.6583C165.927 19.7726 165.515 19.8297 165.008 19.8297C164.382 19.8297 163.895 19.6451 163.543 19.2757C163.189 18.9064 163.013 18.285 163.013 17.413V13.9292H161.971V12.7787H163.013V11.5124L164.567 11.0581V12.7773H166.312V13.9292H166.314Z"}),c.createElement("path",{d:"M174.707 19.6873H173.12V15.7595C173.12 14.5211 172.642 13.9011 171.685 13.9011C170.949 13.9011 170.447 14.2602 170.172 14.9784C170.125 15.1293 170.098 15.314 170.098 15.5309V19.6859H168.514V9.6084H170.098V13.7722H170.128C170.627 13.0145 171.343 12.6363 172.27 12.6363C172.927 12.6363 173.47 12.8444 173.901 13.2621C174.438 13.7824 174.707 14.5563 174.707 15.5793V19.6873Z"}),c.createElement("path",{d:"M183.365 15.906C183.365 16.1815 183.343 16.4131 183.306 16.6022H178.551C178.572 17.2851 178.799 17.8054 179.239 18.166C179.642 18.4884 180.16 18.6496 180.796 18.6496C181.499 18.6496 182.141 18.5411 182.719 18.3228L182.967 19.3897C182.291 19.6741 181.495 19.8162 180.573 19.8162C179.469 19.8162 178.599 19.5011 177.97 18.8709C177.338 18.2407 177.024 17.395 177.024 16.3339C177.024 15.2919 177.316 14.4243 177.905 13.7325C178.519 12.9938 179.35 12.6245 180.398 12.6245C181.424 12.6245 182.203 12.9938 182.729 13.7325C183.154 14.3187 183.365 15.0442 183.365 15.906ZM181.852 15.5088C181.864 15.053 181.76 14.6602 181.545 14.329C181.269 13.9025 180.85 13.6885 180.283 13.6885C179.766 13.6885 179.344 13.8967 179.021 14.3144C178.758 14.647 178.602 15.0442 178.551 15.5088H181.852Z"}))))}));const Ko=d`
  svg {
    background: #2b2927;
    border-radius: 9px;
    .border-color-android-app-store {
      fill: #2b2927;
    }
  }
`,Qo=u.div`
  cursor: pointer;

  g {
    fill: ${e=>e.forceDarkTheme?e.theme.secondary.white:e.theme.themeColors.text};
  }
  .text-stroke {
    fill: ${e=>e.forceDarkTheme?e.theme.secondary.white:e.theme.themeColors.text};
  }
  ${e=>e.isDarkBg?Ko:""};
`;p((function({forceDarkTheme:e,theme:t,height:n,width:r,isDarkBg:i,onAfterClick:a}){return c.createElement(Qo,{forceDarkTheme:e,isDarkBg:i,onClick:()=>{null==window||window.open("https://play.google.com/store/apps/details?id=com.nvstr.app","_blank").focus(),a()}},c.createElement("svg",{width:r,height:n,viewBox:"35 30 203 59",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",{filter:"url(#filter0_d)"},c.createElement("path",{className:"border-color-android-app-store",d:"M230.743 31.1779C234.229 31.1779 237.065 33.9472 237.065 37.3505V81.4532C237.065 84.8565 234.229 87.6258 230.743 87.6258H42.5286C39.0428 87.6258 36.2065 84.8565 36.2065 81.4532V37.3505C36.2065 33.9472 39.0428 31.1779 42.5286 31.1779H230.743ZM230.743 30H42.5286C38.3897 30 35 33.3096 35 37.3505V81.4532C35 85.4942 38.3897 88.8037 42.5286 88.8037H230.743C234.882 88.8037 238.272 85.4942 238.272 81.4532V37.3505C238.272 33.3096 234.882 30 230.743 30Z"}),c.createElement("path",{className:"text-stroke",d:"M106.397 45.0591C106.397 46.2866 106.02 47.2698 105.279 48.003C104.426 48.8722 103.316 49.3095 101.955 49.3095C100.654 49.3095 99.5439 48.8648 98.633 47.9883C97.7201 47.0989 97.2646 46.0073 97.2646 44.7008C97.2646 43.3942 97.7201 42.3027 98.633 41.4206C99.5439 40.5367 100.654 40.092 101.955 40.092C102.602 40.092 103.22 40.2225 103.809 40.4651C104.396 40.7095 104.874 41.0403 105.22 41.4482L104.434 42.2237C103.83 41.5272 103.007 41.1836 101.955 41.1836C101.006 41.1836 100.184 41.507 99.4856 42.1594C98.7948 42.8135 98.4485 43.6607 98.4485 44.7008C98.4485 45.7409 98.7948 46.5954 99.4856 47.2496C100.184 47.8946 101.006 48.2253 101.955 48.2253C102.962 48.2253 103.809 47.8946 104.477 47.2422C104.917 46.8104 105.168 46.215 105.234 45.4542H101.955V44.3921H106.329C106.382 44.6218 106.397 44.8441 106.397 45.0591Z",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{className:"text-stroke",d:"M113.337 41.3765H109.229V44.1697H112.933V45.2319H109.229V48.025H113.337V49.1074H108.065V40.2942H113.337V41.3765Z",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M118.234 49.1074H117.071V41.3765H114.551V40.2942H120.756V41.3765H118.234V49.1074Z",className:"text-stroke",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M125.247 49.1074V40.2942H126.408V49.1074H125.247Z",className:"text-stroke",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M131.556 49.1074H130.403V41.3765H127.873V40.2942H134.086V41.3765H131.556V49.1074Z",className:"text-stroke",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M145.834 47.9736C144.944 48.8648 143.841 49.3095 142.525 49.3095C141.202 49.3095 140.099 48.8648 139.209 47.9736C138.32 47.0842 137.878 45.9926 137.878 44.7008C137.878 43.4089 138.32 42.3174 139.209 41.428C140.099 40.5367 141.202 40.092 142.525 40.092C143.833 40.092 144.936 40.5367 145.826 41.4353C146.722 42.3321 147.164 43.4163 147.164 44.7008C147.164 45.9926 146.722 47.0842 145.834 47.9736ZM140.069 47.2349C140.739 47.8946 141.554 48.2253 142.525 48.2253C143.489 48.2253 144.311 47.8946 144.974 47.2349C145.642 46.5751 145.981 45.728 145.981 44.7008C145.981 43.6736 145.642 42.8264 144.974 42.1667C144.311 41.507 143.489 41.1762 142.525 41.1762C141.554 41.1762 140.739 41.507 140.069 42.1667C139.401 42.8264 139.062 43.6736 139.062 44.7008C139.062 45.728 139.401 46.5751 140.069 47.2349Z",className:"text-stroke",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M148.796 49.1074V40.2942H150.208L154.597 47.1485H154.647L154.597 45.4542V40.2942H155.758V49.1074H154.546L149.95 41.915H149.899L149.95 43.6166V49.1074H148.796Z",className:"text-stroke",strokeWidth:"0.180935",strokeMiterlimit:"10"}),c.createElement("path",{d:"M137.592 61.9783C134.056 61.9783 131.167 64.6061 131.167 68.2317C131.167 71.8279 134.056 74.4833 137.592 74.4833C141.136 74.4833 144.025 71.8279 144.025 68.2317C144.025 64.6061 141.136 61.9783 137.592 61.9783ZM137.592 72.0209C135.652 72.0209 133.982 70.457 133.982 68.2317C133.982 65.9769 135.652 64.4407 137.592 64.4407C139.533 64.4407 141.21 65.9769 141.21 68.2317C141.21 70.457 139.533 72.0209 137.592 72.0209ZM123.572 61.9783C120.028 61.9783 117.147 64.6061 117.147 68.2317C117.147 71.8279 120.028 74.4833 123.572 74.4833C127.114 74.4833 129.998 71.8279 129.998 68.2317C129.998 64.6061 127.114 61.9783 123.572 61.9783ZM123.572 72.0209C121.63 72.0209 119.955 70.457 119.955 68.2317C119.955 65.9769 121.63 64.4407 123.572 64.4407C125.513 64.4407 127.182 65.9769 127.182 68.2317C127.182 70.457 125.513 72.0209 123.572 72.0209ZM106.889 63.8949V66.5521H113.388C113.198 68.0369 112.69 69.1284 111.91 69.8892C110.962 70.808 109.484 71.8279 106.889 71.8279C102.889 71.8279 99.7574 68.6764 99.7574 64.7715C99.7574 60.8665 102.889 57.715 106.889 57.715C109.051 57.715 110.625 58.5401 111.786 59.6096L113.704 57.7371C112.08 56.2229 109.919 55.0597 106.889 55.0597C101.404 55.0597 96.7949 59.4166 96.7949 64.7715C96.7949 70.1263 101.404 74.4833 106.889 74.4833C109.853 74.4833 112.08 73.535 113.83 71.7562C115.624 70.005 116.183 67.5426 116.183 65.5543C116.183 64.9368 116.13 64.369 116.036 63.8949H106.889ZM175.109 65.9549C174.58 64.5565 172.948 61.9783 169.624 61.9783C166.331 61.9783 163.588 64.5124 163.588 68.2317C163.588 71.7342 166.302 74.4833 169.941 74.4833C172.882 74.4833 174.58 72.732 175.278 71.7121L173.095 70.2917C172.367 71.3317 171.375 72.0209 169.941 72.0209C168.516 72.0209 167.494 71.3832 166.839 70.1263L175.404 66.666L175.109 65.9549ZM166.376 68.0369C166.302 65.6259 168.294 64.3911 169.72 64.3911C170.838 64.3911 171.787 64.9368 172.103 65.7178L166.376 68.0369ZM159.414 74.1029H162.229V55.7267H159.414V74.1029ZM154.803 63.3712H154.708C154.076 62.6398 152.87 61.9783 151.341 61.9783C148.134 61.9783 145.202 64.7274 145.202 68.2519C145.202 71.7562 148.134 74.4833 151.341 74.4833C152.87 74.4833 154.076 73.8162 154.708 73.0628H154.803V73.9595C154.803 76.3503 153.494 77.6348 151.385 77.6348C149.664 77.6348 148.597 76.4219 148.157 75.4021L145.708 76.3999C146.414 78.0574 148.283 80.0972 151.385 80.0972C154.686 80.0972 157.471 78.2007 157.471 73.5865V62.3587H154.803V63.3712ZM151.582 72.0209C149.642 72.0209 148.017 70.435 148.017 68.2519C148.017 66.0486 149.642 64.4407 151.582 64.4407C153.494 64.4407 155.002 66.0486 155.002 68.2519C155.002 70.435 153.494 72.0209 151.582 72.0209ZM188.292 55.7267H181.557V74.1029H184.365V67.1401H188.292C191.41 67.1401 194.469 64.9368 194.469 61.4325C194.469 57.93 191.403 55.7267 188.292 55.7267ZM188.365 64.584H184.365V58.2828H188.365C190.462 58.2828 191.659 59.9826 191.659 61.4325C191.659 62.8548 190.462 64.584 188.365 64.584ZM205.724 61.9434C203.695 61.9434 201.585 62.8181 200.717 64.7568L203.209 65.7766C203.746 64.7568 204.732 64.426 205.775 64.426C207.232 64.426 208.709 65.2805 208.732 66.7892V66.9821C208.223 66.6954 207.136 66.271 205.797 66.271C203.113 66.271 200.379 67.7135 200.379 70.4056C200.379 72.868 202.577 74.4539 205.048 74.4539C206.938 74.4539 207.981 73.6214 208.636 72.653H208.732V74.0735H211.444V67.0244C211.444 63.7663 208.952 61.9434 205.724 61.9434ZM205.385 72.0135C204.467 72.0135 203.187 71.5688 203.187 70.457C203.187 69.0347 204.783 68.489 206.164 68.489C207.401 68.489 207.981 68.7554 208.732 69.1064C208.511 70.808 207.011 72.0135 205.385 72.0135ZM221.325 62.3458L218.097 70.3119H218.001L214.664 62.3458H211.636L216.65 73.4781L213.789 79.6727H216.723L224.449 62.3458H221.325ZM196.012 74.1029H198.828V55.7267H196.012V74.1029Z",className:"text-stroke"}),c.createElement("path",{d:"M50.7119 41.0827C50.2696 41.5347 50.0137 42.2385 50.0137 43.15V75.6611C50.0137 76.5725 50.2696 77.2764 50.7119 77.7284L50.8211 77.8276L69.4807 59.6169V59.1869L50.8211 40.9761L50.7119 41.0827Z",fill:"url(#paint0_linear)"}),c.createElement("path",{d:"M75.6944 65.6902L69.4814 59.6169V59.1869L75.7019 53.1135L75.8412 53.1926L83.2079 57.2849C85.3103 58.4463 85.3103 60.3574 83.2079 61.5261L75.8412 65.6112L75.6944 65.6902Z",fill:"url(#paint1_linear)"}),c.createElement("path",{d:"M75.8404 65.6109L69.4806 59.4016L50.7119 77.7282C51.4102 78.4448 52.5489 78.5312 53.8438 77.8145L75.8404 65.6109Z",fill:"url(#paint2_linear)"}),c.createElement("path",{d:"M75.8404 53.1926L53.8438 40.9889C52.5489 40.2796 51.4102 40.366 50.7119 41.0827L69.4806 59.4019L75.8404 53.1926Z",fill:"url(#paint3_linear)"})),c.createElement("defs",null,c.createElement("filter",{id:"filter0_d",x:"0.0714417",y:"0.892868",width:"273.129",height:"128.661",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),c.createElement("feOffset",{dy:"5.82143"}),c.createElement("feGaussianBlur",{stdDeviation:"17.4643"}),c.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),c.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),c.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),c.createElement("linearGradient",{id:"paint0_linear",x1:"67.8239",y1:"75.9996",x2:"43.1593",y2:"50.7374",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#00A0FF"}),c.createElement("stop",{offset:"0.0066",stopColor:"#00A1FF"}),c.createElement("stop",{offset:"0.2601",stopColor:"#00BEFF"}),c.createElement("stop",{offset:"0.5122",stopColor:"#00D2FF"}),c.createElement("stop",{offset:"0.7604",stopColor:"#00DFFF"}),c.createElement("stop",{offset:"1",stopColor:"#00E3FF"})),c.createElement("linearGradient",{id:"paint1_linear",x1:"85.9455",y1:"59.3998",x2:"49.5119",y2:"59.3998",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FFE000"}),c.createElement("stop",{offset:"0.4087",stopColor:"#FFBD00"}),c.createElement("stop",{offset:"0.7754",stopColor:"#FFA500"}),c.createElement("stop",{offset:"1",stopColor:"#FF9C00"})),c.createElement("linearGradient",{id:"paint2_linear",x1:"72.3822",y1:"56.0261",x2:"38.9349",y2:"21.7684",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#FF3A44"}),c.createElement("stop",{offset:"1",stopColor:"#C31162"})),c.createElement("linearGradient",{id:"paint3_linear",x1:"45.9874",y1:"88.5447",x2:"60.9231",y2:"73.2472",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#32A071"}),c.createElement("stop",{offset:"0.0685",stopColor:"#2DA771"}),c.createElement("stop",{offset:"0.4762",stopColor:"#15CF74"}),c.createElement("stop",{offset:"0.8009",stopColor:"#06E775"}),c.createElement("stop",{offset:"1",stopColor:"#00F076"})))))}));const Zo="Tornado",Xo=Zo,Jo=Zo,el={[Zo]:{normal:"Bolton, Arial",bold:"Bolton, Arial",thin:"Bolton, Arial"}}[Xo],tl={[Zo]:{supportEmail:"support@tornado.com",colorTheme:Er.dark}}[Xo].colorTheme,nl="Nvstr Financial LLC dba Tornado",rl=e=>{var t,n,r;return"string"==typeof e?e:(null==(t=null==e?void 0:e.props)?void 0:t.viewingContext)?e.props.viewingContext:Array.isArray(e)?e.map(rl).filter((e=>!!e)).join(", "):(null==(n=null==e?void 0:e.props)?void 0:n.children)?rl(null==(r=null==e?void 0:e.props)?void 0:r.children):void 0};const il={validation:{disabled:!1,trackInvalid:!0,errorOnInvalid:!1},logger:{debug:e=>{},info:e=>{},warn:e=>{},error:e=>{}},environment:"production",disabled:!1,plugins:[new g("CnHbBaqPRM07g2TvWrL1I1UggFulUEPJ",{trackAppLifecycleEvents:!1,integrations:{Amplitude:!0}})]};class al{constructor(e){return"object"==typeof al.instance?al.instance:(al.instance=this,this._itly=new y,this._itly.load(e),console.log("Itly initialized:",this._itly),this._isDisabled=!0===e.disabled,this)}alias(e,t,n){if(this._isDisabled)return null;this._itly.alias(e,t,n)}identify(e,t,n){if(this._isDisabled)return null;try{const r=n;r.segment={options:{integrations:{All:!0}}},this._itly.identify(e,t,r)}catch(r){console.log("iterative.ly identify error:",{err:r})}}group(e,t){if(this._isDisabled)return null;this._itly.group(e,void 0,t)}page(e,t,n){if(this._isDisabled)return null;this._itly.page(e,t,void 0,n)}track(e,t){if(this._isDisabled)return null;this._itly.track({name:e,properties:t})}reset(){if(this._isDisabled)return null;this._itly.reset()}flush(){return this._isDisabled?null:this._itly.flush()}}const sl=new al(il);try{const{missingRoutes:e,duplicatedRoutes:t}=Qt._scanForMissingWebappRoutes(),n=[],r=e.filter((e=>!n.includes(e.routeName)));r.length>0?(console.warn("Missing app routes in route tracking",r),console.log(r.map((e=>e.routeName)))):console.log("No routes are missing in tracked routes"),t.length>0?console.warn("App routes are duplicated",t):console.log("No routes are duplicated in tracked routes")}catch(Gs){console.error(Gs)}class ol{constructor(e){this.name=e}send(e={}){const{location:t}=e;if(t){const n="/app"===t.slice(0,4)?t.slice(4,t.length):t,r=Qt.getTrackingNameForRoute(n,Le);null===r&&console.warn("missing tracking screen name: "+n),e.location=r}sl.track(this.name,e)}}const ll={ACCOUNT_TYPE_SELECTED:new ol(Re),COMPLETE_APEX_ACCOUNT:new ol(Fe)},cl={BANK_LINK_SKIPPED:new ol(Me)},dl={BUTTON_CLICKED:new ol(Ue),MODAL_VIEWED:new ol(ze),TAB_VIEWED:new ol(je),FEED_LOADED:new ol($e)},ul={ONBOARDING_COMPLETED:new ol(Ve),ONBOARDING_FUNDING_SKIPPED:new ol(He)},hl={LEARN_LESSON_VIEWED:new ol(qe),LEARN_LESSON_REWARD_VIEWED:new ol(Ye),LEARN_LESSON_DISCLAIMER_VIEWED:new ol(Ke)},pl={viewed:{PRO_CON_VIEWED:new ol(We),SECURITY_VIEWED:new ol(Qe),PAGE_VIEWED:new ol(Ge),IDEA_VIEWED:new ol(Be)},generic:dl,account:ll,bank:cl,learn:hl,onboarding:ul},ml=c.createContext({}),gl=c.createContext(null),yl=e=>{const t=_(),{elementPosition:n}=c.useContext(ml),r=c.useContext(gl);return c.useCallback((i=>{const a=e.onClick||e.handleClick;a&&a(i);try{let i=e.text;i||(i=rl(e.children));const a=n||_t.node_location.body,s={button_type:e.buttonType||_t.button_types.button,context:e.overrideContext||r||t.pathname,description:i||e.icon,position:a,platform:_t.platform.web,url:window.location.pathname,url_query:window.location.search};pl.generic.BUTTON_CLICKED.send(s)}catch(s){console.error("TrackIteratively -> useButtonEvent -> catch",s.message)}}),[e,t,n])},_l=(e=[])=>{const t=e.length;if(0===t)return null;return e[Math.floor(Math.random()*t)]},fl=(e,t,n={})=>{const{prefixCount:r}=n;return"have"===t?`${r?`${e} `:""}${1===e?"has":"have"}`:"need"===t?`${r?`${e} `:""}${1===e?"needs":"need"}`:`${r?`${e} `:""}${1===e?t:`${t}s`}`},vl=e=>void 0===e,El=e=>vl(e)||(e=>null===e)(e),bl=(e,t)=>{for(let n=0;n<e;n++)t(n)};function Cl(e){return new Promise((t=>setTimeout(t,e)))}function xl(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const wl=64,Sl="monthly",kl=[so({text:"$100",value:100}),so({text:"$250",value:250}),so({text:"$500",value:500}),so({text:"$1,000",value:1e3}),so({text:"$2,500",value:2500}),so({text:"$5,000",value:5e3}),so({text:"$10,000",value:1e4}),so({text:"$25,000",value:25e3}),so({text:"$50,000",value:5e4}),so({text:"$100,000",value:1e5})],Tl=[so({text:"$0",value:0}),so({text:"$10",value:10}),so({text:"$20",value:20}),so({text:"$50",value:50}),so({text:"$100",value:100}),so({text:"$250",value:250}),so({text:"$500",value:500}),so({text:"$1,000",value:1e3}),so({text:"$2,500",value:2500}),so({text:"$5,000",value:5e3})],Il=[so({text:"5",value:5}),so({text:"10",value:10}),so({text:"15",value:15}),so({text:"20",value:20}),so({text:"25",value:25}),so({text:"30",value:30}),so({text:"35",value:35}),so({text:"40",value:40}),so({text:"45",value:45}),so({text:"50",value:50}),so({text:"55",value:55}),so({text:"60",value:60}),so({text:"65",value:65})],Nl=[];bl(50,(e=>{Nl.push(so({text:`${e+1}%`,value:(e+1)/100}))}));const Al=Nl,Pl="support@tornado.com",Dl="paper",Ol="live",Ll={address:["Driver's License","State ID Card","Utility Bill","Residential Lease","Property Deed","Mortgage Statement"],identity:["Driver's License","State ID Card","Passport"],"immigration status":["Green Card","Visa"],"social security number":["Social Security Card","Social Security Administration Letter"],headshot:["Photograph of your face"],statement:["Bank Statement"]},Rl="order",Fl="createCartOrder",Ml="editCartOrder",Ul="liveLastPrice",$l=({startingValue:e,recurringDepositAmount:t,recurringRate:n,horizonYears:r,returnRate:i})=>{const a=e,s=i,o=n===Sl?12:1,l=e=>a*(1+s/o)**(o*e)+t*(((1+s/o)**(o*e)-1)/(s/o));return{totalValue:l(r),timeStepCalculator:l}},Bl="dr",zl="nv",Vl="ivr",Hl=e=>{const{account_type:t,account_number_ending:n}=e;return`${t.toUpperCase()} (...${n})`},Wl={URL:new RegExp(/https?:\/\/[\S]+/g),ONLY_POSITIVE_INTEGERS:new RegExp("^([0-9]+)$"),ONLY_INTEGERS:new RegExp("^(-?[0-9])$|^(-?[0-9]+)$"),VALID_NUMBER:new RegExp("^(-?[0-9]+.?[0-9]*)$"),VALID_POSITIVE_NUMBER:new RegExp("^([0-9]+.?[0-9]*)$"),PO_BOX:new RegExp("\\b[p]*(ost)*\\.*\\s*[o|0]*(ffice)*\\.*\\s*b[o|0]x\\b","i"),PHONE_DASH:new RegExp("^[2-9]\\d{2}-[2-9]\\d{2}-\\d{4}$"),PHONE_NO_DASH:new RegExp("^[0-9]{10}$"),SSN:new RegExp(/^\d{3}-?\d{2}-?\d{4}$/),SSN_NO_DASH:new RegExp("^[0-9]{9}$"),IDENTIFICATION_NUMBER:new RegExp("^([0-9]+[-]?[0-9]*[-]?[0-9]*)$"),CALIFORNIA_RULES:new RegExp(/^[a-z-.'\s?]+$/i)};f.extend(v),f.extend(E);const jl=f;window.moment=f;const Gl=e=>null===e?null:jl(e),ql=(e,t)=>jl().subtract(e,t),Yl=(e,t)=>{if(null==t)return null;const n={Do:"Do",api:"YYYY[-]MM[-]DD",api2:"MM[-]DD[-]YYYY",MD:"MMMM Do",LT:"h[:]mm A",LTS:"h[:]mm[:]ss A",l:"M[/]D[/]YYYY",ls:"M[/]D[/]YY",ll:"MMMM D[,] YYYY",ll2:"MMM D[,] YYYY",lll:"MMM D[,]YYYY h[:]mm A",llll:"ddd[,] MMM D[,]YYYY h[:]mm[:]ss A","-l":"M[-]D[-]YYYY",L:"MM[/]DD[/]YYYY",LL:"MMMM Do[,] YYYY",LLL:"MMMM[/]DD[/]YYYY h[:]mm A","-L":"MM[-]DD[-]YYYY","-LL":"MMMM[-]DD[-]YYYY","-LLL":"MMMM[-]DD[-]YYYY h[:]mm A",day:"dddd","day-date":"dddd[,] MMMM D[,] YYYY",LLLL:"dddd[,] MMMM D[,]YYYY h[:]mm A",YYYY:"YYYY",asOf:"MMM DD[,] YYYY h[:]mm A"}[e]||Uk("format not available for formatLocalizedDateTime function");return t.format(n)},Kl=()=>jl().format("YYYY"),Ql=()=>jl().format("MMM"),Zl=()=>jl().valueOf(),Xl=()=>(new Date).setHours(0,0,0,0),Jl=e=>{const t=jl(e),n=jl();return t.diff(n,"days")},ec="stock price",tc="price",nc="comma separated integer",rc="percentage",ic="ratio",ac="shares",sc=(e,t)=>new Intl.NumberFormat("en-US",t).format(e),oc={[tc]:(e,t)=>{const{prefix:n,stricterDecimals:r,showPlus:i,hideDollarSign:a,asInt:s}=t,o=e<0,l=Math.abs(e);let c=n||"";return c+=o?"-":i?"+":"",c+=a?"":"$",c+=sc(l,{minimumFractionDigits:s?0:2,maximumFractionDigits:s?0:e<1&&r&&e<.01?4:2}),c},[ec]:(e,t)=>{const{prefix:n,stricterDecimals:r,showPlus:i,hideDollarSign:a,asInt:s}=t,o=e<0,l=Math.abs(e);let c=n||"";return c+=o?"-":i?"+":"",c+=sc(l,{minimumFractionDigits:s?0:2,maximumFractionDigits:s?0:e<1&&r&&e<.01?4:2}),c},["rewardAmount"]:(e,t)=>{const{prefix:n,showPlus:r,hideDollarSign:i}=t,a=e<0,s=Math.abs(e);let o=n||"";return o+=a?"-":r?"+":"",o+=i?"":"$",Bk(e)?o+=sc(s,{minimumFractionDigits:2,maximumFractionDigits:2}):o+=sc(s,{minimumFractionDigits:0,maximumFractionDigits:0}),o},["integer"]:e=>sc(e,{minimumFractionDigits:0,maximumFractionDigits:0}),[nc]:e=>sc(e,{minimumFractionDigits:0,maximumFractionDigits:0}),[ic]:e=>sc(e,{minimumFractionDigits:0,maximumFractionDigits:1}),[rc]:e=>`${sc(e,{minimumFractionDigits:0,maximumFractionDigits:2})}%`,[ac]:e=>`${sc(e,{minimumFractionDigits:0,maximumFractionDigits:5})} sh`,["date"]:e=>Yl("ll",e),["day"]:e=>Yl("Do",e)},lc=(e,t,n={})=>e in oc?isNaN(t)?"":oc[e](t,n):(console.error("Missing type",{formatType:e}),Uk("Type not found in _formatter",{formatType:e})),cc="numberInput",dc="onlyIntegers",uc="lockToHundredths",hc="maxDecimalAccuracy",pc="float",mc="priceEntry",gc=(e,t,n={})=>{const{float:r,priceEntry:i}=n;let a=t.toString();if("."===a[0]&&r&&(a="0"+a),i){if(""===a||"."===a||"0."===a||"."===a.slice(a.length-1,a.length))return a;const e=parseFloat(a),t=(e=>{if(isNaN(e))return 0;const t="string"!=typeof e?e.toString():e;if(t.indexOf(".")<0)return 0;const n=t.split(".")[1];return(null==n?void 0:n.length)||0})(e);return e>1?t>=2?e.toFixed(2):e.toFixed(t):t>4?e.toFixed(4):e.toString()}return a},yc=(e,t,n={})=>{const{numberInput:r,onlyIntegers:i,allowNegatives:a,maxLength:s,lockToHundredths:o,strictDecimals:l,maxDecimalAccuracy:c,identificationNumber:d,californiaRules:u}=n;let h=!0,p=t.toString();const m=e.length>p.length;"."===p[0]&&(p="0"+p);const g=""===p;if(s<t.length)return!1;if(d&&!g){const e=p.indexOf("*")>=0;m&&e?p="":h=Wl.IDENTIFICATION_NUMBER.test(p)}if(u&&!g&&(h=Wl.CALIFORNIA_RULES.test(p)),r&&!g){if(h=(i?a?Wl.ONLY_INTEGERS:Wl.ONLY_POSITIVE_INTEGERS:a?Wl.VALID_NUMBER:Wl.VALID_POSITIVE_NUMBER).test(p),o&&h){const e=p.indexOf(".");e>=0&&(h=p.length-e<4)}if(!El(c)&&p.includes(".")){h=(p.split(".")[1].length||0)<=c}if(l&&h){const e=p.indexOf(".");if(e>=0){h=parseFloat(p)<.01?p.length-e<6:p.length-e<4}}}return h},_c=e=>t=>{const n=b(),r=_();return c.createElement(e,o({navigate:n,location:r},t))};var fc=Object.defineProperty,vc=(e,t,n)=>(((e,t,n)=>{t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Ec extends C.exports.Component{constructor(){super(...arguments),vc(this,"_internalClickHandler",(e=>this.props.handleClick(e))),vc(this,"_renderButton",(()=>{const e=this._returnBtnClass(),t=this._returnBtnStyle(),n=this._returnConditionalProps(),r=this._returnText(),i=this._returnPrefixIcon(),a=this._returnSuffixIcon();return c.createElement("button",l(o({className:`${e}`,style:t,onClick:this._handleClick},n),{ref:e=>this.buttonNode=e}),i,r,a)})),vc(this,"_handleClick",(e=>{this.props,"handleClick"in this.props&&this.props.handleClick&&!this.props.disabled&&!this.props.preventDefaultNativeClick&&(this.props.stopPropagation&&e.stopPropagation(),this.props.preventDefault&&e.preventDefault(),this.props.handleClick())})),vc(this,"_returnText",(()=>"Loading"===this.props.text?c.createElement(_e,{icon:"fading-3balls",size:this.props.LoadingIconSize||"small",style:{marginRight:"8px"}}):this.props.text)),vc(this,"_returnPrefixIcon",(()=>{const{customIcon:e,prefixIcon:t}=this.props;return e||(t?c.createElement("span",{className:"inline-button-icon"},c.createElement("i",{className:`fa ${this.props.prefixIcon}`})):null)})),vc(this,"_returnSuffixIcon",(()=>this.props.suffixIcon&&c.createElement("span",{className:"inline-button-icon"},c.createElement("i",{className:`fa ${this.props.suffixIcon}`})))),vc(this,"_returnBtnClass",(()=>this.props.disabled?this.props.customClass+" btn-grey-disabled":this.props.customClass||"")),vc(this,"_returnBtnStyle",(()=>this.props.style||{})),vc(this,"_returnConditionalProps",(()=>this.props.id?{id:this.props.id}:{}))}componentDidMount(){if(this.props.preventDefaultNativeClick){const e=this.buttonNode;$(e).on("click",(e=>{e.preventDefault(),e.stopPropagation(),this._internalClickHandler()}))}}componentWillUnmount(){if(this.props.preventDefaultNativeClick){const e=this.buttonNode,t=window.$(e);t.off("click",t,this._internalClickHandler)}}render(){const e=this.props.className||"";return e?c.createElement("div",{className:e},this._renderButton()):this._renderButton()}}const bc=e=>{const t=yl(e);return c.createElement(Ec,l(o({},e),{handleClick:t}))};bc.defaultProps={buttonType:_t.button_types.button};var Cc=_c(bc);class xc extends c.PureComponent{render(){let{icon:e,color:t,size:n,style:r,iconSkinny:i,customClass:a,colorClassName:s}=this.props;t=t?{color:t}:{};let l="";null!==n&&(l=n&&{"x-small":"fa-icon-x-small",small:"fa-icon-small",nav:"fa-icon-nav",medium:"fa-icon-medium",large:"fa-icon-large",xlarge:"fa-icon-xlarge",supersize:"fa-icon-supersize"}[n]||"fa-icon-medium"),a=a||"",r=r||{};const d=`fa ${e} ${l} ${a} ${i?"icon-skinny":""} ${s||""}`;return c.createElement("i",{className:d,style:o(o({},r),t)})}}const wc="unknown",Sc="pre",kc="open",Tc="after",Ic="closed",Nc="updateOptionsPositions",Ac="addOptionPosition",Pc="showComponentModal",Dc="hideComponentModal",Oc="updateMembershipData",Lc="m_mAddSecurity",Rc="lp-updatePrices",Fc="SHOW_MODAL",Mc="getAllOrdersData",Uc="placedOrders",$c="createCartOrder",Bc="updateOrder",zc="deleteOrder",Vc="deleteAllOrders",Hc="ADD_USERS",Wc="Successful investors know the value of debating ideas. For a limited time, invite a friend and you'll both get up to $1,000 to invest.",jc=600,Gc=900,qc=976,Yc=250,Kc="Pros/Cons",Qc={thoughts:"Pros/Cons",ideas:"Projections",financials:"Financials",headlines:"News",compare:"Compare"},Zc={thoughts:"fa-comments-o",ideas:"fa-lightbulb-o",financials:"fa-table",headlines:"fa-rss",compare:"fa-list"},Xc=e=>{const t=Qc[e.toLowerCase()];return t||console.error("Could not convert tab name to a display name."),t||"N/A"},Jc={buy:{id:0,name:"buy",display:"Buy"},buy_to_cover:{id:0,name:"buy",display:"Buy"},sell:{id:1,name:"sell",display:"Sell"},sell_short:{id:1,name:"sell",display:"Sell"}},ed="web",td={market:{id:0,name:"market",displayName:"Market"},limit:{id:1,name:"limit",displayName:"Limit"},stop:{id:2,name:"stop",displayName:"Stop"},stop_limit:{id:3,name:"stop_limit",displayName:"Stop Limit"}},nd={},rd=()=>["localhost:3001","localhost:3000"].includes(window.location.host)?"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI":"6LfWCoQaAAAAAPsJ5kDsGlaB4SWesCg0MajGhEkT",ad="https://api.tornado.com",sd=ad;console.log("api:"+sd);const od=new x.create({baseURL:sd,withCredentials:!0}),ld=window.localStorage&&window.localStorage.getItem("X-CSRF-Token");ld&&(od.defaults.headers.common["X-CSRF-Token"]=ld),od.defaults.headers.common.Accept="application/json",od.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const cd=od,dd=["/live_accounts/identify"],ud=e=>["dev-api.tornado.com/api","qa-api.tornado.com/api","api.tornado.com/api"].some((t=>e.includes(t)))?e.split("api.tornado.com/api")[1]:e.split("/api")[1],hd=async(e,t,n)=>{var r,i,a,s,c,d,u;let h={};try{e||console.error("No request method was specified"),Array.isArray(t)||console.error("Arguments should be an array of arguments that will be passed into function.");let c=[...t];const d=c[1],u="get"===e.toLowerCase()?{params:d}:{data:d};let p=null;if(["post","put","patch","delete"].includes(e.toLowerCase())){const e=await fetch(`${sd}/api/v1/util/csrf`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});p=(await e.json()).csrf_token||null}u?u.headers?u.headers=l(o({},u.headers),{"X-CSRF-Token":p}):u.headers={"X-CSRF-Token":p}:c.push({"X-CSRF-Token":p}),h.url=null==(r=null==window?void 0:window.location)?void 0:r.href,h.endpoint=c[0];const m=await cd(o({method:e.toLowerCase(),url:c[0]},u));if(null==(i=null==m?void 0:m.data)?void 0:i.maintenance)return window.location="/maintenance",{error:"Down for Maintenance"};if(m&&401===m.status&&(!n||!n.ignoreAuth)){console.warn("redirecting, unauthorized from .then",c[0]);const e=window.origin+"/";return window.location.href===e||dd.includes(ud(null==(a=null==err?void 0:err.config)?void 0:a.url))?(TC("401 Response Received",{URL:window.location.href,Endpoint:c[0]})(),m):(window.location="/?loginRequired=true",{error:"Login Required"})}if("Invalid CSRF Token"===(null==(s=null==m?void 0:m.data)?void 0:s.error)){Mk("Invalid CSRF Token");return TC("Invalid CSRF Token")(),window.location.reload(),{error:"Something went wrong. Refreshing page and try again."}}return 500===(null==m?void 0:m.status)?{data:{error:"Something went wrong. Please try again later. We apologize for any inconvenience."}}:l(o({},m),{statusCode:null==m?void 0:m.status})}catch(p){if((!p.response||!p.response.status||p.response&&p.response.status&&"4"!==p.response.status.toString()[0])&&(zE(p)(),console.error(p)),!p.response||401!==p.response.status||n&&n.ignoreAuth)return{status:"error",error:p,message:"The was a problem processing the request",raw_response:null==p?void 0:p.response,statusCode:null==(u=null==p?void 0:p.response)?void 0:u.status};{TC("401 Response Received",{URL:h.url,Endpoint:h.endpoint})();const e=window.origin+"/";if(window.location.href!==e&&!dd.includes(ud(null==(c=null==p?void 0:p.config)?void 0:c.url)))return console.warn("redirecting, unauthorized from .catch -> "+(null==(d=null==p?void 0:p.config)?void 0:d.url),t),window.location="/?loginRequired=true",{error:"Login Required"}}}},pd=async({method:e,url:t,body:n,headers:r,options:i})=>{var a,s,c,d,u,h;let p;try{if(!e)return console.error("No request method was specified"),{error:!0};p={method:e,url:t};const d=r?o({},r):{};let u=null;if(["post","put","patch","delete"].includes(e.toLowerCase())){const e=await fetch(`${sd}/api/v1/util/csrf`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});u=(await e.json()).csrf_token||null,d["X-CSRF-Token"]=u}const h="get"===e.toLowerCase()?{params:n}:{data:n},m=await cd(o({method:e.toLowerCase(),url:t,headers:d},h));if(null==(a=null==m?void 0:m.data)?void 0:a.maintenance)return window.location="/maintenance",{error:"Down for Maintenance"};if(m&&401===m.status&&(!i||!i.ignoreAuth)){console.warn("redirecting, unauthorized from .then",requestArgs[0]);const e=window.origin+"/";return window.location.href===e||dd.includes(ud(null==(s=null==err?void 0:err.config)?void 0:s.url))?(TC("401 Response Received")({URL:window.location.href,Endpoint:requestArgs[0]}),m):(window.location="/?loginRequired=true",{error:"Login Required"})}if("Invalid CSRF Token"===(null==(c=null==m?void 0:m.data)?void 0:c.error)){Mk("Invalid CSRF Token");return TC("Invalid CSRF Token")(),window.location.reload(),{error:"Something went wrong. Refreshing page and try again."}}return 500===(null==m?void 0:m.status)?{data:{error:"Something went wrong. Please try again later. We apologize for any inconvenience."}}:l(o({},m),{statusCode:null==m?void 0:m.status})}catch(m){if((!m.response||!m.response.status||m.response&&m.response.status&&"4"!==m.response.status.toString()[0])&&console.error(m),!m.response||401!==m.response.status||i&&i.ignoreAuth)return l(o({},(null==m?void 0:m.response)||{}),{statusCode:null==(h=null==m?void 0:m.response)?void 0:h.status});{TC("401 Response Received")({URL:p.url,Method:p.method});const e=window.origin+"/";if(window.location.href!==e&&!dd.includes(ud(null==(d=null==m?void 0:m.config)?void 0:d.url)))return console.log("redirecting, unauthorized from .catch -> "+(null==(u=null==m?void 0:m.config)?void 0:u.url)),window.location="/?loginRequired=true",{error:"Login Required"}}}},md=e=>{return e&&e.data&&e.data.error&&"string"==typeof e.data.error?e.data.error:e&&((t=e.error)&&"string"==typeof t)?e.error:"Something went wrong. Please try again.";var t},gd=`${sd}/api/v1`,yd=e=>hd("post",[`${gd}/lesson_save`,e]),_d=e=>hd("post",[`${gd}/lesson_publish`,{lesson_id:e,publish:!0}]),fd=`${sd}/api`,vd=e=>hd("get",[`${fd}/${e}_types`]).then((e=>e?e.data:e)),Ed=()=>hd("get",[`${fd}/v1/util/market_open`],{ignoreAuth:!0}),bd=e=>hd("post",[`${fd}/user_attribution_identifiers`,{identifiers:e}],{ignoreAuth:!0}),Cd=({bannerType:e,dispatch:t})=>hd("get",[`${fd}/above_feed_banner?type=${e}`],{ignoreAuth:!0}),xd=({dispatch:e})=>hd("get",[`${fd}/v1/invites/invite_email_text`],{ignoreAuth:!0}),wd=()=>hd("get",[`${fd}/v1/static`],{ignoreAuth:!0}),Sd=`${sd}/api`,kd=e=>hd("post",[`${Sd}/securities/${e}/view`]),Td=e=>{const t=isNaN(e[0])?"symbol":"security_id",n=e.join(",");return hd("get",[`${Sd}/securities?${t}=${n}`],null).then((e=>e?e.data:e))},Id=e=>{const t=e.join(",");return hd("get",[`${Sd}/securities?security_id=${t}&include_fundamentals=true`]).then((e=>e?e.data:e))},Nd=(e,t)=>{t||console.error("No time period was provided for the security price data call");const n=Array.isArray(e)?e.join(","):e;return hd("get",[`${Sd}/securities?security_id=${n}&include_price_history=true&time_period=${t}`]).then((e=>e?e.data:e))},Ad=(e,t)=>{const n=e.join(",");return hd("get",[`${Sd}/securities?${t=t||"security_id"}=${n}&include_price=true`],null)},Pd=e=>{const t=e.join(",");return hd("get",[`${Sd}/securities?security_id=${t}&include_bid_ask=true`],null)},Dd=e=>hd("get",[`${Sd}/similar_companies?security_id=${e}`]),Od=e=>hd("post",[`${sd}/api/investing_interests`,{interests:e}]),Ld=()=>hd("get",[`${Sd}/v1/securities/config`],{ignoreAuth:!0}),Rd=()=>hd("get",[`${Sd}/v1/securities/upcoming_earnings_announcements`],{ignoreAuth:!0}),Fd=(e,t)=>hd("post",[`${Sd}/v1/securities/filter`,{filters:e,count:t}],{ignoreAuth:!0}),Md=e=>{const t=e.name,n=e.label,r=e.note,i=e.getValue(t)||void 0,a=Array.isArray(e.values)?e.values:e.values(),s=e.toggleAdditionalInfoFieldsIf instanceof Function?e.toggleAdditionalInfoFieldsIf(i):e.toggleAdditionalInfoFieldsIf===i,o=!!e.getErrorMessage(t),l=o?e.getErrorMessage(t):"",d=o?"error-input":"",u=r?"":"hidden",h="styling"in e&&e.styling||"dropdown-centered",p=e.style||{},m=e.isFocused&&e.isFocused(t),g=e.getFocusNote&&e.getFocusNote(t),y=!!g&&m,_="restrictedValues"in e&&e.restrictedValues.filter((e=>e.exists))||[],f=[...a,..._.map((e=>e.value))];e.hideLabel||f.unshift(n);return c.createElement("fieldset",{className:`${h} ${e.center?"text-center":""} ${"small"===e.size?"field-small":""}`,style:p},y&&c.createElement("div",{className:"focus-note eye-catching-bg"},g),e.showLabel&&!(n===i||void 0===i)&&c.createElement("label",null,n),c.createElement("div",{style:{display:"inline-block",position:"relative"}},c.createElement("select",{name:t,className:d,value:"object"==typeof i?i.name:i||n,onChange:n=>{if("object"==typeof a[0]){const r=n.target.value,i=a.filter((e=>e.name===r||e.description===r))[0];if(i){const n={target:{value:i}};e.handleChange(n,t)}else e.handleChange(n,t)}else e.handleChange(n,t)},onFocus:()=>{e.handleFocus&&e.handleFocus(t)},onBlur:()=>{"ignoreBlur"in e||e.handleBlur(i,t)}},f.map(((n,r)=>c.createElement("option",{key:`${t}-${r}`},((t,n)=>{let r="object"==typeof t?"name"in t?t.name:t.description:t;return e.convertValuesToCapitalCase&&(r=ck(r)),r})(n))))),e.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-asc",colorClassName:" ",style:{position:"absolute",top:`${e.arrowIconTop||18}px`,right:"2px"}}),e.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-desc",colorClassName:" ",style:{position:"absolute",top:`${e.arrowIconTop+1||19}px`,right:"2px"}})),c.createElement("div",{className:`dropdown-note ${u} secondary-text-color`},r),!("ignoreBlur"in e)&&c.createElement("p",{className:"text-field-error-message"},l),s&&c.createElement("div",{className:"toggle-additional-inputs-container"},e.children.additionalInfoFields))},Ud=e=>{function t(e,t){return e===t?"toggle-active":""}const n=e.label,r=e.name,i=e.getValue(r),a=e.additionalClasses||"",s=e.toggleAdditionalInfoFieldsIf instanceof Function?e.toggleAdditionalInfoFieldsIf(i):e.toggleAdditionalInfoFieldsIf===i,o=e.toggleAdditionalInfoFieldsIf instanceof Function?e.toggleAdditionalInfoFieldsIfNot(i):e.toggleAdditionalInfoFieldsIf!==i&&null!=i,l=!!e.getErrorMessage(r)?e.getErrorMessage(r):"";return c.createElement("div",null,c.createElement("div",{className:`toggle-container ${a}`},c.createElement("div",{className:"toggle-label-container"},n.split("<b>").map(((e,t)=>e.indexOf("</b>")>=0?c.createElement("span",{key:t},function(e){const t=e.split("</b>"),n=t[0],r=t[1];return c.createElement("span",null,c.createElement("span",{className:"bold-text"},n)," ",c.createElement("span",null,r))}(e)):c.createElement("span",{key:t},e)))),c.createElement("div",{className:"toggle-switch-container toggle-with-label"},c.createElement("div",{className:"toggle-switch"},c.createElement("div",{className:`toggle-left ${t(i,e.values[0])}`,onClick:()=>{e.handleToggleClick(r,"YES")}},"Yes"),c.createElement("div",{className:`toggle-right ${t(i,e.values[1])}`,onClick:()=>{e.handleToggleClick(r,"NO")}},"No")),c.createElement("p",{className:"text-field-error-message"},l))),e.msgIfTrue&&s&&c.createElement("div",{className:"toggle-additional-message-container"},e.msgIfTrue),s&&c.createElement("div",{className:"toggle-additional-inputs-container"},e.children.additionalInfoFields),o&&c.createElement("div",{className:"toggle-additional-inputs-container"},e.children.additionalInfoFieldsIfNot))},$d=e=>{const{name:t,label:n,size:r,autocompleteValue:i,inputType:a}=e,s=e.getValue(t)||"",o=!!e.getErrorMessage(t),l=o?e.getErrorMessage(t):"",d=e.isFocused(t),u=!!s&&s.length>0||d,h=e.getFocusNote(t),p=!!h&&d,m=e.disabled;return c.createElement("div",{className:`floating-label-text-field ${m?"disabled":""} ${e.customWrapperClass||""}`},c.createElement("fieldset",{className:`text-field ${"small"===r?"field-small":""} `},p&&c.createElement("div",{className:"focus-note eye-catching-bg"},h),c.createElement("input",{type:a||"text",name:t,onFocus:()=>{e.handleFocus(t)},onBlur:()=>{e.handleBlur(s,t)},onChange:n=>{m||e.handleChange(n,t)},value:s,disabled:m,autoComplete:i||"on"}),c.createElement("label",{htmlFor:e.label,className:u?"text-field-lifted-label":""},n),c.createElement("div",{className:"after "+(o&&!d?"error-underline":"")}),c.createElement("p",{className:"text-field-error-message"},l)))},Bd=e=>{const t=e.name,n=e.label,r=e.getValue(t)||"",i=e.style||{},a=!!e.getErrorMessage(t),s=a?e.getErrorMessage(t):"",o=e.isFocused(t),l=!!r&&r.length>0||o,d=!!e.focusNote&&o,u=e.getFocusNote(t);return c.createElement("div",{className:"floating-label-text-field"},c.createElement("fieldset",{className:`text-field ${"small"===e.size?"field-small":""} `,style:i},d&&c.createElement("div",{className:"focus-note eye-catching-bg"},u),c.createElement("input",{type:"text",name:t,onFocus:()=>{e.handleFocus(t)},onBlur:()=>{e.handleBlur(r,t)},onChange:n=>{e.handleChange(n,t)},value:r,step:"0.01",dir:e.dir||"ltr"}),c.createElement("label",{htmlFor:n,className:l?"text-field-lifted-label":""},n),c.createElement("div",{className:"after "+(a&&!o?"error-underline":"")}),c.createElement("p",{className:"text-field-error-message"},s)))};u.fieldset`
  .date-field {
    position: relative;
    display: inline-block;
    margin: 0 5px;

    select {
      width: 100%;
      margin-left: 0;
      margin-right: 0;
      text-align: left !important;
      text-align-last: left !important;
    }
  }

  .date-field-month {
    width: 42%;
  }
  .date-field-day {
    width: 20.5%;
  }
  .date-field-year {
    width: 26.5%;
  }

  @media (max-width: 339px) {
    .date-field-month {
      width: 40%;
    }
  }
`;const zd=e=>{const t=e.name,n=e.isChecked(t)?"checked":"";return c.createElement("div",{className:"checkbox-container"},c.createElement("div",{name:t,className:`checkbox ${n}`,onClick:()=>{e.handleToggleClick(t)}}))},Vd=u.div`
  display: block;
  margin: 0 auto 10px auto;

  fieldset {
    display: block;
    width: auto;
    margin: 0;
  }

  input {
    border: none;

    font-size: 20px;
    margin-top: 15px;
    max-width: 80px;
    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Hd=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;

  input {
    border: none;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};

    font-size: 20px;
    margin-top: 15px;
    max-width: 80px;
    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Wd=e=>{const{name:t,label:n,error:r,value:i,handleChange:a,handleFocus:s,handleBlur:o}=e,[l,d]=c.useState(!1),[u,h]=c.useState(""),[p,m]=c.useState(""),[g,y]=c.useState(""),_=c.useRef(),f=c.useRef(),v=c.useRef();c.useEffect((()=>{a({target:{value:`${u||""}-${p||""}-${g||""}`}},t)}),[u,p,g,t]);const E=c.useCallback((e=>()=>{var t,n;s(),""!==u&&"--"!==i||e>0&&(null==(t=null==_?void 0:_.current)||t.focus()),""===p&&e>1&&(null==(n=null==f?void 0:f.current)||n.focus())}),[u,i]);return c.createElement(Vd,null,c.createElement("fieldset",{className:"text-field"},c.createElement(Hd,null,c.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},c.createElement("input",{type:l?"text":"password",style:{width:"30%",textAlign:"center"},name:"first_three",onFocus:E(0),onBlur:()=>{o(i,t)},onChange:e=>{e.target.value.length<4&&(3===e.target.value.length&&f.current.focus(),h(e.target.value))},value:u,step:"0.01",ref:_}),c.createElement("div",{style:{marginTop:"15px",marginRight:"1px",marginLeft:"1px"}},"-"),c.createElement("input",{type:l?"text":"password",name:"middle_two",style:{width:"20%",textAlign:"center"},onFocus:E(1),onBlur:()=>{o(i,t)},onChange:e=>{e.target.value.length<3&&(2===e.target.value.length&&v.current.focus(),m(e.target.value))},onKeyDown:e=>{0===e.target.value.length&&"Backspace"===e.key&&_.current.focus()},min:0,max:99,value:p,ref:f}),c.createElement("div",{style:{marginTop:"15px",marginRight:"1px",marginLeft:"1px"}},"-"),c.createElement("input",{type:l?"text":"password",name:"last_four",style:{width:"40%",textAlign:"center"},onFocus:E(2),onBlur:()=>{o(i,t)},onChange:e=>{e.target.value.length<5&&y(e.target.value)},onKeyDown:e=>{0===e.target.value.length&&"Backspace"===e.key&&f.current.focus()},value:g,ref:v})),c.createElement("a",{onClick:()=>d(!l),style:{marginRight:"8px",marginTop:"15px",cursor:"pointer"}},c.createElement(xc,{icon:l?"fa fa-eye-slash":"fa fa-eye"}))),c.createElement("label",{htmlFor:n,className:"text-field-lifted-label"},n),c.createElement("div",{className:"after "+(r?"error-underline":"")}),r&&c.createElement("p",{className:"text-field-error-message"},r)))},jd=e=>"agree"===e||"disagree"!==e&&null,Gd=e=>{if(e&&"string"==typeof e){const t=e.split("//")[e.split("//").length-1];return t.split("www.")[t.split("www.").length-1].split("/")[0].split("#")[0].split("?")[0]}return null};function qd(e,t){const n=e.split(t);return n.length>1&&(e=t+n[1]),e.replace(/(\r\n|\n|\r)/gm," ").split(" ")[0].trim()}const Yd=e=>{const t=/http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?/gim,n=e.replace(/(\r\n|\n|\r)/gm," ").split(" "),r=[];let i;for(let a=0;a<n.length;a++)i=n[a].match(t),i&&r.push(qd(n[a],i));return r},Kd=e=>{const t=e.images&&e.images[0]?e.images[0]:null,n={};return n.images_url=t||null,n.url=e.url||null,n.image_link=t||null,n.original_link_url=e.url||null,n.description=e.description||null,n.title=e.title||null,n.open_graph_object_og_type=e.type||null,n.open_graph_object_description=e.description||null,n},Qd=e=>{const t=Yd(e);return t&&t.constructor===Array&&t[0]},Zd=e=>({sanitizedValue:(e=>{const t=Yd(e);if(t.length<2)return e;let n=e;for(let r=1;r<t.length;r++){let e=t[r];n=n.replace(" "+e,"")}return n})(e),error:"Please create separate thoughts for additional links"}),Xd=e=>{const t={};e.forEach((e=>{const n=e.data.thought,r=n.security_id;t[r]?t[r].push(n):t[r]=[n]}));return Object.keys(t).map((e=>({securityId:e,thoughts:t[e]})))},Jd=e=>e.securityLookup,eu=(e,t)=>Jd(e)[t],tu=(e,t)=>{if(!e||!e.securityLookup)return throwError("Invalid thoughts store provided to returnAllThoughtsForSecurity",!0);if(!t)return throwError("Invalid securityId provided to returnAllThoughtsForSecurity",!0);Jd(e);if(!eu(e,t))return[];const n=((e,t)=>{const n=eu(e,t);return n?n.thoughtLookup:{}})(e,t);if(!n)return[];const r=[];return Object.keys(n).forEach((e=>r.push(n[e]))),r},nu=e=>e.agree_user_ids||[],ru=e=>e.disagree_user_ids||[],iu=(e,t)=>{const n=tu(e,t),r={};return n.forEach((e=>{(e=>[...nu(e),...ru(e)])(e).forEach((e=>{r[e]||(r[e]=!0)}))})),Object.keys(r).map((e=>parseInt(e)))},au=e=>e.from_community_thought_leader,su=e=>e.viewpoint_org_name,ou=e=>e.viewpoint_org_id,lu=e=>su(e),cu=e=>e.security_id,du={},uu=()=>window.sessionStorage||{getItem:e=>du[e],setItem:(e,t)=>du[e]=t,removeItem:e=>delete du[e]},hu=e=>e+"ThoughtImpressionData",pu=e=>JSON.parse((e=>uu().getItem(hu(e))||"{}")(e)),mu=e=>pu(e)[Xl()]||{},gu=(e,t,n)=>((e,t)=>{const n=pu(e),r=[];return Object.keys(n).forEach((e=>{const i=n[e][t];i&&i.forEach((e=>r.push(e)))})),r})(e,n).includes(t),yu=(e,t,n)=>{const r=pu(e),i=mu(e),a=((e,t)=>mu(e)[t]||[])(e,n);if(gu(e,t,n))return!1;a.push(t);return((e,t)=>(uu().setItem(hu(e),JSON.stringify(t)),!0))(e,l(o({},r),{[Xl()]:l(o({},i),{[n]:a})}))},_u=(e,t,n)=>!gu(e,t,n)&&yu(e,t,n),fu=e=>{const t=e.search,n=fe(t);return n.focus_thought_id?parseInt(n.focus_thought_id,10):null},vu={"Sign In Count":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_name:`Signed_In_${e.times}_Times`,value:1,currency:"USD"}),"Sign In At Least Count":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_name:`Signed_In_At_Least_${e.times}_Times`,value:1,currency:"USD"}),"Account Created":e=>bu("Lead",{content_ids:e.themeTestGroups,content_name:"Account_Created",value:1,currency:"USD"}),"Email Confirmed":e=>bu("Lead",{content_ids:e.themeTestGroups,content_name:"Email_Confirmed",value:1,currency:"USD"}),"Place Trade":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Place Trade - "+e.accountType+" - "+e.tradeType,value:1,currency:"USD"}),"Click Portfolio Refresh Button":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Click_Portfolio_Refresh_Button",value:1,currency:"USD"}),"Click Activity Page Refresh Button":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Click_Activity_Page_Refresh_Button",value:1,currency:"USD"}),"Click Feed Refresh Button":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Click_Feed_Refresh_Button",value:1,currency:"USD"}),"Click Stock Panel Tab":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Click_Stock_Panel_Tab",value:1,currency:"USD"}),"Click News Article":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Click_News_Article",value:1,currency:"USD"}),"Selected Live Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Live_Account_Onboarding_Path",value:1,currency:"USD"}),"Selected Paper Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Paper_Account_Onboarding_Path",value:1,currency:"USD"}),"Complete Apex Registration":e=>bu("CompleteRegistration",{content_ids:e.themeTestGroups,content_name:"Apex_Account",value:1,currency:"USD"}),"Linked Bank Account":e=>bu("AddPaymentInfo",{content_ids:e.themeTestGroups,content_name:"Bank_Account",value:1,currency:"USD"}),"Completed Microdeposit Bank Account Registration":e=>bu("CompleteRegistration",{content_ids:e.themeTestGroups,content_name:"Bank_Account_Thru_Microdeposits",value:1,currency:"USD"}),"Completed Plaid Bank Account Registration":e=>bu("CompleteRegistration",{content_ids:e.themeTestGroups,content_name:"Bank_Account_Thru_Plaid",value:1,currency:"USD"}),"Complete Onboarding":e=>bu("CompleteRegistration",{content_ids:e.themeTestGroups,content_name:`${e.accountType}_Onboarding`,value:1,currency:"USD"}),"Skip Onboarding Add Bank Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Skip_Onboarding_Add_Bank_Account",value:1,currency:"USD"}),"Skip Add Bank Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Skip_Add_Bank_Account",value:1,currency:"USD"}),"Skip Onboarding Fund Bank Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Skip_Onboarding_Fund_Bank_Account",value:1,currency:"USD"}),"Skip Fund Bank Account":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Skip_Fund_Bank_Account",value:1,currency:"USD"}),"Deposit Funds":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Bank_Account_Deposit",value:1,currency:"USD"}),"Select Subscription Plan":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_name:"Select_Subscription_Plan",content_type:e.subscriptionType,value:1,currency:"USD"}),"Completed Initial Subscription Payment":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_name:"Completed_Initial_Subscription_Payment",content_type:e.subscriptionType,value:e.subscriptionValue,currency:"USD"}),"Deposit Onboarding Funds":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Onboarding_Bank_Account_Deposit",value:1,currency:"USD"}),"Completed Card Payment Link":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Completed_Card_Payment_Link",value:1,currency:"USD"}),"Added Idea":e=>bu("AddToWishlist",{content_ids:e.themeTestGroups,content_name:e.accountType,value:1,currency:"USD"}),"Copy Idea":e=>bu("AddToWishlist",{content_ids:e.themeTestGroups,content_name:e.accountType,value:1,currency:"USD"}),"Social Share":e=>bu("SocialShare",{value:1,currency:"USD",network:e.network}),"View Quote":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"View_Quote",value:1,currency:"USD"}),"Clicked Thought":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Clicked_Thought",value:1,currency:"USD"}),"Clicked Performance Leader":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Clicked_Performance_Leader",value:1,currency:"USD"}),"View Thought Leader":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"View_Thought_Leader",value:1,currency:"USD"}),"Add User To Ask Form":e=>bu("ViewContent",{content_ids:e.themeTestGroups,content_type:"Add_User_To_Ask_Form",value:1,currency:"USD"}),LTV_Burst:()=>bu("ViewContent",{content_type:"LTV_Burst"})},Eu={ViewContent:"select_content",SocialShare:"share",AddToWishlist:"add_to_wishlist",CompleteRegistration:"sign_up",AddPaymentInfo:"add_payment_info",Purchase:"purchase",Lead:"generate_lead"},bu=(e,t,n)=>{if(!e||!t)return console.error("You must supply an eventName and params");window.fbq&&window.fbq(n&&n.isCustom?"trackCustom":"track",e,t);const r={value:"value"in t?Math.floor(t.value):0,event_category:("content_type"in t?t.content_type:"")+("content_type"in t&&"content_name"in t?" | ":"")+("content_name"in t?t.content_name:""),event_label:"content_ids"in t&&Array.isArray(t.content_ids)?t.content_ids.join(" | "):"(not set)"},i=(e=>e in Eu?Eu[e]:e)(e);window.gtag&&window.gtag("event",i,r)},Cu=(e,t,n)=>{if(!e)return console.error("You must supply an event");const r=vu[e];return r?r(t):console.error(`Facebook Tracking Event: '${e}' not found`)},xu=e=>Math.round(Tk(5,25,e)),wu=e=>{Sk(e,{burst:3,burstSendDelay:1e3,event:()=>{TC("LTV_Burst",{value:1,ltvValue:e})(),Cu("LTV_Burst")}})},Su={SIGN_IN:{send:e=>{TC("Sign In",e)()}},SIGNED_IN_X_TIMES:{send:e=>{if(!e.times)return console.error("Missing sign in count");const{times:t}=e;TC(`Signed In ${t} Times`,e)(),Cu("Sign In Count",{times:t})}},SIGNED_IN_AT_LEAST_X_TIMES:{send:e=>{if(!e.times)return console.error("Missing sign in count");const{times:t}=e;TC(`Signed In At Least ${t} Times`,e)(),Cu("Sign In At Least Count",{times:t})}},VIEW_FINISH_SETTING_UP_ACCOUNT_SCREEN:{send:e=>{TC("View Finish Setting Up Account Screen",e)()}},PRESS_FINISH_SETTING_UP_ACCOUNT:{send:e=>{TC("Press Finish Setting Up Account",e)()}},CLICK_SEND_EMAIL_DOWNLOAD_APP_TO_UPLOAD_DOCS:{send:e=>{TC("Click Send Email To Download App To Upload Docs",e)()}},CLICK_DOWNLOAD_APP_TO_UPLOAD_DOCS:{send:e=>{TC("Click Download App To Upload Docs",e)()}}},ku={VIEW_SELECT_VPC_BANNER:{send:e=>{TC("View Select VPC Banner",e)()}},CLICK_SELECT_VPC_BANNER:{send:e=>{TC("Click Select VPC Banner",e)()}},VIEW_BANNER:{send:e=>{TC("View Banner",e)()}},CLICK_BANNER_CTA:{send:e=>{TC("Click Banner CTA",e)()}},DISMISS_BANNER_CTA:{send:e=>{TC("Dismiss Banner",e)()}}},Tu={ADD_IDEA:{send:e=>{TC("Clicked Add Idea",e)()}},CLICK_TRADE_BUTTON_DASHBOARD_IDEAS:{send:e=>{TC("Click Trade Button Dashboard Ideas",e)()}}},Iu={VIEW_LEARN_LESSON_SCREEN:{send:e=>{TC("View Learn Lesson Screen",e)()}},VIEW_LEARN_DISCLAIMER_SCREEN:{send:e=>{TC("View Learn Disclaimer Screen",e)()}},PRESS_VIEW_LEARN_HOME:{send:e=>{TC("Press View Learn Home",e)()}},PRESS_VIEW_PREVIOUS_COMPLETED_LESSON:{send:e=>{TC("Press View Previous Completed Lesson",e)()}},PRESS_SHARE_PREVIOUS_COMPLETED_LESSON:{send:e=>{TC("Press Share Previous Completed Lesson",e)()}},VIEW_SHARED_LEARN_LESSON_COMPLETE_SCREEN:{send:e=>{TC("View Shared Learn Lesson Complete Screen",e)()}},PRESS_SIGNUP_NOW_SHARED_LEARN_LESSON:{send:e=>{TC("Press Signup Now Shared Learn Lesson",e)()}},PRESS_TO_HOME_SHARED_LEARN_LESSON:{send:e=>{TC("Press To Home Shared Learn Lesson",e)()}},COMPLETE_LEARN_LESSON:{send:e=>{TC("Complete Learn Lesson",e)()}},VIEW_LEARN_REWARD_SCREEN:{send:e=>{TC("View Learn Reward Screen",e)()}},VIEW_ALL_LEARN_LESSONS_COMPLETED_SCREEN:{send:e=>{TC("View All Learn Lessons Completed Screen",e)()}},VIEW_PARTNER_PROMO_LESSON_BANNER:{send:e=>{TC("View Partner Promo Lesson Banner",e)()}},PRESS_VIEW_PARTNER_PROMO_LESSON:{send:e=>{TC("Press View Partner Promo Lesson",e)()}},VIEW_DOUBLE_REWARD_WITH_DEPOSIT_CTA:{send:e=>{TC("View Double Reward With Deposit CTA",e)()}},PRESS_DOUBLE_REWARD_WITH_DEPOSIT_CTA:{send:e=>{TC("Press Double Reward With Deposit CTA",e)()}},VIEW_ACCESS_REWARDS_WITH_DEPOSIT_CTA:{send:e=>{TC("View Access Rewards With Deposit CTA",e)()}},PRESS_ACCESS_REWARDS_WITH_DEPOSIT_CTA:{send:e=>{TC("Press Access Rewards With Deposit CTA",e)()}},VIEW_LEARN_GET_STARTED_BANNER:{send:e=>{TC("View Learn Get Started Banner",e)()}},CLICK_LEARN_GET_STARTED_BANNER:{send:e=>{TC("Click Learn Get Started Banner",e)()}},PRESS_PRODUCT_PARTNER_CALLOUT_LINK:{send:e=>{TC("Press Product Partner Outgoing Link",e)()}},PRESS_SPONSOR_CALLOUT_LINK:{send:e=>{TC("Press Sponsor Callout Link",e)()}},PRESS_SEE_LEARN_SPONSOR_RULES_AND_DISCLAIMERS:{send:e=>{TC("Press Learn Sponsor See Rules and Disclaimers",e)()}},PRESS_SEE_MORE_ON_LEARN_TOPIC:{send:e=>{TC("Press See More On Learn Topic",e)()}},RECURRING_INVESTMENT_TOOL_FORM_INPUT_CHANGE:{send:e=>{TC("Recurring Investment Tool Form Input Change",e)()}},RECURRING_INVESTMENT_TOOL_FORM_UPDATE:{send:e=>{TC("Recurring Investment Tool Form Update",e)()}},PRESS_CUSTOM_MORE_INFO_LINK:{send:e=>{TC("Press Custom Lesson More Info Link",e)()}},COMPLETED_DEPOSIT_LEARN_DEPOSIT_LESSON:{send:e=>{TC("Completed Deposit Learn Deposit Lesson",e)()}},PRESS_EXTRA_CONTENT_LINK:{send:e=>{TC("Press Learn Extra Content Link",e)()}}};var Nu=Object.defineProperty,Au=(e,t,n)=>(((e,t,n)=>{t in e?Nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Pu={send:(e={})=>{TC("View Contact Form",e)()}},Du={send:(e={})=>{TC("View Contact Resubmit Form",e)()}},Ou={send:(e={})=>{TC("Submitted Unverified Address",e)()}},Lu={send:(e={})=>{TC("Resubmitted Address Successfully",e)()}},Ru={send:(e={})=>{TC("Submitted Verified Address",e)()}},Fu={send:(e={})=>{TC("View Verify Address Modal",e)()}},Mu={send:(e={})=>{TC("Kept Unverified Address",e)()}},Uu={send:(e={})=>{TC("Resubmitted After Unverified Address",e)()}},$u={send:(e={})=>{TC("Press Address Autocomplete Selection",e)()}},Bu={send:(e={})=>{TC("Press Cancel Address Verification",e)()}},zu={send:(e={})=>{TC("View Additional Documents Submission Page",e)()}},Vu={send:(e={})=>{TC("Click Complete - Additional Documents Submission Page",e)()}},Hu={send:(e={})=>{TC("Start Socure Document Capture Flow",e)()}},Wu={send:e=>{TC("Link Plaid Bank Account Request Failure",e)()}},ju={send:e=>{TC("Link Plaid Brokerage Account Request Failure",e)()}},Gu=new class{constructor(e,t={}){Au(this,"send",((e={})=>{((e,t)=>{TC(e,t)()})(this.eventName,o(o({},e),this.defaultProperties))})),this.eventName=e,this.defaultProperties=t}}("Completed Bank Account Link"),qu="Email",Yu="Share Link",Ku="Share Messaging",Qu="Manual Email",Zu="Facebook",Xu="Twitter",Ju="LinkedIn",eh="Ask Why Share",th={application:Su,banners:ku,funding:{CLICK_VERIFY_BANK_BANNER:{send:e=>{TC("Click Verify Bank Banner",e)()}},VIEW_VERIFY_BANK_BANNER:{send:e=>{TC("View Verify Bank Banner",e)()}},CHOOSE_LINK_BANK_ACCOUNT_OPTION:{send:e=>{TC("Choose Link Bank Account Option",e)()}},PRESS_REMOVE_RECURRING_DEPOSIT:{send:()=>{TC("Click Remove Recurring Deposit")()}},PRESS_MANAGE_RECURRING_DEPOSITS:{send:()=>{TC("Pressed Manage Recurring Deposits")()}},SUBMIT_DEPOSIT_FORM:{send:e=>{TC("Submit Deposit Form",e)()}},SUBMIT_DEPOSIT_FORM_SUCCESS:{send:e=>{TC("Submit Deposit Form Success",e)()}},SUBMIT_DEPOSIT_FORM_FAILURE:{send:e=>{TC("Submit Deposit Form Failure",e)()}},PRESS_START_CREATE_RECURRING_DEPOSIT:{send:e=>{TC("Press Start Create Recurring Deposit",e)()}},RECURRING_DEPOSIT_ADDED_SUCCESS:{send:e=>{TC("Recurring Deposit Added Success",e)()}},RECURRING_DEPOSIT_ADDED_FAILURE:{send:e=>{TC("Recurring Deposit Added Failure",e)()}},RECURRING_DEPOSIT_CANCELED_SUCCESS:{send:e=>{TC("Recurring Deposit Canceled Success",e)()}}},ideas:Tu,learn:Iu,liveTradingSignUp:{VIEW_CONTACT_FORM:Pu,VIEW_CONTACT_RESUBMIT_FORM:Du,SUBMITTED_UNVERIFIED_ADDRESS:Ou,SUBMITTED_VERIFIED_ADDRESS:Ru,VIEW_VERIFY_ADDRESS_MODAL:Fu,PRESS_ADDRESS_AUTOCOMPLETE_SUGGESTION:$u,PRESS_CANCEL_VERIFY_ADDRESS:Bu,KEEP_UNVERIFIED_ADDRESS:Mu,RESUBMITTED_AFTER_UNVERIFIED_ADDRESS:Uu,START_SOCURE_DOCUMENT_CAPTURE_FLOW:Hu,RESUBMITTED_ADDRESS_SUCCESSFULLY:Lu,VIEW_ADDITIONAL_DOCUMENTS_SUBMISSION_PAGE:zu,CLICK_COMPLETE_ADDITIONAL_DOCUMENTS_SUBMISSION_PAGE:Vu,LINK_PLAID_ACCOUNT_REQUEST_FAILURE:Wu,LINK_PLAID_BROKERAGE_ACCOUNT_REQUEST_FAILURE:ju,COMPLETED_BANK_ACCOUNT_LINK:Gu},referral:{PRESS_REFERRAL_CTA:{send:(e={})=>{TC("Press Referral CTA",e)()}},USE_REFERRAL_ACTION:{send:(e,t={})=>{TC("Send Referral",l(o({},t),{"Referral Type":e}))()}}},onboarding:{COMPLETED_LIVE_SIGNUP:{send:e=>{TC("Finish Onboarding",e)()}},COMPLETED_PAPER_SIGNUP:{send:e=>{TC("Finish Onboarding",e)()}}},orders:{CREATE_OPTIMIZED_ORDERS_ERROR:{send:e=>{TC("Create Optimized Orders Error",e)()}},PLACED_TRADE:{send:e=>{TC("Create Order",e)()}},VIEW_TRADE_PAGE:{send:e=>{TC("View Trade Page",e)()}}},security:{VIEW_QUOTE:{send:e=>{TC("View Quote",e)()}},PRESS_VIEW_SECURITY_LIST_ITEM:{send:e=>{TC("Press View Security In List",e)()}},PRESS_EXPLORE_PRESET_FILTER:{send:e=>{TC("Pressed Explore Preset Filter",e)()}}},thoughts:{ADD_THOUGHT:{send:e=>{TC("Thought Added",e)()}}},user:{SET_INVESTING_EXPERIENCE:{send:e=>{TC("Set Investing Experience",e)()}},VIEW_ANNUAL_MEMBERSHIP_OPT_IN:{send:e=>{TC("View Annual Membership Opt-In",e)()}},CLICK_ANNUAL_MEMBERSHIP_OPT_IN_ACTION:{send:e=>{TC("Click Annual Membership Opt-In Action",e)()}},CLICK_ANNUAL_MEMBERSHIP_OPT_IN_CONFIRMATION_MODAL_ACTION:{send:e=>{TC("Click Annual Membership Opt-In Confirmation Modal Action",e)()}},ANNUAL_MEMBERSHIP_OPT_IN_REQUEST_SUCCESS:{send:e=>{TC("Annual Membership Opt-In Request Success",e)()}},ANNUAL_MEMBERSHIP_OPT_IN_REQUEST_FAILURE:{send:e=>{TC("Annual Membership Opt-In Request Failure",e)()}}},banner:{VIEW_BANNER:{send:e=>{e["Type Event Name"]}},PRESS_BANNER_ACTION:{send:e=>{e["Type Event Name"]}},DISMISS_BANNER:{send:e=>{e["Type Event Name"]}},VIEW_ABOVE_FEED_REFERRAL_BANNER:{send:e=>{}},PRESS_ABOVE_FEED_REFERRAL_BANNER:{send:e=>{}},DISMISS_ABOVE_FEED_REFERRAL_BANNER:{send:e=>{}},VIEW_ABOVE_FEED_UPCOMING_EARNINGS_BANNER:{send:e=>{}},PRESS_ABOVE_FEED_UPCOMING_EARNINGS_BANNER:{send:e=>{}},DISMISS_ABOVE_FEED_UPCOMING_EARNINGS_BANNER:{send:e=>{}},VIEW_ABOVE_FEED_FUNDING_BONUS_BANNER:{send:e=>{}},PRESS_ABOVE_FEED_FUNDING_BONUS_BANNER:{send:e=>{}},DISMISS_ABOVE_FEED_FUNDING_BONUS_BANNER:{send:e=>{}},VIEW_ABOVE_FEED_TRENDING_STOCKS_BANNER:{send:e=>{}},PRESS_ABOVE_FEED_TRENDING_STOCKS_BANNER:{send:e=>{}},DISMISS_ABOVE_FEED_TRENDING_STOCKS_BANNER:{send:e=>{}},PRESS_REFERRAL_ACTION:{send:e=>{}}}};function nh(e,t,n){const r=n.toString().length<t.toString().length,i=r?t:n,a=r?n:t;for(let s=0;s<i.length;s++)if(i[s]!==a[s])return"index"===e?s:i.slice(s,i.length);return null}const rh=(e,t)=>e.split("").filter((e=>t.test(e))).join("");function ih(e,t){const n=e,r=t.split("");for(let i=0;i<n.length;i++)r[r.indexOf("*")]=n[i];return r.join("").split("*")[0]}function ah(e){const t=`${mk(e.month)}/${e.day}/${e.year}`,n=new Date(Date.parse(t)),r=new Date;return r.setHours(0,0,0,0),n>r}const sh={date_of_birth:{validationFunction:function(e){return mh(e)?null:"Date is invalid"}},green_card_expiration_date:{validationFunction:function(e){return mh(e)?ah(e)?null:"Date is in the past.":"Date is invalid"}},visa_expiration_date:{validationFunction:function(e){return mh(e)?ah(e)?null:"Date is in the past.":"Date is invalid"}},phone_number:{inputRestrictionChars:/^\d+$/,format:"***-***-****",validationFunction:function(e){const t=this.format;return e&&t.length!==e.length?"Phone Number is not long enough":null}},contact_postal_code:{inputRestrictionChars:/^\d+$/,format:"*****",validationFunction:function(e){const t=this.format;return e&&t.length!==e.length?"Zip code is not long enough":null}},social_security_number:{inputRestrictionChars:/^\d+$/,format:"***-**-****",validationFunction:function(e){return this.format.length!==e.length?"Social Security Number is not long enough":null}},bank_account:{inputRestrictionChars:/^\d+$/,validationFunction:function(e){return null}},filterValue:{inputRestrictionChars:/^[0-9\.]*$/},bank_routing_number:{inputRestrictionChars:/^\d+$/,validationFunction:function(e){return 9!==e.length?"Routing numbers must be 9 digits":null}},amount:{inputRestrictionChars:/^[0-9\,\.]*$/,validationFunction:function(e,t,n){return!nk(e)&&pk(".",e)>0&&pk(".",e)>1?"Invalid decimal format":null}},price_target:{inputRestrictionChars:/^[0-9\,\.]*$/,validationFunction:function(e,t,n){return pk(".",e)>0&&pk(".",e)>1?"Invalid decimal format":null}},expected_return:{inputRestrictionChars:/^[0-9\,\.\-]*$/,validationFunction:function(e,t,n){return e.toString().indexOf("-")>0?"Invalid number format":pk(".",e)>0&&pk(".",e)>1?"Invalid decimal format":null}},expected_dividend:{inputRestrictionChars:/^[0-9\,\.]*$/,validationFunction:function(e,t,n){return pk(".",e)>0&&pk(".",e)>1?"Invalid decimal format":null}},amount1:{inputRestrictionChars:/^\d+$/,format:"**",validationFunction:function(e){return null}},amount2:{inputRestrictionChars:/^\d+$/,format:"**",validationFunction:function(e){return null}},leverage_max:{inputRestrictionChars:/^[0-9\,\.]*$/},cash_reserve_min:{inputRestrictionChars:/^[0-9\,\.]*$/},beta_constraint_min:{inputRestrictionChars:/^[0-9\,\.]*$/},beta_constraint_max:{inputRestrictionChars:/^[0-9\,\.]*$/},single_diversified_etf_allocation_max:{inputRestrictionChars:/^[0-9\,\.]*$/},annual_dividend_income_min:{inputRestrictionChars:/^[0-9\,\.]*$/},volatility_max:{inputRestrictionChars:/^[0-9\,\.]*$/},single_position_allocation_max:{inputRestrictionChars:/^[0-9\,\.]*$/},min_shares:{inputRestrictionChars:/^[0-9\-]*$/},max_shares:{inputRestrictionChars:/^[0-9\-]*$/}},oh=function(e,t,n){const r=ch(e,n);return"Dropdown"===r.type.name&&t===r.label};function lh(e,t){const n=t||e,r=[...n.map((e=>"props"in e&&"additionalInfoFields"in e.props?e.props.additionalInfoFields:null)).filter((e=>!!e)),...n.map((e=>"props"in e&&"additionalInfoFieldsIfNot"in e.props?e.props.additionalInfoFieldsIfNot:null)).filter((e=>!!e))],i=[...e,...[].concat.apply([],r)],a=[...[].concat.apply([],r)];return 0===a.length?e:lh(i,a)}function ch(e,t){const n=lh(t.inputs);return n[uk("name",{name:e},n)]}function dh(e){const t=this.state.inputs.map((t=>{const n=sk(uh.call(this,t.name,e));return n.length>0?[t,...n]:[t]}));return sk(t)}function uh(e,t){const n=ch(e,this.state),r=(t||this.state.formData)[e];if(!("props"in n&&"toggleAdditionalInfoFieldsIf"in n.props))return[];const i=e=>{const n=(e=e||[]).map((e=>hh.call(this,e.name)&&e)).filter((e=>!!e));return n.length>0?[e,...n.map((e=>uh.call(this,e.name,t)))]:e};return n.props.toggleAdditionalInfoFieldsIf instanceof Function?n.props.toggleAdditionalInfoFieldsIf(r)?i(n.props.additionalInfoFields):i(n.props.additionalInfoFieldsIfNot):void 0===r?[]:n.props.toggleAdditionalInfoFieldsIf===r?i(n.props.additionalInfoFields):i(n.props.additionalInfoFieldsIfNot)}function hh(e){const t=ch(e,this.state);return"props"in t&&"additionalInfoFields"in t.props&&t.props.additionalInfoFields.length>0}function ph(e){return!!e&&""!==e||0===e}function mh(e){return e&&"Month"!==e.month&&"Day"!==e.day&&"Year"!==e.year}const gh=function(e,t,n,r){const i=[];if(ch(t,n).required&&!function(e,t,n){switch(ch(e,n).typeName){case"BasicTextField":case"LargeTextField":case"GenericInputField":case"TextField":case"TextNumberField":case"MaskedTextField":case"SocialTextField":case"CheckBox":return ph(t);case"CustomDropdown":case"Dropdown":return!oh(e,t,n)&&ph(t);case"DateField":case"MoneyField":case"Toggle":case"Checkbox":return ph(t);case"YesNoToggleWithLabel":return"YES"===t||"NO"===t;case"ToggleWithLabel":return!0===t||!1===t;default:return!1}}(t,e,n))return i.push({[t]:"Field is required."}),i;if(t in sh&&"validationFunction"in sh[t]){const n=sh[t].validationFunction(e,this.props,this.state);i.push({[t]:n})}return 0===i.length&&i.push({[t]:null}),i.length>0?i:[{[t]:null}]};function yh(e){const t=Object.keys(e).some((t=>!!e[t]));return t&&this.setState({errors:o(o({},this.state.errors),e)}),t}const _h=function(e,t,n){t=t||this.state.inputs,n=n||this.state.formData;const r="state"in this?this.state:{inputs:t,formData:n,debugging:"this is a dummy state for setCurrentStep of form"},i="state"in this?this:{state:r,debugging:"this is a dummy this for setCurrentStep of form"},a=dh.call({state:r}),s={};for(let o=0;o<a.length;o++){const e=a[o];let t;t="validateFields"in this?this.validateFields.call(this,n[e.name],e.name,r):gh.call(i,n[e.name],e.name,r),t&&t.forEach((e=>{s[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}if(e&&e.returnBool){return!Object.keys(s).some((e=>null!==s[e]))}return e&&e.returnErrors?s:!yh.call(this,s)},fh=function(){const e=this.state.formData,t={},n=Object.keys(e).filter((t=>e[t]!==this.props.liveAccount.liveTrading[t]));for(let r=0;r<n.length;r++){const i=n[r];t[i]=e[i]}return t},vh=function(){if(_h.call(this)){this.setState({updatingAccount:!0});const e=fh.call(this);return this.props.actions.updateLiveTradingAccount(e).then((e=>{if(!e||"error"in e){let t="Something went wrong. Please try again.";TC("Update Apex Account Failure")(),e&&e.error&&(t=e.error),this.setState({updateMessage:t,updateError:!0,updatingAccount:!1})}else{TC("Updated Apex Account")(),this.setState({updateMessage:e.message,updateError:!1,updatingAccount:!1})}})),!0}return!1},Eh=function(e){this.setState({focusedField:e})},bh=function(e,t){const n={};("validateFields"in this?this.validateFields.call(this,this.state.formData[t],t,this.state):gh.call(this,this.state.formData[t],t,this.state)).forEach((e=>{n[Object.keys(e)[0]]=e[Object.keys(e)[0]]})),this.setState({focusedField:null,errors:o(o({},this.state.errors),n)})},Ch=function(e,t,n){const r="errors"in this.state&&t in this.state.errors&&this.state.errors[t],i={};if(r){("validateFields"in this?this.validateFields.call(this,n,t,this.state):gh.call(this,n,t,this.state)).forEach((e=>{i[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}const a="object"==typeof n?o({},this.state.formData[t]):this.state.formData[t],s=ch(t,this.state),c=s.props.afterChangeCallback?()=>{s.props.afterChangeCallback(n,t,a)}:()=>!1;return this.setState((e=>({formData:l(o({},this.state.formData),{[t]:n}),errors:o(o({},this.state.errors),i)})),c),!0},xh=function(e,t){const n={};return("validateFields"in this?this.validateFields.call(this,t,e,this.state):gh.call(this,t,e,this.state)).forEach((e=>{n[Object.keys(e)[0]]=e[Object.keys(e)[0]]})),null!==n[e]},wh=function(e,t){const n={};("validateFields"in this?this.validateFields.call(this,t,e,this.state):gh.call(this,t,e,this.state)).forEach((e=>{n[Object.keys(e)[0]]=e[Object.keys(e)[0]]})),this.setState({errors:o(o({},this.state.errors),n)})},Sh=function(e,t,n,r,i){if("object"==typeof t){const n=Object.keys(t)[0],r=t[n];let i={};n in this.state.formData&&(i=o({},this.state.formData[n]));const a=e.target.value,s=l(o({},i),{[r]:a}),c="errors"in this.state&&n in this.state.errors&&this.state.errors[n],d={};if(c){("validateFields"in this?this.validateFields.call(this,s,n,this.state):gh.call(this,s,n,this.state)).forEach((e=>{d[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}const u={};return this.setState({formData:l(o({},this.state.formData),{[n]:s}),errors:o(o({},this.state.errors),d),warnings:o(o({},this.state.warnings),u)}),!0}const a=this.state.formData[t]||"";let s=e.target.value;if("object"==typeof s){const e="errors"in this.state&&t in this.state.errors&&this.state.errors[t],n={};if(e||i){("validateFields"in this?this.validateFields.call(this,s,t,this.state):gh.call(this,s,t,this.state)).forEach((e=>{n[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}const r=_;this.setState({formData:l(o({},this.state.formData),{[t]:s}),errors:o(o({},this.state.errors),n),warnings:o(o({},this.state.warnings),r)})}const c=a.toString().length<s.toString().length,d=nh("value",a,s);if(!c&&"-"===d){const e=nh("index",a,s);s=s.split("").filter(((t,n)=>n!==e&&n!==e-1)).join("")}const u=t in sh&&sh[t].inputRestrictionChars;u&&(s=rh(s,u));const h=t in sh&&sh[t].format;h&&(s=ih(s,h));const p="errors"in this.state&&t in this.state.errors&&this.state.errors[t],m={};if(p||i){("validateFields"in this?this.validateFields.call(this,s,t,this.state):gh.call(this,s,t,this.state)).forEach((e=>{m[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}const g={},y=ch(t,this.state);let _=null;if(!isNaN(s)&&y.props&&y.props.returnMinMaxValidation){const{min:e,max:t}=y.props.returnMinMaxValidation(),n=qk(s);n<e&&(s=e,_={[y.name]:`${e} is the minimum value accepted.`}),n>t&&(s=t,_={[y.name]:`${t} is the maximum value accepted.`})}this.setState((e=>({formData:l(o({},this.state.formData),{[t]:s}),errors:o(o({},this.state.errors),m),warnings:o(o({},this.state.warnings),g)})),(()=>{y.props.afterChangeFunc&&y.props.afterChangeFunc(s,y.name,a)}))},kh=function(e,t,n,r,i){let a=e.target.value;const s=this.state.openGraphObject&&this.state.openGraphObject.original_link_url;if(Qd(a)){const e=Yd(a)[0];if((e=>{const t=Yd(e);return!!Qd(e)&&t.length>1})(a)){TC("Multiple Link in Thought Attempt")();const{sanitizedValue:e,error:t}=Zd(a);a=e,this.setState((e=>({customWarning:t,prevThoughtText:a})))}if(!((e,t)=>Yd(e)[0]===t)(a,s)){this.setState((e=>({loadingPreviewImage:!0})));this.props.actions.fetchImageFromURL(e).then((e=>{if(200===e.status){const t=e.data,n=Kd(t);this.setState((e=>({openGraphObject:n,loadingPreviewImage:!1})))}else this.setState((e=>({loadingPreviewImage:!1})))})).catch((e=>{this.setState((e=>({loadingPreviewImage:!1})))}))}}else this.setState((e=>({openGraphObject:null,loadingPreviewImage:!1})));const c="errors"in this.state&&t in this.state.errors&&this.state.errors[t],d={};if(c||i){("validateFields"in this?this.validateFields.call(this,a,t,this.state):gh.call(this,a,t,this.state)).forEach((e=>{d[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}if(this._isThoughtTooLong(a)&&!this._loggedExceededThoughtLimit){this._loggedExceededThoughtLimit=!0;const e="Exceeded Thought Limit";this.props.actions.logMetricsTrackingEvent(e)}this.setState({formData:l(o({},this.state.formData),{[t]:a}),errors:o(o({},this.state.errors),d),warnings:o(o({},this.state.warnings),{})})},Th=function(e,t){const n=this.state.formData[e],r=(this.state,function(e,t,n,r){const i=[];if("expected_return"===e||"price_target"===e){const e=qk(t),n=zS(r.idea)||r.userAddingPriceTarget?(e-r.security.current_price)/r.security.current_price*100:t;"Buy"==(0===r.idea.idea_type.id?"Buy":"Sell")?(n>50&&i.push("It looks like you think the price will go up a lot. If that's not right, please double check the expected return."),n<0&&i.push("A negative expected return means you think the price will go down. Consider changing this idea to sell.")):(n<-50&&i.push("It looks like you think the price will go down a lot. If that's not right, please double check the expected return."),n>0&&i.push("A positive expected return means you think the price will go up. Consider changing this idea to buy."))}return"expected_dividend"===e&&qk(t)>5&&i.push("It looks like you're expecting a dividend yield of more than 5% which is relatively high. If that's not right, please double check your expected dividend."),{[e]:i.length>0?i:null}}(e,n,0,t.inputWarningProps));this.setState({warnings:o(o({},this.state.warnings),r)})},Ih=function(e,t,n,r,i){const a=this.state.formData[t]||"";let s=e.target.value;const c=t in sh&&sh[t].inputRestrictionChars;c&&(s=rh(s,c));const d=t in sh&&sh[t].format;d&&(s=ih(s,d));const u=s.split(".")[0],h=pk(".",s)>0,p=h&&s.split(".")[1]||"",m=u?parseInt(u.replace(/\,/g,""),10):null;if(pk(".",s)>1||h&&p.length>2)return this.setState({formData:l(o({},this.state.formData),{[t]:a})}),!1;const g=Array.isArray(this.state.errors),y=g?[]:{};if(!g){if("errors"in this.state&&t in this.state.errors&&this.state.errors[t]||i){("validateFields"in this?this.validateFields.call(this,s,t,this.state):gh.call(this,s,t,this.state)).forEach((e=>{y[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}}s=(m||0===m?hk(m):"")+(h?"."+p:""),this.setState((e=>({formData:l(o({},this.state.formData),{[t]:s}),errors:g?[...this.state.errors,...y]:o(o({},this.state.errors),y)})))},Nh=function(e,t){void 0===t&&(t=!this.state.formData[e]);const n={};if("errors"in this.state&&e in this.state.errors&&this.state.errors[e]){("validateFields"in this?this.validateFields.call(this,t,e,this.state):gh.call(this,t,e,this.state)).forEach((e=>{n[Object.keys(e)[0]]=e[Object.keys(e)[0]]}))}const r={},i=sk(uh.call(this,e));i.length>0&&i.forEach((e=>{r[e.name]=null})),this.setState({formData:l(o(o({},r),this.state.formData),{[e]:t}),errors:o(o(o({},r),this.state.errors),n)})},Ah=function(e,t,n){this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})),n)},Ph=function(e,t){const n=!this.state.formData[e],r="object"==typeof n?o({},this.state.formData[e]):this.state.formData[e],i=t?()=>{t(n,e,r)}:()=>!1;this.setState((t=>({formData:l(o({},t.formData),{[e]:n})})),i)},Dh=function(e,t){const n=this.state.formData[e]||[];let r=[];r=ak(t,n)?n.filter((e=>e!==t)):[...n,t],this.setState({formData:l(o({},this.state.formData),{[e]:r}),errors:l(o({},this.state.errors),{[e]:null})})},Oh=function(e){e=e||this.props.existingFormData||{};const t=dh.call(this,e),n={};for(let r=0;r<t.length;r++){const i=t[r];if(!(i.name in e)||"DateField"===i.typeName||"contact_country"===i.name&&("contact_country"!==i.name&&"citizenship_country"!==i.name||""===e[i.name])||(n[i.name]=e[i.name]),"DateField"===i.typeName){const t=e[i.name];t&&(n[i.name]=t)}}this.setState((e=>({formData:o(o({},e.formData),n)})),(()=>{"true"===fe(this.props.location.search).showErrors&&_h.call(this)}))},Lh=function(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),silentErrorCheck:xh.bind(this),handleSwitchClick:Ph.bind(this),handleToggleClick:Nh.bind(this),handleRatingClick:Ah.bind(this),manualValidation:wh.bind(this),handleCustomDropdownClick:Ch.bind(this),handleChange:Sh.bind(this),handleThoughtTextChange:kh.bind(this),createWarningsForInput:Th.bind(this),handleCurrencyChange:Ih.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getInputWarning:function(e){return this.state.warnings[e]}.bind(this),dismissWarning:function(e){this.setState((t=>({warnings:l(o({},this.state.warnings),{[e]:null})})))}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this),getValueObjectId:function(e){return this.state.formData[e][`${e}_type_id`]}.bind(this),getObjectId:function(e){return this.props[e][`${e}_id`]}.bind(this)}},Rh=function(e,t,n){t||(t=Lh.call(this)),n||(n=e.name);const r="props"in e&&e.props.additionalInfoFields?e.props.additionalInfoFields.map((e=>Rh(e,t,`${n}-child-${e.name}`))):[],i="props"in e&&e.props.additionalInfoFieldsIfNot?e.props.additionalInfoFieldsIfNot.map((e=>Rh(e,t,`${n}-child-${e.name}`))):[],a=o(o({name:e.name,label:e.label,required:e.required,key:n},e.props),t);return c.createElement(e.type,a,{additionalInfoFields:r,additionalInfoFieldsIfNot:i})},Fh=e=>{const t=["Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cabo Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo (Democratic Republic of the)","Cook Islands","Costa Rica","Côte d'Ivoire","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (Democratic People's Republic of)","Korea (Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia (the former Yugoslav Republic of)","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom of Great Britain and Northern Ireland","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"];return e&&t.unshift("United States of America"),t},Mh={serializerFunctions:{convertRiskProfile:function(e,t){return Uh(e,t)},convertAnnualIncome:function(e,t){return"fromApi"===e?null===t?{}:$h(e,{annual_income_usd_min:t}):$h(e,t)},convertTotalInvestibleAssets:function(e,t){return"fromApi"===e?null===t?{}:Bh(e,{total_investible_assets_usd_min:t}):Bh(e,t)}},serializeFields:{risk_profile:"convertRiskProfile",annual_income_usd_min:"convertAnnualIncome",annual_income:"convertAnnualIncome",total_investible_assets_usd_min:"convertTotalInvestibleAssets",total_investible_assets:"convertTotalInvestibleAssets"},booleanFields:{}},Uh=(e,t)=>{const n={conservative:"Conservative",moderate:"Moderate",aggressive:"Aggressive",custom:"Existing Custom Profile"};return"fromApi"===e?n[t]:ok(n)[t]},$h=(e,t)=>{const n={0:"Less than $25k",25e3:"$25k - $50k",5e4:"$50k - $100k",1e5:"More than $100k"},r={"Less than $25k":"24999","$25k - $50k":"49999","$50k - $100k":"99999","More than $100k":null};if("fromFront"===e&&!t)return{};if("fromFront"===e)return{annual_income_usd_min:ok(n)[t],annual_income_usd_max:r[t]};return{annual_income:n[t.annual_income_usd_min]||null}},Bh=(e,t)=>{if(!t)return{};const n=t.total_investible_assets_usd_min,r={0:"Less than $25k",25e3:"$25k - $50k",5e4:"$50k - $100k",1e5:"$100k - $250k",25e4:"$250k - $500k",5e5:"$500k - $1M",1e6:"More than $1M"};return"fromApi"===e?{total_investible_assets:r[n]||null}:{total_investible_assets_usd_min:ok(r)[t],total_investible_assets_usd_max:{"Less than $25k":"24999","$25k - $50k":"49999","$50k - $100k":"99999","$100k - $250k":"249999","$250k - $500k":"499999","$500k - $1M":"999999","More than $1M":null}[t]}},zh={serializerFunctions:{convertBankAccountType:function(e,t){return Vh(e,t)},convertTransactionAmount:function(e,t){return Hh(e,t)},convertMicroDepositVerificationAmount:function(e,t){return Wh(e,t)},convertFundingOperation:function(e,t){return jh(e,t)}},serializeFields:{bank_account_type:"convertBankAccountType",amount:"convertTransactionAmount",funding_operation:"convertFundingOperation",amount1:"convertMicroDepositVerificationAmount",amount2:"convertMicroDepositVerificationAmount"},booleanFields:{}},Vh=(e,t)=>"fromApi"===e?ck(t):t.toUpperCase(),Hh=(e,t)=>"fromFront"===e&&"string"==typeof t?t.replace(/,/g,""):t,Wh=(e,t)=>"fromFront"===e?"."+t:t,jh=(e,t)=>"fromFront"!==e?t:t===`From ${Xo}`?"Withdraw":t===`To ${Xo}`?"Deposit":void 0,Gh=e=>e?"leader"in e:null,qh=e=>e?"leader"in e:null,Yh=e=>e&&e.is_collective||!1,Kh=function(e,t,n){if(!e)return Mk(["Error: no userId provided",arguments]),null;if(!t||!("userList"in t))return Mk(["Error: invalid usersStore provided",arguments]),null;n||Mk(["Warning: currentUser not provided",arguments]);const r=(n.user_id===e?n:t.userList[e])||null;return r||Mk(["Error: not able to find user in the usersStore and user is not current user",e,t,n])},Qh=e=>e+("s"===e[e.length-1]?"'":"'s"),Zh=e=>e.profile_display_name,Xh=e=>e.profile_display_secondary_name,Jh=e=>Qh(Zh(e)),ep=e=>Qh(`${e.first_name} ${e.last_name[0]}`),tp=e=>Qh(np(e,{showThoughtLeaderCompany:!0})),np=(e,t)=>(e.isThoughtLeader||e.company)&&t&&t.showThoughtLeaderCompany?ip(e):e.isThoughtLeader||e.leader?ap(e):`${e.first_name} ${e.last_name}`,rp=e=>qh(e)?`${e.company}`:`${e.first_name}`,ip=e=>`${e.company}`,ap=e=>`${e.leader}`,sp=e=>e.sort(((e,t)=>{const n=`${e.last_name} ${e.first_name}`,r=`${t.last_name} ${t.first_name}`;return n<r?-1:n>r?1:0})),op=e=>e.connection_status_to_current_user,lp=e=>"connected"===op(e),cp=e=>null===op(e),dp=e=>"request_sent"===op(e),up=e=>"request_sent_expired"===op(e),hp=e=>"request_received"===op(e)||(e=>"request_received_expired"===op(e))(e),pp=e=>"request_sent"===op(e)||up(e),mp=e=>e.user_id,gp={serializerFunctions:{},serializeFields:{}},yp=e=>e.user_id,_p=e=>e.has_agreed_to_bd_terms,fp=e=>e.onboarding_end_test_group||0,vp=e=>{const t=e.ask_nav_tab_label_test_group;return nk(t)?0:t},Ep=e=>1===e.analysis_nav_tab_label_test_group,bp=e=>e.requires_trade_approval,Cp=e=>1===e.no_basket_manual_order_test_group,xp=e=>1===e.analysis_nav_tab_badge_test_group,wp=e=>e.is_referral_program_active,Sp=e=>!e.has_completed_onboarding,kp=e=>e.is_allowed_to_subscribe,Tp=e=>e.is_subscriber,Ip=e=>e.is_membership_eligible,Np=e=>e.membership_monthly_fee_amount,Ap=e=>e.membership_monthly_free_trade_limit,Pp=e=>e.membership_waive_fee_min_equity,Dp=e=>e.membership_fee_balance,Op=e=>Lp(e)&&!Rp(e),Lp=e=>e.allow_live_trading,Rp=e=>e.is_live_trading,Fp=e=>e.eligible_for_funding_reward,Mp=e=>e.eligible_for_funding_match_reward,Up=e=>e.has_double_rewards,$p=e=>e.referral_cash_reward_limit,Bp=e=>e.referral_cash_reward_requires_trade,zp=e=>1===e.rewards_require_ach_link_test_group,Vp=e=>null===e.referral_cash_reward_amount_override,Hp=e=>!e.hide_dashboard_messaging,Wp=e=>"EventSource"in window&&(e=>1===(e.streaming_prices_test_group||1))(e)&&Rp(e),jp=e=>{const t=e.splash_color_theme_test_group,n=e.splash_message_theme_test_group;return[e.splash_theme_facebook_content_id,t,n]},Gp=e=>1===e.subscription_plan_name_test_group?"Prime":"Plus",qp=(e,t)=>{if(!t||!("ideaList"in t))return console.error("Invalid idea store provided to doesCurrentUserHaveIdeas"),!1;const n=t.ideaList;return FS(e,n)},Yp=(e,t)=>qp(e,t).filter((e=>e.active)).length>0,Kp=(e,t)=>{if(!t||!("positions"in t)||!t.positions)return console.error("Invalid portfolio store provided to returnCurrentUserPosition"),!1;const n=parseInt(e);return(e=>{if(!e||!("positions"in e)||!e.positions)return console.error("Invalid portfolio store provided to doesCurrentUserHavePositions"),!1;const t=e.positions;return Object.keys(t).map((e=>t[e])).filter((e=>0!==e.shares&&!nk(e.shares)))})(t).filter((e=>e.security_id===n))[0]||null},Qp=(e,t)=>{const n=Kp(e,t);return n?n.shares:0},Zp=(e,t)=>{if(!t||!("positions"in t)||!t.positions)return console.error("Invalid portfolio store provided to doesCurrentUserHavePositions"),!1;const n=Kp(e,t);return n&&Math.abs(n.shares)>0},Xp=(e,t,n)=>((e,t)=>{const n=t.userDict;return e in n||Mk("User connections data not found in connection store",{connectionStoreUserDict:n}),n[e].connections||[]})(e,t).map((e=>((e,t)=>e?t&&"userList"in t?t.userList[e]||Mk(["Error: not able to find user in the usersStore and user is not current user",e,t]):(Mk(["Error: invalid usersStore provided",arguments]),null):(Mk(["Error: no userId provided",arguments]),null))(e,n))),Jp=e=>e.viewpoint_sub_free_slots_available>0,em=e=>1===e.deposit_promo_may_2022_test_group,tm=e=>e.community_points_total,nm=(e,t,n)=>{const r=Object.keys(n),i={funding:zh,liveTrading:Mh,currentUser:gp},a=i[e].serializerFunctions,s=i[e].serializeFields,l=r.filter((e=>e in s)),c=r.filter((e=>!(e in s)));let d={};for(let u=0;u<l.length;u++){const e=l[u],r=a[s[e]](t,n[e],e);r&&"object"==typeof r?d=o(o({},d),r):d[e]=r}for(let o=0;o<c.length;o++){const e=c[o];d[e]=n[e]}return d},rm=(e,t)=>{const n=["featured","is_halted","is_short_allowed","current_price","current_price_change","current_price_change_percent","last_price","last_size","bid_price","bid_size","ask_price","ask_size"],r=o({},t);return Object.keys(e).filter((e=>n.includes(e))).forEach((t=>{r[t]=e[t]})),o({id:e.security_id},r)};var im=Object.defineProperty,am=(e,t,n)=>(((e,t,n)=>{t in e?im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const sm="upcoming_earnings",om="trending_stocks",lm="collective_intelligence",cm="sector",dm="dividend_yield",um="market_cap",hm="revenue_ltm",pm="projected_revenue_growth",mm="owned_by_thought_leaders",gm="on_connections_watchlists",ym="price",_m="forward_pe",fm="price_earnings",vm="forward_pe_curr_yr",Em="forward_pe_next_yr",bm="price_sales",Cm="forward_ps_curr_yr",xm="forward_ps",wm="forward_ps_next_yr",Sm="price_tangible_book",km="forward_revenue_curr_yr",Tm="forward_revenue",Im="forward_revenue_next_yr",Nm="net_debt",Am="avg_correlation",Pm={TECHNOLOGY:[25,26,27,66,70,103,121,130],FINANCIAL:[46,47,67,71,72,74,76,90,109,118,120,124],HEALTHCARE:[14,60,78,81,82,83,105,106,107,122],ENERGY:[6,23,31,36,37,38,39,40,55,68,95,96,97,98,137]},Dm="||",Om=">",Lm="<";class Rm{constructor({type:e,filterIds:t,operator:n,operatorValue:r=null}){am(this,"addOperator",((e,t=null)=>{this.operator=e,this.operatorValue=t})),am(this,"toApi",(()=>{const e={name:this.name,operation:this.operation},{operator:t,operatorValue:n,filterIds:r}=this;return null!==t&&(e.operator=t),null!==n&&(e.value=n),null!==r&&(e.ids=r),e}));const i={[lm]:"Collective Intelligence",[cm]:"Sectors",[dm]:"Dividend Yield",[um]:"Market Cap",[hm]:"Revenue LTM",[pm]:"Projected Revenue Growth",[mm]:"Owned by Thought Leaders",[gm]:"On Connections' Watchlists",[ym]:"Price",[_m]:"Forward P/E",[fm]:"Price / Earnings",[vm]:"Forward P/E Curr Yr",[Em]:"Forward P/E Next Yr",[bm]:"Price / Sales",[Cm]:"Forward P/S Curr Yr",[xm]:"Forward P/S",[wm]:"Forward P/S Next Yr",[Sm]:"Price / Tangible Book",[km]:"Forward Revenue Curr Yr",[Tm]:"Forward Revenue",[Im]:"Forward Revenue Next Yr",[Nm]:"Net Debt",[Am]:"Avg. Correlation"};this.type=e,this.filterIds=t,this.name=i[e],this.operator=n||Dm,this.operatorValue=r}}var Fm=Object.defineProperty,Mm=(e,t,n)=>(((e,t,n)=>{t in e?Fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Um{constructor(e,t){Mm(this,"toApi",(()=>this.filters.map((e=>e.toApi())))),this.filters=t,this.type=e}}const $m=new Rm({type:lm}),Bm=new Rm({type:sm}),zm=new Rm({type:om}),Vm=new Rm({type:cm,filterIds:Pm.TECHNOLOGY}),Hm=new Rm({type:cm,filterIds:Pm.FINANCIAL}),Wm=new Rm({type:cm,filterIds:Pm.HEALTHCARE}),jm=new Rm({type:cm,filterIds:Pm.ENERGY}),Gm={COLLECTIVE_INTELLIGENCE:new Um("COLLECTIVE_INTELLIGENCE",[$m]),UPCOMING_EARNINGS:new Um("UPCOMING_EARNINGS",[Bm]),TRENDING_STOCKS:new Um("TRENDING_STOCKS",[zm]),TECH_SECTOR:new Um("TECH_SECTOR",[Vm]),FINANCIAL_SECTOR:new Um("FINANCIAL_SECTOR",[Hm]),HEALTHCARE_SECTOR:new Um("HEALTHCARE_SECTOR",[Wm]),ENERGY_SECTOR:new Um("ENERGY_SECTOR",[jm]),JUICY_DIVIDENDS:new Um("JUICY_DIVIDENDS",[new Rm({type:dm,operator:Om,operatorValue:3}),new Rm({type:um,operator:Om,operatorValue:1e9}),new Rm({type:hm,operator:Om,operatorValue:1e9})]),GROWTH_STOCKS:new Um("GROWTH_STOCKS",[new Rm({type:pm,operator:Om,operatorValue:20}),new Rm({type:pm,operator:Lm,operatorValue:200}),new Rm({type:um,operator:Om,operatorValue:1e9}),new Rm({type:hm,operator:Om,operatorValue:1e9})]),VALUE_STOCKS:new Um("VALUE_STOCKS",[new Rm({type:_m,operator:Lm,operatorValue:12}),new Rm({type:_m,operator:Om,operatorValue:0}),new Rm({type:um,operator:Om,operatorValue:1e9}),new Rm({type:hm,operator:Om,operatorValue:1e9})]),FAMOUS_INVESTORS:new Um("FAMOUS_INVESTORS",[new Rm({type:mm,filterIds:null})]),FRIENDS_IDEAS:new Um("FRIENDS_IDEAS",[new Rm({type:gm,filterIds:null})])},qm=e=>function(t){return t({type:"LOADING_SECURITIES_DATA",payload:e}),Td(e).then((e=>{if(e)return t({type:"ADD_SECURITIES",payload:e&&"securities"in e?e.securities:[]}),t({type:"ADD_SYMBOL_LOOKUP",payload:e.securities.map((e=>({[e.symbol]:e.id})))}),e}))},Ym=e=>function(t){return Id(e).then((e=>{if(e)return t({type:"ADD_SECURITY_FUNDAMENTAL_DATA",payload:"securities"in e?e.securities:[]}),e}))},Km=(e,t)=>function(n){return n({type:"LOADING_SECURITY_PRICE_DATA",payload:{securitiesListById:e}}),Ad(e,t).then((e=>{if(e&&e.data&&"securities"in e.data){const t=e.data.securities,r=e.data.price_quotes_info||{},i=t.map((e=>rm(e,r)));return n({type:"ADD_SECURITY_PRICE_DATA",payload:{securitiesPriceData:i}}),e}return console.error("Something went wrong getting securities price data"),"Something went wrong getting securities price data"}))},Qm=(e,t)=>function(n){return Fd(e,t).then((e=>{const{status:t,data:r}=e;if(200===t){const{securities:e}=r,t=e.map((e=>e.id));return n({type:"ADD_SECURITIES",payload:e}),{ok:!0,securityIds:t,securities:e}}return{ok:!1}}))},Zm={connections:e=>Array.isArray(e)?e.map((e=>`${e.first_name} ${e.last_name}`)):`${e.first_name} ${e.last_name}`,exchange:e=>Array.isArray(e)?e.map((e=>`${e.description}`)):`${e.description}`,sector:e=>Array.isArray(e)?e.map((e=>`${e.description}`)):`${e.description}`,sectors:e=>Array.isArray(e)?e.map((e=>`${e.description}`)):`${e.description}`,thought_leaders:e=>Array.isArray(e)?e.map((e=>`${e.company} - ${e.leader}`)):`${e.company} - ${e.leader}`,conviction:e=>`${e.name}`,thesis:e=>`${e.name}`,horizon:e=>`${e.name}`,idea_type:e=>`${e.name}`,number:e=>Gk(e),numberNoDecimal:e=>Gk(e,!0),smallNumber:e=>hk(qk(e),{minimumFractionDigits:0,maximumFractionDigits:0}),shares:e=>hk(qk(e),{minimumFractionDigits:0,maximumFractionDigits:5}),float:e=>hk(qk(e),{minimumFractionDigits:2,maximumFractionDigits:2}),priceFloat:e=>{const t=qk(e);return hk(t,{minimumFractionDigits:2,maximumFractionDigits:t<1?4:2})},price:e=>`${qk(Vk(e))<0?"-":""}$${Vk(e,!0)}`,priceNearestDollar:e=>`${qk(Vk(e))<0?"-":""}$${Vk(Math.round(e),!0,!0)}`,price_fin_notation:e=>`$${Gk(e)}`,price_fin_notation_no_decimal:e=>`$${Gk(e,!0)}`,ratio:e=>{const t=zk(e);return hk(qk(e),{minimumFractionDigits:t,maximumFractionDigits:t})},percentage:(e,t)=>{let n=2;t&&t.decimalPlace&&(n=t.decimalPlace);return(Bk(e)?hk(qk(e),{minimumFractionDigits:n,maximumFractionDigits:n}):e)+"%"},percentageFloat:(e,t)=>{let n=2;t&&t.decimalPlace&&(n=t.decimalPlace);let r=Bk(e)?e:qk(e);return hk(r,{minimumFractionDigits:n,maximumFractionDigits:n})+"%"},unformatted:e=>e},Xm=e=>{const t={symbol:"unformatted",name:"unformatted",connections:"connections",owned_by:"connections",thought_leaders:"thought_leaders",exchange:"exchange",sector:"sector",sectors:"sectors",conviction:"conviction",thesis:"thesis",horizon:"horizon",idea_type:"idea_type",owned_as_of:"unformatted",admin_created_date:"unformatted","Price / Sales":"ratio","Forward P/S Curr Yr":"ratio","Forward P/S":"ratio","Forward P/S Next Yr":"ratio","Total Enterprise Value":"number",Beta:"ratio",market_cap:"number","Market Cap":"number",net_debt:"number","Net Debt":"number",revenue_ltm:"number","Revenue LTM":"number","Net Income LTM":"number",projected_revenue_growth:"percentage","Projected Revenue Growth":"percentage",analyst_2yr_growth_projection:"percentage",price_to_tangible_book_value:"ratio","Price / Tangible Book":"ratio",sentiment:"ratio",current_price:"priceFloat",current_price_change:"priceFloat",price_target:"price",backward_pe_ratio:"ratio","Price / Earnings":"ratio",forward_pe_ratio_this_year:"ratio","Forward P/E Curr Yr":"ratio",forward_pe_ratio_next_year:"ratio","Forward P/E":"ratio",forward_pe_ratio_next_next_year:"ratio","Forward P/E Next Yr":"ratio","Forward EPS Curr Qtr":"price","Forward EPS Curr Yr":"price","Forward EPS":"price","Forward EPS Next Yr":"price","Net Debt / EBITDA":"ratio","Forward Net Debt / EBITDA Curr Yr":"ratio","Forward Net Debt / EBITDA":"ratio","Total Debt / EBITDA":"ratio","Forward Total Debt / EBITDA Curr Yr":"ratio","Forward Total Debt / EBITDA":"ratio","EV / EBITDA":"ratio","Forward EV / EBITDA Curr Yr":"ratio","Forward EV / EBITDA":"ratio",current_price_change_percent:"percentage",dividend_yield:"percentage","Dividend Yield":"percentage",expected_dividend:"percentage",expected_return:"percentage",allocation:"percentage",optimized_allocation:"percentage",percentage:"percentage",ratio:"ratio",number:"number",float:"float",price:"price",correlation:"percentage"};return t[e]?t[e]:"unformatted"},Jm=e=>"price_target"===e?"":"allocation"===e||"optimized_allocation"===e?"0%":"N/A",eg=(e,t)=>{if(!e&&0!==e)return Jm(t);const n=Xm(t);return n in Zm?Zm[n](e):Jm(t)},tg=(e,t)=>{if(!e&&0!==e)return"price_target"===t?"":"allocation"===t||"optimized_allocation"===t?"0%":"N/A";return Xm(t)in Zm?Xm(t)in Zm?Zm[Xm(t)](e):"":"N/A"},ng=(e,t)=>{if(!e&&0!==e)return"N/A";if(!(t in Zm))return"N/A";return Zm[t](e)},rg=(e,t)=>{const n=[];return t.forEach((t=>{t.interest=1,t.sentiment=e,n.push(t)})),n},ig=(e,t)=>!(e in t.securities),ag=(e,t,n,r)=>{if(!e)return Uk(["Error: no securityId provided",arguments]),null;if(!t)return Uk(["Error: no property provided",arguments]),null;if("string"!=typeof t)return Uk(["Error: expecting property value of a string but got "+typeof t,arguments]),null;if(!n||!("lookup"in n))return Uk(["Error: invalid security store provided",arguments]),null;if(!r||!("securities"in r))return Uk(["Error: invalid fundamental data store provided",arguments]),null;const i=n.lookup[e],a=r.securities[e],s=o(o({},i),a)[t],l=ig(e,r);return void 0===s&&l?{loading:!0,value:s}:{value:s}},sg=(e,t)=>{const n={"Net Debt":1e6,"Market Cap":1e6,"Revenue LTM":1e6};return void 0===t?n[e]:n[e]?n[e]*t:t},og=(e,t)=>{if(!e)return console.error("No securityId provided to returnPricingForSecurity");if(!t||!("securities"in t))return console.error("Invalid or missing securitiesPriceStore provided to returnPricingForSecurity");return t.securities[e]||{}},lg=function(e,t){e||Uk("Error: no securityId provided to returnSecurity",!0),t&&"lookup"in t||Uk("Error: invalid security store provided provided to returnSecurity",!0);return(e=>e.lookup)(t)[e]||null},cg=(e,t)=>(e=>e.loadingSecuritiesList)(t).includes(e),dg=e=>e.askedCTL?{asked_community_thought_leader:!0,security_id:e.securityId,idea_id:e.ideaId,thought_id:e.thoughtId,question:e.question}:{asked_user_id:e.userId,security_id:e.securityId,idea_id:e.ideaId,thought_id:e.thoughtId,question:e.question},ug=`${sd}/api`,hg=e=>{const t=ve(e);return hd("get",[`${ug}/asks/permitted${t}`]).then((e=>e))},pg=e=>{const t=Array.isArray(e)?e.map((e=>dg(e))):[dg(e)];return hd("post",[`${ug}/asks`,{asks:t}]).then((e=>e))},mg=()=>hd("delete",[`${sd}/users/sign_out`]).then((e=>e)),gg=`${sd}/api`,yg=()=>hd("get",[`${gg}/banner`,{},{}],{ignoreAuth:!0}).then((e=>e)),_g=()=>hd("post",[`${sd}/live_trading_banner`,{},{}],{ignoreAuth:!0}).then((e=>e)),fg=`${sd}/api`,vg=e=>hd("get",[`${fg}/users?user_ids=${e}`,{},{}],{ignoreAuth:!1}).then((e=>e)),Eg=()=>hd("get",[`${fg}/collectives`,{},{}],{ignoreAuth:!0}).then((e=>e)),bg=`${sd}/api`,Cg=`${bg}/current_user`,xg=(e={})=>{const t=o({},e);return hd("get",[`${bg}/users?include_self=true&include_portfolio=true`,{params:t}],{ignoreAuth:!0})},wg=()=>hd("get",[`${bg}/users?include_self=true&include_portfolio=true`],{ignoreAuth:!0}).then((e=>e.data)),Sg=(e={})=>{const t=`${bg}/current_user/external_positions`,n=o({},e);return hd("get",[t,{params:n}])},kg=()=>hd("get",[`${bg}/v1/options_trading_get`]),Tg=e=>hd("post",[`${bg}/v1/options_trading_post`,e]),Ig=()=>hd("get",[`${sd}/users/edit`]),Ng=()=>hd("post",[`${bg}/live_accounts/dismiss_margin_call_message`]),Ag=e=>hd("post",[`${bg}/color_schemes`,{color_scheme:e}]),Pg=(e,t)=>hd("put",[`${Cg}`,{user:e}],{ignoreAuth:t}).then((e=>e&&e.data?e.data:e)),Dg=()=>hd("post",[`${Cg}/agree_to_terms`]),Og=()=>hd("delete",[`${Cg}`]),Lg=e=>hd("post",[`${Cg}/avatar`,e,{headers:{"Content-Type":"multipart/form-data"}}]),Rg=()=>hd("delete",[`${Cg}/avatar`]),Fg=(e,t)=>hd("patch",[`${Cg}/email`,{user:{current_password:e,email:t}}]),Mg=(e,t)=>hd("patch",[`${Cg}/password`,{user:{current_password:e,password:t,password_confirmation:t}}]),Ug=()=>hd("post",[`${bg}/live_accounts/documentation/request_notice`]),$g=()=>hd("post",[`${Cg}/start_membership`]),Bg=e=>{if(!e.users)return console.error("Could not find data in response from current user."),{};const t=e.users[0],n={};return["cash","buying_power","equity","positions","price_quotes_info","total_day_change","total_day_change_percent","year_to_date_change","year_to_date_change_percent"].forEach((e=>{nk(t[e])||(n[e]=t[e])})),n},zg={"/":{getPageContextName:()=>{const e=fe(window.location.search);return"positions"===e.tab?"Dashboard Positions":"feed"===e.tab?"Dashboard Feed":"Dashboard"}},"/orders":{getPageContextName:()=>"Trade Page"},"/ideas/portfolio_explorer":{getPageContextName:()=>"Portfolio Explorer"},"/ideas/community":{getPageContextName:()=>"Community Ideas Page"},"/ideas":{getPageContextName:()=>"My Ideas Page"},"/portfolio":{getPageContextName:()=>"Portfolio Page"},"/portfolio/history":{getPageContextName:()=>"History Page"},"/portfolio/funding":{getPageContextName:()=>"Funding Page"},"/account_type":{getPageContextName:()=>"Account Type Selection Page"},"/investing_experience":{getPageContextName:()=>"Investing Experience Form Page"},"/live_accounts/new":{getPageContextName:()=>"Live Account Signup Start"},"/live_accounts/confirmation":{getPageContextName:()=>"Live Account Signup Confirmation Page"},"/live_accounts/agreements":{getPageContextName:()=>"Live Account Signup Agreements Form Page"},"/live_accounts/disclosures":{getPageContextName:()=>"Live Account Signup Disclosures Form Page"},"/live_accounts/identity":{getPageContextName:()=>"Live Account Signup Identity Form Page"},"/live_accounts/contact":{getPageContextName:()=>"Live Account Signup Contact Form Page"},"/live_accounts/investor_profile":{getPageContextName:()=>"Live Account Signup Investor Profile Form Page"},"/users/edit":{getPageContextName:()=>"Edit Profile Page"},"/users/connections":{getPageContextName:()=>"Connections Page"},"/users/thought_leaders":{getPageContextName:()=>"List Thought Leaders Page"},"/referrals":{getPageContextName:()=>"Referral Rewards Page"},"/ask":{getPageContextName:()=>"Ask Page"},"/notifications":{getPageContextName:()=>"Activity Page"},"/faq":{getPageContextName:()=>"FAQ Page"},"/invites/provider":{getPageContextName:()=>"Invite Contacts Choose Provider Page"},"/contacts/failure":{getPageContextName:()=>"Contacts Import Failure Page"},"/documents":{getPageContextName:()=>"Live Account Documents Page"},"/about":{getPageContextName:()=>"About Page"},"/legal":{getPageContextName:()=>"Legal Page"},"/margin_disclosure":{getPageContextName:()=>"Margin Disclosure Page"},"/privacy_policy":{getPageContextName:()=>"Privacy Policy Page"},"/terms_of_service":{getPageContextName:()=>"Terms Of Service Page"},"/terms_of_service_nvstr_financial":{getPageContextName:()=>"Terms Of Service Page"},"/terms_of_service_nvstr_technologies":{getPageContextName:()=>"Terms Of Service Page"},"/referral_rules":{getPageContextName:()=>"Referral Rules Page"},"/subscriptions":{getPageContextName:()=>"Subscriptions Signup Page"},"/membership":{getPageContextName:()=>"Paper Membership Signup Page"}},Vg=[{panelKey:"security",getPageContextName:()=>"Security Panel"},{panelKey:"ideas",getPageContextName:()=>"My Ideas Panel"},{panelKey:"idea",getPageContextName:()=>"Idea Panel"},{panelKey:"editUserAccount",getPageContextName:()=>"Edit Live Account Form Panel"},{panelKey:"defaultExpectedReturn",getPageContextName:()=>"Default Expected Return Form Panel"},{panelKey:"add-etfs-to-portfolio",getPageContextName:()=>"Add ETFs Form Panel"},{panelKey:"interests",getPageContextName:()=>"Select Interests Panel"},{panelKey:"watchlist",getPageContextName:()=>"Watchlist Panel"}],Hg=[{pathStringToMatch:"public_profile",getPageContextName:()=>{const e=window.location.search,t=fe(e);return t["is-collective"]?"Collective Profile":t["is-thought-leader"]?"Thought Leader Profile":"User Profile"}},{pathStringToMatch:"contact_callback",getPageContextName:()=>`Import ${ck(window.location.pathname.split("/")[2])} Contacts Page`},{pathStringToMatch:"contact_failure",getPageContextName:()=>`Import ${ck(window.location.pathname.split("/")[2])} Contacts Failure Page`},{pathStringToMatch:"securities",getPageContextName:()=>"Securities Page"}],Wg="search",jg="suggested connection",Gg="connections",qg="top performers",Yg="notification",Kg="thought banner",Qg="idea",Zg="viewpoint subscriptions list",Xg=["utm_source","utm_content","utm_medium","utm_term","utm_campaign"],Jg={utm_source:"UTM Source",utm_content:"UTM Content",utm_medium:"UTM Medium",utm_term:"UTM Term",utm_campaign:"UTM Campaign"};let ey=!1;const ty=e=>{const t=e.analytics_id,n=e.sign_in_count,r=e.signed_up_at,i=e.is_live_trading,a=(e=>{const t=jl(e);return jl().diff(t,"days")})(r);5===n&&a<=7&&i&&wu(5),th.application.SIGN_IN.send({User:t,"Onboarding End Test Group":e.onboarding_end_test_group});[10,20,50].includes(n)&&th.application.SIGNED_IN_X_TIMES.send({User:t,"Onboarding End Test Group":e.onboarding_end_test_group});[20,50].forEach((e=>{n>=e&&th.application.SIGNED_IN_AT_LEAST_X_TIMES.send({times:e})}))},ny=(e,t)=>{var n;const r={},i=jl(t.signed_up_at);var a,s,o;r["Sign Up Year"]=i.format("YYYY"),r["Sign Up Month"]=i.format("M"),r["Sign Up Week"]=(a=i.toDate(),s=new Date(a.getFullYear(),0,1),o=Math.floor((a-s)/864e5),Math.ceil((a.getDay()+1+o)/7)),r["Membership Opt In Test Group"]=t.membership_opt_in_test_group,r["Show Mobile App Review Prompt Test Group"]=t.show_mobile_app_review_prompt_test_group,r["Show Funding CTA Banner Test Group"]=t.show_funding_cta_banner_test_group,r["Show Funding CTA Modal Test Group"]=t.show_funding_cta_modal_test_group,r["Show Fractional Trading Test Group"]=t.show_fractional_trading_test_group,r["Sign Up Reward Requires Deposit Test Group"]=t.sign_up_reward_requires_deposit_test_group,r["Inbound From Ad"]=t.inbound_from_ad,r["App Store Config"]=t.app_store_cfg,r["On Waitlist"]=t.is_on_waitlist,r["Live Account"]=t.is_live_trading,r["Nvstr Employee"]=t.is_nvstr_employee,r["Tornado Employee"]=t.is_nvstr_employee,r["Current Show Compare SPY Price History Preference"]=t.show_compare_spy_price_history,r["Current Color Scheme Preference"]=t.app_color_theme,t.started_live_trading_at&&(r["Started Live Trading At"]=t.started_live_trading_at),r["Account Type Selection Test Group"]="0",r["Inbound From Ad"]=!1,r.Subscriber=e.is_subscriber,r["Age Range"]=e.age_range,r.Gender=e.gender,r["Is Live Trading"]=e.is_live_trading,r.Gender=e.gender,r["Is Student"]=t.is_student,r["In Onboarding"]=Sp(t),r["Is Onboarding"]=Sp(t),r["Prior Investing Experience"]=(null==(n=t.investing_experience)?void 0:n.description)||null,r["Analysis Nav Tab Badge Test Group"]=e.analysis_nav_tab_badge_test_group,r["Analysis Nav Tab Label Test Group"]=e.analysis_nav_tab_label_test_group,r["Ask Nav Tab Label Test Group"]=e.ask_nav_tab_label_test_group,r["Choose Reward Cards Test Group"]=e.choose_reward_cards_test_group,r["Default Activity Tab Test Group"]=e.default_activity_tab_test_group,r["Default Color Scheme Test Group"]=e.default_color_scheme_test_group,r["Default Show Compare SPY Price History"]=e.default_show_compare_spy_price_history_test_group,r["Explore Nav Tab Label"]=e.explore_nav_tab_label_test_group,r["Funding Security Message Test Group"]=e.funding_security_message_test_group,r["Hide Microdeposit Option Test Group"]=e.hide_microdeposit_option_test_group,r["Invite Friends Message Style"]=e.invite_friends_message_style_test_group,r["No Basket Manual Order Test Group"]=e.no_basket_manual_order_test_group,r["No Button Manual Order Test Group"]=e.no_button_manual_order_test_group,r["Onboarding End Test Group"]=e.onboarding_end_test_group,r["Prominent Refresh Buttons Test Group"]=e.prominent_refresh_buttons_test_group,r["Sign Up Bonus Panel Follow Up Test Group"]=e.sign_up_bonus_panel_follow_up_test_group,r["Subscription Plan Name Test Group"]=e.subscription_plan_name_test_group,r["Show Funding Amount Buttons Test Group"]=e.show_funding_amount_buttons_test_group,r["Splash Color Theme Test Group"]=e.splash_color_theme_test_group,r["Splash Message Theme Test Group"]=e.splash_message_theme_test_group,r["Thought Notif Style Test Group"]=e.thought_notif_style_test_group,r["Top Performers In Nav Test Group"]=e.top_performers_in_nav_group,r["Has Membership"]=e.has_membership,r["Has Paper Membership"]=e.has_paper_membership,r["Membership Waive Fee Minimum Equity"]=e.membership_waive_fee_min_equity,r["Rewards Require ACH Link Test Group"]=e.rewards_require_ach_link_test_group,r["Show Funding Insurance Message Test Group"]=e.show_funding_insurance_message_test_group,r["Onboarding Requires ACH Link Test Group"]=e.onboarding_requires_ach_link_test_group,r["Show Credit Card Payment Option Test Group"]=e.show_credit_card_payment_option_test_group,r["Reject Low Balance ACH Links Test Group"]=e.reject_low_balance_ach_links_test_group,r["Show Thought Posted At In App Feed Test Group"]=e.show_thought_posted_at_in_app_feed_test_group,r["Show_Rewards Red Dot In App Test Group"]=e.show_rewards_red_dot_in_app_test_group,r["Onboarding Rewards Test Group"]=e.onboarding_rewards_test_group,r["Alternative Email From Domain Test Group"]=e.alt_email_from_domain_test_group,r["Limit One Email Per Day Test Group"]=e.limit_one_email_per_day_test_group,r["Has Linked Bank Account"]=e.has_linked_bank_account,r["Has Linked Payment Card"]=e.has_linked_payment_source,r["Streaming Prices Test Group"]=e.streaming_prices_test_group,r["Default Stock Panel To Financial Tab Test Group"]=e.default_stock_panel_to_financial_tab_test_group,r["Weekly Idea Perf Notif Test Group"]=e.weekly_idea_perf_notif_threshold_test_group,r["Autoconnected To CTLs Test Group"]=e.autoconnected_to_ctls_test_group,r["Show Algo Selected Thoughts In Feed Test Group"]=e.show_algo_selected_thoughts_in_feed,r["Show Mobile App Review Test Group"]=e.show_mobile_app_review_prompt_test_group,r["Show Community Points Test Group"]=e.show_community_points_test_group,r["Community Points Label Name"]="XP",r["Community Points Total"]=e.community_points_total,r["Community Points Display Style Test Group"]=e.community_points_display_style_test_group,r["Show Hit Max Community Points Test Group"]=e.show_hit_max_community_points_test_group,r["Show Feed Filters Test Group"]=e.show_feed_filters_test_group,r["Thought Leaders Labeled Famous Investors Test Group"]=e.thought_leaders_labeled_famous_investors_test_group,r["Redeem Rewards After Funding Test Group"]=e.sign_up_reward_requires_deposit_test_group,r["Open Plaid After Application Submission Test Group"]=e.open_plaid_after_application_submission_test_group,r["Learn And Earn Requires Deposit Test Group"]=e.learn_and_earn_requires_deposit_test_group,r["Preset Deposit Amounts Test Group"]=e.preset_deposit_amounts_test_group;const l=e.id%2==0;r["Socure Upload Flow Test Group"]=l?"DocV Flow":"Manual Upload Flow";const c=e.total_subscription_count;return null!==c&&(r["Viewpoint Subscription Count"]=c),r},ry=e=>{ey?w.getInstance("legacyEvents").setUserProperties(e):console.warn("amplitude still initializing")},iy=e=>{const t={};if(Xg.forEach((n=>{const r=Jg[n];t[r]=n in e?e[n]:null})),0===Object.keys(t).length)return null;ry(t),w.getInstance("legacyEvents").setUserProperties(t)},ay=(e,t)=>{const n=new w.Identify;n.set(e,t),w.getInstance("legacyEvents").identify(n)},sy={},oy=e=>{Object.keys(e).forEach((t=>{sy[t]=e[t]}))},ly=(e,t)=>function(n){if(!e||"string"!=typeof e)return console.error("Invalid event used, expecting a String");const r=o(o({},(()=>{const{pathname:e,search:t}=window.location,n=e.split("/app")[1],r=fe(t).panel;let i="Unknown Page Context";if(r&&Vg.forEach((e=>{e.panelKey===r&&(i=e.getPageContextName())})),"Unknown Page Context"===i){const e=zg[n];e&&(i=e.getPageContextName())}return"Unknown Page Context"===i&&Hg.forEach((e=>{(null==n?void 0:n.includes(e.pathStringToMatch))&&(i=e.getPageContextName())})),"Unknown Page Context"!==i?{"Page Context":i}:{"Page Context":i,"Page Pathname":n,"Page Url Query":t}})()),sy),i=t||{},a=o(o(o({},r),i),(()=>{var e,t;try{return{URL:null==(e=null==window?void 0:window.location)?void 0:e.pathname.replaceAll("/app",""),"URL Query":null==(t=null==window?void 0:window.location)?void 0:t.search}}catch(Gs){return{URL:null}}})());return(async(e,t={})=>{w.getInstance("legacyEvents").logEvent(e,t)})(e,a)},cy=function(e){e.location="/?loginRequired=true"},dy=e=>{if(!e)return null;e.error&&e.error.response&&e.error.response.status&&401===e.error.response.status&&setTimeout((()=>{window.location="/?loginRequired=true"}),2e3)};var uy=Object.defineProperty,hy=(e,t,n)=>(((e,t,n)=>{t in e?uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const py=new class{constructor(){hy(this,"setIsLiveTrading",(e=>{e!==this.isLiveTrading&&(this.isLiveTrading=e,this.onLiveTradingChange(e))})),hy(this,"setIsMarketOpen",(e=>{e!==this.isMarketOpen&&(this.isMarketOpen=e,this.onMarketOpenChange(e))})),hy(this,"setIsInExtendedTrading",(e=>{e!==this.isInExtendedTrading&&(this.isInExtendedTrading=e,this.onInExtendedTradingChange(e))})),hy(this,"onMarketOpenChange",(()=>{this.recalculatePollingRate()})),hy(this,"onInExtendedTradingChange",(()=>{this.recalculatePollingRate()})),hy(this,"onLiveTradingChange",(()=>{this.recalculatePollingRate()})),hy(this,"recalculatePollingRate",(()=>{let e;e=this.isLiveTrading?this.isMarketOpen?this.POLLING_RATE_MS:this.isInExtendedTrading?this.EXTENDED_MARKET_POLLING_RATE_MS:this.MARKET_CLOSED_POLLING_RATE_MS:this.isMarketOpen?this.PAPER_POLLING_RATE_MS:null,this.pollingRate!==e&&this.setPollingRate(e)})),hy(this,"setPollingRate",(e=>{this.pollingRate=e,this.cancelPoll(),this._createPoll()})),hy(this,"initPoll",(e=>{this.afterPollExecuteCallback=e,this._createPoll()})),hy(this,"cancelPoll",(()=>{const e=this.pollRef;e&&clearInterval(e)})),hy(this,"updatePriceUpdateCallback",(e=>{this.afterPollExecuteCallback=e})),hy(this,"addSecurities",(e=>{e.forEach((e=>this._addSecurity(e)));const t=e.map((e=>e.symbol));this._batchPriceUpdates(t)})),hy(this,"addTempSecurities",(e=>{e.forEach((e=>this._addTempSecuritySymbols(e)));const t=e.map((e=>e.symbol));this._batchPriceUpdates(t)})),hy(this,"removeSecurities",(e=>{e.forEach((e=>this._removeSecurity(e)))})),hy(this,"removeTempSecurities",(e=>{e.forEach((e=>this._removeTempSecurity(e)))})),hy(this,"getPriceUpdates",(async e=>{if(!e||e.length<1)return null;const t=await this._fetchPriceDataFromService(e);if(null===t)return;const n=this._handleFetchPriceDataResponse(t);this.afterPollExecuteCallback(n)})),hy(this,"_breakSymbolsIntoGroupsOf",((e,t)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n})),hy(this,"_batchPriceUpdates",(e=>{if(null===this.afterPollExecuteCallback)return null;if(!e||e.length<1)return null;this._breakSymbolsIntoGroupsOf(e,this._maxSymbolsInRequest).forEach((e=>this.getPriceUpdates(e)))})),hy(this,"_createPoll",(()=>{console.log("polling rate",this.pollingRate),null!==this.pollingRate&&(this._onPollExecute(),this.pollRef=setInterval(this._onPollExecute,this.pollingRate))})),hy(this,"_onPollExecute",(()=>{const e=[...this.tempSecuritySymbols,...this.securitySymbols],t=_k(e);this._batchPriceUpdates(t)})),hy(this,"_fetchPriceDataFromService",(async e=>{try{if(this.isLiveTrading){const t=`${this.liveAccountPollingQuoteURL}&symbols=${e}`,n={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}},r=await fetch(t,n);return await r.json()}{const t=e=>{const t={},{securities:n,price_quotes_info:r}=e;return n.forEach((e=>{const{symbol:n,current_price:i,current_price_change:a,current_price_change_percent:s}=e;t[n]={quote:{latestPrice:i,change:a,changePercent:s/100,isDelayed:!0,latestUpdate:1e3*r.as_of_time}}})),t},n=e.map((e=>this.securitySymbolToIdLookup[e.toLowerCase()])),r=`${this.simulatedAccountPollingQuoteURL}?security_ids=${n}&include_price=true`,i=window.localStorage.getItem("X-CSRF-Token"),a=new Headers;a.set("X-CSRF-Token",i),a.set("Content-Type","application/json"),a.set("Accept","application/json"),a.set("Authorization","Basic "+btoa("nvstr:investbettertomorrow"));const s=await fetch(r,{method:"GET",credentials:"include",headers:a});return t(await s.json())}}catch(Gs){return console.error(Gs),null}})),hy(this,"_handleFetchPriceDataResponse",(e=>{const t=[];return Object.entries(e).forEach(((e,n)=>{try{const[n,r]=e,{latestPrice:i,latestUpdate:a,delayedPrice:s,delayedPriceTime:o,change:l,changePercent:c,extendedChange:d,extendedChangePercent:u,extendedPrice:h,extendedPriceTime:p,close:m,open:g,previousClose:y}=r.quote,_={id:this.securitySymbolToIdLookup[n.toLowerCase()],price:i,priceAsOf:a,change:l,percentChange:100*c,open:g,close:m,extendedPrice:h,extendedChange:d,extendedChangePercent:100*u,extendedAsOf:p,previousClose:y};isNaN(i)||t.push(_)}catch(r){return null}})),t})),hy(this,"_addSecurity",(({id:e,symbol:t})=>{this.securitySymbols.indexOf(t)<0&&this.securitySymbols.push(t),this.securitySymbolToIdLookup[t.toLowerCase()]=e})),hy(this,"_addTempSecuritySymbols",(({id:e,symbol:t})=>{this.tempSecuritySymbols.indexOf(t)<0&&this.tempSecuritySymbols.push(t),this.securitySymbolToIdLookup[t.toLowerCase()]=e})),hy(this,"_removeSecurity",(e=>{this.securitySymbols=this.securitySymbols.filter((t=>t!==e))})),hy(this,"_removeTempSecurity",(e=>{this.tempSecuritySymbols=this.tempSecuritySymbols.filter((t=>t!==e))})),this._maxSymbolsInRequest=25,this.pollRef=null,this.afterPollExecuteCallback=null,this.securitySymbols=[],this.tempSecuritySymbols=[],this.securitySymbolToIdLookup={},this.POLLING_RATE_MS=1e4,this.EXTENDED_MARKET_POLLING_RATE_MS=6e4,this.MARKET_CLOSED_POLLING_RATE_MS=9e5,this.PAPER_POLLING_RATE_MS=9e5,this.pollingRate=this.POLLING_RATE_MS,this.isLiveTrading=null,this.isMarketOpen=null,this.isInExtendedTrading=null;this.liveAccountPollingQuoteURL="https://cloud.iexapis.com/stable/stock/market/batch?token=pk_8334ae9330e042369ba75e5be1057c18&types=quote",this.simulatedAccountPollingQuoteURL=`${sd}/api/securities`}},my=e=>function(t){return xg(e).then((e=>{const n=e&&e.data;if(n&&"users"in n&&1===n.users.length){const e=nm("currentUser","fromApi",n.users[0]),r=e;t({type:"ADD_TOUR_DATA",payload:{tour_step:e.tour_step,is_on_tour:e.is_on_tour}});const i={};Xg.forEach((t=>{const n=Jg[t];i[n]=t in e?e[t]:null}));const a="white_label_partner";a in e&&(i["White Label Partner"]=e[a]),oy(i);const s=ny(e,e);ry(s),iy(e),t({type:"ADD_CURRENT_USER_QUICK_INFO",payload:e});const o=Bg(n);t({type:"ADD_PORTFOLIO_DATA",payload:{portfolioData:o}});const l=Object.values(o.positions).map((e=>({id:e.security_id,symbol:e.symbol})));return py.addSecurities(l),t({type:"USER_AUTHENTICATION_SUCCESS"}),t({type:"UPDATE_KARMA_POINTS",payload:tm(r)}),e}return e&&401===e.status?(console.error("User not authenticated."),t({type:"USER_AUTHENTICATION_FAILURE"}),{error:"Authentication failure",response:e}):e}))},gy=(e,t,n)=>(console.error(e,t),()=>{S(e&&"object"==typeof e?e:new Error(e),t)}),yy=`${sd}/api`,_y=e=>{const t=ve(e);return hd("get",[`${yy}/documents${t}`]).then((e=>e))},fy=`${sd}/api`,vy=()=>hd("get",[`${fy}/footer`]).then((e=>e)),Ey=`${sd}/api/ideas`,by=e=>hd("post",[`${Ey}/${e}/view`]).then((e=>e)),Cy=e=>{const t=e.join(",");return hd("get",[`${Ey}?security_ids=${t}&include_self=true&include_connections=true&include_thought_leaders=true`],{ignoreAuth:!0}).then((e=>e))},xy=e=>hd("get",[`${Ey}?user_ids=${e}`]).then((e=>e)),wy=e=>hd("get",[`${Ey}?ids=${e}`]).then((e=>e)),Sy=()=>hd("get",[`${Ey}`]).then((e=>e)),ky=e=>hd("get",[e?`${Ey}?user_ids=${e}`:`${Ey}`]).then((e=>e)),Ty=e=>{let t=`${sd}/api/idea_securities`;const n=Array.isArray(e)?e.join(","):e;return hd("get",[t,{params:{ids:n}}]).then((e=>e))},Iy=()=>hd("get",[`${sd}/api/community_ideas`]).then((e=>e)),Ny=e=>{let t=`${Ey}`;const n=OS(e);return hd("post",[t,{ideas:n}]).then((e=>e&&e.data?e.data:e))},Ay=e=>{let t=`${Ey}`;const n=OS(e);return hd("post",[t,{ideas:n}])},Py=e=>hd("post",[`${Ey}/${e}/copy`,{}]).then((e=>e&&e.data?e.data:e)),Dy=e=>hd("put",[`${Ey}`,{ideas:[e]}]).then((e=>e&&"data"in e?e.data:l(o({},e),{unauthorized:401===e.status}))),Oy=e=>{let t=`${Ey}/${e.idea_id||e.id}`;return hd("delete",[t]).then((e=>"data"in e?e.data:l(o({},e),{unauthorized:401===e.status})))},Ly=()=>hd("post",[`${sd}/api/ideas/default`]).then((e=>e)),Ry=e=>hd("post",[`${Ey}/${e}/reaffirm`,{}]).then((e=>e&&e.data?e.data:e)),Fy={A:{noun:"Idea",view:"View Idea",add:"Add Idea",edit:"Edit Idea",tab:"Ideas",adding:"Adding Idea",updating:"Updating Idea",first:"No ideas exist among your connections or famous investors. Be the first to add an idea!","first-unfeatured":"No ideas exist among your connections or famous investors.",comma_list:"ideas",already_have:"You already have an idea for this.",add_error:"Unable to add idea.",update_error:"Unable to update idea.",remove_error:"Unable to remove idea.",must_exit:"You must exit your position before you can remove this idea.",swipe_cards:"Swipe stock cards down to add ideas.",drag:"Drag and drop to add ideas.",done:"When finished exploring, click continue to add ideas for these stocks.",replace:"You already have an idea for this stock, would you like to overwrite it?",table_title:"My Ideas"},B:{noun:"Projection",view:"View Projection",add:"Add to Watchlist",edit:"Edit Projection",tab:"Projections",adding:"Adding to Watchlist",updating:"Updating Projection",first:"No projections exist among your connections or famous investors. Be the first to add to your watchlist and create a projection!","first-unfeatured":"No projections exist among your connections or famous investors.",comma_list:"watchlist, projections",already_have:"You already have this saved to your watchlist.",add_error:"Unable to add to watchlist.",update_error:"Unable to update projections.",remove_error:"Unable to remove from watchlist.",must_exit:"You must exit your position before you can remove this from your watchlist.",swipe_cards:"Swipe stock cards down to add to your watchlist.",drag:"Drag and drop securities into your portfolio watchlist.",done:"When finished exploring, click continue to add these stocks to your watchlist.",replace:"You already have a projection for this stock, would you like to overwrite it?",table_title:"My Watchlist"},C:{noun:"Idea",view:"View My Idea",add:"Add to My Stocks",edit:"Edit My Idea",tab:"Ideas",adding:"Adding to My Stocks",updating:"Updating Idea",first:"No ideas exist among your connections or famous investors. Be the first to add this and create an idea!","first-unfeatured":"No ideas exist among your connections or famous investors.",comma_list:"stock list, ideas",already_have:"You already have this in your stocks.",add_error:"Unable to add idea.",update_error:"Unable to update idea.",remove_error:"Unable to remove idea.",must_exit:"You must exit your position before you can remove this idea.",swipe_cards:"Swipe cards down to add to your stocks.",drag:"Drag and drop to add to your stocks.",done:"When finished exploring, click continue to add these to your stocks.",replace:"You already have an idea for this stock, would you like to overwrite it?",table_title:"My Stocks"},D:{noun:"Idea",view:"View My Idea",add:"Follow",edit:"Edit My Idea",tab:"Followed By",adding:"Following",updating:"Updating Idea",first:"No ideas exist among your connections or famous investors. Be the first to follow this!","first-unfeatured":"No ideas exist among your connections or famous investors.",comma_list:"followed stocks, ideas",already_have:"You are already following this.",add_error:"Unable to follow this.",update_error:"Unable to update idea.",remove_error:"Unable to unfollow.",must_exit:"You must exit your position before you can unfollow this stock.",swipe_cards:"Swipe stock cards down to follow them.",drag:"Drag and drop to follow stocks.",done:"When finished exploring, click continue to follow these stocks.",replace:"You are already following this stock, would you like to overwrite your idea?",table_title:"My Followed Stocks"},E:{noun:"Idea",view:"View My Idea",add:"Save",edit:"Edit My Idea",tab:"Saved By",adding:"Saving",updating:"Updating Idea",first:"No ideas exist among your connections or famous investors. Be the first to save this!","first-unfeatured":"No ideas exist among your connections or famous investors.",comma_list:"saved stocks, ideas",already_have:"You already saved this.",add_error:"Unable to save idea.",update_error:"Unable to update idea.",remove_error:"Unable to remove idea.",must_exit:"You must exit your position before you can remove this idea.",swipe_cards:"Swipe stock cards down to save them.",drag:"Drag and drop to save stocks.",done:"When finished exploring, click continue to save these stocks.",replace:"You already saved this stock, would you like to overwrite your idea?",table_title:"My Ideas"},F:{noun:"Idea",view:"View My Idea",add:"Save to My Ideas",edit:"Edit My Idea",tab:"Connections' Ideas",adding:"Saving to My Ideas",updating:"Updating Idea",first:"No ideas exist among your connections or famous investors. Be the first to create an idea!","first-unfeatured":"No ideas exist among your connections or famous investors.",comma_list:"stocks, ideas",already_have:"You already have this stock in your ideas.",add_error:"Unable to save the idea.",update_error:"Your changes could not be saved.",remove_error:"Unable to remove this idea.",must_exit:"You must exit your position before you can remove this idea.",swipe_cards:"Swipe cards down to save a stock to your ideas.",drag:"Drag and drop to save a stock to your ideas.",done:"When finished exploring, click continue to save these stocks to your ideas.",replace:"You already have an idea for this stock, would you like to overwrite it?",table_title:"My Ideas"}},My=e=>Fy.F[e],Uy=(e,t,n)=>{if(!e){return t({type:"SHOW_MODAL",payload:{contentComponent:bS("Request could not be completed. Please try again later."),dismissable:!0,size:"wide"}}),n&&n(),!0}return!1},$y=(e,t)=>function(n){n({type:"UPDATE_IDEA",payload:e});const r=BS(e,"update");return Dy(r).then((e=>{dy(e);const r=(e&&e.ideas||[]).filter((e=>"error"===e.status));let i=!0;if(!e||r.length>0||!("ideas"in e)){n({type:"UPDATE_IDEA",payload:t});const r={heading:My("update_error"),message:"Please try again later.",size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};if(e)n({type:Fc,payload:r});else{const e={contentComponent:bS("Request could not be completed. Please try again later."),dismissable:!0,size:"wide"};n({type:Fc,payload:e})}i=!1}return eC()(n),tC()(n),i}))},By=()=>function(e){return Ly().then((t=>{if(t&&t.data){const n=t.data.created_ideas;e({type:"ADD_IDEAS",payload:n}),eC()(e),tC()(e),n.length>0&&((e,t)=>{const n=t.map((e=>AS(e))),r=[qm,Ym,Km];Promise.all(r.map((t=>t(n)(e))))})(e,n)}else{const t="Something went wrong. Please try again later.",n={heading:My("add_error"),message:`Error message: ${t}`,size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};e({type:Fc,payload:n})}return t}))},zy=`${sd}/api`,Vy=()=>hd("get",[`${zy}/history/transactions`]).then((e=>e)),Hy=()=>hd("get",[`${zy}/history/equity`]).then((e=>e)),Wy=e=>{const t=ve(e);return hd("get",[`${zy}/history/portfolio_metrics${t}`]).then((e=>e))},jy=e=>hd("post",[`${zy}/live_accounts/funding/transaction/cancel`,{id:e}]).then((e=>e)),Gy=`${sd}/api/idea_suggest`,qy=`${sd}/api/ideas`,Yy=()=>hd("get",[`${qy}`]).then((e=>e.data)),Ky=e=>hd("post",[`${Gy}`,{count:2*e}]).then((e=>e.data)),Qy=(e,t)=>{const n={count:e,known:[...t]};return hd("post",[`${Gy}`,n]).then((e=>e.data))},Zy=e=>{const t=e.map((e=>({security_id:AS(e),idea_type:e.idea_type,idea_id:e.idea_id})));return hd("post",[`${qy}`,{ideas:t}]).then((e=>e.data))},Xy=e=>hd("get",[`${sd}/link_preview_info?url=${e}`,{params:{url:e},timeout:15e3}]),Jy=e=>function(t){return Xy(e).then((t=>{if(t&&t.data){const n=t.data;return n&&n.images&&n.images[0]?"https"!=n.images[0].split("://")[0]&&((e,t)=>{const n={link:t,linkDomain:Gd(t),imageUrl:e};TC("Thought Link Preview Image Not HTTPS",n)()})(e,n.images[0]):(e=>{const t={link:e,linkDomain:Gd(e)};TC("No Thought Link Preview Image",t)()})(n),t}return t}))},e_=`${sd}/api`,t_=()=>hd("get",[`${e_}/import_page`]).then((e=>e)),n_=()=>hd("get",[`${e_}/connections/import/networks`]).then((e=>e)),r_=()=>hd("get",[`${e_}/connections/import/contacts`]).then((e=>e)),i_=`${sd}/api`,a_=()=>hd("get",[`${i_}/optimize/settings/risk_profiles`],{ignoreAuth:!0}).then((e=>e)),s_=()=>hd("get",[`${i_}/optimize/settings`],{ignoreAuth:!0}).then((e=>e)),o_=e=>hd("put",[`${i_}/optimize/settings`,o({},e)],{}).then((e=>e)),l_=`${sd}/api/v1`,c_=()=>hd("get",[`${l_}/completed_lessons`]),d_=()=>hd("get",[`${l_}/lessons`]),u_=()=>hd("get",[`${l_}/lessons/next?platform=web&appVersion=2.6.0`],{ignoreAuth:!0}),h_=({data:e})=>hd("post",[`${l_}/lesson_progress`,e],{ignoreAuth:!0}),p_=({data:e})=>hd("post",[`${l_}/lesson_drop_downs_record`,e]),m_=e=>hd("get",[`${l_}/full_lesson_get`,{lesson_id:e}]),g_="ald",y_="ucl",__="update-lookup",f_="snl",v_="ulpl",E_="abd",b_="ubd",C_="dbd",x_="ad",w_="ud",S_="dd";var k_=Object.defineProperty,T_=(e,t,n)=>(((e,t,n)=>{t in e?k_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const I_="EQUITY_CHART_PERFORMANCE_CHART_PERFORMANCE_SECURITIES",N_="DISMISSED_FINISH_SETTING_UP_ACCOUNT_MODAL",A_="DISMISSED_FUND_BANK_ACCOUNT_BANNER",P_="SOCURE_UPLOAD_COOLDOWN",D_="SAA",O_=e=>{const t=window.localStorage.getItem(e);return"string"==typeof t?t:null!==t?JSON.parse(t):null},L_=(e,t)=>{const n="string"==typeof t?t:JSON.stringify(t);window.localStorage.setItem(e,n)},R_={SOCURE_REVIEW_STATUS:"socureReviewStatus",SOCURE_SESSION_RISK_ID:"socureSessionRiskId",NAVIGATION_INTENT:"nav-intent",EMAIL:"e"};const F_=new class{constructor(){T_(this,"getItemFromStorage",(e=>this._storage[e])),T_(this,"setItemInStorage",((e,t)=>{const n={isInitialized:!0,data:t};this._storage[e]=n,this._runListeners(e,n)})),T_(this,"clearItemInStorage",(e=>{this._storage[e]={isInitialized:!1,data:null}})),T_(this,"registerDataChangeListener",((e,t)=>{const n=this._createListener(e,t);this._addListenerToLookup(e,n);return{listener:n,currentValue:this.getItemFromStorage(e)}})),T_(this,"removeDataChangeListener",(e=>{const t=this._getListenersOfKey(e.key);Array.isArray(t)&&t.filter((t=>t.id!==e.id))})),T_(this,"_initStorage",(()=>{const e={};return Object.keys(R_).forEach((t=>{e[R_[t]]={isInitialized:!1,data:null}})),e})),T_(this,"_runListeners",((e,t)=>{const n=this._getListenersOfKey(e);Array.isArray(n)&&n.forEach((e=>e.run(t)))})),T_(this,"_getListenersOfKey",(e=>this._listenersLookupByKey[e])),T_(this,"_addListenerToLookup",((e,t)=>{Array.isArray(this._listenersLookupByKey[e])?this._listenersLookupByKey[e].push(t):this._listenersLookupByKey[e]=[t]})),T_(this,"_createListener",((e,t)=>({id:++this._listenerIdCount,key:e,run:t}))),this._storage=this._initStorage(),this._listenersLookupByKey={},this._listenerIdCount=0}},M_=`${sd}/api`,U_={getLiveTradingAccount:()=>hd("get",[`${M_}/v1/brokerage_account`]).then((e=>e)),submitLiveTradingSignUpForm:(e,t)=>{const n=l(o({},e),{platform:"web",device_session_id:F_.getItemFromStorage(R_.SOCURE_SESSION_RISK_ID).data});return hd("post",[`${M_}/v1/brokerage_account`,{brokerage_account:n,form_page_name:t}])},updateLiveTradingAccount:e=>hd("patch",[`${M_}/v1/brokerage_account`,{brokerage_account:e}]).then((e=>e?e.data:e)),getBankAccounts:()=>hd("get",[`${M_}/v1_1/bank_accounts`],{ignoreAuth:!0}).then((e=>e?e.data:e)),getUserAvailableFunds:()=>hd("get",[`${M_}/v1_1/bank_accounts/amount_available`]),submitAddBankAccountForm:e=>hd("post",[`${M_}/live_accounts/funding`,{apex_ach_relationship:e}]),linkAccountWithPlaid:e=>hd("post",[`${M_}/live_accounts/funding/instant`,e]).then((e=>e?e.data:e)),getLiveAccountDocumentationRequirements:()=>hd("get",[`${M_}/live_accounts/documentation_types`]),submitLiveAccountDocument:e=>hd("post",[`${M_}/live_accounts/documentation`,e]),fetchFurtherDocumentationStatus:()=>hd("get",[`${M_}/live_accounts/identify`]),removeBankAccount:e=>hd("delete",[`${M_}/v1/bank_accounts/${e}`]),getDepositPickerAmounts:()=>hd("get",[`${M_}/v1/bank_accounts/deposit_amounts`]),verifyBankAccount:e=>{const{id:t}=e;return hd("post",[`${M_}/v1/bank_accounts/${t}/verify`,e])},postPaperTransfer:e=>hd("post",[`${M_}/v1/bank_accounts/${e.account_id}/transfers`,e]),depositFunds:e=>hd("post",[`${M_}/v1/bank_accounts/${e.account_id}/transfers`,e]),depositFundsEmailAuth:e=>hd("post",[`${M_}/v1/bank_accounts/${e.account_id}/lesson_deposits`,e]),withdrawFunds:(e,t)=>{const{account_id:n}=e,r=o({},e);return t&&(r.override_warnings=t),hd("post",[`${M_}/v1/bank_accounts/${n}/transfers`,r])},getFundingRewardAmount:e=>{const t=e.join(",");return hd("get",[`${M_}/funding_rewards?amounts=${t}`])},postFundingRewardAmount:e=>hd("post",[`${M_}/funding_rewards`,{amounts:e}]),patchInstantLinkBankAccount:({data:e})=>{const{tornadoBankAccountId:t}=e,n=l(o({},e),{verify_method:"instant"});return hd("patch",[`${M_}/v1/bank_accounts/${t}`,n])},createRecurringDeposit:({data:e,allowEmailAuth:t})=>{const{account_id:n}=e,r=o({},e);return hd("post",t?[`${M_}/v1/bank_accounts/${n}/lesson_recurring_deposits`,r]:[`${M_}/v1/bank_accounts/${n}/recurring_transfers/create`,r])},updateRecurringDeposit:({data:e})=>{const{account_id:t}=e,n=o({},e);return hd("patch",[`${M_}/v1/bank_accounts/${t}/recurring_transfers/cancel`,n])},cancelRecurringDeposit:({data:e})=>{const{account_id:t}=e,n=o({},e);return hd("delete",[`${M_}/v1/bank_accounts/${t}/recurring_transfers/cancel`,n])}},$_={FUNDING_PROMO_CASH_15_FOR_100:"funding_promo_cash_1_week_15_for_100_202010",FUNDING_PROMO_REWARD_RANDOM_FOR_20:"funding_promo_cash_1_week_random_for_20_202011",FUNDING_PROMO_CASH_20_FOR_20:"funding_promo_cash_1_week_20_for_20_202011",FUNDING_PROMO_CASH_50_FOR_1000:"funding_promo_cash_1_week_50_for_1000_202011",FUNDING_PROMO_REWARD_RANDOM_2X_FOR_20:"funding_promo_cash_1_week_random_2x_for_20_202011"},B_=(e,t)=>{const n={day:e=>Yl("Do",e),price:e=>{if(nk(e))return"$0.00";if("number"!=typeof e)return console.error("Value was not a number"),"$0";const t=e<0,n=Math.abs(e),r=hk(n,{minimumFractionDigits:2,maximumFractionDigits:2});return t?`-$${r}`:`$${r}`},priceInt:e=>{if(nk(e))return"$0";if("number"!=typeof e)return console.error("Value was not a number"),"$0";const t=e<0,n=Math.abs(e),r=hk(n,{minimumFractionDigits:0,maximumFractionDigits:0});return t?`-$${r}`:`$${r}`},int:e=>hk(e,{minimumFractionDigits:0,maximumFractionDigits:0}),float:e=>hk(e,{minimumFractionDigits:2,maximumFractionDigits:2}),shares:e=>isNaN(e)?"0 sh":`${hk(e,{minimumFractionDigits:0,maximumFractionDigits:5})} sh`,percentChange:e=>`${0===e?"":e>0?"+":"-"}${hk(Math.abs(e),{minimumFractionDigits:2,maximumFractionDigits:2})}%`,percent:e=>{let t=e;return(isNaN(t)||0===e)&&(t=0),`${hk(t,{minimumFractionDigits:2,maximumFractionDigits:2})}%`},relativeTime:e=>{jl();return jl(e).fromNow()},time:e=>{const t=jl(e);return`${Yl("LTS",t)}`},date:e=>{const t=jl(e);return`${Yl("LL",t)}`},timeDate:e=>{const t=jl(e);return`${Yl("LT",t)} EST on ${Yl("MMMM Do",t)}`},dateTime:e=>{const t=jl(e);return`${Yl("LLL",t)}`},rewardAmount:e=>{if(nk(e))return"$0.00";if("number"!=typeof e)return console.error("Value was not a number"),"$0";const t=e<0,n=Math.abs(e);if(Bk(e)){const e=hk(n,{minimumFractionDigits:2,maximumFractionDigits:2});return t?`-$${e}`:`$${e}`}{const e=hk(n,{minimumFractionDigits:0,maximumFractionDigits:0});return t?`-$${e}`:`$${e}`}}};return n[t]?n[t](e):(console.error(`formatForDisplay type: ${t} was not found. Using string instead`),e.toString())},z_={FURTHER_DOCUMENTS_REQUIRED:"further_documents_required",ADDRESS_RESUBMIT:"address_resubmit",REJECTED:"rejected"},V_="identity",H_="rsc",W_="rnucc",j_="headshot",G_=e=>{const{decision:t,image_capture_qr_code:n,image_capture_url:r,requires_ssn_document:i,requires_non_us_citizen_document:a}=e,s="reject"===t;let o=null;const l="refer"===t,c="resubmit"===t;l&&(o=z_.FURTHER_DOCUMENTS_REQUIRED),c&&(o=z_.ADDRESS_RESUBMIT),s&&(o=z_.REJECTED);return{ok:!0,isUserActionRequired:l||c,isFurtherDocRequired:l,wasRejected:s,decision:t,flags:{[j_]:!0,[V_]:!0,[H_]:i,[W_]:a},isAddressResubmitRequired:c,decisionStatus:o,qrCode:n,imgCaptureUrl:r}},q_=()=>{const e=O_(P_);if(null===e)return!1;return((e,t)=>{const n=Gl(),r=Gl(t).valueOf()+e;return n.isBefore(r)})(6e5,parseInt(e))},Y_=()=>L_(P_,Gl().valueOf().toString()),K_=e=>{var t,n,r;return"string"==typeof e?e:(null==(t=null==e?void 0:e.props)?void 0:t.viewingContext)?e.props.viewingContext:Array.isArray(e)?e.map(K_).filter((e=>!!e)).join(", "):(null==(n=null==e?void 0:e.props)?void 0:n.children)?K_(null==(r=null==e?void 0:e.props)?void 0:r.children):void 0},Q_=e=>{var t;const{description:n,message:r,contentComponent:i,customBody:a}=e,s=n||r||K_(i)||K_(a),o={context:window.location.pathname,is_error:(null==(t=null==i?void 0:i.props)?void 0:t.is_error)||!1,message:s,modal_type:"Modal",url:window.location.pathname,url_query:window.location.search};return pl.generic.MODAL_VIEWED.send(o),function(t){t({type:Fc,payload:e})}},Z_=`${sd}/api`,X_=e=>{let t="",n="";if("securityIds"in e){const r=e.securityIds;t=Array.isArray(r)?r.join(","):r,n="security_id"}else{const r=e.symbols;t=Array.isArray(r)?r.join(","):r,n="symbol"}let r="";if(e.dateRange){const t=jl(e.dateRange[0]),n=jl(e.dateRange[1]);r=`&start_date=${Yl("-l",t)}&end_date=${Yl("-l",n)}`}return hd("get",[`${Z_}/securities/news?${n}=${t}${r}`],{ignoreAuth:!0}).then((e=>e))},J_=e=>{const{id:t,securityId:n,context:r,indexInFeed:i,metadata:a}=e,s=o(o(o({context:r,platform:ed},i>=0?{index_in_feed:i}:{}),a?{metadata:a}:{}),n?{context_security_id:n}:{});return hd("post",[`${Z_}/securities/news/${t}/view`,s])},ef=e=>{const{id:t,clickType:n,context:r,metadata:i,indexInFeed:a,securityId:s}=e,l=o(o(o({click_type:n,context:r,platform:ed},a>=0?{index_in_feed:a}:{}),i?{metadata:i}:{}),s?{context_security_id:s}:{});return hd("post",[`${Z_}/securities/news/${t}/click`,l])},tf={},nf=()=>window.sessionStorage||{getItem:e=>tf[e],setItem:(e,t)=>tf[e]=t,removeItem:e=>delete tf[e]},rf=e=>e+"ImpressionData",af=e=>JSON.parse((e=>nf().getItem(rf(e))||"{}")(e)),sf=e=>af(e)[Xl()]||{},of=(e,t,n)=>((e,t)=>{t||Uk("Missing context for getImpressionIdListSessionStorageDataByType",!0);const n=af(e),r=[];return Object.keys(n).forEach((e=>{const i=n[e][t];i&&i.forEach((e=>r.push(e)))})),r})(e,n).includes(t),lf=(e,t,n)=>{const r=af(e),i=sf(e),a=((e,t)=>sf(e)[t]||[])(e,n);if(of(e,t,n))return!1;a.push(t);return((e,t)=>(nf().setItem(rf(e),JSON.stringify(t)),!0))(e,l(o({},r),{[Xl()]:l(o({},i),{[n]:a})}))},cf=(e,t,n)=>!of(e,t,n)&&lf(e,t,n),df=e=>({__html:e}),uf=`${sd}/api`,hf=()=>hd("get",[`${uf}/notifications/unseen_count`],{ignoreAuth:!0}).then((e=>e)),pf=e=>{const t=e?(e=>{if("object"!=typeof e)return"";let t="?";"batch_index"in e&&(t+=`batch_index=${e.batch_index}`),"page"in e&&(t+=`${t.length>1?"&":""}page=${e.page}`);return t})(e):"";return hd("get",[`${uf}/notifications${t}`],{ignoreAuth:!1}).then((e=>e))},mf=()=>hd("post",[`${uf}/notifications/view`,{}],{ignoreAuth:!1}).then((e=>e)),gf=e=>hd("get",[`${uf}/latest_ranking_notification?as_of_date=${e}`],{ignoreAuth:!1}).then((e=>e)),yf=`${sd}/api`,_f=e=>hd("put",[`${yf}/users/${e}/end_onboarding`]),ff=`${sd}/api`,vf=e=>{const t=e?o({},e):{};return hd("post",[`${ff}/optimize`,t],{ignoreAuth:!0}).then((e=>e))},Ef=()=>hd("post",[`${ff}/optimize/orders`]).then((e=>e)),bf=()=>hd("post",[`${ff}/optimize/clear_cooldown`],{ignoreAuth:!0}).then((e=>e)),Cf=()=>hd("get",[`${ff}/optimizer/constraints`]).then((e=>e)),xf=e=>{const t={optimize_constraints:Array.isArray(e)?e:[e]};return hd("post",[`${ff}/optimizer/constraints`,t]).then((e=>e))},wf=e=>hd("put",[`${ff}/optimizer/constraints`,{optimize_constraints:[e]}]).then((e=>e)),Sf=e=>hd("delete",[`${ff}/optimizer/constraints/${e}`]).then((e=>e)),kf=`${sd}/api`,Tf=(e,t)=>{const n={desired_allocations:e?e.toAPI():[]};return hd("post",[`${kf}/rebalance`,n],{ignoreAuth:!0})},If=e=>{const t={desired_allocations:e?e.toAPI():[]};return hd("post",[`${kf}/rebalance/orders`,t])},Nf=`${sd}/api`,Af=()=>hd("get",[`${Nf}/orders`]),Pf=e=>hd("post",[`${Nf}/orders`,{orders:e}]),Df=(e,t)=>{const n={order_ids:e};return t&&t.length>0&&(n.override_warnings=t),hd("post",[`${Nf}/orders/place`,n])},Of=(e,t)=>{const n={order:e};return t&&t.length>0&&(n.override_warnings=t),hd("post",[`${Nf}/order/place`,n])},Lf=e=>{const t=e;return hd("put",[`${Nf}/orders/${e.order_id}`,t])},Rf=e=>hd("delete",[`${Nf}/orders/${e}`]),Ff=e=>hd("post",[`${Nf}/orders/${e}/cancel`]),Mf=()=>hd("post",[`${Nf}/orders/delete_all`]),Uf=()=>hd("post",[`${Nf}/orders/dismiss_day_trader_message`]),$f=e=>{const{order_id:t}=e;return hd("get",[t?`${Nf}/v1/orders/${t}/commission`:`${Nf}/v1/orders/commission`])},Bf=["buying_power","is_market_open","has_free_trading","trade_credit","not_placed_orders","placed_orders","awaiting_approval_orders"],zf={sell_short:"Sell Short",sell:"Sell",buy:"Buy",buy_to_cover:"Buy To Cover"},Vf={sell_short:"Sell",sell:"Sell",buy:"Buy",buy_to_cover:"Buy"},Hf={sell_short:"Short",buy_to_cover:"Cover"},Wf={sell_short:!0,buy_to_cover:!0},jf={pending:"",submitted:"",partially_filled:"Filling",filled:"",cancel_submitted:"Cancel Requested",canceled:"Canceled",rejected:"Rejected",expired:"Expired"},Gf={canceled:!0,rejected:!0,expired:!0},qf=["pending","submitted","partially_filled","cancel_pending","cancel_submitted","stopped"],Yf=e=>e.some((e=>qf.some((t=>e.execution_status===t)))),Kf=e=>e.operation,Qf=e=>"buy"===Kf(e)||"buy_to_cover"===Kf(e),Zf=e=>"sell"===Kf(e)||"sell_short"===Kf(e),Xf=e=>!nk(e.limit_price),Jf=e=>!nk(e.stop_price),ev=e=>Vf[e],tv=(e,t,n,r,i,a,s)=>e?(r?i>n?i:a&&s<n?s>i?s:i:n:a&&s<n?s:n)*t*-1:(r?i<n?i:a&&s>n?s<i?s:i:n:a&&s>n?s:n)*t,nv=e=>e.reduce(((e,t)=>e+(t.commission||0)),0),rv=e=>e.some((e=>e.is_from_optimizer)),iv=e=>{const t={};return t.shares=e.shares,t.operation=e.operation,Xf(e)&&(t.limit_price=e.limit_price),Jf(e)&&(t.stop_price=e.stop_price),t},av=e=>(e=>e.sort(((e,t)=>{let n=0;e.orderDataSummaryList.forEach((e=>n+=e.shares));let r=0;return t.orderDataSummaryList.forEach((e=>r+=e.shares)),n>r?-1:n<r?1:0})))(e.map((e=>(e=>{const t={};return t.orderId=e.order_id,t.securityId=e.security_id,t.orderDataSummaryList=[],t.orderDataSummaryList.push(iv(e)),(e=>!!e.subdivision)(e)&&t.orderDataSummaryList.push(iv(e.subdivision)),t})(e)))),sv=e=>function(t){return e&&e.ignoreLoading||t({type:"GETTING_ORDER_DATA"}),Af(e).then((e=>{if(e&&e.data&&!e.data.error){const n=(e=>{const t=e.data,n={};return Bf.forEach((e=>n[e]=t[e])),n})(e);t({type:"ADD_ORDER_DATA",payload:n})}return e}))},ov=(e,t={})=>function(n){return t.clearOrdersBefore?lv()(n).then((t=>t&&t.ok?ov(e)(n):{error:"Something went wrong. Please try again"})):Pf(e).then((e=>{t.redirectTo&&(window.location=t.redirectTo);if(e&&e.data&&e.data[0]&&"created"===e.data[0].status){const t=e.data,r=e.data;return n({type:"CREATE_ORDERS",payload:{orders:t}}),l(o({},e),{wasSuccessful:!0,orders:r})}return l(o({},e),{wasError:!0})}))},lv=e=>function(t){return t({type:"CLEAR_ORDER_BASKET"}),Mf().then((n=>n&&n.data&&n.data.status&&"deleted"===n.data.status?{ok:!0}:(t({type:"UNDO_CLEAR_ORDER_BASKET",payload:e}),{error:"Could not clear basket, please try again later."})))},cv=`${sd}/api`,dv={getPaymentConfig:()=>hd("get",[`${cv}/subscription/config`]),getANetKeys:()=>hd("get",[`${cv}/payment_sources/config`]),getSubscriptionData:()=>hd("get",[`${cv}/subscription`]),updateSubscriptionData:(e,t)=>hd("patch",[`${cv}/subscription`,{payment_token:e,billing_info:t}]),sendAnetCreditCardPaymentTokenForSubscriptionPayment:(e,t)=>hd("post",[`${cv}/subscription`,{payment_token:e,billing_info:t}]).then((e=>e)),cancelSubscription:()=>hd("post",[`${cv}/subscription/cancel`]).then((e=>e)),getPaymentSourcesData:()=>hd("get",[`${cv}/payment_sources`]),sendAnetCreditCardPaymentTokenForPaymentSource:(e,t)=>hd("post",[`${cv}/payment_sources`,{payment_token:e,billing_info:t}]).then((e=>e))},uv=`${sd}/api`,hv=()=>hd("get",[`${uv}/live_accounts/funding/instant/config`],{ignoreAuth:!0}).then((e=>e)),pv=()=>hd("get",[`${uv}/v1/bank_accounts/link_token`],{ignoreAuth:!1}).then((e=>e)),mv=async()=>{var e;const t=await pv();return(null==t?void 0:t.data)&&!(null==(e=null==t?void 0:t.data)?void 0:e.error)?o({ok:!0},t.data):t.data||{error:!0}},gv=`${sd}/api`,yv=()=>hd("get",[`${gv}/investment_accounts/instant/config`],{ignoreAuth:!0}),_v=e=>hd("post",[`${gv}/investment_accounts/account`,e]),fv=e=>hd("delete",[`${gv}/investment_accounts/account/${e}`]),vv=e=>hd("get",[`${gv}/investment_accounts/account/${e}/link_token`]),Ev=e=>hd("get",[`${gv}/investment_accounts/account/${e}/portfolio_sync`]),bv=`${sd}/api`,Cv=e=>hd("get",[`${bv}/users?user_ids=${e}&include_portfolio=true&include_performance=true`]).then((e=>e)),xv=`${sd}/api`,wv=`${xv}/filter_securities`,Sv=()=>hd("get",[`${xv}/sectors`]).then((e=>e.data)),kv=(e,t)=>{const n=t.map((e=>"value"in e?l(o({},e),{value:sg(e.name,e.value)}):e)).map((e=>"ids"in e?l(o({},e),{ids:e.ids.map((e=>e[gk(e)]))}):e));return hd("post",[wv,{count:e,filters:n}]).then((e=>e&&e.data&&"securities"in e.data?e.data.securities:[]))},Tv=`${sd}/api`,Iv=(e,t)=>{const n=t&&t.include?t.include.map((e=>`include_${e}=true`)):null,r=`${Tv}/users?user_ids=${e}`,i=n?`${r}&${n.join("&")}`:r;return hd("get",[i]).then((e=>e))},Nv=e=>hd("get",[`${Tv}/users?user_ids=${e}&include_performance=true`]).then((e=>e)),Av=e=>hd("get",[`${Tv}/connections/${e}`]).then((e=>e)),Pv=()=>hd("get",[`${Tv}/connections?include_pending=true`]).then((e=>e)),Dv=()=>hd("get",[`${Tv}/thought_leaders`]).then((e=>e&&e.data?e.data:e)),Ov=()=>hd("get",[`${Tv}/connections/performance`]).then((e=>e)),Lv=()=>hd("get",[`${Tv}/people_you_may_know`]).then((e=>e)),Rv=(e,t)=>hd("post",[`${Tv}/connections`,{user_id:e,context:t}]).then((e=>e)),Fv=(e,t)=>hd("post",[`${Tv}/connections/accept`,{context:t,user_id:e}]).then((e=>e)),Mv=(e,t)=>hd("post",[`${Tv}/connections/ignore`,{user_id:e,context:t}]).then((e=>e)),Uv=(e,t)=>hd("post",[`${Tv}/users/${e}/suggested_connection/dismiss`,{dismissal_type:t}]).then((e=>e)),$v=(e,t)=>hd("post",[`${Tv}/users/${e}/view`,{context:t}],{ignoreAuth:!0}).then((e=>e)),Bv=(e,t)=>hd("post",[`${Tv}/viewpoints/${e}/view`,{context:t}],{ignoreAuth:!0}).then((e=>e)),zv=(e,t)=>hd("post",[`${Tv}/users/${e}/suggested_connection/view`,{context:t}]).then((e=>e)),Vv=e=>hd("get",[`${Tv}/users/search?query=${e}`]).then((e=>e)),Hv=(e,t,n)=>hd("post",[`${sd}/users/invite_friend`,{invite_email:e,message:t,context:n}]).then((e=>e)),Wv=e=>hd("delete",[`${Tv}/v1/connections/remove`,{user_id:e}]),jv=()=>hd("get",[`${Tv}/connections?include_pending=true`]).then((e=>e)),Gv=()=>hd("get",[`${Tv}/v1/current_user/annual_membership_eligible`]),qv=()=>hd("post",[`${Tv}/v1/current_user/start_annual_membership`]),Yv=()=>hd("post",[`${Tv}/v1/current_user/email_me_the_app`]),Kv={revenue_ltm:"Revenue LTM",price_to_tangible_book_value:"Price / Tangible Book",analyst_2yr_growth_projection:"Projected Revenue Growth",projected_revenue_growth:"Proj. Rev. Growth",thought_leaders:"Owned by Thought Leaders",connections:"On Connections' Watchlists",owned_by:"Owned By",sentiment:"Investor Sentiment",current_price:"Price",current_price_change:"Price Change",current_price_change_percent:"Price Change %",dividend_yield:"Dividend Yield",exchange:"Exchange",backward_pe_ratio:"Price / Earnings",forward_pe_ratio_this_year:"Forward P/E Curr Yr",forward_pe_ratio_next_year:"Forward P/E",forward_pe_ratio_next_next_year:"Forward P/E Next Yr",forward_eps_this_quarter:"Forward EPS Curr Qtr",forward_eps_this_year:"Forward EPS Curr Yr",market_cap:"Market Cap",net_debt:"Net Debt",sector:"Sectors",idea_type:"Idea Type",collective_intelligence:"Collective Intelligence",correlation:"Avg. Correlation",price_target:"Price Target",expected_return:"Expected Return",expected_dividend:"Expected Dividend",conviction:"Conviction",thesis:"Thesis",horizon:"Horizon"},Qv=(e,t)=>{if(t){return ok(Kv)[e]}return Kv[e]},Zv=`${sd}/api`,Xv=()=>hd("get",[`${Zv}/referral_rewards`],{ignoreAuth:!1}).then((e=>e)),Jv=()=>hd("post",[`${Zv}/funding_rewards/prepare`,{choose_from_count:1}],{ignoreAuth:!1}).then((e=>e)),eE=()=>hd("post",[`${Zv}/funding_rewards/redeem`,{which_index:0}],{ignoreAuth:!1}).then((e=>e)),tE=()=>hd("post",[`${Zv}/referral_rewards/prepare`,{choose_from_count:1}],{ignoreAuth:!1}).then((e=>e)),nE=()=>hd("post",[`${Zv}/referral_rewards/redeem`,{which_index:0}],{ignoreAuth:!1}).then((e=>e)),rE=e=>e&&e.data?e.data:{error:"Unable to complete request, please check internet connection."},iE=e=>hd("get",[`${sd}/api/v1/securities/search?starts_with=true&query=${e}`]),aE=`${sd}/api/thoughts`,sE=`${sd}/api/v1/thoughts`,oE=e=>{const t={thoughts:Array.isArray(e)?e:[e]};return hd("post",[`${aE}`,t])},lE=e=>hd("get",[`${aE}/${e}`]).then((e=>e)),cE=e=>{const t=e.join(",");return hd("get",[`${aE}?security_id=${t}`]).then((e=>e))},dE=e=>hd("post",[`${aE}/${e.id}/agree`,e]),uE=e=>{const{securityId:t,excludeThoughtIdsCSV:n}=e;return hd("get",[`${aE}/next?security_id=${t}&exclude_thought_id=${n}`])},hE=(e,t,n={},r)=>hd("post",[`${aE}/${e}/view`,{context:t,platform:ed,metadata:n,index_in_feed:r}]),pE=e=>{const t=(null==e?void 0:e.userId)?`${sE}/recent?user_id=${e.userId}&count=${e.count}`:`${sE}/recent?viewpoint_id=${e.viewpointId}&count=${e.count}`;return hd("get",[t])},mE=(e,t,n,r={},i)=>hd("post",[`${aE}/${e}/click`,{click_type:t,context:n,platform:ed,metadata:r,index_in_feed:i}]),gE=e=>function(t){return pE(e).then((e=>{var n;const{status:r,errorMessage:i}=e;if(200===r&&(null==(n=null==e?void 0:e.data)?void 0:n.thoughts)){const n=e.data.thoughts,r={};n.forEach((e=>{const t=e.security_id;r[t]?r[t].push(e):r[t]=[e]}));const i=(e=>{const t=[];return null==e||e.forEach((e=>{const n=e?e.security_id:null;n&&(t.includes(n)||t.push(n))})),t})(n);return qm(i)(t),t({type:"ADD_THOUGHTS",payload:i.map((e=>({securityId:e,thoughts:r[e]})))}),{ok:!0,thoughts:n}}return{error:!0,errorMessage:i}}))},yE=(e,t,n)=>function(r){const i=((e,t,n)=>{if(e.agree===jd(t))return e;n||console.error("No user_id found to assign to thought");const r="agree"===t?"disagree":"agree",i=l(o({},e),{agree:jd(t),[`${t.toLowerCase()}_user_ids`]:[...e[`${t.toLowerCase()}_user_ids`],n],[`${r.toLowerCase()}_user_ids`]:e[`${r.toLowerCase()}_user_ids`].filter((e=>e!==n))});switch(t){case"agree":i.agree_count+=1,!1===e.agree&&(i.disagree_count-=1);break;case"disagree":i.disagree_count+=1,!0===e.agree&&(i.agree_count-=1);break;default:console.error("Error in updating thought: Thought was changed to neutral or value was undefined/null ")}return i})(e,t,n);return"agree"!==t&&"disagree"!==t||r({type:"UPDATE_THOUGHT",payload:{thought:i}}),dE(i).then((n=>{if(n&&n.data&&(200===n.status||204===n.status)){const e=(e=>e.community_points)(n.data);if(e){const t=e.value;(e=>"Maximum points already earned today"===(e=>e.message)(e))(e)&&0===t?r({type:"REACHED_MAX_DAILY_KARMA"}):r({type:"ADD_KARMA_POINTS",payload:t})}return{}}return r({type:"UPDATE_THOUGHT",payload:{thought:e}}),{error:!0,opinion:t}}))},_E=(e,t,n,r)=>(e&&"number"==typeof e||Uk("Invalid id sent to sendThoughtClickEvent",!0),function(){return hE(e,t,n,r)}),fE=`${sd}/api`,vE=()=>hd("get",[`${fE}/viewpoints`]).then((e=>e)),EE=({viewpointOrgId:e,isFree:t})=>hd("post",[`${fE}/viewpoint_subs`,{viewpoint_id:e,is_free_expected:t}]).then((e=>e)),bE=e=>hd("delete",[`${fE}/viewpoint_subs?viewpoint_id=${e}`]).then((e=>e)),CE=()=>function(e){return vE().then((t=>{const{status:n,data:r}=t;if(200===n){const t=r.viewpoint_orgs,n=r.onboarding_display_sequence,i=r.onboarding_default_selection;return e({type:"UPDATE_VIEWPOINT_DATA",payload:{orgs:t,featuredSubscriptionIdsDisplayOrder:n,defaultSelection:i}}),{ok:!0,data:r}}return{error:!0}}))},xE=`${sd}/api`,wE=e=>hd("get",[`${xE}/users?user_ids=${e}&include_mutual_connections=true`]).then((e=>e)),SE=()=>function(e){return e({type:"LOADING_CURRENT_USER_CONNECTIONS"}),Pv().then((t=>{if(t&&t.data&&"connections"in t.data){const n=t.data.connections,{connectionsArray:r}=(e=>{const t=e.data.connections;return{connectionsArray:t.filter((e=>lp(e))),pendingConnectionsArray:t.filter((e=>pp(e))),connectionRequestsReceivedArray:t.filter((e=>hp(e)))}})(t);return e({type:Hc,payload:{users:n}}),e({type:"ADD_CURRENT_USER_CONNECTIONS",payload:{connections:r}}),ay("Connection Count",n.length),r}return console.error("Error fetching connections"),[]}))},kE=`${sd}/api/v1`,TE=e=>(async e=>{const{status:t,data:n}=await yd(e);return 200===t?n:{error:!0}})(e),IE=e=>(async e=>{const{status:t,data:n}=await _d(e);return 200===t?n:{error:!0}})(e),NE=e=>(e=>function(t){t({type:"SHOW_ACTION_MESSAGE",payload:e})})(e),AE=e=>(e=>function(t){t({type:"DISMISS_ACTION_MESSAGE",payload:e})})(e),PE=e=>{return t=e,function(e){e({type:Pc,payload:t})};var t},DE=()=>function(e){e({type:Dc})},OE=e=>(e=>function(t){t({type:"SET_MARKET_STATE",payload:e})})(e),LE=e=>(e=>function(t){t({type:Lc,payload:e})})(e),RE=e=>(e=>function(t){return vd(e).then((n=>{const r=`${e}_types`;return n&&n[r]?(t({type:"ADD_DATA_TYPES",payload:{[r]:n[r]}}),{[r]:n[r]}):(t({type:Fc,payload:xS()}),{})}))})(e),FE=()=>function(e){return Ed().then((t=>{if(!t)return{ok:!1};const{data:n,status:r}=t;if(200===r){const{prev_market_close_timestamp:t,next_market_open_timestamp:r,next_market_close_timestamp:i}=n;return e({type:"SET_MARKET_HOURS_DATA",payload:{prev_market_close_timestamp:1e3*t,next_market_open_timestamp:1e3*r,next_market_close_timestamp:1e3*i}}),o({ok:!0},n)}return{ok:!1}}))},ME=e=>my(e),UE=e=>(e=>{const t=nm("currentUser","fromFront",e),n=Object.keys(e)[0];return function(e){return Pg(t).then((t=>{if(t&&"updated"===t.status)e({type:"UPDATE_USER_PROPERTY",payload:{[n]:t[n]}});else if(t&&t.raw_response&&404===t.raw_response.status){console.warn("not found, redirecting",t);const e=window.origin+"/";if(window.location.href!==e)return cy(),{error:"Login Required"}}return t&&"updated"===t.status}))}})(e),$E=e=>(e=>function(t){return t({type:"SET_COLOR_THEME",payload:e}),Ag(e)})(e),BE=()=>function(e){return Og().then((e=>{if(e&&e.data&&e.data.status&&"success"===e.data.status)return{ok:!0};{const t=e&&e.data&&e.data.actions;return{ok:!1,actions:t,error:t?null:"Something went wrong. Check your internet connection and try again."}}}))},zE=(e,t,n)=>gy(e,t),VE=()=>function(e){return e({type:"GET_HISTORY_TRANSACTIONS_DATA"}),Vy().then((t=>{t&&t.data?e({type:"ADD_HISTORY_TRANSACTIONS_DATA",payload:t.data.history}):console.error("Something went wrong attempting to load transaction history")}))},HE=e=>(e=>function(t){return jy(e).then((n=>{if(n&&n.data&&n.data.status&&"canceled"===n.data.status){const r=n.data.transaction;return t({type:"CANCEL_FUNDING_TRANSACTION",payload:{id:e,transaction:r}}),{success:!0}}return{error:n&&n.data&&n.data.error||"Something went wrong. Please try again."}}))})(e),WE=e=>(e=>function(t){return t({type:"LOADING_IDEAS_FOR_SECURITY",payload:e}),Cy(e).then((n=>{if(n&&n.data&&n.data.ideas){const r=n.data.ideas;t({type:"ADD_IDEAS_FOR_SECURITY",payload:{ideas:r,ids:e}})}}))})(e),jE=e=>(e=>function(t){return ky(e).then((e=>{const{status:n,data:r,errorMessage:i}=e;if(200===n){const{ideas:e}=r;return t({type:"ADD_IDEAS",payload:e}),{ok:!0,ideas:e}}return{ok:!1,errorMessage:i}}))})(e),GE=e=>(e=>async function(t){const n=BS(e,"create"),{status:r,data:i}=await Ay([n]),a=(null==i?void 0:i.ideas)&&i.ideas[0],s="error"===(null==a?void 0:a.status);return 200!==r||s?{error:!0,data:i}:(tC()(t),t({type:"ADD_IDEAS",payload:(null==i?void 0:i.ideas)||[]}),{ok:!0,data:i})})(e),qE=e=>(e=>function(t){t({type:"CURRENT_USER_CREATING_IDEAS",payload:e.map((e=>AS(e)))});const n=e.map((e=>BS(e,"create")));return Ny(n).then((n=>{if(Uy(n,t,(()=>{t({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:e.map((e=>AS(e)))})})))return n;if(dy(n),!n||!n.ideas){const r={heading:My("add_error"),message:"Error message: Something went wrong, please try again.",size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};return t({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:e.map((e=>AS(e)))}),t({type:Fc,payload:r}),{error:!0,response:n}}const r=n.ideas.filter((e=>"error"===e.status)),i=r[0]&&"User already has an idea for this security. Send the idea_id to update it."===r[0].error?My("already_have"):"Please try again later";if(0===r.length)return t({type:"ADD_IDEAS",payload:n.ideas}),eC()(t),tC()(t),n;{const n={heading:My("add_error"),message:`Error message: ${i}`,size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};t({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:e.map((e=>AS(e)))}),t({type:Fc,payload:n})}return n}))})(e),YE=(e,t)=>$y(e,t),KE=e=>(e=>function(t){return t({type:"REMOVE_IDEA",payload:e}),Oy(e).then((n=>{if(dy(n),!n||"error"in n){t({type:"ADD_IDEAS",payload:[e]});const r=n&&"User has a long position corresponding to this idea, they must exit position before this can be deleted."===n.error?My("must_exit"):"An error has occurred, please try again.",i={heading:My("remove_error"),message:r,size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};return t({type:Fc,payload:i}),n}return eC()(t),tC()(t),n}))})(e),QE=e=>(e=>function(t){t({type:"SHOW_INFO_ICON_MODAL",payload:e})})(e),ZE=()=>function(e){e({type:"HIDE_INFO_ICON_MODAL"})},XE=()=>function(e){return u_({dispatch:e}).then((t=>{const{status:n,data:r,errorMessage:i}=t;if(200===n){const{next_lesson_id:t,next_reward_xp:n,next_reward_value:a,next_lesson_xp_value:s,hours_until_next_lesson:l,completed_lesson_count:c,message_type:d,should_see_learn_and_earn_doubled_with_deposit:u,should_see_learn_and_earn_payout_requires_deposit:h}=r;return e({type:f_,payload:o({nextLessonId:t,nextLessonReward:a,nextLessonRewardAtXP:n,nextLessonCompletionXP:s,completedLessonCount:c,hoursUntilNextLesson:l,messagingStates:{should_see_learn_and_earn_doubled_with_deposit:u,should_see_learn_and_earn_payout_requires_deposit:h},status:d||null},nd)}),{ok:!0,data:r,errorMessage:i}}return{error:!0,data:r,errorMessage:i}}))},JE=e=>(e=>function(t){return h_({data:e,dispatch:t}).then((e=>{const{status:n,data:r,errorMessage:i}=e;if(200===n){const{value:e}=r;return e>0&&t({type:"ADD_KARMA_POINTS",payload:e}),{ok:!0,data:r,errorMessage:i}}return{error:!0,data:r,errorMessage:i}}))})(e),eb=e=>(e=>p_({data:e}))(e),tb=e=>(e=>async function(t){const{status:n,data:r,errorMessage:i}=await m_(e);return 200===n?(t({type:g_,payload:r.lesson_content}),{ok:!0,data:r}):{error:!0,errorMessage:i}})(e),nb=(e,t)=>((e,t)=>function(n){return U_.createRecurringDeposit({dispatch:n,data:e,allowEmailAuth:t}).then((e=>{const{status:t,data:n,errorMessage:r}=e;return 200===t?{ok:!0}:{error:!0,errorMessage:n&&n.error?n.error:r}}))})(e,t),rb=e=>{return t=e,function(e){const n={account_id:t};return U_.cancelRecurringDeposit({dispatch:e,data:n}).then((e=>{const{status:t,data:n,errorMessage:r}=e;return 200===t?{ok:!0}:{error:!0,errorMessage:(n&&n.error?n.error:r)||"Something went wrong, please try again later."}}))};var t},ib=()=>function(e){return U_.getDepositPickerAmounts().then((e=>{var t;const{status:n,data:r}=e;if(200===n){const{accounts:e}=r;return{ok:!0,accounts:e}}return{errorMessage:(null==(t=null==e?void 0:e.data)?void 0:t.error)||"Something went wrong. Please try again later."}}))},ab=()=>function(e){return U_.getLiveTradingAccount().then((t=>{if(t&&t.data){const n=nm("liveTrading","fromApi",t.data);return e({type:"GET_LIVE_TRADING_ACCOUNT",payload:n}),{ok:!0,liveTradingAccount:n||{}}}return{ok:!1,liveTradingAccount:{}}}))},sb=(e,t)=>((e,t)=>{const n=nm("liveTrading","fromFront",e);return"social_security_number"in n&&n.social_security_number&&n.social_security_number.length>0&&Pk(n.social_security_number)&&delete n.social_security_number,function(r){return r({type:"LIVE_TRADING_SUBMIT_FORM",payload:e}),U_.submitLiveTradingSignUpForm(n,t).then((e=>{if("Your live trading application was already submitted."===(e&&e.data&&e.data.error)&&window.location.reload(),e&&e.data&&e.data.status){const t=nm("liveTrading","fromApi",e.data);r({type:"LIVE_TRADING_SUBMIT_STATUS",payload:t}),"REJECTED"===e.data.status&&r({type:"REJECT_LIVE_TRADING_ACCOUNT"})}return e}))}})(e,t),ob=e=>(e=>function(t){return U_.getBankAccounts().then((n=>{if(n){const e=nm("funding","fromApi",n);return t({type:"GET_BANK_ACCOUNTS",payload:e}),{ok:!0,data:e}}return e&&e.ignoreError,{error:!0}}))})(e),lb=e=>U_.getUserAvailableFunds(),cb=e=>(e=>function(t){return U_.removeBankAccount(e).then((n=>{var r;const{status:i,errorMessage:a}=n;return 200===i?(t({type:"REMOVE_BANK_ACCOUNT",payload:{id:e}}),{ok:!0}):{errorMessage:(null==(r=null==n?void 0:n.data)?void 0:r.error)||"Something went wrong. Please try again later."}}))})(e),db=e=>(e=>function(t){return U_.submitAddBankAccountForm(e).then((e=>{if(200===(null==e?void 0:e.status)){const{data:n}=e,{error:r}=n;return r?{error:"Something went wrong. Please try again."}:(t({type:"ADD_BANK_ACCOUNT",payload:n}),{ok:!0,data:n})}return{error:"Something went wrong. Please try again."}}))})(e),ub=e=>(e=>function(t){return t({type:"CLEAR_FUNDING_FORM_NOTICE"}),U_.linkAccountWithPlaid(e).then((e=>{if(e&&!("error"in e)){const n=nm("funding","fromApi",e);return t({type:"ADD_BANK_ACCOUNT",payload:n}),o({ok:!0},e)}{let n="Something went wrong. Please try again.";return e&&e.error&&(n=e.error),t({type:"CREATE_FUNDING_FORM_NOTICE",payload:{message:n,style:"error"}}),o({error:!0},e)}}))})(e),hb=e=>(e=>function(t){return U_.patchInstantLinkBankAccount({data:e,dispatch:t}).then((t=>({ok:!0,bankAccountId:e.tornadoBankAccountId,available_balance_scale:null})))})(e),pb=e=>(e=>{const{id:t}=e;return function(n){return U_.verifyBankAccount(e).then((e=>{var r,i,a,s;return 200===(null==e?void 0:e.status)?(n({type:"VERIFY_BANK_ACCOUNT_APPROVED",payload:{id:t}}),{ok:!0}):{errorMessage:(null==(i=null==(r=null==e?void 0:e.raw_response)?void 0:r.data)?void 0:i.error)||"Something went wrong. Please try again later.",microDepositAttemptsRemaining:null==(s=null==(a=null==e?void 0:e.raw_response)?void 0:a.data)?void 0:s.micro_deposit_attempts_remaining}})).catch((e=>{gy(e)();const t={contentComponent:bS("Something went wrong. Please try again later."),size:"wide",redirect:!1,dismissable:!0};n({type:Fc,payload:t})}))}})(e),mb=e=>(e=>function(t){return U_.postPaperTransfer(e).then((e=>{var t,n,r,i,a;return 200===(null==e?void 0:e.status)?{ok:!0}:{error:!0,errorMessage:(null==(n=null==(t=null==e?void 0:e.raw_response)?void 0:t.data)?void 0:n.message)||(null==(i=null==(r=null==e?void 0:e.raw_response)?void 0:r.data)?void 0:i.error)||(null==(a=null==e?void 0:e.data)?void 0:a.error)||"Something went wrong, please try again later."}}))})(e),gb=(e,t)=>((e,t)=>{const{amount:n,account_id:r}=e;return async function(r){var i,a,s,c,d,u;const h=await(t?U_.depositFundsEmailAuth(e):U_.depositFunds(e)),{status:p}=h;if(200===p){const{message:e,reward:t}=h.data,{public_token:i,error:a}=h.data,s=a||"Something went wrong. Please try again.";if("Please reauthenticate with your financial institution."===s)return{error:!0,reauthPlaid:!0,needsPlaidReauth:!0,plaidAccountToken:i,errorMessage:s};let c=e,d={};const u=[$_.FUNDING_PROMO_CASH_15_FOR_100,$_.FUNDING_PROMO_CASH_20_FOR_20,$_.FUNDING_PROMO_CASH_50_FOR_1000],p=t&&u.includes(t.reward_type),m=t&&t.is_card_flip;return p&&(c=`You'll get the $${B_(t.reward_amount,"int")} reward when the deposit completes. ${c}`),m&&(d=l(o({},d),{gotoFundingRewardRedemption:!0,depositSuccessMessage:e})),r({type:"TRANSACTION_ACCEPTED",payload:{transactionType:"deposit",amount:parseFloat(n)}}),l(o({ok:!0},d),{noticeMessage:c})}{let e=h.data||(null==(i=h.raw_response)?void 0:i.data)||null;const t=(null==e?void 0:e.error)||"Something went wrong. Please try again.";return"Please reauthenticate with your financial institution."===t?{error:!0,reauthPlaid:!0,needsPlaidReauth:!0,plaidAccountToken:null==e?void 0:e.public_token,errorMessage:t}:{error:!0,errorMessage:(null==(s=null==(a=null==h?void 0:h.raw_response)?void 0:a.data)?void 0:s.message)||(null==(d=null==(c=null==h?void 0:h.raw_response)?void 0:c.data)?void 0:d.error)||(null==(u=null==h?void 0:h.data)?void 0:u.error)||"Something went wrong, please try again later."}}}})(e,t),yb=(e,t)=>((e,t)=>{const{amount:n,account_id:r}=e;return function(r){return U_.withdrawFunds(e,t).then((e=>{var t,i,a,s,o,l,c;if((null==(t=null==e?void 0:e.data)?void 0:t.warning)||(null==(a=null==(i=null==e?void 0:e.raw_response)?void 0:i.data)?void 0:a.warning))return{warning:!0,warningMessage:(null==(s=null==e?void 0:e.data)?void 0:s.warning)||(null==(l=null==(o=null==e?void 0:e.raw_response)?void 0:o.data)?void 0:l.warning)};if(200===(null==e?void 0:e.status)){const{data:t}=e,{public_token:i,error:a}=t,s=a||"Something went wrong, please try again later.";if("Please reauthenticate with your financial institution."===s||a){const t={status:null==e?void 0:e.status,data:null==e?void 0:e.data,error:null==e?void 0:e.error,raw_response:null==e?void 0:e.raw_response},n=(new k).setContext("state",t);return S(new Error("API Error in withdraw"),(()=>n)),{error:!0,reauthPlaid:!0,needsPlaidReauth:!0,plaidAccountToken:i,errorMessage:s}}return r({type:"TRANSACTION_ACCEPTED",payload:{transactionType:"withdrawal",amount:parseFloat(n)}}),{ok:!0}}{let t=(null==e?void 0:e.data)||(null==(c=e.raw_response)?void 0:c.data)||null;const n=(null==t?void 0:t.error)||"Something went wrong, please try again later.",r={status:null==e?void 0:e.status,data:null==e?void 0:e.data,error:null==e?void 0:e.error,raw_response:null==e?void 0:e.raw_response},i=(new k).setContext("state",r);return S(new Error("API Error in withdraw"),(()=>i)),{error:!0,errorMessage:n}}})).catch((e=>(gy(e,{inWithdraw:!0})(),{error:!0,errorMessage:"Something went wrong, please try again later."})))}})(e,t),_b=e=>(async e=>{const t=await U_.getFundingRewardAmount(e);return 200===(null==t?void 0:t.status)?{ok:!0,data:t.data}:{ok:!1}})(e),fb=e=>(async e=>{const t=Array.isArray(e)?e:[e],n=await U_.postFundingRewardAmount(t);return 200===(null==n?void 0:n.status)?{ok:!0,data:n.data}:{ok:!1}})(e),vb=e=>(e=>U_.submitLiveAccountDocument(e).then((e=>{var t;return 200===(null==e?void 0:e.status)?{ok:!0,docData:e.data}:{ok:!1,error:(null==(t=null==e?void 0:e.data)?void 0:t.error)||"Something went wrong. Please try again."}})))(e),Eb=()=>(()=>{const e={decision:null,image_capture_qr_code:null,image_capture_url:null,requires_ssn_document:null,requires_non_us_citizen_document:null};if(q_()){const t=G_(e);return Promise.resolve(t)}return U_.fetchFurtherDocumentationStatus().then((t=>{if(t&&t.data){const{data:e}=t;return o({ok:!0},G_(e))}return l(o({},e),{error:"Something went wrong. Please try again later."})}))})(),bb=e=>Q_(e),Cb=()=>function(e){e({type:"HIDE_MODAL"})},xb=()=>function(e){e({type:"SHOW_VERTICAL_NAV"})},wb=()=>function(e){e({type:"HIDE_VERTICAL_NAV"})},Sb=()=>function(e){e({type:"SET_SHOW_SEARCH_HEADER"})},kb=()=>function(e){e({type:"SET_HIDE_SEARCH_HEADER"})},Tb=e=>(e=>{const t=e.open_graph_object&&e.open_graph_object.url;return function(n){return n({type:"ADD_LOADING_STATE_FOR_NEWS_IMAGE",payload:{url:t}}),Jy(t)(n).then((r=>{if(r&&200===r.status){var i=r.data;!i.title&&e.open_graph_object&&(i.title=e.open_graph_object.title);const a=Kd(i);n({type:"ADD_NEWS_IMAGE",payload:{url:t,openGraphObject:a}})}else n({type:"ADD_NEWS_IMAGE_FAILURE_STATE",payload:{url:t}});return r}))}})(e),Ib=e=>(e=>{const{id:t}=e;return t&&"number"==typeof t||Uk("Invalid id sent to sendNewsClickEvent",!0),function(){return J_(e)}})(e),Nb=e=>(e=>function(){const{id:t,clickType:n,context:r}=e;return["link","more","pro","con"].includes(n)&&t&&"number"==typeof t||Uk("Invalid click type or id sent to sendNewsClickEvent",!0),cf("viewNews",t,r),ef(e)})(e),Ab=()=>function(e){return hf().then((t=>{if(t&&t.data){const n=t.data.count;e({type:"UPDATE_NEW_NOTIFICATIONS_COUNT",payload:{count:n}})}return t}))},Pb=e=>(e=>function(t){return pf(e).then((n=>{if(n&&n.data&&!("error"in n)){const r=n.data.notifications||[],i=[];r.filter((e=>"connection"===e.type)).forEach((e=>{e.connections&&e.connections.forEach((e=>i.push(e)))})),i.length>0&&t({type:Hc,payload:{users:i}});const a=r.filter((e=>["thought","thought_clean_style"].includes(e.type))),s=a.map((e=>e.data.thought.id)),o=Xd(a);t({type:"ADD_THOUGHTS",payload:o}),t({type:"ADD_EXCLUDE_THOUGHTS_SUGGESTIONS",payload:s});const l=r.filter((e=>"idea_action"===e.type)),c=jS(l);t({type:"ADD_IDEAS",payload:c}),t({type:"UPDATE_NOTIFICATIONS",payload:{notifications:r,page:e.page,batch_index:e.batch_index,didReturnNotifications:r.length>0,forceRefresh:e.forceRefresh}})}return n}))})(e),Db=e=>(e=>function(t){return t({type:"CLEAR_NEW_NOTIFICATIONS"}),mf(e).then((e=>e)).catch((e=>console.error("Something went wrong!",e)))})(e),Ob=e=>(e=>gf(e).then((e=>e&&e.data?{ok:!0,data:e.data}:{ok:!1,error:"Something went wrong, please try again later."})).catch((e=>console.error("Something went wrong!",e))))(e),Lb=e=>(e=>function(t){return _f(e).then((e=>(t({type:"END_ONBOARDING"}),{ok:200===e.status})))})(e),Rb=()=>async function(e){const t=await pd({method:"get",url:`${kE}/orders`});return 200===(null==t?void 0:t.status)&&e({type:Mc,payload:t.data}),t},Fb=(e,t)=>((e,t)=>async function(n){const r={order:e};t&&t.length>0&&(r.override_warnings=t);const i=await pd({method:"post",url:`${kE}/order/place`,body:r}),{statusCode:a,data:s}=i;return[200,207,422].includes(a)?200===a?(n({type:Uc,payload:[s]}),{ok:!0,isPlaced:!0,order:s}):{ok:!0,withErrors:207===a,withWarnings:422===a,data:s}:{error:(null==s?void 0:s.error)||"Something went wrong, please try again."}})(e,t),Mb=(e,t)=>((e,t)=>async function(n){var r;const i={order_ids:e};t&&t.length>0&&(i.override_warnings=t);const a=await pd({method:"post",url:`${kE}/orders/place`,body:i}),{status:s,data:c}=a;return[200,207,422].includes(s)?200===s?(n({type:Uc,payload:c.orders}),{ok:!0,isPlaced:!0,orders:c.orders}):l(o({},a),{ok:!0,withErrors:207===s,withWarnings:422===s||(null==(r=null==c?void 0:c.warnings)?void 0:r.length)>0}):l(o({},a),{error:(null==c?void 0:c.error)||"Something went wrong, please try again."})})(e,t),Ub=e=>{return t=e,async function(e){e({type:zc,payload:t});const n=await pd({method:"delete",url:`${kE}/orders/${t}`});return null==n||n.status,n};var t},$b=e=>(e=>async function(t){const n=await pd({method:"post",url:`${kE}/orders`,body:{order:e}});if(200===(null==n?void 0:n.status)){const e=n.data;return t({type:$c,payload:e}),o({ok:!0},n)}return n})(e),Bb=(e,t)=>((e,t)=>async function(n){const r=await pd({method:"patch",url:`${kE}/orders/${e}`,body:t});if(200===(null==r?void 0:r.status)){const e=r.data;return n({type:Bc,payload:e}),o({ok:!0},r)}return r})(e,t),zb=()=>async function(e){const t=await pd({method:"delete",url:`${kE}/orders/delete_all`});return 200===(null==t?void 0:t.status)?(e({type:Vc}),{ok:!0}):{error:"Could not clear basket, please try again later."}},Vb=()=>lv(),Hb=e=>sv(e),Wb=(e,t)=>((e,t)=>function(n){return Of(e,t).then((e=>{const t=e&&e.data&&e.data.status||null;if(["success","success_with_error"].includes(t)){const r=e.data.orders;return n({type:"PLACE_ORDERS",payload:{orders:r}}),l(o({},e),{ok:!0,withErrors:"success_with_error"===t,errorMessage:e.data.error})}return["warning"].includes(t)?l(o({},e),{ok:!0}):l(o({},e),{error:e&&e.data&&e.data.error||e&&e.data&&e.data[0]&&e.data[0].error||"Something went wrong, please try again."})}))})(e,t),jb=(e,t)=>((e,t)=>function(n){return Df(e,t).then((e=>{const t=e&&e.data&&e.data.status||null;if(["success","success_with_error"].includes(t)){const r=e.data.orders;return n({type:"PLACE_ORDERS",payload:{orders:r}}),l(o({},e),{ok:!0,withErrors:"success_with_error"===t,errorMessage:e.data.error})}return["warning"].includes(t)?l(o({},e),{ok:!0}):l(o({},e),{error:e&&e.data&&e.data.error||"Something went wrong, please try again."})}))})(e,t),Gb=e=>(e=>$f(e).then((e=>e&&e.status&&200===e.status?{ok:!0,data:e.data}:{ok:!1,errorMessage:"Unable to determine commission for trade, please try again."})))(e),qb=()=>function(e){e({type:"OPEN_REBALANCER_PANEL"})},Yb=()=>(window.$("html, body").animate({scrollTop:0},300),function(e){e({type:"CLOSE_REBALANCER_PANEL"})}),Kb=(e,t)=>((e,t)=>function(n){const r=jl().valueOf();return n({type:"RUN_REBALANCER",payload:{optimizerData:{summary_message:"Rebalancer is analyzing portfolio"},optimizerCallTimestamp:r}}),Tf(e,t).then((e=>{const t=e&&e.data&&e.data.rebalanced_positions_by_security_id,i=t?e.data:{status:"failed"};return i.lastUpdated=r,n(t?{type:"NEW_REBALANCER_DATA_RECEIVED",payload:{optimizerData:i,optimizerCallTimestamp:r}}:{type:"REBALANCER_RUN_FAILED",payload:{optimizerCallTimestamp:r}}),e}))})(e,t),Qb=e=>(e=>function(t){return If(e)})(e),Zb=()=>function(e){e({type:"OPEN_OPTIMIZER_PANEL"})},Xb=(e,t)=>((e,t)=>{const n=jl().valueOf();return function(r){return r({type:"RUN_OPTIMIZER",payload:{optimizerData:{summary_message:"Optimizer is analyzing portfolio"},optimizerCallTimestamp:n}}),vf(e).then((e=>{const i="object"==typeof e&&e.data&&e.data.optimized_positions_by_security_id,a=i?e.data:{status:"failed"};return a.lastUpdated=n,i?setTimeout((()=>{r({type:"NEW_OPTIMIZATION_RECEIVED",payload:{optimizerData:a,optimizerCallTimestamp:n}})}),t||1):setTimeout((()=>{r({type:"UPDATE_LAST_OPTIMIZED_TIMESTAMP",payload:{optimizerCallTimestamp:n}})}),t||1),e}))}})(e,t),Jb=()=>function(e){return Ef()},eC=()=>function(e){return bf().then((e=>e))},tC=()=>Xb(),nC=()=>dv.getANetKeys().then((e=>e&&e.data&&"client_key"in e.data&&"login_id"in e.data?{ok:!0,client_key:e.data.client_key,login_id:e.data.login_id}:{ok:!1,error:!0,errorMessage:"Something went wrong. Please refresh and try again."})),rC=()=>dv.getSubscriptionConfig().then((e=>e&&e.data&&"available_plans"in e.data?o({ok:!0},e.data):{error:"Something went wrong. Please try again."})),iC=()=>function(e){return dv.getSubscriptionData().then((t=>{if(t&&t.data&&t.data.billing_info)return o({ok:!0},t.data);{const t={contentComponent:bS("Something went wrong. Please refresh and try again."),dismissable:!0,size:"wide"};return e({type:Fc,payload:t}),{error:!0,errorMessage:"Something went wrong. Please refresh and try again."}}}))},aC=(e,t)=>((e,t)=>function(n){return dv.updateSubscriptionData(e,t).then((e=>{if(e&&e.data&&e.data.status&&"success"===e.data.status)return o({ok:!0},e.data);{const t=e&&e.data&&e.data.error||"Something went wrong. Please refresh and try again.",r={contentComponent:bS(t),dismissable:!0,size:"wide"};return n({type:Fc,payload:r}),{error:!0,errorMessage:t}}}))})(e,t),sC=()=>dv.cancelSubscription().then((e=>e&&e.data&&e.data.status&&"success"===e.data.status?o({ok:!0},e.data):{error:e?e.data?e.data.error:e.error:"Something went wrong. Please try again.",response:e})),oC=(e,t)=>((e,t)=>dv.sendAnetCreditCardPaymentTokenForPaymentSource(e,t))(e,t),lC=()=>function(){return hv().then((e=>{var t;return(null==e?void 0:e.data)&&!(null==(t=null==e?void 0:e.data)?void 0:t.error)?o({ok:!0},e.data):e.data||{error:!0}}))},cC=e=>(e=>function(t){return t({type:"START_LOADING_PORTFOLIO_DATA",payload:{userId:e}}),Cv(e).then((n=>{if(n&&n.data&&n.data.users){const r=n.data.users[0].positions;if(r){const e=Object.keys(r);qm(e)(t)}t({type:"ADD_USER_PORTFOLIO_DATA",payload:{userId:e,portfolioData:r}})}else t({type:"USER_PORTFOLIO_DATA_ERROR",payload:{userId:e,error:"Something went wrong"}});return n}))})(e),dC=e=>(e=>function(t){return e||t({type:"LOADING_REWARDS_DATA"}),Xv().then((e=>{if(e&&e.data){const n=e.data,r=e.data.live_trading_approved_connections;return t({type:Hc,payload:r}),t({type:"GET_REWARDS_DATA",payload:n}),{ok:!0,data:e.data}}return t({type:"GET_REWARDS_DATA_ERROR"}),{ok:!1}}))})(e),uC=()=>Jv().then((e=>rE(e))),hC=()=>tE().then((e=>rE(e))),pC=e=>(e=>function(t){return t({type:"QUERY_SECURITIES",payload:e}),iE(e).then((n=>{const r=n&&n.data&&n.data.securities;if(r){const i=n.data.securities;return t({type:"ADD_SECURITIES",payload:i.map((e=>l(o({},e),{security_id:e.id})))}),t({type:"ADD_SYMBOL_LOOKUP",payload:i.map((e=>({[e.symbol]:e.id})))}),t({type:"QUERY_RESULTS",payload:{results:i,query:e}}),{ok:r,results:i}}{const e={contentComponent:bS("Something went wrong. Please try again."),size:"wide",dismissable:!0};return t({type:Fc,payload:e}),{error:!0}}}))})(e),mC=e=>qm(e),gC=e=>Ym(e),yC=e=>Km(e),_C=(e,t)=>Km(e,t),fC=e=>(e=>function(t){return t({type:"LOADING_SECURITY_ORDER_PRICE_DATA",payload:{securitiesListById:e}}),Pd(e).then((e=>{if(e&&e.data&&"securities"in e.data){const n=e.data.securities,r=e.data.price_quotes_info||{},i=n.map((e=>o(o({},e),r)));return t({type:"ADD_SECURITY_ORDER_PRICE_DATA",payload:{securitiesPriceData:i}}),e}return console.error("Something went wrong getting securities price data"),"Something went wrong getting securities price data"}))})(e),vC=e=>(e=>function(t){return Od(e).then((e=>e&&e.data?e.data.securities:{error:e?e.error:"Something went wrong."}))})(e),EC=(e,t)=>Qm(e,t),bC=()=>function(e){return Qm(Gm.COLLECTIVE_INTELLIGENCE.toApi(),15)(e)},CC=()=>function(e){return Rd().then((t=>{const{status:n,data:r}=t;if(200===n){const t=r.map((e=>e.securityId));return e({type:"UPDATE_EARNING_ANNOUNCEMENTS",payload:r}),e({type:"ADD_SECURITIES",payload:r}),{ok:!0,securityIds:t,securities:r}}return{ok:!1}}))},xC=(e,t)=>((e,t)=>{t=t||"one_year";const n=e=>{const t=e[e.length-1];return e.filter((e=>e.time>=t.time-268e4))};return function(r){return r({type:"START_LOADING_PRICE_HISTORY",payload:{securities:e.map((e=>({security_id:e}))),timePeriod:t}}),Nd(e,t).then((i=>{const a=i&&"securities"in i?i.securities:e.map((e=>({security_id:e,price_history:[]})));return r({type:"ADD_PRICE_HISTORY",payload:{securities:a,timePeriod:t}}),"one_year"===t&&r({type:"ADD_PRICE_HISTORY",payload:{securities:a.map((e=>({security_id:e.security_id,price_history:n(e.price_history)}))),timePeriod:"one_month"}}),i}))}})(e,t),wC=e=>(e=>function(t){t({type:Rc,payload:e})})(e),SC=e=>function(e){return e({type:"UPDATE_TOUR_DATA",payload:{tour_step:1,is_on_tour:!0}}),Pg({is_on_tour:!0,tour_step:1},!0).then((e=>(e&&e.status,e)))},kC=(e,t,n,r,i)=>((e,t,n,r,i)=>(["text","link","agree","disagree","more","share"].includes(t)&&e&&"number"==typeof e||Uk("Invalid click type or id sent to sendThoughtClickEvent",!0),_u("view",e,n),function(){return mE(e,t,n,r,i)}))(e,t,n,r,i),TC=(e,t,n)=>ly(e,t),IC=()=>CE(),NC=e=>(e=>{const t="Unable to subscribe at this time",n="Current user is already subscribed to that viewpoint",r="Specified viewpoint can not be subscribed to",i="Request expects a free subscription but the subscription will not be free";return function(a){const{id:s,isFree:o}=e;return EE(e).then((e=>{const{data:l}=e,c=l&&l.error||"Something went wrong. Please try again.";if(l&&"success"===l.status){const e=[my()(a),CE()(a)];return Promise.all(e).then((e=>(e[1].ok||a({type:"VIEWPOINT_SUBSCRIBE_COMPLETE",payload:{id:s,isFree:o}}),{ok:!0})))}{const e=c===i;let s=c;c===n&&(s="You are already subscribed to this viewpoint."),c===t&&(s="Something went wrong. Please try again later."),c===r&&(s="Something went wrong. Please try again later."),c===i&&(s="Something went wrong. Please try again later.");const o={error:!0,errorMessage:s,isAlreadySubbed:c===n,isUserUnableToSub:c===t,isViewpointNotEligibleForSubs:c===r,isFreeSubAlreadyUsed:e};return e?CE()(a).then((e=>o)):o}}))}})(e),AC=e=>(e=>function(t){return bE(e).then((e=>{const{status:n,errorMessage:r}=e;if(200===n){const e=[my()(t),CE()(t)];return Promise.all(e).then((e=>(e[1].ok||t({type:"VIEWPOINT_SUBSCRIBE_CANCELLED",payload:id}),{ok:!0})))}{let e="Something went wrong. Please try again later.";return"Unable to unsubscribe at this time"===r&&(e="Unable to unsubscribe at this time. Please try again later."),"Current user is not subscribed to that viewpoint"===r&&(e="Something went wrong. You are not subscribed to that viewpoint.",CE()(t)),{error:!0,errorMessage:e}}}))})(e),PC=(e,t)=>(e=>e?function(t){t({type:"LOADING_USER_MUTUAL_CONNECTIONS",payload:{userIds:Array.isArray(e)?e:[e]}});const n=Array.isArray(e)?e.join(","):e;return wE(n).then((e=>{if(e&&e.data&&"users"in e.data){const n=e.data.users,r=n.map((e=>({user_id:e.user_id,mutual_connections:e.mutual_connections?e.mutual_connections.map((e=>e.user_id)):[]})));t({type:Hc,payload:{users:n}}),t({type:"ADD_USER_MUTUAL_CONNECTIONS",payload:{users:r}})}else console.error("Error fetching mutual connections");return e}))}:(console.error("userIds are required"),null))(e),DC=()=>(async()=>{var e;const t=await Yv(),{status:n,raw_response:r}=t;return 200===n?{ok:!0}:(console.error(t),{ok:!1,errorMessage:(null==(e=null==r?void 0:r.data)?void 0:e.error)||"Something went wrong. Please try again."})})(),OC=(e,t)=>((e,t={})=>function(n){return t.include&&t.include.includes("performance")&&n({type:"LOADING_USERS_IDEA_PERFORMANCES",payload:{userIds:[e]}}),Iv(e,t).then((r=>{const i=!r||r.error||!r.data.users||!r.data.users[0],a=i?{}:r.data.users[0];if(i)t.updateUser?n({type:"UPDATE_USER",payload:{users:[{user_id:e,error:"There was an error updating user information."}]}}):n({type:Hc,payload:{users:[{user_id:e,error:"There was an error updating user information."}]}}),t.include&&t.include.includes("performance")&&n({type:Hc,payload:{users:[{user_id:e,error:"There was an error updating user information."}]}});else{if(a||console.error("User was not found in API response",r),t.updateUser?n({type:"UPDATE_USER",payload:{user:a}}):Yh(a)?n({type:"ADD_COLLECTIVES",payload:{collectives:[a]}}):n({type:Hc,payload:{users:[a]}}),t.include&&t.include.includes("performance")){const e=a.positions;if(e){const t=Object.keys(e);qm(t)(n)}n({type:"ADD_USERS_PERFORMANCES",payload:{users:[a]}})}if(t&&t.isCurrentUser){const e=Bg(r.data);n({type:"ADD_PORTFOLIO_DATA",payload:{portfolioData:e}})}}}))})(e,t),LC=e=>(e=>function(t){return t({type:"LOADING_USER_CONNECTIONS",payload:{userId:e}}),Av(e).then((n=>{const r=!n||n.error||!n.data,i=r?{}:n.data.connections,a=r?{}:n.data.connections;r?t({type:"ADD_USER_CONNECTIONS",payload:{user:{user_id:e,error:"There was an error updating user information."}}}):(t({type:Hc,payload:{users:i}}),t({type:"ADD_USER_CONNECTIONS",payload:{userId:e,connections:a}}))}))})(e),RC=(e,t,n)=>((e,t,n={})=>function(n){return Wv(t).then((r=>{const{status:i,data:a,errorMessage:s}=r;if(200===i)n({type:"REMOVE_CONNECTION",payload:{userId:t,currentUserId:e}});else{const e={contentComponent:bS("Could not remove connection. Please try again later."),dismissable:!0,size:"wide"};n({type:Fc,payload:o({},e)})}}))})(e,t,n),FC=()=>function(e){return Dv().then((t=>{if(t&&"thought_leaders"in t&&t.thought_leaders.length>0){const n=ek(t.thought_leaders.map((e=>l(o({},e),{isThoughtLeader:!0}))),"user_id");e({type:"ADD_THOUGHT_LEADERS",payload:n})}}))},MC=()=>function(e){return Ov().then((t=>{if(t&&t.data){const n=(t.data.performance_leaders||[]).map((e=>({performance:e.performance,user_id:e.user.user_id})));e({type:"ADD_TOP_CONNECTION_PERFORMANCES",payload:{connectionsPerformance:n}})}}))},UC=(e,t)=>((e,t)=>function(n){return n({type:"SEND_CONNECTION_REQUEST",payload:{connectUserId:e}}),Rv(e,t).then((t=>((!t||t.error||t.data&&t.data.error)&&n({type:"CONNECTION_REQUEST_FAILED",payload:{connectUserId:e}}),t)))})(e,t),$C=(e,t,n)=>((e,t,n)=>function(r){return Fv(e,t).then((t=>{const i=!t||t.error||t.data&&t.data.error;return r(i?{type:"ACCEPT_CONNECTION_REQUEST_FAILED",payload:{connectUserId:e}}:{type:"ACCEPT_CONNECTION_REQUEST",payload:{connectUserId:e,userId:n}}),t}))})(e,t,n),BC=(e,t)=>((e,t)=>{const n=decodeURIComponent(t);return $v(e,n),{type:"IGNORE"}})(e,t),zC=(e,t)=>((e,t)=>{const n=decodeURIComponent(t);return Bv(e,n),{type:"IGNORE"}})(e,t),VC=()=>async e=>{var t;const n=await Gv(),{status:r,data:i,raw_response:a}=n;if(200===r){const{already_enrolled:t,annual_membership_fee:n,eligible_for_program:r}=i;return e({type:Oc,payload:{isEligible:r,isEnrolled:t,annualFee:n}}),{ok:!0}}return console.error(n),{ok:!1,errorMessage:(null==(t=null==a?void 0:a.data)?void 0:t.error)||"Something went wrong. Please try again."}},HC=()=>(async()=>{var e;const t=await qv(),{status:n,raw_response:r}=t;return 200===n?{ok:!0}:(console.error(t),{ok:!1,errorMessage:(null==(e=null==r?void 0:r.data)?void 0:e.error)||"Something went wrong. Please try again."})})();var WC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",setAppHeight:e=>(e=>function(t){t({type:"SET_APP_HEIGHT",payload:e})})(e),postLessonToApi:TE,publishLesson:IE,showActionMessage:NE,dismissActionMessage:AE,showComponentModal:PE,hideComponentModal:DE,setMarketState:OE,addMarketMonitorSecurities:LE,fetchColorTheme:()=>async function(e){const t=await fetch(`${sd}/api/color_schemes`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}),n=await t.json(),{current_color_scheme:r}=n,i="light-color-scheme"===(a=r)?"muted-light-color-scheme":a;var a;return(e=>["muted-light-color-scheme","dark-color-scheme"].includes(e))(i)&&e({type:"SET_COLOR_THEME",payload:i}),i||null},fetchDataTypes:RE,fetchAboveFeedBannerData:e=>(e=>function(t){return Cd({bannerType:e,dispatch:t}).then((e=>{const{status:n,data:r}=e;if(200===n&&r&&r.securities){const{securities:e}=r;t({type:"ADD_SECURITIES_DESCRIPTIONS",payload:e});const{securityIds:n,securitySymbols:i}=(e=>{const t=[],n=[];return e.forEach((e=>{t.push(e.id),n.push(e.symbol)})),{securityIds:t,securitySymbols:n}})(e);return{ok:!0,data:{securityIds:n,securitySymbols:i}}}{if(!r)return{ok:!1,message:"Something went wrong. Please try again."};const{error_message:e}=r;return{ok:!1,message:e}}}))})(e),getIsMarketOpen:FE,fetchEmailInviteCopy:()=>function(e){return xd({dispatch:e}).then((t=>{const{status:n,data:r}=t;return 200===n?(e({type:"UPDATE_EMAIL_INVITE_COPY",payload:r.invite_email_text}),{ok:!0}):{ignoreError:!0}}))},getStaticCopy:()=>function(e){return wd({dispatch:e}).then((t=>{const{status:n,data:r}=t;return 200===n?(e({type:"UPDATE_STATIC_COPY",payload:r}),{ok:!0}):{error:!0}}))},registerAttributionIdentifiers:e=>(e=>bd(e).then((e=>{const{status:t}=e;return 200===t?{ok:!0}:{ignoreError:!0}})))(e),setSessionRiskId:e=>(e=>function(t){return t({type:"SET_SESSION_RISK_ID",payload:e}),null})(e),checkAskPermission:e=>(e=>function(t){return hg(e).then((n=>{const r=n&&n.data,i=n&&n.data&&n.data.warning?n.data.warning:null;if(r){const r="permitted"===n.data.status,i="error"===n.data.status,a=n.data.error;t({type:"UPDATE_ASK_PERMISSION",payload:{askData:e,isPermitted:r,isNotPermitted:i,isNotPermittedReason:a}})}return{ok:r,warning:i}}))})(e),sendAsk:e=>(e=>function(t){return pg(e).then((e=>({ok:e&&e.data&&e.data.asks&&Array.isArray(e.data.asks)&&e.data.asks.every((e=>!e.error)),warning:e&&e.data&&e.data.warning?e.data.warning:null,rawResponse:e})))})(e),logoutUser:()=>function(e){return mg().then((e=>(window.localStorage&&window.localStorage.removeItem("X-CSRF-Token"),sl.reset(),window.location="/app/login",e)))},fetchBanner:(e,t)=>function(e){return yg().then((t=>{if(t.data&&t.data.banner){const n=t.data.banner;n.status,e({type:"SHOW_BANNER",payload:{banner:n}})}return t}))},showBanner:e=>(e=>function(t){return t({type:"SHOW_BANNER",payload:{banner:e}}),e})(e),dismissBanner:()=>function(e){return e({type:"DISMISS_BANNER"}),_g()},fetchCollectives:()=>function(e){return Eg().then((t=>{if(t&&t.data&&t.data.collectives){const n=t.data.collectives;e({type:"ADD_COLLECTIVES",payload:{collectives:n}})}else console.error("Fetch collective failed");return t}))},fetchCollective:e=>(e=>function(t){return vg(e).then((e=>{if(e&&e.data&&e.data.users){const n=e.data.users;t({type:"ADD_COLLECTIVES",payload:{collectives:n}})}else console.error("Fetch collective failed");return e}))})(e),fetchCurrentUserQuickInfo:ME,refreshCurrentUserExternalPositionsInfo:e=>(e=>function(t){return t({type:"START_LOADING_EXTERNAL_POSITIONS_DATA"}),Sg(e).then((e=>{const n=e&&e.data;return n&&"user_id"in n?(t({type:"UPDATE_EXTERNAL_POSITIONS_DATA",payload:{portfolioData:n}}),{}):(Mk(["Error calling refreshCurrentUserExternalPositionsInfo()."]),{})}))})(e),fetchOptionsPositions:()=>function(e){return kg().then((t=>{const{data:n,status:r}=t;if(200===r){const t=Object.entries(n).filter((e=>{const[t,n]=e;return n.security_id})).map((e=>{const[t,n]=e;return o({id:t},n)}));return e({type:Nc,payload:t}),{ok:!0}}return{ok:!1,error:"Something went wrong"}}))},createOptionsPositions:e=>(e=>function(t){return Tg(e).then((e=>{const{data:t,status:n}=e;return 200===n?{ok:!0}:{ok:!1,error:"Something went wrong"}}))})(e),convertCurrentUserToLiveTrading:()=>function(e){e({type:"CONVERT_CURRENT_USER_TO_LIVE_TRADING"})},updateUserProperty:UE,refreshCurrentUserPositionsInfo:()=>function(e){return wg().then((t=>{if(t&&"users"in t&&1===t.users.length){const n=nm("currentUser","fromApi",t.users[0]),r=Bg(t);e({type:"UPDATE_PORTFOLIO_DATA",payload:{portfolioData:r}});const i=t.users[0].positions,a=Object.keys(i).map((e=>i[e])).map((e=>rm(e)));return e({type:"ADD_SECURITY_PRICE_DATA",payload:{securitiesPriceData:a}}),n}return console.error("User not authenticated."),{}}))},fetchEditUserProfilePage:()=>function(e){return Ig().then((t=>(t&&t.data?e({type:"ADD_EDIT_PROFILE_PAGE",payload:{page:t.data.partial}}):console.error("Something went wrong fetching page."),t)))},removeEditUserProfilePage:()=>function(e){e({type:"REMOVE_EDIT_PROFILE_PAGE"})},postSeenMarginCall:()=>function(e){return Ng()},changeColorScheme:$E,setCurrentUserSubscriber:()=>function(e){e({type:"SET_SUBSCRIBER"})},postAvatarUploadImage:e=>(e=>function(t){return Lg(e).then((e=>{const n=e&&e.data&&"success"===e.data.status,r=e&&e.data&&e.data.avatar_url;return n&&r?(t({type:"UPLOAD_AVATAR_IMAGE",payload:r}),{success:!0}):{error:"Could not upload avatar, please try again."}}))})(e),deleteAvatarUploadImage:()=>function(e){return Rg().then((t=>{const n=t&&t.data&&"success"===t.data.status,r=t&&t.data&&t.data.avatar_url;return n&&r?(e({type:"DELETE_AVATAR_IMAGE",payload:r}),{success:!0}):{error:"Could not delete avatar, please try again."}}))},changePassword:(e,t)=>((e,t)=>function(n){return Mg(e,t).then((e=>{if(e&&e.data){const t=e.data;return t.status&&"success"===t.status?{success:!0}:{error:e&&e.data&&e.data.error||"Something went wrong. Please try again.",status:"error"}}return{status:"error",error:"Something went wrong. Please try again."}}))})(e,t),changeEmail:(e,t)=>((e,t)=>function(n){return Fg(e,t).then((e=>{if(e&&e.data){const t=e.data;return t.status&&"success"===t.status?{success:!0}:{error:e&&e.data&&e.data.error||"Something went wrong. Please try again.",status:"error"}}return{status:"error",error:"Something went wrong. Please try again."}}))})(e,t),postAgreedToBDTerms:()=>function(e){return Dg().then((t=>t&&t.data&&t.data.status&&"success"===t.data.status?(e({type:"AGREE_TO_BD_TERMS"}),{success:!0}):{error:"Something went wrong. Please try again."}))},closeAccount:BE,startMembership:()=>function(e){return $g().then((t=>t&&t.data&&t.data.status&&"success"===t.data.status?(e({type:"START_MEMBERSHIP"}),{success:!0}):{error:"Something went wrong. Please try again."}))},resendRequiredDocsEmail:()=>function(e){return Ug().then((e=>e&&e.data&&e.data.status&&"success"===e.data.status?{success:!0}:{error:e&&e.data&&e.data.error||"Something went wrong. Please try again later."}))},getDocuments:e=>(e=>function(t){return _y(e).then((e=>e&&e.data?e.data:{error:"Something went wrong, try again."}))})(e),logErrorEvent:zE,getFooterPartial:()=>function(e){return vy().then((t=>{t&&t.data&&t.data.partial?e({type:"ADD_FOOTER_PARTIAL",payload:t.data.partial}):e({type:"FOOTER_LOAD_ERROR"})}))},incrementHorizontalListPage:()=>function(e){e({type:"INCREMENT_HORIZONTAL_LIST"})},decrementHorizontalListPage:()=>function(e){e({type:"DECREMENT_HORIZONTAL_LIST"})},resetHorizontalListPage:()=>function(e){e({type:"RESET_HORIZONTAL_LIST"})},fetchHistoryTransactionData:VE,fetchHistoryEquityData:()=>function(e){return e({type:"GET_HISTORY_EQUITY_DATA"}),Hy().then((t=>{t&&t.data&&t.data.equity_history?e({type:"ADD_HISTORY_EQUITY_DATA",payload:t.data}):console.error("Something went wrong attempting to load equity history data")}))},fetchHistoryPortfolioMetricsData:e=>(e=>function(t){return Wy(e).then((e=>{if(e&&e.data)return e.data;console.error("Something went wrong attempting to load portfolio metrics data")}))})(e),cancelFundingTransaction:HE,getIdeasForSecurity:WE,getIdeasForUsers:e=>(e=>function(t){return t({type:"LOADING_IDEAS_FOR_USER",payload:e}),xy(e).then((n=>{if(n&&n.data&&n.data.ideas){const r=n.data.ideas;t({type:"ADD_USER_IDEAS",payload:{ideas:r,ids:e}})}}))})(e),getIdeas:e=>(e=>function(t){return t({type:"LOADING_IDEAS",payload:e}),wy(e).then((e=>{if(e&&"ideas"in e){const n=e.ideas;t({type:"ADD_IDEAS",payload:n})}}))})(e),getCurrentUserIdeas:()=>function(e){return Sy().then((t=>{if(t&&t.data&&"ideas"in t.data){const n=t.data.ideas;e({type:"ADD_CURRENT_USER_IDEAS",payload:{ideas:n}});const r=n.map((e=>AS(e)));return qm(r)(e).then((e=>{const t=null==e?void 0:e.securities,n=[];(null==t?void 0:t.length)>0&&t.map((e=>{const t={id:e.id,symbol:e.symbol};n.push(t)})),n.length>0&&py.addSecurities(n)})),Km(r)(e),n}return t}))},fetchIdeas:jE,fetchCommunityIdeas:()=>function(){return Iy()},addIdea:GE,addIdeas:qE,copyIdea:(e,t)=>((e,t)=>function(n){const r=e.idea_id,i=AS(e);return t||n({type:"CURRENT_USER_CREATING_IDEAS",payload:[i]}),Py(r).then((e=>{if(Uy(e,n,(()=>{n({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:[i]})})))return e;dy(e);const r=e,a="error"===r.status,s=a&&"User already has an idea for this security. Send the idea_id to update it."===r.error?My("already_have"):"Please try again later.";if(!a)return n({type:"UPDATE_IDEA",payload:r}),t||n({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:[i]}),eC()(n),tC()(n),e;{const e={heading:My("add_error"),message:`Error message: ${s}`,size:"wide",icon:{className:"fa-exclamation-circle",color:"#ff7666",style:{fontSize:"22px",marginRight:"4px",paddingBottom:"4px"}},redirect:!1,dismissable:!0};t||n({type:"REMOVE_CURRENT_USER_CREATING_IDEAS",payload:[i]}),n({type:Fc,payload:e})}return e}))})(e,t),updateIdea:YE,removeIdea:KE,fetchSecurityIdFromIdeaId:e=>(e=>function(){return Ty(e).then((e=>e&&e.data?e.data.idea_securities:e))})(e),viewIdea:e=>(e=>function(){return by(e)})(e),deactivateIdea:e=>(e=>{const t={idea_id:e.idea_id,active:!1};return $y(t,e)})(e),reaffirmIdea:e=>(e=>function(t){const n=Math.round(jl().valueOf()/1e3),r=l(o({},e),{last_reaffirmed_at_timestamp:n});return t({type:"UPDATE_IDEA",payload:r}),Ry(e.idea_id).then((n=>{if(dy(n),n&&"error"!==n.status)return!0;{const n={contentComponent:bS("Idea could not be reaffirmed. Please try again later."),dismissable:!0,size:"wide"};return t({type:Fc,payload:n}),t({type:"UPDATE_IDEA",payload:e}),!1}}))})(e),fillCurrentUserWithETFIdeas:()=>By(),importIdeas:e=>function(e){Yy().then((t=>{if("ideas"in t){const n=t.ideas,r=n.filter((e=>"Buy"===e.idea_type)),i=n.filter((e=>"Sell"===e.idea_type));e({type:"ADD_SECURITIES",payload:[...n]}),e({type:"IMPORT_EXISTING_IDEAS",payload:[...n]}),rg(1,r),rg(-1,i)}}))},initializeIdeas:e=>(e=>function(t){t({type:"START_GENERATING_SUGGESTIONS"}),Ky(e).then((n=>{t({type:"INITIALIZE_SUGGESTIONS",payload:{suggestions:n.interest_suggestions,count:e}}),t({type:"END_GENERATING_SUGGESTIONS"})}))})(e),resetIdeas:()=>function(e){e({type:"RESET_IDEAS"})},refreshWell:()=>function(e){e({type:"REFRESH_WELL_BASED_ON_INTEREST"})},updateSuggestions:(e,t,n)=>((e,t,n)=>function(r){r({type:"INCREMENT_REQUEST_COUNT"}),r({type:"START_GENERATING_SUGGESTIONS"}),Qy(t,n).then((t=>{r({type:"ADD_SUGGESTIONS",payload:{id:e,ideas:t.interest_suggestions}}),r({type:"UPDATE_INTEREST_AND_SENTIMENT",payload:t.interest_suggestions}),r({type:"END_GENERATING_SUGGESTIONS"}),r({type:"REFRESH_WELL_BASED_ON_INTEREST"})}))})(e,t,n),makeSuggestion:e=>(e=>function(t){t({type:"MAKE_SUGGESTION",payload:e})})(e),dropIdea:(e,t)=>((e,t)=>function(n){n({type:"DROP_IDEA",payload:{idea:e,pile:t}})})(e,t),dismissIdea:e=>(e=>function(t){t({type:"DISMISS_IDEA",payload:e})})(e),completeExploration:(e,t)=>((e,t)=>function(n){let r=[],i=!1;Yy().then((a=>{if("ideas"in a&&(r=a.ideas,i=!0),i){let n={};for(let e=0;e<r.length;e++)n[r[e].security_id]=r[e].idea_id;let i=e.map((e=>n[AS(e)]+1>0?l(o({},e),{idea_id:n[AS(e)]}):o({},e)));Zy(i).then((e=>{t()}))}else n({type:Fc,payload:{heading:"Save Failed, Try Again!",icon:"fa fa-times failed-icon",dismissable:!0}})}))})(e,t),fetchImageFromURL:e=>Jy(e),getImportConnectionsPage:()=>function(e){return e({type:"LOADING_IMPORT_CONNECTIONS_PAGE"}),t_().then((t=>{if(t&&t.data&&t.data.partial){const n=t&&t.data&&t.data.partial;e({type:"ADD_IMPORT_CONNECTIONS_PAGE",payload:{partial:n}})}else e({type:Fc,payload:xS()});return t}))},removeImportConnectionsPage:()=>function(e){e({type:"REMOVE_IMPORT_CONNECTIONS_PAGE"})},getImportConnectionsNetworks:()=>function(e){return e({type:"LOADING_IMPORT_NETWORKS"}),n_().then((t=>{if(t&&t.data&&t.data.networks){const n=t.data.networks;e({type:"ADD_IMPORT_NETWORKS",payload:{networks:n}})}else e({type:Fc,payload:xS()});return t}))},getImportContacts:()=>function(e){return e({type:"LOADING_IMPORT_CONTACTS"}),r_().then((t=>{if(t&&t.data){const n=t&&t.data,r=n.users,i=n.contacts;e({type:Hc,payload:{users:r}}),e({type:"ADD_IMPORT_CONTACTS",payload:{registeredUsers:r,nonregisteredUsers:i}})}else e({type:Fc,payload:xS()});return t}))},showInfoIconModal:QE,hideInfoIconModal:ZE,getRiskProfiles:()=>{return function(t){return a_(e).then((e=>{if(e.data){const n=e.data.risk_profiles;t({type:"ADD_AVAILABLE_RISK_PROFILES",payload:{riskProfiles:n}})}else console.error("Request to populate risk profiles failed.");return e}))};var e},getInvestmentObjectiveSettings:()=>function(e){return s_().then((t=>{if(t.data){const n=t.data;return e({type:"ADD_INVESTMENT_OBJECTIVE_SETTINGS",payload:{investmentObjectiveSettings:n}}),t.data}return{error:"Unable to get investment objective settings"}}))},saveInvestmentObjectiveSettings:e=>(e=>function(t){return t({type:"UPDATE_INVESTMENT_OBJECTIVE_SETTINGS",payload:{investmentObjectiveSettings:e}}),o_(e).then((e=>e))})(e),saveToAppStorage:e=>(e=>function(t){t({type:"SAVE_APP_STORAGE",payload:e})})(e),removeKeyAppStorage:e=>(e=>function(t){t({type:"REMOVE_KEY_APP_STORAGE",payload:e})})(e),addKarmaPoints:e=>(e=>function(t){return t({type:"ADD_KARMA_POINTS",payload:e}),!0})(e),updateLessonPreview:e=>(e=>function(t){t({type:v_,payload:e})})(e),fetchCompletedLearnLessons:()=>function(e){return c_({dispatch:e}).then((t=>{const{status:n,data:r,errorMessage:i}=t;if(200===n){const{completed_lessons:t,completed_lessons_with_more_params:n}=r;return e({type:y_,payload:n}),{ok:!0,data:r,errorMessage:i}}return{error:!0,data:r,errorMessage:i}}))},fetchAllLearnLessons:()=>{return function(t){return d_({data:{url:e},dispatch:t}).then((e=>{const{status:n,data:r,errorMessage:i}=e;if(200===n){const{lessons:e}=r;return t({type:__,payload:e}),{ok:!0,data:r,errorMessage:i}}return{error:!0,data:r,errorMessage:i}}))};var e},fetchNextLearnLesson:XE,postLearnLessonProgress:JE,postRecurringInvestmentChartData:eb,getLesson:tb,createRecurringDeposit:nb,updateRecurringDeposit:e=>{return t=e,function(e){return U_.updateRecurringDeposit({dispatch:e,data:t}).then((e=>{const{status:t,data:n,errorMessage:r}=e;return 200===t?{ok:!0}:{error:!0,errorMessage:n&&n.error?n.error:r}}))};var t},cancelRecurringDeposit:rb,createBankAccountNotice:(e,t)=>((e,t)=>function(n){n({type:"CLEAR_FUNDING_FORM_NOTICE"}),n({type:"CREATE_BANK_ACCOUNT_NOTICE",payload:{id:e,message:t.message,style:t.style}})})(e,t),clearBankAccountNotice:e=>{return t=e,function(e){e({type:"CLEAR_BANK_ACCOUNT_NOTICE",payload:{id:t}})};var t},removeFundingAccountNotice:()=>function(e){e({type:"CLEAR_FUNDING_FORM_NOTICE"})},getDepositPickerAmounts:ib,getLiveTradingAccount:ab,submitLiveTradingSignUpForm:sb,updateLiveTradingAccount:e=>(e=>{const t=nm("liveTrading","fromFront",e);return"social_security_number"in t&&t.social_security_number&&t.social_security_number.length>0&&Pk(t.social_security_number)&&delete t.social_security_number,function(n){return U_.updateLiveTradingAccount(t).then((t=>(n({type:"LIVE_TRADING_SUBMIT_STATUS",payload:t}),t&&"Account updates were successfully submitted."===t.message&&n({type:"LIVE_TRADING_ACCOUNT_UPDATE",payload:e}),t)))}})(e),getBankAccounts:ob,getUserAvailableFunds:lb,removeBankAccount:cb,submitAddBankAccountForm:db,linkAccountWithPlaid:ub,patchInstantLinkBankAccount:hb,startLinkingAccountWithPlaid:()=>function(e){e({type:"CLEAR_FUNDING_FORM_NOTICE"}),e({type:"START_LINKING_PLAID_ACCOUNT"})},cancelLinkingAccountWithPlaid:()=>function(e){e({type:"CANCEL_LINKING_PLAID_ACCOUNT"})},verifyBankAccount:pb,postPaperTransfer:mb,depositFunds:gb,withdrawFunds:yb,sendBankAccountTransaction:(e,t,n)=>((e,t,n)=>{const r=nm("funding","fromFront",t);return function(i){return i({type:"CLEAR_FUNDING_FORM_NOTICE"}),U_.sendBankAccountTransaction(e,r,n).then((n=>{if(!n)return{error:!0,errorMessage:"Something went wrong, please try again later."};const{public_token:r,error:a,warning:s,message:c,reward:d}=n;if(s){let e={error:!0,errorMessage:"Something went wrong, please try again later."};return n&&n.warning&&(e={warning:!0,errorMessage:n.warning}),e}if(!a){let n=c,r={};const a=[$_.FUNDING_PROMO_CASH_15_FOR_100,$_.FUNDING_PROMO_CASH_20_FOR_20,$_.FUNDING_PROMO_CASH_50_FOR_1000],s=d&&a.includes(d.reward_type),u=d&&d.is_card_flip;s&&(n=`You'll get the $${B_(d.reward_amount,"int")} reward when the deposit completes. ${n}`);const{funding_operation:h,amount:p}=t;return i({type:"TRANSACTION_ACCEPTED",payload:{transactionType:h===`From ${Xo}`?"withdrawal":"deposit",amount:parseFloat(p)}}),i({type:"CREATE_BANK_ACCOUNT_NOTICE",payload:{id:e,message:n,style:"success"}}),u&&(r=l(o({},r),{gotoFundingRewardRedemption:!0,depositSuccessMessage:c})),l(o({},r),{success:!0,ok:!0})}{const t=a||"Something went wrong, please try again later.",n=r;return"Please reauthenticate with your financial institution."===t?{error:!0,reauthPlaid:!0,plaidAccountToken:n,errorMessage:t}:(i({type:"CREATE_BANK_ACCOUNT_NOTICE",payload:{id:e,message:t,style:"error"}}),{error:!0,errorMessage:t})}})).catch((t=>{gy(t)();const n="Something went wrong, please try again later.";return i({type:"CREATE_BANK_ACCOUNT_NOTICE",payload:{id:e,message:n,style:"error"}}),console.error(t),{error:!0,errorMessage:n}}))}})(e,t,n),getFundingRewardAmount:_b,postFundingRewardAmount:fb,getLiveAccountDocumentationRequirements:()=>U_.getLiveAccountDocumentationRequirements().then((e=>e&&e.data&&!e.error?{ok:!0,data:e.data}:{error:"Something went wrong"})),submitLiveAccountDocument:vb,fetchFurtherDocumentationStatus:Eb,showModal:bb,hideModal:Cb,confirmModal:()=>function(e){e({type:"CONFIRM_MODAL"})},forceUndockVerticalNav:()=>function(e){e({type:"FORCE_UNDOCK_VERTICAL_NAV"})},releaseForceUndockVerticalNav:()=>function(e){e({type:"RELEASE_FORCE_UNDOCK_VERTICAL_NAV"})},toggleAlwaysOpenVerticalNav:()=>function(e){e({type:"TOGGLE_ALWAYS_OPEN_VERTICAL_NAV"})},toggleVerticalNav:()=>function(e){e({type:"TOGGLE_VERTICAL_NAV"})},showVerticalNav:xb,hideVerticalNav:wb,showSearchHeader:Sb,hideSearchHeader:kb,fetchNews:e=>(e=>{const t=Array.isArray(e.securityIds)?e.securityIds:[e.securityIds],n=t[0],r={};return t.forEach((e=>{r[e]=null})),function(r){return r({type:"ADD_LOADING_STATE_FOR_NEWS",payload:{securityId:n}}),X_(e).then((e=>{if(e.data){const t=e.data.news[0]||[];r({type:"ADD_NEWS",payload:{securityId:n,newsData:t}})}else{const e="Something went wrong. Please try again later",n={};t.forEach((t=>{n[t]=e})),r({type:"ADD_ERROR_STATE_FOR_NEWS",payload:{newsErrors:n}})}return e}))}})(e),fetchNewsImage:Tb,saveNewsOgo:(e,t)=>((e,t)=>function(n){const r=Kd(t);return n({type:"ADD_NEWS_IMAGE",payload:{url:e,openGraphObject:r}}),!0})(e,t),clearNewsDataForSecurity:e=>(e=>function(t){return t({type:"CLEAR_NEWS_DATA_FOR_SECURITY",payload:{securityId:e}}),!0})(e),sendNewsViewEvent:Ib,sendNewsClickEvent:Nb,getUnseenNotificationsCount:Ab,getNotifications:e=>(e=>function(t){return pf(e).then((n=>{if(n&&n.data&&!("error"in n)){const r=n.data.notifications||[],i=[];r.filter((e=>"connection"===e.type)).forEach((e=>{e.connections&&e.connections.forEach((e=>i.push(e)))})),i.length>0&&t({type:Hc,payload:{users:i}});const a=r.filter((e=>["thought","thought_clean_style"].includes(e.type))),s=a.map((e=>e.data.thought.id)),o=Xd(a);t({type:"ADD_THOUGHTS",payload:o}),t({type:"ADD_EXCLUDE_THOUGHTS_SUGGESTIONS",payload:s});const l=r.filter((e=>"idea_action"===e.type)),c=jS(l);t({type:"ADD_IDEAS",payload:c}),t({type:"ADD_NOTIFICATIONS",payload:{notifications:r,page:e.page,batch_index:e.batch_index,didReturnNotifications:r.length>0}})}return n})).catch((e=>console.error("Something went wrong!",e)))})(e),getUpdatedNotifications:Pb,clearNotifications:e=>function(e){e({type:"CLEAR_NOTIFICATIONS"})},clearNewNotificationsAlertExpand:e=>function(e){e({type:"CLEAR_NEW_NOTIFICATIONS_ALERT_EXPAND"})},postUpdatedLastSeenNotificationTime:Db,fetchPerformanceRankingNotificationData:Ob,endOnboarding:Lb,getOrdersV1:Rb,createAndPlaceOrderV1:Fb,placeOrdersV1:Mb,deleteOrderV1:Ub,createOrderV1:$b,updateOrderInCartV1:Bb,deleteAllOrdersV1:zb,createOrders:(e,t)=>ov(e,t),clearOrderBasket:Vb,getOrders:Hb,createAndPlaceOrder:Wb,placeOrders:jb,addOrderToBasket:e=>(e=>function(t){return ov([e])(t)})(e),updateOrderInBasket:e=>(e=>function(t){return Lf(e).then((e=>{if(e&&e.data&&"updated"===e.data.status){const n=e.data;return t({type:"UPDATE_ORDER",payload:{updatedOrder:n}}),l(o({},e),{wasSuccessful:!0})}return l(o({},e),{wasError:!0})}))})(e),cancelPlacedOrder:e=>(e=>function(t){return Ff(e).then((e=>(e&&e.data&&"canceled"===e.data.status&&e.data,e)))})(e),deleteOrder:e=>(e=>function(t){return t({type:"DELETE_ORDER",payload:e}),Rf(e).then((n=>n&&n.data&&n.data.status&&"deleted"===n.data.status?l(o({},n),{ok:!0}):(t({type:"UNDELETE_ORDER",payload:e}),l(o({},n),{error:"Something went wrong, please refresh and try again."}))))})(e),dismissDayTraderMessage:()=>function(e){return Uf().then((e=>e))},getOrderCommission:Gb,openRebalancerPanel:qb,closeRebalancerPanel:Yb,runRebalancer:Kb,createRebalancerOrders:Qb,openOptimizerPanel:Zb,closeOptimizerPanel:()=>(window.$("html, body").animate({scrollTop:0},300),function(e){e({type:"CLOSE_OPTIMIZER_PANEL"})}),runOptimizer:Xb,createOptimizedOrders:Jb,clearOptimizerCooldown:eC,getOptimizerAllocationConstraints:()=>function(e){return Cf().then((t=>{if(t.data){const n=t.data.optimize_constraints;e({type:"ADD_OPTIMIZER_ALLOCATION_CONSTRAINTS,",payload:{optimizeConstraints:n}})}return t}))},createOptimizerAllocationConstraints:e=>{return t=e,function(e){const n=l(o({},t),{loading:!0});return e({type:"CREATE_TEMPORARY_OPTIMIZER_ALLOCATION_CONSTRAINT,",payload:{optimizeConstraint:n}}),xf(t).then((t=>{{const n=t.data.optimize_constraints;e({type:"CREATE_OPTIMIZER_ALLOCATION_CONSTRAINT,",payload:{optimizeConstraint:n}})}return t}))};var t},updateOptimizerAllocationConstraints:e=>{return t=e,function(e){return e({type:"UPDATE_OPTIMIZER_ALLOCATION_CONSTRAINT,",payload:{optimizeConstraint:t}}),wf(t).then((e=>e))};var t},deleteOptimizerAllocationConstraint:e=>(e=>function(t){return t({type:"DELETE_OPTIMIZER_ALLOCATION_CONSTRAINT,",payload:{optimizerConstraintId:e}}),Sf(e).then((e=>{}))})(e),moveAllocationConstraintToTopOfList:e=>(e=>function(t){t({type:"MOVE_OPTIMIZER_ALLOCATION_CONSTRAINT_TO_TOP,",payload:{securityId:e}})})(e),refreshOptimizationData:tC,getANetKeys:nC,getSubscriptionConfig:rC,getSubscriptionData:iC,updateSubscriptionData:aC,sendAnetCreditCardPaymentTokenForSubscriptionPayment:(e,t)=>((e,t)=>dv.sendAnetCreditCardPaymentTokenForSubscriptionPayment(e,t))(e,t),cancelSubscription:sC,getPaymentSourcesData:e=>(e=>function(t){return dv.getPaymentSourcesData().then((n=>{if(n&&n.data&&n.data.payment_sources)return o({ok:!0},n.data);if(e&&e.ignoreError)return{error:!0};{const e={contentComponent:bS("Something went wrong. Please refresh and try again."),dismissable:!0,size:"wide"};return t({type:Fc,payload:e}),{error:!0,errorMessage:"Something went wrong. Please refresh and try again."}}}))})(e),sendAnetCreditCardPaymentTokenForPaymentSource:oC,showPlaidOverlay:(e,t)=>((e={},t={})=>function(n){n({type:"SHOW_PLAID_OVERLAY",payload:o(o({},e),t)})})(e,t),hidePlaidOverlay:()=>function(e){e({type:"HIDE_PLAID_OVERLAY"})},getPlaidConfigFromApi:lC,getPlaidLinkToken:()=>mv(),linkInvestmentAccountWithPlaid:e=>(e=>_v(e))(e),deleteInvestmentAccountWithPlaid:e=>(e=>fv(e))(e),getPlaidInvestmentAccountLinkToken:e=>(e=>vv(e))(e),getPlaidInvestmentAccountPortfolioSync:e=>(e=>Ev(e))(e),getPlaidInvestmentConfigFromApi:()=>yv(),fetchUserPortfolio:cC,addSecurityToPortfolioExplorer:e=>(e=>function(t){t({type:"ADD_SECURITY_TO_PORTFOLIO_EXPLORER",payload:e})})(e),getFilterSelectionOptions:()=>function(e){const t=[];return t.push(Pv().then((e=>e&&e.data?{connections:e.data.connections.filter((e=>!(e.is_private||e.is_on_waitlist)))}:{connections:[]}))),t.push(Dv()),t.push(Sv()),Promise.all(t).then((t=>{const n={};return t.forEach((e=>{if(e){const t=Object.keys(e);return n[t[0]]=e[t]}return null})),"connections"in n&&e({type:"ADD_CONNECTIONS",payload:n.connections}),"thought_leaders"in n&&e({type:"ADD_THOUGHT_LEADERS",payload:n.thought_leaders}),e({type:"GET_FILTER_SELECTIONS",payload:n}),n}))},filterSecurities:(e,t,n)=>((e,t,n)=>function(r){return r({type:"START_FILTERING_LOADING"}),kv(e,t).then((e=>{const t=e.map((e=>e.security_id));return r({type:"FILTER_SECURITIES",payload:{securityIds:t,counter:n}}),r({type:"END_FILTERING_LOADING"}),t}))})(e,t,n),getRewardsData:dC,prepareFundingReward:uC,redeemFundingReward:()=>function(e){return eE().then((t=>{if(t&&t.data){const n=t.data;return e({type:"RECEIVED_FUNDING_REWARD_REDEMPTION",payload:n}),{ok:!0,data:n}}return{ok:!1}}))},prepareReferralReward:hC,redeemReferralReward:()=>function(e){return nE().then((t=>{if(t&&t.data){const n=t.data;return e({type:"RECEIVED_REFERRAL_REWARD_REDEMPTION",payload:n}),{ok:!0,data:n}}return{ok:!1}}))},lockAppScroll:()=>function(e){e({type:"LOCK_APP_SCROLL"})},unlockAppScroll:()=>function(e){e({type:"UNLOCK_APP_SCROLL"})},querySecurities:pC,clearQuery:()=>function(e){e({type:"CLEAR_QUERY"})},quickFetchSecuritiesData:mC,fetchSecuritiesFundamentalsData:gC,fetchSecuritiesPriceData:yC,fetchAndReturnSecuritiesPriceData:_C,fetchSecuritiesOrderPriceData:fC,findSecuritiesMatchingFilters:vC,viewSecurity:e=>(e=>function(t){return kd(e).then((e=>e))})(e),fetchSimilarCompanies:e=>(e=>function(t){return Dd(e).then((e=>e&&"data"in e&&e.data?e.data:(console.error("Could not get companies to suggest."),{similar_securities:[]})))})(e),getFilteredSecurities:EC,getStocksYouMayBeInterestedIn:bC,getUpcomingEarningsAnnouncements:CC,fetchSecuritiesPriceHistoryData:xC,updateLivePrices:wC,getSecuritiesPriceStreamConfig:()=>Ld().then((e=>e&&e.data?o({},e.data):{error:!0})),savePriceStreamUpdate:e=>(e=>function(t){t({type:"STREAMING_PRICES_UPDATE",payload:e})})(e),addSecuritiesToPriceStreaming:(e,t)=>((e,t)=>function(n){n({type:"ADD_ADDITIONAL_STREAMING_SECURITY",payload:{ids:e,symbols:t}})})(e,t),updateTourStep:(e,t)=>((e,t)=>function(t){return t({type:"UPDATE_TOUR_DATA",payload:{tour_step:e}}),Pg({tour_step:e},!0).then((e=>(e&&e.status,e&&"updated"===e.status)))})(e),endTour:e=>function(e){return e({type:"UPDATE_TOUR_DATA",payload:{is_on_tour:!1}}),Pg({is_on_tour:!1},!0).then((e=>(e&&e.status,e)))},restartTour:SC,createThought:e=>(e=>function(t){return oE(e).then((e=>{var n;if(!e||200!==e.status||!(null==(n=e.data)?void 0:n.thoughts))return{error:!0};{const n=e.data.thoughts[0];if(!(n&&n.id>0))return{error:!0,thoughtsWithErrors:[n]};t({type:"CREATE_THOUGHT",payload:{thought:n}})}return e}))})(e),fetchThoughts:e=>{return t=e,Array.isArray(t)?function(e){return e({type:"LOADING_THOUGHTS_FOR_SECURITY",payload:t}),cE(t).then((n=>{if(n&&n.data&&"thoughts"in n.data){const r=n.data.thoughts,i={};r.forEach((e=>{const t=e.security_id;i[t]?i[t].push(e):i[t]=[e]}));const a=t.map((e=>({securityId:e,thoughts:i[e]})));e({type:"ADD_THOUGHTS",payload:a})}return n}))}:(console.error("security_ids should be an array of security ids"),!1);var t},sendThoughtOpinion:(e,t,n)=>yE(e,t,n),getThoughtData:e=>(e=>function(t){return lE(e).then((e=>{if(!e||!e.data)return e;const n=e.data,r=n.security_id;return t({type:"ADD_THOUGHTS",payload:[{securityId:r,thoughts:[n]}]}),e}))})(e),getThoughtFeedSuggestion:e=>(e=>function(t){return uE(e).then((e=>{if(e&&e.data&&e.data.thoughts&&e.data.thoughts.length>0){const n=e.data.thoughts,r=n[0];t({type:"ADD_THOUGHTS",payload:[{thoughts:n,securityId:r.security_id}]}),t({type:"TRACK_SUGGESTED_THOUGHT",payload:r.id})}return e}))})(e),sendThoughtViewEvent:(e,t,n,r)=>_E(e,t,n,r),sendThoughtClickEvent:kC,logMetricsTrackingEvent:TC,fetchAllViewpointData:IC,subscribeToViewpoint:NC,cancelViewpointSubscription:AC,fetchMutualConnections:PC,emailMeAppDownloadLink:DC,getUser:OC,getUserConnections:LC,getUserIdeaPerformances:e=>(e=>function(t){return t({type:"LOADING_USERS_IDEA_PERFORMANCES",payload:{userIds:e}}),Nv(e).then((e=>{if(e&&!e.error){const n=e.data.users;t({type:"ADD_USERS_PERFORMANCES",payload:{users:n}})}return e}))})(e),removeConnection:RC,getCurrentUserConnections:()=>SE(),fetchThoughtLeaders:FC,fetchTopConnections:MC,fetchPeopleYouMayKnow:()=>function(e){return Lv().then((t=>{if(t&&t.data&&t.data.users){const n=t.data.users,r=n.map((e=>e.user_id)),i=t.data.suggestions.filter((e=>r.includes(e.user_id)));e({type:Hc,payload:{users:n}}),e({type:"ADD_PEOPLE_YOU_MAY_KNOW",payload:{usersYouMayKnow:i}})}else{const t={contentComponent:bS("Something went wrong. Please refresh and try again."),dismissable:!0,size:"wide"};e({type:Fc,payload:t})}}))},getPendingConnectionRequestUsers:()=>function(e){return jv().then((t=>{if(t&&t.data&&t.data.users){const n=t.data.users;e({type:Hc,payload:{users:n}}),e({type:"COMPLETE_LOADING_PENDING_CONNECTIONS"})}}))},sendConnectionRequest:UC,acceptConnectionRequest:$C,ignoreConnectionRequest:(e,t)=>((e,t)=>function(n){return n({type:"IGNORE_CONNECTION_REQUEST",payload:{connectUserId:e}}),Mv(e,t).then((t=>((!t||t.error||t.data&&t.data.error||"success"!==t.data.status)&&n({type:"IGNORE_CONNECTION_REQUEST_FAILED",payload:{connectUserId:e}}),t)))})(e,t),viewProfile:BC,viewViewpointOrgProfile:zC,viewSuggestedConnection:(e,t)=>((e,t)=>(e.map((e=>zv(e,t))),{type:"IGNORE"}))(e,t),dismissConnectionSuggestion:(e,t)=>((e,t)=>function(n){return"Clicked"===t&&n({type:"HIDE_CONNECTION_SUGGESTION",payload:{dismissUserId:e}}),Uv(e,t)})(e,t),queryUsers:e=>(e=>function(t){return t({type:"QUERY_USERS",payload:e}),Vv(e).then((n=>{if(n&&n.data&&n.data.users){const r=n.data.users,i=n.data.users.map((e=>e.user_id));return t({type:Hc,payload:{users:r}}),t({type:"USERS_QUERY_RESULTS",payload:{query:e,results:i}}),{ok:!0,users:n.data.users}}return{error:!0}}))})(e),sendUserInvite:(e,t,n)=>((e,t,n)=>function(r){return Hv(e,t,n).then((e=>e))})(e,t,n),fetchAnnualMembershipEligibility:VC,startAnnualMembership:HC});const jC=u.button`
  cursor: ${e=>e.disabled?"not-allowed":"pointer"};
  user-select: none;
  box-shadow: none;
  transition: background-color 300ms, color 300ms;

  border-radius: 6px;
  width: ${e=>e.width?e.width:"auto"};
  height: auto;
  padding: 12px 24px;
  white-space: nowrap;

  * {
    font-family: ${({theme:e})=>el.bold};
    font-size: 12px;
    line-height: 14px;
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }
`,GC=e=>{const{children:t}=e,n=yl(e);return c.createElement(jC,l(o({},e),{onClick:n}),t)},qC=d`
  & > svg {
    width: 20px;
    height: 20px;
  }
`,YC=u.div`
  box-sizing: border-box;
  display: inline-block;
  vertical-align: middle;
  overflow: visible;
  margin: 12px 24px;
  width: 60px;
  height: 60px;
  & > svg {
    width: 45px;
    height: 45px;
  }

  & > svg {
    display: block;
    overflow: visible;
    
    * {
      animation-name: spin-cycle;
    }
  }

  ${e=>e.isSmall?qC:""};

  @keyframes spin-cycle {
    from {
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
      transform: scale(1);
    }
    to {
      fill: rgba(255, 255, 255, 0);
      transform: scale(1);
    }
  }

  & > svg > * {
    transform: translate3d(0, 0, 0);
    transform-origin: center;
    animation-iteration-count: infinite;
    fill: rgba(255, 255, 255, 0.2);
    animation-duration: 0.8s;
  }
  & > svg > *:nth-of-type(8) {
    -webkit-animation-delay: 0.1s;
    animation-delay: 0.1s;
  }
  & > svg > *:nth-of-type(7) {
    -webkit-animation-delay: 0.2s;
    animation-delay: 0.2s;
  }
  & > svg > *:nth-of-type(6) {
    -webkit-animation-delay: 0.3s;
    animation-delay: 0.3s;
  }
  & > svg > *:nth-of-type(5) {
    -webkit-animation-delay: 0.4s;
    animation-delay: 0.4s;
  }
  & > svg > *:nth-of-type(4) {
    -webkit-animation-delay: 0.5s;
    animation-delay: 0.5s;
  }
  & > svg > *:nth-of-type(3) {
    -webkit-animation-delay: 0.6s;
    animation-delay: 0.6s;
  
  & > svg > *:nth-of-type(2) {
    -webkit-animation-delay: 0.7s;
    animation-delay: 0.7s;
  }
  & > svg > *:nth-of-type(1) {
    animation-delay: 0.8s;
  }
`;function KC({isDarkMode:e,isSmall:t,isAlt:n}){return c.createElement(YC,{isDarkMode:e,isSmall:t},c.createElement("svg",{viewBox:"156 -189 512 512"},c.createElement("path",{d:"M636 99h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64c17.7 0 32 14.3 32 32S653.7 99 636 99z"}),c.createElement("path",{d:"M547.8-23.5C535.2-11 515-11 502.5-23.5s-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L547.8-23.5z"}),c.createElement("path",{d:"M412-61c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444-75.3 429.7-61 412-61z"}),c.createElement("path",{d:"M276.2-23.5L231-68.8c-12.5-12.5-12.5-32.8 0-45.2s32.8-12.5 45.2 0l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2S288.8-11 276.2-23.5z"}),c.createElement("path",{d:"M284 67c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64C269.7 35 284 49.3 284 67z"}),c.createElement("path",{d:"M276.2 248c-12.5 12.5-32.8 12.5-45.2 0 -12.5-12.5-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L276.2 248z"}),c.createElement("path",{d:"M412 323c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444 308.7 429.7 323 412 323z"}),c.createElement("path",{d:"M547.8 157.5l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2 -12.5 12.5-32.8 12.5-45.2 0l-45.2-45.2c-12.5-12.5-12.5-32.8 0-45.2S535.2 145 547.8 157.5z"})))}const QC=u.div`
  & button {
    background: none !important;
    color: ${({theme:e})=>e.themeColors.text};
  }
`,ZC=u.div`
  & button {
    background: none !important;
    border: none !important;
  }

  span {
    font-size: 12px;
    line-height: 14px;
  }
`,XC=u.span`
  display: inline-block;
  margin-right: 8px;

  i {
    font-size: 14px;
  }
`,JC=u.span`
  div {
    height: 15px;
    width: 15px;

    margin: 0 8px 0 -1px;
  }

  svg {
    height: 15px;
    width: 15px;
  }
`,ex=e=>{const{isRefreshing:t,onClick:n}=e;return t?c.createElement(ZC,null,c.createElement(GC,{disabled:!0,height:"36px",width:"112px",padding:"4px 0",onClick:n},c.createElement(Jr,{hAlign:"center",vAlign:"center"},c.createElement(JC,null,c.createElement(KC,{isSmall:!0})),c.createElement("span",{style:{display:"inline-block"}},"Refreshing")))):c.createElement(QC,null,c.createElement(GC,{height:"36px",width:"112px",padding:"4px 0",border:"none",onClick:n,style:{whiteSpace:"nowrap",border:"none"}},c.createElement("div",{style:{width:"112px",textAlign:"left"}},c.createElement(XC,null,c.createElement("i",{className:"fa fa-refresh",style:{fontFamily:"FontAwesome"}})),c.createElement("span",{style:{display:"inline-block",paddingBottom:"1px"}},"Refresh"))))},tx={nvstrRewardCardFront:"nvstrRewardCardFront",nvstrRewardCardBack:"nvstrRewardCardBack",nvstrReferralRewardProbability:"nvstrReferralRewardProbability",nvstrRewardValueColor:"nvstrRewardValueColor",nvstrRedeemableRewardCard:"nvstrRedeemableRewardCard",nvstrRedeemableRewardCardStripe:"nvstrRedeemableRewardCardStripe",rewardsIconColor:"rewardsIconColor",statusBarColor:"statusBarColor",statusBarContent:"statusBarContent",eyeCatchingActionButton:"eyeCatchingActionButton",bgColor:"bgColor",bgAccentColor:"bgAccentColor",bgBorderShadow:"bgBorderShadow",darkThemeBgColor:"darkThemeBgColor",componentBg:"componentBg",componentBgFullOpacity:"componentBgFullOpacity",componentBgHighlight:"componentBgHighlight",launchBg:"launchBg",disabledBg:"disabledBg",overlayBg:"overlayBg",eyeCatchingBgTextColor:"eyeCatchingBgTextColor",eyeCatchingBg:"eyeCatchingBg",eyeCatchingBgShadow:"eyeCatchingBgShadow",primaryTextColor:"primaryTextColor",dropdownItemColor:"dropdownItemColor",lightThemePrimaryTextColor:"lightThemePrimaryTextColor",darkThemePrimaryTextColor:"darkThemePrimaryTextColor",secondaryTextColor:"secondaryTextColor",inactiveTextColor:"inactiveTextColor",headingTextColor:"headingTextColor",thoughtBannerTextColor:"thoughtBannerTextColor",coloredBgTextColor:"coloredBgTextColor",eyeCatchingTextColor:"eyeCatchingTextColor",labelTextColor:"labelTextColor",inputTextColor:"inputTextColor",inputActiveTextColor:"inputActiveTextColor",errorTextColor:"errorTextColor",warningTextColor:"warningTextColor",placeholderTextColor:"placeholderTextColor",primaryDropdownTextColor:"primaryDropdownTextColor",communityCountAvatarBgColor:"communityCountAvatarBgColor",borderAccent:"borderAccent",tableBorder:"tableBorder",darkerBorderAccent:"darkerBorderAccent",inputBorderAccent:"inputBorderAccent",infoIcon:"infoIcon",counterBgColor:"counterBgColor",counterTextColor:"counterTextColor",communityAvatarBg:"communityAvatarBg",defaultAvatarBg:"defaultAvatarBg",defaultAvatarText:"defaultAvatarText",headerNavBg:"headerNavBg",navBarBg:"navBarBg",navBarBgShadow:"navBarBgShadow",navBarBottomBorder:"navBarBottomBorder",headerNavItemColor:"headerNavItemColor",activeFooterNavItemColor:"activeFooterNavItemColor",inactiveFooterNavItemColor:"inactiveFooterNavItemColor",cardShadow:"cardShadow",increaseColor:"increaseColor",decreaseColor:"decreaseColor",neutralColor:"neutralColor",buyColor:"buyColor",sellColor:"sellColor",ctlBannerBg:"ctlBannerBg",thoughtBubbleColor:"thoughtBubbleColor",thoughtEmbeddedLinkBgColor:"thoughtEmbeddedLinkBgColor",thoughtBannerIconColor:"thoughtBannerIconColor",proColor:"proColor",conColor:"conColor",agreeColor:"agreeColor",disagreeColor:"disagreeColor",increaseColorDark:"increaseColorDark",decreaseColorDark:"decreaseColorDark",moneyColor:"moneyColor",successColor:"successColor",successHighlight:"successHighlight",successContrast:"successContrast",failureColor:"failureColor",fireColor:"fireColor",primaryBtnColor:"primaryBtnColor",primaryBtnTextColor:"primaryBtnTextColor",secondaryBtnColor:"secondaryBtnColor",secondaryBtnTextColor:"secondaryBtnTextColor",primaryBtnColorAlt:"primaryBtnColorAlt",disabledBtnTextColor:"disabledBtnTextColor",disabledBtnColor:"disabledBtnColor",feedFilterTagBg:"feedFilterTagBg",feedFilterTagText:"feedFilterTagText",linkColor:"linkColor",linkColorAlt:"linkColorAlt",linkColorLowContrast:"linkColorLowContrast",searchIconColor:"searchIconColor",chartAxisColor:"chartAxisColor",loadingIcon:"loadingIcon",refreshIndicatorIOS:"refreshIndicatorIOS",blueGreenGradient:"blueGreenGradient",haloGradient:"haloGradient",modalTrayBg:"modalTrayBg",modalTrayActionRowBg:"modalTrayActionRowBg",warning:"warning",inputBg:"inputBg",inputIconColor:"inputIconColor",frameColor:"frameColor",topFrameColor:"topFrameColor",bottomFrameColor:"bottomFrameColor",darkThemeTopFrameColor:"darkThemeTopFrameColor",darkThemeBottomFrameColor:"darkThemeBottomFrameColor",toggleSwitchTrackToggledOn:"toggleSwitchTrackToggledOn",toggleSwitchTrackToggledOff:"toggleSwitchTrackToggledOff",depositPickerButtonBg:"depositPickerButtonBg",depositPickerButtonText:"depositPickerButtonText",depositPickerSelectedButtonBg:"depositPickerSelectedButtonBg",depositPickerSelectedButtonTextColor:"depositPickerSelectedButtonTextColor",white:"white",transparent:"transparent",forceCharcoal:"forceCharcoal"},nx=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};

  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: none;
    border: ${({theme:e})=>"1px solid "+e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    fill: ${({theme:e})=>e.themeColors.primaryCtaButton};

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};

    * {
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }

    :hover {
      background: ${({theme:e})=>e.themeColors.primaryCtaButton};
      border: ${({theme:e})=>"1px solid "+e.themeColors.primaryCtaButton};
      color: ${({theme:e})=>e.themeColors.buttonText};
      fill: ${({theme:e})=>e.themeColors.buttonText};

      * {
        color: ${({theme:e})=>e.themeColors.buttonText};
        fill: ${({theme:e})=>e.themeColors.buttonText};
      }
    }
  }
`,rx=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};

  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: none;
    color: ${({color:e})=>e};
    border: 1px solid ${({color:e})=>e};

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};

    * {
      color: ${({textColor:e})=>e};
      fill: ${({textColor:e})=>e};
    }

    :hover {
      background: ${({color:e})=>e};
      border: 1px solid ${({color:e})=>e};
      color: ${({hoverTextColor:e})=>e};

      * {
        color: ${({hoverTextColor:e})=>e};
        fill: ${({hoverTextColor:e})=>e};
      }
    }
  }
`,ix=u.div`
  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: none;
    color: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
    fill: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
    border: 1px solid ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};

    * {
      color: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
      fill: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
    }

    :hover {
      background: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
      color: ${({theme:e})=>e.themeColors.buttonText};
      fill: ${({theme:e})=>e.themeColors.buttonText};
      border: 1px solid ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
      opacity: 0.8;

      * {
        color: ${({theme:e})=>e.themeColors.buttonText};
        fill: ${({theme:e})=>e.themeColors.buttonText};
      }
    }
  }
`,ax=u.div`
  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""}
    background: none;
    border: ${({theme:e})=>"1px solid "+e.themeColors.primaryCtaButton};
    color: ${({theme:e,color:t})=>t||e.themeColors.primaryCtaButton};

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};
    
    * {
      color: ${({theme:e,color:t})=>t||e.themeColors.primaryCtaButton};
    }

      opacity: 0.40;
    cursor: not-allowed;
  }

    :hover {
      cursor: not-allowed;
      opacity: 0.3;
    }
  }
`,sx=e=>{const{fullWidth:t,onClick:n,children:r,buttonProps:i,secondary:a,disabled:s,color:d,textColor:u,hoverTextColor:h,small:p}=e;return s?c.createElement(ax,{fullWidth:t,small:p},c.createElement(GC,l(o({type:"button",buttonType:_t.button_types.button},i),{onClick:n}),c.createElement("b",null,r))):a?c.createElement(ix,{fullWidth:t,small:p},c.createElement(GC,l(o({type:"button",buttonType:_t.button_types.button},i),{onClick:n}),c.createElement("b",null,r))):d?c.createElement(rx,{fullWidth:t,small:p,color:d,hoverTextColor:h},c.createElement(GC,l(o({type:"button",buttonType:_t.button_types.button,fullWidth:t},i),{onClick:n}),c.createElement("b",null,r))):c.createElement(nx,{fullWidth:t,small:p},c.createElement(GC,l(o({type:"button",buttonType:_t.button_types.button},i),{onClick:n}),c.createElement("b",null,r)))};sx.defaultProps={buttonProps:{}};const ox=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};

  ${jC} {
    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
      fill: ${({theme:e})=>e.themeColors.buttonText};
      line-height: 1;
    }
    ${({width:e})=>e?"width: "+e:""};
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: ${({theme:e})=>e.themeColors.primaryCtaButton};
    border: ${({theme:e})=>"1px solid "+e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
    fill: ${({theme:e})=>e.themeColors.buttonText};

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};

    :hover {
      opacity: 0.8;
    }
  }
`,lx=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};

  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: none;
    color: ${({theme:e,color:t})=>t||e.themeColors.text};
    fill: ${({theme:e,color:t})=>t||e.themeColors.text};
    border: none;

    ${({small:e,smallNoVert:t})=>t?"padding: 0px 8px":e?"padding: 4px 8px":""};

    * {
      fill: ${({theme:e,color:t})=>t||e.themeColors.text};
      color: ${({theme:e,color:t})=>t||e.themeColors.text};
      line-height: 1;
    }

    :hover {
      opacity: 0.8;
    }
  }
`,cx=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};

  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: ${({color:e})=>e};
    border: 1px solid ${({color:e})=>e};
    * {
      color: ${({textColor:e})=>e};
      line-height: 1;
    }
    :hover {
      opacity: 0.8;
    }
  }
`,dx=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
  
  ${jC} {
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""};
    background: ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
    color: ${({theme:e})=>e.colorTheme[tx.primaryBtnTextColor]};
    border:  1px solid ${({theme:e})=>e.colorTheme[tx.primaryTextColor]};
    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
      line-height: 1;
    }
    :hover {
      opacity: 0.8;
    }
`,ux=u.div`
  ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""}
    
  ${jC} {
    width: ${({width:e})=>e||"auto"};
    ${({fullWidth:e})=>e?"width: 100%; max-width: 380px;":""}
    background: ${({theme:e,transparent:t})=>t?"none":e.themeColors.primaryCtaButton};
    border: ${({theme:e,transparent:t})=>t?"none":"1px solid "+e.themeColors.primaryCtaButton};
    color: ${({theme:e,transparent:t,color:n})=>t?n||e.themeColors.text:n||e.themeColors.buttonText};
    * {
      color: ${({theme:e,transparent:t,color:n})=>t?n||e.themeColors.text:n||e.themeColors.buttonText};
      fill: ${({theme:e,transparent:t,color:n})=>t?n||e.themeColors.text:n||e.themeColors.buttonText};
      line-height: 1;
    }
    opacity: 0.45;
    cursor: not-allowed;

    :hover {
      cursor: not-allowed;
      opacity: 0.4;
    }
  }
`,hx=e=>{const{className:t,children:n,buttonProps:r,secondary:i,color:a,textColor:s,disabled:d,transparent:u,fullWidth:h,width:p,small:m,smallNoVert:g}=e,y=e.onClick||e.handleClick;return d?c.createElement(ux,{transparent:u,width:p,fullWidth:h},c.createElement(GC,l(o({className:t||"",type:"button",buttonType:_t.button_types.button,fullWidth:h},r),{onClick:y}),c.createElement("b",null,n))):u?c.createElement(lx,{color:a,fullWidth:h,small:m,smallNoVert:g},c.createElement(GC,l(o({className:t||"",type:"button",buttonType:_t.button_types.button,fullWidth:h},r),{onClick:y}),c.createElement("b",null,n))):i?c.createElement(dx,{fullWidth:h},c.createElement(GC,l(o({className:t||"",type:"button",buttonType:_t.button_types.button,fullWidth:h},r),{onClick:y}),c.createElement("b",null,n))):a?c.createElement(cx,{color:a,textColor:s,fullWidth:h},c.createElement(GC,l(o({className:t||"",type:"button",buttonType:_t.button_types.button,fullWidth:h},r),{onClick:y}),c.createElement("b",null,n))):c.createElement(ox,{width:p,fullWidth:h,small:m,smallNoVert:g},c.createElement(GC,l(o({className:t||"",type:"button",buttonType:_t.button_types.button,fullWidth:h},r),{onClick:y}),c.createElement("b",null,n)))};hx.defaultProps={buttonProps:{}};const px=u.div`
  height: ${e=>e.width-1}px;

  svg {
    position: relative;
    top: 0;
    line-height: 1;
  }

  g {
    fill: ${e=>e.isDarkMode?vr.secondary.white:vr.primary.charcoal};
  }
`,mx=({isDarkMode:e,width:t})=>c.createElement(px,{isDarkMode:e,width:t},c.createElement("svg",{width:t,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",null,c.createElement("path",{d:"M12.3327 1.34163L11.1577 0.166626L6.49935 4.82496L1.84102 0.166626L0.666016 1.34163L5.32435 5.99996L0.666016 10.6583L1.84102 11.8333L6.49935 7.17496L11.1577 11.8333L12.3327 10.6583L7.67435 5.99996L12.3327 1.34163Z"})))),gx=u.span`
  & g {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,yx=({width:e})=>{const t=e/(17/18);return c.createElement(gx,null,c.createElement("svg",{width:e,height:t||e,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",null,c.createElement("path",{d:"M7.66602 4.83342H9.33268V6.50008H7.66602V4.83342ZM7.66602 8.16675H9.33268V13.1667H7.66602V8.16675ZM8.49935 0.666748C3.89935 0.666748 0.166016 4.40008 0.166016 9.00008C0.166016 13.6001 3.89935 17.3334 8.49935 17.3334C13.0993 17.3334 16.8327 13.6001 16.8327 9.00008C16.8327 4.40008 13.0993 0.666748 8.49935 0.666748ZM8.49935 15.6667C4.82435 15.6667 1.83268 12.6751 1.83268 9.00008C1.83268 5.32508 4.82435 2.33341 8.49935 2.33341C12.1743 2.33341 15.166 5.32508 15.166 9.00008C15.166 12.6751 12.1743 15.6667 8.49935 15.6667Z"}))))},_x=u.svg`
  path {
    ${({color:e,theme:t})=>"text"===e?`fill: ${t.themeColors.text};`:""};
  }
`,fx=({textColor:e})=>{const t=e?"text":"auto";return c.createElement(_x,{color:t,width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("g",null,c.createElement("path",{d:"M30 0C13.44 0 0 13.44 0 30C0 46.56 13.44 60 30 60C46.56 60 60 46.56 60 30C60 13.44 46.56 0 30 0ZM24 45L9 30L13.23 25.77L24 36.51L46.77 13.74L51 18L24 45Z",fill:"#353432"})))},vx=({color:e})=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M20,2A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H6L2,22V4C2,2.89 2.9,2 4,2H20M4,4V17.17L5.17,16H20V4H4M6,7H18V9H6V7M6,11H15V13H6V11Z"})),Ex=({color:e})=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M7,10L12,15L17,10H7Z",fill:e})),bx=({color:e})=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M7,15L12,10L17,15H7Z",fill:e})),Cx=({color:e})=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M19,13H5V11H19V13Z",fill:e})),xx=({color:e})=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{fill:e,d:"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"})),wx=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z"})),Sx=u.div`
  ${jC} {
    padding: 4px;
    background: none;
    border: none;
  }
`,kx=({onClick:e})=>c.createElement(Sx,null,c.createElement(GC,{onClick:e},c.createElement(mx,{width:"18px"}))),Tx=e=>{const t=e.name,n=e.label,r=e.getValue(t)||"";e.style;const i=e.errorAction,a=!!e.getErrorMessage(t),s=a?e.getErrorMessage(t):"",o=e.isFocused(t),l=!!r&&r.length>0||r>=0||r<=0||o,d=!!e.focusNote&&o,u=e.getFocusNote(t),h=e.customClass,p=e.prefix,m=e.suffix,g=!e.hideErrors,y=e.silentErrorCheck(t,r);return c.createElement("div",{className:`${h||"generic-input"}`},c.createElement("fieldset",{className:""+("small"===e.size?"field-small":"")},d&&c.createElement("div",{className:"focus-note eye-catching-bg"},u),c.createElement("div",{className:"parent-wrapper"},c.createElement("textarea",{type:"text",name:t,autoFocus:e.autoFocus,onFocus:()=>{e.handleFocus(t),e.createWarningsForInput(t,e),$("[name*='"+t+"']")[0]&&$("[name*='"+t+"']")[0].classList.contains("ignore-input-warnings")&&$("[name*='"+t+"']")[0].classList.remove("ignore-input-warnings")},onBlur:(n,i)=>{if(e.blockingErrors&&(a||y))return e.manualValidation(t,r),$("[name*='"+t+"']")[0].focus(),!1;if(n&&n.nativeEvent.relatedTarget&&"input-warning-dismiss-button"===n.nativeEvent.relatedTarget.id)return!1;if(e.saveOnChange){const n={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:r};e.saveOnChange(n)}e.handleBlur(r,t),"additionalBlurAction"in e&&e.additionalBlurAction()},onChange:n=>{e[e.handleChangeFunc](n,t,null,e.inputWarningProps,e.validateAfterChange)},placeholder:e.placeholder||"",value:r}),l&&c.createElement("div",{className:"input-prefix"},p),l&&c.createElement("div",{className:"input-suffix"},m)),n&&c.createElement("label",{htmlFor:n,className:l?"text-field-lifted-label":""},n),e.showUnderline&&c.createElement("div",{className:"after "+(a&&!o?"error-underline":"")}),g&&(e.popOutErrorMessage?!!a&&c.createElement("div",{className:"generic-input-error-container"},c.createElement("div",{className:"generic-input-error-arrow"}),c.createElement("div",{className:"generic-input-error-content"},s),i&&c.createElement("div",{className:"generic-input-error-action-container"},c.createElement(hx,{id:e.errorAction.id,onClick:e.errorAction.handleClick},e.errorAction.text))):c.createElement("p",{className:"text-field-error-message"},s))))},Ix=u.div`
  .toggle-left {
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
  }
  .toggle-right {
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
  }

  .toggle-left.thought-type-toggle {
    color: ${({theme:e})=>e.themeColors.proColor};
    border: 1px solid ${({theme:e})=>e.themeColors.proColor};
    border-right: 0.75px solid ${({theme:e})=>e.themeColors.border};
  }
  .toggle-right.thought-type-toggle {
    color: ${({theme:e})=>e.themeColors.conColor};
    border: 1px solid ${({theme:e})=>e.themeColors.conColor};
    border-left: 0.75px solid ${({theme:e})=>e.themeColors.border};
  }
  .toggle-left.thought-type-toggle.toggle-active {
    color: ${({theme:e})=>e.themeColors.buttonText};
    border-color: ${({theme:e})=>e.themeColors.proColor};
    background-color: ${({theme:e})=>e.themeColors.proColor};
  }
  .toggle-right.thought-type-toggle.toggle-active {
    color: ${({theme:e})=>e.themeColors.buttonText};
    border-color: ${({theme:e})=>e.themeColors.conColor};
    background-color: ${({theme:e})=>e.themeColors.conColor};
  }

  .toggle-left:hover {
    opacity: 0.8;
    background-color: ${({theme:e})=>e.themeColors.proColor};
    color: ${({theme:e})=>e.themeColors.buttonText} !important;
  }
  .toggle-right:hover {
    opacity: 0.8;
    background-color: ${({theme:e})=>e.themeColors.conColor};
    color: ${({theme:e})=>e.themeColors.buttonText} !important;
  }
`,Nx=e=>{function t(e,t,n,r){if("object"==typeof t){const r=n[e];return null!==r&&null!==t&&r.id===t.id?"toggle-active":""}if(n&&n.length>0){return("string"==typeof n[e]?n[e].toLowerCase():n[e])===("string"==typeof t?t.toLowerCase():t)?"toggle-active":""}return("string"==typeof r[e]?r[e].toLowerCase():r[e])===("string"==typeof t?t.toLowerCase():t)?"toggle-active":""}const n=e.name,r=e.getValue(n),i=e.selectionValues,a=e.values;function s(t,n){return"object"==typeof e.getValue(t)?()=>{if(e.handleToggleClick(t,a[n]),e.saveOnChange){const r={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:a[n]};e.saveOnChange(r)}$(".idea-value").blur()}:a&&a.length>0?()=>{if(e.handleToggleClick(t,a[n]),e.saveOnChange){const r={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:a[n]};e.saveOnChange(r)}$(".idea-value").blur()}:()=>{if(e.handleToggleClick(t,i[n]),e.saveOnChange){const r={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:i[n]};e.saveOnChange(r)}$(".idea-value").blur()}}const o=!!e.getErrorMessage(n)?e.getErrorMessage(n):"";return c.createElement(Ix,null,c.createElement("div",{className:"toggle-container"},c.createElement("div",{className:"toggle-switch-container"},c.createElement("div",{className:"toggle-switch"},c.createElement("div",{className:`toggle-left ${t(0,r,a,i)} ${e.selectionValuesClass||""}`,onClick:s(n,0)},i[0]),c.createElement("div",{className:`toggle-right ${t(1,r,a,i)} ${e.selectionValuesClass||""}`,onClick:s(n,1)},i[1])),c.createElement("p",{className:"text-field-error-message"},o))))},Ax=u.div`
  margin-right: 8px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 16px;
    width: 16px;

    path {
      opacity: 0.6;
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Px=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Dx=({message:e})=>c.createElement(Px,null,c.createElement(Ax,null,c.createElement(na,null)),c.createElement(Px,null,c.createElement(Ei,{isSmall:!0,isLowContrast:!0},e))),Ox=u.div`
  max-width: ${({maxWidth:e})=>e||"95%"};
  width: ${({width:e})=>e||"800px"};
  position: relative;
  margin: 12px auto;
  padding: ${({noPadding:e})=>e?"0px":" 16px 24px"};
  border-radius: 5px;
  text-align: left;
  cursor: default;

  background: ${({theme:e,transparentBackground:t})=>t?"transparent":e.screenSize===Vr?e.themeColors.componentNoOpacity:e.themeColors.component};
  color: ${({theme:e})=>e.themeColors.text};

  ${({expandHeight:e})=>e?"flex: 0 1 auto; display: flex; justify-content: center; height: unset;":""}
  min-height: ${({minHeight:e})=>e||"min-content"};
  height: ${({height:e})=>e||"min-content"};

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    margin-top: 0;
    margin-bottom: 0;
    border-radius: 0;

    max-width: ${({width:e})=>e||"100%"};
    width: 100%;
    height: ${({expandHeight:e,height:t})=>t||(e?"calc(100vh - 64px)":"unset")}; // 64px === nav height
    max-height: ${({expandHeight:e})=>e?"800px":"unset"}; // 64px === nav height

    ${({theme:e,mobileTransparentBackground:t})=>t&&e.screenSize===Vr?"background: "+e.themeColors.componentNoOpacity+";":""};
  }

  @media (max-width: 430px) {
    padding: ${({noPadding:e})=>e?"0px":" 16px"};
  }
  @media (max-width: 340px) {
    padding: ${({noPadding:e})=>e?"0px":" 8px"};
  }
`,Lx=e=>{const{children:t}=e;return c.useEffect((()=>{window.$(window)[0].scrollTo(0,0,100)}),[]),c.createElement(Ox,o({},e),t)},Rx=u.div`
  position: relative;
  padding: ${({noPadding:e})=>e?"0px":"16px 24px"};
  border-radius: 5px;
  text-align: left;
  cursor: default;
  overflow: ${({hasTable:e,overflow:t,overflowHidden:n})=>n?"hidden":t?"visible":"auto"};

  max-width: ${({width:e})=>e||"800px"};

  background: ${({theme:e,transparentBackground:t})=>t?"transparent":e.themeColors.component};
  color: ${({theme:e})=>e.themeColors.text};

  @media (max-width: 500px) {
    max-width: 100%;
    width: 100%;
    margin: 0;
  }
  @media (max-width: 390px) {
    padding: ${({noPadding:e})=>e?"0px":"16px"};
  }
  @media (max-width: 340px) {
    padding: ${({noPadding:e})=>e?"0px":"8px"};
  }
`,Fx=e=>{const{children:t}=e;return c.createElement(Rx,o({},e),t)},Mx=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;
`,Ux=u.div`
  flex: 1;
  padding: 16px 24px;
  border-radius: 5px;
  text-align: left;
  cursor: default;
  overflow: hidden; // card should not have scroll

  background: ${({theme:e,transparentBackground:t})=>t?"transparent":e.themeColors.component};
  color: ${({theme:e})=>e.themeColors.text};

  ${({height:e})=>e?`height: ${e};`:""};

  margin-right: 16px;

  &:last-child {
    margin-right: 0;
  }

  @media (max-width: 390px) {
    padding: 16px;
  }
  @media (max-width: 340px) {
    padding: 8px;
  }
`,$x=({items:e,cardProps:t={}})=>c.createElement(Mx,null,e.map(((e,n)=>c.createElement(Ux,o({key:n},t),e)))),Bx=u.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  overflow: hidden; // card should not have scroll

  background: ${({theme:e})=>Fk(vr.primary.charcoal,.6)};
  color: ${({theme:e})=>e.themeColors.text};

  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;

  z-index: 10000;
`,zx=e=>{const{children:t,restrictDismiss:n,onDismiss:r}=e;return c.createElement(Bx,{onClick:()=>{n||r&&r()}},t)},Vx=u.div`
  position: relative;
  padding: 16px 24px;
  margin: 16px;
  border-radius: 5px;
  text-align: left;
  cursor: default;
  overflow: hidden; // card should not have scroll

  max-width: ${({width:e})=>e||"800px"};

  background: ${({theme:e})=>e.themeColors.componentNoOpacity};
  color: ${({theme:e})=>e.themeColors.text};

  @media (max-width: 390px) {
    padding: 16px;
  }
  @media (max-width: 340px) {
    padding: 8px;
  }
`,Hx=e=>{const{children:t,restrictDismiss:n,onDismiss:r}=e;return c.createElement(zx,o({},e),c.createElement(Vx,{onClick:e=>{e.stopPropagation()}},t))},Wx=({top:e,bottom:t,left:n,right:r,children:i,center:a})=>c.createElement("div",{style:{paddingTop:`${e||0}px`,paddingBottom:`${t||0}px`,paddingLeft:`${n||0}px`,paddingRight:`${r||0}px`,textAlign:a?"center":"left",lineHeight:1}},i),jx=(e={})=>{const{minusHeaderNavbar:t}=e,[n,r]=c.useState(null==window?void 0:window.innerHeight),[i,a]=c.useState(null==window?void 0:window.innerWidth),s=c.useCallback((e=>{const i=t?e-wl:e;n!==i&&r(i)}),[n]),o=c.useCallback((e=>{i!==e&&a(e)}),[i]);return c.useEffect((()=>{const e=()=>{s(null==window?void 0:window.innerHeight),o(null==window?void 0:window.innerWidth)};return e(),window.$(window).on("resize",e),()=>window.$(window).off("resize",e)}),[]),{height:n,width:i}},Gx=u.div`
  position: relative;
  text-align: left;
  cursor: default;

  min-height: ${({minHeight:e})=>e||"unset"};
  max-height: ${({maxHeight:e})=>e||"unset"};
  background: ${({theme:e})=>e.themeColors.appBackground};

  display: flex;

  ${({centerContent:e})=>e?"\n    display: flex;\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n  ":""}

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    min-height: ${({height:e})=>e||"100vh"};
    max-width: 100%;
    width: 100%;
  }
`,qx=({children:e,centerContent:t,maxHeight:n})=>{const{height:r,width:i}=jx({minusHeaderNavbar:!0});return c.createElement(Gx,{centerContent:t,minHeight:`${r||0}px`,maxHeight:n},e)},Yx=u.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-start;
  row-gap: 16px;
`,Kx=u.div`
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,Qx=({text:e})=>c.createElement(Yx,{style:{maxWidth:240,width:"100%"}},c.createElement(Kx,null,c.createElement($i,{width:16})),c.createElement(Wx,{left:8},c.createElement(Ei,null,e))),{LineHeight:Zx,LetterSpacing:Xx,FontSize:Jx,FontWeight:ew,FontFamily:tw,FontStyle:nw,Opacity:rw,Color:iw,TextAlign:aw,TextTransform:sw,UserSelect:ow,Padding:lw,Margin:cw,Cursor:dw}=fr,uw=u.span`
  box-sizing: border-box;
  line-height: 160%;

  ${e=>e.lineHeight?Zx:""};
  ${e=>e.letterSpacing?Xx:""};
  ${e=>e.fontSize?Jx:""};
  ${e=>e.fontWeight?ew:""};
  ${e=>e.fontStyle?nw:""};

  ${e=>e.opacity?rw:""};

  ${e=>e.textAlign?aw:""};
  ${e=>e.textTransform?sw:""};
  ${e=>e.userSelect?ow:""};
  ${e=>e.cursor?dw:""};

  ${e=>e.color?iw:""};
  * {
    color: inherit;
  }

  font-family: ${({bold:e,thin:t})=>e?el.normal:t?el.thin:el.bold};
`,hw=e=>{const{isLowContrast:t,isSmall:n,isLarge:r,fontSettings:i,uppercase:a,center:s,bold:l,thin:d,children:u}=e,h=c.useContext(m),{screenSize:p}=h,g=!n&&!(p===Vr)||r?i.standard:i.small,y=t?.8:1,_={};return a&&(_.textTransform="uppercase"),s&&(_.textAlign="center"),l?c.createElement(uw,o(o(o({className:"base-text",opacity:y},g),_),e),c.createElement("b",null,u)):c.createElement(uw,o(o(o({className:"base-text",opacity:y},g),_),e),u)},pw=e=>{const{children:t}=e;return c.createElement(hw,o({},e),t)},mw=e=>{const t=gi({fontSize:"12px",lineHeight:"14px",letterSpacing:"0.24px"},{fontSize:"12px",lineHeight:"14px",letterSpacing:"0.24px"});return c.createElement(hi,l(o({fontSettings:t,isLowContrast:!0},e),{thin:!0}),e.children)},gw=d`
  & > svg {
    width: 20px;
    height: 20px;
  }
`,yw=u.div`
  box-sizing: border-box;
  display: inline-block;
  
  & > svg {
    width: 45px;
    height: 45px;
  }

  & > svg {
    display: block;
    overflow: visible;
  }

  ${e=>e.isSmall?gw:""};

  @keyframes spin-cycle {
    from {
      fill: ${({theme:e,color:t})=>e.themeColors.primaryCtaButton};
      transform: scale(1);
    }
    to {
      fill: rgba(255, 255, 255, 0);
      transform: scale(1);
    }
  }
  
  @keyframes spin-cycle-charcoal {
    from {
      fill: ${({theme:e})=>e.colorPalette.primary.charcoal};
      transform: scale(1);
    }
    to {
      fill: rgba(255, 255, 255, 0);
      transform: scale(1);
    }
  }

  & > svg > * {
    transform: translate3d(0, 0, 0);
    transform-origin: center;
    animation-name: ${({theme:e,color:t})=>t?"spin-cycle-charcoal":"spin-cycle"};
    animation-iteration-count: infinite;
    fill: rgba(255, 255, 255, 0.2);
    animation-duration: 0.8s;
  }
  & > svg > *:nth-of-type(8) {
    -webkit-animation-delay: 0.1s;
    animation-delay: 0.1s;
  }
  & > svg > *:nth-of-type(7) {
    -webkit-animation-delay: 0.2s;
    animation-delay: 0.2s;
  }
  & > svg > *:nth-of-type(6) {
    -webkit-animation-delay: 0.3s;
    animation-delay: 0.3s;
  }
  & > svg > *:nth-of-type(5) {
    -webkit-animation-delay: 0.4s;
    animation-delay: 0.4s;
  }
  & > svg > *:nth-of-type(4) {
    -webkit-animation-delay: 0.5s;
    animation-delay: 0.5s;
  }
  & > svg > *:nth-of-type(3) {
    -webkit-animation-delay: 0.6s;
    animation-delay: 0.6s;
  
  & > svg > *:nth-of-type(2) {
    -webkit-animation-delay: 0.7s;
    animation-delay: 0.7s;
  }
  & > svg > *:nth-of-type(1) {
    animation-delay: 0.8s;
  }
`;function _w({isDarkMode:e,isSmall:t,color:n}){return c.createElement(yw,{isDarkMode:e,isSmall:t,color:n||null},c.createElement("svg",{viewBox:"156 -189 512 512"},c.createElement("path",{d:"M636 99h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64c17.7 0 32 14.3 32 32S653.7 99 636 99z"}),c.createElement("path",{d:"M547.8-23.5C535.2-11 515-11 502.5-23.5s-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L547.8-23.5z"}),c.createElement("path",{d:"M412-61c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444-75.3 429.7-61 412-61z"}),c.createElement("path",{d:"M276.2-23.5L231-68.8c-12.5-12.5-12.5-32.8 0-45.2s32.8-12.5 45.2 0l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2S288.8-11 276.2-23.5z"}),c.createElement("path",{d:"M284 67c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32s14.3-32 32-32h64C269.7 35 284 49.3 284 67z"}),c.createElement("path",{d:"M276.2 248c-12.5 12.5-32.8 12.5-45.2 0 -12.5-12.5-12.5-32.8 0-45.2l45.2-45.2c12.5-12.5 32.8-12.5 45.2 0s12.5 32.8 0 45.2L276.2 248z"}),c.createElement("path",{d:"M412 323c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32v64C444 308.7 429.7 323 412 323z"}),c.createElement("path",{d:"M547.8 157.5l45.2 45.2c12.5 12.5 12.5 32.8 0 45.2 -12.5 12.5-32.8 12.5-45.2 0l-45.2-45.2c-12.5-12.5-12.5-32.8 0-45.2S535.2 145 547.8 157.5z"})))}const fw=u.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 16px;

  > div:first-child {
    margin-right: 16px;
  }
`,vw=u.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 12px 16px;
  text-align: center;
`,Ew=u.div`
  padding-top: 2px;
`,bw=u.div`
  padding-top: 16px;
`,Cw=({message:e,vertical:t,color:n})=>{const r=gi({fontSize:"16px",lineHeight:"28px"},{fontSize:"20px",lineHeight:"28px"});return t?c.createElement(vw,null,c.createElement(_w,{color:n}),c.createElement(bw,null,c.createElement(pw,{color:n,fontSettings:r},e||"Loading..."))):c.createElement(fw,null,c.createElement(_w,{color:n}),c.createElement(Ew,null,c.createElement(pw,{color:n,fontSettings:r},e||"Loading...")))},xw=u.div`
  text-align: center;
`,ww=u.div`
  text-align: center;
  padding-top: 8px;
  opacity: 0.8;
`,Sw=({message:e})=>c.createElement(zx,null,c.createElement(xw,null,c.createElement("div",null,c.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#ccc"},c.createElement("g",{fill:"none",fillRule:"evenodd"},c.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},c.createElement("circle",{strokeOpacity:".8",cx:"18",cy:"18",r:"18"}),c.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"500ms",repeatCount:"indefinite"})))))),e&&c.createElement(ww,null,c.createElement(Ei,{thin:!0,color:vr.primary.oak},e)))),kw=e=>`${e}px`,Tw=({name:e,horizontal:t,vertical:n,all:r,top:i,bottom:a,left:s,right:l,style:d,children:u})=>{let h={};return r&&(h.paddingLeft=kw(r),h.paddingRight=kw(r),h.paddingTop=kw(r),h.paddingBottom=kw(r)),t&&(h.paddingLeft=kw(t),h.paddingRight=kw(t)),n&&(h.paddingTop=kw(n),h.paddingBottom=kw(n)),i&&(h.paddingTop=kw(i)),a&&(h.paddingBottom=kw(a)),s&&(h.paddingLeft=kw(s)),l&&(h.paddingRight=kw(l)),c.createElement("div",{name:e,style:o(o({},h),d)},u)},Iw=e=>{const{name:t,style:n,children:r,height:i,width:a,fullWidth:s,maxWidth:d,maxHeight:u,textCenter:h,gap:p,borderRadius:m,flex:g,flexWrap:y,centerAll:_,verticallyCenter:f,spaceBetween:v,spaceAround:E,row:b,column:C,relative:x,columnCenter:w,alignCenter:S,alignRight:k,background:T,border:I,borderBottom:N,zIndex:A,debugBorder:P}=e,D={};return T&&(D.backgroundColor=T),h&&(D.textAlign="center"),I&&(D.borderWidth=1,D.borderColor=I),P&&(D.borderWidth=1,D.borderStyle="solid",D.borderColor="string"==typeof P?P:"#e1a"),N&&(D.borderBottomWidth=1,D.borderBottomColor=N),p&&(D.gap=p),Kk(m)&&(D.borderRadius=m),Kk(g)&&(D.display="flex",D.flex=g),y&&(D.flexWrap="wrap"),Kk(i)&&(D.height=i),Kk(a)&&(D.width=a),s&&(D.width="100%"),Kk(d)&&(D.maxWidth=d),Kk(u)&&(D.maxHeight=u),Kk(A)&&(D.zIndex=A),C&&(D.display="flex",D.flexDirection="column"),_&&(D.display="flex",D.alignItems="center",D.justifyContent="center"),f&&(D.display="flex",D.flexDirection="row",D.alignItems="center"),w&&(D.display="flex",D.flexDirection="column",D.alignItems="center",D.justifyContent="flex-start"),S&&(D.display="flex",D.flexDirection="row",D.justifyContent="center"),b&&(D.display="flex",D.flexDirection="row"),k&&(D.flexDirection=C?"column":"row",D[C?"alignItems":"justifyContent"]="flex-end"),v&&(D.justifyContent="space-between"),E&&(D.justifyContent="space-around"),x&&(D.position="relative"),c.createElement(Tw,l(o({},e),{style:o(o({},D),n||{})}),r)},Nw=u.div`
  padding-top: 16px;
`,Aw=({children:e})=>c.createElement(Nw,null,e);function Pw({hideText:e,text:t}){return c.createElement(ai,null,c.createElement(KC,null),!e&&c.createElement(Iw,{style:{textAlign:"center"}},c.createElement(di,{fontSize:"14px"},t||"Loading...")))}const Dw=e=>{const{size:t,icon:n,hideLoadingText:r,flatTransparent:i}=e,a=e.marginRight||"0",s=e.className||"",o=e.style||{},l=`page-loading ${i?"":"component-bg"} ${s} ${e.flatStyle||i?"flat-page-loading-container":"page-loading-container"} ${i?"transparent-loading":""}`;return c.createElement("div",{className:l,style:o},c.createElement("div",null,n?c.createElement(_e,{size:t||"medium",icon:n,style:{marginRight:a,marginBottom:"10px"}}):c.createElement(Pw,{hideText:!0}),r?null:c.createElement("div",{className:"loading-text"},"Loading"),c.createElement("div",{className:"stretch-parent-height"})))},Ow=()=>c.createElement("span",{className:"news-image-container missing-image"},c.createElement("span",{className:"missing-image-icon-container"},c.createElement(xc,{icon:"fa-newspaper-o",colorClassName:"eye-catching-standalone-text-color",size:"supersize"})));var Lw=Object.defineProperty,Rw=(e,t,n)=>(((e,t,n)=>{t in e?Lw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Fw extends c.Component{constructor(e){super(e),Rw(this,"_createWindowResizeListener",(()=>{window.$(window).on("resize",this._forceUpdate)})),Rw(this,"_removeWindowResizeListener",(()=>{window.$(window).off("resize",this._forceUpdate)})),Rw(this,"_forceUpdate",(()=>{this.setState((e=>({updateCounter:e.updateCounter+1})))})),Rw(this,"_renderImage",(()=>this._isImageNotHTTPS({src:this._returnImgSrc()})?null:c.createElement("img",{ref:e=>this.Image=e,src:this._returnImgSrc(),className:"react-image",style:this._isImageLoaded()?this._returnImageStyling():{}}))),Rw(this,"_renderVideoButton",(()=>c.createElement(c.Fragment,null,c.createElement("div",{style:{position:"absolute",top:0,right:0,left:0,bottom:0,zIndex:1}},c.createElement("div",{className:"flex-center-child",style:{height:"100%",width:"100%"}},c.createElement("img",{src:"/app/assets/yt_icon_rgb.731cbb6f.png",alt:"youtube-logo",className:"youtube-logo",style:{height:"auto",width:"55px"}})))))),Rw(this,"_imageLoaded",(()=>{this.setState((e=>({isImageLoaded:!0})))})),Rw(this,"_isImageNotHTTPS",(e=>e.src.indexOf("https")<0)),Rw(this,"_attemptToGetHTTPSImage",(()=>{const e=this._returnImgSrc(),t="https"+e.slice(4,e.length),n=document.createElement("img");n.onload=()=>{this.setState((()=>({src:t}))),this._imageLoaded(),this._handleOnLoadComplete(),this.props.onHTTPSRetrySuccess&&this.props.onHTTPSRetrySuccess(t)},n.onerror=()=>{this.setState((()=>({didImageLoadFail:!0}))),this._handleOnLoadComplete()},n.src=t})),Rw(this,"_handleOnLoadComplete",(()=>{this.props.onLoad&&this.props.onLoad()})),Rw(this,"_handleImageLoad",(()=>{const e=this._returnImageNode();e&&(e.onload=()=>{this._saveOriginalImageSizeToState(e),this._imageLoaded(),this._handleOnLoadComplete()}),this._isImageNotHTTPS({src:this._returnImgSrc()})?this._attemptToGetHTTPSImage():this._handleOnLoadComplete()})),Rw(this,"_imageFailed",(()=>{this.setState((()=>({didImageLoadFail:!0})))})),Rw(this,"_handleImageLoadError",(()=>{this.props.handleImageLoadFailure&&this.props.handleImageLoadFailure()})),Rw(this,"_createImageLoadErrorHandler",(()=>{const e=this._returnImageNode();e&&(e.onerror=()=>{this._handleImageLoadError()})})),Rw(this,"_cancelImageOnload",(()=>{const e=this._returnImageNode();e&&(e.onload=()=>!1)})),Rw(this,"_isImageLoaded",(()=>this.state.isImageLoaded)),Rw(this,"_saveOriginalImageSizeToState",(e=>{const t=window.$(e),n=t.height(),r=t.width();this.setState((e=>({imgHeight:n,imgWidth:r})))})),Rw(this,"_returnOriginalSizeFromState",(()=>({height:this.state.imgHeight,width:this.state.imgWidth}))),Rw(this,"_returnOriginalImageAspectRatio",(()=>{const{width:e,height:t}=this._returnOriginalSizeFromState();return e/t})),Rw(this,"_returnMonitorContainerStyles",(()=>({display:"flex",alignItems:"center",justifyContent:"center"}))),Rw(this,"_returnImageNode",(()=>this.Image)),Rw(this,"_returnMonitorSize",(()=>{const e=this.Monitor,t=window.$(e);return{height:t.height(),width:t.width()}})),Rw(this,"_returnImageContainerSize",(()=>{const e=this.Monitor,t=window.$(e);return{height:t.height(),width:t.width()}})),Rw(this,"_returnParentClass",(()=>this.props.parentClass)),Rw(this,"_setParentHeight",(e=>{if(this._returnParentClass()){const t=window.$(this._returnImageNode());if(t[0]){const n=window.$(t).closest(this._returnParentClass());n[0]&&n.height(e)}}})),Rw(this,"_returnImageStyling",(()=>{const e=this._isUsingMaxHeight()?this._calcImageSizeAndPositionWithUnboundHeight():this._calcImageSizeAndPosition();this._isUsingMaxHeight()&&this._setParentHeight(e.height<this._returnMaxHeight()?e.height:this._returnMaxHeight());let t={};if("top"in e||"left"in e){t={position:"absolute",top:`${e.top||0}px`,left:`${e.left||0}px`}}return l(o({},t),{height:`${e.height}px`,width:`${e.width}px`})})),Rw(this,"_resizeImage",(()=>this.forceUpdate())),Rw(this,"_isImageLargerThanContainer",(()=>{const{width:e,height:t}=this._returnImageContainerSize(),{imgWidth:n,imgHeight:r}=this.state;return n>e||r>t})),Rw(this,"_isImageWiderThanContainer",(()=>{const{width:e}=this._returnImageContainerSize(),{imgWidth:t}=this.state;return t>e})),Rw(this,"_isImageTallerThanMaxHeight",(()=>{const{imgHeight:e}=this.state;return e>this._returnMaxHeight()})),Rw(this,"_returnContainerAspectRatio",(()=>{const{width:e,height:t}=this._returnImageContainerSize();return e/t})),Rw(this,"_calcMissingDimension",((e,t)=>"width"===Object.keys(e)[0]?e.width/t:e.height*t)),Rw(this,"_isWithinAspectRatioBuffer",(()=>{const e=this._returnContainerAspectRatio(),t=this._returnOriginalImageAspectRatio();return Math.abs(e-t)<=.33})),Rw(this,"_calcImageSizeAndPositionWithUnboundHeight",(()=>{const e=this._returnImageContainerSize().width,t=this._returnOriginalImageAspectRatio(),n=this._returnMaxHeight();if(this._isImageWiderThanContainer()){const r=e/t;return{height:r,width:e,top:r>n?(r-n)/2*-1:0,left:0}}{const{imgWidth:t,imgHeight:n}=this.state;return{height:n,width:t,top:0,left:e>t?(e-t)/2+"px":0}}})),Rw(this,"_calcImageSizeAndPosition",(()=>{const e=this._returnImageContainerSize(),t=this._returnContainerAspectRatio(),n=this._returnOriginalImageAspectRatio();if(!this._isImageLargerThanContainer()){const{imgWidth:e,imgHeight:t}=this.state;return{height:t,width:e}}if(n>t){if(this._isWithinAspectRatioBuffer()){const t=e.height,r=this._calcMissingDimension({height:t},n);return{left:-1*Math.abs((r-e.width)/2),height:t,width:r}}{const t=e.width;return{height:this._calcMissingDimension({width:t},n),width:t}}}if(this._isWithinAspectRatioBuffer()){const t=e.width,r=this._calcMissingDimension({width:t},n);return{top:-1*Math.abs((r-e.height)/2),height:r,width:t}}{const t=e.height;return{height:t,width:this._calcMissingDimension({height:t},n)}}})),Rw(this,"_isUsingMaxHeight",(()=>!nk(this._returnMaxHeight()))),Rw(this,"_returnMaxHeight",(()=>this.props.maxHeight)),Rw(this,"_returnImgSrc",(()=>this.state.src||this.props.src)),this.state={updateCounter:0,didImageLoadFail:!1,isImageLoaded:!1}}componentDidMount(){this._handleImageLoad(),this._createImageLoadErrorHandler(),this._createWindowResizeListener()}componentDidUpdate(e,t){if(!t.src&&this.state.src){const e=this._returnImageNode();this._saveOriginalImageSizeToState(e)}}componentWillUnmount(){this._cancelImageOnload(),this._removeWindowResizeListener()}render(){const{didImageLoadFail:e}=this.state,{renderPlaceholder:t,renderVideoButton:n}=this.props;return e?t?c.createElement(Ow,null):null:c.createElement("span",{className:"size-monitor",ref:e=>this.Monitor=e,style:this._returnMonitorContainerStyles()},n&&this._renderVideoButton(),this._renderImage())}}var Mw=Object.defineProperty,Uw=(e,t,n)=>(((e,t,n)=>{t in e?Mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $w extends c.PureComponent{constructor(e){super(e),Uw(this,"_returnDOMNode",(()=>this.DOMNode)),Uw(this,"_$returnDOMNode",(()=>window.$(this.DOMNode))),Uw(this,"_returnSizing",(()=>({height:this._getHeight(),width:this._getWidth()}))),Uw(this,"setSize",(()=>{const e=this._getHeight(),t=this._getWidth();this.setState((n=>{const{height:r,width:i}=n;return r!==e||i!==t?{height:e,width:t}:n}))})),Uw(this,"_getHeight",(()=>this._$returnDOMNode().height())),Uw(this,"_getWidth",(()=>this._$returnDOMNode().width())),this.state={height:0,width:0}}componentDidMount(){const{updateShortlyAfterMount:e}=this.props,t=this;e&&setTimeout((()=>{t.setSize()}),50),t.setSize(),window.addEventListener("resize",this.setSize)}componentWillUnmount(){window.removeEventListener("resize",this.setSize)}render(){const{height:e,width:t}=this.state,{className:n,children:r}=this.props;return c.createElement("div",{ref:e=>this.DOMNode=e,className:`measure-size-wrapper ${n}`},r(e,t))}}$w.defaultProps={className:""};var Bw=Object.defineProperty,zw=(e,t,n)=>(((e,t,n)=>{t in e?Bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Vw extends c.Component{constructor(e){super(e),zw(this,"_loadScript",(()=>{const{type:e}=this.props,t=this._returnURI(),n=document.createElement("script");n.src=t,n.async=!0,e&&(n.type=e),n.onload=()=>{this.handleOnLoad()},n.onerror=e=>{this.handleOnLoadFail(e)};const r=this.ScriptLoaderRef.current;r.parentNode.insertBefore(n,r)})),zw(this,"_returnURI",(()=>this.props.uri)),zw(this,"handleOnLoad",(()=>{this.props.onLoad()})),zw(this,"handleOnLoadFail",(()=>{this.props.onLoadFail()})),this.ScriptLoaderRef=c.createRef()}componentDidMount(){this._loadScript()}shouldComponentUpdate(){return!1}render(){return c.createElement("div",{ref:this.ScriptLoaderRef})}}var Hw=Object.defineProperty,Ww=(e,t,n)=>(((e,t,n)=>{t in e?Hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class jw extends c.PureComponent{render(){const{id:e,height:t,width:n,inPanel:r}=this.props;return r?c.createElement("div",{className:"video-player",style:{height:`${t}px`,width:`${n}px`}},c.createElement("div",{id:e})):c.createElement($w,null,((t,n)=>c.createElement("div",{className:"video-player",style:{height:`${t}px`,width:`${n}px`}},c.createElement("div",{id:e}))))}}class Gw extends c.PureComponent{constructor(e){super(e),Ww(this,"handleYouTubeApiLoad",(()=>{this.handleAPIReady()})),Ww(this,"handleYouTubeApiLoadFailure",(e=>{this.showError("Something went wrong. Please try again later.",e)})),Ww(this,"handleDismiss",(()=>{const e=this.props.location.pathname;this.props.navigate(e),this._logDismiss()})),Ww(this,"handleAPIReady",(()=>{const{videoId:e}=this.props,t=this;this._playbackIsDone=!1;try{t._player=new window.YT.Player(this._playerId,{height:t.HEIGHT,width:t.WIDTH,videoId:e,events:{onReady:t.onPlayerReady,onStateChange:t.onPlayerStateChange}})}catch(Gs){setTimeout(this.handleAPIReady,100)}})),Ww(this,"showError",((e,t)=>{const{navigate:n,dispatch:r}=this.props,i={contentComponent:bS(e),size:"wide",dismissable:!0};bb(i)(r),n(-1)})),Ww(this,"onPlayerReady",(e=>{const{autoPlay:t}=this.props;t&&e.target.playVideo()})),Ww(this,"onPlayerStateChange",(e=>{})),Ww(this,"_buildPlayerIdFromProps",(({thoughtId:e,videoId:t})=>`video-player-${e}-${t}-${Gl().valueOf()}`)),Ww(this,"_handleWindowResize",(()=>{const{windowHeight:e,windowWidth:t}=this.props,n=t-50;let r=Math.min(n,this.MAX_WIDTH);const i=n*this.ASPECT_RATIO;let a=i;i>e&&(a=e,r=a*this.REVERSE_ASPECT_RATIO),this.setVideoPlayerDims({height:a,width:r})})),Ww(this,"setVideoPlayerDims",(({height:e,width:t})=>{this.HEIGHT=e,this.WIDTH=t,this.setState((()=>({height:e,width:t})))})),Ww(this,"_logDismiss",(()=>{const{inPanel:e}=this.props;TC("Dismissed Video",{"In Panel":e})()})),Ww(this,"_logViewPanel",(()=>{const{inPanel:e}=this.props;TC("View Video",{"In Panel":e})()})),this._player=null,this.ASPECT_RATIO=.594,this.REVERSE_ASPECT_RATIO=1.6842,this.MAX_WIDTH=800,this.WIDTH=this.MAX_WIDTH,this.HEIGHT=this.MAX_WIDTH*this.ASPECT_RATIO,this._playerId=this._buildPlayerIdFromProps(e),this.state={height:this.HEIGHT,width:this.WIDTH}}componentDidMount(){this._logViewPanel(),this._handleWindowResize(),window.addEventListener("resize",this._handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this._handleWindowResize)}render(){const{inPanel:e}=this.props,{height:t,width:n}=this.state;return c.createElement("div",{className:"video-player-container",style:e?{}:{height:"100%",width:"100%"}},c.createElement(jw,{id:this._playerId,height:t,width:n,inPanel:e}),c.createElement(Vw,{uri:"https://www.youtube.com/iframe_api",onLoad:this.handleYouTubeApiLoad,onLoadFail:this.handleYouTubeApiLoadFailure}))}}var qw=T()(Gw),Yw=Object.defineProperty,Kw=(e,t,n)=>(((e,t,n)=>{t in e?Yw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Qw=u.div`
  text-align: center;
  padding-bottom: 16px;

  button {
    padding: 4px 16px;
  }
`;class Zw extends c.PureComponent{constructor(e){super(e),Kw(this,"handleYoutubeVideoClick",(e=>{const{openVideoInPanel:t}=this.props;if(Ck(e),t){const{navigate:e,location:t}=this.props,{url:n}=this._returnOgoProperties();e(`${t.pathname}${`?panel=video-player&videoId=${Lk(n)}&thoughtId=${this._returnThoughtId()}`}`)}else this.setState((()=>({renderAsVideoPlayer:!0})));this._logEventForThoughtLinkClick()})),Kw(this,"handleLinkClick",(e=>{Ck(e),this._logEventForThoughtLinkClick()})),Kw(this,"_renderLinkDescriptionBox",(()=>{const{url:e,title:t,domain:n}=this._returnOgoProperties();return c.createElement("span",{className:"link-preview-description-box"},c.createElement("span",{className:"link-preview-title secondary-heading-text-color"},t||e),c.createElement("span",{className:"link-preview-domain secondary-text-color"},n))})),Kw(this,"_renderImage",(()=>{const{renderAsVideoPlayer:e}=this.state,{url:t,imageLink:n}=this._returnOgoProperties(),r=!!t&&Ok(t);return n?c.createElement("span",{className:"thought-list-item-image",style:{maxHeight:"unset",height:"unset"}},e?c.createElement(qw,{videoId:Lk(t),thoughtId:this._returnThoughtId(),autoPlay:!0}):c.createElement(Fw,{src:n,onHTTPSRetrySuccess:this.updateImageSrc,parentClass:".thought-list-item-image",maxHeight:300,onLoad:this.handleOnLoad,renderVideoButton:r,renderPlaceholder:!0})):null})),Kw(this,"handleOnLoad",(()=>{this.props.onLoad&&this._isLoading&&this.props.onLoad()})),Kw(this,"_handleRemovePreviewImage",(()=>{this.props.handleRemovePreviewImage(),this._isLoading&&this.handleOnLoad()})),Kw(this,"_shouldRenderRemoveImageButton",(()=>this.props.handleRemovePreviewImage&&this._returnOgoProperties().imageLink&&this._returnOgoProperties().isImageHTTPS)),Kw(this,"_returnOgo",(()=>this.props.ogo)),Kw(this,"_isLinkEntered",(()=>!!this._returnOgo())),Kw(this,"_isImageHTTPS",(()=>this._returnOgo().image_link&&this._returnOgo().image_link.toLowerCase().includes("https"))),Kw(this,"_returnUrlFromOgo",(()=>this._returnOgo().original_link_url||this._returnOgo().url)),Kw(this,"_returnOgoProperties",(()=>({imageLink:this._returnOgo()?this._returnOgo().image_link:null,isImageHTTPS:!!this._returnOgo()&&this._isImageHTTPS(),url:this._returnOgo()?this._returnUrlFromOgo():null,title:this._returnOgo()?this._returnOgo().title:null,domain:(this._returnOgo()?this._returnOgo().domain:null)||Gd(this._returnUrlFromOgo())}))),Kw(this,"updateImageSrc",(e=>{this.props.updateImageSrc?this.props.updateImageSrc(e):console.warn("updateImageSrc prop not found on ThoughtLink, skipping HTTPS update")})),Kw(this,"_logEventForThoughtLinkClick",(()=>{const{dispatch:e}=this.props,{url:t}=this._returnOgoProperties(),n=o(l(o({},this._returnThoughtTrackingData()),{"Suggested Thought":this.props.isSuggestedThought,"Youtube Video":Ok(t)}),this._returnViewingContext());TC("Clicked Link On Thought",n)(),this._returnThoughtId()&&(_u("link",this._returnThoughtId(),this.props.viewingContext),kC(this._returnThoughtId(),"link",this.props.viewingContext,this.props.metadata,this.props.notificationIndex)(e))})),Kw(this,"_returnThoughtTrackingData",(()=>({"Thought Id":this._returnThoughtId(),"Thought Type":this.props.thoughtType,"Stock Symbol":this.props.stockSymbol,"Security ID":this.props.securityId}))),Kw(this,"_returnViewingContext",(()=>this.props.viewingContext?{Context:this.props.viewingContext}:{})),Kw(this,"_returnThoughtId",(()=>this.props.thoughtId)),this._isLoading=!0,this.state={renderAsVideoPlayer:!1}}componentDidMount(){(!this._isLinkEntered()||this._returnOgoProperties()&&!this._returnOgoProperties().url||this._returnOgoProperties()&&!this._returnOgoProperties().imageLink)&&this.handleOnLoad()}render(){const{loadingPreview:e}=this.props;if(!this._isLinkEntered())return null;if(e)return c.createElement(Dw,{icon:"fading-3balls",size:"small",pageName:"Link Preview",style:{background:"rgba( 0, 0, 0, 0 )",marginBottom:"15px"},flatStyle:!0});const{url:t}=this._returnOgoProperties();return t?Ok(t)?c.createElement("div",{className:"preview-link-anchor-tag"},c.createElement("div",{className:"span-block",style:{textDecoration:"none"},onClick:this.handleYoutubeVideoClick},c.createElement("span",{className:"link-preview-container",style:this.props.style||{}},this._renderImage(),this._renderLinkDescriptionBox()),this._shouldRenderRemoveImageButton()&&c.createElement(Qw,null,c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:this._handleRemovePreviewImage},"Remove Image")))):c.createElement("div",{className:"preview-link-anchor-tag"},c.createElement("a",{className:"span-block",href:this._returnOgoProperties().url,target:"_blank",rel:"no-follow noopener noreferrer",style:{textDecoration:"none"},onClick:this.handleLinkClick},c.createElement("span",{className:"link-preview-container",style:this.props.style||{}},this._renderImage(),this._renderLinkDescriptionBox())),this._shouldRenderRemoveImageButton()&&c.createElement(Qw,null,c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:this._handleRemovePreviewImage},"Remove Image"))):null}}var Xw=_c(T()(Zw)),Jw=Object.defineProperty,eS=(e,t,n)=>(((e,t,n)=>{t in e?Jw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const tS=u.div`
  position: relative;
  display: inline-block;
`,nS=u.span`
  svg {
    * {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`;class rS extends C.exports.Component{constructor(e){super(e),eS(this,"componentDidMount",(()=>{this._silenceClickEvents()})),eS(this,"handleShowTooltip",(()=>{const{word:e,symbol:t,customMessage:n,CustomComponent:r,className:i,id:a,dispatch:s}=this.props,o=a?{id:a}:{},l={isOldStyle:!0,elementRef:this.Tooltip,definitionKey:e,symbol:t,customDefinition:n,CustomComponent:r,className:i,conditionalProps:o};QE(l)(s)})),eS(this,"handleFocus",(()=>{this.handleShowTooltip()})),eS(this,"_returnReferenceToDomNode",(()=>this.Tooltip)),eS(this,"_returnCustomMessage",(()=>this.props.customMessage)),eS(this,"_silenceClickEvents",(()=>{const e=this._returnReferenceToDomNode();window.$(e).on("click",(function(e){e.stopImmediatePropagation()}))})),this.state={showTooltip:!1}}render(){const e=this.props.style||{},t=this.props.id?{id:this.props.id}:{};return c.createElement(nS,o({ref:e=>this.Tooltip=e,tabIndex:"-1",className:`react-info-icon ${this.props.className||""}`,onFocus:this.handleFocus,style:e},t),c.createElement(yx,{width:"13px"}))}}var iS=_c(T((e=>({currentUser:e.currentUser})))(rS));const aS=e=>{const t=yl(e),n=e.customClass||"rounded-edge-button",r=e.icon||"fa-question-circle-o",i=e.skinny?"icon-skinny":"",a=e.style||{cursor:"pointer"},s=e.size||"large",d=e.color,u=e.colorClassName,h=e.background||"#fff",p=e.ignoreShadow||h&&"#fff"!==h&&"rgba(0,0,0,0)"!==h||e.showShadow?"":"no-shadow",m=i?l(o({cursor:"pointer"},a),{WebkitTextStroke:`2px ${e.strokeColor||h}`}):o({cursor:"pointer"},a);e.background&&(m.background=h),e.color&&(m.color=d);return c.createElement("div",{className:`${n} ${p} ${i}`,style:m,onClick:e=>{e.stopPropagation(),e.preventDefault(),t()}},c.createElement(xc,{icon:r,color:d,colorClassName:u,size:s,style:e.handleClick?{pointerEvents:"none"}:{}}))};aS.defaultProps={buttonType:_t.button_types.button};const sS=u.div`
  & .circle-loading-spinner {
    border: 4px rgba(109, 86, 251, 0.25) solid;
    border-top: 4px ${({theme:e})=>e.themeColors.primaryCtaButton} solid;
  }
`,oS=e=>{const t=e.show?"":"hidden",n=e.spinner?e.spinner:{iconClass:"fa fa-spinner spin",style:{}},r=n.style||{},i=e.overlayStyle||{};return c.createElement(sS,{className:`\n        form-loading-overlay\n        ${t}\n        ${e.scrollRestriction?"scroll-restriction":""}\n        ${e.className||""}\n      `,style:i},c.createElement("div",{className:"form-loading-overlay-message-container"},c.createElement("div",{className:"form-loading-overlay-message"},c.createElement("i",{className:n.iconClass,style:o({},r)}),c.createElement("span",null,e.message))))};var lS=Object.defineProperty,cS=(e,t,n)=>(((e,t,n)=>{t in e?lS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class dS extends c.PureComponent{constructor(){super(),cS(this,"renderElements",(()=>{const{widthThreshold:e,greaterThanThresholdLayout:t,lessThanThresholdLayout:n}=this.props,{width:r}=this.state;return r>e?t(r):n(r)})),cS(this,"_addWindowResizeListener",(()=>{window.addEventListener("resize",this.onUpdateSize)})),cS(this,"_removeWindowResizeListener",(()=>{window.removeEventListener("resize",this.onUpdateSize)})),cS(this,"onUpdateSize",(()=>{const e=this._getSize();this.setState((t=>e!==t.width?{width:e}:{}))})),cS(this,"_getSize",(()=>{const e=window.$(this.Container).width();return e>0?e:null})),this.state={width:null}}componentDidMount(){this._addWindowResizeListener(),this.onUpdateSize()}componentWillUnmount(){this._removeWindowResizeListener()}render(){const{className:e,style:t}=this.props,{width:n}=this.state;return c.createElement("div",{ref:e=>this.Container=e,className:e,style:t||{}},n>0&&this.renderElements())}}var uS=Object.defineProperty,hS=(e,t,n)=>(((e,t,n)=>{t in e?uS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class pS extends C.exports.Component{constructor(e){super(e),hS(this,"_doNothing",(()=>!1)),hS(this,"_isLoading",(e=>!this._returnSecurity(e))),hS(this,"_isLoadingPreviewImage",(()=>this.props.isLoadingCustomImage||this.state.loadingPreviewImage)),hS(this,"_renderLoading",(()=>c.createElement(Dw,{flatStyle:!0}))),hS(this,"updateImageSrc",(e=>{this.setState((t=>({openGraphObject:l(o({},t.openGraphObject),{image_link:e})})))})),hS(this,"_renderThoughtCharCounter",(()=>c.createElement("div",{className:"add-thought-char-counter "+(this._isThoughtTooLong()?"thought-too-long error-text-color":" ")},`${this._returnCurrentThoughtCharLength()}/${this._returnMaxThoughtCharLimit()}`))),hS(this,"_renderThoughtSavingOverlay",(()=>c.createElement(oS,{show:this._isPostingThought(),spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:"Posting",className:"posting-thought-overlay"}))),hS(this,"_renderThoughtSavedOverlay",(()=>c.createElement(oS,{show:this._wasThoughtPosted(),spinner:{iconClass:"fa fa-check-circle success-text-color",style:{marginBottom:"-7px"}},message:"Posted"}))),hS(this,"_clearThought",(()=>{this.setState((()=>({formData:{},openGraphObject:null,errors:{},warnings:{},customError:null,customWarning:null,prevThoughtText:null,creatingThought:!1,loadingPreviewImage:!1,isPostingThought:!1,wasThoughtPosted:!1,wasErrorWhilePostingThought:!1})))})),hS(this,"_setIsPostingThought",(()=>{this.setState((()=>({isPostingThought:!0})))})),hS(this,"_postThoughtWasSuccess",(()=>{this.setState((()=>({isPostingThought:!1,wasThoughtPosted:!0})))})),hS(this,"_postThoughtWasFailure",(()=>{this.setState((()=>({isPostingThought:!1,wasThoughtPosted:!1,wasErrorWhilePostingThought:!0})))})),hS(this,"_isThoughtTooLong",(e=>(e?e.length:this._returnCurrentThoughtCharLength())>this._returnMaxThoughtCharLimit())),hS(this,"_createThoughtTypeObj",(e=>e&&"object"==typeof e?e:"Pro"===e?{id:0,name:"Pro"}:"Con"===e?{id:1,name:"Con"}:e)),hS(this,"_isSecurityUnfeatured",(()=>this._returnSecurity()&&"featured"in this._returnSecurity()&&!this._returnSecurity().featured)),hS(this,"_returnMaxThoughtCharLimit",(()=>this.props.maxCharacterLimitForThought||Yc)),hS(this,"_returnSecurityId",(()=>this.props.securityId||this.props.security.security_id)),hS(this,"_returnSecurity",(e=>this._returnSecuritiesLookupData(e)[this._returnSecurityId()])),hS(this,"_returnSecuritiesLookupData",(e=>this._returnSecurityStore(e).lookup)),hS(this,"_returnSecurityStore",(e=>(e||this.props).securities)),hS(this,"_isThoughtValid",(()=>this._wasThoughtEntered()&&this._wasThoughtTypeEntered()&&!this._isThoughtTooLong())),hS(this,"_wasThoughtEntered",(()=>this._returnFormThoughtText()&&this._returnFormThoughtText().length>0)),hS(this,"_wasThoughtTypeEntered",(()=>this._returnFormThoughtType())),hS(this,"_returnFormData",(()=>this.state.formData)),hS(this,"_returnFormThoughtText",(()=>this._returnFormData().thought)),hS(this,"_returnFormThoughtType",(()=>this._returnFormData().thought_type)),hS(this,"_didSelectProOrCon",(()=>!(!this._isProSelected()&&!this._isConSelected()))),hS(this,"_isProSelected",(()=>{const e=this._returnFormThoughtType();return!!e&&0===e.id})),hS(this,"_isConSelected",(()=>{const e=this._returnFormThoughtType();return!!e&&1===e.id})),hS(this,"_returnOgo",(()=>this.state.openGraphObject)),hS(this,"_returnFormThoughtTypeFormatted",(()=>this._createThoughtTypeObj(this._returnFormThoughtType()))),hS(this,"_returnFormThoughtTextFormatted",(()=>this._returnOgo()?(e=>{const t=/http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?/gim,n=e.replace(/(\r\n|\n|\r)/gm," ").split(" "),r=[];let i;for(let o=0;o<n.length;o++)i=n[o].match(t),i&&r.push(qd(n[o],i));const a=r[0],s=0===e.indexOf(a+" ")?"":" ";return e.indexOf(a+" ")>=0?e.replace(a+" ",s):e})(this._returnFormThoughtText()):this._returnFormThoughtText())),hS(this,"_createThoughtFormattedForPost",(()=>({security_id:this._returnSecurityId(),response_to_thought_id:this.props.logFromDisagreeThoughtId||null,thought:this._returnFormThoughtTextFormatted(),thought_type:this._returnFormThoughtTypeFormatted(),open_graph_object:this._returnOgo()||null}))),hS(this,"_isPostingThought",(()=>this.state.isPostingThought)),hS(this,"_wasThoughtPosted",(()=>this.state.wasThoughtPosted)),hS(this,"handleThoughtCreate",(()=>!this._isPostingThought()&&(this._isThoughtValid()?(this._setIsPostingThought(),this._delayActionForAnimation(this.createThought,this._returnThoughtPostingAnimationMinLength())):this.createErrorsForInvalidThought()))),hS(this,"_returnThoughtPostingAnimationMinLength",(()=>1e3)),hS(this,"_returnThoughtPostedAnimationMinLength",(()=>2e3)),hS(this,"_delayActionForAnimation",((e,t)=>setTimeout(e,t))),hS(this,"_handleThoughtPostSuccessAdditionalAction",(()=>{this.props.thoughtPostSuccessAdditionalAction&&this.props.thoughtPostSuccessAdditionalAction()})),hS(this,"_defaultCreateThought",(e=>this.props.actions.createThought([e]).then((t=>(t&&t.error?this._createErrorPostingThoughtModal(t):this._logPostedThought(e),t))))),hS(this,"_returnCreateThoughtAction",(()=>"handleCreateThought"in this.props?this.props.handleCreateThought:this._defaultCreateThought)),hS(this,"createThought",(()=>{this._isPostingThought()||this._setIsPostingThought();const e=this._createThoughtFormattedForPost();return this._returnCreateThoughtAction()(e).then((e=>{e.error?this._postThoughtWasFailure():(this._postThoughtWasSuccess(),this._thoughtPreSuccessDelayAdditionalAction(),this._delayActionForAnimation((()=>{this._onThoughtPostComplete()}),this._returnThoughtPostedAnimationMinLength()))}))})),hS(this,"_thoughtPreSuccessDelayAdditionalAction",(()=>{this.props.thoughtPreSuccessDelayAdditionalAction&&this.props.thoughtPreSuccessDelayAdditionalAction()})),hS(this,"_onThoughtPostComplete",(()=>{this._clearThought(),this._handleFinishCreatingThought(),this._handleThoughtPostSuccessAdditionalAction()})),hS(this,"_handleFinishCreatingThought",(()=>{if(!this.props.handleFinishCreatingThought)return!0;this.props.handleFinishCreatingThought()})),hS(this,"createErrorsForInvalidThought",(()=>{const e=this.state.formData;let t=null;return this._isThoughtTooLong()?(t="Thought is too long",this.setState((e=>({customError:t}))),!1):e.thought&&e.thought.length>0?e.thought_type?void this.setState((e=>({customError:t}))):(t="Please select Pro or Con",this.setState((e=>({customError:t}))),!1):(t="Please enter a thought",this.setState((e=>({customError:t}))),!1)})),hS(this,"handleThoughtCreateCancel",(()=>{this.props.handleCancelCreatingThought&&this.props.handleCancelCreatingThought()})),hS(this,"cancelCreatingThought",(()=>{this._logCancelCreatingThought(),this.props.handleCancelCreatingThought()})),hS(this,"_createErrorPostingThoughtModal",(e=>{const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not save thought. Please try again later."),n=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Cannot create a new thought for this security.  Security is currently unavailable."),r={contentComponent:e.thoughtsWithErrors&&"Can't create an thought for an un-featured security."===e.thoughtsWithErrors[0].error?n:t,dismissable:!0};this.props.actions.showModal(r)})),hS(this,"handleRemovePreviewImage",(()=>{this._returnOgo()&&this.setState((e=>({openGraphObject:l(o({},e.openGraphObject),{images_url:null,image_link:null})}))),this._logRemoveImageClick()})),hS(this,"_renderCreateThoughtHeadingMessage",(()=>{const e=this._generateThoughtHeadingStyle(),t=this._generateCreateThoughtHeadingMessage();return c.createElement("div",{style:e},this.props.customThoughtHeadingComponent||c.createElement(c.Fragment,null,c.createElement("span",{className:" ",style:{display:"inline"}},t),c.createElement("div",{style:{display:"inline-block",position:"relative"}},c.createElement(iS,{word:"thought_explanation",style:{top:"-13px"},position:"right"}))))})),hS(this,"_generateThoughtHeadingStyle",(()=>this.state.width<=400&&this.state.width>=350?{fontSize:"16px"}:this.state.width<300?{fontSize:"12px"}:this.state.width<350?{fontSize:"14px"}:{fontSize:"18px"})),hS(this,"_generateCreateThoughtHeadingMessage",(()=>this.props.isAReply?`Enter a Pro or Con for ${this._returnSecurity().symbol} to help your connections understand this idea.`:`Enter a Pro or Con for ${this._returnSecurity().symbol} and see what the community thinks.`)),hS(this,"_returnCurrentThoughtCharLength",(()=>{const e=this.state.formData.thought||"";return e.length-this._charactersToSubtractFromUrls(e)})),hS(this,"_charactersToSubtractFromUrls",(e=>{let t=0;const n=Yd(e);if(n&&n.constructor===Array)for(var r=0;r<n.length;r++)n[r].length>23&&(t+=n[r].length-23);return t})),hS(this,"_updateThoughtTypeFromProps",(()=>{const e=this.props.thoughtType?"pro"===this.props.thoughtType.toLowerCase()||"pros"===this.props.thoughtType.toLowerCase()?{id:0,name:"Pro"}:{id:1,name:"Con"}:null;this.setState((t=>({formData:l(o({},this.state.formData),{thought_type:e})})))})),hS(this,"_saveOgoToState",(()=>{const e=this.props.ogo;e&&this.setState((t=>({openGraphObject:e,formData:l(o({},t.formData),{thought:`${e.url} `})})))})),hS(this,"_returnContext",(()=>this.props.viewingContext?{Context:this.props.viewingContext}:{})),hS(this,"_onLoad",(()=>{this.handleResize()})),hS(this,"handleResize",(()=>{this.setState({width:"addThoughtFormContainer"in this&&this.addThoughtFormContainer&&this.addThoughtFormContainer.offsetWidth||450})})),hS(this,"_logPostedThought",(e=>{const t=this._returnSecurity(),n=o({"Stock Symbol":t.symbol,"Security ID":t.security_id,"Thought Type":e.thought_type.name,"From Disagree":this.props.logFromDisagree,"In Response Thought ID":this.props.logFromDisagreeThoughtId},this._returnContext());th.thoughts.ADD_THOUGHT.send(n)})),hS(this,"_logCancelCreatingThought",(()=>{const e=o({"Is From News":this.props.isFromNews},this._returnContext());this.props.actions.logMetricsTrackingEvent("Cancelled Creating Thought",e)})),hS(this,"_logRemoveImageClick",(()=>{const e=o({"Is From News":this.props.isFromNews},this._returnContext());this.props.actions.logMetricsTrackingEvent("Clicked Remove Thought Image",e)})),this.state={width:"addThoughtFormContainer"in this&&this.addThoughtFormContainer.offsetWidth||null,inputs:[{type:Tx,typeName:"LargeTextField",name:"thought",label:null,props:{customClass:"thought-input",placeholder:"e.g., Early reviews of upcoming product have been excellent. (You can also paste a link to an article here.)",handleChangeFunc:"handleThoughtTextChange",autoFocus:!1,popOutErrorMessage:!0}},{type:Nx,typeName:"Toggle",name:"thought_type",props:{values:[{id:0,name:"Pro"},{id:1,name:"Con"}],selectionValues:["Pro","Con"],selectionValuesClass:"thought-type-toggle"}}],formData:{},openGraphObject:null,errors:{},warnings:{},customError:null,customWarning:null,prevThoughtText:null,creatingThought:!1,loadingPreviewImage:!1,isPostingThought:!1,wasThoughtPosted:!1,wasErrorWhilePostingThought:!1}}componentDidMount(){window.addEventListener("resize",this.handleResize),this._updateThoughtTypeFromProps(),this._saveOgoToState(),this.handleResize(),this.props.loadSecurityDataIfNecessary&&this.props.actions.quickFetchSecuritiesData([this.props.securityId])}componentDidUpdate(e,t){this._isLoading(e)&&!this._isLoading()&&this._onLoad(),e.thoughtType!==this.props.thoughtType&&this._updateThoughtTypeFromProps(),t.formData!==this.state.formData&&(this.state.customError&&this.createErrorsForInvalidThought(),this.state.prevThoughtText!==this.state.formData.thought&&this.setState((e=>({customWarning:null}))))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const e=this.state.inputs[0],t=this.state.inputs[1];return this._isLoading()?this._renderLoading():c.createElement("div",{className:this.props.customClassContainer||""},c.createElement("div",{className:`\n          react-add-thought-form\n          ${this.props.inModal?"":"component-bg"}\n          border-accent\n        `,ref:e=>{this.addThoughtFormContainer=e}},"handleCancelCreatingThought"in this.props&&c.createElement(aS,{icon:"fa-times-thin",colorClassName:"secondary-text-color",size:"medium",style:{position:"absolute",top:"0px",right:"5px"},handleClick:this.cancelCreatingThought}),c.createElement("div",{className:"thought-heading-message"},this._renderCreateThoughtHeadingMessage()),c.createElement("div",{className:"thought-field-row"},Rh.call(this,e,null,e.name)),c.createElement(dS,{className:"thought-field-sub-row",widthThreshold:380,greaterThanThresholdLayout:e=>c.createElement(c.Fragment,null,c.createElement("div",{className:"thought-pro-con-toggle-container"},Rh.call(this,t,null,t.name),c.createElement("div",{style:{paddingLeft:"15px"}},this._didSelectProOrCon()&&c.createElement("div",{className:"\n                          selected-pro-con-message\n                          "+(this._isProSelected()?"pro-text-color":"con-text-color")},`A reason ${this._returnSecurity().symbol||"this stock"} may go ${this._isProSelected()?"up":"down"}`))),this._renderThoughtCharCounter()),lessThanThresholdLayout:e=>c.createElement("div",{style:{width:"100%"}},c.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},c.createElement("div",{className:"thought-pro-con-toggle-container"},Rh.call(this,t,null,t.name)),this._renderThoughtCharCounter()),c.createElement("div",{style:{width:"100%",paddingTop:"5px"}},this._didSelectProOrCon()&&c.createElement("div",{className:"\n                        selected-pro-con-message\n                        "+(this._isProSelected()?"pro-text-color":"con-text-color")},`A reason ${this._returnSecurity().symbol||"this stock"} may go ${this._isProSelected()?"up":"down"}`)))}),c.createElement(Xw,{loadingPreview:this._isLoadingPreviewImage(),ogo:this._returnOgo(),showPreview:null!==this._returnOgo(),imageUrl:this._returnOgo()&&this._returnOgo().images_url,title:this._returnOgo()&&this._returnOgo().title,url:this._returnOgo()&&this._returnOgo().url,handleRemovePreviewImage:this.handleRemovePreviewImage,updateImageSrc:this.updateImageSrc,thoughtId:null,thoughtType:this._returnFormThoughtType(),stockSymbol:this._returnSecurity().symbol,securityId:this._returnSecurity().security_id,viewingContext:this.props.viewingContext}),this.state.customError&&c.createElement("div",{className:"custom-error"},this.state.customError),this.state.customWarning&&c.createElement("div",{className:"custom-warning"},this.state.customWarning),this._renderThoughtSavingOverlay(),this._renderThoughtSavedOverlay(),c.createElement("div",{className:"add-thought-action-buttons"},this._isLoadingPreviewImage()?c.createElement(hx,{onClick:this._doNothing},"Loading"):c.createElement(hx,{onClick:this.handleThoughtCreate},"Post"))))}}var mS=T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)})))(pS);const gS={FEED:"Feed",THOUGHT_CAROUSEL_IN_FEED:"Thought Carousel - Feed",THOUGHT_CAROUSEL_IN_AFTER_TRADE_PANEL:"Thought Carousel - After Trade",THOUGHT_CAROUSEL_IN_WATCHLIST_ONBOARDING_PANEL:"Watchlist Thoughts Panel",AFTER_TRADE_THOUGHTS_PANEL:"Thoughts Panel - After Trade",ASK_NOTIFICATION_IN_FEED:"Thought Ask From Feed",SECURITY_PANEL_PRO_CON_TAB:"Security Panel",SECURITY_PANEL_IDEA_TAB:"Idea Panel",CREATE_ASK_ANYONE:"Ask About Thought Form",THOUGHT_PAGE:"Thought Page",EMAIL:"Email"},yS=e=>{const t=gS[e];return t||Uk(`Could not find ${e} in ThoughtImpressionEventNames`,!0,{ThoughtImpressionEventNames:gS}),t||"Unknown"},_S="Create Thought - Empty Thought List",fS="Create Thought In Dashboard Feed",vS="Ask Notification Response",ES="Create Thought Modal",bS=e=>c.createElement("div",{is_error:!0,className:"modal-message",style:{paddingTop:"0px"}},e),CS=e=>({contentComponent:bS(e),size:"wide",dismissable:!0}),xS=()=>({contentComponent:bS("Something went wrong. Please try again."),size:"wide",dismissable:!0}),wS=function(e,t){return c.createElement("div",null,c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),c.createElement("div",{className:"modal-custom-button"},c.createElement(hx,{onClick:t||this.props.actions.hideModal},"Okay")))},SS=u.div`
  padding-top: 24px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin: 0 auto;
  max-width: 420px;

  button {
    width: 196px;
  }
`,kS=u.div``,TS=u.div`
  text-align: center;
`,IS=function({message:e,secondaryComponent:t,onContinue:n,onCancel:r}){return c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},c.createElement(kS,null,c.createElement(TS,null,c.createElement(Ei,null,e)),t||null,c.createElement(SS,null,c.createElement(hx,{transparent:!0,onClick:r},"Cancel"),c.createElement(hx,{onClick:n},"Continue"))))},NS=function(e){const t=e.message,n=e.secondaryComponent||null,r=e.handleContinue,i=e.handleCancel||this.props.actions.hideModal,a=i,s={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},c.createElement("div",{className:"modal-message-text"},t),n,c.createElement("div",{className:"modal-confirmation-buttons-container"},c.createElement(hx,{customClass:e.continueButtonClassName,onClick:r},e.continueButtonText||"Delete"),c.createElement(hx,{customClass:e.cancelButtonClassName,onClick:i},e.cancelButtonText||"Cancel"))),size:"wide",dismissable:!0,overrideDismiss:a};this.props.actions.showModal(s)},AS=e=>{var t;return e?null==(t=null==e?void 0:e.security)?void 0:t.security_id:null},PS=e=>{var t;return e?null==(t=null==e?void 0:e.security)?void 0:t.symbol:null},DS=e=>{var t;return e?null==(t=null==e?void 0:e.security)?void 0:t.name:null},OS=e=>e.map((e=>l(o({},e),{security_id:AS(e)}))),LS=function(e,t){if(!e)return null;if(!t||!("ideaList"in t))return null;const n=t.ideaList[e]||null;return n||null},RS=(e,t,n)=>{if(!e)return console.error("Must provide userId to findUserIdeaForSecurity"),null;if(!t)return console.error("Must provide securityId to findUserIdeaForSecurity"),null;if(!n)return console.error("Must provide ideaList to findUserIdeaForSecurity"),null;const r=Object.keys(n);for(let i=0;i<r.length;i++){let a=n[r[i]],s=a.user_id?a.user_id.toString():null,o=AS(a)?AS(a).toString():null;if(s===e.toString()&&o===t.toString())return a}return null},FS=(e,t)=>{const n=Object.keys(t),r=[];for(let i=0;i<n.length;i++){let a=t[n[i]];a.user_id===e&&r.push(a)}return r},MS=(e,t)=>Object.keys(t).filter((n=>AS(t[n]).toString()===e.security_id.toString())).map((e=>t[e])),US=(e,t,n)=>Object.keys(n).filter((e=>AS(n[e]).toString()===t.toString())).map((e=>n[e])).filter((t=>t.user_id===e)).length>0,$S=e=>{const t={"Very Low":0,Low:1,Medium:2,High:3,"Very High":4};return"id"in e?{0:{id:0,name:"Very Low"},1:{id:1,name:"Low"},2:{id:2,name:"Medium"},3:{id:3,name:"High"},4:{id:4,name:"Very High"}}[e.id]:"name"in e?t[e.name]:void 0},BS=(e,t)=>{const n={},r={active:function(e){return"create"===t||e},price_target:function(e){return"string"==typeof e?e.split(",").join(""):e},expected_return:function(e){return"string"==typeof e?e.split(",").join(""):e},expected_dividend:function(e){return"string"==typeof e?e.split(",").join(""):e},using_price_target:function(e){return!e}},i=(e,t)=>{let i=t;return r[e]&&(i=r[e](t)),{[n[e]||e]:i}};return ik(e,i),ik(e,i)},zS=e=>"price_target"in e&&null!==e.price_target&&void 0!==e.price_target,VS=e=>!("price_target"in e)&&!("expected_return"in e)||null===e.price_target&&null===e.expected_return,HS=e=>{const{idea:t,security:n,formData:r,currentPrice:i}=e;"idea"in e&&"security"in e&&"currentPrice"in e||console.error("Idea and security are required to calc expected return"),"currentPrice"in e||console.error("Current price is required to calc expected return");const a=void 0===e.ideaUsingPriceTarget?zS(t):e.ideaUsingPriceTarget,s=1===t.horizon.id?1:.5,o=qk(t.expected_dividend);if(0===i&&a)return"";return(a?((e,t,n,r)=>{const i=n&&n.price_target?n.price_target:e.price_target;return 0===r?"":(qk(i)-r)/r*100})(t,0,r,i):qk(t.expected_return))+o*s},WS=function(){this.props.actions||console.error("Must have actions in calling class' props"),this.props.currentUser||console.error("Must have current user in calling class' props"),this.props.security||console.error("Must have a security in calling class' props"),this.props.idea||console.error("Must have an idea in calling class' props"),this.props.navigate||console.error("Must have navigate prop to handle navigation");const{security:e,idea:t,currentUser:n}=this.props,r=n.positions[e.security_id],i=r.shares<0?"Buy":r.shares>0?"Sell":console.error("Error calculating user's total shares");if("string"!=typeof i)return!1;const a={"Idea Id":t.idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Security Table"};this.props.actions.logMetricsTrackingEvent("Choose Exit Position In Idea",a);const s=r.shares,o=i.toLowerCase(),l=Math.abs(s),d=[{security_id:e.security_id,operation:o,shares:l,type:"market",is_from_optimizer:!1}],u={contentComponent:c.createElement("div",{className:"creating-optimized-orders component-bg",style:{maxWidth:"320px "}},c.createElement(_e,{size:"medium"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Creating Orders")),dismissable:!1,size:"wide"};this.props.actions.showModal(u),this.props.actions.createOrders(d,{clearOrdersBefore:!0}).then((e=>{const t=e&&e.data&&!e.data.error;if(this.props.actions.hideModal(),t)this.props.navigate(Ln("orders"));else{const e={contentComponent:bS("Could not create order. Please try again later."),dismissable:!0};this.props.actions.showModal(e)}}))},jS=e=>{const t=[];return e.forEach((e=>{e.ideas.forEach((e=>t.push(e)))})),t},GS=e=>"ideaList"in e?e.ideaList:Uk("Invalid idea store passed into getIdeaListFromIdeaStore",!0,{ideaStore:e}),qS=(e,t)=>GS(t)[e],YS=(e,t,n)=>{if(!("ideaList"in t))return Uk("Invalid idea store passed into isLoadingIdeaDataForIdea",!0,{ideaStore:t});let r=!1;return n&&(r=t.loadingIdeasForSecurityIdsList.includes(AS(n))||t.loadingIdeasForUserIdsList.includes(n.user_id)),((e,t)=>!!qS(e,t))(e,t)&&(qS(e,t).loading||!1)||r},KS=(e,t,n,r)=>"ideaList"in n?"security"===e?((e,t)=>"ideaList"in t?t.loadingIdeasForSecurityIdsList.indexOf(e)>=0:Uk("Invalid idea store passed into isLoadingIdeaDataForSecurity",!0,{ideaStore:t}))(t,n):"user"===e?((e,t)=>"ideaList"in t?t.loadingIdeasForUserIdsList.indexOf(e)>=0:Uk("Invalid idea store passed into isLoadingIdeaDataForUser",!0,{ideaStore:t}))(t,n):"idea"===e?YS(t,n,r):Uk("Invalid idea source type passed into isLoadingIdeaData",!0,{type:e,id:t}):Uk("Invalid idea store passed into isLoadingIdeaData",!0,{ideaStore:n}),QS=e=>{const t=GS(e),n=(e=>Object.keys(GS(e)))(e),r=[];for(let i=0;i<n.length;i++){const e=t[n[i]];r.push(e)}return r},ZS={YOUTUBE_LINK_PARSE:new RegExp("^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$")},XS=(e,t)=>e.length<=t?e:" "===e[t-1]?`${e.slice(0,t-2)}...`:`${e.slice(0,t-1)}...`,JS=(e,t,n)=>nk(e)?void 0===n?e:n:XS(e,t);function ek(e,t){const n={};return void 0===t?e.forEach((e=>n[Object.keys(e)[0]]=e[Object.keys(e)[0]])):e.forEach((e=>n[e[t]]=o({},e))),n}const tk=e=>Object.keys(e).filter((e=>"_id"===e.slice(e.length-3,e.length)))[0],nk=e=>null==e;function rk(e){const t=nk(e)?500:e;return window.$("html, body").animate({scrollTop:0},t)}function ik(e,t){return ek(Object.keys(e).map((n=>t(n,e[n]))).filter((e=>e)))}function ak(e,t){for(let n=0;n<t.length;n++){if(t[n]===e)return!0}return!1}function sk(e){return[].concat.apply([],e)}function ok(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];n[e[i]]=i}return n}function lk(e){return e.indexOf("_")>=0?e.split("_").join("-"):e}function ck(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function dk(e){return e.split(" ").map((e=>e[0].toUpperCase()+e.substr(1).toLowerCase())).join(" ")}function uk(e,t,n){for(let r=0;r<n.length;r++){if(n[r][e]===t[e])return r}return!1}const hk=(e,t={})=>e.toLocaleString("en-US",t),pk=(e,t)=>{let n=0;for(let r=0;r<t.length;r++)t[r]===e&&n++;return n},mk=e=>new Date(Date.parse(e+" 1, 2012")).getMonth()+1,gk=e=>Object.keys(e).filter((e=>"id"===e.slice(e.length-2,e.length)))[0],yk=e=>{const t=[];for(let n=0;n<e;n++)t[n]=null;return t},_k=e=>e.filter(((t,n)=>e.indexOf(t)===n)),fk=e=>e&&"[object Function]"==={}.toString.call(e),vk=e=>{if("ideas"===e.type){return e.list.sort(((e,t)=>PS(e)?PS(t)?PS(e)<PS(t)?-1:PS(e)>PS(t)?1:0:(console.error("There was no symbol to sort by.",t),[]):(console.error("There was no symbol to sort by.",e),[])))}if("securities"===e.type){return e.list.sort(((e,t)=>e.symbol?t.symbol?e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0:(console.error("There was no symbol to sort by.",t),[]):(console.error("There was no symbol to sort by.",e),[])))}if("string"===e.type){return e.list.sort(((e,t)=>e<t?-1:e>t?1:0))}console.error("Please specify type and list")},Ek=(e,t,n={})=>{let r;r=Array.isArray(t)?1!==t.length:1!==t;const i=["a","e","i","o","u"].indexOf(e[0])>=0,a=n.pluralPrefix||"",s=r?a:i?"an ":"a ",o=r?"s":"";return`${n.ignorePrefix?"":s}${e}${o}`},bk=e=>{e.stopPropagation()},Ck=e=>{e.stopPropagation()},xk=(e,t,n)=>{const r=Object.keys(e).filter((e=>!n.includes(e))),i=Object.keys(t).filter((e=>!n.includes(e)));let a=!1;return r.forEach((n=>{e[n]!==t[n]&&(a=!0)})),i.forEach((n=>{e[n]!==t[n]&&(a=!0)})),a},wk=(e,t)=>e.length===t.length&&e.every((e=>t.includes(e))),Sk=(e,t)=>{if(e<1)return;const{burst:n,burstSendDelay:r,event:i}=t,a=(e,t=0)=>{setTimeout((()=>{for(let t=0;t<e;t++)i()}),t)};if(e<=n)a(e);else{const t=Math.ceil(e/n);let i=e;for(let e=0;e<t;e++){const t=i>n?n:i;a(t,r*e),i-=t}}},kk=(e,t=1)=>parseFloat(e.toFixed(t)),Tk=(e,t,n)=>{let r=n;return n<0&&(r=0),n>1&&(r=1),e+(t-e)*r},Ik=e=>{var t=e.toString(16);return 1===t.length?"0"+t:t},Nk=e=>{const t=(e=>{var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(e);return{red:t.r,green:t.g,blue:t.b}},Ak=({red:e,green:t,blue:n})=>"#"+Ik(e)+Ik(t)+Ik(n),Pk=e=>"***"===e.slice(0,3),Dk=e=>e.indexOf("-")>=0?console.error("name has invalid characters")():e.split(" ").join("-"),Ok=e=>null!==e.match(ZS.YOUTUBE_LINK_PARSE),Lk=e=>e.match(ZS.YOUTUBE_LINK_PARSE)[1],Rk=e=>{const t={};return Object.keys(e).forEach((n=>{const r=e[n];t[n]=nk(r)?"":r})),t},Fk=(e,t)=>{let n;return!!/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)&&(n=e.substring(1).split(""),3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),`rgba(${[n>>16&255,n>>8&255,255&n].join(",")},${t})`)},Mk=function(e){let t=window.origin;if(t||(t=window.location.origin),t||(t="http://localhost:3000"),"http://localhost:3000"!==t&&"https://d1-forerunner.nvstr.com"!==t)return!1;if(!Array.isArray(e)){const t=[];for(let e=0;e<arguments.length;e++){const n=arguments[e];t.push(n)}e=t}console.error(e)},Uk=(e,t,n)=>{let r="";if(t){r=(new Error).stack}const i=t?`${e}, ${r}`:`${e}`;throw n?{message:i,data:n}:i},$k=e=>Number.isInteger(e),Bk=e=>e===+e&&e!==(0|e),zk=e=>e<2?2:1;var Vk=(e,t,n)=>{if(null==e)return null;const r=t?Math.abs(qk("string"==typeof e?e.replace("$",""):e)):qk("string"==typeof e?e.replace("$",""):e);return hk(r,{minimumFractionDigits:n?0:2,maximumFractionDigits:n?0:2})};const Hk=e=>0===e?"":e>=0?"+":"-",Wk=e=>0===e?"No Change For":e>=0?"Higher":"Lower",jk=e=>0===e?"No Change For":e>=0?"More":"Less",Gk=(e,t)=>{e="string"==typeof e?qk(e):e;const n=Math.abs(Number(e))>=1e12?Math.abs(Number(e)/1e12).toFixed(t?0:1)+"T":Math.abs(Number(e))>=1e9?Math.abs(Number(e)/1e9).toFixed(t?0:1)+"B":Math.abs(Number(e))>=1e6?Math.abs(Number(e)/1e6).toFixed(t?0:1)+"M":Math.abs(Number(e))>=1e3?Math.abs(Number(e)/1e3).toFixed(t?0:1)+"K":$k(Math.abs(Number(e)))?Math.abs(Number(e)):Math.abs(Number(e)).toFixed(2);return e>0?n:`(${n})`},qk=e=>{const t="string"==typeof e?(n=",",r="",e.replace(new RegExp(n,"g"),r)):e;var n,r;return parseFloat(t)},Yk=e=>Number(e)===e||e%1!=0,Kk=e=>Number.isInteger(e);var Qk=Object.defineProperty,Zk=(e,t,n)=>(((e,t,n)=>{t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Xk=e=>class extends c.Component{constructor(e){super(e),Zk(this,"_addWindowResizeListener",(()=>{window.$(window).on("resize",this._updateComponent)})),Zk(this,"_removeWindowResizeListener",(()=>{window.$(window).off("resize",this._updateComponent)})),Zk(this,"_updateComponent",(()=>{this.setState((()=>({__sizing:this._returnWindowMonitorSize()})))})),Zk(this,"_returnWindowMonitorSize",(()=>{const e=this._getWindowMonitorSize();return this._isValidSize(e.width)?e:this._returnFallbackSize()})),Zk(this,"_isValidSize",(e=>Yk(e))),Zk(this,"_getWindowMonitorSize",(()=>{const e=window.$("#window-monitor");return e[0]?{height:e.height(),width:e.width()}:{height:window.$(window).height(),width:window.$(window).width()}})),Zk(this,"_returnFallbackSize",(()=>{const e=window.$(window);return{height:e.height(),width:e.width()}})),this.state={__sizing:null}}render(){return c.createElement(e,l(o({},this.props),{windowWidth:this._returnWindowMonitorSize().width,windowHeight:this._returnWindowMonitorSize().height}))}componentDidMount(){this._addWindowResizeListener()}componentWillUnmount(){this._removeWindowResizeListener()}};class Jk extends c.Component{componentDidUpdate(e){}render(){return null}}const eT=N(Xk,_c,T((e=>e),(e=>({actions:I(WC,e)}))))(Jk);var tT=Object.defineProperty,nT=(e,t,n)=>(((e,t,n)=>{t in e?tT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class rT extends C.exports.Component{constructor(){super(...arguments),nT(this,"_shouldCreatePageLoad",(()=>this.props.fullPageLoad)),nT(this,"_renderLink",(()=>this._shouldCreatePageLoad()?this._renderAnchorComponent():this._renderLinkComponent())),nT(this,"_renderLinkComponent",(()=>c.createElement(A,{to:this.props.to,className:this.props.className,style:this._returnStyling()},this._renderChildren()))),nT(this,"_renderAnchorComponent",(()=>c.createElement("a",o({href:this.props.to,className:this.props.className,style:this._returnStyling()},this.props.anchorProps||{}),this._renderChildren()))),nT(this,"_renderChildren",(()=>this._returnChildren())),nT(this,"_returnChildren",(()=>{const{child:e,text:t,children:n}=this.props;return e||t||n?n||e||c.createElement("span",null,t):(console.error("Must supply child or text to LinkTo Component"),null)})),nT(this,"_returnStyling",(()=>this.props.noTextDecoration?o({textDecoration:"none"},this.props.styling||{}):o({},this.props.styling||{}))),nT(this,"_scrollToTop",(()=>{$("html, body").animate({scrollTop:0},150)})),nT(this,"_shouldScrollToTop",(()=>this.props.scrollToTop)),nT(this,"_handleClick",(()=>{this.props.additionalClickAction&&this.props.additionalClickAction(),this._shouldScrollToTop()&&this._scrollToTop(),this.props.closeModal&&this.props.actions.hideModal()})),nT(this,"_handleMouseOver",(()=>{this.props.onMouseOver&&this.props.onMouseOver()})),nT(this,"_handleMouseOut",(()=>{this.props.onMouseOut&&this.props.onMouseOut()}))}render(){return c.createElement("span",{style:this.props.customContainerStyle||{},onClick:this._handleClick,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},this._renderLink())}}var iT=T(null,(e=>({actions:I(WC,e)})))(rT);const aT=u.div``;u.div`
  font-size: 10px;
  //text-transform: uppercase;

  color: ${({theme:e})=>e.themeColors.text};

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  span {
    line-height: 18px;
  }

  svg {
    margin-top: 1px;
    margin-left: 4px;

    height: 14px;
    width: 88px;
    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`;const sT=u.div`
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,oT=e=>c.createElement(sT,null,c.createElement(Pi,o({},e))),lT=u.div`
  position: absolute;
  top: 0;
  right: 0;
  overflow: hidden;
`,cT=u.div`
  height: 30px;
  width: 30px;
  cursor: pointer;

  i {
    font-size: 16px;
  }

  div {
    position: absolute;
    top: 0;
    right: 4px;
  }
`;var dT=T((e=>({nav:e.nav,isOnboarding:Sp(e.currentUser)})))((e=>{const{nav:t,isOnboarding:n,dispatch:r}=e,{alwaysOpen:i}=t;return c.createElement(ml.Provider,{value:{elementPosition:_t.node_location.header}},c.createElement("div",{className:"vertical-nav-header",style:{position:"relative"}},c.createElement(iT,{to:"/",customContainerStyle:{display:"block"},className:"nav-logo-container",additionalClickAction:()=>{TC("Clicked Link To Root",{"In Onboarding":n})(r)},child:c.createElement(oT,{isSmall:!0}),scrollToTop:!0}),!i&&c.createElement(lT,null,c.createElement(cT,{onClick:()=>{i||function(e){e({type:"HIDE_VERTICAL_NAV"})}(r)}},c.createElement("div",null,c.createElement(xc,{icon:"fa fa-times fa-times-thin",colorClassName:" "}))))))}));var uT=Xk((e=>{const{maxWidth:t,windowWidth:n,children:r}=e;return n>t?null:r}));const hT=u.div`
  font-size: 12px;
  font-weight: 400;
  cursor: default;

  padding: 8px 16px;

  color: ${({theme:e})=>e.themeColors.secondaryText};
`,pT=e=>c.createElement("div",{className:"vertical-nav-group"},c.createElement(hT,{className:"vertical-nav-group-item vertical-nav-group-header-item"},e.groupName),c.createElement("div",{className:"vertical-nav-group-items"},e.children)),mT=e=>{const t=e.id||"tour-arrow",n=e.className,r=e.height||"200px",i=e.width||"200px";return c.createElement("svg",{className:n,height:r,width:i,viewBox:"0 0 1321 1611",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},c.createElement("title",null,"Arrow"),c.createElement("g",{id:`g-${t}`,stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("path",{id:`path-${t}`,d:"M-353.33746,1167.17869 C-353.33746,1167.17869 -369.027564,1148.92087 -400.407773,1112.40525 C-66.2957934,816.952123 257.027123,669.22556 569.560977,669.22556 C813.209415,669.22556 1050.98155,737.534154 1282.87738,874.151341 L1365.09613,758.643529 L1562.04145,1117.14353 L1159.04535,1059.37009 L1242.83832,934.721654 C1017.46722,797.286084 781.185974,733.745719 533.994571,744.10056 C149.150821,760.221654 -167.388241,1002.16306 -353.33746,1167.17869 Z",transform:"translate(580.816837, 918.202123) rotate(235.000000) translate(-580.816837, -918.202123) "})))},gT={1:{shouldShowArrow:(e,t)=>1===t.horizontalListPage,returnArrowStyle:e=>({height:"75px",width:"75px"}),returnStyle:e=>({top:"1px",bottom:"-5px",right:"-2px",left:"-24px",zIndex:100}),returnColorScheme:e=>({stepBgColorClassName:"tour-collective-step-color",arrowColorClassName:"tour-collective-step-arrow-color",circleColorClassName:"tour-collective-step-circle-color",btnColorClassName:"tour-collective-step-btn-color"}),setupActions:function(e){this.props.actions||console.error("setupActions needs access to actions"),this.props.horizontalList||console.error("setupActions needs access to horizontalList store"),this.props.actions.resetHorizontalListPage(),e<985&&this.props.actions.hideVerticalNav()},returnWindowMessaging:function(e){return{heading:"Ideas from top performers",body:`See popular investment ideas from your connections and the whole ${Xo} community. You can also see ideas from the best performers on ${Xo}.`}},showOnRoute:{route:"/",exact:!0},returnTourWindowStyle:function(e){return e<500?e<350?{height:"235px",bottom:"auto",top:"55px"}:{height:"250px",bottom:"auto",top:"55px"}:{}}},2:{shouldShowArrow:e=>e>=985,returnArrowStyle:e=>({bottom:"-118px",right:"15px"}),returnStyle:e=>({top:"-15px",bottom:"-15px",right:"30px",left:"2px",zIndex:100}),returnColorScheme:e=>({stepBgColorClassName:"tour-explorer-step-color",arrowColorClassName:"tour-explorer-step-arrow-color",circleColorClassName:"tour-explorer-step-circle-color",btnColorClassName:"tour-explorer-step-btn-color"}),setupActions:function(e){this.props.actions||console.error("setupActions needs access to actions"),e<985&&this.props.actions.showVerticalNav()},returnWindowMessaging:function(e){return{heading:"Discover new stocks and save them to your portfolio",body:`Looking for new ideas?  Explore the universe of investments with data from Capital IQ and ${Xo}, and find stocks based on what's important to you.`}},showOnRoute:{route:"/",exact:!1},returnTourWindowStyle:function(e){return e<500?e<350?{height:"235px",bottom:"auto",top:"55px"}:{height:"250px",bottom:"auto",top:"55px"}:{}}},3:{shouldShowArrow:e=>e>=985,returnArrowStyle:e=>({bottom:"-120px",right:"45px"}),returnColorScheme:e=>({stepBgColorClassName:"tour-connections-step-color",arrowColorClassName:"tour-connections-step-arrow-color",circleColorClassName:"tour-connections-step-circle-color",btnColorClassName:"tour-connections-step-btn-color"}),returnStyle:e=>({top:"-15px",bottom:"-15px",right:"40px",left:"2px",zIndex:100}),setupActions:function(e){this.props.actions||console.error("setupActions needs access to actions"),e<985&&this.props.actions.showVerticalNav()},returnWindowMessaging:function(e){return{heading:"Connect with trusted friends and other smart investors",body:`When you connect with friends on ${Xo}, you can see which investments they like - and save them to your portfolio.  You can also get insightful feedback on your own investment ideas.`}},showOnRoute:{route:"/",exact:!1},returnTourWindowStyle:function(e){return e<500?{height:"225px",bottom:"10px"}:{}}},4:{shouldShowArrow:e=>!0,returnArrowStyle:e=>({bottom:"-110px",right:"-73px",WebkitTransform:"scaleX(-1) rotate(45deg)",MozTransform:"scaleX(-1) rotate(45deg)",OTransform:"scaleX(-1) rotate(45deg)",MsTransform:"scaleX(-1) rotate(45deg)",transform:"scaleX(-1) rotate(45deg)"}),returnColorScheme:e=>({stepBgColorClassName:"tour-notifications-step-color",arrowColorClassName:"tour-notifications-step-arrow-color",circleColorClassName:"tour-notifications-step-circle-color",btnColorClassName:"tour-notifications-step-btn-color"}),returnStyle:e=>({top:"-13px",bottom:"-13px",right:"-14px",left:"-13px",zIndex:100}),setupActions:function(e){this.props.actions||console.error("setupActions needs access to actions"),e<985&&this.props.actions.hideVerticalNav()},returnWindowMessaging:function(e){return{heading:"See what new investing insights are trending in the community today",body:`Join the conversation, and benefit from the collective experience of the ${Xo} community.`}},showOnRoute:{route:"/",exact:!1},returnTourWindowStyle:function(e){return e<500?{height:"250px",bottom:"auto",top:"275px"}:{}}},5:{shouldShowArrow:e=>e>450,returnColorScheme:e=>({stepBgColorClassName:"tour-optimizer-step-color",arrowColorClassName:"tour-optimizer-step-arrow-color",circleColorClassName:"tour-optimizer-step-circle-color",btnColorClassName:"tour-optimizer-step-btn-color"}),returnArrowStyle:e=>({bottom:"-119px",right:"-33px",WebkitTransform:"scaleX(-1) rotate(28deg)",MozTransform:"scaleX(-1) rotate(28deg)",OTransform:"scaleX(-1) rotate(28deg)",MsTransform:"scaleX(-1) rotate(28deg)",transform:"scaleX(-1) rotate(28deg)"}),returnStyle:e=>e>450?e>550?{top:"-15px",bottom:"-15px",right:"-20px",left:"-20px",zIndex:100}:{top:"-5px",bottom:"-5px",right:"-10px",left:"-10px",zIndex:100}:{top:"-9px",bottom:"-11px",right:"1px",left:"0px",zIndex:100},setupActions:function(e){this.props.actions||console.error("setupActions needs access to actions"),e<450?this.props.actions.showVerticalNav():this.props.actions.hideVerticalNav()},returnWindowMessaging:function(e){return{heading:"Smart portfolio allocation is always one click away",body:["Not sure how much to allocate to each stock in your portfolio?  The Optimizer is constantly crunching the numbers.","It's built on independent, Nobel Prize-winning research on portfolio allocation.  It finds customized allocations that optimize your risk/reward based on the investment ideas you've saved - and your own specific goals."]}},showOnRoute:{route:"/",exact:!1}},end:{shouldShowArrow:e=>!0,returnColorScheme:e=>({gradient:!0,stepBgColorClassName:"tour-end-step-color",arrowColorClassName:"tour-end-step-arrow-color",circleColorClassName:"tour-end-step-circle-color",btnColorClassName:"tour-end-step-btn-color"}),returnArrowStyle:e=>({bottom:"63px",right:"-26px",WebkitTransform:"rotate(228deg) scale(.75)",MozTransform:"rotate(228deg) scale(.75)",OTransform:"rotate(228deg) scale(.75)",MsTransform:"rotate(228deg) scale(.75)",transform:"rotate(228deg) scale(.75)"}),returnStyle:e=>({top:"-15px",bottom:"-15px",right:"40px",left:"10px",zIndex:100}),setupActions:function(e){e<985&&this.props.actions.showVerticalNav()},returnWindowMessaging:function(e){return{heading:"Thanks for joining the community",body:'You can replay the tour at any time by clicking "Take A Tour" in the sidebar.'}},showOnRoute:{route:"/",exact:!1}}},yT=function(e){this.props.actions||console.error("returnTourConfig needs access to actions");const t=gT[e]||gT.end;return t||console.error(`config data not found for step ${e}`),t},_T=function(e){return!gT[e]};var fT=Object.defineProperty,vT=(e,t,n)=>(((e,t,n)=>{t in e?fT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const ET=u.span`
  border: 3px solid ${({theme:e})=>e.themeColors.primaryCtaButton} !important;

  .stand-alone-arrow {
    //fill: 3px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    * {
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`;class bT extends C.exports.Component{constructor(){super(),vT(this,"_renderArrow",(()=>this._shouldShowArrow()&&this._returnArrow())),vT(this,"_returnArrow",(()=>c.createElement("span",{className:"stand-alone-arrow "+(this.props.isEndOfTourHighlight?"no-animations":""),style:this._returnArrowStyling()},c.createElement(mT,{id:`tour-arrow-step-${this._returnHighlightTourStep()}`,className:this._returnArrowColorSchemeStyling(),height:this._returnConfigArrowStyle().height||"100px",width:this._returnConfigArrowStyle().width||"100px"})))),vT(this,"_returnConfig",(()=>yT.call(this,this._returnHighlightTourStep()))),vT(this,"_returnConfigArrowStyle",(()=>this._returnConfig().returnArrowStyle?this._returnConfig().returnArrowStyle(this._returnScreenWidth()):{})),vT(this,"_returnConfigStyle",(()=>this._returnConfig().returnStyle?this._returnConfig().returnStyle(this._returnScreenWidth()):{})),vT(this,"_runSetupActions",(()=>this._returnConfig().setupActions&&this._returnConfig().setupActions.call(this,this._returnScreenWidth()))),vT(this,"_returnConfigShowOnRoute",(()=>this._returnConfig().showOnRoute)),vT(this,"_shouldShowArrow",(()=>this._returnConfig().shouldShowArrow&&this._returnConfig().shouldShowArrow(this._returnScreenWidth(),{horizontalListPage:this.props.horizontalList.page}))),vT(this,"_returnArrowStyling",(()=>this._returnConfig().returnArrowStyle?this._returnConfig().returnArrowStyle(this._returnScreenWidth()):{})),vT(this,"_returnColorScheme",(()=>this._returnConfig().returnColorScheme?this._returnConfig().returnColorScheme(this._returnScreenWidth()):{})),vT(this,"_returnCircleColorSchemeStyling",(()=>this._returnColorScheme()?this._returnColorScheme().circleColorClassName:"")),vT(this,"_returnArrowColorSchemeStyling",(()=>this._returnColorScheme()?this._returnColorScheme().arrowColorClassName:"")),vT(this,"_isLoading",(()=>!this._returnTourData().loaded)),vT(this,"_showHighlight",((e=this.props)=>this._isOnCorrectPage()&&(this._shouldForceHighlightToRender()||this.props.isEndOfTourHighlight&&_T(this._returnUserTourStep())&&this._isOnTour(e)||this._isOnTour(e)&&this._returnUserTourStep(e)===this._returnHighlightTourStep(e)))),vT(this,"_shouldForceHighlightToRender",(()=>this.state.forceHighlightToRender)),vT(this,"_returnStyling",(()=>o(o({},this._returnDefaultProperties()),this._returnConfigStyle()))),vT(this,"_returnDefaultProperties",(()=>({position:"absolute",top:"-5px",bottom:"-5px",right:"-5px",left:"-5px",zIndex:1}))),vT(this,"_logClickedTourAction",(()=>{if(!this.props.isEndOfTourHighlight&&this._showHighlight()){const e="Clicked Action In Tour",t={"Current Tour Step":this._returnUserTourStep()};this.props.actions.logMetricsTrackingEvent(e,t)}})),vT(this,"_handleParentClick",(()=>this._logClickedTourAction())),vT(this,"_addClickListenerToParentNode",(()=>$(this._returnRefToParentNode()).on("click",this._handleParentClick))),vT(this,"_removeClickListenerToParentNode",(()=>$(this._returnRefToParentNode()).off("click",this._handleParentClick))),vT(this,"_returnRefToParentNode",(()=>this._$returnDOMnode().parent())),vT(this,"_isParentPositionRelative",(()=>"relative"===this._returnRefToParentNode().css("position"))),vT(this,"_returnScreenWidth",(()=>this.props.windowWidth)),vT(this,"_$returnDOMnode",(()=>$(this._returnDOMnode()))),vT(this,"_returnDOMnode",(()=>this.HighlightComponent)),vT(this,"_returnTourData",(e=>(e||this.props).tour)),vT(this,"_returnUserTourStep",(e=>this._returnTourData(e).tour_step)),vT(this,"_isOnTour",(e=>!this._isOnboarding(e)&&this._returnTourData(e).is_on_tour)),vT(this,"_isOnboarding",(e=>Sp(this._returnCurrentUser(e)))),vT(this,"_returnHighlightTourStep",(e=>(e||this.props).tourStep)),vT(this,"_returnCurrentUser",(e=>(e||this.props).currentUser||this.props.currentUser)),vT(this,"_returnCurrentUserId",(()=>yp(this.props.currentUser))),vT(this,"_returnLocation",(()=>this.props.location)),vT(this,"_returnLocationPathname",(()=>this._returnLocation().pathname)),vT(this,"_returnLocationQuery",(()=>this._returnLocation().search)),vT(this,"_returnFullURLMinusDomain",(()=>this._returnLocationPathname()+this._returnLocationQuery())),vT(this,"_isOnCorrectPage",(()=>{const e=this._returnConfigShowOnRoute();return e.exact?this._returnLocationPathname()===e.route:this._returnLocationPathname().indexOf(e.route)>=0})),vT(this,"_createTimeoutToResetForceRender",(()=>setTimeout(this._resetForceHighlightToRender,2e3))),vT(this,"_clearTimeoutForForceRender",(()=>clearTimeout(this.state.timeoutForForceRender))),vT(this,"_forceHighlightToRender",(()=>{this.setState((()=>({forceHighlightToRender:!0,timeoutForForceRender:this._createTimeoutToResetForceRender()})))})),vT(this,"_resetForceHighlightToRender",(()=>{this.setState((()=>({forceHighlightToRender:!1})))})),this.state={forceHighlightToRender:!1,timeoutForForceRender:null}}componentDidMount(){this._showHighlight()&&(this.initializedHighlightAdditionalFunctionality=!0,this._addClickListenerToParentNode(),this._runSetupActions())}componentWillUnmount(){this._removeClickListenerToParentNode(),this.state.timeoutForForceRender&&this._clearTimeoutForForceRender()}componentDidUpdate(e){this._showHighlight()&&!this.initializedHighlightAdditionalFunctionality&&(this.initializedHighlightAdditionalFunctionality=!0,this._addClickListenerToParentNode(),this._runSetupActions()),this._showHighlight(e)&&!this._showHighlight()&&this._removeClickListenerToParentNode(),this._showHighlight()||(this.initializedHighlightAdditionalFunctionality=!1),this.props.isEndOfTourHighlight&&this._isOnTour(e)&&!this._isOnTour()&&this._forceHighlightToRender()}render(){return this._showHighlight()?c.createElement(ET,{ref:e=>this.HighlightComponent=e,className:`highlight-component ${this.props.isEndOfTourHighlight?"no-animations":""} ${this._returnCircleColorSchemeStyling()}`,style:this._returnStyling()},this._renderArrow()):null}}const CT=N(_c,Xk,T((e=>({currentUser:e.currentUser,tour:e.tour,horizontalList:e.horizontalList})),(e=>({actions:I(WC,e)}))))(bT),xT=u("span")`
  padding: 0 10px 0 0;

  svg {
    height: 18px;
    width: 18px;
  }
`,wT=u.span`
  color: ${({theme:e})=>e.themeColors.primaryCtaButton};
`,ST=u.span`
  position: relative;
  display: flex;
  justify-content: flex-start;
  align-items: center;

  font-size: 14px;
  font-weight: 300;
  border: none;
  transition: all 0.15s ease-out;
  cursor: pointer;

  padding: 8px 8px 8px 10px;

  background: transparent;

  .react-vertical-nav-item-name {
    color: ${({theme:e})=>e.themeColors.text};
    fill: ${({theme:e})=>e.themeColors.text};
  }
  * {
    fill: ${({theme:e})=>e.themeColors.text};
  }

  a:hover,
  a:active,
  a:visited {
    background: ${({theme:e})=>e.themeColors.text};
    color: ${({theme:e})=>e.themeColors.component};

    * {
      color: ${({theme:e})=>e.themeColors.component};
      fill: ${({theme:e})=>e.themeColors.component};
    }
  }

  &.active-nav-item {
    background: ${({theme:e})=>e.themeColors.text};

    * {
      color: ${({theme:e})=>e.themeColors.component};
      fill: ${({theme:e})=>e.themeColors.component};
    }
  }

  span {
    display: block;
  }

  .react-vertical-nav-item-icon {
    width: 28px;
    line-height: 0.8;
    text-align: center;
  }
`,kT=u.div`
  background: ${({theme:e})=>e.themeColors.primaryCtaButton};
  height: 16px;
  width: 16px;
  border-radius: 16px;

  position: absolute;
  top: 9px;
  right: 10px;
  z-index: 1;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;

  * {
    font-size: 10px !important;
    line-height: 12px !important;
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`,TT=({count:e})=>c.createElement(kT,null,e>0&&c.createElement(Ei,null,e)),IT=e=>{const{name:t,route:n,query:r,icon:i,newRoute:a,shouldMatchFirstSubDir:s,subDir:l,accentedTextColor:d,customAdditionalElement:u,badgeCount:h,highlightOnTour:p,shouldUseWindowToNavigate:m,additionalClickAction:g,noCollapse:y,customIcon:f}=e,v=P(),E=D((e=>e.nav)),{alwaysOpen:b}=E,x=_(),{pathname:w}=x,[S,k]=C.exports.useState(!1),T=r||"",I=w===n,N=s&&w.indexOf(`/${l}/`)>=0,A=I||N||S,O=()=>{k(!0)},L=()=>{k(!1)},R=()=>{b||y||function(e){e({type:"HIDE_VERTICAL_NAV"})}(v),g&&g(),TC("Clicked Vertical Nav Item",{tabName:t})(),"Notifications"===t&&TC("Notifications Icon Clicked",{Context:"Vertical Nav"})()},F=()=>c.createElement(ST,{className:`\n          vertical-nav-group-item-container\n          vertical-nav-group-item\n          ${A?"active-nav-item":""}\n          ${d?"accented-nav-item":""}\n        `},p&&c.createElement(CT,o({},p)),f?c.createElement(xT,null,f):c.createElement("span",{className:"react-vertical-nav-item-icon"},c.createElement(xc,{icon:i,size:"nav",background:"rgba(0,0,0,0)"})),c.createElement("span",{className:"react-vertical-nav-item-name"},c.createElement("span",{className:"spacing-wrapper"},t,a&&c.createElement(wT,{className:"new-route-container new-nav-route-color"},"NEW"))),u,!El(h)&&c.createElement(TT,{count:h}));return(()=>{const e=n?m?{type:"a",props:{className:"no-text-decoration",href:n+T,onClick:R,onMouseEnter:O,onMouseLeave:L}}:{type:iT,props:{to:n+T,additionalClickAction:R,child:F(),onMouseOver:O,onMouseOut:L,scrollToTop:!0,noTextDecoration:!0}}:{type:"span",props:{className:"no-text-decoration",onClick:R,onMouseEnter:O,onMouseLeave:L}};return c.createElement(e.type,e.props,F())})()},NT=u.span`
  background: ${({theme:e})=>e.themeColors.badge};
  color: ${({theme:e})=>e.themeColors.buttonText};
  * {
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`,AT=e=>{const{count:t,className:n,showDotOnly:r}=e;if(!(0!==t&&t||r))return null;const i=t>9?"9+":t;return c.createElement(NT,{className:`counter notification-circle-color ${n||""}`},!r&&c.createElement("span",{className:"counter-number-container"},i))};var PT=Object.defineProperty,DT=(e,t,n)=>(((e,t,n)=>{t in e?PT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class OT extends c.Component{constructor(){super(...arguments),DT(this,"_returnTradeToOptimizedPositionCount",(()=>{const e=this._returnPortfolioLookup(),t=Object.keys(e),n=this._returnOptimizedPositionsBySecurityId(),r=Object.keys(n).filter((e=>this._hasPositionIn(e)));return _k([...r,...t]).filter((e=>this._shouldEmphasizeTrade(e))).length})),DT(this,"_shouldEmphasizeTrade",(e=>{const t=this._returnValueOfTrade(e),n=this.props.currentUser.equity,r=.02*qk(n)<Math.abs(t),i=250<Math.abs(t),a=!this._hasPositionIn(e)&&this._returnAllocationSharesForSecurityId(e)>0;return r||i||a})),DT(this,"_returnValueOfTrade",(e=>{const t=this._returnPortfolioLookup(),n=this._hasPositionIn(e)?t[e].value:0,r=this._returnOptimizedAllocationValue(e);return Math.abs(r-n)})),DT(this,"_returnAllocationSharesForSecurityId",(e=>{const t=this._returnPortfolioLookup();return e in t?t[e].shares:0})),DT(this,"_returnOptimizedAllocationSharesForSecurityId",(e=>{const t=this._returnOptimizedPositionsBySecurityId();return e in t?t[e].shares:0})),DT(this,"_hasPositionAndOptimizedAllocationChanged",(e=>{const t=this._returnPortfolioLookup(),n=this._returnOptimizedPositionsBySecurityId();return(e in t?t[e].shares:0)!==(e in n?n[e].shares:0)})),DT(this,"_hasPositionIn",(e=>Math.abs(this._returnAllocationSharesForSecurityId(e))>0)),DT(this,"_returnPortfolioStore",(()=>this.props.portfolio)),DT(this,"_returnPositions",(()=>this._returnPortfolioStore().positions)),DT(this,"_returnPortfolioLookup",(()=>this._returnPortfolioStore().positions||{})),DT(this,"_returnOptimizedAllocationValue",(e=>{const t=this._returnOptimizedPositionsBySecurityId()[e];return t?t.value:0})),DT(this,"_returnOptimizerStore",(e=>(e||this.props).optimizer)),DT(this,"_returnOptimizerStoreData",(e=>this._returnOptimizerStore(e).data||{})),DT(this,"_returnOptimizedPositionsBySecurityId",(e=>this._returnOptimizerStoreData(e).optimized_positions_by_security_id||{}))}render(){return c.createElement(AT,{count:this._returnTradeToOptimizedPositionCount(),className:this.props.className})}}var LT=T((e=>({currentUser:e.currentUser,optimizer:e.optimizer,portfolio:e.portfolio})))(OT);const RT=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function FT(){return c.createElement(RT,null,c.createElement("svg",{viewBox:"0 0 18 18",fill:"none"},c.createElement("path",{d:"M9 .667A8.336 8.336 0 00.667 9c0 4.6 3.733 8.333 8.333 8.333S17.334 13.6 17.334 9 13.6.667 9 .667zm6.609 7.5H9.834V2.392a6.669 6.669 0 015.775 5.775zM2.334 9c0-3.392 2.55-6.2 5.833-6.608v13.216C4.884 15.2 2.334 12.392 2.334 9zm7.5 6.608V9.833h5.775a6.668 6.668 0 01-5.775 5.775z",fill:"#1F1F1F"})))}var MT=T((e=>{const t=e.currentUser;return{inAlternateNameTestGroup:Ep(t),inShowBadgeTestGroup:xp(t)}}))((e=>{const{inAlternateNameTestGroup:t,inShowBadgeTestGroup:n}=e;return c.createElement(IT,{name:t?"Optimize":"Analysis",customIcon:c.createElement(FT,null),customAdditionalElement:n?c.createElement(LT,{className:"vertical-nav-notifications-counter notification-circle-color"}):null,route:"/portfolio"})}));const UT=u.div`
  width: 20px;
  height: 20px;
  & > svg {
    width: 100%;
    height: 100%;
  }

  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function $T(){return c.createElement(UT,null,c.createElement("svg",{fill:"none",viewBox:"0 0 24 24"},c.createElement("path",{d:"M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z",fill:"#000"})))}const BT=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }

  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function zT(){return c.createElement(BT,null,c.createElement("svg",{viewBox:"0 0 16 12",fill:"none"},c.createElement("path",{d:"M3.825 5.167L.5 8.5l3.325 3.333v-2.5h5.842V7.667H3.825v-2.5zM15.5 3.5L12.175.167v2.5H6.333v1.666h5.842v2.5L15.5 3.5z",fill:"#1F1F1F"})))}const VT=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }

  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function HT(){return c.createElement(VT,null,c.createElement("svg",{viewBox:"0 0 9 16",fill:"none"},c.createElement("path",{d:"M4.833 7.083c-1.891-.491-2.5-1-2.5-1.791 0-.909.842-1.542 2.25-1.542 1.484 0 2.034.708 2.084 1.75h1.841c-.058-1.433-.933-2.75-2.675-3.175V.5h-2.5v1.8C1.717 2.65.417 3.7.417 5.308c0 1.925 1.591 2.884 3.916 3.442 2.084.5 2.5 1.233 2.5 2.008 0 .575-.408 1.492-2.25 1.492-1.716 0-2.391-.767-2.483-1.75H.267c.1 1.825 1.466 2.85 3.066 3.192V15.5h2.5v-1.792c1.625-.308 2.917-1.25 2.917-2.958 0-2.367-2.025-3.175-3.917-3.667z",fill:"#1F1F1F"})))}const WT=e=>e.currentUser,jT=e=>e.currentUser.id,GT=e=>Rp(WT(e)),qT=e=>WT(e).referral_cash_reward_requires_live_account,YT=e=>WT(e).available_promo_rewards,KT=e=>{if(!e)return null;let t=null;return e.forEach((e=>{[$_.FUNDING_PROMO_CASH_15_FOR_100,$_.FUNDING_PROMO_REWARD_RANDOM_FOR_20,$_.FUNDING_PROMO_CASH_20_FOR_20,$_.FUNDING_PROMO_CASH_50_FOR_1000].includes(e.reward_type)&&(t=e)})),t},QT=()=>{const e=D(WT);return Rp(e)},ZT=()=>D(WT),XT=()=>QT(),JT=()=>{const e=ZT(),t=D((e=>YT(e))),n=Fp(e),r=KT(t),i=Mp(e);return{isFundingBonusEligible:n,isFundingMatchBonusEligible:i,isDepositBonusPromoEligible:!!r,isShowingFundingPromo:r||i,isEligibleForDepositPromo:em(e)}},eI=()=>D(jT),tI=e=>{const t={};return Object.keys(e).forEach((n=>{const r=e[n];Math.abs(r.shares)>0&&(t[n]=r)})),t},nI=()=>{const e=D((e=>e.portfolio.positions)),[t,n]=c.useState(tI(e));return c.useEffect((()=>{n(tI(e))}),[e]),t},rI=e=>Object.values(e).filter((e=>Math.abs(e.shares)>0)).map((e=>e.security_id)),iI=()=>{const e=D((e=>e.portfolio.positions)),t=rI(e),[n,r]=c.useState(t);return c.useEffect((()=>{const t=rI(e);wk(t,n)||r(t)}),[e,n]),n},aI="npi",sI=({positions:e,ideasUserId:t,ideaList:n,filters:r})=>{const i=((e,t)=>{const n=Object.keys(t),r={};for(let i=0;i<n.length;i++){let a=t[n[i]];a.user_id===e&&(r[AS(a)]=a)}return r})(t,n)||{};switch(r){case aI:{const t=Object.keys(e).filter((t=>0!==e[t].shares)),n={};return Object.keys(i).filter((e=>!t.includes(e))).map((e=>{n[e]=i[e]})),n}default:return i}},oI=(e,t)=>{const n=e||eI(),r=D((e=>e.ideas)),i=nI(),[a,s]=c.useState(sI({positions:i,ideasUserId:n,ideaList:r.ideaList,filters:t}));return c.useEffect((()=>{const e=sI({positions:i,ideasUserId:n,ideaList:r.ideaList,filters:t});s(e)}),[n,r,t]),a},lI=(e,t)=>e.map((e=>t[e])).sort(((e,t)=>{const n=t.security.symbol,r=e.security.symbol;return r<n?-1:r>n?1:0})),cI=(e,t,n={},r={})=>{e.forEach((e=>{const n=t[e],r=n.security.id;t[r]=n}));const i=e.filter((e=>{var t;return Math.abs(null==(t=n[e])?void 0:t.shares)>0})),a=e.filter((e=>{var t;return Math.abs(null==(t=r[e])?void 0:t.shares)>0})),s=a.filter((e=>i.indexOf(e)<0)).map((e=>t[e])),o=[...i,...a],l=e.filter((e=>o.indexOf(e)<0)).map((e=>t[e])),c=l.filter((e=>e.active)),d=l.filter((e=>!e.active));return[...i.map((e=>t[e])).sort(((e,t)=>{var r,i;const a=e.security.id,s=t.security.id,o=(null==(r=n[a])?void 0:r.value)||0;return((null==(i=n[s])?void 0:i.value)||0)-o})),...s.sort(((e,t)=>{var n,i;const a=e.security.id,s=t.security.id,o=(null==(n=r[a])?void 0:n.value)||0;return((null==(i=r[s])?void 0:i.value)||0)-o})),...c.sort(((e,t)=>{const n=e.security.symbol,r=t.security.symbol;return n<r?-1:n>r?1:0})),...d.sort(((e,t)=>{const n=e.security.symbol,r=t.security.symbol;return n<r?-1:n>r?1:0}))]},dI=()=>{const e=D(WT);return Sp(e)},uI=()=>D((e=>e.liveAccount.liveTrading)),hI="learnDeposit",pI="learnCommunity",mI="text",gI="custom",yI="sponsorIntro",_I="sponsorOutro",fI="productPartnerOutro",vI="ladderQuoteTool",EI="NO_MORE_LESSONS",bI="LIVE_ACCOUNT_AND_DEPOSIT_REQUIRED",CI="DEPOSIT_REQUIRED",xI="COME_BACK_TOMORROW",wI="security",SI=()=>{const e=P(),t=D((e=>e.learn.lookup)),n=D((e=>e.learn.nextLessonReward)),r=D((e=>e.learn.nextLessonRewardAtXP)),i=D((e=>e.learn.nextLessonCompletionXP)),a=D((e=>e.learn.completedLessonCount)),s=D((e=>e.learn.status)),o=D((e=>e.learn.messagingStates||{})),l=D((e=>e.learn.nextLessonId)),[d,u]=c.useState(null),[h,p]=c.useState(!1),[m,g]=c.useState(!1),y=c.useCallback((async()=>{p(!0);const t=await XE()(e),{ok:n,data:r}=t;if(n){((null==r?void 0:r.message)||(null==r?void 0:r.error))!=="No more lessons available"&&s!==EI||g(!0)}p(!1)}),[]);return c.useEffect((()=>{(async()=>{El(l)&&await y()})()}),[]),c.useEffect((()=>{const e=t[l],n=(null==e?void 0:e.description)||null;n!==d&&u(n)}),[t,l]),{nextLessonId:l,nextLessonName:d,nextLessonReward:n,nextLessonRewardAtXP:r,nextLessonCompletionXP:i,completedLessonCount:a,status:s,messagingStates:o,isGettingNextLesson:h,areNoMoreLessons:m,fetchNextLesson:y}},kI=()=>c.createElement("svg",{viewBox:"0 0 24 18"},c.createElement("g",null,c.createElement("path",{d:"M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"}))),TI=(e,t)=>(null==t?void 0:t.needsVerification)?e.needs_micro_deposit_verification:!(null==t?void 0:t.isVerificationReady)||e.needs_micro_deposit_verification&&e.micro_deposits_ready,II=e=>{const t=D((e=>{var t;return null==(t=e.liveAccount.liveAccounts)?void 0:t.accounts})),n=Object.keys(t||{}).map((e=>t[e])),[r,i]=c.useState(n.filter((t=>t.can_accept_transfers&&TI(t,e))));return c.useEffect((()=>{i(n.filter((t=>t.can_accept_transfers&&TI(t,e))))}),[t,e]),r},NI=()=>{const e=D(WT),t=c.useCallback((()=>{}),[]);return{optionsExperience:e.options_trading_experience,isEnabled:!1,canUseFeature:!1,setOptionsEnabled:t}};var AI=Object.defineProperty,PI=(e,t,n)=>(((e,t,n)=>{t in e?AI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class DI extends c.Component{constructor(){super(...arguments),PI(this,"_returnRewardsData",(()=>this.props.rewards)),PI(this,"_returnRedeemableRewardsCount",(()=>this._returnRewardsData().not_redeemed_count))}render(){return c.createElement(AT,{count:this._returnRedeemableRewardsCount(),className:this.props.className})}}var OI=T((e=>({rewards:e.rewards})))(DI);const LI=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function RI(){return c.createElement(LI,null,c.createElement("svg",{viewBox:"0 0 18 17",fill:"none"},c.createElement("path",{d:"M15.667 4H13.85c.092-.258.15-.542.15-.833a2.497 2.497 0 00-4.583-1.375L9 2.35l-.416-.567A2.51 2.51 0 006.5.667a2.497 2.497 0 00-2.5 2.5c0 .291.059.575.15.833H2.334C1.409 4 .675 4.742.675 5.667l-.008 9.166A1.66 1.66 0 002.334 16.5h13.333c.925 0 1.667-.742 1.667-1.667V5.667A1.66 1.66 0 0015.667 4zM11.5 2.333c.459 0 .834.375.834.834A.836.836 0 0111.5 4a.836.836 0 01-.833-.833c0-.459.375-.834.833-.834zm-5 0c.459 0 .834.375.834.834A.836.836 0 016.5 4a.836.836 0 01-.833-.833c0-.459.375-.834.833-.834zm9.167 12.5H2.334v-1.666h13.333v1.666zm0-4.166v2.5H2.334v-7.5h4.233L4.834 8.025 6.184 9l1.983-2.7L9 5.167 9.834 6.3 11.817 9l1.35-.975-1.733-2.358h4.233v5z",fill:"#1F1F1F"})))}var FI=T((e=>{const t=e.rewards;return{isReferralProgramActive:wp(e.currentUser),notRedeemedCount:t.not_redeemed_count}}))((e=>{const{isReferralProgramActive:t,notRedeemedCount:n}=e;return(n>0||t)&&c.createElement(IT,{name:"Rewards",customIcon:c.createElement(RI,null),customAdditionalElement:c.createElement(OI,{className:"vertical-nav-notifications-counter notification-circle-color"}),route:"/referrals",accentedTextColor:!0})}));const MI=u.div`
  margin-left: -2px;

  i {
    font-size: 16px;
  }
`,UI=u.div`
  svg {
    width: 20px;
    height: 20px;
  }
`,$I=()=>c.createElement(MI,null,c.createElement(IT,{name:"Learn and Earn",customIcon:c.createElement(UI,null,c.createElement(kI,null)),route:"/learn-and-earn-home",newRoute:!0})),BI=()=>{const e=ZT(),t=e.is_account_closed,n=1===e.show_red_dot_funding_page_when_bonus_test_group,{isEnabled:r}=NI(),{isFundingBonusEligible:i}=JT(),[a]=c.useState({isVerificationReady:!0}),s=II(a).length>0||n&&i?0:null;return t?c.createElement(pT,{groupName:"Portfolio"},c.createElement(IT,{name:"Dashboard",customIcon:c.createElement($T,null),route:"/"})):c.createElement(pT,{groupName:"Portfolio"},c.createElement(IT,{name:"Dashboard",customIcon:c.createElement($T,null),route:"/"}),c.createElement(MT,null),c.createElement(IT,{name:"Trade",customIcon:c.createElement(zT,null),route:"/orders"}),c.createElement(IT,{name:"Funding",customIcon:c.createElement(HT,null),route:"/funding",badgeCount:s}),c.createElement($I,null),!r&&!1,c.createElement(FI,null))},zI=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }

  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function VI(){return c.createElement(zI,null,c.createElement("svg",{viewBox:"0 0 18 18",fill:"none"},c.createElement("path",{d:"M11.5 2.333v5.834H3.31l-.492.491-.483.484V2.333H11.5zm.834-1.666H1.5a.836.836 0 00-.833.833v11.667L4 9.833h8.334A.836.836 0 0013.167 9V1.5a.836.836 0 00-.833-.833zM16.5 4h-1.666v7.5H4v1.667c0 .458.375.833.834.833H14l3.334 3.333v-12.5A.836.836 0 0016.5 4z",fill:"#1F1F1F"})))}var HI=T((e=>{const t=WT(e);return{testGroup:vp(t)}}))((e=>{const{testGroup:t}=e;if(0===t)return null;const n={1:"Ask A CTL",2:"Ask"}[t];return c.createElement(IT,{name:n,customIcon:c.createElement(VI,null),route:"/ask"})}));const WI=e=>Object.keys(e.lookup)[0]||null,jI=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function GI(){return c.createElement(jI,null,c.createElement("svg",{viewBox:"0 0 16 16",fill:"none"},c.createElement("path",{d:"M13.833 2.167h-1.666V.5H3.833v1.667H2.167C1.25 2.167.5 2.917.5 3.833v.834c0 2.125 1.6 3.858 3.658 4.116a4.175 4.175 0 003.009 2.467v2.583H3.833V15.5h8.334v-1.667H8.833V11.25a4.175 4.175 0 003.009-2.467C13.9 8.525 15.5 6.792 15.5 4.667v-.834c0-.916-.75-1.666-1.667-1.666zm-11.666 2.5v-.834h1.666v3.184a2.509 2.509 0 01-1.666-2.35zm5.833 5a2.507 2.507 0 01-2.5-2.5v-5h5v5c0 1.375-1.125 2.5-2.5 2.5zm5.833-5c0 1.083-.7 2-1.666 2.35V3.833h1.666v.834z",fill:"#1F1F1F"})))}T((e=>({collectiveUserId:WI(e.collectives)})))((e=>{const{collectiveUserId:t}=e;return c.createElement(IT,{name:"Top Performers",customIcon:c.createElement(GI,null),route:`/users/${t}/public_profile`})}));const qI=e=>e.userList,YI=e=>(e=>Object.keys(qI(e)).map((t=>qI(e)[t])))(e).filter((e=>hp(e)));var KI=Object.defineProperty,QI=(e,t,n)=>(((e,t,n)=>{t in e?KI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ZI extends c.Component{constructor(){super(...arguments),QI(this,"_returnNewNotificationsCount",(e=>{return t=this._returnUsersStore(),YI(t).length;var t})),QI(this,"_returnUsersStore",(()=>this.props.users))}render(){return c.createElement(AT,{count:this._returnNewNotificationsCount(),className:this.props.className})}}var XI=T((e=>({users:e.users})))(ZI);const JI=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function eN(){return c.createElement(JI,null,c.createElement("svg",{viewBox:"0 0 18 12",fill:"none"},c.createElement("path",{d:"M6.5 7.458c-1.95 0-5.833.975-5.833 2.917v1.458h11.667v-1.458c0-1.942-3.884-2.917-5.834-2.917zm-3.883 2.709c.7-.484 2.392-1.042 3.883-1.042 1.492 0 3.184.558 3.884 1.042H2.617zM6.5 6a2.92 2.92 0 002.917-2.917A2.92 2.92 0 006.5.167a2.92 2.92 0 00-2.916 2.916A2.92 2.92 0 006.5 6zm0-4.167c.692 0 1.25.559 1.25 1.25 0 .692-.558 1.25-1.25 1.25-.691 0-1.25-.558-1.25-1.25 0-.691.559-1.25 1.25-1.25zm5.867 5.675c.967.7 1.633 1.634 1.633 2.867v1.458h3.334v-1.458c0-1.683-2.917-2.642-4.967-2.867zM11.5 6a2.92 2.92 0 002.917-2.917A2.92 2.92 0 0011.5.167c-.45 0-.866.108-1.25.291.525.742.834 1.65.834 2.625 0 .975-.309 1.884-.834 2.625.384.184.8.292 1.25.292z",fill:"#1F1F1F"})))}const tN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function nN(){return c.createElement(tN,null,c.createElement("svg",{viewBox:"0 0 12 17",fill:"none"},c.createElement("path",{d:"M3.333 15.833c0 .459.375.834.834.834H7.5a.836.836 0 00.833-.834V15h-5v.833zM5.833 0A5.84 5.84 0 000 5.833a5.83 5.83 0 002.5 4.784V12.5c0 .458.375.833.833.833h5a.836.836 0 00.834-.833v-1.883a5.83 5.83 0 002.5-4.784A5.84 5.84 0 005.833 0zm2.375 9.25l-.708.5v1.917H4.167V9.75l-.709-.5a4.164 4.164 0 01-1.791-3.417c0-2.3 1.866-4.166 4.166-4.166 2.3 0 4.167 1.866 4.167 4.166A4.164 4.164 0 018.208 9.25z",fill:"#1F1F1F"})))}const rN=()=>{const e=(e=>1===e.thought_leaders_labeled_famous_investors_test_group?"Famous Investor":"Thought Leader")(ZT());return c.createElement(pT,{groupName:"People"},c.createElement(HI,null),c.createElement(IT,{name:"Connections",customIcon:c.createElement(eN,null),customAdditionalElement:c.createElement(XI,{className:"vertical-nav-notifications-counter notification-circle-color"}),route:"/users/connections",highlightOnTour:{tourStep:3}}),c.createElement(IT,{name:`${e}s`,customIcon:c.createElement(nN,null),route:"/users/thought_leaders"}),false)},iN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function aN(){return c.createElement(iN,null,c.createElement("svg",{viewBox:"0 0 12 16",fill:"none"},c.createElement("path",{d:"M10.167.5H1.834C.917.5.167 1.25.167 2.167V15.5L6 13l5.834 2.5V2.167c0-.917-.75-1.667-1.667-1.667zm0 12.5L6 11.183 1.834 13V2.167h8.333V13z",fill:"#1F1F1F"})))}const sN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function oN(){return c.createElement(sN,null,c.createElement("svg",{viewBox:"0 0 18 18",fill:"none"},c.createElement("path",{d:"M8.992.667C4.392.667.667 4.4.667 9s3.725 8.333 8.325 8.333c4.608 0 8.342-3.733 8.342-8.333S13.6.667 8.992.667zm5.775 5h-2.458a13.042 13.042 0 00-1.15-2.967 6.691 6.691 0 013.608 2.967zM9 2.367c.692 1 1.234 2.108 1.592 3.3H7.409c.358-1.192.9-2.3 1.591-3.3zm-6.45 8.3A6.868 6.868 0 012.334 9c0-.575.083-1.133.216-1.667h2.817C5.3 7.883 5.25 8.433 5.25 9s.05 1.117.117 1.667H2.55zm.684 1.666h2.458c.267 1.042.65 2.042 1.15 2.967a6.656 6.656 0 01-3.608-2.967zm2.458-6.666H3.234A6.656 6.656 0 016.842 2.7c-.5.925-.883 1.925-1.15 2.967zM9 15.633a11.74 11.74 0 01-1.591-3.3h3.183A11.74 11.74 0 019 15.633zm1.95-4.966h-3.9A12.26 12.26 0 016.917 9c0-.567.058-1.125.133-1.667h3.9c.075.542.134 1.1.134 1.667s-.059 1.117-.134 1.667zm.209 4.633c.5-.925.883-1.925 1.15-2.967h2.458a6.691 6.691 0 01-3.608 2.967zm1.475-4.633c.066-.55.116-1.1.116-1.667s-.05-1.117-.116-1.667h2.816c.134.534.217 1.092.217 1.667s-.083 1.133-.217 1.667h-2.816z",fill:"#1F1F1F"})))}const lN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function cN(){return c.createElement(lN,null,c.createElement("svg",{viewBox:"0 0 18 18",fill:"none"},c.createElement("path",{d:"M9 .667A8.336 8.336 0 00.667 9c0 4.6 3.733 8.333 8.333 8.333S17.334 13.6 17.334 9 13.6.667 9 .667zm0 15A6.676 6.676 0 012.334 9 6.676 6.676 0 019 2.333 6.676 6.676 0 0115.667 9 6.676 6.676 0 019 15.667zm-4.583-2.084l6.258-2.908 2.909-6.258-6.259 2.908-2.908 6.258zM9 8.083c.509 0 .917.409.917.917A.914.914 0 019 9.917.914.914 0 018.084 9c0-.508.408-.917.916-.917z",fill:"#1F1F1F"})))}const dN=()=>c.createElement("svg",{viewBox:"2 0 20 20"},c.createElement("g",null,c.createElement("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}))),uN=()=>{const e=1===ZT().new_explore_page_webapp;return c.createElement(pT,{groupName:"Ideas"},c.createElement(IT,{name:"Watchlist",customIcon:c.createElement(aN,null),route:"/ideas"}),e?c.createElement(IT,{name:"Explore Stocks",customIcon:c.createElement(dN,null),route:"/ideas/explore",highlightOnTour:{tourStep:2}}):c.createElement(c.Fragment,null,c.createElement(IT,{name:"Explore Stocks",customIcon:c.createElement(dN,null),route:"/ideas/explore",highlightOnTour:{tourStep:2}}),c.createElement(IT,{name:"Explorer",customIcon:c.createElement(cN,null),route:"/ideas/portfolio_explorer"}),c.createElement(IT,{name:"Popular Stocks",customIcon:c.createElement(oN,null),route:"/ideas/community"})))},hN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function pN(){return c.createElement(hN,null,c.createElement("svg",{viewBox:"0 0 19 16",fill:"none"},c.createElement("path",{d:"M10.833.5a7.5 7.5 0 00-7.5 7.5h-2.5l3.242 3.242.058.116L7.5 8H5a5.83 5.83 0 015.833-5.833A5.829 5.829 0 0116.666 8a5.829 5.829 0 01-5.833 5.833 5.786 5.786 0 01-4.117-1.716L5.533 13.3a7.462 7.462 0 005.3 2.2 7.5 7.5 0 000-15zM10 4.667v4.166l3.541 2.1.642-1.066-2.933-1.742V4.667H10z",fill:"#1F1F1F"})))}const mN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function gN(){return c.createElement(mN,null,c.createElement("svg",{viewBox:"0 0 11 18",fill:"none"},c.createElement("path",{d:"M3.998 18h-1l1-7h-3.5c-.88 0-.33-.75-.31-.78C1.478 7.94 3.418 4.54 6.008 0h1l-1 7h3.51c.4 0 .62.19.4.66C5.968 14.55 3.998 18 3.998 18z",fill:"#1F1F1F"})))}const yN=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function _N(){return c.createElement(yN,null,c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),c.createElement("path",{d:"M14 17H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})))}const fN=()=>{const e=ZT(),t=e.is_account_closed,n=QT(),r=Lp(e)&&!n;return c.createElement(pT,{groupName:"Account"},c.createElement(IT,{name:"History",customIcon:c.createElement(pN,null),route:"/portfolio/history"}),c.createElement(IT,{name:"Documents",customIcon:c.createElement(_N,null),route:"/documents"}),r&&!t&&c.createElement(IT,{name:"Live Trading",customIcon:c.createElement(gN,null),shouldMatchFirstSubDir:!0,subDir:"live_accounts",route:"/live_accounts/new"}))},vN=u.div`
  width: 20px;
  height: 20px;
  & > svg {
    width: 100%;
    height: 100%;
  }
  & circle,
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function EN(){return c.createElement(vN,null,c.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24},c.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z"}),c.createElement("circle",{cx:12,cy:9,r:2.5})))}var bN=_c(T((e=>{const t=e.tour;return{currentUserId:e.currentUser.user_id,tourStep:t.tour_step,isOnTour:t.is_on_tour}}))((e=>{const{pathname:t}=_(),{currentUserId:n,isOnTour:r,tourStep:i,dispatch:a,navigate:s}=e;return(!r||_T(i))&&"/"===t&&c.createElement(IT,{name:"Take A Tour",customIcon:c.createElement(EN,null),activeRoute:null,route:!1,additionalClickAction:()=>{TC("Clicked Start Tour",{})(),SC()(a),s(Ln("dashboard"))},highlightOnTour:{isEndOfTourHighlight:!0},noCollapse:!0})})));const CN=u.div`
  width: 20px;
  height: 20px;
  & > svg {
    width: 100%;
    height: 100%;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function xN(){return c.createElement(CN,null,c.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24},c.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})))}const wN=u("a")`
  &:hover {
    text-decoration: none;
  }
`,SN=e=>{const t=ZT().is_account_closed;return c.createElement(pT,{groupName:"Support"},c.createElement(wN,{href:"https://tornado.com/contact",target:"_blank",rel:"noopener noreferrer"},c.createElement(IT,{name:"FAQ",customIcon:c.createElement(xN,null)})),!t&&c.createElement(bN,null))},kN=u.div`
  box-sizing: border-box;
  display: inline-block;
  vertical-align: middle;
  overflow: visible;
  width: 40px;
  height: 40px;
  position: relative;
  top: 5px;
  left: 5px;
  & > svg {
    width: 25px;
    height: 25px;
  }
`;function TN(e){return c.createElement(kN,null,c.createElement("svg",{viewBox:"0 0 20 20",fill:"none"},c.createElement("path",{d:"M17.997 5.6c-.028-.333-.345-.607-.693-.6h-2.782c-1.391 0-2.087 1.334-2.087 1.334h3.19l-4.58 4.39-2.293-2.197a.718.718 0 00-.984 0l-5.565 5.335a.649.649 0 000 .943c.272.26.713.26.985 0l5.074-4.864 2.292 2.197a.705.705 0 00.49.197c.185 0 .362-.07.49-.197l5.075-4.86v3.056S18 9.668 18 8.334V5.667c0-.023 0-.043-.003-.067z",fill:"#222",className:"optimizer-arrow-icon"})))}var IN=Object.defineProperty,NN=(e,t,n)=>(((e,t,n)=>{t in e?IN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const AN=u("div")`
  & .optimizer-button-color-style {
    border-radius: 6px;
  }
`;class PN extends c.PureComponent{constructor(){super(...arguments),NN(this,"_renderNavOptimizerButton",(()=>{const e=this.generateButtonTopLineText(),t=this.generateButtonBottomLineText();return c.createElement(AN,null,c.createElement("div",{onClick:this.handleClick},c.createElement(CT,{tourStep:5}),c.createElement("a",{id:"optimize_button",className:"optimize optimizer-button-color-style",style:{textDecoration:"none"}},c.createElement("div",{className:"optimizer-button-body"},c.createElement("div",{className:"optimizer-logo-spacer"},c.createElement(TN,null)),c.createElement("div",{className:"optimizer-text-container"},c.createElement("span",{className:"top"},e),c.createElement("span",{ref:e=>this.bottomMessage=e,className:"bottom"},t))))))})),NN(this,"_renderViewOptimizerButton",(()=>c.createElement("div",{className:"view-optimizer-container"},c.createElement("div",{className:"optimize-link btn btn-secondary-color btn-small-tall",style:{textDecoration:"none"},onClick:this.handleClick},"View Rebalancer")))),NN(this,"handleClick",(()=>{if(this._logClick(),this.props.inVerticalNav&&this.props.closeNav(),!this._doesCurrentUserHaveActiveIdeas()){if(!this._isLoadingIdeas()){const e="/ideas/portfolio_explorer";return window.location=e,!0}return!1}setTimeout((()=>{(0,this.props.dispatch)({type:"OPEN_REBALANCER_PANEL"})}),150)})),NN(this,"_isLoadingIdeas",(()=>this.props.ideas.loadingCurrentUserIdeas)),NN(this,"_currentUserHasNoEquity",(()=>0===this.props.currentUser.equity)),NN(this,"_doesCurrentUserHaveActiveIdeas",(()=>Yp(this.props.currentUser.user_id,this.props.ideas))),NN(this,"generateButtonTopLineText",(()=>{const e=this.props.optimizer.data&&this.props.optimizer.data.summary_message,t=e&&e.split(" ").slice(0,2).join(" ");return this.props.optimizer.isOptimizerRunning?"Rebalancer is":this._doesCurrentUserHaveActiveIdeas()||this._isLoadingIdeas()?!this.props.currentUser||this.props.currentUser.equity>0?t||"Click to":this._currentUserHasNoEquity()?"To Rebalance":"Click to":"To Rebalance"})),NN(this,"generateButtonBottomLineText",(()=>{const e=this.props.optimizer.data&&this.props.optimizer.data.summary_message,t=e&&e.split(" ").slice(2,e.length).join(" ");return this.props.optimizer.isOptimizerRunning?"Analyzing Portfolio":this._doesCurrentUserHaveActiveIdeas()||this._isLoadingIdeas()?!this.props.currentUser||this.props.currentUser.equity>0?t||"Rebalance":this._currentUserHasNoEquity()?"Add Funding":"Rebalance":"Add Ideas"})),NN(this,"createOpenRebalancerFailureMessage",(()=>{bb({contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not run the rebalancer at this time. Please try again later."),dismissable:!0})(this.props.dispatch)})),NN(this,"_logNavButtonClick",(()=>{TC("Clicked Open Rebalancer Button",{Context:"In Nav"})()})),NN(this,"_logViewButtonClick",(()=>{TC("Clicked Open Rebalancer Button",{Context:"In Dashboard"})()})),NN(this,"_logClick",(()=>{this.props.viewOptimizerMessage?this._logViewButtonClick():this._logNavButtonClick()}))}render(){return this.props.viewOptimizerMessage?this._renderViewOptimizerButton():this._renderNavOptimizerButton()}}T((e=>({ideas:e.ideas,optimizer:e.optimizer,currentUser:e.currentUser})))(PN);const DN="tooltip_order_type",ON="tooltip_bid_ask_order",LN="tooltip_fractional_trading_disabled",RN="tooltip_fractional_trading_disabled_stop_orders",FN="tooltip_order_type_paper_trading",MN={tooltip_price_target:"Prediction for the future price of the stock or ETF at the time horizon.",[FN]:"Only market orders are enabled for Simulated Trading Accounts.",[RN]:"Trading shares in fractions or trading by dollar amounts is not currently supported for stop and stop limit orders.",[LN]:"Trading shares in fractions or trading by dollar amounts is not currently supported for this instrument.",[DN]:'<p>Each order type is a tool you can use to accomplish your goal:</p><p>A "Market Order" allows you to buy or sell as soon as possible at the prevailing market price when the stock market is open.</p><p>A "Limit Order" allows you to specify a price (the Limit Price) where you want your trade to occur.  Your trade will be executed at the limit price or better, or it won\'t be executed at all.</p><p>A "Stop Order" allows you to specify a price (the Stop Price) where if the prevailing market price goes above, if buy order, or goes below, if sell order, the order will be executed as soon as possible at the prevailing market price when the stock market is open, or it won\'t be executed at all.</p><p></p>',tooltip_expected_return:`<p>Your projection for how much the stock price will appreciate over the time horizon, plus dividends.</p><p>You can customize your projected price appreciation (or set a price target) by editing your idea.  The optimizer will take this into account when determining your ideal allocations.</p><p>When you create an idea, the projected price appreciation is initially set to your default expected return. You can update your default expected return anytime in the <a href='${window.location.pathname}?optimizer=1'>optimizer settings</a>.</p>`,tooltip_expected_return_idea_panel:"Your projection for how much the stock price will appreciate from the current price over your selected time horizon, excluding dividends. This value remains fixed regardless of movements in the stock price.",tooltip_expected_return_minus_dividends:"Your projection for how much the stock price will appreciate over the time horizon, excluding dividends.",tooltip_allocation:"The number of shares of this stock or ETF in the portfolio. A negative value indicates a short position.",tooltip_optimized_allocation:"These position sizes would maximize your projected returns, subject to your risk constraints and investment objectives.",tooltip_analysis:"The Optimizer analyzes your investment ideas in the context of your entire portfolio. It gives you information about the return, volatility and how diversifying each position can be. Return tells you how much you can expect to gain from a position for that stock or ETF. Volatility reflects how much the price of the stock or ETF has fluctuated in the past. Diversifying indicates how complementary the stock or ETF is to your portfolio, based on whether it’s correlated with your other stocks or ETFs.",tooltip_nvstr_paper_trading:`This is a simulated bank account that you can use to move simulated funds in and out of your ${Xo} account. You can deposit up to a total of $1,000,000 of simulated funds into your ${Xo} account.`,tooltip_only_bank_account:"You must have at least one linked account. To remove this account, please add another external account first.",tooltip_funding_see_tos:"See <a href='/terms_of_service' target='_blank'>Terms of Service</a> for details.",tooltip_buying_power:"The approximate value of additional securities you can buy or sell short.  If you exceed your available cash, trades will be funded via a margin loan.  The interest rate on margin loans is currently 6.5% per year.",tooltip_credit_earned_paper:"Credit will be applied to commissions you pay on live trades after you've funded your account.",tooltip_credit_earned:"Credit will be applied to commissions you pay on trades.",tooltip_commission_credit:"Credit will be applied to your account in 1-2 business days.",tooltip_manual_order_panel:"You must create a new idea for #{symbol} when you take a position in it.",tooltip_bid_ask:"Bid is the approximate price you will get if you’re selling shares. Ask is the approximate price you will get if you’re buying shares.",[ON]:"<p><b>Bid</b>&nbsp;is the highest price at which the security can be sold in the market.</p><p><b>Ask</b>&nbsp;is the lowest price at which the security can be bought in the market.</p><p>These prices are determined by market participants.  Quantity is the number of shares available to buy or sell at the quoted price.</p>",tooltip_sec_rule_for_short_sale:"The SEC <a href='https://www.sec.gov/rules/final/34-50103.htm' target='_blank'>requires</a> short and long sales to be marked separately, even if they are for the same stock.",tooltip_order_form_sec_rule_for_short_sale:"The SEC <a href='https://www.sec.gov/rules/final/34-50103.htm' target='_blank'>requires</a> short and long sales to be marked separately, so this order will be placed as two orders",tooltip_order_form_sec_rule_for_long_sale:"Buy to cover and buy orders must be placed separately, so this order will be placed as two orders.",tooltip_requires_trade_approval:`After you submit orders on ${Xo}, you will be notified by email when your orders are approved or rejected. If they are approved, they will be placed automatically. Any warnings that occur during order placement, such as the market being closed or exceeding your maximum leverage setting, will be ignored and the orders will be placed anyway.`,tooltip_ask_why:"Ask your connection to add additional thoughts on why they are interested in this stock.",tooltip_direction:"Will the price go up (buy) or down (sell)?",tooltip_conviction:"Strength of belief in the idea. This will affect the maximum possible position size the optimizer can suggest for this stock.",tooltip_expected_dividend:"The annualized dividend yield expected from this stock (defaults to historical or analyst projection if available).",tooltip_horizon:"The time it will take to reach the expected return or price target. Long Term is 12 months, Short Term is 6 months.",tooltip_thesis:"General category of reasoning behind this idea.",tooltip_thesis_value:"Valuation metrics suggest stock is mispriced",tooltip_thesis_event:"Specific catalyst will reprice the stock",tooltip_thesis_growth:"End markets are growing fast",tooltip_thesis_dividend:"Invest for income",tooltip_thesis_momentum:"Supply/demand causing recent movement to persist",tooltip_thesis_safety:"High quality, stable stock",tooltip_thesis_management:"Invest based on quality of the company's leadership team",tooltip_thesis_macro:"Economic trends will affect the value of this company",tooltip_thesis_turnaround:"Rehabilitation of the company will unlock value",tooltip_price_earnings_ratio:"The ratio of the share price to earnings per share for the past year. A low positive value indicates the stock or ETF is priced inexpensively relative to its earnings.",tooltip_backward_pe_ratio:"The ratio of the share price to earnings per share for the past year. A low positive value indicates the stock or ETF is priced inexpensively relative to its earnings.",tooltip_forward_pe_ratio_this_year:"Price / Earnings using analyst consensus earnings estimates for the current fiscal year. Indicates how the stock is priced relative to future earnings expectations.",tooltip_forward_pe_ratio_next_year:"Price / Earnings using analyst consensus earnings estimates for the next fiscal year. Indicates how the stock is priced relative to future earnings expectations.",tooltip_forward_pe_ratio_next_next_year:"Price / Earnings using analyst consensus earnings estimates for the fiscal year after next. Indicates how the stock is priced relative to future earnings expectations.",tooltip_forward_eps_this_quarter:"Analyst consensus earnings per share for the current fiscal quarter. Indicates future earnings expectations per share.",tooltip_forward_eps_this_year:"Analyst consensus earnings per share for the current fiscal year. Indicates future earnings expectations per share.",tooltip_price_to_tangible_book_value:"The ratio of the share price to the company’s tangible book value per share. Tangible book value is a way to measure the value of the assets owned by the company.",tooltip_dividend_yield:"The annualized cash dividend declared as a percentage per share.",tooltip_market_cap:"The total value of all shares of the company.",tooltip_net_debt:'Total debt minus cash and short term investments. Parenthesis "()" indicate a negative value, which means the company has net cash.',tooltip_avg_analyst_two_yr_rev_growth:"Analyst 2-Yr Projected Revenue Growth is based on consensus revenue estimates for the current fiscal year and two fiscal years forward, sourced from S&P Global Market Intelligence.  Certain contributor estimates may be excluded by S&P Global Market Intelligence, for example, if an estimate is stale, or a major event such as M&A occurs and an estimate has not been revised or affirmed.",tooltip_analyst_2yr_growth_projection:"Analyst 2-Yr Projected Revenue Growth is based on consensus revenue estimates for the current fiscal year and two fiscal years forward, sourced from S&P Global Market Intelligence.  Certain contributor estimates may be excluded by S&P Global Market Intelligence, for example, if an estimate is stale, or a major event such as M&A occurs and an estimate has not been revised or affirmed.",tooltip_projected_revenue_growth:"Analyst 2-Yr Projected Revenue Growth is based on consensus revenue estimates for the current fiscal year and two fiscal years forward, sourced from S&P Global Market Intelligence.  Certain contributor estimates may be excluded by S&P Global Market Intelligence, for example, if an estimate is stale, or a major event such as M&A occurs and an estimate has not been revised or affirmed.",tooltip_short_sales_allowed:"A short sale is when you sell borrowed shares of a stock or ETF, with the expectation it will go down. If the price of the shares goes down, the borrowed shares can be bought back, which generates a net profit for the short seller.  If the share price goes up, losses are generated.  Since a stock can go up indefinitely, in theory, these losses are unbounded.",tooltip_max_leverage:"Leverage is the ratio of the total value of the non-cash assets in the portfolio to the net value of the account. A Max Leverage value less than one indicates you want to keep a portion of the account allocated to cash. A Max Leverage value greater than one indicates that you are willing to take on a margin loan.",tooltip_cash_reserve_minimum:"The minimum amount of cash you want to maintain in the account.",tooltip_portfolio_beta_constraint:"The portfolio beta is a measure of how closely it moves with the broader market.  For example, a beta of 1.5 indicates if the broad market moves up or down, your portfolio may return roughly 1.5x that amount.",tooltip_portfolio_volatility_invest_obj:"The maximum volatility you want to allow when determining the optimal position sizes.  Volatility is a measure of risk which indicates how much your portfolio is likely to move up or down.  It is based on the standard deviation of historical price movements.",tooltip_minimum_dividend_income:"The total value of expected dividends you want the portfolio to earn in a year.",tooltip_max_position_allocation:"The maximum fraction of your total portfolio that you want any single position in a stock or concentrated ETF to take.",tooltip_max_diversified_etf_allocation:"The maximum fraction of your total portfolio that you want any single position in a diversified ETF to take.",tooltip_allocation_constraint:"Minimum and maximum position sizes (in shares) that you want to maintain in a specific stock or ETF. The optimizer will take these ranges into account and attempt to keep that position size within them, regardless of whether that’s otherwise optimal.",tooltip_projected_return:"The projected 1-year gain on your portfolio given your current price targets, expected dividends, and your current and optimized allocations; also the difference between your current and optimized projected gains, shown in $ and %.",tooltip_portfolio_volatility:"The maximum volatility you want to allow when determining the optimal position sizes.  Volatility is a measure of risk which indicates how much your portfolio is likely to move up or down.  It is based on the standard deviation of historical price movements.",tooltip_estimated_dividends:"The difference between projected dividends you may receive over the next year with your current and optimized portfolios.  For example, if the current portfolio is projected to pay $100 in dividends and the new portfolio is projected to pay $110, this number would be +$10.",tooltip_market_beta:"The difference in market exposure between your current and optimized portfolios.  For example, if your current portfolio has a beta of 1.0 (same exposure as the broad market) and your optimized portfolio has a beta of 0.9 (lower exposure than the market), this value would be 0.9 - 1.0 = -0.1.",thought_explanation:"Each Pro or Con is a short comment on why this stock or ETF might go up or down. You can also include a link to an article.",tooltip_thought_leader:"Famous Investor positions are sourced from publicly available information about the recent positions of institutional investors. Famous Investor positions are provided for informational purposes only and are not recommendations. More details can be found <a href='/terms_of_service#section9' target='_blank'>here</a>.",tooltip_default_expected_return_percentage:"Historically, stock prices have gone up by around 7% each year (excluding dividends). We'll use this value to default the expected returns on your ideas. You can always change them later.",top_connections_ideas_today:"Performance numbers reflect the average percent change in each of your connections' stocks.",performance_numbers:"Performance numbers reflect the average percent daily change in a user's ideas.",portfolio_rank:`<p>Rank refers to percentile rank of user's portfolio profit/loss for the previous calendar week relative to all other ${Xo} users.</p><p>Unranked refers to users in the bottom 50%.</p><p>Incomplete refers to users that have not yet placed a trade.</p>`,tooltip_collective_user:`Ideas from top performing ${Xo} users (annualized returns in the top 10th percentile)`,tooltip_nvstr_community_chart:`Long and short % values refer to the percentage of ${Xo} community members who have long and short ideas respectively.`,tooltip_community_thought_leader:`<p>Community Thought Leaders are select members of the ${Xo} community who are compensated for their contributions. They include former Wall Street pros - for example, one spent 10+ years at a $2 billion fund. Another was formerly an Institutional Investor-ranked analyst at Citigroup and Barclays.</p><p><a href='/faq?section=community-thought-leaders' target='_blank'>See here</a> for details, including how you can become one.</p><p style="margin-top: 3px">Community Thought Leader content is not a recommendation or investment advice.</p>`,tooltip_viewpoint:`<p>Viewpoint Contributors are financial content creators who have chosen to share their insights with the ${Xo} community and may be compensated by ${Xo}.</p><p style="margin-top: 5px"><a href='/faq?section=viewpoint-contributors' target='_blank'>See here</a> for details, including how you can become one.</p><p style="margin-top: 9px">Viewpoint Contributor content is not a recommendation or investment advice.</p>`,tooltip_external_positions_unmapped_security:`This instrument is not currently available on ${Xo}.`,tooltip_recurring_deposit_day_selection:"If you select the 31st and there are only 30 days in the month, the deposit will be made on the 30th."},UN=function(e,t="this security"){return MN[e]?MN[e]:""},$N=e=>{const t=e.pending_equity_reasons;return t?c.createElement(c.Fragment,null,t.map(((e,t)=>c.createElement("div",{key:`pending-equity-reason-${t}`,style:{padding:3}}," ",e," ")))):"Loading"},BN="u",zN={isOpen:null,prevCloseTime:null,nextOpenTime:null,nextCloseTime:null,isMarketOpeningToday:null};function VN(e,t){switch(t.type){case BN:{const n=t.payload;return e.isOpen!==n.isOpen||e.nextOpenTime!==n.nextOpenTime||e.prevCloseTime!==n.prevCloseTime||e.nextCloseTime!==n.nextCloseTime||e.isMarketOpeningToday!==n.isMarketOpeningToday?o({},n):e}default:return e}}const HN=e=>{const{prev_market_close_timestamp:t,next_market_open_timestamp:n,next_market_close_timestamp:r}=e,i=t,a=n,s=r,o=Gl().valueOf()>=a;return{isOpen:Yl("l",Gl(a))!==Yl("l",Gl(s))||o,isMarketOpeningToday:Yl("l",Gl(a))===Yl("l",Gl()),prevCloseTime:i,nextOpenTime:a,nextCloseTime:s}},WN=()=>{const e=D((e=>e.application.marketState));return{isOpen:e===kc,isInExtendedTrading:e!==kc}},jN=()=>{const{prev_market_close_timestamp:e,next_market_open_timestamp:t,next_market_close_timestamp:n}=D((e=>e.application.marketHoursData)),[r,i]=c.useReducer(VN,zN,(()=>HN({prev_market_close_timestamp:e,next_market_open_timestamp:t,next_market_close_timestamp:n})));return c.useEffect((()=>{const r=HN({prev_market_close_timestamp:e,next_market_open_timestamp:t,next_market_close_timestamp:n});i({type:BN,payload:r})}),[e,t,n]),r},GN=()=>{const e=D((e=>e.application.marketState)),t=e===Sc,n=e===Tc||e===Ic,r=t||n;return{isPreMarket:t,isAfterMarket:n,isInExtendedTrading:r,extendedTradingPrefix:r?t?"Pre mkt":"Post mkt":"",extendedTradingPrefixShort:r?t?"Pre":"Post":""}},qN=(e,t,n)=>e?t?"As of "+Yl("asOf",Gl((e=>{let t;return Object.values(e).forEach((e=>{t||(t=e),t>e&&(t=e)})),t})(n))):null:"As of market close",YN=()=>D((e=>{var t,n;return null==(n=null==(t=e.portfolio)?void 0:t.cash)?void 0:n.value})),KN=()=>{const{isOpen:e}=jN(),t=(()=>{const e=ZT();return!Wp(e)})(),n=iI(),r=nI(),i=D((e=>e.livePrice.lookupById)),{value:a,isInvalid:s,priceAsOfTimes:o,extendedHoursValue:l,latestExtendedHoursAsOfTime:c}=((e,t,n)=>{let r=!1,i=0,a=0;const s={},o={};let l=null;return e.map((e=>t[e])).forEach((e=>{const t=n[e.security_id]||{},{price:c,priceAsOf:d,extendedPrice:u,extendedChange:h,extendedAsOf:p}=t;isNaN(c)||null===c?r=!0:(s[e.security_id]=d,i+=c*e.shares,null===u||isNaN(u)||(a+=h*e.shares,o[e.security_id]=p,(null===l||p>l)&&(l=p)))})),{isInvalid:r,value:r?null:i,extendedHoursValue:r?null:i+a,priceAsOfTimes:s,extendedHoursAsOfTimes:o,latestExtendedHoursAsOfTime:l}})(n,r,i);return{value:a,isLoading:s,priceAsOfTimes:o,pricingAsOfTimeDisplay:qN(e,t,o),extendedHoursValue:s?null:l,extendedHoursValueAsOfTimeDisplay:"As of "+Yl("asOf",Gl(c))}},QN=()=>{const{value:e,isLoading:t,pricingAsOfTime:n,pricingAsOfTimeDisplay:r,extendedHoursValue:i,extendedHoursValueAsOfTimeDisplay:a}=KN(),s=YN();return{value:e+s,isLoading:t,pricingAsOfTime:n,pricingAsOfTimeDisplay:r,extendedHoursValue:t?null:i+s,extendedHoursValueAsOfTimeDisplay:a}},ZN=()=>{const{isPreMarket:e}=GN(),{value:t}=QN(),n=iI(),r=nI(),i=D((e=>e.livePrice.lookupById)),{value:a,isLoading:s,extendedValue:o}=((e,t,n)=>{let r=!1,i=0,a=0;const s={},o={};let l=null;return e.map((e=>t[e])).forEach((e=>{const{price:t,priceAsOf:c,previousClose:d,extendedPrice:u,extendedChange:h,extendedAsOf:p}=n[e.security_id]||{};if(isNaN(t)||null===t)r=!0;else{const{unrealized_shares_transacted_today:n,unrealized_shares_as_of_yesterday:r,previous_close_price:m,cost_of_unrealized_shares_transacted_today:g,shares:y,security_id:_}=e,f=d||m;s[_]=c,i+=r*t-r*f+(n*t-g),null===u||isNaN(u)||(a+=h*y,o[_]=p,(null===l||p>l)&&(l=p))}})),{isInvalid:r,value:r?null:i,extendedValue:r?null:a,priceAsOfTimes:s,extendedHoursAsOfTimes:o,latestExtendedHoursAsOfTime:l}})(n,r,i);return{isLoading:s,value:e?0:a,percentage:e||0===t||s?0:100*(t/(t-a)-1),extended:{value:o,percentage:0===t||s?0:100*(t/(t-o)-1)}}},XN=()=>{const{value:e,isLoading:t}=KN(),n=YN();return{isLoading:t,value:n,percentageOfEquity:(e+n)/n}},JN=()=>{const e=ZT();return{pendingEquityValue:(e.pending_equity||0)-(e.equity||0),pendingEquityReasons:$N(e)}},eA=()=>c.createElement("svg",{viewBox:"0 0 20 20"},c.createElement("path",{d:"M17.997 5.6c-.028-.333-.345-.607-.693-.6h-2.782c-1.391 0-2.087 1.334-2.087 1.334h3.19l-4.58 4.39-2.293-2.197a.718.718 0 00-.984 0l-5.565 5.335a.649.649 0 000 .943c.272.26.713.26.985 0l5.074-4.864 2.292 2.197a.705.705 0 00.49.197c.185 0 .362-.07.49-.197l5.075-4.86v3.056S18 9.668 18 8.334V5.667c0-.023 0-.043-.003-.067z"})),tA=u.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,nA=u.div`
  position: relative;
  button {
    height: 36px;
    padding: 2px 8px;

    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
`,rA=u.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding-right: 8px;

  svg {
    height: 24px;
    width: 24px;
    fill: ${({theme:e})=>e.themeColors.buttonText};
  }
`,iA=u.div`
  text-align: left;
  font-size: 8px;
  line-height: 12px;
`,aA=u.div`
  text-align: left;
  font-size: 11px;
  line-height: 1;
`,sA=({viewOptimizerMessage:e,inVerticalNav:t,closeNav:n})=>{const r=P(),i=ZT(),a=D((e=>e.optimizer)),s=D((e=>e.ideas)),o=QN(),l=Yp(i.user_id,s),d=()=>{e?TC("Clicked Optimizer Button",{Context:"In Dashboard"})():TC("Clicked Optimizer Button",{Context:"In Nav"})()},u=()=>{if(t&&n(),d(),!l){if(!s.loadingCurrentUserIdeas){const e="/ideas/portfolio_explorer";return window.location=e,!0}return!1}setTimeout((()=>{!function(e){e({type:"OPEN_OPTIMIZER_PANEL"})}(r)}),150)};if(e)return c.createElement(nA,null,c.createElement(CT,{tourStep:5}),c.createElement(hx,{onClick:u},c.createElement(tA,null,c.createElement(rA,null,c.createElement(eA,null)),c.createElement(Iw,null,c.createElement(iA,null,"View"),c.createElement(aA,null,"Optimizer")))));const h=(()=>{const e=a.data&&a.data.summary_message,t=e&&e.split(" ").slice(0,2).join(" ");return a.isOptimizerRunning?"Optimizer is":l||s.loadingCurrentUserIdeas?!i||o>=5?t||"Click to":o<5?"To Optimize":"Click to":"To Optimize"})(),p=(()=>{const e=a.data&&a.data.summary_message,t=e&&e.split(" ").slice(2,e.length).join(" ");return a.isOptimizerRunning?"Analyzing Portfolio":l||s.loadingCurrentUserIdeas?!i||o>=5?t||"Run Optimizer":o<5?"Add Funding":"Run Optimizer":"Add Ideas"})();return c.createElement(nA,null,c.createElement(CT,{tourStep:5}),c.createElement(hx,{onClick:u,id:"optimize_button"},c.createElement(tA,null,c.createElement(rA,null,c.createElement(eA,null)),c.createElement(Iw,null,c.createElement(iA,null,h),c.createElement(aA,null,p)))))};class oA extends c.PureComponent{render(){return c.createElement(sA,o({},this.props))}}const lA=u.div`
  height: calc(100vh - 64px);

  border-top: none !important;
  border-bottom: none !important;
  border-left: none !important;
  // border-right: 1px solid ${({theme:e})=>e.themeColors.border};
  overflow: auto;

  .vertical-nav-group-item-container,
  .vertical-nav-group-item-container.active-nav-item {
    border: none;
  }

  .new-route-container {
    font-size: 10px;
    position: absolute;
    top: -4px;
    right: -25px;
  }
`,cA=()=>ZT().is_content_editor?c.createElement("div",null,c.createElement(pT,{groupName:"Admin"},c.createElement(IT,{name:"Lesson Entry",customIcon:c.createElement(aN,null),route:"/learn-and-earn-entry"}),c.createElement(IT,{name:"Lesson Review",customIcon:c.createElement(cN,null),route:"/learn-and-earn-lesson-review"}))):null;var dA=Xk(_c((e=>{D((e=>e.banner));const t=D((e=>e.nav)),n=P(),r=ZT().is_account_closed,{alwaysOpen:i}=t;C.exports.useState(699);return r?c.createElement(lA,{className:"vertical-nav-body"},c.createElement(BI,null),c.createElement(fN,null),c.createElement(SN,null),c.createElement("div",{style:{padding:"25px"}})):c.createElement(lA,{className:"vertical-nav-body"},c.createElement(uT,{maxWidth:976},c.createElement(Iw,{horizontal:8},c.createElement(oA,{closeNav:()=>{i||function(e){e({type:"HIDE_VERTICAL_NAV"})}(n)},inVerticalNav:!0}))),c.createElement(BI,null),c.createElement(rN,null),c.createElement(uN,null),c.createElement(fN,null),c.createElement(SN,null),c.createElement(cA,null),c.createElement("div",{style:{padding:"25px"}}))})));const uA=u.div`
  height: 100%;
  min-width: 185px;
  z-index: 1100;
`,hA=u.div`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  position: fixed;
  top: 0;
  left: 0;
  min-width: 185px;
  z-index: 1100;

  a {
    text-decoration: none;
    color: ${({theme:e})=>e.themeColors.text};
  }
`,pA=e=>c.createElement(uA,null,c.createElement(hA,null,c.createElement(dT,null),c.createElement(dA,null)));var mA=Object.defineProperty,gA=(e,t,n)=>(((e,t,n)=>{t in e?mA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class yA extends C.exports.Component{constructor(){super(...arguments),gA(this,"handleClick",(e=>this.props.handleClick())),gA(this,"showOverlay",(()=>this.props.showOverlay)),gA(this,"determineOpacity",(()=>this.showOverlay()?"":"overlay-hidden")),gA(this,"_returnCustomClass",(()=>this.props.customClass)),gA(this,"_returnCSSClasses",(()=>{let e=[];return this.props.additionalClasses&&e.push(this.props.additionalClasses),this.props.fixedCenter&&e.push("overlay-fixed-center"),this.props.light&&e.push("light-overlay"),e.join(" ")}))}componentDidUpdate(e,t,n){this.props.showOverlay?$("body").css("overflow","hidden"):e.showOverlay&&!this.props.showOverlay&&$("body").css("overflow","auto")}componentWillUnmount(){this.props.showOverlay&&$("body").css("overflow","auto")}render(){return c.createElement("div",{className:`overlay-wrapper ${this._returnCSSClasses()}`},c.createElement("div",{className:`panel-overlay opacity-animation ${this.determineOpacity()} ${this._returnCustomClass()}`,onClick:this.handleClick}),this.props.children)}}const _A=u.div`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  height: 100%;
  min-width: 185px;
  z-index: 1100;

  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  -webkit-transform: translateX(0px);
  transform: translateX(0px);
  will-change: transform;

  &.open {
    -webkit-transform: translateX(0px);
    transform: translateX(0px);
    transition: all 330ms ease-out;
  }
  &.closed {
    -webkit-transform: translateX(-103%);
    transform: translateX(-103%);
    transition: all 130ms ease-in;
  }
`;u.div`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  a {
    text-decoration: none;
    color: ${({theme:e})=>e.themeColors.text};
  }
`;var fA=Xk(_c((e=>{D((e=>e.banner));const t=D((e=>e.nav)),n=P(),{collapsed:r,alwaysOpen:i}=t,a=r&&!i;return c.createElement(yA,{showOverlay:!a,handleClick:()=>{i||function(e){e({type:"HIDE_VERTICAL_NAV"})}(n)},customClass:"nav-overlay"},c.createElement(_A,{className:`\n          ${a?"closed":"open"}\n        `},c.createElement(dT,null),c.createElement(dA,null)))})));const vA=u.div`
  .vertical-nav-header {
    position: relative;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    height: 64px;
    padding: 0 0 0 15px;
  }
  .vertical-nav-header {
    border-top: none !important;
    border-bottom: none !important;
    border-left: none !important;
  }
  .vertical-nav-dismiss-container {
    position: absolute;
    top: 10px;
    right: 15px;
  }
`;var EA=T((e=>({nav:e.nav,isOnboarding:Sp(e.currentUser)})))((e=>{const{nav:t,isOnboarding:n}=e,{alwaysOpen:r}=t;return n?null:c.createElement(vA,null,r?c.createElement(pA,null):c.createElement(fA,null))}));const bA=e=>e.restricted?null:e.loading?c.createElement(_e,{icon:"fading-3balls",size:"small"}):c.createElement("div",{className:`react-nav-item-container ${e.additionalClasses}`},e.children),CA=u.div`
  width: 17px;
  height: 17px;
  & > svg {
    width: 17px;
    height: 17px;
  }

  & > svg {
    display: block;
    overflow: visible;
    animation-name: spin-cycle;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function xA(){return c.createElement(CA,null,c.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none"},c.createElement("path",{d:"M10.917 9.667h-.659l-.233-.225a5.393 5.393 0 001.308-3.525 5.416 5.416 0 10-5.416 5.416 5.393 5.393 0 003.525-1.308l.225.233v.659l4.166 4.158 1.242-1.242-4.158-4.166zm-5 0a3.745 3.745 0 01-3.75-3.75 3.745 3.745 0 013.75-3.75 3.745 3.745 0 013.75 3.75 3.745 3.745 0 01-3.75 3.75z",fill:"#201F2C"})))}const wA=({thick:e})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e?c.createElement("path",{d:"M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z"}):c.createElement("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})),SA=u.div`
  position: absolute;
  z-index: 2;
  left: -12px;
  top: 3px;
`,kA=u.div`
  position: absolute;
  z-index: 2;
  left: 12px;
  top: ${e=>e.iconTopPos||"17px"};
`,TA=u.div``,IA=({loading:e,showPlus:t,iconTopPos:n})=>e?c.createElement(SA,null,c.createElement(KC,{isSmall:!0})):c.createElement(kA,{iconTopPos:n},t?c.createElement(wA,{thick:!0}):c.createElement(xA,null)),NA=e=>{const{query:t,iconTopPos:n,loading:r,showPlus:i}=e,a=e.className||"search-input",s=e.placeholder||"Search",d=e.name||"security-query",u=e.id,h=o({},u?{id:u}:{});return c.createElement(TA,{className:a},c.createElement(IA,o({},e)),c.createElement("input",l(o({},h),{name:d,type:"text",value:t,placeholder:s,onChange:t=>{e.handleChange(t)},autoFocus:e.autoFocus,spellCheck:"off",autoCorrect:"off",autoComplete:"off"})))},AA=u.li`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
`,PA=e=>{const t=t=>{const n=e.query.toLowerCase().split(""),r=t.toLowerCase().split("");return n.every(((e,t)=>e===r[t]))},n=e.noResults?"Your search returned no results.":(()=>{if("security"===e.resultType){const n=e.result,r=n.name;return c.createElement("span",{className:"security-search-result limit-name-width"},c.createElement("span",{className:t(n.symbol)?"bold":""},`${n.symbol}`),c.createElement("span",{className:!t(n.symbol)&&t(r)?"bold":"",style:{marginLeft:"2px"}},` ${r}`))}})();return c.createElement(AA,{id:`${e.resultType}-${e.result?e.result.id:"no-results"}`,className:`search-result ${e.isActive?"active":""} border-accent`,style:e.style,onMouseOver:()=>{e.makeQueryResultActive&&e.makeQueryResultActive(e.result)}},n)},DA=u.div`
  ul {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }
  li {
    &:hover {
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};

      * {
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      }
    }
  }
`,OA=e=>{const t=37.5;if(!e.show||e.loading||null===e.results)return c.createElement("div",{className:"hidden"});const{activeQueryResult:n,maxResultsSize:r}=e,i=e.results.slice(0,r),a=$(`#${e.inputId}`).width();return c.createElement(DA,{className:"search-results-container"},c.createElement("ul",{className:"search-results-list",style:{height:i.length*t+"px"}},i.map(((r,i)=>{return c.createElement(PA,{inputWidth:a,key:`res-${i}`,query:e.query,result:r,resultType:"security",isActive:n===r,style:(s=i,{top:s*t+"px"}),makeQueryResultActive:e.makeQueryResultActive});var s})),0===i.length?c.createElement(PA,{noResults:!0}):null))};var LA=Object.defineProperty,RA=(e,t,n)=>(((e,t,n)=>{t in e?LA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const FA=u.div`
  #nav_securities_search {
    border: ${({theme:e})=>e.colorThemeName===Er.dark?"none":`1px solid ${e.themeColors.border}`};

    border-radius: 5px;
  }
  #comp_table_add_stock,
  #add-thought-security-search {
    border: none;
  }
  #add-to-portfolio-search {
    border: 1px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 5px;
  }
  #ask_ctl_stock_search {
    border: 1px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 5px;
  }
  &#add-order-security-search_container {
    border: 1px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 5px;
    input {
      border: none;
      border-radius: 5px !important; // prevent clipping
    }
  }
  input {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
    border-color: ${({theme:e})=>e.themeColors.border};
    border: none;
  }
  input::placeholder {
    font-size: 12px !important;
    opacity: 1;
    color: ${({theme:e})=>e.themeColors.text} !important;
  }
`;class MA extends C.exports.Component{constructor(e){super(e),RA(this,"_dismissAfterSelection",(()=>{this.clearQuery(),this._blur()})),RA(this,"_blur",(()=>{const e=this.props.id;e||console.warn("Cannot blur without id"),$("#"+e).blur()})),RA(this,"bindSearchResultClickListener",(()=>{$(this.searchContainer).on("click",(e=>{const t=e.target;if(t.classList.contains("search-result")){const e=t.id.split("-")[1],n=this.returnQueryResults();this.handleSecurityQuerySelection(n.filter((t=>t.id===e))[0])}}))})),RA(this,"stopClickFromBubbling",(e=>{if(!e)return console.error("Missing ref to attach handler to"),!1;$(e).on("click",(e=>{e.stopPropagation()}))})),RA(this,"setHideListener",(()=>{$(document).on("click",this.cancelQueryOnClickAway)})),RA(this,"unbindHideListener",(()=>{$(document).off("click",this.cancelQueryOnClickAway)})),RA(this,"cancelQueryOnClickAway",(()=>{this.state.query.length>0&&this.cancelQuery()})),RA(this,"cancelQuery",(()=>{const e=this.state.query;this.clearQuery(),this.sendCancelledSearchEvent(e)})),RA(this,"sendCancelledSearchEvent",(e=>{const t=this.props.parentComponent||"Unknown";"Unknown"===t&&console.error("unknown prop supplied to search event");t&&["Portfolio Explorer","Navbar","Trade Page"].includes(t)&&this._logCancelledSearch(t,e)})),RA(this,"bindKeyStrokeHandlers",(()=>{$(document).on("keydown",this.handleKeyPress)})),RA(this,"handleKeyPress",(e=>{const t={38:()=>{this.cycleThroughResults("prev")},40:()=>{this.cycleThroughResults("next")},13:this.handleSecurityQuerySelection,27:this.cancelQuery},n=e.keyCode,r=13===n,i=t[n],a=this.state.query.length>0,s=!r||!this.isQueryPending()&&this.returnQueryResults()&&this.returnQueryResults().length>0;i&&a&&s&&i()})),RA(this,"unbindKeyStrokeHandlers",(()=>{$(document).off("keydown",this.handleKeyPress)})),RA(this,"searchStore",((e,t)=>(e=e||this.props,t=t||this.state,e.search))),RA(this,"searchData",((e,t)=>(e=e||this.props,t=t||this.state,this.searchStore(e,t).data))),RA(this,"makeQueryResultActive",(e=>{this.setState((t=>({activeQueryResult:e})))})),RA(this,"makeFirstResultActive",(()=>{const e=this.returnQueryResults(),t=e&&e[0]||null;this.makeQueryResultActive(t)})),RA(this,"cycleThroughResults",(e=>{const t="prev"===e?-1:1,n=this.returnQueryResults(),r=this.state.activeQueryResult,i=n[this.findIndexOfActiveQueryResult()+t];this.makeQueryResultActive(i||r)})),RA(this,"findIndexOfActiveQueryResult",(()=>{const e=this.returnQueryResults();for(let t=0;t<e.length;t++){if(e[t]===this.state.activeQueryResult)return t}return null})),RA(this,"returnQueryResults",((e,t)=>{e=e||this.props;const n=(t=t||this.state).query;return this.searchData(e,t)[n]||[]})),RA(this,"returnQueriesRequested",((e,t)=>(e=e||this.props,t=t||this.state,this.searchStore(e,t).queries))),RA(this,"isQueryPending",((e,t)=>{e=e||this.props;const n=(t=t||this.state).query;return!(n in this.searchData(e,t))&&this.returnQueriesRequested(e,t).includes(n)})),RA(this,"getQueryData",(()=>this.searchStore().data||{})),RA(this,"hasQueryBeenRequested",(e=>this.searchStore().queries.includes(e))),RA(this,"handleChange",(e=>{const t=e.target.value;if(""===t&&""!==this.state.query)return this.clearQuery();(this.props.inputRestrictionRegex||/^([a-zA-Z-&]|\.|\\|\s)+$/).test(t)&&(this.setState((e=>({query:t}))),this.hasQueryBeenRequested(t)||this.props.actions.querySecurities(t))})),RA(this,"clearQuery",(()=>{this.setState((e=>({query:""}))),this.props.actions.clearQuery()})),RA(this,"handleSecurityQuerySelection",(e=>{if(!(e=e||this.state.activeQueryResult))return!1;this.props.handleSecurityQuerySelection(e),this.props.ignoreClearQueryAfterSelection||this.clearQuery(),this.props.dismissAfterSelection&&this._dismissAfterSelection()})),RA(this,"_logCancelledSearch",((e,t)=>{const n={Component:e,Query:t};this.props.actions.logMetricsTrackingEvent("Cancelled Search",n)})),this.state={query:"",activeQueryResult:null}}componentDidMount(){this.bindKeyStrokeHandlers(),this.setHideListener(),this.stopClickFromBubbling(this.searchContainer),this.bindSearchResultClickListener()}componentWillUnmount(){this.unbindHideListener(),this.unbindKeyStrokeHandlers()}componentDidUpdate(e,t){const n=(r=this.returnQueryResults(e,t).map((e=>e.id)),i=this.returnQueryResults().map((e=>e.id)),!r.every(((e,t)=>e===i[t])));var r,i;(this.isQueryPending(e,t)&&!this.isQueryPending()&&this.returnQueryResults().length>0||this.returnQueryResults(e,t).length>0!=this.returnQueryResults().length>0&&this.returnQueryResults().length>0||n&&this.returnQueryResults().length>0)&&this.makeFirstResultActive()}render(){const e=this.props.className||"default-search-container",{query:t}=this.state,n=this.props.id,r=o({},n?{id:n+"_container"}:{});return c.createElement(FA,l(o({},r),{className:e,style:this.props.customStyle||{},ref:e=>this.searchContainer=e}),c.createElement(NA,{id:n,showPlus:this.props.showPlus,className:e,handleChange:this.handleChange,query:t,autoFocus:this.props.autoFocus,loading:this.isQueryPending(),placeholder:this.props.placeholder,gradientIcon:this.props.gradientIcon,iconTopPos:this.props.iconTopPos,navSearch:!0}),c.createElement(OA,{inputId:this.props.id,query:t,show:t.length>0,loading:this.isQueryPending(),results:this.returnQueryResults(),activeQueryResult:this.state.activeQueryResult,maxResultsSize:10,makeQueryResultActive:this.makeQueryResultActive,handleResultClick:this.handleSecurityQuerySelection}))}}const UA=N(_c,T((e=>({search:e.search})),(e=>({actions:I(WC,e)}))))(MA),$A=e=>e.karma,BA=e=>1===(e=>e.show_community_points_test_group)(WT(e)),zA=e=>$A(e).karmaTotal,VA=e=>WT(e).community_points_display_style_test_group,HA=e=>WT(e).show_hit_max_community_points_test_group,WA=e=>(WT(e),"XP"),jA=e=>(WT(e),"Experience"),GA=e=>$A(e).reachedDailyMax;class qA extends c.PureComponent{render(){const{text:e,longText:t,useLongVersion:n,fontSize:r}=this.props;return c.createElement("span",{className:" ",style:{fontSize:r,lineHeight:r}},n?t:e)}}qA.defaultProps={textProps:{},fontSize:"14px"};var YA=T((e=>({text:WA(e),longText:jA(e)})))(qA),KA=Object.defineProperty,QA=(e,t,n)=>(((e,t,n)=>{t in e?KA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ZA extends c.PureComponent{constructor(){super(...arguments),QA(this,"_createAnimationCompletionTimeout",(()=>{const{value:e}=this.props;return setTimeout((()=>this._onAnimationComplete(e)),600)})),QA(this,"_onAnimationComplete",(e=>{const{onAnimationComplete:t}=this.props;t&&t(e)}))}componentDidMount(){this.animationCompleteTimeout=this._createAnimationCompletionTimeout()}componentWillUnmount(){this.animationCompleteTimeout&&clearTimeout(this.animationCompleteTimeout)}render(){const{value:e}=this.props;return c.createElement("div",{className:"karma-earned-animation",style:{position:"absolute",top:"1px",right:"2px",width:18,transform:"scale(1.25)"}},c.createElement("div",{className:"success-text-color"},c.createElement("span",null,`+${e}`)))}}class XA extends c.PureComponent{constructor(e){super(e),QA(this,"handleKarmaValueInitialSet",(e=>{this._setAnimationValue(e)})),QA(this,"handleAnimationComplete",(e=>{this._setAnimationValue(e,!0)})),QA(this,"handleKarmaTotalChange",((e,t)=>{if(t<e)return;const n=t-e;this.setState((e=>({animationRendererStack:[...e.animationRendererStack,n]})))})),QA(this,"_setAnimationValue",((e,t)=>{this.setState((n=>({animationValue:t?n.animationValue+e:e})))})),this.state={animationRendererStack:[],animationValue:e.karmaTotal}}componentDidUpdate(e,t,n){const{karmaTotal:r}=e,{karmaTotal:i}=this.props;null===r&&null!==i&&this.handleKarmaValueInitialSet(i),r===i||null===r||isNaN(r)||isNaN(i)||this.handleKarmaTotalChange(r,i)}render(){const{animationRendererStack:e,animationValue:t}=this.state,{children:n}=this.props;return c.createElement("div",null,n(t),c.createElement("div",{style:{}},e.map(((e,t)=>c.createElement(ZA,{key:`${t}-${e}`,value:e,onAnimationComplete:this.handleAnimationComplete})))))}}var JA=T((e=>({karmaTotal:zA(e)})))(XA);class eP extends c.PureComponent{render(){const{karmaPoints:e,value:t,fontSize:n}=this.props;let r=e;isNaN(t)||(r=t);const i=null===r||isNaN(r)?"...":ng(r,"smallNumber");return c.createElement("span",{className:" ",style:{fontSize:n}},i)}}eP.defaultProps={textProps:{},fontSize:"14px"};var tP=T((e=>({karmaPoints:zA(e)})))(eP);class nP extends c.PureComponent{render(){const{text:e,longText:t}=this.props;return c.createElement("div",{style:{maxWidth:"400px"}},c.createElement("div",{className:"text-center"},c.createElement(YA,{fontSize:"14px",useLongVersion:!0})),c.createElement("div",{className:"text-center",style:{marginBottom:"10px"}},c.createElement(tP,{fontSize:"24px"})),c.createElement("div",{className:"",style:{marginBottom:"10px"}},c.createElement("span",null,`Earn ${t.toLowerCase()} for interacting with the ${Jo} community.`)),c.createElement("div",null,c.createElement("span",null,`${t} is earned when you agree or disagree with Pros or Cons and when you post Pros or Cons the community agrees with.`)))}}nP.defaultProps={};var rP=T((e=>({text:WA(e),longText:jA(e)})))(nP),iP=Object.defineProperty,aP=(e,t,n)=>(((e,t,n)=>{t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class sP extends c.PureComponent{constructor(e){super(e),aP(this,"animate",(()=>{this.setState((e=>({animationStack:[...e.animationStack,e.animationStack.length+1]})))})),aP(this,"handleKarmaTotalChange",((e,t)=>{const{inTestGroup:n}=this.props;n&&(t<e||this.animate())})),this.state={animationStack:[]}}componentDidUpdate(e,t,n){const{karmaTotal:r}=e,{karmaTotal:i}=this.props;r===i||null===r||isNaN(r)||isNaN(i)||this.handleKarmaTotalChange(r,i)}render(){return this.state.animationStack.map(((e,t)=>c.createElement("div",{key:`karma-earned-bg-flash-${t}`,style:{},className:"karma-earned-bg karma-earned-bg-flash-animation success-highlight-bg-color"})))}}var oP=T((e=>({inTestGroup:1===VA(e),karmaTotal:zA(e)})))(sP),lP=Object.defineProperty,cP=(e,t,n)=>(((e,t,n)=>{t in e?lP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class dP extends c.PureComponent{constructor(){super(...arguments),cP(this,"handleClick",(()=>{this.showKarmaInfoModal()})),cP(this,"showKarmaInfoModal",(()=>{const{dispatch:e}=this.props,t={elementRef:this.DisplayContainer,useBottomRightAsAnchor:!0,definitionKey:"tooltip_karma",CustomComponent:rP};QE(t)(e)})),cP(this,"getKarmaPointTotal",(()=>this.props.karmaTotal))}render(){const e="10px",t=this.getKarmaPointTotal()>9999?"10px":"12px";return c.createElement("div",null,c.createElement("a",{ref:e=>this.DisplayContainer=e,className:"no-text-decoration karma-label",style:{display:"block",height:"40px",width:"65px",cursor:"pointer"},onClick:this.handleClick},c.createElement("div",{style:{position:"relative",height:"40px",width:"65px",borderRadius:"2px",padding:"5px 5px 5px 5px"}},c.createElement(oP,null),c.createElement("div",{className:"text-center",style:{lineHeight:e}},c.createElement(YA,{fontSize:e})),c.createElement("div",null,c.createElement(JA,null,(e=>c.createElement("div",{className:"text-center",style:{lineHeight:t,marginTop:"4px"}},c.createElement(tP,{fontSize:t,value:e}))))))))}}var uP=_c(T((e=>({karmaLabelText:WA(e),karmaTotal:zA(e)})))(dP)),hP=Object.defineProperty,pP=(e,t,n)=>(((e,t,n)=>{t in e?hP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class mP extends c.PureComponent{constructor(){super(...arguments),pP(this,"childrenWithUserProps",(()=>{let e=!1;const t=this.props.userId,n=this.props.currentUser.user_id===t,r=this._wasUserSupplied()?this.props.user:n?this.props.currentUser:this.props.collectives.lookup[t]||this.props.users.userList[t];r||(e=!0);const i=e?{user:{user_id:0,first_name:"",last_name:"",is_current_user:!1,is_live_trading:!1,is_on_waitlist:!1,is_private:!1,analytics_id:null,avatar_url:""},userIsCurrentUser:!1,isThoughtLeader:!1,isLiveTrading:!1,isLoading:!0}:{user:r,userId:t,userIsCurrentUser:n,isCollective:Yh(r),isThoughtLeader:qh(r),isLiveTrading:r.is_live_trading};return c.Children.map(this._returnChildren(),(e=>c.cloneElement(e,i)))})),pP(this,"_returnChildren",(()=>Array.isArray(this.props.children)?this.props.children.filter((e=>e)):this.props.children)),pP(this,"_wasUserSupplied",(()=>!!this.props.user))}render(){return c.createElement("div",{className:`user-container ${this.props.containerClass}`},this.childrenWithUserProps())}}var gP=T((e=>({currentUser:e.currentUser,users:e.users,collectives:e.collectives})),(e=>({actions:I(WC,e)})))(mP);const yP=e=>{if(null===e)return{background:"#aaa"};let t=e.toString();return t[t.length-1],{}},_P=(e,t)=>{let n="100",r="42";switch(t=t||0,e){case"email":n=20-t,r=10;break;case"small":n=26-t,r=10;break;case"nav":n=40-t,r=14;break;case"medium":n=50-t,r=22;break;case"large":n=75-t,r=36;break;case"profile":n=100-t,r=36;break;case"x_large":n=196-t,r=92-t}return{profile_avatar_container:{height:`${n}px`,width:`${n}px`},user_initials_container:{fontSize:`${r}px`},pixelSize:n}},fP=e=>e.description,vP=e=>e.name,EP=e=>e.monthly_fee,bP=e=>e.is_free_eligible,CP=e=>e.can_subscribe,xP=e=>e.is_canceled,wP=e=>e.is_subscribed&&!xP(e),SP=e=>xP(e)&&wP(e),kP=e=>e.viewpoints,TP=e=>kP(e).lookup,IP=(e,t)=>{const n=TP(e)[t];return n||null},NP=e=>kP(e).allViewpointIds,AP=e=>kP(e).featuredSubscriptionIds,PP=e=>kP(e).featuredSubscriptionIdsDisplayOrder,DP=e=>kP(e).defaultSelection||null,OP=e=>kP(e).subscriptionIds,LP=(e,t)=>{IP(e,t);return null},RP=(e,t)=>{const n=IP(e,t);return null===n?null:vP(n)},FP=(e,t)=>{const n=RP(e,t);return null===n?null:n[0]},MP=(e,t)=>(e=>kP(e).nameToIdLookup)(e)[t]||null,UP=u.span`
  background-color: ${({theme:e})=>e.themeColors.avatarBackgroundColor};

  * {
    color: ${({theme:e})=>e.themeColors.buttonText} !important;
  }
  &:hover {
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`,$P=u("div")`
  .profile-image-ph {
    content: url('/app/assets/tornado-small-dark.svg') !important;
  }
`;u("div")`
  position: relative;
  top: 5px;
`;const BP={email:1,small:1,nav:2,medium:2,large:2,profile:2,x_large:4};class zP extends c.PureComponent{render(){const{size:e,withLink:t,user:n,linkTo:r,ideaId:i,isThoughtLeader:a,viewpointOrgName:s,isViewpointOrg:d,viewpointOrgId:u,imageSrc:h,initials:p,ideaType:m,userIsCurrentUser:g,profileLinkQuery:y,showNameTag:_}=this.props,f=n||{},v=(e=>e.is_live_trading_approved)(f),E=!("withLink"in this.props)||t,b=d?null:f.user_id,C=d?u:b,x=h||f.avatar_url,w=e||"small",S=Yh(f)||x&&"string"==typeof x&&x.indexOf("missing")<0,k=Gh(f)?(e=>`${e.company.split(" ").map((e=>e[0])).join("")}`)(f):Yh(f)?"":d?p:`${f.first_name[0]}${f.last_name[0]}`.toUpperCase(),T=()=>"handleHover"in this.props&&this.props.handleHover(),I=()=>"handleHoverEnd"in this.props&&this.props.handleHoverEnd(),N=BP[w]||1,P=2*N,D="profile"===w?{position:"relative",top:"12px",left:"-1px"}:{position:"relative",top:"3px",left:"-1px"},O=c.createElement("img",{src:Yh(f)?"/app/assets/tornado-small-light.svg":x,className:Yh(f)?"profile-image profile-image-ph":"profile-image",alt:"profile-picture",onMouseEnter:T,onMouseLeave:I,style:Yh(f)?D:null}),L=o(o({},_P(w,2*P).user_initials_container),_P(w,2*P).profile_avatar_container);N<2&&(L.paddingTop="1px");const R=c.createElement("span",{className:"default-avatar-text-container",style:l(o({},L),{height:"100%",width:"100%",color:"#fff",fontWeight:600})},k.toUpperCase()),F=S?O:R,M=e=>c.createElement($P,null,c.createElement("span",{className:"avatar-wrapper"},c.createElement("span",{className:"inner-avatar-border",style:{position:"absolute",top:`${N}px`,right:`${N}px`,bottom:`${N}px`,left:`${N}px`,borderRadius:"200px"}},c.createElement(UP,{className:"inner-avatar-container "+(Yh(f)?"collective-avatar-bg":""),style:l(o({},yP(C)),{position:"absolute",top:`${N}px`,right:`${N}px`,bottom:`${N}px`,left:`${N}px`,borderRadius:"200px"})},e)),_&&c.createElement("span",{className:"name-label"},g?"Me":np(f)),m&&c.createElement("div",{className:"drop-shadow-container"},c.createElement("div",{className:"drop-shadow-container-top"},c.createElement("div",{className:"drop-shadow-bottom "+(m&&"buy"===m.toLowerCase()?"drop-shadow-green":"drop-shadow-red")})),c.createElement("div",{className:"drop-shadow-container-bottom"},c.createElement("div",{className:"drop-shadow-top "+(m&&"buy"===m.toLowerCase()?"drop-shadow-green":"drop-shadow-red")}))))),U={className:`avatar-container ${S?"profile-image-container":"default-avatar-container"} ${v?"live-trading-halo":""} avatar-${w} ${Yh(f)?"collective-user":""}`,onMouseEnter:T,onMouseLeave:I,style:o(o({},_P(w,0).profile_avatar_container),E?{}:{cursor:"default"})};if(E){const e=y||"";let t=r||(a?`/users/${b}/public_profile${e}`:E&&i?`/ideas/${i}`:`/users/${b}/public_profile${e}`);d&&(t=Ln("viewpoint_profile",s)),U.to=t}const $=()=>this.props.handleMouseOver&&this.props.handleMouseOver(),B=()=>this.props.handleMouseOut&&this.props.handleMouseOut();return(()=>this.props.isLoading)()?(()=>{const e=c.createElement("div",{className:"loading-bg"}),t=U.className,n=U.style;return c.createElement("span",{className:`user-is-loading ${t}`,style:n},M(e))})():(U.onMouseEnter=$,U.onMouseLeave=B,c.createElement(E?A:"div",U,M(F)))}}var VP=T(((e,t)=>{const{isViewpointOrg:n,viewpointOrgId:r}=t;return n?{viewpointOrgName:RP(e,r)}:{}}))(zP);const HP=e=>{const{itemData:t,closeDropdown:n}=e,r=t.elementType,i=t.props,a=t.children||null,s=i.onClickFunc;let o=()=>!1;i.shouldTriggerDropdownClose&&(o=s?()=>{s(),n()}:n),"CustomLink"===t.elementTypeString?i.additionalClickAction=o:i.handleClick=o;const l=c.createElement(r,i,a);return c.createElement("li",{className:""},l)};var WP=Object.defineProperty,jP=(e,t,n)=>(((e,t,n)=>{t in e?WP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const GP=u.ul`
  li {
    * {
      color: ${({theme:e})=>e.themeColors.text} !important;
    }
  }
  li:hover {
    * {
      color: ${({theme:e})=>e.themeColors.primaryCtaButton} !important;
    }
  }
`,qP=u.div`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
`;class YP extends C.exports.Component{constructor(e){super(e),jP(this,"_renderDropdownItems",(()=>c.createElement(GP,{className:"generic-dropdown-item-list-container"},this._returnDropdownItems().map(((e,t)=>c.createElement(HP,{key:e.key||t,itemData:e,closeDropdown:this.handleHideDropdown})))))),jP(this,"_returnDropdownItems",(()=>this.props.dropdownItemDataList)),jP(this,"isUsingHeight",((e=this.state)=>e._usingHeight)),jP(this,"isVisible",((e=this.state)=>e._isVisible)),jP(this,"handleShowDropdown",(()=>{this.isVisible()||(this.props.additionalShowFunc&&this.props.additionalShowFunc(),this._setVisible())})),jP(this,"handleHideDropdown",(()=>{this.isVisible()&&(this.props.additionalHideFunc&&this.props.additionalHideFunc(),this._setInvisible())})),jP(this,"_handleResize",(()=>{const e=this.props.windowHeight-125;this.state.containerHeight!==e&&this._setContainerHeight(e)})),jP(this,"_returnDefaultStyling",(()=>({width:"150px"}))),jP(this,"_returnDropdownStyle",(()=>o(o(o(o(o({},this._returnDefaultStyling()),this.adjustTopPosition()),this.adjustLeftPositionBasedOnWidth()),this.props.style),this.isUsingHeight()?{maxHeight:`${this.state.containerHeight}px`}:{}))),jP(this,"adjustTopPosition",(()=>{this.props.topOffset&&this.props.topOffset.indexOf("%")>=0&&Uk("Percentage offsets are not supported");const e=$(this.DropdownMonitorNode).height(),t=this.props.topOffset?this.props.topOffset.split("px")[0]:9;return{top:`${parseFloat(e)+parseFloat(t)}px`}})),jP(this,"adjustLeftPositionBasedOnWidth",(()=>{this.props.style.width&&this.props.style.width.indexOf("%")>=0&&Uk("Percentage widths are not supported",`supplied => ${this.props.style.width}`);const e=$(this.DropdownMonitorNode).width(),t=this.props.style.width?this.props.style.width.split("px")[0]:150,n=e/2+17;return{left:`-${parseFloat(t)-parseFloat(n)}px`}})),jP(this,"_onDropdownMonitorClick",(e=>{e.stopPropagation(),this.handleShowDropdown()})),jP(this,"_onDropdownClick",(e=>{e.stopPropagation()})),jP(this,"_setDropdownBodyClickListener",(()=>{$(this.DropdownContainerNode).on("click",this._onDropdownClick)})),jP(this,"_removeDropdownBodyClickListener",(()=>{$(this.DropdownContainerNode).off("click",this._onDropdownClick)})),jP(this,"_setShowDropdownListener",(()=>{$(this.DropdownMonitorNode).on("click",this._onDropdownMonitorClick)})),jP(this,"_removeShowDropdownListener",(()=>{$(this.DropdownMonitorNode).off("click",this._onDropdownMonitorClick)})),jP(this,"_setHideDropdownListener",(()=>{$(document).on("click",this.handleHideDropdown)})),jP(this,"_removeHideDropdownListener",(()=>{$(document).off('click"',this.handleHideDropdown)})),jP(this,"_setUsingHeight",(()=>{this.setState((()=>({_usingHeight:!0})))})),jP(this,"_setVisible",(()=>{this.setState((()=>({_isVisible:!0})))})),jP(this,"_setInvisible",(()=>{this.setState((()=>({_isVisible:!1})))})),jP(this,"_setContainerHeight",(e=>{this.setState((()=>({containerHeight:e})))})),this.state={_isVisible:!1,_usingHeight:!1,width:null,containerHeight:null},this._heightBuffer=75}componentDidMount(){this._setShowDropdownListener(),this._setHideDropdownListener(),this._handleResize(),$(this.DropdownContainerNode).height()>this.props.windowHeight-this._heightBuffer&&this._setUsingHeight()}componentDidUpdate(e,t){$(this.DropdownContainerNode).height()>this.props.windowHeight-this._heightBuffer&&!this.isUsingHeight()&&this._setUsingHeight(),!this.isVisible(t)&&this.isVisible()&&(this._handleResize(),this._setDropdownBodyClickListener()),this.isVisible(t)&&!this.isVisible()&&this._removeDropdownBodyClickListener()}componentWillUnmount(){this._removeShowDropdownListener(),this._removeHideDropdownListener()}render(){return c.createElement("div",{className:"react-dropdown-wrapper"},c.createElement("div",{className:"react-dropdown-montior",ref:e=>this.DropdownMonitorNode=e}),this.isVisible()&&this.props.returnDropdownButtonOverlayElement&&this.props.returnDropdownButtonOverlayElement(),this.isVisible()&&c.createElement(qP,{id:this.props.id,className:`react-dropdown fade-in-up-quick ${this.props.customClass}`,ref:e=>this.DropdownContainerNode=e,style:this._returnDropdownStyle()},c.createElement("div",{className:"react-dropdown-body selectable-dropdown-list-color-styling",style:this.isUsingHeight()?{maxHeight:this.state.containerHeight-2+"px"}:{}},this._renderDropdownItems())))}}var KP=Xk(YP),QP=Object.defineProperty,ZP=(e,t,n)=>(((e,t,n)=>{t in e?QP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class XP extends C.exports.Component{constructor(){super(...arguments),ZP(this,"_handleClick",(e=>{e.preventDefault(),this.props.navigate(this.props.to),this.props.additionalClickAction&&this.props.additionalClickAction()})),ZP(this,"_returnRefToDOMNode",(()=>this.Link))}componentDidMount(){const e=this._returnRefToDOMNode();$(e).on("click",this._handleClick)}render(){return c.createElement("a",{ref:e=>this.Link=e,href:this.props.to,className:this.props.className},this.props.text||null)}}var JP=_c(XP),eD=Object.defineProperty,tD=(e,t,n)=>(((e,t,n)=>{t in e?eD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class nD extends c.Component{constructor(){super(...arguments),tD(this,"handleClick",(e=>{this.props.handleClick(e)})),tD(this,"_onClick",(e=>{this.handleClick(e)})),tD(this,"_setClickListener",(()=>{$(`#${this.props.id}`).on("click",this._onClick)})),tD(this,"_removeClickListener",(()=>{$(window).off("click",`#${this.props.id}`,this._onClick)}))}componentDidMount(){this.props.id||Uk("A valid/unique ID must be supplied to ClickEventComponent"),this._setClickListener()}componentWillUnmount(){this._removeClickListener()}render(){return c.createElement("span",{id:this.props.id,className:"click-wrapper"},this.props.children)}}const rD=u.div`
  .flip-switch-container input[type='checkbox'].flip-switch:checked + div {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  .switch-knob {
    left: ${({checked:e})=>e?"auto":"-4px"};
    right: ${({checked:e})=>e?"-4px":"auto"};
  }

  .switch-track {
    position: relative;
    background-color: ${({theme:e})=>e.themeColors.border};
  }

  .switch-track .switch-knob {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    position: absolute;
    width: 26px !important;
    height: 26px !important;
    top: -2px;
    -webkit-transition: 0.4s;
    transition: 0.4s;
  }
  .switch-track.active .switch-knob {
    width: 26px !important;
    height: 26px !important;
    top: -2px;
    left: auto;
    right: -4px;
    -webkit-transition: 0.4s;
    transition: 0.4s;
  }
`,iD=e=>{const{label:t,name:n,value:r,isDisabled:i,handleClick:a}=e;return c.createElement(rD,{checked:r},c.createElement("div",{className:"flip-switch-container "+(i?"disabled":"")},c.createElement("label",{className:"flip-switch-label-container",name:n},t,c.createElement("input",{type:"checkbox",name:n,className:"flip-switch",checked:r,onChange:()=>!1}),c.createElement("div",{className:"switch-track",onClick:a},c.createElement("div",{className:"switch-knob"})))))},aD=e=>{const{className:t,name:n,value:r}=e;return c.createElement("div",{className:`action-switch-container ${t||""}`},c.createElement(iD,{name:n,value:r}))},sD={primary:{charcoal:"#1f1f1f",oak:"#F7F4F2"},secondary:{yellow:"#fcfe7d",navy:"#211e2c",black:"#000",blackTransparent:"rgba(30,30,30,0.1)",white:"#fff",whiteTransparent:"rgba(255,255,255,0.3)",cyan:"#9ffbf5",blue:"#0000FF",streetBlue:"#1674b1",streetGreen:"#080",streetRed:"#ff0000",lightBlue:"#7AC9EA",purple:"#6d56fb",promoPurple:"#5937f9",darkPurple:"#201F2C",lavender:"#dcdbff",red:"#f5665d",green:"#7ecb00",brightGreen:"#1AD36F",brightRed:"#FF5000",darkRed:"#bc332c",darkGreen:"#5a7a00",silver:"#c0c0c0",lightCharcoal:"#343434",orange:"rgb(255,156,34)",cream:"#F6F3EF",lighterGrey:"rgb(235,235,235)",osGrey:"rgb(218,224,227)",cloud:"#777777",darkCloud:"#474747",lightCloud:"#fafafa"},element:{borderLight:"rgba(31,31,31, 0.05)",borderDark:"rgba(247,244,242, 0.05)"}},{primary:oD,secondary:lD,element:cD}=sD,{charcoal:dD,oak:uD}=oD,{yellow:hD,navy:pD,black:mD,white:gD,purple:yD,lightBlue:_D,green:fD,brightGreen:vD,brightRed:ED,silver:bD,orange:CD,cream:xD,lighterGrey:wD,osGrey:SD,blue:kD,lightCloud:TD,cloud:ID,darkCloud:ND,streetBlue:AD,streetGreen:PD,streetRed:DD}=lD,OD={[Er.light]:uD,[Er.dark]:dD},LD={[Er.light]:bD,[Er.dark]:mD},RD=OD,FD={[Er.light]:"dark-content",[Er.dark]:"light-content"},MD={[Er.light]:OD.dark,[Er.dark]:OD.dark},UD={[Er.light]:"rgba(255,255,255, 0.9)",[Er.dark]:"rgba(52,52,52, 0.9)"},$D={[Er.light]:"rgba(255,255,255, 1)",[Er.dark]:"rgba(52,52,52, 1)"},BD=UD,zD={[Er.light]:OD.dark,[Er.dark]:OD.dark},VD={[Er.light]:bD,[Er.dark]:bD},HD={[Er.light]:"rgba(246,243,239, 0.6)",[Er.dark]:"rgba(31,31,31,0.6)"},WD={[Er.light]:dD,[Er.dark]:dD},jD={[Er.light]:dD,[Er.dark]:dD},GD={[Er.light]:dD,[Er.dark]:uD},qD={[Er.light]:dD,[Er.dark]:uD},YD={[Er.light]:dD,[Er.dark]:uD},KD={[Er.light]:OD.light,[Er.dark]:OD.dark},QD={[Er.light]:dD,[Er.dark]:uD},ZD={[Er.light]:_D,[Er.dark]:_D},XD={[Er.light]:vD,[Er.dark]:vD},JD={[Er.light]:bD,[Er.dark]:bD},eO={[Er.light]:dD,[Er.dark]:uD},tO={[Er.light]:"rgba(31,31,31, 0.5)",[Er.dark]:"rgba(247,244,242, 0.5)"},nO=eO,rO=eO,iO={[Er.light]:eO.light,[Er.dark]:eO.light},aO={[Er.light]:eO.light,[Er.dark]:eO.light},sO={[Er.light]:eO.dark,[Er.dark]:eO.dark},oO={[Er.light]:dD,[Er.dark]:uD},lO={[Er.light]:dD,[Er.dark]:xD},cO={[Er.light]:dD,[Er.dark]:uD},dO={[Er.light]:"rgba(31,31,31, 0.5)",[Er.dark]:"rgba(247,244,242, 0.5)"},uO=eO,hO=eO,pO={[Er.light]:dD,[Er.dark]:gD},mO={[Er.light]:gD,[Er.dark]:gD},gO=eO,yO={[Er.light]:yD,[Er.dark]:hD},_O={[Er.light]:ED,[Er.dark]:ED},fO={[Er.light]:CD,[Er.dark]:hD},vO={[Er.light]:CD,[Er.dark]:hD},EO={[Er.light]:dD,[Er.dark]:hD},bO={[Er.light]:dD,[Er.dark]:uD},CO={[Er.light]:gD,[Er.dark]:dD},xO={[Er.light]:xD,[Er.dark]:dD},wO={[Er.light]:gD,[Er.dark]:dD},SO=UD,kO={[Er.light]:uD,[Er.dark]:dD},TO={[Er.light]:uD,[Er.dark]:dD},IO={[Er.light]:gD,[Er.dark]:dD},NO={[Er.light]:wO.dark,[Er.dark]:wO.dark},AO=NO,PO={[Er.light]:cD.borderLight,[Er.dark]:cD.borderDark,[Er.light]:cD.borderLight},DO={[Er.light]:vD,[Er.dark]:vD},OO={[Er.light]:yD,[Er.dark]:hD},LO={[tx.nvstrRewardCardFront]:{[Er.light]:yD,[Er.dark]:hD},[tx.nvstrRewardCardBack]:UD,[tx.nvstrReferralRewardProbability]:{[Er.light]:vD,[Er.dark]:vD},[tx.nvstrRewardValueColor]:{[Er.light]:vD,[Er.dark]:vD},[tx.nvstrRedeemableRewardCard]:nO,[tx.nvstrRedeemableRewardCardStripe]:{[Er.light]:bD,[Er.dark]:bD},[tx.rewardsIconColor]:{[Er.light]:uD,[Er.dark]:uD,[Er.light]:gD},[tx.counterBgColor]:OO,[tx.counterTextColor]:{[Er.light]:eO.dark,[Er.dark]:eO.light},[tx.white]:{[Er.light]:gD,[Er.dark]:gD},[tx.statusBarColor]:RD,[tx.statusBarContent]:FD,[tx.bgColor]:OD,[tx.bgAccentColor]:{[Er.light]:"rgba(31,31,31, 0.05)",[Er.dark]:"rgba(247,244,242, 0.05)"},[tx.bgBorderShadow]:LD,[tx.darkThemeBgColor]:MD,[tx.componentBg]:UD,[tx.componentBgFullOpacity]:$D,[tx.componentBgHighlight]:BD,[tx.launchBg]:zD,[tx.disabledBg]:VD,[tx.overlayBg]:HD,[tx.eyeCatchingBgTextColor]:WD,[tx.eyeCatchingBg]:nO,[tx.eyeCatchingBgShadow]:rO,[tx.primaryTextColor]:eO,[tx.placeholderTextColor]:tO,[tx.lightThemePrimaryTextColor]:aO,[tx.dropdownItemColor]:iO,[tx.darkThemePrimaryTextColor]:sO,[tx.primaryDropdownTextColor]:oO,[tx.communityCountAvatarBgColor]:cO,[tx.secondaryTextColor]:dO,[tx.inactiveTextColor]:uO,[tx.headingTextColor]:hO,[tx.thoughtBannerTextColor]:pO,[tx.coloredBgTextColor]:mO,[tx.eyeCatchingTextColor]:jD,[tx.labelTextColor]:lO,[tx.inputTextColor]:gO,[tx.inputActiveTextColor]:yO,[tx.errorTextColor]:_O,[tx.warningTextColor]:fO,[tx.borderAccent]:PO,[tx.tableBorder]:OD,[tx.darkerBorderAccent]:PO,[tx.inputBorderAccent]:PO,[tx.infoIcon]:eO,[tx.defaultAvatarBg]:EO,[tx.communityAvatarBg]:bO,[tx.defaultAvatarText]:CO,[tx.headerNavBg]:xO,[tx.navBarBg]:wO,[tx.navBarBgShadow]:SO,[tx.navBarBottomBorder]:PO,[tx.cardShadow]:{[Er.light]:"transparent",[Er.dark]:"transparent"},[tx.buttonShadow]:{[Er.light]:dD,[Er.dark]:gD},[tx.increaseColor]:{[Er.light]:vD,[Er.dark]:vD},[tx.decreaseColor]:{[Er.light]:ED,[Er.dark]:ED},[tx.neutralColor]:{[Er.light]:bD,[Er.dark]:bD},[tx.buyColor]:{[Er.light]:vD,[Er.dark]:vD},[tx.sellColor]:{[Er.light]:ED,[Er.dark]:ED},[tx.ctlBannerBg]:{[Er.light]:xD,[Er.dark]:dD},[tx.thoughtBubbleColor]:OD,[tx.thoughtEmbeddedLinkBgColor]:eO,[tx.thoughtBannerIconColor]:{[Er.light]:yD,[Er.dark]:hD},[tx.proColor]:{[Er.light]:vD,[Er.dark]:vD},[tx.conColor]:{[Er.light]:ED,[Er.dark]:ED},[tx.agreeColor]:{[Er.light]:vD,[Er.dark]:vD},[tx.disagreeColor]:{[Er.light]:ED,[Er.dark]:ED},[tx.increaseColorDark]:{[Er.light]:vD,[Er.dark]:vD},[tx.decreaseColorDark]:{[Er.light]:ED,[Er.dark]:ED},[tx.moneyColor]:{[Er.light]:fD,[Er.dark]:fD},[tx.successColor]:DO,[tx.successHighlight]:DO,[tx.successContrast]:DO,[tx.failureColor]:{[Er.light]:ED,[Er.dark]:ED},[tx.fireColor]:{[Er.light]:CD,[Er.dark]:CD},[tx.primaryBtnColor]:OO,[tx.primaryBtnTextColor]:{[Er.light]:uD,[Er.dark]:dD},[tx.primaryBtnColorAlt]:{[Er.light]:dD,[Er.dark]:dD},[tx.secondaryBtnColor]:{[Er.light]:dD,[Er.dark]:dD},[tx.secondaryBtnTextColor]:{[Er.light]:gD,[Er.dark]:gD},[tx.disabledBtnTextColor]:{[Er.light]:bD,[Er.dark]:bD},[tx.disabledBtnColor]:{[Er.light]:bD,[Er.dark]:bD},[tx.feedFilterTagBg]:{[Er.light]:dD,[Er.dark]:xD},[tx.feedFilterTagText]:{[Er.light]:xD,[Er.dark]:dD},[tx.linkColor]:{[Er.light]:kD,[Er.dark]:hD},[tx.linkColorAlt]:eO,[tx.linkColorLowContrast]:dO,[tx.searchIconColor]:qD,[tx.chartAxisColor]:{[Er.light]:"rgba(241,241,241,0.4)",[Er.dark]:"rgba(77,77,77,0.4)"},[tx.loadingIcon]:{[Er.light]:yD,[Er.dark]:hD},[tx.refreshIndicatorIOS]:{[Er.light]:yD,[Er.dark]:hD},[tx.blueGreenGradient]:{[Er.light]:[pD,fD,fD],[Er.dark]:[pD,fD,fD]},[tx.haloGradient]:{[Er.light]:[yD,dD,hD],[Er.dark]:[hD,uD,yD]},[tx.modalTrayBg]:{[Er.light]:SD,[Er.dark]:SD},[tx.modalTrayActionRowBg]:{[Er.light]:wD,[Er.dark]:wD},[tx.warning]:vO,[tx.headerNavItemColor]:GD,[tx.activeFooterNavItemColor]:qD,[tx.inactiveFooterNavItemColor]:YD,[tx.inputBg]:KD,[tx.inputIconColor]:QD,[tx.frameColor]:kO,[tx.topFrameColor]:TO,[tx.bottomFrameColor]:IO,[tx.darkThemeTopFrameColor]:NO,[tx.darkThemeBottomFrameColor]:AO,[tx.toggleSwitchTrackToggledOn]:XD,[tx.eyeCatchingActionButton]:ZD,[tx.toggleSwitchTrackToggledOff]:JD,[tx.depositPickerButtonBg]:{[Er.light]:uD,[Er.dark]:dD},[tx.depositPickerButtonText]:{[Er.light]:dD,[Er.dark]:uD},[tx.depositPickerSelectedButtonBg]:{[Er.light]:dD,[Er.dark]:uD},[tx.depositPickerSelectedButtonTextColor]:{[Er.light]:uD,[Er.dark]:dD},[tx.transparent]:{[Er.light]:"rgba(255,255,255,0)",[Er.dark]:"rgba(0,0,0,0)"},[tx.forceCharcoal]:{[Er.light]:dD,[Er.dark]:dD}};var RO=Object.defineProperty,FO=(e,t,n)=>(((e,t,n)=>{t in e?RO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const MO=Er.dark,UO=new class{constructor(e){FO(this,"getColorPalette",(()=>sD)),FO(this,"getCurrentColorTheme",(()=>this._colorThemes[this._currentColorThemeName])),FO(this,"getCurrentColorThemeName",(()=>this._currentColorThemeName)),FO(this,"_setCurrentColorThemeName",(e=>this._currentColorThemeName=e)),FO(this,"onColorThemeChange",(e=>{if(Object.values(Er).includes(e)){this._setCurrentColorThemeName(e);for(const t in this._colorThemeChangeListeners)if(Object.hasOwnProperty.call(this._colorThemeChangeListeners,t)){const n=this._colorThemeChangeListeners[t];"function"==typeof n&&n(e)}}else console.error("cannot change to non-defined color theme: "+(e||"nullish"))})),FO(this,"addColorThemeChangeListener",(e=>{const t=this._colorThemeListenerKey++;this._colorThemeChangeListeners[t]=e})),FO(this,"removeColorThemeChangeListener",(e=>{delete this._colorThemeChangeListeners[e]})),FO(this,"_buildColorThemes",(()=>{const e=this._buildColorTheme(Er.light),t=this._buildColorTheme(Er.dark);return{[Er.light]:e,[Er.dark]:t}})),FO(this,"_buildColorTheme",(e=>{const t={};return Object.keys(LO).forEach((n=>{t[n]=LO[n][e]})),t})),e||console.error("defaultColorThemeName param missing in _ColorTheme creation"),this._colorThemeListenerKey=0,this._colorThemeChangeListeners={},this._colorThemes=this._buildColorThemes(),this._currentColorThemeName=e}}(MO),$O=u.div`
  .loading-icon-container {
    height: 24px;
  }
`,BO=()=>{const e=D((e=>{var t;return null==(t=e.colorTheme)?void 0:t.value})),t=P(),n=()=>{!function(e){e({type:"HIDE_MODAL"})}(t)},r=t=>{TC("Changed Color Theme",{"Current Color Theme":e||"No Color Scheme","New Color Theme":t||"No Color Scheme"})()};return c.createElement("div",{className:"color-theme-toggle"},c.createElement(nD,{key:"color-theme-nav-toggle",id:"color-theme-nav-toggle",handleClick:i=>{i.stopPropagation(),i.preventDefault(),(()=>{const i=e===Er.light?Er.dark:Er.light,a=setTimeout((function(){bb({contentComponent:c.createElement($O,null,c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"25px"}}),c.createElement(Iw,null,c.createElement(Ei,null,"Changing Colors")))),dismissable:!1})(t)}),350);$E(i)(t).then((e=>{const s=e&&e.data&&"success"===e.data.status;if(clearTimeout(a),n(),s){const t=e.data.color_scheme,n="light-color-scheme"===t?"muted-light-color-scheme":t;UO.onColorThemeChange(i),r(n)}else bb(xS())(t)}))})()}},c.createElement(aD,{name:"dark-theme-switch",value:e===Er.dark})))},zO=e=>{const{className:t}=e;return c.createElement("div",{className:t||"dark-theme-toggle-nav-item"},c.createElement("div",{className:"default-flex-align-center"},c.createElement("span",null,"Dark Theme"),c.createElement("span",null,c.createElement(BO,null))))};var VO=Object.defineProperty,HO=(e,t,n)=>(((e,t,n)=>{t in e?VO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const WO=u.div`
  background-color: ${({theme:e})=>e.themeColors.overlay};

  position: absolute;
  border-radius: 1000px;
  top: 2px;
  bottom: 2px;
  right: 3px;
  left: 3px;
  opacity: 0.6;
  z-index: 100000;
`;class jO extends C.exports.Component{constructor(){super(...arguments),HO(this,"_returnDropdownItemDataList",(()=>{const e=[];return this.props.currentUser.has_completed_onboarding&&!this.props.currentUser.is_account_closed&&e.push({elementType:JP,elementTypeString:"CustomLink",props:{className:"user-settings-nav-item is-updating selectable-item",to:`/users/${this.props.currentUser.user_id}/public_profile`,text:"My Profile",shouldTriggerDropdownClose:!0}}),Rp(this.props.currentUser)&&this.props.currentUser.has_completed_onboarding&&e.push({elementType:JP,elementTypeString:"CustomLink",props:{className:"user-settings-nav-item is-updating selectable-item",to:"/viewpoint_contributors/manage",text:"Viewpoint Subscriptions",shouldTriggerDropdownClose:!0}}),!this.props.currentUser.is_account_closed&&this.props.currentUser.has_completed_onboarding&&e.push({elementType:JP,elementTypeString:"CustomLink",props:{className:"user-settings-nav-item is-updating selectable-item",to:"/users/edit",text:"Settings",shouldTriggerDropdownClose:!0}}),e.push({elementType:zO,elementTypeString:"DarkThemeToggleNavItem",props:{className:"user-settings-nav-item is-updating selectable-item selectable-item-no-hover-effect"}}),e.push({elementType:Cc,elementTypeString:"Button",props:{customClass:"user-settings-nav-item logout-button selectable-item",onClickFunc:this.handleLogout,text:"Log Out",preventDefaultNativeClick:!0,shouldTriggerDropdownClose:!0}}),e})),HO(this,"renderAvatarDismissOverlay",(()=>c.createElement("div",{className:"dismiss-user-settings-button"},c.createElement(WO,null),c.createElement(xc,{icon:" fa fa-times fa-times-thin",color:"#fff",size:"medium",style:{zIndex:100001,position:"absolute",top:"9px",left:"15px"}})))),HO(this,"handleLogout",(()=>{this.props.actions.logoutUser()})),HO(this,"_logOpenedProfileNavMenu",(()=>{this.props.actions.logMetricsTrackingEvent("Opened Profile Nav Menu",{})}))}render(){return c.createElement("div",{className:"nav-user-profile-container"},c.createElement("div",{className:"nav-user-profile-container"},c.createElement(gP,{userId:this.props.currentUser.user_id},c.createElement(VP,{size:"nav",showNameTag:!1,withLink:!1}))),c.createElement(KP,{returnDropdownButtonOverlayElement:this.renderAvatarDismissOverlay,style:{width:"185px"},additionalShowFunc:this._logOpenedProfileNavMenu,dropdownItemDataList:this._returnDropdownItemDataList()}))}}var GO=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(jO);const qO="undefined"!=typeof window?C.exports.useLayoutEffect:C.exports.useEffect;const YO=e=>parseFloat(e.split("px")[0]),KO=()=>{const e=window.innerWidth;return e<=YO(zr.mobile)?Vr:e<=YO(zr.desktop)?Hr:Wr};function QO(){var e,t;const[n,r]=C.exports.useState(null),[i,a]=C.exports.useState({width:null,height:null}),s=C.exports.useCallback((()=>{var e,t;const r=null==(e=null==n?void 0:n.current)?void 0:e.offsetWidth,s=null==(t=null==n?void 0:n.current)?void 0:t.offsetHeight,o=isNaN(r)?null:r,l=isNaN(s)?null:s;i.width===o&&i.height===l||a({width:o,height:l})}),[null==n?void 0:n.current]);return function(e,t,n){const r=C.exports.useRef(t);qO((()=>{r.current=t}),[t]),C.exports.useEffect((()=>{const t=(null==n?void 0:n.current)||window;if(!t||!t.addEventListener)return;const i=e=>r.current(e);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}),[e,n])}("resize",s),qO((()=>{s()}),[null==(e=null==n?void 0:n.current)?void 0:e.offsetHeight,null==(t=null==n?void 0:n.current)?void 0:t.offsetWidth]),[r,i]}const ZO=()=>window.innerWidth<1133,XO=()=>{const[e,t]=c.useState(ZO());return c.useEffect((()=>{const e=()=>{const e=ZO();t(e)};return window.$(window).on("resize",e),()=>window.$(window).off("resize",e)}),[]),e},JO=e=>{const t=D((e=>{var t;return(null==(t=e.colorTheme)?void 0:t.value)||tl})),[n,r]=c.useState(t);if(c.useEffect((()=>{n!==t&&r(t)}),[t]),e)return n;return UO._colorThemes[n]};u.div`
  height: 12px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  span {
    font-size: 9px;
    line-height: 18px;
    color: ${({theme:e})=>e.themeColors.text};
  }

  svg {
    margin-top: 1px;
    margin-left: 4px;

    height: 12px;
    width: 70px;
    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`;const eL=u.div`
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,tL=e=>c.createElement(eL,null,c.createElement(Oi,o({},e))),nL=u.div`
  line-height: 1;

  a {
    text-decoration: none;

    &:hover {
      text-decoration: none;
    }
  }

  svg {
    height: 20px;
    g {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,rL=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  height: 64px;
  line-height: 1;
  padding-top: 2px;
`,iL=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  height: 64px;
`,aL=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  height: 64px;
`,sL=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  height: 64px;
`,oL=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  height: 64px;
  padding-left: 8px;

  > div {
    margin-right: 16px;

    @media (max-width: 460px) {
      margin-right: 8px;
    }
  }
  > div:last-child {
    margin-right: 0;
  }

  #nav_securities_search_container {
    width: 280px;

    @media (max-width: 660px) {
      width: 180px;
    }
  }
`,lL=u.header`
  height: 64px;
  background-color: ${({theme:e})=>e.themeColors.header};
  width: 100%;
  box-shadow: none;
  border: none;
  border-bottom: ${({theme:e})=>`1px solid ${e.themeColors.lowContrastBorder}`};

  svg {
    g {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,cL=u.div`
  max-width: 1250px;
  margin: 0 auto;
  padding: 0 24px;

  @media (max-width: 976px) {
    padding: 0 16px;
  }

  box-shadow: none;
  border: none;
`,dL=()=>{TC("Clicked Link To Root")()},uL=u.div`
  padding-left: 16px;

  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
`,hL=u.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,pL=u.div`
  width: 100%;
  padding-right: 16px;

  #nav_securities_search_container {
    width: 100% !important;
  }
`,mL=u.div`
  cursor: pointer;
  div {
    width: 18px;
    height: 18px;
  }

  svg {
    width: 18px;
    height: 18px;
  }
`,gL=u.div`
  position: relative;
  cursor: pointer;

  .counter {
    position: absolute;
    top: 0px;
    right: -4px;

    height: 12px;
    min-width: 12px;
  }

  svg {
    width: 20px;
    height: 20px;
  }
`,yL=u.div`
  position: relative;
  cursor: pointer;
  padding-top: 4px;
  padding-left: 1px;

  .counter {
    position: absolute;
    top: 0;
    right: -4px;

    height: 12px;
    min-width: 12px;
  }

  svg {
    width: 20px;
    height: 20px;
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,_L=()=>{const e=b(),{nextLessonId:t,areNoMoreLessons:n}=SI(),r=t>0;return c.createElement(gL,{onClick:()=>{e(r?Pn.build():n?Dn.build():Pn.build())}},r&&c.createElement(AT,{count:0,showDotOnly:!0}),c.createElement(kI,null))},fL=({children:e})=>{const t=b(),[n,r]=c.useState(!1);return c.useEffect((()=>{(async()=>{const{isRejected:e,isUserActionRequired:t}=await Eb();t&&r(!0)})()}),[]),n?c.createElement("span",{onClick:()=>{t(nn.build())}},c.createElement(bA,null,c.createElement(yL,null,c.createElement(AT,{count:0,showDotOnly:!0}),c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M22,3H2C0.91,3.04 0.04,3.91 0,5V19C0.04,20.09 0.91,20.96 2,21H22C23.09,20.96 23.96,20.09 24,19V5C23.96,3.91 23.09,3.04 22,3M22,19H2V5H22V19M14,17V15.75C14,14.09 10.66,13.25 9,13.25C7.34,13.25 4,14.09 4,15.75V17H14M9,7A2.5,2.5 0 0,0 6.5,9.5A2.5,2.5 0 0,0 9,12A2.5,2.5 0 0,0 11.5,9.5A2.5,2.5 0 0,0 9,7M14,7V8H20V7H14M14,9V10H20V9H14M14,11V12H18V11H14"}))))):null},vL=()=>{const e=b(),t=_(),n=P();return c.createElement(UA,{id:"nav_securities_search",icon:"fa-search",parentComponent:"Navbar",placeholder:"Search Stocks...",handleSecurityQuerySelection:r=>{if(!r)return console.error("No security was received",r);!function(e){e({type:"SET_HIDE_SEARCH_HEADER"})}(n);const i=t.pathname,a=t.search;if(fe(a).panel||i.indexOf("/securities/")<0){const n={panel:"security",securityId:r.id},i=ve(n);e(t.pathname+i),TC("Open Security Panel",{Component:"Navbar Search",Context:"Security Card"})()}else e(`/securities/${r.id}`);window.$("input").blur()}})},EL=()=>{const e=P(),{width:t}=jx();return t<552?c.createElement("div",{onClick:()=>function(e){e({type:"SET_SHOW_SEARCH_HEADER"})}(e)},c.createElement(mL,null,c.createElement(xA,null))):c.createElement(vL,null)},bL=()=>c.createElement(lL,null,c.createElement(cL,null,c.createElement(rL,null,c.createElement(iT,{to:"/",additionalClickAction:dL,child:c.createElement(oT,{isSmall:!0}),fullPageLoad:!0,scrollToTop:!0})))),CL=()=>c.createElement(lL,null,c.createElement(cL,null,c.createElement(iL,null,c.createElement(rL,null,c.createElement(oT,{isSmall:!0})),c.createElement("div",{style:{paddingRight:"24px",paddingBottom:"6px"}},c.createElement(_e,{icon:"fading-3balls",size:"small"}))))),xL=u.div`
  margin-left: 0;
  margin-right: 16px;
  cursor: pointer;
`,wL=u.div`
  @media (max-width: 976px) {
    display: none;
  }
`,SL=u.div`
  display: block;
  background-color: ${({theme:e})=>e.themeColors.text};
  height: 2px;
  width: 20px;

  margin: 4px auto;
  -webkit-transition: all 0.3s ease-in-out;
  -o-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;
`,kL=()=>{const e=P();return c.createElement(xL,{onClick:()=>{!function(e){e({type:"SHOW_VERTICAL_NAV"})}(e)}},c.createElement(SL,null),c.createElement(SL,null),c.createElement(SL,null))},TL=e=>{const{usingSpecialAccessToken:t,forceEmptyNav:n,forceLoading:r}=e,i=P(),{width:a}=jx(),s=ZT(),o=dI(),l=D(WT).is_account_close,d=!s||!s.id,u=D((e=>e.nav.showSearchHeader)),h=a<976,p=()=>function(e){e({type:"SET_HIDE_SEARCH_HEADER"})}(i);return t||n?c.createElement(bL,null):r?c.createElement(CL,null):l?h?c.createElement(lL,null,c.createElement(cL,null,c.createElement(aL,null,c.createElement(sL,null,c.createElement(kL,null),c.createElement(rL,null,c.createElement(nL,null,c.createElement(iT,{to:"/",additionalClickAction:dL,child:c.createElement(tL,null),fullPageLoad:!1,scrollToTop:!0})))),c.createElement(oL,null,c.createElement(GO,null))))):c.createElement(lL,null,c.createElement(cL,null,c.createElement(hL,null,c.createElement(rL,null),c.createElement(oL,null,c.createElement(GO,null))))):o||d?c.createElement(lL,null,c.createElement(cL,null,c.createElement(hL,null,c.createElement(rL,null,c.createElement(oT,{isSmall:!0})),!d&&c.createElement(oL,null,c.createElement(GO,null))))):h?c.createElement(lL,null,c.createElement(cL,null,c.createElement(aL,null,c.createElement(sL,null,c.createElement(kL,null),c.createElement(rL,null,c.createElement(nL,null,c.createElement(iT,{to:"/",additionalClickAction:dL,child:c.createElement(tL,null),fullPageLoad:!1,scrollToTop:!0})))),u?c.createElement(uL,null,c.createElement(pL,null,c.createElement(vL,null)),c.createElement("div",null,c.createElement(aS,{customClass:"no-shadow",icon:"fa-times-thin",size:"medium",colorClassName:"secondary-text-color",handleClick:p}))):c.createElement(oL,null,c.createElement(EL,null),c.createElement(wL,null,c.createElement(oA,null)),c.createElement(_L,null),c.createElement(fL,null),c.createElement(uP,null),c.createElement(GO,null))))):c.createElement(lL,null,c.createElement(cL,null,c.createElement(oL,null,c.createElement(EL,null),c.createElement(wL,null,c.createElement(oA,null)),c.createElement(_L,null),c.createElement(fL,null),c.createElement(uP,null),c.createElement(GO,null))))};const IL=e=>{const{badgeName:t}=e;return(()=>{const e=(e=>{switch(e){case"unranked":return"/app/assets/badge-icon-unranked.ef4037f1.png";case"bronze":return"/app/assets/badge-icon-bronze.a77bbbca.png";case"silver":return"/app/assets/badge-icon-silver.05dc0fb1.png";case"gold":return"/app/assets/badge-icon-gold.c0b3ed87.png";case"platinum":return"/app/assets/badge-icon-platinum.f56e889a.png";case"elite":return"/app/assets/badge-icon-elite.4e63d8a5.png"}})(t);return c.createElement("img",{src:e,className:"badge-image"})})()};var NL=Object.defineProperty,AL=(e,t,n)=>(((e,t,n)=>{t in e?NL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class PL extends c.Component{constructor(){super(),AL(this,"_createFakeUserDataForProfileAvatar",(()=>({user:{analytics_id:null,avatar_url:null,bio:"",city:"",connection_status_to_current_user:"connected",current_user:!1,is_community_thought_leader:!1,is_current_user:!1,is_live_trading:!1,is_nvstr_employee:!1,is_on_waitlist:!1,is_private:!1,first_name:this.props.count>9?"9":"+",last_name:this.props.count>9?"+":this.props.count.toString(),state:"",user_id:null}}))),AL(this,"handleMouseOver",(()=>{this.setState((()=>({wasHoveredOnce:!0,isHovered:!0})))})),AL(this,"handleMouseOut",(()=>{this.setState((()=>({isHovered:!1})))})),this.state={wasHoveredOnce:!1,isHovered:!1}}render(){const{profileLinkQuery:e}=this.props;return c.createElement("div",{className:`\n          user-avatar-list-item\n          ${this.state.wasHoveredOnce&&!this.state.isHovered?"user-avatar-list-item-unfocus-animation":""}\n          ${this.state.isHovered?"user-avatar-list-item-focus-animation":""}\n        `,style:{zIndex:this.state.isHovered?this.props.zIndexOnHover:this.props.zIndex}},this.props.count?c.createElement(VP,l(o({},this._createFakeUserDataForProfileAvatar()),{profileLinkQuery:e,withLink:!1,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut})):c.createElement(gP,{userId:this.props.userId},c.createElement(VP,{profileLinkQuery:e,linkTo:this.props.linkTo,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut})))}}var DL=Object.defineProperty,OL=(e,t,n)=>(((e,t,n)=>{t in e?DL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class LL extends c.Component{constructor(){super(),OL(this,"handleFocus",(()=>{this._setFocused()})),OL(this,"handleUnfocus",(()=>{setTimeout(this._setUnfocused,50)})),OL(this,"_setFocused",(()=>{this.setState((()=>({isFocused:!0})))})),OL(this,"_setUnfocused",(()=>{this.setState((()=>({isFocused:!1})))})),OL(this,"handleClick",(()=>{this.state.isFocused?this.handleUnfocus():(this.handleFocus(),this.props.additionalClickAction&&this.props.additionalClickAction())})),OL(this,"_createUnfocusListener",(()=>{$("body").on("click",this.handleUnfocus)})),OL(this,"_destroyUnfocusListener",(()=>{$("body").off("click",this.handleUnfocus)})),OL(this,"onFocus",(()=>{this._createUnfocusListener()})),OL(this,"onUnfocus",(()=>{this._destroyUnfocusListener()})),this.state={isFocused:!1}}componentDidUpdate(e,t){!t.isFocused&&this.state.isFocused&&this.onFocus(),t.isFocused&&!this.state.isFocused&&this.onUnfocus()}render(){return c.createElement("div",{className:"tooltip-button-container"},c.createElement("div",{className:"tooltip-button-wrapper"},c.createElement(aS,l(o({},this.props.iconProps),{handleClick:this.handleClick})),this.state.isFocused&&this.props.children))}}const RL=e=>{const{className:t,style:n,children:r}=e;return c.createElement("span",{className:`text-wrapper-component ${t||""}`,style:n||{}},r)};var FL=Object.defineProperty,ML=(e,t,n)=>(((e,t,n)=>{t in e?FL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const UL="fullName",$L="shortName",BL="profileName",zL="secondaryProfileName",VL=u.div`
  a * {
    color: ${({theme:e})=>e.themeColors.text} !important;
  }
`;class HL extends c.PureComponent{constructor(){super(...arguments),ML(this,"_generateUserDisplayNameString",(()=>{const{user:e,displayNameStyle:t,userIsCurrentUser:n,showCurrentUserFullName:r,isPossessive:i,useYou:a,displayText:s,isViewpointOrg:o}=this.props;return o?s:n&&!r?i?"My":a?"You":"Me":Yh(e)?"Top 10%":Gh(e)?`${ip(e)} - ${ap(e)}`:t===UL?i?tp(e):np(e):t===$L?i?ep(e):(e=>e.isThoughtLeader||e.leader?ap(e):`${e.first_name} ${e.last_name[0]}.`)(e):t===BL?i?Jh(e):Zh(e):t===zL?i?(e=>Qh(Xh(e)))(e):Xh(e):i?tp(e):np(e)})),ML(this,"_generateUserDisplayNameComponent",(()=>{const{punctuation:e,isLoading:t}=this.props,n=this._generateUserDisplayNameString();if(!n)return null;if(t)return null;const r=n.split(" ");return r.map(((t,n)=>c.createElement(RL,{key:`${t}-${n}`,className:n<r.length-1?"":e?"inline-block":""},t,n===r.length-1?c.createElement("span",null,e):c.createElement("span",null," "))))}))}render(){const{user:e,ideaId:t,profileLinkQuery:n,hide:r,inline:i,customClass:a,viewpointOrgName:s,isViewpointOrg:o}=this.props;if(r)return null;const l=e||{},d=o?null:l.user_id,u=!("withLink"in this.props)||this.props.withLink,h=Gh(l),p=Yh(l),m=n||"",g="linkTo"in this.props?this.props.linkTo:h?`/users/${d}/public_profile${m}`:o?Ln("viewpoint_profile",s):t?`/ideas/${t}`:`/users/${d}/public_profile${m}`,y=e=>{const t=u?A:"span",n=u?{to:g}:{className:"link-wrapper"};return c.createElement(t,n,e)};return c.createElement(VL,{className:`user-name-container ${i?"inline-name":""} ${a||""}`},p?c.createElement("span",{className:"info-icon-text-wrapper"},c.createElement("span",{className:" "},y(this._generateUserDisplayNameComponent())),c.createElement(iS,{className:"collective-info-icon",word:"tooltip_collective_user",style:{top:"2px"},position:"top-right"})):c.createElement("span",{className:" "},y(this._generateUserDisplayNameComponent())))}}var WL=T(((e,t)=>{const{isViewpointOrg:n,viewpointOrgId:r}=t;return n?{viewpointOrgName:RP(e,r)}:{}}))(HL);const jL=e=>{const{userIds:t,getLinkFromUserId:n,profileLinkQuery:r,additionalListItem:i}=e;return c.createElement("div",{className:"basic-users-list-container"},c.createElement("ul",null,t.map((e=>c.createElement("li",{key:e},c.createElement(gP,{userId:e},c.createElement(VP,o({profileLinkQuery:r},n?{linkTo:n(e)}:{})),c.createElement(WL,o({profileLinkQuery:r},n?{linkTo:n(e)}:{})))))),i))},GL=e=>{const{bgClassName:t,style:n}=e;return c.createElement("div",{className:`tooltip-body ${t||"main-bg-color-match"} fade-in-up-quick border-accent`,style:n||{}},e.children)};var qL=Object.defineProperty,YL=(e,t,n)=>(((e,t,n)=>{t in e?qL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class KL extends c.Component{constructor(){super(),YL(this,"isMoreUsersInListThanMax",(()=>this.props.userIds.length>1+this._returnMaxShowItemsCount())),YL(this,"_returnMaxShowItemsCount",(()=>this.props.maxShowIdCount||2)),YL(this,"_returnAvatarWidth",(()=>26)),YL(this,"_calcContainerWidth",(()=>$(this._returnContainerDOMNode()).width())),YL(this,"_setContainerWidth",(e=>this.setState((()=>({_containerWidth:e}))))),YL(this,"_returnContainerDOMNode",(()=>this.UserAvatarListContainer)),YL(this,"_handleWindowResize",(()=>this._setContainerWidth(this._calcContainerWidth()))),YL(this,"_initListeners",(()=>{window.addEventListener("resize",this._handleWindowResize)})),YL(this,"_destroyListeners",(()=>{window.removeEventListener("resize",this._handleWindowResize)})),YL(this,"handleEllipsisClick",(()=>{this.props.logEllipsisClick&&this.props.logEllipsisClick();TC("Clicked See List",{Context:"Ideas Performance Notification"})()})),this.state={_containerWidth:null}}componentDidMount(){this._initListeners(),this._setContainerWidth(this._calcContainerWidth())}componentWillUnmount(){this._destroyListeners()}render(){const{userIds:e,getLinkFromUserId:t,profileLinkQuery:n,additionalCount:r,additionalListItem:i}=this.props,a=this.isMoreUsersInListThanMax()?e.slice(0,this._returnMaxShowItemsCount()):e;return c.createElement("div",{ref:e=>this.UserAvatarListContainer=e,className:"user-avatar-list-container"},null!==this.state._containerWidth&&a.map(((e,r)=>c.createElement(PL,{key:e,profileLinkQuery:n,zIndex:a.length-r+1,zIndexOnHover:a.length+2,userId:e,linkTo:t?t(e):null}))),this.isMoreUsersInListThanMax()||r?c.createElement(PL,{profileLinkQuery:n,count:r>0?r:e.length-this._returnMaxShowItemsCount(),zIndex:1}):null,(this.props.showEllipsisUserListAfter||this.props.showEllipsisUserListAfterIfExceedMaxShow&&this.isMoreUsersInListThanMax())&&c.createElement(LL,{iconProps:{icon:"fa-ellipsis-h",customClass:"ellipsis-button"},additionalClickAction:this.handleEllipsisClick},c.createElement(GL,{bgClassName:"component-bg",style:{zIndex:50}},c.createElement(jL,{userIds:e,profileLinkQuery:n,getLinkFromUserId:t,additionalListItem:i}))))}}const QL="Idea Performance Notification",ZL="Performance Ranking Notification";var XL=Object.defineProperty,JL=(e,t,n)=>(((e,t,n)=>{t in e?XL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class eR extends c.PureComponent{constructor(){super(),JL(this,"renderNotificationHeading",(()=>c.createElement("div",{className:"ranking-performance-heading"},c.createElement("span",{className:"info-icon-text-wrapper"},c.createElement("span",{className:"heading  "},"Your Portfolio Rank This Week"),c.createElement(iS,{word:"portfolio_rank",style:{top:"auto",bottom:"1px"}}))))),JL(this,"renderOwnPerformanceRank",(e=>{const t=e.badge,n=e.label;return"incomplete"===t?c.createElement("div",{className:"own-ranking-performance-badge-container"},c.createElement("div",{className:"own-ranking-performance-badge-container-incomplete badge-name sell-text-color"},"Incomplete"),c.createElement("div",{className:"own-ranking-performance-badge-container-incomplete  "},"Build your portfolio by trading a stock and see where you rank next week.")):c.createElement("div",{className:"own-ranking-performance-badge-container"},c.createElement("div",{className:"ranking-performance-badge-container"},c.createElement(IL,{badgeName:t})),c.createElement("div",{className:"ranking-performance-badge-label  "},c.createElement("span",{className:"badge-name"},n)))})),JL(this,"renderBadgeRow",(e=>{const t=this.returnConnectionBadgeData(e);if(!t)return null;const n=t.badge.label,r=t.users.map((e=>e.id));return 0===r.length?null:c.createElement("div",{key:e,className:"ranking-performance-row"},c.createElement("div",{className:"ranking-performance-badge-cell"},c.createElement(IL,{badgeName:e})),c.createElement("div",{className:"ranking-performance-label-cell"},c.createElement("div",{className:"ranking-performance-badge-label  "},c.createElement("span",{className:"badge-name"},n))),c.createElement("div",{className:"ranking-performance-users-cell"},c.createElement(KL,{userIds:r,profileLinkQuery:`?context=${Yg}`,maxShowIdCount:this.getUserListMaxShowCount(),logEllipsisClick:()=>this.logEllipsisClick(e),showEllipsisUserListAfter:!0})))})),JL(this,"logEllipsisClick",(e=>{TC("Clicked View Users List",{Context:ZL,Badge:e})()})),JL(this,"getUserListMaxShowCount",(()=>{const e=$(window).width();return e>400?5:e<350?2:3})),JL(this,"getNotificationData",(()=>this.props.notification)),JL(this,"getOwnRankData",(()=>this.getNotificationData().user_badge)),JL(this,"hasConnectionBadgeData",(()=>{const e=this.getNotificationData().connection_badges;return this.displayedConnectionBadges.filter((t=>t in e)).length>0})),JL(this,"returnConnectionBadgeData",(e=>this.getNotificationData().connection_badges[e])),this.displayedConnectionBadges=["elite","platinum","gold","silver","bronze","unranked"]}render(){const e=this.getOwnRankData();return c.createElement("div",{className:"ranking-performance-notification"},this.renderNotificationHeading(),this.renderOwnPerformanceRank(e),this.hasConnectionBadgeData()&&c.createElement("div",{className:"connections-ranking-performance-container"},c.createElement("div",{className:"connections-ranking-performance-heading  "},"Your Connections"),c.createElement("div",{className:"connections-ranking-performance-container"},this.displayedConnectionBadges.map((e=>this.renderBadgeRow(e))))))}}var tR=Object.defineProperty,nR=(e,t,n)=>(((e,t,n)=>{t in e?tR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class rR extends c.PureComponent{constructor(){super(),nR(this,"isLoading",(()=>this.state.isLoading)),nR(this,"isError",(()=>!!this.getErrorMessage())),nR(this,"getNotificationData",(()=>this.state.notificationData)),nR(this,"getPerformanceRankingDateStr",(()=>this.props.notificationDate)),nR(this,"getErrorMessage",(()=>this.state.error)),nR(this,"renderLoading",(()=>c.createElement("div",{style:{textAlign:"center"}},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),nR(this,"renderComponent",(()=>c.createElement("div",null,c.createElement(eR,{notification:this.getNotificationData()}),c.createElement("div",{style:{padding:"45px"}})))),nR(this,"renderError",(()=>c.createElement("div",{style:{textAlign:"center"}},this.getErrorMessage()))),nR(this,"fetchNotificationData",(()=>Ob(this.getPerformanceRankingDateStr()))),nR(this,"handleFetchNotificationDataResponse",(e=>{const{ok:t,data:n,error:r}=e;t?this.setState((e=>({isLoading:!1,notificationData:n}))):this.setState((e=>({isLoading:!1,error:r})))})),this.state={isLoading:!0,error:null,notificationData:null}}componentDidMount(){this.fetchNotificationData().then((e=>this.handleFetchNotificationDataResponse(e)))}render(){return c.createElement("div",{className:"performance-ranking-modal-container"},this.isError()?this.renderError():this.isLoading()?this.renderLoading():this.renderComponent())}}var iR=Object.defineProperty,aR=(e,t,n)=>(((e,t,n)=>{t in e?iR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class sR extends C.exports.Component{constructor(){super(...arguments),aR(this,"handleClick",(e=>{e.target.classList.contains("panel-overlay")&&this.props.onClick&&this.props.onClick()}))}componentDidMount(){window.$("body").css("overflow","hidden")}componentWillUnmount(){window.$("body").css("overflow","auto")}render(){const{customClass:e,children:t}=this.props;return c.createElement("div",{className:`panel-overlay fade-in ${e}`,onClick:this.handleClick},t)}}sR.defaultProps={customClass:""};var oR=Object.defineProperty,lR=(e,t,n)=>(((e,t,n)=>{t in e?oR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class cR extends c.Component{constructor(){super(...arguments),lR(this,"_handleResize",(()=>{const e=this._returnSizing();this._onMutation(e)})),lR(this,"_returnDOMNode",(()=>this.DOMNode)),lR(this,"_$returnDOMNode",(()=>$(this.DOMNode))),lR(this,"_returnObserver",(()=>this._observer)),lR(this,"_setObserver",(e=>this._observer=e)),lR(this,"_createMutationObserver",(()=>{const e=this._returnDOMNode(),t=this._handleMutationEvent,n=new MutationObserver(t);this._setObserver(n),n.observe(e,{attributes:!0,childList:!0,subtree:!0})})),lR(this,"_destroyMutationObserver",(()=>{this._returnObserver().disconnect()})),lR(this,"_handleMutationEvent",(()=>{const e=this._returnSizing(),t=e.height;t!==this._height&&(this._height=t,this.props.useThrottle?this._createMutationTimeout(e):this._onMutation(e))})),lR(this,"_clearMutationTimeout",(()=>{clearTimeout(this.mutationTimeout)})),lR(this,"_createMutationTimeout",(e=>{this._clearMutationTimeout();const t=this,n=setTimeout((()=>t._onMutation(e)),300);this.mutationTimeout=n})),lR(this,"_onMutation",(e=>{this.props.onMutation&&this.props.onMutation(e)})),lR(this,"_returnSizing",(()=>({height:this._getHeight(),width:this._getWidth()}))),lR(this,"_shouldSetInitialSize",(()=>this.props.setInitialSize)),lR(this,"_getHeight",(()=>this._$returnDOMNode().height())),lR(this,"_getWidth",(()=>this._$returnDOMNode().width())),lR(this,"_validateProps",(()=>{this.props.onMutation||console.error("Missing onMutation prop for MeasureSize component")}))}componentDidMount(){this._validateProps();try{this._createMutationObserver()}catch(e){console.error("Could not create Observer for MeasureSize component",e)}if(this._shouldSetInitialSize()&&this._handleMutationEvent(),this.props.resize&&window.addEventListener("resize",this._handleResize),this.props.updateShortlyAfterMount){const e=this;setTimeout((()=>{e._handleMutationEvent()}),250)}}componentWillUnmount(){this.props.resize&&window.removeEventListener("resize",this._handleResize),this._returnObserver()&&this._destroyMutationObserver()}render(){return c.createElement("div",{ref:e=>this.DOMNode=e,className:`measure-size-wrapper ${this.props.className||""}`},this.props.children)}}var dR=Xk((e=>{const{windowHeight:t,minHeight:n,screenHeight:r,heightOffsetBuffer:i,children:a}=e,[s,o]=C.exports.useState(750),l=t-i,d=n?n>l:l<s,u={overflow:d?"auto":"hidden"};return r&&d&&(u.height=`${l<s?t-i:s}px`),c.createElement("div",{style:u},c.createElement(cR,{onMutation:e=>{const t=e.height;o(t)},setInitialSize:!0,useThrottle:!0},a))})),uR=Object.defineProperty,hR=(e,t,n)=>(((e,t,n)=>{t in e?uR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class pR extends c.Component{constructor(){super(...arguments),hR(this,"_returnMaxWidth",(()=>"wide"===this._returnModal().size?"600px":"300px")),hR(this,"_renderHeading",(()=>this._returnModal().heading?c.createElement("div",{className:`modal-heading ${this._returnModal().customHeadingClass||""}`},this._returnModal().icon&&c.createElement(xc,{icon:this._returnModal().icon.className,color:this._returnModal().icon.color,style:this._returnModal().icon.style})," ",this._returnModal().heading," ",this._returnModal().requireLoading&&c.createElement("i",{className:"fa fa-spinner spin"})):c.createElement("div",null))),hR(this,"_renderMessage",(()=>this._returnModal().message?c.createElement("div",{className:"modal-message"},c.createElement("p",null,this._returnModal().message)):c.createElement("div",null))),hR(this,"_renderContentComponent",(()=>this._returnModal().contentComponent?c.createElement("div",{className:"modal-contentComponent"},this._returnModal().contentComponent):c.createElement("div",null))),hR(this,"_renderConfirmationButtons",(()=>this._returnModal().confirmation?c.createElement("div",{className:"modal-confirmation"},c.createElement("div",{className:"modal-button modal-confirm-button",onClick:this._handleConfirmation},"Continue"),c.createElement("div",{className:"modal-button modal-cancel-button",onClick:this._handleDismiss},"Cancel")):c.createElement("div",null))),hR(this,"_returnModal",(()=>this.props.modal)),hR(this,"_isDismissable",(()=>this._returnModal().dismissable)),hR(this,"_shouldHideModal",(()=>!!(this._returnModal().heading||this._returnModal().message||this._returnModal().contentComponent||this._returnModal().customBody))),hR(this,"_handleOverlayDismiss",(()=>{if(this._isDismissable()){if(!this._returnModal().overrideOverlayDismiss)return this._handleDismiss();this._returnModal().overrideOverlayDismiss()}})),hR(this,"_handleDismiss",(()=>{const e=this._returnModal();if(e.overrideDismissWithoutDismissModalAction)return e.overrideDismiss();e.overrideDismiss?(e.overrideDismiss(),this._dismissModal()):this._dismissModal()})),hR(this,"_dismissModal",(()=>{this.props.actions.hideModal()})),hR(this,"_stopClickPropagationToOverlay",(e=>{e.stopPropagation()})),hR(this,"_handleConfirmation",(e=>{e.stopPropagation(),this.props.actions.confirmModal()}))}render(){if(!this._shouldHideModal())return null;if(this._returnModal().customBody)return c.createElement(sR,{onClick:this._handleOverlayDismiss,customClass:"priority-z-index"},this._returnModal().customBody);const e=c.createElement("div",{style:{position:"relative",width:"100%",maxWidth:this._returnMaxWidth()}},c.createElement("div",{key:`modal-${this._returnModal().key||"0"}`,className:`react-modal component-bg ${this._returnModal().className||""}`,style:{maxWidth:this._returnMaxWidth(),width:"100%"},onClick:this._stopClickPropagationToOverlay},this._isDismissable()&&c.createElement("div",{className:"modal-dismiss",onClick:this._handleDismiss},c.createElement(xc,{icon:"fa-times-thin",colorClassName:"secondary-text-color"})),this._renderHeading(),this._renderMessage(),this._renderContentComponent(),this._renderConfirmationButtons()));return c.createElement(sR,{onClick:this._handleOverlayDismiss,customClass:"priority-z-index"},this._returnModal().restrictHeight?c.createElement(dR,{heightOffsetBuffer:20,screenHeight:!0,minHeight:750},e):e)}}var mR=T((e=>({modal:e.modal})),(e=>({actions:I(WC,e)})))(pR),gR=Object.defineProperty,yR=(e,t,n)=>(((e,t,n)=>{t in e?gR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class _R extends c.Component{constructor(e){super(e),yR(this,"_isOnboarding",(()=>this.props.isCurrentUserOnboarding)),yR(this,"_onAuthenticationSuccess",(()=>{this._initialOptimizationDataRun().then((e=>{this._setupStaleOptimizerDataPolling()}))})),yR(this,"_setupStaleOptimizerDataPolling",(()=>{const e=this._returnPollingFunctionToCheckForStaleOptimizerData();this.setState((()=>({_staleOptimizerDataCheckPollingFunction:e})))})),yR(this,"_clearStaleOptimizerDataPolling",(()=>{this.state._staleOptimizerDataCheckPollingFunction&&clearInterval(this.state._staleOptimizerDataCheckPollingFunction)})),yR(this,"_returnPollingFunctionToCheckForStaleOptimizerData",(()=>setInterval(this._runOptimizationIfDataIsStale,1e4))),yR(this,"_initialOptimizationDataRun",(()=>this.fetchOptimizationData())),yR(this,"_runOptimizationIfDataIsStale",(()=>{if(this._isOnboarding())return null;const e=jl().valueOf(),t=this.props.optimizer.latestOptimizerCallTimestamp,n=jl(t).valueOf();e>jl(n+6e5).valueOf()&&this.fetchOptimizationData()})),yR(this,"fetchOptimizationData",(()=>this.props.actions.runOptimizer())),this.state={_staleOptimizerDataCheckPollingFunction:null}}componentDidUpdate(e){!e.isAppInitialized&&this.props.isAppInitialized&&this._onAuthenticationSuccess()}componentWillUnmount(){this._clearStaleOptimizerDataPolling()}render(){return null}}var fR=T((e=>({optimizer:e.optimizer})),(e=>({actions:I(WC,e)})))(_R),vR=Object.defineProperty,ER=(e,t,n)=>(((e,t,n)=>{t in e?vR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const bR=u.span`
  button {
    padding: 0px 8px;
  }
`,CR=u.span`
  border: 2px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }
`;class xR extends C.exports.Component{constructor(){super(...arguments),ER(this,"_renderWindow",(()=>c.createElement(CR,{ref:e=>this.InformationWindow=e,className:`tour-window ${this._returnColorSchemeStyling()}`,style:this._returnStyling()},c.createElement("span",{className:"body-container"},this._renderTourWindowHeading(),this._renderTourWindowBody(),this._renderNextButton()),_T(this._returnUserTourStep())?null:this._renderEndTour()))),ER(this,"_renderTourWindowHeading",(()=>{const e=this._returnTourWindowHeadingText();return c.createElement("span",{className:"tour-window-heading"},e)})),ER(this,"_renderTourWindowBody",(()=>{let e=this._returnTourWindowBodyText();return Array.isArray(e)&&(e=e.map(((e,t)=>c.createElement("span",{key:`tour-${t}`,className:"text-block"},e)))),c.createElement("span",{className:"tour-window-body"},e)})),ER(this,"_returnTourWindowCustomStyle",(()=>this._returnConfig().returnTourWindowStyle?this._returnConfig().returnTourWindowStyle(this._returnScreenWidth()):{})),ER(this,"_renderNextButton",(()=>{const e=_T(this._returnUserTourStep())?c.createElement(hx,{onClick:this._handleCompleteTourClick},"End"):c.createElement(hx,{onClick:this._handleNextClick},"Next");return c.createElement("span",{className:"tour-window-next-button-container"},e)})),ER(this,"_renderEndTour",(()=>c.createElement(bR,{className:"tour-window-end-tour-button-container"},c.createElement(hx,{transparent:!0,onClick:this._handleEndTourClick},"End tour")))),ER(this,"_returnTourWindowHeadingText",(()=>this._returnTourMessaging().heading)),ER(this,"_returnTourWindowBodyText",(()=>this._returnTourMessaging().body)),ER(this,"_returnRefToFooter",(()=>window.$("footer"))),ER(this,"_addPaddingToFooter",(()=>this._returnRefToFooter().css("paddingBottom","200px"))),ER(this,"_removePaddingToFooter",(()=>this._returnRefToFooter().css("paddingBottom","0px"))),ER(this,"_returnButtonTextColorSchemeStyling",(()=>this._returnColorScheme().btnColorClassName)),ER(this,"_returnColorScheme",(()=>this._returnConfig().returnColorScheme?this._returnConfig().returnColorScheme(this._returnScreenWidth()):"")),ER(this,"_returnColorSchemeStyling",(()=>this._returnColorScheme().stepBgColorClassName)),ER(this,"_handleNextClick",(()=>{this._logNextClick();let e=this._returnUserTourStep()+1;this.props.actions.updateTourStep(e,this._returnCurrentUserId())})),ER(this,"_handleCompleteTourClick",(()=>{this._logCompleteClick(),this._endTour()})),ER(this,"_handleEndTourClick",(()=>{this._logEndTourClick(),this._skipToEndOfTour()})),ER(this,"_skipToEndOfTour",(()=>{const e=Object.keys(gT).length;this.props.actions.updateTourStep(e,this._returnCurrentUserId())})),ER(this,"_checkIfStartingTourAndLog",(()=>{1===this._returnUserTourStep()&&this._isOnTour()&&!this.hasLoggedTourStart&&(this.hasLoggedTourStart=!0,this._logStartTour())})),ER(this,"_endTour",(()=>(this.hasLoggedTourStart=!1,this.props.actions.endTour(this._returnCurrentUserId())))),ER(this,"_returnConfig",(()=>yT.call(this,this._returnUserTourStep()))),ER(this,"_returnConfigStyle",(()=>this._returnConfig().returnStyle(this._returnScreenWidth()))),ER(this,"_runSetupActions",(()=>this._returnConfig().setupActions.call(this))),ER(this,"_returnConfigShowOnRoute",(()=>this._returnConfig().showOnRoute)),ER(this,"_returnTourMessaging",(()=>this._returnConfig().returnWindowMessaging(this._returnScreenWidth()))),ER(this,"_returnLocation",(()=>this.props.location||window.location)),ER(this,"_returnLocationPathname",(()=>this._returnLocation().pathname)),ER(this,"_returnLocationQuery",(()=>this._returnLocation().search)),ER(this,"_returnFullURLMinusDomain",(()=>this._returnLocationPathname()+this._returnLocationQuery())),ER(this,"_isOnCorrectPage",(()=>{const e=this._returnConfigShowOnRoute();return e.exact?this._returnLocationPathname()===e.route:this._returnLocationPathname().indexOf(e.route)>=0})),ER(this,"_isLoading",(()=>!this._returnTourData().loaded)),ER(this,"_showHighlight",(e=>(e=e||this.props,this._isOnTour(e)&&this._isOnCorrectPage()))),ER(this,"_returnStyling",(()=>o(o({},this._returnDefaultProperties()),this._returnTourWindowCustomStyle()))),ER(this,"_returnDefaultProperties",(()=>({left:this._returnScreenWidth()<985?"15px":"200px"}))),ER(this,"_returnScreenWidth",(()=>this.props.windowWidth)),ER(this,"_$returnDOMnode",(()=>window.$(this._returnDOMnode()))),ER(this,"_returnDOMnode",(()=>this.InformationWindow)),ER(this,"_returnTourData",(e=>(e||this.props).tour)),ER(this,"_returnUserTourStep",(e=>this._returnTourData(e).tour_step)),ER(this,"_isOnTour",(e=>!this._isOnboarding(e)&&this._returnTourData(e).is_on_tour)),ER(this,"_isOnboarding",(e=>Sp(this._returnCurrentUser(e)))),ER(this,"_returnHighlightTourStep",(e=>(e||this.props).tourStep)),ER(this,"_returnCurrentUser",(e=>(e||this.props).currentUser)),ER(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),ER(this,"_logEndTourClick",(()=>{const e={"Tour Step":this._returnUserTourStep()};this.props.actions.logMetricsTrackingEvent("End Tour Click",e)})),ER(this,"_logCompleteClick",(()=>{this.props.actions.logMetricsTrackingEvent("Complete Tour Click",{})})),ER(this,"_logNextClick",(()=>{const e={"Current Tour Step":this._returnUserTourStep()};this.props.actions.logMetricsTrackingEvent("Clicked See Next In Tour",e)})),ER(this,"_logStartTour",(()=>{this.props.actions.logMetricsTrackingEvent("View First Step In Tour",{})}))}componentDidMount(){this._checkIfStartingTourAndLog()}componentDidUpdate(e){this._checkIfStartingTourAndLog()}render(){return this._isLoading()?null:this._isOnTour()&&this._showHighlight()?this._renderWindow():null}}const wR=N(_c,Xk,T((e=>({currentUser:e.currentUser,tour:e.tour,horizontalList:e.horizontalList})),(e=>({actions:I(WC,e)}))))(xR);var SR=Object.defineProperty,kR=(e,t,n)=>(((e,t,n)=>{t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class TR extends C.exports.Component{constructor(e){super(e),kR(this,"_stateShowBanner",(()=>this.state._shouldShow)),kR(this,"_isDismissed",(()=>this.state._isDismissed)),kR(this,"_showBanner",(()=>this._stateShowBanner()&&!this._isDismissed())),kR(this,"_renderDismissButton",(()=>c.createElement(aS,{icon:"fa fa-times fa-times-thin",colorClassName:"secondary-text-color",size:"large",handleClick:this._handleDismiss}))),kR(this,"_renderMessage",(()=>c.createElement("div",{className:"reload-banner-message"},this._returnBannerMessage()))),kR(this,"_renderReloadButton",(()=>c.createElement(hx,{onClick:this._handleReloadClick},"Reload"))),kR(this,"_returnBannerMessage",(()=>`An update is available to ${Xo}. Please reload the page to get the latest version.`)),kR(this,"_handleReloadClick",(()=>{this._logBannerReloadClick(),window.location.reload()})),kR(this,"_handleVersionChange",(()=>{this._setShouldShow(),this._logBannerShow()})),kR(this,"_handleDismiss",(()=>{this._setDismiss(),this._logBannerDismiss()})),kR(this,"_setDismiss",(()=>{this.setState((()=>({_isDismissed:!0})))})),kR(this,"_setShouldShow",(()=>{this.setState((()=>({_shouldShow:!0})))})),kR(this,"_isVersionStored",(e=>!nk(this._returnAppVersion(e)))),kR(this,"_didVersionChange",(e=>this._isVersionStored(e)&&this._returnAppVersion(e)!==this._returnAppVersion())),kR(this,"_returnAppVersion",(e=>this._returnCurrentUser(e).app_version)),kR(this,"_returnCurrentUser",(e=>(e||this.props).currentUser)),kR(this,"_logBannerReloadClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Reload Nvstr Banner",{})})),kR(this,"_logBannerDismiss",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Dismiss Reload Nvstr Banner",{})})),kR(this,"_logBannerShow",(()=>{this.props.actions.logMetricsTrackingEvent("Viewed Reload Nvstr Banner",{})})),this.state={_shouldShow:!1,_isDismissed:!1}}componentDidUpdate(e){this._didVersionChange(e)&&!this._stateShowBanner()&&this._handleVersionChange()}render(){return this._showBanner()?c.createElement("div",{className:"reload-banner-container fade-in-drop"},this._renderMessage(),this._renderReloadButton(),this._renderDismissButton()):null}}const IR=N(T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(TR);var NR=Object.defineProperty,AR=(e,t,n)=>(((e,t,n)=>{t in e?NR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class PR extends C.exports.Component{constructor(e){super(e),AR(this,"_isDismissed",(()=>this.state._isDismissed)),AR(this,"_showBanner",(()=>this._hasMarginCall()&&!this._isDismissed())),AR(this,"_renderDismissButton",(()=>c.createElement(aS,{icon:"fa fa-times fa-times-thin",color:"#fff",size:"large",background:"rgba(0,0,0,0)",handleClick:this._handleDismiss}))),AR(this,"_renderMessage",(()=>c.createElement("div",{className:"margin-call-banner-message"},this._returnBannerMessage()))),AR(this,"_returnBannerMessage",(()=>`You currently have a ${this._marginCallAmountDisplay()} margin call on your account. Please deposit cash, or liquidate some of your positions to create excess margin.`)),AR(this,"_handleDismiss",(()=>{this.postSeenMarginCall(),this._setDismiss(),this._logBannerDismiss()})),AR(this,"postSeenMarginCall",(()=>this.props.actions.postSeenMarginCall())),AR(this,"_setDismiss",(()=>{this.setState((()=>({_isDismissed:!0})))})),AR(this,"_marginCallAmountDisplay",(()=>B_(this._returnMarginCallAmount(),"price"))),AR(this,"_hasMarginCall",(()=>this._returnCurrentUser().should_see_margin_call_notice)),AR(this,"_returnMarginCallAmount",(()=>this._returnCurrentUser().margin_call_amount)),AR(this,"_returnCurrentUser",(e=>(e||this.props).currentUser)),AR(this,"_logBannerDismiss",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Dismiss Margin Call Banner",{})})),AR(this,"_logBannerShow",(()=>{this.props.actions.logMetricsTrackingEvent("Viewed Margin Call Banner",{})})),this.state={_isDismissed:!1}}render(){return this._showBanner()?c.createElement("div",{className:"margin-call-banner-container fade-in-drop"},this._renderMessage(),this._renderDismissButton()):null}}const DR=N(T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(PR),OR=e=>c.createElement("div",{id:"window-monitor"});var LR=Object.defineProperty,RR=(e,t,n)=>(((e,t,n)=>{t in e?LR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class FR extends C.exports.Component{constructor(){super(...arguments),RR(this,"_renderActionMessages",(()=>c.createElement("ul",null,this._returnActionMessagesToDisplay().map(((e,t)=>this._renderActionMessage(e,t)))))),RR(this,"_renderActionMessage",((e,t)=>c.createElement("li",{key:`action-message-display-${e.type}-${t}`,className:"action-message-position-container fade-in-down-quick",style:{top:`${this._returnActionMessageTopPosition(t)}px`,left:`${this._returnActionMessageLeftPosition(t)}px`}},this._returnActionMessageRenderer()[e.type]))),RR(this,"_returnActionMessageRenderer",(()=>({}))),RR(this,"_returnActionMessageTopPosition",(e=>{const t=e+1;return this._returnTopOffset()+(30*t-30)+t*this._returnPaddingBetweenActionMessages()})),RR(this,"_returnActionMessageLeftPosition",(e=>(this._returnWindowWidth()+this._returnLeftOffset())/2-152.5)),RR(this,"_returnActionMessagesToDisplay",(()=>this._returnActionMessageStore().displayingMessagesList)),RR(this,"_returnActionMessagesToDisplayCount",(()=>this._returnActionMessagesToDisplay().length)),RR(this,"_areMessagesLongerThanWindow",(()=>this._returnWindowHeight()<=this._returnTopOffset()+this._returnActionMessagesToDisplayCount()*(35+this._returnPaddingBetweenActionMessages()))),RR(this,"_returnTopOffset",(()=>50)),RR(this,"_returnLeftOffset",(()=>this._isVerticalNavOpen()?184:0)),RR(this,"_returnPaddingBetweenActionMessages",(()=>this.props.paddingBetween||15)),RR(this,"_isVerticalNavOpen",(()=>{return!(e=this._returnNavStore()).collapsed||e.alwaysOpen;var e})),RR(this,"_returnActionMessageStore",(()=>this.props.actionMessage)),RR(this,"_returnBannerStore",(()=>this.props.banner)),RR(this,"_returnNavStore",(()=>this.props.nav)),RR(this,"_returnWindowHeight",(()=>this.props.windowHeight)),RR(this,"_returnWindowWidth",(()=>this.props.windowWidth))}render(){return c.createElement("div",{className:"action-message-container"},this._renderActionMessages())}}const MR=N(Xk,T((e=>({actionMessage:e.actionMessage,banner:e.banner,nav:e.nav})),(e=>({actions:I(WC,e)}))))(FR),UR=()=>c.createElement("div",{className:"optimizer-chart-legend secondary-text-color"},"Shaded areas indicate 25",c.createElement("sup",null,"th")," to 75",c.createElement("sup",null,"th")," percentiles"),$R=[204,204,212],BR=[61,215,53],zR=(e,t)=>`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${t})`,VR=(e,t)=>{let n=null;for(let r in e)if(e.hasOwnProperty(r)){let i="max"===t?n<e[r]:n>e[r];n?i&&(n=e[r]):n=e[r]}return n},HR=function(e,t,n,r,i,a){let s=[],o="upper"===e?1:-1;for(let l=0;l<t;l++){let e=n*jR(a)*Math.sqrt(l/t),c=r+i*(l/t);s.push(parseFloat((c+e*o).toFixed(4)))}return s},WR=function(e,t,n,r,i){let a=null;for(let s=0;s<e;s++){let o=n+r*(s/e)+-1*(t*jR(i)*Math.sqrt(s/e));(!a||o<a)&&(a=o)}return a},jR=e=>e.risk_confidence_multiplier,GR=e=>e<1e3?e.toFixed(2):function(e){let t=e/1e3;return e<11e3?hk(t,{minimumFractionDigits:1,maximumFractionDigits:1})+"k":hk(t,{maximumFractionDigits:0})+"k"}(e),qR=({panelWidth:e,usingPercentages:t,optimizerPortfolioData:n})=>{const r=c.useRef(null);if(!n)return null;const i=365,a=function(e,t,n){let r=[];for(let i=0;i<e;i++)r.push("");return r[0]=t,r[e-1]=n,r}(i,"Today  ","One Year"),s=0===n.current_profit,o=0===n.optimized_profit,{projectedReturn:l,projectedMinRange:d,projectedMaxRange:u,optimizedReturn:h,optimizedMinReturn:p,optimizedMaxReturn:m}=((e,t)=>({projectedReturn:HR("upper",e,0,t.current_value,t.current_profit,t),projectedMinRange:HR("lower",e,t.current_risk,t.current_value,t.current_profit,t),projectedMaxRange:HR("upper",e,t.current_risk,t.current_value,t.current_profit,t),optimizedReturn:HR("upper",e,0,t.current_value,t.optimized_profit,t),optimizedMinReturn:HR("lower",e,t.optimized_risk,t.current_value,t.optimized_profit,t),optimizedMaxReturn:HR("upper",e,t.optimized_risk,t.current_value,t.optimized_profit,t)}))(i,n),g={projectedReturn:l[l.length-1],optimizedReturn:h[h.length-1],projectedMinRange:d[d.length-1],projectedMaxRange:u[u.length-1],optimizedMinReturn:p[p.length-1],optimizedMaxReturn:m[m.length-1]},y={current_value:n.current_value,minLowerBoundProjected:WR(i,n.current_risk,n.current_value,n.current_profit,n),minLowerBoundOptimized:WR(i,n.optimized_risk,n.current_value,n.optimized_profit,n),projectedReturn:l[l.length-1],optimizedReturn:h[h.length-1],projectedMinRange:d[d.length-1],projectedMaxRange:u[u.length-1],optimizedMinReturn:p[p.length-1],optimizedMaxReturn:m[m.length-1]};let _=VR(y,"min");_-=.05*_;const f=VR(y,"max"),v=(({projectedReturn:e,projectedMinRange:t,projectedMaxRange:n,optimizedReturn:r,optimizedMinReturn:i,optimizedMaxReturn:a,isProjectedReturnFlat:s,isOptimizedReturnFlat:o,minValue:l,maxValue:c})=>[{label:7,backgroundColor:"rgba(0,0,0,0)",borderColor:"transparent",data:[l,c],yAxisID:"y-axis-1",fill:!0},{label:2,backgroundColor:"rgba(0,0,0,0)",borderColor:zR($R,.6),data:e,yAxisID:"y-axis-0",fill:!0},{label:3,backgroundColor:s?"rgba(0,0,0,0)":zR($R,.2),borderColor:"rgba(0,0,0,0)",data:t,yAxisID:"y-axis-0",fill:"-1"},{label:4,backgroundColor:s?"rgba(0,0,0,0)":zR($R,.2),borderColor:"rgba(0,0,0,0)",data:n,yAxisID:"y-axis-0",fill:"-2"},{label:1,backgroundColor:"rgba(0,0,0,0)",borderColor:zR(BR,.6),data:r,yAxisID:"y-axis-0",fill:!0},{label:5,backgroundColor:o?"rgba(0,0,0,0)":zR(BR,.3),borderColor:"rgba(0,0,0,0)",data:i,yAxisID:"y-axis-0",fill:"-1"},{label:6,backgroundColor:o?"rgba(0,0,0,0)":zR(BR,.3),borderColor:"rgba(0,0,0,0)",data:a,yAxisID:"y-axis-0",fill:"-2"}])({projectedReturn:l,projectedMinRange:d,projectedMaxRange:u,optimizedReturn:h,optimizedMinReturn:p,optimizedMaxReturn:m,isProjectedReturnFlat:s,isOptimizedReturnFlat:o,minValue:_,maxValue:f}),E={maintainAspectRatio:!0,responsive:!0,elements:{capBezierPoints:!1,line:{borderWidth:2,backgroundColor:"rgba(0,0,0,0)"},point:{radius:0,hitRadius:10,hoverRadius:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0, 0, 0, 0)"}},scales:{xAxes:{id:"x-axis-0",distribution:"series",grid:{display:!1,borderColor:"transparent",color:"#707070"},ticks:{autoSkip:!1,maxRotation:0}},"y-axis-0":{position:"right",id:"y-axis-0",min:_,max:f,grid:{display:!1,borderColor:"transparent",color:"#707070"},afterTickToLabelConversion:function(e){const n=((e,t)=>{let n=[],r=VR(e,"min"),i=.075*(VR(e,"max")-r),a=function(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t.sort((function(e,t){return e-t}))}(e);for(let s=0;s<a.length;s++){const e=a[s],r={value:e,label:t?e+"%":"$"+GR(e)};0===n.length||a[s]>=a[s-1]+i?n.push(r):n[n.length-1]=r}return n})(g,t);e.chart.scales["y-axis-0"].ticks=n}},"y-axis-1":{min:_,max:f,position:"left",id:"y-axis-1",grid:{display:!1,borderColor:"#707070"},afterTickToLabelConversion:function(e){const t=n.current_value,r=[{value:t,label:"$"+GR(t)}];e.chart.scales["y-axis-1"].ticks=r}}},animation:{duration:300},plugins:{tooltip:{enabled:!1},legend:{display:!1}}},b=Math.min(450,(e=>{if(e>864)return e-250-250-36;return e<652?e-36:e<716?e-250-50:e-250})(e)),C={labels:a,datasets:v};return v&&0!==v.length?c.createElement("div",{className:"optimizer-graph-container",style:{width:`${b}px`}},c.createElement(O,{ref:r,type:"line",data:C,options:E}),c.createElement(UR,null)):c.createElement("div",{className:"optimizer-graph-container",style:{width:`${b}px`}})};class YR extends c.PureComponent{render(){return c.createElement("div",{className:"optimizer-disclaimer"},c.createElement("span",{className:"disclaimer-text-color"},'Projected return is based on the price targets and other information in your ideas. Risk is based on recent historical data. Results may vary with each use and over time. Conviction levels affect the maximum possible allocation for each position. Any "short term" (6 month) idea will be annualized. IMPORTANT: The projections or other information generated by the Rebalancer regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results.'))}}var KR=Object.defineProperty,QR=(e,t,n)=>(((e,t,n)=>{t in e?KR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ZR extends c.PureComponent{constructor(){super(...arguments),QR(this,"_handleCreateRebalancerOrders",(()=>{this.props.onCreateOrders()})),QR(this,"_runRebalancer",(()=>{const{dispatch:e}=this.props;return Kb()(e)}))}render(){return this.props,c.createElement("div",{className:"optimizer-action-btn-container",style:{paddingTop:"65px"}},null,c.createElement("div",{className:"create-optimized-orders-btn-container"},c.createElement("div",{className:"wrapper"},c.createElement(hx,{small:!0,onClick:this._handleCreateRebalancerOrders},"Next"),null)))}}var XR=T((e=>({minEquityToUse:e.currentUser.min_equity_required_to_use_optimizer})))(ZR);const JR=function(e,t){this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})))},eF=function(e,t){this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})))},tF=function(e,t){this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})))},nF=function(e,t){return{Toggle:JR.bind(t),Dropdown:eF.bind(t),TextNumberField:tF.bind(t),MoneyField:Ih.bind(t)}[e]||console.error(`Could not find lookup for inputType in returnHandleChangeFunctionForInputs for ${e}`)},rF=function(e){const t=this,n=t.state.formData||{},r=t.state.inputErrors||{},i=t.state.warnings||[],a=t.props||{};return{handleChange:nF(e,t),getErrorMessage:function(e){return r[e]}.bind(t),getInputWarning:function(e){return i[e]}.bind(t),getValue:function(e){return n[e]}.bind(t),getValueObjectId:function(e){return n[e][`${e}_type_id`]}.bind(t),getObjectId:function(e){return a[e][`${e}_id`]}.bind(t)}},iF=function(e,t,n,r){if(void 0===this)return console.error("renderInput must be called with the context of the forms main class component"),null;if(!e)return console.error("Invalid or missing input supplied to renderInput"),null;if(!e.name)return console.error("Input supplied to renderInput is missing 'name' key"),null;if(!e.type)return console.error("Input supplied to renderInput is missing 'type' key"),null;const i=n||e.name,a=o(o(o({key:i,name:e.name,label:e.label||"",required:e.required||!1},rF.call(this,e.typeName)),e.props||{}),t||{});return c.createElement(e.type,a,r||null)},aF={FLOAT:new RegExp(/^[0-9\.\-]*$/),CALIFORNIA_RULES:new RegExp(/^[a-z-.'\s?]+$/i)},sF=(e,t)=>((e,t)=>e.split("").filter((e=>t.test(e))).join(""))(e,t);var oF=Object.defineProperty,lF=(e,t,n)=>(((e,t,n)=>{t in e?oF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class cF extends c.PureComponent{constructor(){super(),lF(this,"getValue",(()=>{const{value:e}=this.props,{isFocused:t}=this.state;return t&&isNaN(e)&&"string"!=typeof e?"0":e})),lF(this,"setIsFocused",(e=>{this.setState((()=>({isFocused:e})))})),lF(this,"handleFocus",(()=>{const{value:e}=this.props;if(this.setIsFocused(!0),e===this.EMPTY_VALUE){const{securityId:e,handleChange:t}=this.props;t(e,0)}})),lF(this,"handleBlur",(()=>{const{value:e,securityId:t,roundToDecimalPlace:n,handleChange:r}=this.props;if(this.setIsFocused(!1),0===e||"0"===e||""===e)r(t,this.EMPTY_VALUE);else{if(nk(e))return;if("string"==typeof e){r(t,kk(parseFloat(sF(e,aF.FLOAT)),n))}else{r(t,kk(e,n))}}})),lF(this,"handleChange",(e=>{const{securityId:t,handleChange:n}=this.props,r=e.target.value;n(t,sF(r,aF.FLOAT))})),this.EMPTY_VALUE=" - ",this.state={isFocused:!1}}componentDidMount(){this.handleBlur()}render(){const{securityId:e,inputProps:t,value:n}=this.props;return c.createElement("div",{className:"rebalance-allocation-input border-accent input-bg"},c.createElement("input",o({type:"text",name:`rebalance-allocation-input-${e}`,className:n===this.EMPTY_VALUE?"pad-right":"",placeholder:"",value:this.getValue(),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur},t)),n!==this.EMPTY_VALUE&&c.createElement("div",{className:"trailing-input-percent"},"%"))}}cF.defaultProps={inputProps:{}};var dF=Object.defineProperty,uF=(e,t,n)=>(((e,t,n)=>{t in e?dF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const hF=e=>c.createElement("div",{className:"rebalancer-refresh-button-container",style:{textAlign:"center",marginTop:"5px"}},c.createElement(Cc,{customClass:"btn btn-secondary-color btn-small",prefixIcon:"fa-refresh",text:"Refresh Analysis",handleClick:e.onClick}));class pF extends c.PureComponent{constructor(){super(),uF(this,"_renderRow",(e=>{const t=this._returnPortfolioAllocationPercent(e.security_id),n=this._returnRebalancerPortfolioAllocationPercent(e.security_id);return c.createElement("tr",{key:`optimized-allocation-${e.security_id}`,className:"optimizer-panel-optimized-allocation  rebalancer-allocation"},c.createElement("td",{className:"security-symbol"},e.symbol),c.createElement("td",{className:`security-allocation ${"-"===t&&"pad-right"}`},t),c.createElement("td",{className:"security-allocation optimized "+("-"===n?"pad-right":"")},c.createElement(cF,{securityId:e.security_id,handleChange:this.props.handleRebalancerAllocationChange,value:n,roundToDecimalPlace:this.ROUND_ALLOC_PERCENT_DECIMAL_PLACE})))})),uF(this,"getRebalancedAllocationData",(()=>this.props.rebalancer.data.rebalanced_positions_by_security_id)),uF(this,"_getSortedListOfSecurities",(()=>this._getSortedListOfSecuritiesByAlphabetical())),uF(this,"_getSortedListOfSecuritiesByAlphabetical",(()=>{const e=this.getRebalancedAllocationData(),t=Object.keys(e),n={};t.forEach((t=>{n[t]=e[t].symbol}));return t.sort(((e,t)=>n[e]<n[t]?-1:n[e]>n[t]?1:0)).map((t=>e[t]))})),uF(this,"_getSortedListOfSecuritiesByHighestRebalancedAllocations",(()=>{const e=this.getRebalancedAllocationData();return Object.keys(e).map((t=>e[t])).sort(((e,t)=>Math.abs(t.allocation_percent)-Math.abs(e.allocation_percent)))})),uF(this,"_returnPortfolioAllocationPercent",(e=>{const t=this.props.portfolio.positions,n=t[e]?t[e].allocation_percent:0;return 0===n?"-":Zm.percentage(n,{decimalPlace:this.ROUND_ALLOC_PERCENT_DECIMAL_PLACE})})),uF(this,"_returnRebalancerPortfolioAllocationPercent",(e=>{const{rebalanceAllocationsLookup:t}=this.props;if(null===t)return" - ";const n=t[e];return isNaN(n)&&"string"!=typeof n?" - ":n})),uF(this,"_isRebalancerAllocationTableLoading",(()=>this.props.portfolio.loading||null===this.props.rebalanceAllocationsLookup)),this.ROUND_ALLOC_PERCENT_DECIMAL_PLACE=1}render(){return c.createElement("div",{className:"wrapper",style:{margin:"0 auto"}},c.createElement("div",{className:"wrapper",style:{margin:"0 auto"}},c.createElement("div",{className:"optimized-portfolio-list-container rebalancer-portfolio-list-container"},c.createElement("div",{className:"heading secondary-heading-text-color"},"Rebalanced Allocations"),this._isRebalancerAllocationTableLoading()?c.createElement("div",{className:"optimizer-panel-optimized-allocation text-center"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}})):c.createElement("table",null,c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"security-symbol"}),c.createElement("th",{className:"security-allocation secondary-text-color"},"Current"),c.createElement("th",{className:"security-allocation optimized optimizer-emphasized-text-color"},"Rebalanced"))),c.createElement("tbody",null,this._getSortedListOfSecurities().map((e=>this._renderRow(e))),c.createElement("tr",null,c.createElement("td",{style:{padding:"11px"}}),c.createElement("td",null))))),c.createElement("div",{className:"optimizer-panel-transparent-gradient rebalancer-panel-transparent-gradient to-bottom"})),this.props.rebalancerErrorMessage&&c.createElement("div",{style:{paddingBottom:"8px",textAlign:"center",maxWidth:"200px",margin:"0 auto",fontSize:"12px"}},c.createElement("span",{className:"error-text-color"},this.props.rebalancerErrorMessage)),c.createElement(hF,{onClick:this.props.runRebalancer}))}}var mF=T((e=>({rebalancer:e.rebalancer,portfolio:e.portfolio,ideaList:e.ideas.ideaList,currentUserId:e.currentUser.user_id})))(pF),gF=Object.defineProperty,yF=(e,t,n)=>(((e,t,n)=>{t in e?gF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class _F extends c.PureComponent{constructor(){super(...arguments),yF(this,"handleDismiss",(()=>{const{dispatch:e}=this.props;!function(e){e({type:"HIDE_MODAL"})}(e)}))}render(){const{message:e,withOkay:t}=this.props;return c.createElement("div",null,c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),t&&c.createElement("div",{className:"modal-custom-button"},c.createElement(hx,{onClick:this.handleDismiss},"Okay")))}}var fF=T()(_F),vF=Object.defineProperty,EF=(e,t,n)=>(((e,t,n)=>{t in e?vF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class bF{constructor(e,t){EF(this,"setAllocPercent",(e=>this.allocPercent=e)),EF(this,"getSecurityId",(()=>this._securityId)),EF(this,"getAllocPercent",(()=>this._allocPercent)),EF(this,"toAPI",(()=>({security_id:this._securityId,alloc_percent:this._allocPercent}))),this._securityId=e,this._allocPercent=t}}class CF{constructor(e=[],t=0){EF(this,"createOrUpdate",((e,t)=>{const n=[];let r=!1;return this.rebalancePositions.forEach((i=>{const a=e===i.getSecurityId();a&&(r=!0);const s=a?new bF(e,t):i;n.push(s)})),r||n.push(new bF(e,t)),this.rebalancePositions=n,n})),EF(this,"toAPI",(()=>this.rebalancePositions.map((e=>e.toAPI())))),this.rebalancePositions=[],e.forEach((e=>{const n=new bF(e,t);this.rebalancePositions.push(n)}))}}const xF=e=>{const t=new CF;let n=Object.keys(e);return 0===n.length?null:(n=n.map((e=>parseFloat(e))),n.forEach((n=>{const r=e[n],i=parseFloat(r);isNaN(i)?(" - "!==r&&console.error("Allocation was NaN",{id:n,alloc:r}),t.createOrUpdate(n,0)):t.createOrUpdate(n,r)})),t)};var wF=Object.defineProperty,SF=(e,t,n)=>(((e,t,n)=>{t in e?wF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class kF extends c.PureComponent{constructor(e){super(e),SF(this,"renderCreatingOrdersMessage",(()=>c.createElement("div",{className:"creating-optimized-orders-overlay"},c.createElement("div",{className:"creating-optimized-orders component-bg",style:{maxWidth:"320px "}},c.createElement(_e,{size:"medium"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Creating Orders"))))),SF(this,"renderRebalancerFeedback",(()=>{const{portfolioStats:e,optimizerMessage:t,currentPortfolioStats:n,optimizedPortfolioStats:r,optimizerLastUpdated:i,rebalancedAllocatedPositionsCount:a}=this.buildRebalancerData(),s=!nk(n.total_value)&&n.total_value>0,o=e.risk_confidence_max_percentile,l=s?Zm.priceNearestDollar(n.projected_value):Zm.percentage(n.profit_loss_percentage),d=`${o}% chance of being above ${(s?Zm.price_fin_notation_no_decimal(n.risk_confidence_min):Zm.percentage(n.risk_confidence_min_percentage)).toFixed(2)}`,u=s?Zm.priceNearestDollar(r.projected_value):Zm.percentage(r.profit_loss_percentage),h=s?Zm.price_fin_notation_no_decimal(r.risk_confidence_min):Zm.percentage(r.risk_confidence_min_percentage),p=a>0?`${o}% chance of being above ${h.toFixed(2)}`:"",m=i?`Last updated ${i}`:"";return c.createElement("div",{className:"optimizer-feedback-container"},c.createElement("div",{className:"optimizer-message optimizer-emphasized-text-color"},t),c.createElement("div",{className:"portfolio-comparison-container"},s&&c.createElement("div",{className:"current-projected-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current Projected Value"),c.createElement("div",{className:"value  "},l),c.createElement("div",{className:"accuracy secondary-text-color"},d)),c.createElement("div",{className:"optimized-projected-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Rebalanced Projected "+(s?"Value":"Return")),c.createElement("div",{className:"value optimizer-emphasized-text-color"},u),c.createElement("div",{className:"accuracy secondary-text-color"},p))),c.createElement("div",{className:"optimizer-last-updated secondary-text-color"},m))})),SF(this,"handleRebalancerAllocationChange",((e,t)=>{const n=this.getRebalanceAllocationsLookup();this.setState((r=>{const i={isEdittingAllocations:!0,customRebalanceAllocationsLookup:l(o(o({},r.isEdittingAllocations?{}:n),r.customRebalanceAllocationsLookup),{[e]:t})};return i.rebalancerErrorMessage=this.generateAllocationInputError(i),i}))})),SF(this,"generateAllocationInputError",(e=>this.isTotalAllocationTooLarge(e)?"Allocation percentages can not total to greater than 100%":null)),SF(this,"isTotalAllocationTooLarge",((e=this.state)=>{const{customRebalanceAllocationsLookup:t}=e;let n=0;return Object.keys(t).forEach((e=>{const r=parseFloat(t[e]);isNaN(r)||(n+=r)})),n>100})),SF(this,"getRebalanceAllocationsLookup",(()=>{const{isEdittingAllocations:e,customRebalanceAllocationsLookup:t}=this.state,n=this.getRebalancerAllocationsFromLastRun();return e?t:n})),SF(this,"getRebalancerAllocationsFromLastRun",(()=>{const{rebalancer:e}=this.props;if(!e.data)return{};const{data:t}=this.props.rebalancer,{rebalanced_positions_by_security_id:n}=t,r=n,i={};return Object.keys(r).forEach((e=>{const t=r[e];i[e]=t.allocation_percent})),i})),SF(this,"getCurrentPortfolioCurrentValue",(()=>{const{currentPortfolioStats:e}=this.buildRebalancerData();return e.total_value||0})),SF(this,"_onRebalancerStartRunning",(()=>{this._isOnAnalysisPageOrRebalancerPanelOpen()&&!this._isADifferentPanelOpenOnPage()&&this._showRebalancerIsRunningActionMessage()})),SF(this,"_onRebalancerEndRunning",(()=>{this._hideRebalancerIsRunningActionMessage()})),SF(this,"handleCreateRebalancerOrders",(()=>{this.showCreatingOrdersMessage(),this.createRebalancerOrders()})),SF(this,"_handleOpenRebalancerPanel",(()=>{const{dispatch:e}=this.props;!function(e){e({type:"OPEN_REBALANCER_PANEL"})}(e),this._handleResize()})),SF(this,"_handleClosePanel",(()=>{this._removeAutoExpandFromUrl(),Yb()(this.props.dispatch)})),SF(this,"_handleResize",(()=>{const e=window.$(this.panelContainer).width()||.95*window.$(window).width();this.setState((()=>({panelWidth:e})))})),SF(this,"setRebalancerErrorMessage",(e=>{this.setState((()=>({rebalancerErrorMessage:e})))})),SF(this,"clearRebalancerErrorMessage",(()=>this.setRebalancerErrorMessage(null))),SF(this,"handleRunRebalancer",(()=>{this.clearRebalancerErrorMessage();const{customRebalanceAllocationsLookup:e}=this.state,t=xF(e);return this.runRebalancer(t)})),SF(this,"runRebalancer",(e=>Kb(e)(this.props.dispatch).then((e=>{if(!e||!e.data||e&&e.data&&e.data.error){const t=e&&e.data&&e.data.error?e.data.error:"Something went wrong. Please try again.";this.setRebalancerErrorMessage(t)}else this.setRebalancerErrorMessage(null)})))),SF(this,"createRebalancerOrders",(()=>{const{navigate:e,dispatch:t}=this.props,{customRebalanceAllocationsLookup:n}=this.state;this.showCreatingOrdersMessage();const r=xF(n);Qb(r)(t).then((n=>{if(!(n&&n.data&&!n.data.warning&&!n.data.error)){if(this.hideCreatingOrdersMessage(),!n||!n.data){const e={contentComponent:bS("Could not create orders. Please try again."),dismissable:!0};return bb(e)(t)}const e=n&&n.data&&n.data.error||n.data.warning||"Something went wrong, try again.";return bb({contentComponent:c.createElement(fF,{message:e,withOkay:!0}),dismissable:!0,size:"wide"})(t)}this._logCreateOrder(),this.hideCreatingOrdersMessage(),this._handleClosePanel();setTimeout((()=>{this.props.location.pathname===Ln("trade")?Hb()(t):e(Ln("trade"))}),250)}))})),SF(this,"buildRebalancerData",(()=>{const e=this.props.rebalancer.data,t=e.portfolio_stats,n=e.detailed_message,r=t.current,i=t.rebalanced,a=t.delta,s=jl(e.lastUpdated),o=`${Yl("l",s)} ${Yl("LT",s)}`,l=e.rebalanced_positions_by_security_id,c=l,d=Object.keys(c);let u=0;return d.forEach((e=>{const t=c[e];Math.abs(t.shares)>0&&(u+=1)})),{data:e,optimizerMessage:n,portfolioStats:t,currentPortfolioStats:r,optimizedPortfolioStats:i,portfolioDelta:a,optimizerLastUpdated:o,optimizedAllocationData:l,rebalancedPositions:c,rebalancedAllocatedPositionsCount:u}})),SF(this,"buildGraphData",(()=>{const{portfolioStats:e,currentPortfolioStats:t,optimizedPortfolioStats:n}=this.buildRebalancerData(),r=!(!nk(t.total_value)&&t.total_value>0),i=t.total_value||0,a=r?t.profit_loss_percentage:t.profit_loss,s=r?n.profit_loss_percentage:n.profit_loss;return{current_profit:a,current_risk:t[r?"risk_percentage":"risk"],current_value:i,optimized_profit:s,optimized_risk:n[r?"risk_percentage":"risk"],risk_confidence_multiplier:e.risk_confidence_multiplier||.674489750196082}})),SF(this,"_shouldShowRebalancer",(()=>this.props.rebalancer.showPanel||this.props.renderOnPage)),SF(this,"_isLoading",(()=>this.props.rebalancer.loading)),SF(this,"_isRebalancerRunning",((e=this.props)=>e.rebalancer.isRebalancerRunning)),SF(this,"_isRebalancerDataAvailable",(()=>this.props.rebalancer.data&&this.props.rebalancer.data.portfolio_stats)),SF(this,"isUsingPercentages",(()=>!this.doesUserHaveFunding())),SF(this,"doesUserHaveFunding",(()=>{const{currentPortfolioStats:e}=this.buildRebalancerData();if(!e)return!0;const{total_value:t}=e;return!nk(t)&&t>0})),SF(this,"showCreatingOrdersMessage",(()=>{window.$(".optimizer-panel-container .panel-container").css("overflow","hidden"),this.setState((()=>({showCreatingOrdersMessage:!0})))})),SF(this,"hideCreatingOrdersMessage",(()=>{window.$(".optimizer-panel-container .panel-container").css("overflow","auto"),this.setState((()=>({showCreatingOrdersMessage:!1})))})),SF(this,"_removeAutoExpandFromUrl",(()=>{const e=this.props.navigate,t=this.props.location.search,n=fe(t);e(((e,t,r)=>{const i=Object.keys(n).filter((n=>n!==e&&t!==r[n])),a={};return i.forEach((e=>{a[e]=r[e]})),a})("auto_expand","rebalancer",n))})),SF(this,"_returnRebalancerIsRunningActionMessageData",(()=>({id:"optimizer-is-running",type:"optimizer",isDismissable:!1}))),SF(this,"_showRebalancerIsRunningActionMessage",(()=>{NE(this._returnRebalancerIsRunningActionMessageData())(this.props.dispatch)})),SF(this,"_hideRebalancerIsRunningActionMessage",(()=>{AE(this._returnRebalancerIsRunningActionMessageData())(this.props.dispatch)})),SF(this,"_isOnAnalysisPageOrRebalancerPanelOpen",(()=>"/portfolio"===this.props.location.pathname||this._shouldShowRebalancer())),SF(this,"_isADifferentPanelOpenOnPage",(()=>"panel"in fe(window.location.search))),SF(this,"_isOnPortfolioAnalysisPage",(()=>this.props.location.pathname===Ln("portfolioAnalysis"))),SF(this,"_currentUserHasIdeas",(()=>{const{currentUserId:e,ideaList:t}=this.props,n=FS(e,t);return n&&n.length>0})),SF(this,"buildEqualWeightPortfolioAllocationsLookup",(()=>{const{portfolio:e}=this.props,{positions:t}=e,n={},r=Object.keys(t),i=100/r.length;return r.forEach((e=>{n[e]=i})),n})),SF(this,"buildCurrentPortfolioAllocationsLookup",(()=>{const{portfolio:e}=this.props,{positions:t}=e,n={};return Object.keys(t).forEach((e=>{n[e]=t[e].allocation_percent})),n})),SF(this,"setRebalancedAllocationsToCurrentAllocations",(()=>{this.setState((()=>({customRebalanceAllocationsLookup:this.buildCurrentPortfolioAllocationsLookup()})))})),SF(this,"setRebalancedAllocationsToEqualWeight",(()=>{this.setState((()=>({customRebalanceAllocationsLookup:this.buildEqualWeightPortfolioAllocationsLookup()})))})),SF(this,"_isInPanel",(()=>this.props.inPanel)),SF(this,"_logViewRebalancer",(()=>{const e={Context:this._isInPanel()?"Panel":"Analysis Page"};TC("View Rebalancer",e)()})),SF(this,"_logCreateOrder",(()=>{const e={"Order Creation Type":"Full Rebalance","Order Context":this._isInPanel()?"Panel":"Analysis Page"};th.orders.PLACED_TRADE.send(e)})),this.state={panelWidth:.95*window.$(window).width(),showCreatingOrdersMessage:!1,isEdittingAllocations:!1,customRebalanceAllocationsLookup:{},rebalancerErrorMessage:null}}componentDidMount(){window.addEventListener("resize",this._handleResize),this._handleResize(),this._isInPanel()||this._logViewRebalancer()}componentDidUpdate(e){const{location:t,rebalancer:n}=this.props,r=t.search,i=fe(r),a=n.showPanel||this._isOnPortfolioAnalysisPage();"rebalancer"!==i.auto_expand||a||this._isOnPortfolioAnalysisPage()||this._handleOpenRebalancerPanel(),"rebalancer"!==i.queue_auto_expand||this.props.rebalancer.showPanel||"panel"in i||this._handleOpenRebalancerPanel(),!e.rebalancer.showPanel&&this.props.rebalancer.showPanel&&(this._logViewRebalancer(),this._handleResize()),this._isRebalancerRunning(e)||!this._isRebalancerRunning()||this._isLoading()||this._onRebalancerStartRunning(),!this._isRebalancerRunning(e)||this._isRebalancerRunning()||this._isLoading()||this._onRebalancerEndRunning()}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){return this._shouldShowRebalancer()&&this._currentUserHasIdeas()&&!this._isADifferentPanelOpenOnPage()?this._isLoading()?c.createElement("div",{className:"initializing-optimizer-panel"},c.createElement(Dw,{size:"medium",flatStyle:!0})):this._isRebalancerDataAvailable()?c.createElement("div",{ref:e=>this.panelContainer=e,className:"react-optimizer"},this.state.showCreatingOrdersMessage&&this.renderCreatingOrdersMessage(),c.createElement("div",{className:"optimizer-output-container"},this.renderRebalancerFeedback(),c.createElement("div",{className:"optimizer-output-panel-container"},c.createElement("div",{className:"optimizer-output-panel"},c.createElement("div",{className:"graph-panel-container"},c.createElement(qR,{usingPercentages:this.isUsingPercentages(),optimizerPortfolioData:this.buildGraphData(),panelWidth:this.state.panelWidth}),c.createElement(mF,{rebalanceAllocationsLookup:this.getRebalanceAllocationsLookup(),handleRebalancerAllocationChange:this.handleRebalancerAllocationChange,runRebalancer:this.handleRunRebalancer,rebalancerErrorMessage:this.state.rebalancerErrorMessage}))))),c.createElement(XR,{currentTotalValue:this.getCurrentPortfolioCurrentValue(),currentPortfolioStats:this.buildRebalancerData(),onCreateOrders:this.handleCreateRebalancerOrders}),c.createElement(YR,null)):c.createElement("div",{className:"optimizer-unavailable-message"},c.createElement("p",null,"The rebalancer is currently unavailable. Check back later.")):null}}const TF=N(_c,T((e=>({rebalancer:e.rebalancer,portfolio:e.portfolio,ideaList:e.ideas.ideaList,currentUserId:e.currentUser.user_id}))))(kF);var IF=Object.defineProperty,NF=(e,t,n)=>(((e,t,n)=>{t in e?IF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class AF extends c.PureComponent{constructor(){super(...arguments),NF(this,"handleClose",(()=>{Yb()(this.props.dispatch),this._removeAutoExpandFromUrl()})),NF(this,"_removeAutoExpandFromUrl",(()=>{const e=this.props.navigate,t=this.props.location.search,n=fe(t);e(((e,t,r)=>{const i=Object.keys(n).filter((n=>n!==e&&t!==r[n])),a={};return i.forEach((e=>{a[e]=r[e]})),a})("auto_expand","rebalancer",n))})),NF(this,"shouldLockScroll",(()=>{const{isLoading:e,isRebalancerRunning:t}=this.props;return t&&!e}))}render(){const{showPanel:e}=this.props;return c.createElement("div",{className:"optimizer-panel-container "+(e?"":"hidden")},c.createElement(yA,{showOverlay:e,handleClick:this.handleClose,fixedCenter:!0},c.createElement("div",{className:"panel-container fade-in-up alternate-panel-bg-color "+(this.shouldLockScroll()?"lock-scrolling":"")},c.createElement(TF,{inPanel:!0}))))}}T((e=>({showPanel:e.rebalancer.showPanel,isLoading:e.rebalancer.loading,isRebalancerRunning:e.rebalancer.isRebalancerRunning})))(AF);var PF=Object.defineProperty,DF=(e,t,n)=>(((e,t,n)=>{t in e?PF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class OF extends c.PureComponent{constructor(){super(...arguments),DF(this,"_showMobileCardStyling",(()=>this.props.showMobileCardStyling?"mobile-page-card":""))}render(){return c.createElement("div",{className:`react-page-container component-bg ${this._showMobileCardStyling()} ${this.props.className||""}`,style:this.props.overrideStyle||{}},this.props.children)}}c.PureComponent;const LF=u(L)`
  width: 100%;
  height: 6px;
`,RF=u.div`
  height: 16px;
  line-height: 16px;
  width: 16px;
  text-align: center;
  background-color: ${({theme:e})=>"#fff"};
  border-radius: 50%;
  cursor: grab;
  position: relative;
  top: -4px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  outline: none;
`,FF=(e,t)=>c.createElement(RF,o({},e)),MF=u.div`
  top: 0;
  bottom: 0;
  background: ${e=>2===e.index?e.theme.themeColors.primaryCtaButton:1===e.index?e.theme.themeColors.lowContrastBorder:e.theme.themeColors.primaryCtaButton};
  border-radius: 999px;
`,UF=(e,t)=>c.createElement(MF,l(o({},e),{index:t.index})),$F=e=>c.createElement(LF,o({renderTrack:UF,renderThumb:FF},e));var BF=Object.defineProperty,zF=(e,t,n)=>(((e,t,n)=>{t in e?BF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const VF=u.div`
  .option-value {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
    color: ${({theme:e})=>e.themeColors.text};
  }
  .option-value.selected,
  .option-value:hover {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`;class HF extends C.exports.Component{constructor(e){super(e),zF(this,"handleBlur",(()=>{if(this.setState((e=>({showOptions:!1}))),!("ignoreBlur"in this.props)){const e=this.props.name,t=this.props.getValue(e),n=null!=t?t:void 0;this.props.handleBlur(n,e)}"additionalBlurAction"in this.props&&this.props.additionalBlurAction()})),zF(this,"handleDropdownClick",(e=>{this.setState((e=>({showOptions:!0})));var t=`.dropdown-${this.props.name} .option-values-container`;var n=[...Array.isArray(this.props.values)?this.props.values:this.props.values(),...("restrictedValues"in this.props&&this.props.restrictedValues.filter((e=>e.exists))||[]).map((e=>e.value))].indexOf(this.props.getValue(this.props.name));35*n>0&&setTimeout((()=>{$(t).animate({scrollTop:35*n},1)}),50)})),zF(this,"handleOptionClick",((e,t,n)=>{if(this.props.handleCustomDropdownClick(e,t,n),this.props.saveOnChange){const e={[`${this.props.objectType}_id`]:this.props.getObjectId(this.props.objectType),[t]:n};this.props.saveOnChange(e)}this.props.blurOnOptionClick?this[`${this.props.name}-dropdown`].blur():this.handleBlur()})),zF(this,"boundOptionClick",((e,t)=>n=>{n.stopPropagation(),this.handleOptionClick(n,e,t)})),zF(this,"showOptionValue",((e,t)=>{let n="object"==typeof e?"name"in e?e.name:e.description:e;return this.props.convertValuesToCapitalCase&&"string"==typeof n&&(n=ck(n)),t?n:c.createElement("span",{style:{color:"#ccc"}},n)})),this.state={showOptions:e.autoOpen}}componentDidMount(){this.props.autoOpen&&this[`${this.props.name}-dropdown`].focus()}render(){const e=this.props.name,t=this.props.label,n=this.props.note,r=this.props.required,i=this.props.suffix,a=null!==this.props.getValue(e)&&void 0!==this.props.getValue(e)?this.props.getValue(e):void 0,s=this.props.defaultValue,o=a||s||t||`No ${e}`,l=this.props.toggleAdditionalInfoFieldsIf instanceof Function?this.props.toggleAdditionalInfoFieldsIf(a):this.props.toggleAdditionalInfoFieldsIf===a,d=!!this.props.getErrorMessage(e)?this.props.getErrorMessage(e):"",u=n?"":"hidden",h="styling"in this.props&&this.props.styling||"dropdown-centered",p=this.props.style||{},m=[...Array.isArray(this.props.values)?this.props.values:this.props.values(),...("restrictedValues"in this.props&&this.props.restrictedValues.filter((e=>e.exists))||[]).map((e=>e.value))];r||!s&&!t||this.props.hideLabel||m.unshift(s||t);const g=this.props.offset||{};return c.createElement("fieldset",{className:`dropdown-${e} ${h} ${this.props.center?"text-center":""} ${"small"===this.props.size?"field-small":""}`,style:p},this.props.showLabel&&!(t===a||void 0===a)&&c.createElement("label",null,t),c.createElement("div",{tabIndex:"0",className:"custom-dropdown two-elements",onClick:this.handleDropdownClick,onBlur:this.handleBlur,ref:t=>{this[`${e}-dropdown`]=t}},this.showOptionValue(o,a),this.state.showOptions&&c.createElement(VF,{className:"option-values-container",style:g},c.createElement("div",{className:"option-values-list"},m.map(((t,n)=>c.createElement("div",{key:`${e}-${n}`,className:`\n                            option-value\n                            ${this.props.valueStyles?this.props.valueStyles[n]:""}\n                            ${("object"==typeof t?t.id===o.id:t===o)?"selected":""}`,onClick:this.boundOptionClick(e,t)},this.showOptionValue(t,!0)))))),i&&c.createElement("div",{className:"custom-dropdown-suffix"},i),this.props.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-asc",colorClassName:" ",style:{position:"absolute",top:"9px",right:"10px"}}),this.props.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-desc",colorClassName:" ",style:{position:"absolute",top:"10px",right:"10px"}})),c.createElement("div",{className:`dropdown-note ${u}`},n),!("ignoreBlur"in this.props)&&c.createElement("p",{className:"text-field-error-message"},d),l&&c.createElement("div",{className:"toggle-additional-inputs-container"},this.props.children.additionalInfoFields))}}const WF=u.div`
  .flip-switch-container input[type='checkbox'].flip-switch:checked + div {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
  .switch-track {
    position: relative;
    background-color: ${({theme:e})=>e.themeColors.border};
  }

  .switch-track .switch-knob {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    position: absolute;
    width: 26px !important;
    height: 26px !important;
    top: -2px;
    left: -4px;
    -webkit-transition: 0.4s;
    transition: 0.4s;
  }
  .switch-track.active .switch-knob {
    width: 26px !important;
    height: 26px !important;
    top: -2px;
    left: auto;
    right: -4px;
    -webkit-transition: 0.4s;
    transition: 0.4s;
  }
`,jF=e=>{const t=e.label,n=e.name,r=e.getValue(n)||!1,i=e.checkIfIsDisabled&&e.checkIfIsDisabled();return c.createElement(WF,null,c.createElement("div",{className:"flip-switch-container "+(i?"disabled":"")},c.createElement("label",{className:"flip-switch-label-container"},t,c.createElement("input",{type:"checkbox",className:"flip-switch",checked:r,onChange:()=>!1}),c.createElement("div",{className:"switch-track "+(r?"active":""),onClick:()=>{if(!i){const t=e.afterChangeFunc||(()=>!1);if(e.handleSwitchClick(n,t),e.saveOnChange){const t={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[n]:!r};e.saveOnChange(t)}$(".idea-value").blur()}}},c.createElement("div",{className:"switch-knob"})))))},GF=u.div`
  input {
    background-color: transparent;
    border: 1px solid ${({theme:e})=>e.themeColors.border};
  }
`,qF=u.div`
  background-color: ${({theme:e})=>e.themeColors.appBackground};

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }

  button {
    padding: 4px 8px;
  }
`,YF=e=>{const t=e.name,n=e.label,r=e.isFocused(t),i=e.getValue(t),a=nk(i)?"":i,s=a||a<=0?a:"",o=e.displayValueIfNoValueAndUnfocused,l=o?r||""!==s?s:o:s,d=e.checkIfIsDisabled&&e.checkIfIsDisabled(),u=e.errorAction,h=!!e.getErrorMessage(t),p=h?e.getErrorMessage(t):"",m=!!l&&l.length>0||l>=0||l<=0||0===l||r,g=!!e.focusNote&&r,y=e.getFocusNote(t),_=e.customClass,f=e.prefix,v=e.suffix,E=!e.hideErrors,b=e.silentErrorCheck(t,l),C=e.hidePrefixSuffixIfNoValue&&m&&o&&o===l;return c.createElement(GF,{className:`${_||"generic-input"} ${d?"disabled":""} ${t}`},c.createElement("fieldset",{className:("small"===e.size?"field-small":"")+" "},g&&c.createElement("div",{className:"focus-note eye-catching-bg"},y),n&&e.labelAboveField&&c.createElement("label",{htmlFor:n,className:m?"text-field-lifted-label":""},n),c.createElement("div",{className:"parent-wrapper"},c.createElement("input",{type:"text",name:t,autoFocus:e.autoFocus,onFocus:()=>{e.handleFocus(t),$("[name*='"+t+"']")[0]&&$("[name*='"+t+"']")[0].classList.contains("ignore-input-warnings")&&$("[name*='"+t+"']")[0].classList.remove("ignore-input-warnings")},onBlur:(n,r)=>{if(e.blockingErrors&&(h||b))return e.manualValidation(t,l),$("[name*='"+t+"']")[0].focus(),!1;if(n&&n.nativeEvent.relatedTarget&&"input-warning-dismiss-button"===n.nativeEvent.relatedTarget.id)return!1;if(e.saveOnChange){const n={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:l};e.saveOnChange(n)}e.createWarningsForInput(t,e),e.handleBlur(l,t),"additionalBlurAction"in e&&e.additionalBlurAction(t)},onChange:n=>{d||e[e.handleChangeFunc](n,t,null,e.inputWarningProps,e.validateAfterChange)},onKeyPress:e=>{"Enter"===e.key&&$("input").blur()},value:l,disabled:d}),m&&!C&&c.createElement("div",{className:"input-prefix"},f),m&&!C&&c.createElement("div",{className:"input-suffix"},v)),n&&!e.labelAboveField&&c.createElement("label",{htmlFor:n,className:m?"text-field-lifted-label":""},n),e.showUnderline&&c.createElement("div",{className:"after "+(h&&!r?"error-underline":"")}),E&&(e.popOutErrorMessage?h?c.createElement(qF,{className:"generic-input-error-container"},c.createElement("div",{className:"generic-input-error-arrow"}),c.createElement("div",{className:"generic-input-error-content"},p),u&&c.createElement("div",{className:"generic-input-error-action-container"},c.createElement(hx,{id:e.errorAction.id,onClick:e.errorAction.handleClick},e.errorAction.text))):null:c.createElement("p",{className:"text-field-error-message"},p))))},KF=()=>{window.$("html, body").animate({scrollTop:0},150)},QF=function(e,t=window.$("html, body"),n=150,r=0){if(!e.offset())return!1;t.animate({scrollTop:(e.offset().top||0)-r},n)};var ZF=Object.defineProperty,XF=(e,t,n)=>(((e,t,n)=>{t in e?ZF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class JF extends C.exports.Component{constructor(){super(...arguments),XF(this,"_handleSecurityQuerySelection",(e=>{if(!e)return!1;const t={security_id:e.id};Object.keys(e).forEach((n=>{"id"!==n&&(t[n]=e[n])})),this.props.handleAllocationConstraintCreation(t)}))}render(){return c.createElement("div",{className:"create-allocation-constraint-container"},c.createElement(UA,{id:"create_allocation_constraint_search",icon:"fa-search",parentComponent:"CreateAllocationConstraintContainer",placeholder:"Search Stocks...",iconTopPos:"10px",handleSecurityQuerySelection:this._handleSecurityQuerySelection,autoFocus:!0}))}}var eM=T((e=>({currentUser:e.currentUser,optimizer:e.optimizer})),(e=>({actions:I(WC,e)})))(JF);const tM=u.div`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  button {
    padding: 4px;
  }
`,nM=function(e){const t=e.confirmationAction||console.error("You must supply a confirmation action"),n=e.cancelAction||(()=>{this.setState((e=>({showConfirmation:null})))}),r=e.confirmationMessage||"This action cannot be undone, are you sure you wish to continue?",i={className:e.confirmationButtonClassName||"btn btn-confirm-color btn-small-tall",text:e.confirmationButtonText||"Confirm"},a={className:e.cancelButtonClassName||"btn btn-cancel-color btn-small-tall",text:e.cancelButtonText||"Cancel"};return{confirmationAction:t,cancelAction:n,confirmationMessage:r,component:c.createElement(tM,{className:"confirmation-tooltip-component-container"},c.createElement("div",{className:"confirmation-message-container"},r),c.createElement("div",{className:"confirmation-buttons-container"},c.createElement(hx,{onClick:t},i.text),c.createElement(hx,{onClick:n},a.text)))}},rM=()=>D((e=>e.livePrice.lookupById)),iM=e=>{const[t]=c.useState({});return D((t=>t.livePrice.lookupById[e]))||t};var aM=Object.defineProperty,sM=(e,t,n)=>(((e,t,n)=>{t in e?aM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function oM({securityId:e}){const{price:t}=iM(e);return c.createElement("div",{className:"optimize-constraint-current-price"},lc(tc,t))}class lM extends C.exports.Component{constructor(e){super(e),sM(this,"_isLoading",(()=>{const{symbol:e,name:t}=this._returnSymbolAndName();return[e,t].some((e=>nk(e)))||this._isInitialPriceLoading()})),sM(this,"_renderLoadingState",(()=>c.createElement("div",{className:"optimize-constraint-container border-accent loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),sM(this,"_renderComponent",(()=>c.createElement("div",{className:"optimize-constraint-container border-accent"},this._renderDeleteAllocationConstraintButton(),c.createElement("div",{className:"optimize-constraint"},this._renderStockIndicatorComponents(),this._renderTextFields()),this._renderSlider(),this._renderWarning()))),sM(this,"_returnCurrentUserEquity",(()=>(void 0===this.props.currentUserEquity&&console.error("Missing user equity"),this.props.currentUserEquity))),sM(this,"_returnCurrentUserBuyingPower",(()=>1.25*this._returnCurrentUserEquity())),sM(this,"_setWarningTimeout",(()=>{const e=window.setTimeout((()=>this._clearWarning()),5e3);this.setState((t=>({warningTimeout:e})))})),sM(this,"_clearWarningTimeout",(()=>{this.setState((e=>({warningTimeout:null})))})),sM(this,"_clearWarning",(()=>{this.setState((e=>({warning:null})))})),sM(this,"_handleAllocationConstraintInputBlur",(e=>{this._validateAndUpdateInputs(e,(()=>{this._updateAllocationConstraint().then((e=>{window.setTimeout((()=>{this.props.runOptimizer()}),500)}))}))})),sM(this,"_afterTextInputChange",((e,t,n)=>{})),sM(this,"_validateAndUpdateInputs",((e,t)=>{const n=this.state.formData[e],{errors:r,validInputObj:i}=this._validateInputAndReturnErrorsAndClosestValidInput(n,e);0===r.length?t():this.setState((e=>({formData:o(o({},e.formData),i),warning:r[0]})),t)})),sM(this,"_validateInputAndReturnErrorsAndClosestValidInput",((e,t)=>{const n=qk(e)||0,r=nk(this.state.formData.min_shares)?null:qk(this.state.formData.min_shares)||0,i=nk(this.state.formData.max_shares)?null:qk(this.state.formData.max_shares)||0,a=ck(t.slice(0,3)),s="min_shares"===t.toLowerCase(),o=s?"max_shares":"min_shares",l=this.state.formData[o];let c=[],d={};const u=this._calculateBoundsForMinMaxAllocation()[t],h=n<0;if(!(Math.abs(n)<=u))return c=[`${a} value for shares was greater than your buying power`],d={[t]:h?-1*u:u},s&&!nk(l)&&""!==l&&(d[o]=h?-1*u:u),{errors:c,validInputObj:d};const p=s?n<0||i<0:n<0||r<0;if(!(s&&!nk(l)?n<i:n>r)&&!p&&!nk(l)){return c=[s?`${a} value for shares was greater than the Max value`:`${a} value for shares was less than the Min value`],d={[o]:n},{errors:c,validInputObj:d}}return{errors:c,validInputObj:d}})),sM(this,"_returnSymbolAndName",(()=>{const e=this.props.security_id,t=this.props.securities.lookup[e];return{symbol:nk(this.props.symbol)?t&&t.symbol:this.props.symbol,name:nk(this.props.name)?t&&t.name:this.props.name}})),sM(this,"_calculateBoundsForMinMaxAllocation",(()=>{const e=this._returnCurrentUserEquity(),t=this._returnCurrentPriceForSecurity(),n=Math.floor(e/t);return{min_shares:n,max_shares:n}})),sM(this,"_setMinMaxSharesFromProps",(()=>{const{min_shares:e,max_shares:t}=this.props;this.setState((n=>({formData:l(o({},n.formData),{min_shares:e,max_shares:t})})))})),sM(this,"_getValueForSlider",(e=>{const t=this._calculateBoundsForMinMaxAllocation().max_shares,n=-1*t,r=1*t,i=this.state.formData[e];return nk(i)||""===i||"-"===i?"min_shares"===e?n:r:qk(i)})),sM(this,"_handleSliderChange",(e=>{const t=e[0],n=e[1];this.setState((e=>({formData:l(o({},e.formData),{min_shares:t,max_shares:n})})))})),sM(this,"_handleAfterSliderChange",(()=>{this._updateAllocationConstraint(),this.props.runOptimizer()})),sM(this,"_updateAllocationConstraint",(()=>{const e={id:this.props.id,min_shares:this.state.formData.min_shares,max_shares:this.state.formData.max_shares};return this.props.actions.updateOptimizerAllocationConstraints(e).then((e=>!0))})),sM(this,"_deleteAllocationConstraint",(()=>{const e=this.props.id;this.props.actions.deleteOptimizerAllocationConstraint(e).then((e=>{this.props.runOptimizer()}))})),sM(this,"_forceConfirmationOfDeleteAction",(()=>{this.setState((e=>({showConfirmation:!0})))})),sM(this,"_renderConfirmationComponent",(()=>{if(this.state.showConfirmation){const e={confirmationMessage:"Are you sure you wish to delete this constraint?",confirmationAction:this._deleteAllocationConstraint,confirmationButtonText:"Delete",confirmationButtonClassName:"btn btn-red btn-small-tall",cancelButtonClassName:"btn btn-flat btn-flat-grey btn-small-tall"};return nM.call(this,e).component}return null})),sM(this,"_renderWarning",(()=>{const e=!!this.state.warning,t=this.state.warning;return e?c.createElement("div",{className:"optimize-constraint-warning"},c.createElement(xc,{icon:"fa-exclamation-triangle",size:"small",colorClassName:"warning-text-color"}),c.createElement("div",{className:""},t)):null})),sM(this,"_renderSlider",(()=>{const e=this._calculateBoundsForMinMaxAllocation().max_shares,t=-1*e,n=1*e,r=[this._getValueForSlider("min_shares"),this._getValueForSlider("max_shares")];return c.createElement("div",{className:"optimize-constraint-slider"},c.createElement($F,{pearling:!0,min:t,max:n,step:1,value:r,defaultValue:[t,n],onChange:this._handleSliderChange,onAfterChange:this._handleAfterSliderChange,withBars:!0}))})),sM(this,"_renderDeleteAllocationConstraintButton",(()=>c.createElement("div",{className:"remove-optimize-constraint-container border-accent"},c.createElement("i",{className:"fa fa-times fa-times-thin secondary-text-color optimize-constraint-remove-icon",onClick:this._forceConfirmationOfDeleteAction}),this._renderConfirmationComponent()))),sM(this,"_renderInput",(e=>Rh.call(this,e,null,e.name))),sM(this,"_renderErrorMessage",(()=>c.createElement("div",{className:"optimize-constraint-error"}))),sM(this,"_renderStockIndicatorComponents",(()=>c.createElement("div",{className:"stock-indicator-container"},this._renderSymbol(),this._renderName(),c.createElement(oM,{securityId:this.props.security_id})))),sM(this,"_renderSymbol",(()=>{const{symbol:e}=this._returnSymbolAndName();return c.createElement("div",{className:"security-component-symbol optimize-constraint-symbol  "},e)})),sM(this,"_renderName",(()=>{const{name:e}=this._returnSymbolAndName();return c.createElement("div",{className:"security-component-name optimize-constraint-name secondary-text-color"},e)})),sM(this,"_renderTextFields",(()=>{const e=this.state.inputs[0],t=this.state.inputs[1];return c.createElement("div",{className:"optimize-constraint-text-fields input-fields-container"},this._renderInput(e),this._renderInput(t))})),sM(this,"_returnCurrentPriceForSecurity",(()=>this._returnSecurityPriceData()&&this._returnSecurityPriceData().current_price||null)),sM(this,"_isPriceLoading",(()=>!this._returnSecurityPriceData()||this._returnSecurityPriceData().loading)),sM(this,"_isPriceLoadingWithPreviousPriceDataAvailable",(()=>this._isPriceLoading()&&this._returnCurrentPriceForSecurity())),sM(this,"_isInitialPriceLoading",(()=>this._isPriceLoading()&&!this._isPriceLoadingWithPreviousPriceDataAvailable())),sM(this,"_returnSecurityId",(()=>this.props.security_id)),sM(this,"_returnSecuritiesPriceStore",(()=>this.props.securitiesPrice)),sM(this,"_returnAllSecuritiesPriceData",(()=>this._returnSecuritiesPriceStore().securities)),sM(this,"_returnSecurityPriceData",(()=>this._returnAllSecuritiesPriceData()[this._returnSecurityId()]||{})),this.state={inputs:[{type:YF,typeName:"GenericInputField",name:"min_shares",label:"Min",props:{displayValueIfNoValueAndUnfocused:"None",hidePrefixSuffixIfNoValue:!0,hideErrors:!0,suffix:"shs",labelAboveField:!0,handleChangeFunc:"handleChange",afterChangeFunc:this._afterTextInputChange,additionalBlurAction:this._handleAllocationConstraintInputBlur}},{type:YF,typeName:"GenericInputField",name:"max_shares",label:"Max",props:{displayValueIfNoValueAndUnfocused:"None",hidePrefixSuffixIfNoValue:!0,hideErrors:!0,suffix:"shs",labelAboveField:!0,handleChangeFunc:"handleChange",afterChangeFunc:this._afterTextInputChange,additionalBlurAction:this._handleAllocationConstraintInputBlur}}],formData:{},errors:{},warnings:{},warningTimeout:null}}componentDidMount(){const e=this.props.security_id;(nk(this.props.symbol)||nk(this.props.name))&&this.props.actions.quickFetchSecuritiesData([e]),this.props.actions.fetchSecuritiesPriceData([e]),this._setMinMaxSharesFromProps()}componentDidUpdate(e,t,n){const r=!t.warning&&this.state.warning;r&&this._setWarningTimeout(),r&&(this._clearWarningTimeout(),this._setWarningTimeout())}componentWillUnmount(e,t,n){this._clearWarningTimeout()}render(){return this._isLoading()?this._renderLoadingState():this._renderComponent()}}var cM=T((e=>({securities:e.securities,securitiesPrice:e.securitiesPrice,optimizer:e.optimizer})),(e=>({actions:I(WC,e)})))(lM);_t.button_types.button;var dM=Object.defineProperty,uM=(e,t,n)=>(((e,t,n)=>{t in e?dM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class hM extends C.exports.Component{constructor(e){super(e),uM(this,"handleAllocationConstraintCreation",(e=>{const t=e.security_id;return this._isAlreadyAnAllocationConstraint(t)?this._moveAllocationConstraintToTopOfList(t):this._createAllocationConstraint(e),!0})),uM(this,"_returnCurrentUserEquity",(()=>this.props.currentUser.equity)),uM(this,"_createAllocationConstraint",(e=>{e.security_id,o({},e),this.props.actions.createOptimizerAllocationConstraints(e)})),uM(this,"_moveAllocationConstraintToTopOfList",(e=>{this.props.actions.moveAllocationConstraintToTopOfList(e)})),uM(this,"_renderCreateConstraintContainer",(()=>c.createElement(eM,{handleAllocationConstraintCreation:this.handleAllocationConstraintCreation}))),uM(this,"_isAlreadyAnAllocationConstraint",(e=>this._returnListOfAllocationConstraints().some((t=>t.security_id===e)))),uM(this,"_renderCreateConstraintButton",(()=>c.createElement("div",{className:"create-optimize-constraint-btn-container text-center"},c.createElement(sx,{onClick:this._startCreatingConstraint,width:"135px"},"+ Add Constraint")))),uM(this,"_renderCreateConstraint",(()=>this.state.isCreating?this._renderCreateConstraintContainer():this._renderCreateConstraintButton())),uM(this,"_renderAllocationConstraints",(()=>this._returnListOfAllocationConstraints().map(((e,t)=>c.createElement(cM,l(o({key:`optimize-constraint-${e.security_id}`},e),{currentUserEquity:this.props.currentUser.equity,runOptimizer:this.props.runOptimizer})))))),uM(this,"_startCreatingConstraint",(()=>{this.setState((e=>({isCreating:!0})))})),uM(this,"_createConstraint",(()=>{this.setState((e=>({isCreating:!1})))})),uM(this,"_cancelCreatingConstraint",(()=>{this.setState((e=>({isCreating:!1})))})),uM(this,"_isLoading",(()=>this._returnAllocationDataStore().loading)),uM(this,"_returnAllocationDataStore",(()=>this.props.optimizer.optimizeConstraints)),uM(this,"_returnListOfAllocationConstraints",(()=>this._returnAllocationDataStore().list||[])),this.state={isCreating:!1}}componentDidMount(){this.props.actions.getOptimizerAllocationConstraints()}render(){return this._isLoading()?c.createElement(Dw,null):c.createElement("div",{className:"optimize-constraints-list-container"},this._renderCreateConstraint(),this._renderAllocationConstraints())}}var pM=T((e=>({currentUser:e.currentUser,optimizer:e.optimizer})),(e=>({actions:I(WC,e)})))(hM),mM=Object.defineProperty,gM=(e,t,n)=>(((e,t,n)=>{t in e?mM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const yM=u.div`
  padding: 0 0 25px 0;

  .risk-profile-container {
    max-width: 600px;
  }
  .advanced-investment-objectives-container {
    max-width: 600px;
    margin: 0 auto;
  }
  .investment-objectives-action-buttons {
  }
`,_M=u.div`
  label {
    text-align: left !important;
  }
  input,
  .custom-dropdown,
  select {
    text-align: left !important;
    .custom-dropdown-suffix {
      left: 45px;
      right: auto;
    }
    border-radius: 0 !important;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text} !important;
  }
`,fM=()=>{var e=[];for(let t=0;t<=35;t+=.5)e.push(t.toFixed(1));return e};class vM extends C.exports.Component{constructor(e){super(e),gM(this,"_renderInput",(e=>Rh.call(this,e,null,e.name))),gM(this,"_calculateLeverageFromCashReserveMinimum",((e,t)=>0===e?1:t/e)),gM(this,"_calculateCashReserveMinimumFromMaxLeverage",((e,t)=>t*e)),gM(this,"_handleAfterSettingChangeMaxLeverage",(e=>{})),gM(this,"_handleAfterSettingChangeCashReserveMin",(e=>{})),gM(this,"_startSavingInvestmentObjectives",(()=>{this.setState((e=>({savingInvestmentObjectives:!0})))})),gM(this,"_resetSaveInvestmentObjectivesState",(()=>{this.setState((e=>({savingInvestmentObjectives:!1,savedInvestmentObjectives:!1,resetSaveTimeout:null})))})),gM(this,"_updateToSavedInvestmentObjectives",(()=>{this.setState((e=>({savedInvestmentObjectives:!0,savingInvestmentObjectives:!1})))})),gM(this,"_clearSavedInvestmentObjectives",(()=>{this.setState((e=>({savedInvestmentObjectives:!1})))})),gM(this,"_resetSaveRenderTimeout",(()=>{const e=window.setTimeout(this._clearSavedInvestmentObjectives,3500);this.setState((t=>({resetSaveTimeout:e})))})),gM(this,"_renderSaveButton",(()=>this.state.savingInvestmentObjectives||this.state.savedInvestmentObjectives?this.state.savingInvestmentObjectives?this._renderSaving():this.state.savedInvestmentObjectives?this._renderSaved():void 0:this.renderSave())),gM(this,"renderSave",(()=>c.createElement(hx,{width:"150px",onClick:this.saveInvestmentObjectiveSettings},"Save Changes"))),gM(this,"_renderSaving",(()=>c.createElement(hx,{width:"150px",onClick:()=>!1,disabled:!0},"Saving"))),gM(this,"_renderSaved",(()=>c.createElement(hx,{width:"150px",onClick:()=>!1,disabled:!0},"Saved"))),gM(this,"_updateSaveButtonToSaved",(()=>{this._updateToSavedInvestmentObjectives(),this._resetSaveRenderTimeout()})),gM(this,"_handleSaveFailure",(()=>{const e={contentComponent:bS("Could not save. Please try again later."),dismissable:!0};this.props.actions.showModal(e),this._resetSaveInvestmentObjectivesState()})),gM(this,"_sanitizeSettingValues",(e=>{const t=Object.keys(e),n={};return t.forEach((t=>{const r=e[t];let i=r;"string"==typeof r&&"none"===r.toLowerCase()&&(i=null),"string"==typeof r&&"none"!==r.toLowerCase()&&(i=qk(r)),n[t]=i})),n})),gM(this,"saveInvestmentObjectiveSettings",(()=>{const e=this.state.formData,t=this.props.investmentObjectives.investmentObjectiveSettings,n=this._compareAndReturnDataThatChanged(e,t),r=this._sanitizeSettingValues(n);return this._startSavingInvestmentObjectives(),this.props.actions.saveInvestmentObjectiveSettings(r).then((e=>e&&"error"!==e.status&&!e.error?(setTimeout((()=>{this._updateSaveButtonToSaved(),this.props.resetUnsavedChangesInInvestmentObjectives&&this.props.resetUnsavedChangesInInvestmentObjectives()}),500),!0):(this._handleSaveFailure(),!1)))})),gM(this,"_compareAndReturnDataThatChanged",((e,t)=>{const n=Object.keys(e).filter((n=>e[n]!==t[n])),r={};return n.forEach((t=>{r[t]=e[t]})),r})),gM(this,"setupInvestmentObjectiveForms",(e=>{const t=e[1],{risk_profile:n,allow_short_sales:r,beta_constraint_max:i,beta_constraint_min:a,cash_reserve_min:s,default_projected_return:c,enable_dividend_income_min:d,leverage_max:u,single_diversified_etf_allocation_max:h,single_position_allocation_max:p,volatility_max:m,annual_dividend_income_min:g,enable_cash_reserve_min:y}=t;this.setState((e=>({formData:l(o({},e.formData),{risk_profile:n,allow_short_sales:r,beta_constraint_max:i,beta_constraint_min:a,cash_reserve_min:s,default_projected_return:c,enable_dividend_income_min:d,leverage_max:u,single_diversified_etf_allocation_max:h,single_position_allocation_max:p,volatility_max:m,annual_dividend_income_min:g,enable_cash_reserve_min:y})})))})),gM(this,"revertValuesBackToServerValues",(()=>{const{risk_profile:e,allow_short_sales:t,beta_constraint_max:n,beta_constraint_min:r,cash_reserve_min:i,default_projected_return:a,enable_dividend_income_min:s,leverage_max:c,single_diversified_etf_allocation_max:d,single_position_allocation_max:u,volatility_max:h,annual_dividend_income_min:p,enable_cash_reserve_min:m}=this.props.investmentObjectives.investmentObjectiveSettings;this.setState((g=>({formData:l(o({},g.formData),{risk_profile:e,allow_short_sales:t,beta_constraint_max:n,beta_constraint_min:r,cash_reserve_min:i,default_projected_return:a,enable_dividend_income_min:s,leverage_max:c,single_diversified_etf_allocation_max:d,single_position_allocation_max:u,volatility_max:h,annual_dividend_income_min:p?p.toFixed(2):p,enable_cash_reserve_min:m})}))),this.props.resetUnsavedChangesInInvestmentObjectives&&this.props.resetUnsavedChangesInInvestmentObjectives()})),gM(this,"returnAvailableRiskProfiles",(()=>this.props.investmentObjectives.riskProfiles)),gM(this,"renderRiskProfileDescription",(()=>{const e=this.returnAvailableRiskProfiles(),t=this.state.formData.risk_profile,n=e.filter((e=>e.id===t.id))[0],r=n.description,i=["A","a","E","e","I","i","O","o","U","u"].includes(n.name[0]),a=c.createElement("span",null,c.createElement("span",null,(i?"An":"A")+" "),c.createElement("span",{className:"bold"},`${ck(n.name)}`),c.createElement("span",null," risk profile means "));return c.createElement("div",{className:"risk-profile-description"},a,c.createElement("span",null,r))})),gM(this,"renderRiskProfile",(()=>{if(this.props.investmentObjectives.riskProfiles.length>0){const e=this.state.inputs[0];return c.createElement("div",{className:"risk-profile-container"},c.createElement("div",{className:"risk-profile-input-container"},Rh.call(this,e,null,e.name)),this.renderRiskProfileDescription())}return c.createElement("div",{className:"loading-risk-profiles"},c.createElement(_e,{icon:"fading-3balls",size:"small"}),c.createElement("div",null,"Risk Profiles"))})),gM(this,"renderAdvancedInvestmentObjectivesPanel",(()=>{const e=this.state.inputs[2],t=this.state.inputs[3],n=this.state.inputs[4],r=this.state.inputs[5],i=this.state.inputs[6],a=this.state.inputs[7],s=this.state.inputs[8],o=this.state.inputs[9],l=this.state.inputs[10],d=this.state.inputs[11],u=this.state.inputs[12],h=this.props.optimizer.data.portfolio_stats.metrics;return c.createElement("div",{className:"investment-objectives-sliders"},c.createElement("div",{className:"advanced-investment-objective-container border-accent short-sales-allowed-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Allow Short Sales",c.createElement(iS,{word:"tooltip_short_sales_allowed",style:{top:"4px",left:"-17px",right:"auto"},position:"left"})))),c.createElement("div",{className:"investment-objective-input"},this._renderInput(e)),!this.props.currentUser.is_allowed_to_use_leverage&&c.createElement("div",{className:"investment-objective-min-eq-msg"},`You must have at least ${ng(this.props.currentUser.min_equity_required_to_use_leverage,"priceNearestDollar")} in your account to sell short.`))),c.createElement("div",{className:"advanced-investment-objective-container border-accent max-leverage-container"},!this.state.formData.allow_short_sales&&c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Set Cash Reserve Minimum")),c.createElement("div",{className:"sub-text-label"},`Current Cash Balance: ${ng(h.cash_balance,"price")}`)),c.createElement("div",{className:"investment-objective-input"},this._renderInput(t))),!this.state.formData.enable_cash_reserve_min&&c.createElement("div",{className:"react-conditional-wrapper"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Max Leverage",c.createElement(iS,{word:"tooltip_max_leverage",style:{top:"4px",left:"-17px",right:"auto"},position:"left"}))),c.createElement("div",{className:"sub-text-label"},`Current Leverage: ${ng(h.leverage,"ratio")}`)),c.createElement("div",{className:"text-input-container"},Rh.call(this,r,null,r.name))),c.createElement("div",{className:"label-input-container slider",style:{marginBottom:"0px"}},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:0,max:1,step:.01,value:this._returnValueFormattedForSlider(this.state.formData.leverage_max),onChange:this.createSlideOnChangeFunction("leverage_max"),onAfterChange:this._handleAfterSettingChange,withBars:!0,disabled:this.state.formData.enable_cash_reserve_min}))),!this.props.currentUser.is_allowed_to_use_leverage&&c.createElement("div",{className:"investment-objective-min-eq-msg"},`You must have at least ${ng(this.props.currentUser.min_equity_required_to_use_leverage,"priceNearestDollar")} in your account to use leverage.`)),this.state.formData.enable_cash_reserve_min&&c.createElement("div",{className:"advanced-investment-objective-container border-accent cash-reserve-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Cash Reserve Minimum",c.createElement(iS,{word:"tooltip_cash_reserve_minimum",style:{top:"4px",left:"-17px",right:"auto"},position:"left"})))),c.createElement("div",{className:"investment-objective-input"},c.createElement("div",{className:"text-input-container"},Rh.call(this,i,null,i.name)))))),c.createElement("div",{className:"advanced-investment-objective-container border-accent portfolio-beta-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Portfolio Beta",c.createElement(iS,{word:"tooltip_portfolio_beta_constraint",style:{top:"4px",left:"-17px",right:"auto"},position:"left"}))),c.createElement("div",{className:"sub-text-label"},`Current Beta: ${ng(h.beta,"ratio")}`)),c.createElement("div",{className:"min-max-input-containers"},c.createElement("div",{className:"text-input-container"},Rh.call(this,a,null,a.name)),c.createElement("div",{className:"text-input-container"},Rh.call(this,s,null,s.name)))),c.createElement("div",{className:"label-input-container slider"},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:-1,max:3,step:.05,value:[this._returnValueFormattedForSlider(this.state.formData.beta_constraint_min),this._returnValueFormattedForSlider(this.state.formData.beta_constraint_max)],onChange:this.createSlideOnChangeFunction("beta_constraint",{multiSlider:!0}),onAfterChange:this._handleAfterSettingChange,withBars:!0})))),c.createElement("div",{className:"advanced-investment-objective-container border-accent portfolio-volatility-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Portfolio Volatility",c.createElement(iS,{word:"tooltip_portfolio_volatility_invest_obj",style:{top:"4px",left:"-17px",right:"auto"},position:"left"}))),c.createElement("div",{className:"sub-text-label"},`Current Volatility: ${ng(h.volatility,"percentage")}`)),c.createElement("div",{className:"text-input-container"},Rh.call(this,d,null,d.name))),c.createElement("div",{className:"investment-objective-input"},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:5,max:50,step:.25,value:this._returnValueFormattedForSlider(this.state.formData.volatility_max),onChange:this.createSlideOnChangeFunction("volatility_max"),onAfterChange:this._handleAfterSettingChange,withBars:!0})))),c.createElement("div",{className:"advanced-investment-objective-container border-accent minimum-dividend-income-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Set Minimum Dividend Income"))),c.createElement("div",{className:"investment-objective-input"},Rh.call(this,n,null,n.name))),this.state.formData.enable_dividend_income_min&&c.createElement("div",{className:"react-multi-conditional-element-wrapper"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Minimum Dividend Income",c.createElement(iS,{word:"tooltip_minimum_dividend_income",style:{top:"4px",left:"-17px",right:"auto"},position:"left"})),0!==this.props.currentUser.equity&&c.createElement("div",{className:"multiple-sub-text-label-containers"},c.createElement("div",{className:"sub-text-label"},`Current Expected Dividend Income: ${ng(h.annual_dividend_income,"price")}`),c.createElement("div",{className:"sub-text-label"},`${ng(0===h.annual_dividend_income?0:h.annual_dividend_income/this.props.currentUser.equity*100,"percentage")} of equity`)))),c.createElement("div",{className:"text-input-container"},Rh.call(this,l,null,l.name),c.createElement("div",{className:"dividend-percent-of-equity sub-text-label"},`${ng(0===this.state.formData.annual_dividend_income_min?0:this.state.formData.annual_dividend_income_min/this.props.currentUser.equity*100,"percentage")} of equity`))),c.createElement("div",{className:"label-input-container slider"},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:this.props.currentUser.equity>0?qk((-.01*this.props.currentUser.equity).toFixed()):-1e3,max:this.props.currentUser.equity>0?qk((.05*this.props.currentUser.equity).toFixed()):5e3,step:5,value:this._returnValueFormattedForSlider(this.state.formData.annual_dividend_income_min),onChange:this.createSlideOnChangeFunction("annual_dividend_income_min"),onAfterChange:this._handleAfterSettingChange,withBars:!0}))))),c.createElement("div",{className:"advanced-investment-objective-container max-diversified-etf-allocation-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Max Position Allocation",c.createElement(iS,{word:"tooltip_max_diversified_etf_allocation",style:{top:"4px",left:"-17px",right:"auto"},position:"left"}))),c.createElement("div",{className:"text-label"},"(Diversified ETFs)")),c.createElement("div",{className:"text-input-container"},Rh.call(this,o,null,o.name))),c.createElement("div",{className:"investment-objective-input"},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:0,max:50,step:.25,value:this._returnValueFormattedForSlider(this.state.formData.single_diversified_etf_allocation_max),onChange:this.createSlideOnChangeFunction("single_diversified_etf_allocation_max"),onAfterChange:this._handleAfterSettingChange,withBars:!0})))),c.createElement("div",{className:"advanced-investment-objective-container border-accent max-position-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Max Position Allocation",c.createElement(iS,{word:"tooltip_max_position_allocation",style:{top:"4px",left:"-17px",right:"auto"},position:"left"}))),c.createElement("div",{className:"text-label"},"(Single Stocks)"),c.createElement("div",{className:"sub-text-label"},`Current Largest Allocation: ${ng(h.largest_allocation,"percentage")}`)),c.createElement("div",{className:"text-input-container"},Rh.call(this,u,null,u.name))),c.createElement("div",{className:"investment-objective-input"},c.createElement("div",{className:"slider-container"},c.createElement($F,{pearling:!0,min:0,max:50,step:.25,value:this._returnValueFormattedForSlider(this.state.formData.single_position_allocation_max),onChange:this.createSlideOnChangeFunction("single_position_allocation_max"),onAfterChange:this._handleAfterSettingChange,withBars:!0})))),c.createElement("div",{className:"advanced-investment-objective-container border-accent allocation-constraint-container"},c.createElement("div",{className:"label-input-container"},c.createElement("div",{className:"text-label"},c.createElement("div",{className:"info-icon-text-wrapper"},"Allocation Constraints",c.createElement(iS,{word:"tooltip_allocation_constraint",style:{top:"4px",left:"-17px",right:"auto"},position:"left"})),c.createElement("div",{className:"sub-text-label"},"Changes to allocation constraints are automatically saved."))),c.createElement(pM,{runOptimizer:this._runOptimizer})))})),gM(this,"_returnValueFormattedForSlider",(e=>null==e?0:qk(e))),gM(this,"handleTextInvestmentObjectiveSettingChange",(e=>t=>{const n=t.target.value;this.setState((t=>({formData:l(o({},t.formData),{[e]:n})})))})),gM(this,"_returnRiskProfilePresetDefaults",(e=>({conservative:{allow_short_sales:!1,leverage_max:1,enable_cash_reserve_min:!1,cash_reserve_min:null,beta_constraint_min:0,beta_constraint_max:1.5,volatility_max:10,enable_dividend_income_min:!1,annual_dividend_income_min:null,single_position_allocation_max:15,single_diversified_etf_allocation_max:35},moderate:{allow_short_sales:!0,leverage_max:1,enable_cash_reserve_min:!1,cash_reserve_min:null,beta_constraint_min:-.5,beta_constraint_max:1.5,volatility_max:20,enable_dividend_income_min:!1,annual_dividend_income_min:null,single_position_allocation_max:25,single_diversified_etf_allocation_max:35},aggressive:{allow_short_sales:!0,leverage_max:1.25,enable_cash_reserve_min:!1,cash_reserve_min:null,beta_constraint_min:-.8,beta_constraint_max:2,volatility_max:30,enable_dividend_income_min:!1,annual_dividend_income_min:null,single_position_allocation_max:35,single_diversified_etf_allocation_max:50}}[e]||console.error("Invalid risk profile preset")))),gM(this,"_showRiskProfileChangeConfirmationModal",(e=>{const{handleContinue:t,handleCancel:n}=e;NS.call(this,{message:"Changing your risk profile will change all your investment objectives. Want to continue?",handleContinue:t,handleCancel:n,continueButtonText:"Yes",cancelButtonText:"Cancel",continueButtonClassName:"btn btn-primary-color btn-small-tall btn-fixed-width-80"})})),gM(this,"_handleAfterRiskProfileChange",((e,t,n)=>{const r=()=>{this.props.actions.hideModal(),this.setState((e=>({formData:l(o({},e.formData),{risk_profile:n})})))},i=()=>{this.props.actions.hideModal();const t=e.name.toLowerCase(),n=this._returnRiskProfilePresetDefaults(t);this.setState((e=>({formData:o(o({},e.formData),n)})));const r=this._sanitizeCustomOptimizerSettings(n);this._runOptimizer(r)},a=3!==e.id,s=e.id!==n.id;if(a&&s){const e={handleContinue:i,handleCancel:r};this._showRiskProfileChangeConfirmationModal(e)}})),gM(this,"createSlideOnChangeFunction",((e,t)=>t&&t.multiSlider?t=>{const n=t[0],r=t[1];this.setState((t=>({formData:l(o({},t.formData),{[`${e}_min`]:n,[`${e}_max`]:r})})))}:t=>{this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})),(()=>{"leverage_max"===e&&this._handleAfterSettingChangeMaxLeverage(t),"cash_reserve_min"===e&&this._handleAfterSettingChangeCashReserveMin(t)}))})),gM(this,"_returnSettingsForRiskProfilePreset",(e=>({}))),gM(this,"_handleAfterSettingChange",((e,t,n)=>{const r={};if("allow_short_sales"===t&&!0===e&&this.state.formData.enable_cash_reserve_min&&(r.enable_cash_reserve_min=!1,this.setState((e=>({formData:l(o({},e.formData),{enable_cash_reserve_min:!1})})))),"volatility_max"===e){const e=5,t=50,n=this.state.formData.volatility_max;if(!((e,t,n)=>e>=t&&e<=n)(n,e,t)){const i=n<e?e:t;r.volatility_max=i,this.setState((e=>({formData:l(o({},e.formData),{volatility_max:i})})))}}const i=this.returnAvailableRiskProfiles().filter((e=>3===e.id))[0];3!==this.state.formData.risk_profile.id&&this.setState((e=>({formData:l(o({},e.formData),{risk_profile:i})})));const a=o(o({},this.state.formData),r);this._runOptimizer(a),this.props.registerUnsavedChangesInInvestmentObjectives&&this.props.registerUnsavedChangesInInvestmentObjectives()})),gM(this,"_sanitizeCustomOptimizerSettings",(e=>{e.enable_cash_reserve_min?(e.leverage_max=null,e.enable_cash_reserve_min=!0):(e.cash_reserve_min=null,e.enable_cash_reserve_min=!1);const t=Object.keys(e),n={};return t.forEach((t=>{const r=!0===e[t]||!1===e[t];n[t]=r?e[t]:qk(e[t])})),n})),gM(this,"_runOptimizer",(e=>{const t=o({},this.state.formData),n=e||t,r=this._sanitizeCustomOptimizerSettings(n);this.props.actions.clearOptimizerCooldown(),this.props.actions.runOptimizer(r)})),gM(this,"isLoading",(e=>(e||this.state).loading)),gM(this,"hideInvestmentObjectivesPanel",(()=>{this.props.hideComponent()})),gM(this,"createOptimizedOrders",(()=>{this.showCreatingOptimizedOrdersMessage()})),gM(this,"_logViewAdvancedInvestmentObjectives",(()=>{this.props.actions.logMetricsTrackingEvent("View Investment Objectives Advanced",{})})),gM(this,"showAdvancedInvestmentObjectivesPanel",(()=>{this.setState((e=>({showAdvancedInvestmentObjectivesPanel:!0}))),this._logViewAdvancedInvestmentObjectives();!function(e,t){e&&e.length?t():setTimeout(t,500)}($(".investment-objectives-sliders"),this._scrollToAdvancedObjectivesTop)})),gM(this,"hideAdvancedInvestmentObjectivesPanel",(()=>{this.setState((e=>({showAdvancedInvestmentObjectivesPanel:!1})))})),gM(this,"showCreatingOptimizedOrdersMessage",(()=>{this.setState((e=>({showCreatingOptimizedOrdersMessage:!0})))})),gM(this,"hideCreatingOptimizedOrdersMessage",(()=>{this.setState((e=>({showCreatingOptimizedOrdersMessage:!1})))})),gM(this,"_scrollToAdvancedObjectivesTop",(()=>{const e=$(".investment-objectives-sliders");QF(e,this.props.$scrollContainer,150,85)})),gM(this,"_logViewInvestmentObjectives",(()=>{this.props.actions.logMetricsTrackingEvent("View Investment Objectives")})),this.state={showAdvancedInvestmentObjectivesPanel:!1,loading:!0,inputs:[{type:HF,typeName:"CustomDropdown",name:"risk_profile",label:"Risk Profile",required:!0,props:{showLabel:!0,hideLabel:!0,convertValuesToCapitalCase:!0,showArrowIcons:!0,values:this.returnAvailableRiskProfiles,defaultValue:"Please select",center:"true",styling:"dropdown-centered default-expected-return-dropdown",offset:{top:"-5px"},afterChangeCallback:this._handleAfterRiskProfileChange}},{type:HF,typeName:"CustomDropdown",name:"default_projected_return",label:"Default Projected Return",required:!0,props:{showLabel:!0,hideLabel:!0,showArrowIcons:!0,suffix:"%",defaultValue:"Please select",required:!0,center:"true",styling:"dropdown-centered default-expected-return-dropdown",offset:{top:"-5px"},values:fM()}},{type:jF,typeName:"Switch",name:"allow_short_sales",label:"",props:{afterChangeFunc:this._handleAfterSettingChange}},{type:jF,typeName:"Switch",name:"enable_cash_reserve_min",label:"",props:{checkIfIsDisabled:()=>this.state.formData.allow_short_sales}},{type:jF,typeName:"Switch",name:"enable_dividend_income_min",label:"",props:{afterChangeFunc:this._handleAfterSettingChange}},{type:YF,typeName:"GenericInputField",name:"leverage_max",label:null,required:!0,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:0,max:1}),popOutErrorMessage:!0,blockingErrors:!0,checkIfIsDisabled:()=>this.state.formData.enable_cash_reserve_min,afterChangeFunc:this._handleAfterSettingChangeMaxLeverage,additionalBlurAction:this._handleAfterSettingChange}},{type:YF,typeName:"GenericInputField",name:"cash_reserve_min",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:0,max:qk(this.props.currentUser.equity)}),checkIfIsDisabled:()=>!this.state.formData.enable_cash_reserve_min||this.state.formData.allow_short_sales,prefix:"$",popOutErrorMessage:!0,afterChangeFunc:this._handleAfterSettingChangeCashReserveMin,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"beta_constraint_min",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:-1,max:3}),popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"beta_constraint_max",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:-1,max:3}),popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"single_diversified_etf_allocation_max",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:0,max:50}),suffix:"%",popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"annual_dividend_income_min",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:this.props.currentUser.equity>0?qk((-.01*this.props.currentUser.equity).toFixed()):-1e3,max:this.props.currentUser.equity>0?qk((.05*this.props.currentUser.equity).toFixed()):5e3}),prefix:"$",popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"volatility_max",label:null,required:!1,props:{handleChangeFunc:"handleChange",suffix:"%",popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}},{type:YF,typeName:"GenericInputField",name:"single_position_allocation_max",label:null,required:!1,props:{handleChangeFunc:"handleChange",returnMinMaxValidation:()=>({min:0,max:50}),suffix:"%",popOutErrorMessage:!0,additionalBlurAction:this._handleAfterSettingChange,blockingErrors:!0}}],formData:{},warnings:{},errors:{},resetSaveTimeout:null,savingInvestmentObjectives:!1,savedInvestmentObjectives:!1}}componentDidMount(){const e=[this.props.actions.getRiskProfiles(),this.props.actions.getInvestmentObjectiveSettings()];Promise.all(e).then((e=>{this.setupInvestmentObjectiveForms(e),this.setState((()=>({loading:!1})))}))}componentWillUnmount(){const e=this.state.resetSaveTimeout;e&&window.clearTimeout(e)}componentDidUpdate(e,t){!e.saveInvestmentObjectives&&this.props.saveInvestmentObjectives&&this.saveInvestmentObjectiveSettings().then((e=>{e?window.setTimeout((()=>{this.props.internalCreateOptimizedOrdersHandler()}),2e3):(this.props.resetSaveInvestmentObjectives(),this.props.hideCreatingOptimizedOrdersMessage())})),this.isLoading(t)&&!this.isLoading()&&setTimeout((()=>{QF(window.$(".investment-objectives-panel"),this.props.$scrollContainer,150,85)}),600),!e.show&&this.props.show&&(this._logViewInvestmentObjectives(),setTimeout((()=>{QF(window.$(".investment-objectives-panel"),this.props.$scrollContainer,150,85)}),600)),e.show&&!this.props.show&&(this.revertValuesBackToServerValues(),this.hideAdvancedInvestmentObjectivesPanel(),setTimeout((function(){window.$(".optimizer-panel-container .panel-container").animate({scrollTop:0},600)}),600))}render(){const e=this.props.show,t=this.state.inputs[1];return e?this.isLoading()?c.createElement(Dw,null):c.createElement(yM,{className:`investment-objectives-panel\n          ${this.state.showAdvancedInvestmentObjectivesPanel?"advanced-objectives":""}\n          `},c.createElement("div",{className:"investment-objectives-settings"},c.createElement(_M,null,this.renderRiskProfile(),c.createElement("div",{className:"default-projected-return-container"},c.createElement("div",{className:"wrapper"},this._renderInput(t)))),c.createElement("div",{className:"show-advanced-container"},c.createElement("span",{className:"show-advanced-container-btn",onClick:this.state.showAdvancedInvestmentObjectivesPanel?this.hideAdvancedInvestmentObjectivesPanel:this.showAdvancedInvestmentObjectivesPanel},c.createElement(xc,{icon:"fa-sliders",colorClassName:"link-text-color",size:"small",style:{marginRight:"5px"}}),c.createElement("span",{className:"btn-text link-text-color"},(this.state.showAdvancedInvestmentObjectivesPanel?"Hide":"Show")+" Advanced Investment Objectives"))),c.createElement("div",{className:"advanced-investment-objectives-container"},this.state.showAdvancedInvestmentObjectivesPanel&&this.renderAdvancedInvestmentObjectivesPanel())),c.createElement("div",{className:"investment-objectives-action-buttons"},c.createElement(Iw,{right:16},c.createElement(hx,{transparent:!0,width:"100px",onClick:this.revertValuesBackToServerValues},"Revert")),this._renderSaveButton())):null}}var EM=T((e=>({currentUser:e.currentUser,optimizer:e.optimizer,investmentObjectives:e.investmentObjectives})),(e=>({actions:I(WC,e)})))(vM);const bM=u.div`
  position: relative;
  line-height: 1;
`,CM=u.div`
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  bottom: 7px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;

  border-radius: 100px;
  background: ${({theme:e})=>br(e.themeColors.appBackground,.5)};

  svg {
    padding-top: 5px;
    height: 32px;
    width: 32px;

    opacity: 0.35;
  }
`,xM=u.svg`
  height: ${({size:e})=>"small"===e?"32px":"64px"};
  width: ${({size:e})=>"small"===e?"32px":"64px"};

  .outline-stroke {
    stroke: ${({theme:e})=>e.themeColors.appBackground};
    stroke-opacity: 1;
  }
  .rotating-stroke {
    stroke: ${({theme:e})=>e.themeColors.primaryCtaButton};
    stroke-opacity: 0.8;
  }
`,wM=({size:e})=>c.createElement(xM,{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",size:e},c.createElement("g",{fill:"none",fillRule:"evenodd",className:"outline-stroke"},c.createElement("g",{transform:"translate(1 1)",strokeWidth:"2px"},c.createElement("circle",{cx:"18",cy:"18",r:"18"}),c.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",className:"rotating-stroke"},c.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"700ms",repeatCount:"indefinite"})))));function SM({withLogo:e,size:t}){return e&&Xo===Zo?c.createElement(bM,null,c.createElement(wM,null),c.createElement(CM,null,c.createElement(tL,null))):c.createElement(wM,{size:t})}var kM=Object.defineProperty,TM=(e,t,n)=>(((e,t,n)=>{t in e?kM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const IM=u.div`
  button {
    padding: 8px 12px;
  }
`,NM=u.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  padding: 2px 1px 1px 1px;

  cursor: pointer;

  height: 30px;
  width: 30px;

  border-radius: 4px;

  background-color: ${({theme:e,isActive:t})=>t?e.themeColors.primaryCtaButton:e.themeColors.component};
  color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.text};

  * {
    color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  }

  &:hover {
    opacity: 0.8;
  }
`;class AM extends C.exports.Component{constructor(e){super(e),TM(this,"_shouldRenderAsPanel",(()=>!this.props.renderOnPage)),TM(this,"_shouldShowOptimizer",(()=>this.props.optimizer.showPanel||this.props.renderOnPage)),TM(this,"_renderOptimizerOnPage",(()=>c.createElement(OF,null,c.createElement("div",{className:"optimizer-container optimizer-on-page"},this.state.showCreatingOptimizedOrdersMessage&&this.renderCreatingOptimizedOrdersMessage(),this.renderPanel())))),TM(this,"_renderOptimizerAsPanel",(()=>{const e=this._shouldShowOptimizer();return c.createElement("div",{className:"optimizer-panel-container "+(e?"":"hidden")},c.createElement(yA,{showOverlay:e,handleClick:this.closeOptimizerPanel,fixedCenter:!0},c.createElement("div",{className:"panel-container fade-in-up alternate-panel-bg-color "+(this.isOptimizerRunning()&&!this.isLoading()?"lock-scrolling":""),style:this.state.showCreatingOptimizedOrdersMessage?{borderRadius:0}:{},ref:e=>this.panelContainer=e},this.state.showCreatingOptimizedOrdersMessage&&this.renderCreatingOptimizedOrdersMessage(),c.createElement(aS,{customClass:"no-shadow",style:{position:"absolute",top:"12px",right:"16px",zIndex:100002},icon:"fa-times fa-times-thin",size:"medium",colorClassName:"secondary-text-color",handleClick:this.closeOptimizerPanel}),this.renderPanel())))})),TM(this,"handleCreateOptimizedOrders",(()=>{this.state.areUnsavedChangesInInvestmentObjectives?(this.showCreatingOptimizedOrdersMessage(),this._saveInvestmentObjectives()):this._createOptimizedOrders()})),TM(this,"_createOptimizedOrders",(()=>{this.closeOptimizerPanel(),this.props.navigate(ln.build())})),TM(this,"_registerUnsavedChangesInInvestmentObjectives",(()=>{this.setState((e=>({areUnsavedChangesInInvestmentObjectives:!0})))})),TM(this,"_resetUnsavedChangesInInvestmentObjectives",(()=>{this.setState((e=>({areUnsavedChangesInInvestmentObjectives:!1})))})),TM(this,"_saveInvestmentObjectives",(()=>{this.setState((e=>({saveInvestmentObjectives:!0})))})),TM(this,"_internalCreateOptimizedOrdersHandler",(()=>{this.hideCreatingOptimizedOrdersMessage(),this._createOptimizedOrders()})),TM(this,"_resetSaveInvestmentObjectives",(()=>{this.setState((e=>({saveInvestmentObjectives:!1})))})),TM(this,"_currentUserHasIdeas",(()=>{const e=this.props.ideas.ideaList,t=this.props.currentUser.user_id;return FS(t,e).length>0})),TM(this,"isOptimizerRunning",(e=>(e||this.props).optimizer.isOptimizerRunning)),TM(this,"renderCreatingOptimizedOrdersMessage",(()=>c.createElement("div",{className:"creating-optimized-orders-overlay"},c.createElement("div",{className:"creating-optimized-orders component-bg",style:{maxWidth:"320px "}},c.createElement(SM,{size:"small"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Saving"))))),TM(this,"calcGraphWidth",(()=>{const e=this.state.panelWidth;if(e>864){return e-250-250-35}return e<652?e-30:e<716?e-250-50:e-250})),TM(this,"_isOptimizerDataAvailable",(()=>this.props.optimizer.data&&this.props.optimizer.data.portfolio_stats)),TM(this,"renderPanel",(()=>this.isLoading()?c.createElement("div",{className:"initializing-optimizer-panel"},c.createElement(Dw,{size:"medium",flatStyle:!0})):this._isOptimizerDataAvailable()?c.createElement("div",{className:"react-optimizer"},c.createElement("div",{className:"optimizer-output-container"},this.renderOptimizerFeedback(),this.renderOptimizerOutputPanel()),this.renderOptimizerActionButtons(),this.renderOptimizerDisclaimer(),c.createElement(EM,{show:this.state.showInvestmentObjectivesPanel,hideComponent:this.hideInvestmentObjectivesPanel,isPanel:this._shouldRenderAsPanel(),$scrollContainer:this._shouldRenderAsPanel()?window.$(".optimizer-panel-container .panel-container"):window.$("html, body"),hideCreatingOptimizedOrdersMessage:this.hideCreatingOptimizedOrdersMessage,saveInvestmentObjectives:this.state.saveInvestmentObjectives,internalCreateOptimizedOrdersHandler:this._internalCreateOptimizedOrdersHandler,registerUnsavedChangesInInvestmentObjectives:this._registerUnsavedChangesInInvestmentObjectives,resetUnsavedChangesInInvestmentObjectives:this._resetUnsavedChangesInInvestmentObjectives,resetSaveInvestmentObjectives:this._resetSaveInvestmentObjectives})):this._renderOptimizerDataUnavailable())),TM(this,"_renderOptimizerDataUnavailable",(()=>c.createElement("div",{className:"optimizer-unavailable-message"},c.createElement("p",null,"The optimizer is currently unavailable. Check back later."),c.createElement("div",{className:"optimizer-refresh-container"},c.createElement(hx,{onClick:this._runOptimizer},"Refresh"))))),TM(this,"renderOptimizerOutputPanel",(()=>{const e="graph"===this.state.activePanel?c.createElement("div",{className:"graph-panel-container"},this.renderOptimizerGraph(),this.renderOptimizedPortfolioList()):this.renderOptimizerOutput();return c.createElement("div",{className:"optimizer-output-panel-container"},this.renderPanelSelectionButtons(),c.createElement("div",{className:"optimizer-output-panel"},e))})),TM(this,"returnOptimizerData",(()=>{const e=this.props.optimizer.data,t=e.portfolio_stats,n=e.detailed_message,r=t.current,i=t.optimized,a=t.delta,s=jl(e.lastUpdated);return{data:e,optimizerMessage:n,portfolioStats:t,currentPortfolioStats:r,optimizedPortfolioStats:i,portfolioDelta:a,optimizerLastUpdated:`${Yl("l",s)} ${Yl("LT",s)}`,optimizedAllocationData:e.optimized_positions_by_security_id}})),TM(this,"renderOptimizerFeedback",(()=>{const{portfolioStats:e,optimizerMessage:t,currentPortfolioStats:n,optimizedPortfolioStats:r,optimizerLastUpdated:i}=this.returnOptimizerData(),a=!nk(n.total_value)&&n.total_value>0,s=e.risk_confidence_max_percentile,o=a?Zm.priceNearestDollar(n.projected_value):Zm.percentage(n.profit_loss_percentage),l=`${s}% chance of being above ${a?Zm.price_fin_notation_no_decimal(n.risk_confidence_min):Zm.percentage(n.risk_confidence_min_percentage)}`,d=a?Zm.priceNearestDollar(r.projected_value):Zm.percentage(r.profit_loss_percentage),u=`${s}% chance of being above ${a?Zm.price_fin_notation_no_decimal(r.risk_confidence_min):Zm.percentage(r.risk_confidence_min_percentage)}`,h=i?`Last updated ${i}`:"";return c.createElement("div",{className:"optimizer-feedback-container"},c.createElement("div",{className:"optimizer-message optimizer-emphasized-text-color"},t),c.createElement("div",{className:"portfolio-comparison-container"},a&&c.createElement("div",{className:"current-projected-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current Projected Value"),c.createElement("div",{className:"value  "},o),c.createElement("div",{className:"accuracy secondary-text-color"},l)),c.createElement("div",{className:"optimized-projected-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Optimized Projected "+(a?"Value":"Return")),c.createElement("div",{className:"value optimizer-emphasized-text-color"},d),c.createElement("div",{className:"accuracy secondary-text-color"},u))),c.createElement("div",{className:"optimizer-last-updated secondary-text-color"},h))})),TM(this,"renderOptimizedAllocation",(e=>{const t=this._returnPortfolioAllocationPercent(e),n=this._returnOptimizedPortfolioAllocationPercent(e);return c.createElement("tr",{className:"optimizer-panel-optimized-allocation",key:`optimized-allocation-${e.security_id}`},c.createElement("td",{className:"security-symbol"},e.symbol),c.createElement("td",{className:`security-allocation ${"-"===t&&"pad-right"}`},t),c.createElement("td",{className:`security-allocation optimized ${"-"===n&&"pad-right"}`},n))})),TM(this,"_renderOptimizedAllocationTableBody",(e=>this._isOptimizedAllocationTableLoading()?this._renderOptimizedAllocationLoadingTable():c.createElement("table",null,c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"security-symbol"}),c.createElement("th",{className:"security-allocation secondary-text-color"},"Current"),c.createElement("th",{className:"security-allocation optimized optimizer-emphasized-text-color"},"Optimized"))),c.createElement("tbody",null,e.map((e=>this.renderOptimizedAllocation(e))),c.createElement("tr",null,c.createElement("td",{style:{padding:"11px"}}),c.createElement("td",null)))))),TM(this,"_isOptimizedAllocationTableLoading",(()=>this.props.portfolio.loading)),TM(this,"_renderOptimizedAllocationLoadingTable",(()=>c.createElement("div",{className:"optimizer-panel-optimized-allocation text-center"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}})))),TM(this,"_returnPortfolioAllocationPercent",(e=>{const t=e.security_id,n=this.props.portfolio.positions,r=n[t]?n[t].allocation_percent:0;return 0===r?"-":Zm.percentage(r,{decimalPlace:1})})),TM(this,"_returnOptimizedPortfolioAllocationPercent",(e=>{const t=e.allocation_percent;return 0===t?"-":Zm.percentage(t,{decimalPlace:1})})),TM(this,"_returnListOfSecuritiesInOptimizedAllocationSortedByAbsValueAllocation",(()=>{const{optimizedAllocationData:e}=this.returnOptimizerData();return Object.keys(e).map((t=>e[t])).sort(((e,t)=>Math.abs(t.allocation_percent)-Math.abs(e.allocation_percent)))})),TM(this,"renderOptimizedPortfolioList",(()=>{const e=this._returnListOfSecuritiesInOptimizedAllocationSortedByAbsValueAllocation();return c.createElement("div",{className:"wrapper",style:{margin:"0 auto"}},c.createElement("div",{className:"optimized-portfolio-list-container"},c.createElement("div",{className:"heading secondary-heading-text-color"},"Optimized Allocations"),this._renderOptimizedAllocationTableBody(e)),c.createElement("div",{className:"optimizer-panel-transparent-gradient to-bottom"}))})),TM(this,"renderOptimizerGraph",(()=>{const{portfolioStats:e,currentPortfolioStats:t,optimizedPortfolioStats:n}=this.returnOptimizerData(),r=!(!nk(t.total_value)&&t.total_value>0),i=t.total_value||0,a=r?t.profit_loss_percentage:t.profit_loss,s=r?n.profit_loss_percentage:n.profit_loss,o={current_profit:a,current_risk:t[r?"risk_percentage":"risk"],current_value:i,optimized_profit:s,optimized_risk:n[r?"risk_percentage":"risk"],risk_confidence_multiplier:e.risk_confidence_multiplier||.674489750196082};return c.createElement(qR,{usingPercentages:r,optimizerPortfolioData:o,panelWidth:this.state.panelWidth})})),TM(this,"renderOptimizerOutput",(()=>{const{currentPortfolioStats:e,optimizedPortfolioStats:t,portfolioDelta:n}=this.returnOptimizerData(),r=!nk(e.total_value)&&e.total_value>0,i=e.projected_value||0,a=t.projected_value||0,s=e.total_value||0,o=e.profit_loss_percentage||0,l=t.total_value||0,d=t.profit_loss_percentage||0,u=i-s,h=a-l,p=r?Zm.price(u):Zm.percentage(o),m=r?Zm.price(h):Zm.percentage(d),g=n.profit_loss||0,y=`${Hk(g)}${Zm.price(Math.abs(g))}`,_=`${jk(g)} Returns`,f=e.risk||0,v=e.risk_percentage||0,E=t.risk||0,b=t.risk_percentage||0,C=E-f,x=r?Zm.price(f):Zm.percentage(v),w=r?Zm.price(E):Zm.percentage(b),S=`${Hk(C)}${Zm.price(Math.abs(C))}`,k=`${jk(C)} Risk`,T=t.expected_dividends_percentage,I=Zm.percentage(t.expected_dividends_percentage),N=r?Zm.price(e.expected_dividends):"0%",A=r?Zm.price(t.expected_dividends):I,P=r?`${jk(n.expected_dividends)} Dividends`:`${jk(T)} Dividends`,D=r?`${Hk(n.expected_dividends)}${Zm.price(Math.abs(n.expected_dividends))}`:`${Hk(T)}${Zm.percentage(Math.abs(T))}`,O=`${Hk(n.beta)}${Zm.float(Math.abs(n.beta))}`,L=Zm.float(e.beta),R=Zm.float(t.beta),F=`${Wk(O)} Beta`;return c.createElement("div",{className:"optimizer-data-output-container"},c.createElement("div",{className:"optimizer-column-group"},c.createElement("div",{className:"optimizer-column-container"},c.createElement("div",{className:"column-heading"},c.createElement("span",{style:{position:"relative"}},c.createElement("span",{className:"secondary-heading-text-color"},"Projected Return"),c.createElement(iS,{word:"tooltip_projected_return",style:{top:$(window).width()>450?"1px":"-1px",lineHeight:1.4}}))),c.createElement("div",{className:"column-explanation secondary-text-color"},"Projected 1-year change in portfolio value"),r&&c.createElement("div",{className:"difference-vs-current"},c.createElement("div",{className:"value optimizer-emphasized-text-color"},y),c.createElement("div",{className:"text-label optimizer-emphasized-text-color"},_)),c.createElement("div",{className:"current-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current"),c.createElement("div",{className:"value secondary-heading-text-color"},p)),c.createElement("div",{className:"optimized-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Optimized"),c.createElement("div",{className:"value secondary-heading-text-color"},m))),c.createElement("div",{className:"optimizer-column-container"},c.createElement("div",{className:"column-heading"},c.createElement("span",{style:{position:"relative"}},c.createElement("span",{className:"secondary-heading-text-color"},"Portfolio Volatility"),c.createElement(iS,{word:"tooltip_portfolio_volatility",style:{top:$(window).width()>450?"1px":"-1px",lineHeight:1.4},position:$(window).width()>725?"default":"right"}))),c.createElement("div",{className:"column-explanation secondary-text-color"},"Standard deviation of projected returns ($)"),r&&c.createElement("div",{className:"difference-vs-current"},c.createElement("div",{className:"value optimizer-emphasized-text-color"},S),c.createElement("div",{className:"text-label optimizer-emphasized-text-color"},k)),c.createElement("div",{className:"current-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current"),c.createElement("div",{className:"value secondary-heading-text-color"},x)),c.createElement("div",{className:"optimized-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Optimized"),c.createElement("div",{className:"value secondary-heading-text-color"},w)))),c.createElement("div",{className:"optimizer-column-group"},c.createElement("div",{className:"optimizer-column-container"},c.createElement("div",{className:"column-heading"},c.createElement("span",{style:{position:"relative"}},c.createElement("span",{className:"secondary-heading-text-color"},"Est. Dividends"),c.createElement(iS,{word:"tooltip_estimated_dividends",style:{top:$(window).width()>450?"1px":"-1px",lineHeight:1.4}}))),c.createElement("div",{className:"column-explanation secondary-text-color"},"Projected dividend income over 1 year"),c.createElement("div",{className:"difference-vs-current"},c.createElement("div",{className:"value optimizer-emphasized-text-color"},D),c.createElement("div",{className:"text-label optimizer-emphasized-text-color"},P)),c.createElement("div",{className:"current-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current"),c.createElement("div",{className:"value secondary-heading-text-color"},N)),c.createElement("div",{className:"optimized-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Optimized"),c.createElement("div",{className:"value secondary-heading-text-color"},A))),c.createElement("div",{className:"optimizer-column-container"},c.createElement("div",{className:"column-heading"},c.createElement("span",{style:{position:"relative"}},c.createElement("span",{className:"secondary-heading-text-color"},"Market Beta"),c.createElement(iS,{word:"tooltip_market_beta",style:{top:$(window).width()>450?"1px":"-1px",lineHeight:1.4},position:"right"}))),c.createElement("div",{className:"column-explanation secondary-text-color"},"Exposure to broad stock market"),c.createElement("div",{className:"percentage-difference-vs-current"},c.createElement("div",{className:"value optimizer-emphasized-text-color"},O),c.createElement("div",{className:"text-label optimizer-emphasized-text-color"},F)),c.createElement("div",{className:"current-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Current"),c.createElement("div",{className:"value secondary-heading-text-color"},L)),c.createElement("div",{className:"optimized-value"},c.createElement("div",{className:"text-label secondary-heading-text-color"},"Optimized"),c.createElement("div",{className:"value secondary-heading-text-color"},R)))))})),TM(this,"renderOptimizerActionButtons",(()=>{const{currentPortfolioStats:e}=this.returnOptimizerData(),t=!nk(e.total_value)&&e.total_value>0;return c.createElement("div",{className:"optimizer-action-btn-container"},c.createElement("div",{className:"refresh-btn-container icon-grey-color"},c.createElement(aS,{icon:"fa-refresh",size:"medium",background:"rgba(0,0,0,0)",handleClick:this._runOptimizer})),c.createElement("div",{className:"settings-btn-container icon-grey-color"},c.createElement(aS,{icon:"fa-wrench",size:"medium",background:"rgba(0,0,0,0)",handleClick:this.state.showInvestmentObjectivesPanel?this.hideInvestmentObjectivesPanel:this.showInvestmentObjectivesPanel})),c.createElement("div",{className:"create-optimized-orders-btn-container"},c.createElement(IM,{className:"wrapper"},c.createElement(hx,{onClick:this.handleCreateOptimizedOrders,disabled:!t},this.state.areUnsavedChangesInInvestmentObjectives?"Save and Next":"Next"),!t&&c.createElement("div",{className:"react-info-icon"},c.createElement("span",{className:"info-icon-tooltip-container right-aligned"},c.createElement("span",{className:"info-icon-tooltip-container-arrow"}),c.createElement("span",{className:"info-icon-tooltip-content"},`To Optimize you need at least ${ng(this.props.currentUser.min_equity_required_to_use_optimizer,"priceNearestDollar")} in your account.`))))))})),TM(this,"_runOptimizer",(()=>{this.props.actions.runOptimizer()})),TM(this,"renderOptimizerDisclaimer",(()=>c.createElement("div",{className:"optimizer-disclaimer"},c.createElement("span",{className:"disclaimer-text-color"},'Projected return is based on the price targets and other information in your ideas. Risk is based on recent historical data. Results may vary with each use and over time. Conviction levels affect the maximum possible allocation for each position. Any "short term" (6 month) idea will be annualized. IMPORTANT: The projections or other information generated by the Optimizer regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results. More details can be found '),c.createElement("a",{href:"/terms_of_service/#section8",target:"_blank",rel:"noopener noreferrer",className:"disclaimer-text-color"},"here"),c.createElement("span",{className:"disclaimer-text-color"},".")))),TM(this,"renderPanelSelectionButtons",(()=>{const e=this.returnAvailablePanels();return c.createElement("div",{className:"optimizer-panel-selection-buttons-container"},e.map((e=>this.renderPanelSelectionButton(e))))})),TM(this,"renderPanelSelectionButton",(e=>{const t=e=>this.state.activePanel===e.name;return c.createElement(NM,{isActive:t(e),className:`optimizer-panel-selection-button ${t(e)&&"active"}`,key:`optimizer-selection-button-${e.name}`},c.createElement("div",{onClick:()=>{this.handlePanelSelection(e)}},c.createElement(xc,{icon:e.icon,size:"medium",color:null,background:null})))})),TM(this,"returnAvailablePanels",(()=>[{name:"graph",icon:"fa-line-chart"},{name:"numbers",icon:"fa-list-ul"}])),TM(this,"handlePanelSelection",(e=>{this.setState((t=>({activePanel:e.name})))})),TM(this,"isLoading",(()=>this.props.optimizer.loading)),TM(this,"removeOptimizerAutoExpandFromUrl",(()=>{const e=this.props.navigate,t=this.props.location.search,n=fe(t);e(((e,t,r)=>{const i=Object.keys(n).filter((n=>n!==e&&t!==r[n])),a={};return i.forEach((e=>{a[e]=r[e]})),a})("auto_expand","optimizer",n))})),TM(this,"closeOptimizerPanel",(()=>{this.removeOptimizerAutoExpandFromUrl(),this.hideInvestmentObjectivesPanel(),this.props.actions.closeOptimizerPanel()})),TM(this,"showInvestmentObjectivesPanel",(()=>{this.setState((e=>({showInvestmentObjectivesPanel:!0})))})),TM(this,"hideInvestmentObjectivesPanel",(()=>{this.setState((e=>({showInvestmentObjectivesPanel:!1})))})),TM(this,"showCreatingOptimizedOrdersMessage",(()=>{$(".optimizer-panel-container .panel-container").css("overflow","hidden"),this.setState((e=>({showCreatingOptimizedOrdersMessage:!0})))})),TM(this,"hideCreatingOptimizedOrdersMessage",(()=>{$(".optimizer-panel-container .panel-container").css("overflow","auto"),this.setState((e=>({showCreatingOptimizedOrdersMessage:!1})))})),TM(this,"handleResize",(()=>{const e=window.$(this.panelContainer).width()||.95*window.$(window).width();this.setState((()=>({panelWidth:e})))})),TM(this,"_returnOptimizerIsRunningActionMessageData",(()=>({id:"optimizer-is-running",type:"optimizer",isDismissable:!1}))),TM(this,"_showOptimizerIsRunningActionMessage",(()=>{this.props.actions.showActionMessage(this._returnOptimizerIsRunningActionMessageData())})),TM(this,"_hideOptimizerIsRunningActionMessage",(()=>{this.props.actions.dismissActionMessage(this._returnOptimizerIsRunningActionMessageData())})),TM(this,"_isOnAnalysisPageOrOptimizerPanelOpen",(()=>"/portfolio"===this.props.location.pathname||this._shouldShowOptimizer())),TM(this,"_isADifferentPanelOpenOnPage",(()=>{const e=window.location;return"panel"in fe(e.search)})),TM(this,"_onOptimizerStartRunning",(()=>{this._isOnAnalysisPageOrOptimizerPanelOpen()&&!this._isADifferentPanelOpenOnPage()&&this._showOptimizerIsRunningActionMessage()})),TM(this,"_onOptimizerEndRunning",(()=>{this._hideOptimizerIsRunningActionMessage()})),TM(this,"_isOnPortfolioAnalysisPage",(()=>this.props.location.pathname===Ln("portfolioAnalysis"))),TM(this,"_logViewOptimizer",(()=>{const e={Context:this._shouldRenderAsPanel()?"Panel":"Analysis Page"};this.props.actions.logMetricsTrackingEvent("View Optimizer",e)})),TM(this,"_logItlyModalViewed",(()=>{const e={context:location.pathname,is_error:!1,message:this.props.optimizer.data.summary_message||"modal message",modal_type:"OptimizerPanel",url:window.location.pathname,url_query:window.location.search};pl.generic.MODAL_VIEWED.send(e)})),TM(this,"_logAutoExpandInvestmentObjectives",(()=>{const e={Context:this._shouldRenderAsPanel()?"Panel":"Analysis Page"};this.props.actions.logMetricsTrackingEvent("Auto Expanded Investment Objectives",e)})),this.state={panelWidth:.95*window.$(window).width(),activePanel:"graph",showInvestmentObjectivesPanel:!1,showCreatingOptimizedOrdersMessage:!1,areUnsavedChangesInInvestmentObjectives:!1,saveInvestmentObjectives:!1}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize(),this._shouldRenderAsPanel()||this._logViewOptimizer()}componentDidUpdate(e){const t=this.props.location.search,n=fe(t),r=this.props.optimizer.showPanel||this._isOnPortfolioAnalysisPage();"optimizer"!==n.auto_expand||r||this._isOnPortfolioAnalysisPage()||(this.props.actions.openOptimizerPanel(),this.handleResize()),"investment_objectives"===n.auto_expand&&(r||this._isOnPortfolioAnalysisPage()?this.state.showInvestmentObjectivesPanel||(this.showInvestmentObjectivesPanel(),this._logAutoExpandInvestmentObjectives()):(this.props.actions.openOptimizerPanel(),this.handleResize())),"optimizer"!==n.queue_auto_expand||this.props.optimizer.showPanel||"panel"in n||(this.props.actions.openOptimizerPanel(),this.handleResize()),!e.optimizer.showPanel&&this.props.optimizer.showPanel&&(this._logViewOptimizer(),this.handleResize(),this._logItlyModalViewed()),this.isOptimizerRunning(e)||!this.isOptimizerRunning()||this.isLoading()||this._onOptimizerStartRunning(),!this.isOptimizerRunning(e)||this.isOptimizerRunning()||this.isLoading()||this._onOptimizerEndRunning()}componentWillUnmount(){this.state.staleDataCheckFunction&&clearInterval(this.state.staleDataCheckFunction),window.removeEventListener("resize",this.handleResize)}render(){return this._shouldShowOptimizer()&&this._currentUserHasIdeas()&&!this._isADifferentPanelOpenOnPage()?this._shouldRenderAsPanel()?this._renderOptimizerAsPanel():this._renderOptimizerOnPage():null}}const PM=N(_c,T((e=>({optimizer:e.optimizer,portfolio:e.portfolio,ideas:e.ideas,currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(AM);class DM extends c.PureComponent{render(){const{renderOnPage:e}=this.props;return c.createElement(PM,{renderOnPage:e})}}var OM=Object.defineProperty,LM=(e,t,n)=>(((e,t,n)=>{t in e?OM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const RM=e=>{const{data:t}=e;return t.definitionKey},FM=e=>{const{data:t}=e,{symbol:n}=t,r=RM(e),i=UN(r,n);return df(i)},MM=e=>{const{data:t}=e,{isOldStyle:n,customDefinition:r,symbol:i}=t,a=RM(e);return r?r:n?((e,t)=>{if([DN,ON,"tooltip_thought_leader","tooltip_expected_return","tooltip_sec_rule_for_short_sale","tooltip_order_form_sec_rule_for_short_sale","tooltip_order_form_sec_rule_for_long_sale","tooltip_community_thought_leader","tooltip_funding_see_tos","portfolio_rank"].includes(e)){const n=UN(e,t),r=df(n);return c.createElement("span",{dangerouslySetInnerHTML:r})}return Array.isArray(e)?e.map(((e,n)=>c.createElement("span",{key:`tooltip-${e}-${n}`,style:1===n?{paddingTop:"15px"}:{}},UN("object"==typeof e?e.property:e,t)))):UN("object"==typeof e?e.property:e,t)})(a,i):(e=>c.createElement("span",{dangerouslySetInnerHTML:FM(e)}))(e)},UM=e=>{const{style:t,windowHeight:n,windowWidth:r,height:i,width:a,CustomComponent:s}=e,d={padding:"15px",borderRadius:4,minHeight:100},u="main-bg-color-match";let h=null;h=s?c.createElement("div",{style:{}},c.createElement(s,o({},e))):c.createElement("div",{style:{fontSize:"12px"}},MM(e));return r<600?c.createElement("div",{className:u,style:l(o({},d),{position:"absolute",maxHeight:n-100,maxWidth:400,margin:"0 auto",bottom:10,left:10,right:10})},h):c.createElement("div",{className:u,style:l(o(o({},t||{}),d),{height:i,width:a})},h)};class $M extends c.PureComponent{constructor(e){super(e),LM(this,"onShow",(()=>{this.setState((()=>l(o({},this.INITIAL_STATE_DEFAULTS),{prerenderForSize:!0})));const e=RM(this.props),t=this.props.data.CustomComponent?null:this.props.data.isOldStyle?this.props.data.trackingMessage||this.props.data.customDefinition||UN(this.props.word,this.props.symbol):this.props.data.customDefinition||FM(this.props),n={tooltip_price_target:"Idea Price Target",tooltip_expected_return:"Idea Expected Return",tooltip_expected_return_minus_dividends:"Expected Return Minus Dividends",tooltip_allocation:"Allocation",tooltip_optimized_allocation:"Optimized Allocation",tooltip_analysis:"Analysis",tooltip_nvstr_paper_trading:"Paper Trading",tooltip_only_bank_account:"Only Bank Account",tooltip_funding_see_tos:"See ToS",tooltip_buying_power:"Buying Power",tooltip_credit_earned_paper:"Credit Earned With Paper Account",tooltip_credit_earned:"Credit Earned",tooltip_commission_credit:"Commission Credit",tooltip_manual_order_panel:"Manual Order Panel",tooltip_bid_ask:"Bid Ask Pricing",tooltip_sec_rule_for_short_sale:"SEC Rule For Short Sale",tooltip_requires_trade_approval:"Trade Approval Required",tooltip_ask_why:"Ask Why",tooltip_direction:"Idea Direction",tooltip_conviction:"Idea Conviction",tooltip_expected_dividend:"Idea Expected Dividend",tooltip_horizon:"Idea Horizon",tooltip_thesis:"Idea Thesis",tooltip_thesis_value:"Idea Thesis Value",tooltip_thesis_event:"Idea Thesis Event",tooltip_thesis_growth:"Idea Thesis Growth",tooltip_thesis_dividend:"Idea Thesis Dividend",tooltip_thesis_momentum:"Idea Thesis Momentum",tooltip_thesis_safety:"Idea Thesis Safety",tooltip_thesis_management:"Idea Thesis Management",tooltip_thesis_macro:"Idea Thesis Macro",tooltip_thesis_turnaround:"Idea Thesis Turnaround",tooltip_price_earnings_ratio:"P/E Ratio",tooltip_backward_pe_ratio:"Backward P/E Ratio",tooltip_forward_pe_ratio_this_year:"Forward P/E Ratio (This Year)",tooltip_forward_pe_ratio_next_year:"Forward P/E Ratio (Next Year)",tooltip_forward_pe_ratio_next_next_year:"Forward P/E Ratio (Year After Next)",tooltip_price_to_tangible_book_value:"Price to Tangible Book Value",tooltip_dividend_yield:"Dividend Yield",tooltip_market_cap:"Market Cap",tooltip_net_debt:"Net Debt",tooltip_avg_analyst_two_yr_rev_growth:"Avg. Analyst 2 Year Revenue Growth",tooltip_analyst_2yr_growth_projection:"Analyst 2 Year Revenue Growth",tooltip_projected_revenue_growth:"Avg. Analyst 2 Year Revenue Growth",tooltip_short_sales_allowed:"Short Sales Allowed",tooltip_max_leverage:"Max Leverage",tooltip_cash_reserve_minimum:"Cash Reserve Minimum",tooltip_portfolio_beta_constraint:"Portfolio Beta Constraint",tooltip_portfolio_volatility_invest_obj:"Portfolio Volatility Investment Objective",tooltip_minimum_dividend_income:"Minimum Dividend Income",tooltip_max_position_allocation:"Max Position Allocation",tooltip_max_diversified_etf_allocation:"Max Diversified ETF Allocation",tooltip_allocation_constraint:"Allocation Constraint",tooltip_projected_return:"Projected Return",tooltip_portfolio_volatility:"Portfolio Volatility",tooltip_estimated_dividends:"Estimated Dividends",tooltip_market_beta:"Market Beta",thought_explanation:"Thought Explanation",tooltip_thought_leader:"Thought Leader",tooltip_default_expected_return_percentage:"Default Expected Return Percentage",top_connections_ideas_today:"Top Connections Ideas (Today)",performance_numbers:"Performance Numbers",tooltip_collective_user:"Collective User",tooltip_nvstr_community_chart:"Tornado Community Chart",tooltip_community_thought_leader:"Community Thought Leader",tooltip_viewpoint:"Viewpoint",tooltip_karma:"Karma"}[e];TC("Clicked Info Icon",{Name:"string"==typeof n?n:null,Message:"string"==typeof t?t:null})()})),LM(this,"onHide",(()=>{this.setState((()=>o({},this.INITIAL_STATE_DEFAULTS)))})),LM(this,"onPrerenderForSize",(()=>{const{show:e}=this.props;if(!e)return null;const t=this._getInfoIconPrerenderedSize();this.setState((()=>({infoIconSize:t,prerenderForSizeComplete:!0})))})),LM(this,"onPrerenderForSizeComplete",(()=>{const{show:e}=this.props;if(!e)return null;const{infoIconSize:t}=this.state;if(null===t)return null;this.setState((()=>({canFullRender:!0})))})),LM(this,"onRenderComplete",(()=>{})),LM(this,"_getInfoIconPrerenderedSize",(()=>{const e=window.$("#info_icon_prerender_container");if(!e)return{height:200,width:200};const t=e.outerHeight(!0),n=e.outerWidth(!0);return 0===t||0===n?{height:200,width:200}:{height:t,width:Math.min(n,400)}})),LM(this,"_getClickedIconPosition",(()=>{const{data:e}=this.props;if(null===e)return null;const{elementRef:t}=e,n=t.current?t.current:t;if(!n)return null;const r=window.$("html"),i=r.scrollTop(),a=r.scrollLeft(),{top:s,left:o}=window.$(n).offset();return{top:s-i,left:o-a}})),LM(this,"_getBottomRightAnchorPosition",(()=>{const{data:e}=this.props;if(null===e)return null;const{elementRef:t}=e,n=t.current?t.current:t;if(!n)return null;const r=window.$("html"),i=r.scrollTop(),a=r.scrollLeft(),{top:s,left:o}=window.$(n).offset();return{top:s-i+window.$(n).height(),left:o-a+window.$(n).width()}})),LM(this,"_buildTooltipPositionStyle",(()=>{const{data:e}=this.props,{useBottomRightAsAnchor:t}=e,n=t?this._getBottomRightAnchorPosition():this._getClickedIconPosition();if(!n)return{};const r={position:"absolute"};if(t){const e=this._calcBottomLeftPositionedValues(n);if(null===e)return{};const{top:t,left:i}=e;return l(o({},r),{top:t,left:i})}const i=this._getBestPositionFit();if(null===i)return{};const{top:a,left:s}=i;return l(o({},r),{top:a,left:s})})),LM(this,"_getBestPositionFit",(()=>{const e=this._getClickedIconPosition();let t=null;return Object.keys(this.POSITION_TYPES).forEach((n=>{if(null!==t)return;const r=this.POSITION_TYPE_CALC_LOOKUP[this.POSITION_TYPES[n]](e);null!==r&&(t=r)})),t})),LM(this,"_calcBottomRightPositionedValues",(e=>{const{infoIconSize:t}=this.state;if(null===t)return null;const{height:n,width:r}=t,{top:i,left:a}=e,{windowWidth:s,windowHeight:o}=this.props,l=i+this.INFO_ICON_SIZE_PIXELS+this.INFO_ICON_TOP_OFFSET;return s>=a+r&&o>=l+n?{top:l,left:a}:null})),LM(this,"_calcTopRightPositionedValues",(e=>{const{infoIconSize:t}=this.state;if(null===t)return null;const{height:n,width:r}=t,{top:i,left:a}=e,{windowWidth:s}=this.props,o=i-n-this.INFO_ICON_TOP_OFFSET;return s>=a+r&&o>=0?{top:o,left:a}:null})),LM(this,"_calcTopLeftPositionedValues",(e=>{const{infoIconSize:t}=this.state;if(null===t)return null;const{height:n,width:r}=t,{top:i,left:a}=e,s=i-n-this.INFO_ICON_TOP_OFFSET,o=a-r+this.INFO_ICON_SIZE_PIXELS;return o>=0&&s>=0?{top:s,left:o}:null})),LM(this,"_calcBottomLeftPositionedValues",(e=>{const{infoIconSize:t}=this.state;if(null===t)return null;const{height:n,width:r}=t,{top:i,left:a}=e,{windowHeight:s}=this.props,o=i+this.INFO_ICON_SIZE_PIXELS+this.INFO_ICON_TOP_OFFSET,l=a-r+this.INFO_ICON_SIZE_PIXELS;return l>=0&&s>=o+n?{top:o,left:l}:null})),LM(this,"_handleOverlayClick",(()=>{const{dispatch:e}=this.props;!function(e){e({type:"HIDE_INFO_ICON_MODAL"})}(e)})),this.INFO_ICON_SIZE_PIXELS=14,this.INFO_ICON_TOP_OFFSET=3,this.INITIAL_STATE_DEFAULTS={prerenderForSize:!1,prerenderForSizeComplete:!1,canFullRender:!1,infoIconSize:null},this.POSITION_TYPES={BOTTOM_RIGHT:"bottom-right",BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},this.POSITION_TYPE_CALC_LOOKUP={[this.POSITION_TYPES.BOTTOM_RIGHT]:this._calcBottomRightPositionedValues,[this.POSITION_TYPES.BOTTOM_LEFT]:this._calcBottomLeftPositionedValues,[this.POSITION_TYPES.TOP_LEFT]:this._calcTopLeftPositionedValues,[this.POSITION_TYPES.TOP_RIGHT]:this._calcTopRightPositionedValues},this.state=o({},this.INITIAL_STATE_DEFAULTS)}componentDidMount(){const{show:e}=this.props;e&&this.onShow()}componentWillUnmount(){this.onHide()}componentDidUpdate(e,t,n){const{show:r}=e,{show:i}=this.props,{prerenderForSize:a,prerenderForSizeComplete:s,canFullRender:o}=this.state,{prerenderForSize:l,prerenderForSizeComplete:c,canFullRender:d}=t;!r&&i&&this.onShow(),!l&&a&&this.onPrerenderForSize(),!c&&s&&this.onPrerenderForSizeComplete(),!d&&o&&this.onRenderComplete(),r&&!i&&this.onHide()}render(){const{show:e,data:t}=this.props,{prerenderForSize:n,canFullRender:r,infoIconSize:i}=this.state;return e?r?c.createElement(sR,{onClick:this._handleOverlayClick,customClass:"priority-z-index"},c.createElement(UM,l(o(o({},this.props),i),{CustomComponent:t.CustomComponent,style:this._buildTooltipPositionStyle()}))):n?c.createElement("div",{id:"info_icon_prerender_container",style:{opacity:0,position:"absolute",top:0,left:0,pointerEvents:"none",maxWidth:380}},c.createElement(UM,o(l(o({},this.props),{CustomComponent:t.CustomComponent}),i))):null:null}}var BM=Xk(T((e=>({show:e.infoIcon.show,data:e.infoIcon.data})))($M));const zM=({color:e})=>c.createElement("div",null,c.createElement(Ei,{color:e},"For a limited time, get a funding bonus (Up to $1,000) when you make your first deposit"));var VM=Object.defineProperty,HM=(e,t,n)=>(((e,t,n)=>{t in e?VM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class WM extends c.PureComponent{constructor(){super(...arguments),HM(this,"_generateBannerText",(()=>{const{limitedTimeDepositBonusAward:e}=this.props;if(!e)return null;const{expires_at:t,deposit_minimum_amount:n,reward_amount:r,is_card_flip:i}=e,a=r,s=n,o=Gl(t),l=Yl("day-date",o);return r>0?`Get an additional $${a} after depositing $${s} or more until ${l}`:i?`For a limited time, get a funding bonus (Up to $1,000) after depositing $${s} or more until ${l}`:""}))}render(){return c.createElement("div",null,c.createElement("span",{className:" "},this._generateBannerText()))}}var jM=T((e=>{const t=YT(e);return{limitedTimeDepositBonusAward:KT(t)}}))(WM);const GM=({containerStyle:e})=>{const t=ZT(),n=D((e=>YT(e))),r=Fp(t),i=KT(n),a=Mp(t);return r?!!i?c.createElement("div",{style:e},c.createElement(jM,null)):c.createElement("div",{style:e},a&&c.createElement(zM,null)):null};GM.defaultProps={containerStyle:{}};var qM=Object.defineProperty,YM=(e,t,n)=>(((e,t,n)=>{t in e?qM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const KM=()=>c.createElement("div",{className:"flex-center-child"},c.createElement("div",{className:"border-accent flex-center-child",style:{position:"relative",borderWidth:"3px",borderStyle:"solid",borderRadius:38,height:76,width:76,paddingLeft:7,paddingBottom:2}},c.createElement(xc,{icon:"fa-bank",customClass:"secondary-text-color",size:"na",style:{fontSize:"42px"}}),c.createElement("div",{className:"flex-center-child success-bg",style:{position:"absolute",bottom:10,right:10,borderRadius:10,height:20,width:20,paddingLeft:1}},c.createElement(xc,{icon:"fa-link",color:"#fff",size:"na",style:{fontSize:"14px"}}))));class QM extends c.PureComponent{constructor(){super(...arguments),YM(this,"handleContinue",(()=>{const{navigate:e,dispatch:t}=this.props;!function(e){e({type:"HIDE_MODAL"})}(t);TC("Press Continue Finish Setting Up Your Account Modal")(),e(Ln("funding")),L_(N_,!0)}))}componentDidMount(){TC("View Finish Setting Up Your Account Modal")()}render(){return c.createElement("div",{style:{width:"100%",maxWidth:"450px"}},c.createElement("div",{className:"modal-message",style:{paddingTop:"0px",textAlign:"center",width:"100%",maxWidth:"450px"}},c.createElement("div",null,c.createElement("div",{style:{maxWidth:300}},c.createElement(KM,null),c.createElement("div",{style:{margin:"10px 0 0 0"}},c.createElement("span",{className:" ",style:{fontSize:"18px",fontWeight:"500"}},"Your account setup is almost complete")),c.createElement("div",{style:{margin:"10px 0 0 0",fontSize:"14px",fontWeight:"300"}},c.createElement("span",{className:"secondary-text-color"},"Finish setting up your ",Jo," account by linking your bank account")),c.createElement("div",{style:{margin:"10px 0 0 0",fontSize:"14px",fontWeight:"300"}},c.createElement("span",{className:"secondary-text-color"},"A linked bank account allows you to transfer funds to your ",Jo," account to invest as well as pay for subscriptions automatically."))),c.createElement("div",{style:{margin:"15px 0 0 0",fontSize:"12px",fontWeight:400}},c.createElement("div",{className:"border-accent",style:{borderWidth:"1px",borderStyle:"dashed",padding:"10px"}},c.createElement(GM,null)))),c.createElement("div",{className:"modal-custom-button"},c.createElement(hx,{onClick:this.handleContinue},"Continue"))))}}var ZM=_c(T()(QM)),XM=Object.defineProperty,JM=(e,t,n)=>(((e,t,n)=>{t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const eU=u.div`
  & .eye-catching-shadow-sd *,
  & .eye-catching-shadow-sd .text-selector,
  & .eye-catching-shadow-sd {
    background-color: ${({color:e,theme:t})=>e||t.themeColors.primaryCtaButton} !important;
    color: ${({color:e,theme:t})=>e||t.themeColors.buttonText} !important;
  }

  & .eye-catching-bg-sd *,
  & .eye-catching-bg-sd .text-selector,
  & .eye-catching-bg-sd {
    background-color: ${({color:e,theme:t})=>e||t.themeColors.primaryCtaButton} !important;
    color: ${({color:e,theme:t})=>e||t.themeColors.buttonText} !important;
  }
`;class tU extends c.PureComponent{constructor(e){super(e),JM(this,"_createAnimationCompletionTimeout",(()=>{const{id:e}=this.props;return setTimeout((()=>this._onAnimationComplete(e)),this.TOTAL_ANIMATION_TIME_LENGTH)})),JM(this,"_onAnimationComplete",(e=>{const{onAnimationComplete:t}=this.props;t&&t(e)})),this.BADGE_EXPAND_ANIMATION_LENGTH=600,this.BADGE_SLIDE_OPEN_ANIMATION_LENGTH=900,this.BADGE_STAY_LENGTH=e.message?e.wasPassive?2e3:3e3:1500,this.TOTAL_ANIMATION_TIME_LENGTH=this.BADGE_EXPAND_ANIMATION_LENGTH+this.BADGE_SLIDE_OPEN_ANIMATION_LENGTH+this.BADGE_STAY_LENGTH}componentDidMount(){this.animationCompleteTimeout=this._createAnimationCompletionTimeout()}componentWillUnmount(){this.animationCompleteTimeout&&clearTimeout(this.animationCompleteTimeout)}render(){const{earnedAmount:e,message:t,label:n}=this.props;return c.createElement(eU,{className:"karma-badge-slide-animation"},c.createElement("div",{style:{position:"absolute",bottom:"30px",left:0,right:0,height:1}},c.createElement("div",{style:{position:"absolute",left:"50%",right:0,top:0,height:"50px",overflow:"hidden"}},c.createElement("div",{className:"karma-badge-message karma-badge-message-slide-animation"},c.createElement("div",{className:"eye-catching-shadow-sd flex-center-child",style:{position:"absolute",top:0,left:"-150px",height:"50px",width:"185px",borderTopRightRadius:"25px",borderBottomRightRadius:"25px",paddingLeft:"0px",paddingRight:"15px",lineHeight:1.2}},t?c.createElement("div",{style:{paddingLeft:35}},c.createElement("span",{className:"text-selector",style:{fontSize:"11px",fontWeight:500}},t)):c.createElement("span",{className:"text-selector",style:{fontSize:"14px",fontWeight:500}},`+ ${e} ${n}`)))),c.createElement("div",{style:{position:"absolute",left:"50%",right:0,top:0,height:50}},c.createElement("div",{className:"eye-catching-bg-sd karma-badge-animation",style:{position:"absolute",bottom:0,left:"-25px",height:50,width:50,borderRadius:25,paddingTop:1}},c.createElement("div",{style:{position:"absolute",top:"10px",left:"10px"}},c.createElement(xc,{icon:"fa-trophy",color:"#fff",style:{fontSize:"34px"}}))))))}}class nU extends c.PureComponent{constructor(e){super(e),JM(this,"popAnimationFromStack",(()=>{const{animationStack:e}=this.state,t=e.slice(-1)[0];this.setState((e=>({animationData:t,animationStack:e.animationStack.filter((e=>e.id!==t.id))})))})),JM(this,"handleAnimationComplete",(e=>{this.setState((()=>({animationData:null})))})),JM(this,"handleKarmaTotalChange",((e,t)=>{const{inTestGroup:n}=this.props;if(t<e)return;if(!n)return;const r=t-e;this.stackAnimation(r)})),JM(this,"handleDailyLimitReach",(()=>{const{inShowMaxPointsReachedTestGroup:e,karmaLabel:t}=this.props;e&&this.stackAnimation(0,`Max Daily Agree/Disagree ${t} Achievement`)})),JM(this,"_getNextAnimationId",(()=>(this.animationId=this.animationId+1,this.animationId))),JM(this,"stackAnimation",((e,t,n)=>{const r={id:this._getNextAnimationId(),earnedAmount:e,message:t,wasPassive:n};this.setState((e=>({animationStack:[...e.animationStack,r]})))})),this.state={animationStack:[],animationData:null},this.animationId=0}componentDidUpdate(e,t,n){const{karmaTotal:r,reachedDailyMaxKarma:i}=e,{karmaTotal:a,reachedDailyMaxKarma:s}=this.props,{animationData:o,animationStack:l}=this.state;r===a||null===r||isNaN(r)||isNaN(a)||this.handleKarmaTotalChange(r,a),null===o&&l.length>0&&this.popAnimationFromStack(),!i&&s&&this.handleDailyLimitReach()}render(){const{karmaLabel:e,showKarma:t}=this.props,{animationData:n}=this.state;return t?c.createElement("div",{style:{position:"relative"}},c.createElement("div",{style:{position:"fixed",right:15,bottom:50,left:15,height:1,zIndex:100005,pointerEvents:"none"}},null!==n&&c.createElement(tU,l(o({label:e},n),{onAnimationComplete:this.handleAnimationComplete})))):null}}var rU=T((e=>({showKarma:BA(e),inTestGroup:2===VA(e),inShowMaxPointsReachedTestGroup:1===HA(e),reachedDailyMaxKarma:GA(e),karmaTotal:zA(e),karmaLabel:WA(e)})))(nU);const iU=e=>c.createElement(hx,{onClick:()=>window.location.reload()},"Reload"),aU=(e,t,n,r)=>{const i=new Headers;return i.set("Content-Type","application/json"),i.set("Accept","application/json"),i.set("Authorization","Basic "+btoa("nvstr:investbettertomorrow")),null==r||r.forEach((e=>{i.set(e[0],e[1])})),fetch(e,{method:t,credentials:"include",headers:i,body:n})};async function sU({email:e,password:t,rememberMe:n}){try{const r=F_.getItemFromStorage(R_.SOCURE_SESSION_RISK_ID),i=(await aU(`${sd}/api/v1/util/csrf`,"GET"),await aU(`${sd}/api/v1/util/csrf`,"GET")),a=await(null==i?void 0:i.json()),{csrf_token:s}=a,o=await aU(`${sd}/users/sign_in`,"POST",JSON.stringify({user:{email:e,password:t,remember_me:n}}),[["X-CSRF-Token",s]]),{error:l,route_to:c}=await o.json();if(l){return{errorMessage:l}}"1"===n&&F_.setItemInStorage(R_.EMAIL,e),await(async e=>{try{const t=await aU(`${sd}/api/v1/util/csrf`,"GET"),n=await t.json(),{csrf_token:r}=n;aU(`${sd}/device_risk`,"POST",JSON.stringify({device_session_id:e}),[["X-CSRF-Token",r]])}catch(Gs){console.error(Gs)}})(r);const{token:d}=await(async()=>{try{const e=await aU(`${sd}/api/v1/util/csrf`,"GET",null,[]),t=await e.json(),{csrf_token:n}=t;return cd.defaults.headers.common["X-CSRF-Token"]=n,window.localStorage.setItem("X-CSRF-Token",n),{token:n}}catch(Gs){return console.error(Gs),{token:null}}})();return{isAuthed:!0,route_to:c,csrfToken:d}}catch(Gs){console.error(Gs);return{errorMessage:"An error occurred, please try to Sign In again."}}}async function oU(){try{const e=await aU(`${sd}/api/v1/util/csrf`,"GET"),t=await(null==e?void 0:e.json()),{csrf_token:n,is_signed_in:r}=t;return r?(window.localStorage.setItem("X-CSRF-Token",n),cd.defaults.headers.common["X-CSRF-Token"]=n,{isAuthed:!0,csrfToken:n}):{isAuthed:!1}}catch(Gs){return console.error(Gs),"/app/login"!==window.location.pathname&&(window.location="/app/login"),{isAuthed:!1}}}async function lU(){try{const e=window.localStorage.getItem("X-CSRF-Token"),t=await aU(`${sd}/users/sign_out`,"DELETE",null,[["X-CSRF-Token",e]]);await t.json()}catch(Gs){console.error(Gs)}}const cU=e=>(e=>e.liveAccount?e.liveAccount.liveAccounts:{})(e).accounts||{},dU=e=>(e=>Object.keys(cU(e)))(e).filter((t=>((e,t)=>{if(!t)throw new Error("isBankAccountActive is missing state");const n=cU(t)[e];return n&&n.can_accept_transfers})(t,e))).length>0,uU=async()=>{const{isUserActionRequired:e}=await(async()=>{const e=await Eb();return l(o({},e),{isRejected:e.wasRejected})})();return e},hU=e=>{const t=e.columns;return c.createElement("thead",null,c.createElement("tr",{className:"security-table-security-row"},t.map((e=>{const t="string"==typeof e?Qv(e):e.headingDisplayName,n="string"==typeof e?e:e.keyName;return c.createElement("th",{key:`security-table-${n}-heading`,className:`security-table-${lk(n)}`,style:{cursor:"default"}},c.createElement("span",{style:{position:"relative"}},c.createElement("span",{className:"table-heading-text-color"},t),e.infoIcon&&c.createElement(iS,{word:`tooltip_${e.customInfoIconName||e.keyName}`,style:{top:"0px",right:"-21px"},position:e.infoIconPosition||"default"})))}))))},pU={risk_profile:"Risk Profile",total_investible_assets:"Total Investible Assets",annual_income:"Annual Income",given_name:"First Name",family_name:"Last Name",contact_street_address:"Street Address",contact_apartment:"Apartment",contact_city:"City",contact_state:"State",contact_postal_code:"Zip Code",contact_country:"Country",phone_number:"Phone Number",social_security_number:"Social Security Number",date_of_birth:"Date of Birth",citizenship_country:"Citizenship Country",is_permanent_resident:"Is Permanent Resident",green_card_number:"Green Card Number",green_card_expiration_date:"Green Card Expiration Date",birth_country:"Birth Country",visa_type:"Visa Type",visa_number:"Visa Number",visa_expiration_date:"Visa Expiration Date",is_control_person:"Is Control Person",company_symbols:"Control Person: ( Ticker )",is_affiliated_exchange_or_finra:"Is Affiliated With Exchange or Finra",firm_name:"Affiliated With Exchange or Finra: Name of Firm",is_politically_exposed:"Is Politically Exposed",immediate_family:"Politically Exposed: Family Member",political_organization:"Politically Exposed: Name of Organization",acknowledged_account_agreement:"Account Agreement Acknowledgement",acknowledged_options_agreement:"Options Trading Agreement",acknowledged_margin_agreement:"Margin Agreement Acknowledgement",bank_account_type:"Bank Account Type",owner_name:"Bank Account Owner Name",bank_routing_number:"Bank Routing Number",bank_account:"Bank Account Number",conviction:"Conviction",horizon:"Horizon",thesis:"Thesis",price_target:"Price Target",expected_return:"Expected Return",expected_dividend:"Expected Dividend",active:"Include In Optimizer",idea_type:"Idea Type",current_price:"Current Price",identifier:"Stock Identifier",dash_identifier_with_current_price:"Dashboard Stock Identifier With Price Change",identifier_with_current_price_no_change:"Dashboard Stock Identifier",identifier_with_current_price:"Portfolio Stock Identifier",idea_day_and_total_change:"Day Change",portfolio_idea_cell:"Idea Cell",identifier_with_idea_type:"Stock Identifier With Idea Type",profile_security_allocation_cell:"Allocation Percentage Cell",idea_performance_cell:"Idea Performance Cell",optimized_allocation_with_trade:"Optimizer Cell",thought_leader_data_cell:"Thought Leader Idea Data Cell",view_idea:"Table View Idea Button",position_total_change_percentage_cell:"Position Total Change Cell",position_day_change_percentage_cell:"Position Day Change Cell",external_position_identifier:"Ext Position Identifier Cell",external_position_amount_cell:"Ext position Amount Cell",external_position_day_change_percentage_cell:"Ext Position Day Change Cell",external_position_total_change_percentage_cell:"Ext Position Total Change Cell"},mU={defineMyOwn:"Add Own Filters",growthStocks:"Growth Stocks",friendsIdeasStocks:"Connection Ideas",famousInvestorsStocks:"Thought Leader Ideas",valueStocks:"Value Stocks",dividends:"Dividend Stocks",discountToBookValue:"Price / Tangible Book",likeMeStocks:"ML Stocks",techSector:"Technology Sector",financeSector:"Financial Sector",healthcareSector:"Healthcare Sector",energySector:"Energy Sector",diversifyingStocks:"Diversifying Stocks"},gU={"Price / Earnings":"Price / Earnings","Forward P/E":"Forward P/E","Forward P/E Next Yr":"Forward P/E Next Yr","Price / Tangible Book":"Price / Tangible Book","Market Cap":"Market Cap","Net Debt":"Net Debt",Price:"Price",Sectors:"Sectors","On Connections' Watchlists":"On Connections' Watchlists","Owned by Thought Leaders":"Owned by Thought Leaders","Revenue LTM":"Revenue LTM","Projected Revenue Growth":"Projected Revenue Growth","Dividend Yield":"Dividend Yield"},yU=e=>{const t=pU[e];return t||console.error(`Field name: ${e} not found, cannot send to tracking`)},_U=e=>{const t=gU[e];return t||console.error(`Field name: ${e} not found, cannot send to tracking`)},fU=e=>c.createElement("td",{className:"security-table-blank-cell"}),vU=e=>c.createElement("td",{className:"security-table-blank-cell security-table-optimizer-blank-cell"}),EU=e=>c.createElement("td",{className:"security-table-portfolio-cash-identifier-cell"},c.createElement("span",{className:""},"Cash")),bU={securityId:void 0,additionalProps:{},trackingData:void 0,navigate:void 0,location:void 0},CU=({securityId:e,panel:t,additionalProps:n,location:r,navigate:i}=o({},bU))=>{r||console.error("Must supply router navigate to open panel");const a=o({panel:t||"security",securityId:e},n),s=["tab"],l=fe(r.search),c=Object.keys(l).filter((e=>s.includes(e))),d={};c.forEach((e=>{d[e]=l[e]}));const u=r.pathname,h=o(o({},d),a);return u+ve(h)};var xU=Object.defineProperty,wU=(e,t,n)=>(((e,t,n)=>{t in e?xU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class SU extends C.exports.Component{constructor(){super(...arguments),wU(this,"_doesOpenSecurityPanel",(()=>!1!==this.props.openSecurityPanel)),wU(this,"_renderCell",(()=>this._doesOpenSecurityPanel()?c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}):c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),wU(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("symbol"in t)||!("name"in t)})),wU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),wU(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},t.symbol),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},XS(t.name,18)))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`,style:this._doesOpenSecurityPanel()?{}:{cursor:"default",pointerEvents:"none"}},this._isLoading()?this.props.loadingCellComponent:this._renderCell())}}const kU=N(T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)}))))(SU);var TU=Object.defineProperty,IU=(e,t,n)=>(((e,t,n)=>{t in e?TU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const NU=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;

  margin: 0 !important;
  padding: 0 0 0 0;
  line-height: 1;

  * {
    font-size: ${({isSmall:e})=>"12px !important"};
  }
`,AU=u.div`
  color: ${({theme:e})=>e.themeColors.text};
`,PU=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;

  svg {
    height: 24px;
    width: 24px;
  }

  * {
    color: ${({theme:e,value:t})=>0===t?e.themeColors.text:t>0?e.themeColors.positive:e.themeColors.negative};

    fill: ${({theme:e,value:t})=>0===t?e.themeColors.text:t>0?e.themeColors.positive:e.themeColors.negative};
  }
`,DU=({value:e})=>0===e?c.createElement(Cx,null):e>0?c.createElement(bx,null):e<0?c.createElement(Ex,null):null,OU=({currentPrice:e,priceChangePercent:t,isSmall:n})=>{const r=eg(e,"current_price"),i=eg(t,"current_price_change_percent");return c.createElement(NU,{isSmall:n},isNaN(e)||null===e?c.createElement(AU,null,"..."):c.createElement(AU,null,r),isNaN(e)||null===e?c.createElement(AU,null,"..."):c.createElement(PU,{value:t},c.createElement("span",null,c.createElement(DU,{value:t})),c.createElement("span",null,i)))},LU=({securityId:e,name:t,symbol:n})=>{const{price:r,changePercent:i}=iM(e);return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},n),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},XS(t,$(window).width()>525?33:20)),c.createElement("span",{className:"multi-text-box-inline flex-justify-left"},c.createElement(OU,{currentPrice:r,priceChangePercent:i,isSmall:!0})))};class RU extends c.PureComponent{constructor(){super(...arguments),IU(this,"_isLoading",(()=>{const{securityId:e}=this.props,t=this.props.securities.lookup[e];return!(e in this.props.securities.lookup)||!t.symbol||!t.name})),IU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),IU(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e],{name:n,symbol:r}=t;return c.createElement(LU,{securityId:e,symbol:r,name:n})}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}var FU=T((e=>({currentUser:e.currentUser,securities:e.securities})))(RU),MU=Object.defineProperty,UU=(e,t,n)=>(((e,t,n)=>{t in e?MU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $U extends C.exports.Component{constructor(){super(...arguments),UU(this,"_isLoading",(()=>{const{userId:e,securityId:t,currentUser:n}=this.props,r=e||n.user_id,i=this.props.securities.lookup[t],a=this.props.ideas,s=a.ideaList,o=RS(r,t,s),l=a.loadingCurrentUserIdeas||!i||!o;return!i||!("symbol"in i)||!("name"in i)||l})),UU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,additionalProps:{activeTab:"ideas",ideaId:this._returnIdea().idea_id},navigate:this.props.navigate,location:this.props.location};return CU(e)})),UU(this,"_returnIdea",(()=>{const{userId:e,securityId:t}=this.props,n=e||this.props.currentUser.user_id,r=this.props.ideas.ideaList;return RS(n,t,r)})),UU(this,"_renderCellContent",(()=>{const{securityId:e}=this.props,t=this.props.securities.lookup[e],{name:n,symbol:r}=t,i=this._returnIdea(),a=i.idea_type?i.idea_type.name:null,s="buy"===a.toLowerCase();return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},r),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},XS(n,18)),c.createElement("span",{className:"security-table-idea-type  "+(s?"buy-text-color":"sell-text-color")},a))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const BU=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))($U);var zU=Object.defineProperty,VU=(e,t,n)=>(((e,t,n)=>{t in e?zU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class HU extends C.exports.Component{constructor(){super(...arguments),VU(this,"_doesOpenSecurityPanel",(()=>!this.props.additionalProps||!1!==this.props.additionalProps.openSecurityPanel)),VU(this,"_renderCell",(()=>this._doesOpenSecurityPanel()?c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}):c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),VU(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("symbol"in t)})),VU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),VU(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},t.symbol))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`,style:this._doesOpenSecurityPanel()?{}:{cursor:"default",pointerEvents:"none"}},this._isLoading()?this.props.loadingCellComponent:this._renderCell())}}const WU=N(T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)}))))(HU);var jU=Object.defineProperty,GU=(e,t,n)=>(((e,t,n)=>{t in e?jU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class qU extends C.exports.Component{constructor(){super(...arguments),GU(this,"_isLoading",(()=>{const{securityId:e}=this.props,t=this.props.securities.lookup[e];return!(e in this.props.securities.lookup)||!t.symbol||!t.name})),GU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),GU(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e],{name:n,symbol:r}=t;return c.createElement("span",{className:"security-table-identifier-with-price-no-change"},c.createElement("span",{className:"security-table-symbol  "},r),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},XS(n,$(window).width()>525?33:20)))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const YU=N(T((e=>({currentUser:e.currentUser,securities:e.securities})),(e=>({actions:I(WC,e)}))))(qU);var KU=Object.defineProperty,QU=(e,t,n)=>(((e,t,n)=>{t in e?KU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ZU extends C.exports.Component{constructor(){super(...arguments),QU(this,"_doesOpenSecurityPanel",(()=>!1!==this.props.openSecurityPanel)),QU(this,"_renderCell",(()=>this._doesOpenSecurityPanel()?c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}):c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),QU(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("symbol"in t)||!("name"in t)})),QU(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),QU(this,"_returnCollectiveUser",(()=>{const{userId:e}=this.props;return this.props.collectives.lookup[e]})),QU(this,"_returnIdeaTypeForSecurity",(()=>{const{securityId:e}=this.props;return this._returnCollectiveUser().securities.filter((t=>t.security.security_id===e))[0].idea_type})),QU(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e],n=this._returnIdeaTypeForSecurity().name,r="buy"===n.toLowerCase();return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},t.symbol),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},XS(t.name,18)),c.createElement("span",{className:"security-table-idea-type  "+(r?"buy-text-color":"sell-text-color")},n))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`,style:this._doesOpenSecurityPanel()?{}:{cursor:"default",pointerEvents:"none"}},this._isLoading()?this.props.loadingCellComponent:this._renderCell())}}const XU=N(T((e=>({securities:e.securities,collectives:e.collectives})),(e=>({actions:I(WC,e)}))))(ZU);var JU=Object.defineProperty,e$=(e,t,n)=>(((e,t,n)=>{t in e?JU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const t$=({loadingCellComponent:e})=>{const{value:t,percentageOfEquity:n,isLoading:r}=XN();return r?e:c.createElement("div",{className:"security-table-portfolio-cash-cell"},c.createElement("div",{className:"portfolio-cash"},ng(t,"price")),c.createElement("div",{className:"portfolio-cash-percentage-of-equity"},ng(n,"percentage")))};class n$ extends C.exports.Component{constructor(){super(...arguments),e$(this,"_renderCellContent",(()=>c.createElement(t$,{loadingCellComponent:this.props.loadingCellComponent})))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._renderCellContent())}}var r$=Object.defineProperty,i$=(e,t,n)=>(((e,t,n)=>{t in e?r$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class a$ extends C.exports.Component{constructor(){super(...arguments),i$(this,"_isLoading",(()=>this.props.optimizer.data&&!("optimized_cash"in this.props.optimizer.data))),i$(this,"_renderCellContent",(()=>{const e=this.props.optimizer.data.optimized_cash,t=e.value||0,n=e.allocation_percent||0;return c.createElement("div",{className:"security-table-optimizer-cash-cell"},!nk(this.props.optimizer.data.portfolio_stats.current.total_value)&&c.createElement("div",{className:"portfolio-cash"},ng(t,"price")),c.createElement("div",{className:"portfolio-cash-percentage-of-equity"},ng(n,"percentage")))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const s$=N(T((e=>({currentUser:e.currentUser,optimizer:e.optimizer})),null))(a$),o$=e=>{const t=(e,t)=>e<=$S({name:t.name});return c.createElement("div",{className:"rating-container"},!e.hideRatingCircles&&(n=>{const r=e.name,i=e.value,a=[];for(let e=0;e<n;e++)a.push(e);return a.map(((e,n)=>c.createElement("div",{key:`rating-${r}-${n}`,name:r,className:"rating-circle-container"},c.createElement("div",{className:`rating-circle rating-circle-display\n            ${t(n,i)&&"rating-filled"}`}))))})(e.maxRating),c.createElement("div",{className:"ratings-conversion ratings-conversion-display secondary-text-color"},(()=>{const t=e.name,n=e.value,r=tg(n,t),i=e.ratingDescriptionSuffix;return i?r+i:i})()))},l$=e=>c.createElement("div",{className:"icon-with-string-container"},c.createElement(xc,o({},e.icon)),c.createElement("div",{className:`text-container ${e.textClassName||""}`},e.string));var c$=Object.defineProperty,d$=(e,t,n)=>(((e,t,n)=>{t in e?c$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class u$ extends C.exports.Component{constructor(){super(...arguments),d$(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.securities.lookup[t],r=e||this.props.currentUser.user_id,i=this.props.ideas.loadingCurrentUserIdeas||!(t in this.props.securities.lookup),a=this.props.ideas.ideaList,s=RS(r,t,a);return i||!s||!n||this._isPriceLoading()})),d$(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),d$(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.securities.lookup[t],r=e||this.props.currentUser.user_id,i=this.props.ideas.ideaList,a=RS(r,t,i),s=a.horizon&&0===a.horizon.id,o=a.conviction,l=zS(a),d=this._returnCurrentPrice(),u=HS({idea:a,security:n,currentPrice:d}),h=ng(u,"percentage"),p=l?ng(a.price_target,"price"):null;return c.createElement("span",{className:"security-table-portfolio-idea-cell"},c.createElement("span",{className:"security-table-expected-return-container"},c.createElement("span",{className:"expected-return  "},h),p&&c.createElement("span",{className:"price-target"},c.createElement(l$,{string:p,textClassName:" ",icon:this._returnBullseyeIconProps()}))),s&&c.createElement("span",{className:"security-table-horizon secondary-text-color"},"Short Term"),c.createElement("span",{className:"security-table-conviction"},c.createElement("span",{className:"idea-value secondary-text-color"},c.createElement(o$,{name:"conviction",label:"",value:o,maxRating:5,ratingDescriptionSuffix:" Conviction",hideRatingCircles:!0}))))})),d$(this,"_isAPreviousValueAvailable",(()=>!nk(this._returnCurrentPrice()))),d$(this,"_isPriceLoading",(()=>(!this._returnCurrentPriceData()||this._returnCurrentPriceData().loading)&&!this._isAPreviousValueAvailable())),d$(this,"_returnCurrentPriceData",(()=>this.props.securitiesPrice.securities[this.props.securityId])),d$(this,"_returnCurrentPrice",(()=>this._returnCurrentPriceData()?this._returnCurrentPriceData().current_price:{})),d$(this,"_returnBullseyeIconProps",(()=>({icon:"fa-bullseye",colorClassName:"bullseye-icon-color",size:"small",style:{fontSize:"16px",position:"absolute",top:"0px",left:"-17px"}})))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const h$=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities,securitiesPrice:e.securitiesPrice})),(e=>({actions:I(WC,e)}))))(u$),p$=e=>{const t=D((e=>e.portfolio.positions)),[n,r]=c.useState(t[e]||{});return c.useEffect((()=>{const i=t[e];i!==n&&i&&r(i)}),[t]),n};var m$=Object.defineProperty,g$=(e,t,n)=>(((e,t,n)=>{t in e?m$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);u.div`
  button {
    padding: 0;

    * {
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`;const y$=({securityId:e})=>{const{price:t}=iM(e),{shares:n}=p$(e),{value:r,isLoading:i}=QN(),a=t*n,s=a/r;return 0===n||nk(n)||i||isNaN(a)||null===t||isNaN(t)?null:c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},ng(a,"price")),c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"security-table-allocation-total-value-shares  "},`${ng(n,"shares")} sh`),c.createElement("span",{className:"security-table-allocation-total-value-percentage  "},ng(s,"percentage")))))};class _$ extends C.exports.Component{constructor(){super(...arguments),g$(this,"_isLoading",(()=>{const e=this.props.securityId;return!this.props.securities.lookup[e]||!("name"in this.props.securities.lookup[e])})),g$(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),g$(this,"_renderCellContent",(()=>c.createElement(y$,{securityId:this.props.securityId})))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}var f$=T((e=>({currentUser:WT(e),securities:e.securities,ideas:e.ideas})),(e=>({actions:I(WC,e)})))(_$);const v$=u.div``,E$=u.div``,b$=u.div`
  ${E$} {
    color: ${({increasing:e,neutral:t,decreasing:n,theme:r})=>e?r.themeColors.positive:n?r.themeColors.negative:r.themeColors.neutral};
  }
  ${v$} {
    color: ${({increasing:e,neutral:t,decreasing:n,theme:r})=>e?r.themeColors.positive:n?r.themeColors.negative:r.themeColors.neutral};
    fill: ${({increasing:e,neutral:t,decreasing:n,theme:r})=>e?r.themeColors.positive:n?r.themeColors.negative:r.themeColors.neutral};
  }
`,C$=e=>{let{value:t,valueFormat:n,customClass:r,allowFractional:i,prefix:a,showPlus:s,neutralColorClassName:l,increaseColorClassName:d,decreaseColorClassName:u,neutralIcon:h,increaseIcon:p,decreaseIcon:m,coloredText:g,customDisplayValue:y,customIconCompareValue:_,forceTextColorClassName:f,additionalClasses:v}=e;const E=h||"fa-minus",b=p||"fa-sort-asc",C=m||"fa-sort-desc";l=l||"no-change-text-color",d=d||"increase-change-text-color",u=u||"decrease-change-text-color";const x=e=>0===e?l:e>=0?d:u;let w=y||ng(t,n);i&&(w=t.toLocaleString("en-US",{maximumFractionDigits:4}));const S=o({fontSize:"20px",marginRight:"2px",position:"absolute"},0===t?{fontSize:"12px",top:"2px"}:t>=0?{top:"1px"}:{top:"-7px"}),k=o({},S),T=nk(_)?t:_,I=0===(N=T)?E:N>=0?b:C;var N;const A=g?x(T):"",P=f||A;return a=a||(s&&t>0?"+":""),c.createElement(b$,{increasing:t>0,neutral:0===t,decreasing:t<0,className:`number-with-change-indicator-container ${r||""} ${v||""}`},!e.hideIcon&&c.createElement(v$,{className:`number-with-change-indicator-icon ${x(T)}`},c.createElement(xc,{icon:I,style:k})),c.createElement(E$,{className:`number-with-change-indicator-value ${P} text-node`},`${a||""}${w}${e.suffix||""}`))};var x$=Object.defineProperty,w$=(e,t,n)=>(((e,t,n)=>{t in e?x$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class S$ extends C.exports.Component{constructor(){super(...arguments),w$(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("name"in t)})),w$(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),w$(this,"_renderCellContent",(()=>{const e=this.props.securityId,t=this.props.portfolio.positions[e]||{},n=t.value||0,r=t.shares||0,i=t.allocation_percent||0,a=t.today_profit_loss,s=t.today_profit_loss_percent,o=t.total_profit_loss,l=t.total_profit_loss_percent;return c.createElement("span",{className:"security-table-allocation-and-day-change-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},ng(n,"price")),c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"security-table-allocation-total-value-shares  "},`${ng(r,"smallNumber")} sh`),c.createElement("span",{className:"security-table-allocation-total-value-percentage  "},ng(i,"percentage")))),0!==r&&c.createElement("span",{className:"security-table-current-price-change-container"},c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"text-label"},"Today"),c.createElement("span",{className:"security-table-current-price-change"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"price",value:a,showPlus:!0,coloredText:!0,hideIcon:!0})),c.createElement("span",{className:"security-table-current-price-change-percent"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"percentage",value:s,showPlus:!0,coloredText:!0,hideIcon:!0})))),0!==r&&c.createElement("span",{className:"security-table-total-price-change-container"},c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"text-label"},"Total"),c.createElement("span",{className:"security-table-total-price-change"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"price",value:o,showPlus:!0,coloredText:!0,hideIcon:!0})),c.createElement("span",{className:"security-table-total-price-change-percent"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"percentage",value:l,showPlus:!0,coloredText:!0,hideIcon:!0})))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const k$=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(S$);var T$=Object.defineProperty,I$=(e,t,n)=>(((e,t,n)=>{t in e?T$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const N$=u.div`
  display: flex !important;
  flex-direction: row;
  justify-content: center;
`;class A$ extends C.exports.Component{constructor(e){super(e),I$(this,"_isLoading",(()=>{const e=this._returnSecurity();return!e||!("name"in e)||!this._returnIdea()||this.state.loadingFormData})),I$(this,"_renderInputComponent",(()=>{const e=this.state.inputs;return e.length>0&&Rh.call(this,e[0],null,e[0].name)})),I$(this,"_returnIdea",(()=>this.props.idea)),I$(this,"_returnSecurity",(()=>this.props.securities.lookup[this.props.securityId])),I$(this,"_isSecurityUnfeatured",(()=>!this._returnSecurity().featured)),I$(this,"_renderCellContent",(()=>this._isSecurityUnfeatured()?null:c.createElement(N$,{style:{textAlign:"center"},onClick:this._logEventForOptimizerToggleClick},this._renderInputComponent()))),I$(this,"_logEventForOptimizerToggleClick",(()=>{const e=this._returnSecurity(),t=this._returnIdea().active?"Toggled Idea Inactive":"Toggled Idea Active",n={"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Security Table"};this.props.actions.logMetricsTrackingEvent(t,n)})),I$(this,"_updateCellIdea",(e=>{const t=LS(e.idea_id,this.props.ideas);this.props.actions.updateIdea(e,t)})),I$(this,"_updateFormData",(()=>{const e=this._returnIdea();this.setState((t=>({formData:l(o({},t.formData),{active:e.active}),loadingFormData:!1})))})),this.state={inputs:[{type:jF,typeName:"Switch",name:"active",label:"",required:!0,props:{saveOnChange:this._updateCellIdea,objectType:"idea"}}],formData:{},errors:{},warnings:{},loadingFormData:!0}}componentDidMount(){this._updateFormData()}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const P$=N(T((e=>({ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(A$);u.div`
  .optimizer-good-value-color {
    color: ${({theme:e})=>e.themeColors.positive};
  }
  .optimizer-medium-value-color {
    color: ${({theme:e})=>e.themeColors.warning};
  }
  .optimizer-bad-value-color {
    color: ${({theme:e})=>e.themeColors.negative};
  }
`;const D$="avg_correl",O$="hist_volatility",L$="proj_return",R$=u.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: space-between;

  height: 80px;
`,F$=u.div`
  svg {
    height: 18px;
    width: 18px;

    fill: ${({theme:e,group:t})=>1===t?e.themeColors.negative:2===t?e.themeColors.warning:3===t?e.themeColors.positive:e.themeColors.text};
  }
`,M$=({type:e,group:t})=>e===D$?c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.createElement("path",{d:"M11,2V22C5.9,21.5 2,17.2 2,12C2,6.8 5.9,2.5 11,2M13,2V11H22C21.5,6.2 17.8,2.5 13,2M13,13V22C17.7,21.5 21.5,17.8 22,13H13Z"})):e===O$?c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.createElement("path",{d:"M6.45,17.45L1,12L6.45,6.55L7.86,7.96L4.83,11H19.17L16.14,7.96L17.55,6.55L23,12L17.55,17.45L16.14,16.04L19.17,13H4.83L7.86,16.04L6.45,17.45Z"})):e===L$?c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.createElement("path",{d:"M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z"})):void 0,U$=u.div`
  background: ${({theme:e,group:t})=>e.themeColors.appBackground};
  position: absolute;
  top: -6px;
  right: -8px;

  width: 196px;
`,$$=u.div`
  background: ${({theme:e,group:t})=>1===t?e.themeColors.negative:2===t?e.themeColors.warning:3===t?e.themeColors.positive:e.themeColors.text};

  border: 1px solid ${({theme:e})=>e.themeColors.border};
  border-radius: 5px;
  padding: 1px 8px;
  margin-bottom: 3px;

  ${F$} {
    padding-top: 2px;
    line-height: 1;

    * {
      line-height: 1;
    }
  }

  * {
    color: ${({theme:e,group:t})=>e.themeColors.buttonText} !important;
    fill: ${({theme:e,group:t})=>e.themeColors.buttonText} !important;
  }
`,B$=u.div`
  position: absolute;
  bottom: -25px;
  right: 0px;

  button {
    padding: 2px 6px;
  }
`,z$=({optimizerAnalysisSummaryList:e,securityId:t})=>{const[n,r]=c.useState(!1),[i,a]=c.useState(!1),s=()=>{a(!0)};return c.createElement(R$,{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},(n||i)&&c.createElement(U$,null,e.map((({type:e,group:n,summary:r})=>c.createElement($$,{key:`${r}-${t}`,group:n},c.createElement(Iw,{verticallyCenter:!0,spaceBetween:!0},c.createElement(Ei,null,r),c.createElement(F$,{group:n},c.createElement(M$,{type:e,group:n})))))),i&&c.createElement(B$,null,c.createElement(sx,{secondary:!0,onClick:()=>{a(!1)}},"Hide"))),e.map((({type:e,group:n,summary:r})=>c.createElement(F$,{key:`${e}-${t}`,tabIndex:"0",group:n,onClick:s},c.createElement(M$,{type:e,group:n})))))},V$=u.div`
  > div:first-child {
    height: auto;
    width: auto;

    margin-right: 16px;
    margin-left: 0px;
  }
`,H$=u.span`
  display: block;

  font-size: 24px;
  line-height: 28px;
`,W$=e=>c.createElement(V$,{className:"placing-orders-loading-message-container flex-center-child"},c.createElement(KC,null),c.createElement(H$,null,"Placing Orders")),j$=u.div`
  path {
    fill: ${({theme:e})=>e.themeColors.positive};
  }
`,G$=e=>{const{message:t,customMessageStyle:n,closeBtnText:r,onCloseClick:i}=e;return c.createElement(j$,{className:"success-check-container"},c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 1200"},c.createElement("path",{className:"primary-circle",d:"M400 850c-138.071 0-250-111.929-250-250s111.929-250 250-250 250 111.929 250 250-111.929 250-250 250z"}),c.createElement("path",{className:"ripple-circle",d:"M400 850c-138.071 0-250-111.929-250-250s111.929-250 250-250 250 111.929 250 250-111.929 250-250 250z"}),c.createElement("path",{className:"check-mark",d:"M269.5 592.875l92.5 89.5 169.5-163.75",stroke:"#FFF",strokeWidth:"40",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})),c.createElement("p",{className:"payment-complete-message",style:n||{}},t||"Success"),i&&c.createElement(Iw,{top:38},c.createElement(hx,{onClick:i},r||"Close")))},q$=e=>{const{orderCount:t,requiresApproval:n,handleDismiss:r}=e,i=t>1?"orders":"order";return n?c.createElement("div",{className:"orders-placed-message-container",style:{textAlign:"center"}},c.createElement("div",null,c.createElement("div",{className:"orders-modal-message-container"},c.createElement("div",{className:"heading-icon-container"},c.createElement(xc,{size:"xlarge",icon:"fa-check-circle",colorClassName:"success-text-color"})),c.createElement("div",{style:{marginTop:"4px"}},c.createElement("p",{className:"main-message"},`Your ${i} were placed successfully, and are awaiting approval.`)),c.createElement("div",{style:{marginTop:"10px",marginBottom:"6px"}},c.createElement("p",{className:"sub-message secondary-text-color"},`We will let you know when the approval status of the ${i} are updated.`)))),c.createElement("div",{className:"orders-modal-message-action-container"},c.createElement(hx,{transparent:!0,onClick:r},"Close"))):c.createElement("div",{className:"orders-placed-message-container"},c.createElement(G$,{message:`${ck(i)} placed`,closeBtnText:"Continue",onCloseClick:r,customMessageStyle:{marginTop:"-30px",fontSize:"24px"}}))},Y$=e=>{const{ordersCount:t,isOptimizedOrder:n,warnings:r,handleAcceptAllWarnings:i,handleCancel:a}=e,[s,o]=C.exports.useState(0),l=s+1,d=r.length,u=d>1,h=r[s],{message:p,type:m}=h,g=(e=>{const r=1===t?"order":"orders",i=1===t?"it":"them";return{market_closed:n?`Click "Place Anyway" if you want ${i} to be sent automatically when the market reopens. If the ${r} came from the Optimizer, consider re-running the Optimizer when the market is open instead.`:`Place the ${r} again if you want ${i} to be sent automatically when the market reopens.`}[e]||null})(m),y={market_closed:"The market is open from 9:30am ET to 4pm ET on weekdays except holidays."}[m]||null;return c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},u&&c.createElement("p",{className:"order-warning-count"},`${l} of ${d}`),c.createElement("p",null,p),y&&c.createElement("p",null,y),g&&c.createElement("p",null,g),c.createElement(Iw,{className:"modal-confirmation-buttons-container",row:!0,centerAll:!0},c.createElement(hx,{onClick:()=>{s+1===d?i(r):o((e=>e+1))}},"Place Anyway"),c.createElement(hx,{transparent:!0,onClick:a},"Don't Place")))},K$=e=>{const{errors:t,closeBtnText:n,onCloseClick:r}=e;return c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},t.map(((e,t)=>c.createElement("p",{key:t,style:{fontSize:"16px"}},e))),c.createElement("div",{style:{marginTop:"15px"}},c.createElement(hx,{transparent:!0,onClick:r},n||"Close")))};var Q$=Object.defineProperty,Z$=(e,t,n)=>(((e,t,n)=>{t in e?Q$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class X$ extends c.PureComponent{constructor(){super(...arguments),Z$(this,"_renderWithOverlay",(()=>c.createElement(sR,{onClick:this.handleClick},this._renderPanel()))),Z$(this,"_renderWithoutOverlay",(()=>this._renderPanel())),Z$(this,"_renderPanel",(()=>{const{windowHeight:e,windowWidth:t,childrenWithWindowSize:n,children:r,className:i}=this.props;return c.createElement("div",{className:`panel-container fade-in-up component-bg ${i}`,style:this._returnPanelStyling()},c.createElement("div",{className:"scroll-panel-container"},n?r(e,t):r))})),Z$(this,"_returnPanelStyling",(()=>o(o({},this.props.heightPercentage?{height:this._returnPanelHeight()}:{}),this.props.style||{}))),Z$(this,"_returnPanelHeight",(()=>this.props.windowHeight*(this.props.heightPercentage||1)+"px")),Z$(this,"_useWithoutOverlay",(()=>this.props.withoutOverlay)),Z$(this,"handleClick",(()=>{this.props.handleOverlayClick&&this.props.handleOverlayClick()}))}render(){return this._useWithoutOverlay()?this._renderWithoutOverlay():this._renderWithOverlay()}}X$.defaultProps={className:""};var J$=Xk(X$);const eB=e=>{const{width:t,additionalClasses:n}=e;return t>0?c.createElement("div",{className:`gradient-border-container ${n||""}`,style:{width:`${t}px`}},c.createElement("div",{className:"gradient-border"})):null};var tB=Object.defineProperty,nB=(e,t,n)=>(((e,t,n)=>{t in e?tB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class rB extends c.PureComponent{constructor(e){super(e),nB(this,"_handleResize",(()=>{const e=window.$(this.Heading).width();this.setGradientWidth(e)})),nB(this,"setGradientWidth",(e=>{this.setState((()=>({gradientWidth:e})))})),this.state={gradientWidth:0}}componentDidMount(){this._handleResize(),window.addEventListener("resize",this._handleResize)}render(){const{text:e,additionalClasses:t}=this.props,{gradientWidth:n}=this.state;return c.createElement("span",{className:`heading-with-gradient-line ${t||""}`},c.createElement("span",{ref:e=>this.Heading=e},e),c.createElement(eB,{width:n}))}}var iB=Object.defineProperty,aB=(e,t,n)=>(((e,t,n)=>{t in e?iB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class sB extends C.exports.Component{constructor(){super(...arguments),aB(this,"_renderChildrenWithSecurityDataProps",(()=>c.Children.map(this.props.children,(e=>c.cloneElement(e,this.returnSecurityDataProps()))))),aB(this,"returnSecurityDataProps",(()=>l(o({isLoading:this.isLoading(),securityId:this._returnSecurityId()},this._returnSecurity()),{security:this._returnSecurity()}))),aB(this,"isLoading",(e=>!(e||this.props).securityId||!("name"in this._returnSecurity(e)))),aB(this,"_shouldHideWhenLoading",(()=>this.props.hideWhenLoading)),aB(this,"_useLoadingComponent",(()=>this.props.useLoadingComponent||this.props.customLoadingComponent)),aB(this,"_returnSecurityId",(()=>this.props.securityId)),aB(this,"_getSecurityData",(()=>this.props.actions.quickFetchSecuritiesData([this._returnSecurityId()]))),aB(this,"_returnSecurity",(e=>this._returnSecuritiesLookup(e)[this._returnSecurityId()]||{})),aB(this,"_returnSecuritiesLookup",(e=>this._returnSecuritiesStore(e).lookup)),aB(this,"_returnSecuritiesStore",(e=>(e||this.props).securities)),aB(this,"_onLoadComplete",(()=>this.props.onLoadComplete&&this.props.onLoadComplete()))}componentDidMount(){(this.props.getSecurityData||this.props.getSecurityDataIfNeeded)&&(!this.props.getSecurityDataIfNeeded||this.props.getSecurityDataIfNeeded&&!this.isLoading())?this._getSecurityData().then((e=>{this._onLoadComplete()})):this._onLoadComplete()}shouldComponentUpdate(e){if(this._returnSecurity()!=this._returnSecurity(e))return!0;return!!xk(this.props,e,["actions","securities"])}render(){return this.isLoading()&&this._useLoadingComponent()?this.props.customLoadingComponent||c.createElement(_e,{icon:"fading-3balls",size:"small"}):this.isLoading()&&this._shouldHideWhenLoading()?null:c.createElement("span",{className:"basic-security-data-wrapper"},this._renderChildrenWithSecurityDataProps())}}var oB=T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)})))(sB),lB=Object.defineProperty,cB=(e,t,n)=>(((e,t,n)=>{t in e?lB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class dB extends C.exports.Component{constructor(e){super(e),cB(this,"_renderChildrenWithThoughtDataProps",(()=>c.Children.map(this.props.children,(e=>c.cloneElement(e,this._isUsingSingleThoughtData()?this.returnSingleThoughtDataChildrenProps():this.isLoading()?this.returnLoadingThoughtDataChildrenProps():this.returnThoughtDataChildrenProps()))))),cB(this,"_isUsingSingleThoughtData",(()=>this.props.thoughtId)),cB(this,"returnLoadingThoughtDataChildrenProps",(()=>l(o({},this.props),{thoughtsStore:this._returnThoughtsStore(),security:this._returnSecurity(),securityId:this._returnSecurityId(),isLoading:this.isLoading()}))),cB(this,"returnSingleThoughtDataChildrenProps",(()=>l(o({},this.props),{isLoading:this.isLoading(),thought:this.returnSingleThoughtData(),thoughtId:this._returnThoughtId(),security:this._returnSecurity(),securityId:this._returnSecurityId(),thoughtsStore:this._returnThoughtsStore()}))),cB(this,"returnThoughtDataChildrenProps",(()=>l(o({},this.props),{thoughtsStore:this._returnThoughtsStore(),security:this._returnSecurity(),securityId:this._returnSecurityId(),isLoading:this.isLoading(),isThoughtDataLoading:this._isThoughtDataLoading(),isThoughtDataAvailable:this._isThoughtDataAvailable(),areNoThoughtsForSecurity:this._areNoThoughtsForSecurity(),areProThoughts:this._areProThoughts(),areConThoughts:this._areConThoughts(),areNoCurrentUserThoughtsForSecurity:this._areNoCurrentUserThoughtsForSecurity(),areCurrentUserProThoughts:this._areCurrentUserProThoughts(),areCurrentUserConThoughts:this._areCurrentUserConThoughts(),currentUserPros:this._returnSortedCurrentUserPros(),currentUserCons:this._returnSortedCurrentUserCons(),allThoughtsForSecurity:this._returnAllThoughtsForSecurity(),pros:this._returnProThoughts(),cons:this._returnConThoughts(),sortedPros:this._returnSortedProThoughts(),sortedCons:this._returnSortedConThoughts()}))),cB(this,"_handleSortChange",(()=>{this._sortAndSaveThoughts()})),cB(this,"isLoading",(e=>!this._isThoughtDataAvailable(e)||this._isThoughtDataLoading(e))),cB(this,"_getThoughtData",(()=>{this.props.actions.fetchThoughts([this._returnSecurityId()]).then((e=>{e&&e.data&&e.data.thoughts&&this._onThoughtLoad()}))})),cB(this,"_returnSecurity",(()=>this.props.security)),cB(this,"_returnSecurityId",(()=>this._returnSecurity().security_id||this.props.securityId)),cB(this,"_returnIdea",(()=>this.props.idea)),cB(this,"_shouldShowAsThoughtsInIdea",(()=>this.props.showAsThoughtsInIdea)),cB(this,"_returnCurrentUserConnectionUserIds",(e=>{const t=this._returnCurrentUserId(),n=this._returnUserConnectionStore(e);return t in n||Mk("User connections data not found in connection store",{connectionStore:n}),n[t].connections||[]})),cB(this,"_returnUserConnectionStore",(e=>(e||this.props).userConnections.userDict)),cB(this,"_returnCurrentUser",(()=>this.props.currentUser)),cB(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),cB(this,"_isUserAuthed",(()=>"user_id"in this._returnCurrentUser())),cB(this,"_returnThoughtsStore",(e=>(e||this.props).thoughts)),cB(this,"_returnThoughtsSecurityLookup",(e=>this._returnThoughtsStore(e).securityLookup)),cB(this,"_returnThoughtSecurityData",(e=>this._returnThoughtsSecurityLookup(e)[this._returnSecurityId()]||{})),cB(this,"_returnSecurityThoughtLookup",(e=>this._returnThoughtSecurityData(e).thoughtLookup||null)),cB(this,"_isThoughtDataLoading",(e=>this._returnThoughtSecurityData(e).loading)),cB(this,"_isThoughtDataAvailable",(e=>!nk(this._returnSecurityThoughtLookup(e)))),cB(this,"_isAConnectionThoughtOrOwnThought",(e=>[...e.agree_user_ids,...e.disagree_user_ids].some((e=>[this._returnCurrentUserId(),...this._returnCurrentUserConnectionUserIds()].includes(e))))),cB(this,"_isUsersThought",((e,t)=>[...e.agree_user_ids,...e.disagree_user_ids].some((e=>t===e)))),cB(this,"_filterNonConnectionThoughts",((e,t)=>t.filter((e=>this._isAConnectionThoughtOrOwnThought(e))))),cB(this,"_filterOnlyShowUserThoughts",((e,t)=>{const{viewpointOrgId:n,userId:r,id:i}=e;return"ctl"===i?t.filter((e=>au(e))):"viewpoints"===i?t.filter((e=>lu(e))):nk(n)?t.filter((e=>this._isUsersThought(e,r))):t.filter((e=>ou(e)===n))})),cB(this,"_convertThoughtFilterToFilterFunc",(e=>({include_community_thoughts_filter:this._filterNonConnectionThoughts,thoughts_from_filter_user_id:this._filterOnlyShowUserThoughts}[e.name]||console.error(`Thought filter: ${e.name}, does not exist`,e)))),cB(this,"_didThoughtFiltersChange",(e=>!(!this._returnThoughtFilters(e)||!this._returnThoughtFilters())&&(this._returnThoughtFilters(e).length!==this._returnThoughtFilters().length||(!!(this._returnThoughtFilters(e).length>0&&this._returnThoughtFilters(e).every(((e,t)=>JSON.stringify(e)!==JSON.stringify(this._returnThoughtFilters()[t]))))||!!(this._returnThoughtFilters().length>0&&this._returnThoughtFilters().every(((t,n)=>JSON.stringify(t)!==JSON.stringify(this._returnThoughtFilters(e)[n])))))))),cB(this,"_returnThoughtFilters",(e=>(e||this.props).filterBy)),cB(this,"_applyThoughtFilters",(e=>{const t=this._returnThoughtFilters();if(!t)return e;let n=e;return t.forEach((t=>{const r=this._convertThoughtFilterToFilterFunc(t);n=r(t.data,e)})),n})),cB(this,"_returnSortOption",(e=>(e||this.props).sortBy||this._returnDefaultSortOption())),cB(this,"_returnDefaultSortOption",(()=>"currentUserNewThoughtsThenBestAgreeDisagreeDifferential")),cB(this,"_returnSortedProThoughts",(()=>this.state.proThoughtsOrderedList)),cB(this,"_returnSortedConThoughts",(()=>this.state.conThoughtsOrderedList)),cB(this,"returnSingleThoughtData",(()=>this._returnAllThoughtsForSecurity().filter((e=>e.id===this._returnThoughtId()))[0]||null)),cB(this,"_returnThoughtId",(()=>this.props.thoughtId||Uk("No thoughtId was supplied",!0,{props:this.props}))),cB(this,"_returnAllThoughtsForSecurity",(e=>{const t=this._returnSecurityThoughtLookup(e);if(!t)return(e||this.props).getThoughtData||Mk(`No thought data present for security: ${this._returnSecurityId()}`),[];return Object.keys(t).map((e=>t[e]))})),cB(this,"_filterThoughtsByUser",((e,t)=>t.filter((t=>t.agree_user_ids.includes(e)||t.disagree_user_ids.includes(e))))),cB(this,"_returnThoughtsForSecurity",(e=>this._shouldShowUserThoughtsOnly()?this._filterThoughtsByUser(this._returnFilterThoughtsByUserId(),this._returnAllThoughtsForSecurity(e)):this._returnAllThoughtsForSecurity(e))),cB(this,"_filterThoughtsForPros",(e=>e.filter((e=>0===e.thought_type.id)))),cB(this,"_filterThoughtsForCons",(e=>e.filter((e=>1===e.thought_type.id)))),cB(this,"_returnProThoughts",(e=>this._filterThoughtsForPros(this._returnThoughtsForSecurity(e)))),cB(this,"_returnConThoughts",(e=>this._filterThoughtsForCons(this._returnThoughtsForSecurity(e)))),cB(this,"_returnCurrentUserPros",(()=>this._filterThoughtsByUser(this._returnCurrentUserId(),this._returnProThoughts()))),cB(this,"_returnCurrentUserCons",(()=>this._filterThoughtsByUser(this._returnCurrentUserId(),this._returnConThoughts()))),cB(this,"_returnCountForProThoughts",(e=>this._returnProThoughts(e).length)),cB(this,"_returnCountForConThoughts",(e=>this._returnConThoughts(e).length)),cB(this,"_returnCountForCurrentUserProThoughts",(()=>this._returnCurrentUserPros().length)),cB(this,"_returnCountForCurrentUserConThoughts",(()=>this._returnCurrentUserCons().length)),cB(this,"_areThoughtsFor",(e=>"pro"===e?this._areProThoughts():this._areConThoughts())),cB(this,"_areProThoughts",(()=>this._returnCountForProThoughts()>0)),cB(this,"_areConThoughts",(()=>this._returnCountForConThoughts()>0)),cB(this,"_areCurrentUserProThoughts",(()=>this._returnCountForCurrentUserProThoughts()>0)),cB(this,"_areCurrentUserConThoughts",(()=>this._returnCountForCurrentUserConThoughts()>0)),cB(this,"_areNoThoughtsForSecurity",(()=>!this._areProThoughts()&&!this._areConThoughts())),cB(this,"_areNoCurrentUserThoughtsForSecurity",(()=>!this._areCurrentUserProThoughts()&&!this._areCurrentUserConThoughts())),cB(this,"_returnFilterThoughtsByUserId",(()=>this.props.userId)),cB(this,"_shouldShowUserThoughtsOnly",(()=>!!this._returnFilterThoughtsByUserId())),cB(this,"_returnDefaultSortedThoughtsFor",(e=>"pro"===e?this._returnDefaultSortedProThoughts():this._returnDefaultSortedConThoughts())),cB(this,"_returnDefaultSortedProThoughts",(()=>this._sortThoughtsBy("currentUserNewThoughtsThenBestAgreeDisagreeDifferential",this._returnProThoughts()))),cB(this,"_returnDefaultSortedConThoughts",(()=>this._sortThoughtsBy("currentUserNewThoughtsThenBestAgreeDisagreeDifferential",this._returnConThoughts()))),cB(this,"_returnSortedCurrentUserPros",(()=>this._sortThoughtsBy("currentUserNewThoughtsThenBestAgreeDisagreeDifferential",this._returnCurrentUserPros()))),cB(this,"_returnSortedCurrentUserCons",(()=>this._sortThoughtsBy("currentUserNewThoughtsThenBestAgreeDisagreeDifferential",this._returnCurrentUserCons()))),cB(this,"_filterAndSortThoughtsForNewCurrentUserPosts",(e=>e.filter((e=>e.showAtTop)).sort(((e,t)=>e.id>t.id?-1:e.id<t.id?1:0)))),cB(this,"_filterAndSortThoughtsForNonNewCurrentUserPosts",(e=>{const t=e.filter((e=>!e.showAtTop));return this._sortThoughtsForBestAgreeDisagreeDifferential(t)})),cB(this,"_sortThoughtsForBestAgreeDisagreeDifferential",(e=>e.sort(((e,t)=>{const n=e.agree_count,r=n-e.disagree_count,i=t.agree_count,a=i-t.disagree_count;return r>a?-1:r<a?1:r===a&&n>i?-1:r===a&&n<i?1:0})))),cB(this,"_sortThoughtsForMostRecent",(e=>e.sort(((e,t)=>t.posted_at_timestamp-e.posted_at_timestamp)))),cB(this,"_sortThoughtsBy",((e,t)=>{if(!["currentUserNewThoughtsThenBestAgreeDisagreeDifferential","bestAgreeDisagreeDifferential","mostRecent"].includes(e))return console.error(`${e} is not a valid sort option`);if("currentUserNewThoughtsThenBestAgreeDisagreeDifferential"===e){return[...this._filterAndSortThoughtsForNewCurrentUserPosts(t),...this._filterAndSortThoughtsForNonNewCurrentUserPosts(t)]}return"bestAgreeDisagreeDifferential"===e?this._sortThoughtsForBestAgreeDisagreeDifferential(t):"mostRecent"===e?this._sortThoughtsForMostRecent(t):t})),cB(this,"_didThoughtDataLoad",(e=>{const t=!this._isThoughtDataAvailable(e)&&this._isThoughtDataAvailable(),n=this._isThoughtDataLoading(e)&&!this._isThoughtDataLoading();return t||n})),cB(this,"_didThoughtCountChange",(e=>{if(!this._isThoughtDataAvailable(e)||!this._isThoughtDataAvailable())return!1;return this._returnCountForProThoughts(e)+this._returnCountForConThoughts(e)!==this._returnCountForProThoughts()+this._returnCountForConThoughts()})),cB(this,"_onThoughtLoad",(()=>{this._sortAndSaveThoughts()})),cB(this,"_onThoughtCountChange",(e=>{this._sortAndSaveThoughts()})),cB(this,"_saveAllThoughtsListOrder",(()=>{const e=this._applyThoughtFilters(this._sortThoughtsBy(this._returnSortOption(),this._returnProThoughts())),t=this._applyThoughtFilters(this._sortThoughtsBy(this._returnSortOption(),this._returnConThoughts()));this.setState((()=>({proThoughtsOrderedList:e,conThoughtsOrderedList:t})))})),cB(this,"_sortAndSaveThoughts",(()=>{this._saveAllThoughtsListOrder()})),this.state={proThoughtsOrderedList:[],conThoughtsOrderedList:[]}}componentDidMount(){this.props.getThoughtData&&this._getThoughtData()}componentDidUpdate(e,t){this._didThoughtCountChange(e)&&this._onThoughtCountChange(e),this._returnSortOption(e)!==this._returnSortOption()&&this._handleSortChange(),this._didThoughtFiltersChange(e)&&this._handleSortChange()}render(){return c.createElement("div",{className:"thoughts-data-container"},this._renderChildrenWithThoughtDataProps())}}var uB=T((e=>({currentUser:e.currentUser,userConnections:e.userConnections,thoughts:e.thoughts})),(e=>({actions:I(WC,e)})))(dB),hB=Object.defineProperty,pB=(e,t,n)=>(((e,t,n)=>{t in e?hB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const mB=u.div`
  width: 300px;
  margin: 0 auto;

  .tabbed-container-tabs {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
  }
`,gB=u.div`
  cursor: pointer;

  font-size: 18px;
  line-height: 24px;
  width: 150px;
  height: 48px;

  border-top-left-radius: ${({theme:e,thoughtType:t})=>"pro"===t?"5px":"0"};
  border-top-right-radius: ${({theme:e,thoughtType:t})=>"pro"===t?"0":"5px"};
  border-bottom-right-radius: ${({theme:e,thoughtType:t})=>"pro"===t?"0":"5px"};
  border-bottom-left-radius: ${({theme:e,thoughtType:t})=>"pro"===t?"5px":"0"};

  border: 2px solid;
  border-color: ${({theme:e,isActive:t})=>t?e.themeColors.primaryCtaButton:e.themeColors.border};
  background-color: ${({theme:e,isActive:t})=>t?e.themeColors.primaryCtaButton:e.themeColors.appBackground};
  color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  * {
    color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  }

  * {
    color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  }

  text-transform: uppercase;

  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    color: ${({theme:e,isActive:t})=>t?e.themeColors.buttonText:e.themeColors.primaryCtaButton};
  }
`,yB=({thoughtType:e,isActive:t,handleClick:n})=>c.createElement(gB,{thoughtType:e,isActive:t,onClick:n},c.createElement("span",null,e+"s"));class _B extends C.exports.Component{constructor(e){super(e),pB(this,"renderTabs",(()=>c.createElement("div",{className:"tabbed-container-tabs"},this._returnTabs().map(((e,t)=>this.renderTab({key:`${e.name}-tab`,keyName:`${e.name.toLowerCase()}-tab`,marginLeft:0===t?(100-this.determineTabWidth()*this._returnTotalTabs())/2:0,width:this.determineTabWidth(),isActive:this._isTabActive(e.name),name:e.name,activeCustomStyle:e.activeCustomStyle,handleClick:this.handleTabClick,render:e.render}))),c.createElement("div",{className:"tabbed-border-line border-accent"})))),pB(this,"renderTab",(e=>{const{name:t,isActive:n,key:r,keyName:i,width:a,marginLeft:s,activeCustomStyle:o,handleClick:l,thoughtType:d,render:u}=e;return c.createElement(yB,{key:r,thoughtType:t,isActive:n,handleClick:()=>l(t)})})),pB(this,"_returnDefaultActiveTab",(()=>this.props.defaultActiveTab||"pro")),pB(this,"_returnActiveTab",(()=>this.state.activeTab||this._returnDefaultActiveTab())),pB(this,"_isTabActive",(e=>this._returnActiveTab()===e)),pB(this,"_returnActiveTabIndex",(()=>this._returnTabs()[0].name===this._returnActiveTab()?0:1)),pB(this,"_returnTabs",(()=>this.props.tabs)),pB(this,"_returnTotalTabs",(()=>this._returnTabs().length)),pB(this,"renderActiveTabContent",(()=>this.props.contentComponents[this._returnActiveTabIndex()])),pB(this,"handleTabClick",(e=>{this.props.handleTabClickAdditionalAction&&this.props.handleTabClickAdditionalAction(e),this._setTab(e)})),pB(this,"_setTab",(e=>{this.setState((()=>({activeTab:e})))})),pB(this,"determineTabWidth",(()=>{const e=this.props.tabs;Object.keys(e).map((t=>e[t]));const t=this._returnTotalTabs();return this.state.width>531?70/t:this.state.width>471?80/t:this.state.width>411?90/t:96/t})),pB(this,"handleResize",(()=>{this.setState({width:"tabbedContainer"in this&&this.tabbedContainer&&this.tabbedContainer.offsetWidth||450})})),this.state={activeTab:null,width:null}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){!e.forceTab&&this.props.forceTab&&this._setTab(this.props.forceTab)}render(){return c.createElement("div",{className:"tabbed-container",ref:e=>{this.tabbedContainer=e}},c.createElement(mB,null,this.renderTabs()),this.renderActiveTabContent())}}const fB=e=>{const t=e.id||"thumbs-up",n="#fff",r="#fff",i=e.height||"20px",a=e.width||"20px";return c.createElement("svg",{className:"thumbs-up-svg",height:i,width:a,viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.createElement("title",null,"Thumbs Up"),c.createElement("defs",null),c.createElement("g",{id:`g-${t}`,stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("rect",{id:`rect-${t}`,fillOpacity:"0",x:"0",y:"0",width:"16",height:"16"}),c.createElement("path",{id:`cuff-${t}`,d:"M7,16.0606602 C7,16.3368025 7.22385763,16.5606602 7.5,16.5606602 L15.5553824,16.5606602 C15.7680548,16.5606602 15.9574546,16.4261291 16.0274917,16.2253198 L18.9920746,7.72531984 C19.0105369,7.67238503 19.0199653,7.6167222 19.0199653,7.56066017 C19.0199653,7.2845178 18.7961076,7.06066017 18.5199653,7.06066017 L12.3229302,7.06066017 L13.4439759,3.41891142 C13.5969614,2.92193395 13.4816454,2.38117663 13.1392287,1.98984316 L12.9987117,1.8292523 C12.9811037,1.80960703 12.9811037,1.80960703 12.9625785,1.79082419 C12.6733646,1.504505 12.2068028,1.50685161 11.9204836,1.7960655 L7.14467288,6.62015984 C7.05199041,6.71377933 7,6.84019352 7,6.97193055 L7,16.0606602 Z",stroke:r,fill:n}),c.createElement("path",{id:`hand-${t}`,d:"M2,7 C1.72385763,7 1.5,7.22385763 1.5,7.5 L1.5,15.9998859 C1.5,16.2760282 1.72385763,16.4998859 1.99999981,16.4998859 L3.99999197,16.4998851 C4.2761342,16.4998851 4.49999176,16.2760277 4.49999197,15.9998854 L4.5,7.49999924 C4.5,7.22385686 4.27614237,6.99999924 4.00000019,6.99999924 L2.00000019,7 Z",stroke:r,fill:n})))},vB=e=>{const t=e.id||"thumbs-up",n="#fff",r="#fff",i=e.height||"20px",a=e.width||"20px";return c.createElement("svg",{className:"thumbs-down-svg",height:i,width:a,viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.createElement("title",null,"Thumbs Down"),c.createElement("defs",null),c.createElement("g",{id:`g-${t}`,stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("rect",{id:`rect-${t}`,fillOpacity:"0",fill:"#FFFFFF",x:"0",y:"0",width:"16",height:"16"}),c.createElement("path",{id:`cuff-${t}`,d:"M16.5,2.5 C16.2238576,2.5 16,2.72385763 16,3 L16,11.4998859 C16,11.7760282 16.2238576,11.9998859 16.4999998,11.9998859 L18.499992,11.9998851 C18.7761342,11.9998851 18.9999918,11.7760277 18.999992,11.4998854 L19,2.99999924 C19,2.72385686 18.7761424,2.49999924 18.5000002,2.49999924 L16.5000002,2.5 Z",stroke:r,fill:n,transform:"translate(17.500000, 7.250000) scale(-1, -1) translate(-17.500000, -7.250000) "}),c.createElement("path",{id:`hand-${t}`,d:"M1.5,17 C1.5,17.2761424 1.72385763,17.5 2,17.5 L10.0553824,17.5 C10.2680548,17.5 10.4574546,17.3654689 10.5274917,17.1646597 L13.4920746,8.66465966 C13.5105369,8.61172486 13.5199653,8.55606203 13.5199653,8.5 C13.5199653,8.22385763 13.2961076,8 13.0199653,8 L6.87669197,8 L7.78181697,3.92693751 C7.88803948,3.44893623 7.74268962,2.9497964 7.39644661,2.60355339 C7.17749519,2.38460197 6.82250481,2.38460197 6.60355339,2.60355339 L1.64644661,7.56066017 C1.55267842,7.65442836 1.5,7.78160532 1.5,7.91421356 L1.5,17 Z",stroke:r,fill:n,transform:"translate(7.509983, 9.969670) scale(-1, -1) translate(-7.509983, -9.969670) "})))},EB=e=>{const{linkTo:t,ideaType:n}=e,r=!("withLink"in e)||e.withLink,i=e.size||"small";let a=o(o({},_P(i,0).user_initials_container),_P(i,0).profile_avatar_container);a.paddingTop="1px";const s=c.createElement(xc,{icon:"fa-users"}),d=c.createElement("span",{className:"default-avatar-text-container",style:l(o({},a),{height:"100%",width:"100%",color:"#fff",fontWeight:600})},s),u={className:`avatar-container default-avatar-container avatar-${i}  `,style:o(o({},_P(i,0).profile_avatar_container),r?{}:{cursor:"default"})};if(r){const e=t;u.to=e}return u.onMouseEnter=()=>e.handleMouseOver&&e.handleMouseOver(),u.onMouseLeave=()=>e.handleMouseOut&&e.handleMouseOut(),c.createElement(r?A:"div",u,(h=d,c.createElement("span",{className:"avatar-wrapper"},c.createElement("span",{className:"inner-avatar-border",style:{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",borderRadius:"200px"}},c.createElement("span",{className:"inner-avatar-container",style:{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",borderRadius:"200px"}},h)),n&&c.createElement("div",{className:"drop-shadow-container"},c.createElement("div",{className:"drop-shadow-container-top"},c.createElement("div",{className:"drop-shadow-bottom "+(n&&"buy"===n.toLowerCase()?"drop-shadow-green":"drop-shadow-red")})),c.createElement("div",{className:"drop-shadow-container-bottom"},c.createElement("div",{className:"drop-shadow-top "+(n&&"buy"===n.toLowerCase()?"drop-shadow-green":"drop-shadow-red")}))))));var h},bB=e=>{const{opinionType:t,userIds:n,totalCount:r,isCTLThought:i,isSocialStyle:a}=e,s=`${ck(t)}d`,o="agree"===t,l=r-n.length;return c.createElement("div",{className:"thought-notification-user-row "+(o?"is-agree":"is-disagree"),style:{display:"flex",flexDirection:"row"}},c.createElement("div",{className:"user-avatars-container"},c.createElement(KL,{userIds:n,maxShowIdCount:4,profileLinkQuery:`?context=${Yg}`,additionalCount:l,additionalListItem:l>0?c.createElement("li",{className:""},c.createElement("div",{className:"user-container"},c.createElement(EB,{withLink:!1}),c.createElement("div",{className:"user-name-container   text-decoration-none ignore-pointer"},`${l} Community Member${l>1?"s":""}`))):null,showEllipsisUserListAfter:!0})),c.createElement("div",{className:"thought-opinion-label",onClick:()=>{TC("Click Non Agree/ Disagree Button",{"Is CTL Thought":i,"Is Agree":o,"Is Social Style":a})()}},c.createElement("div",{className:"thought-opinion-string  "},s)))},CB=u.div`
  display: flex;
  flex-direction: row;

  & > .thought-notification-user-row {
    width: 50%;
  }

  @media (max-width: 500px) {
    flex-direction: column;
    & > .thought-notification-user-row {
      width: 100%;
    }
  }
`,xB=e=>{const{thought:t,isSocialStyle:n,agreeUserIds:r,communityAgreeCount:i,disagreeUserIds:a,communityDisagreeCount:s}=e,o=!!t&&au(t);return(i>0||s>0)&&c.createElement(CB,null,i>0&&c.createElement(bB,{userIds:r,totalCount:i,opinionType:"agree",isCTLThought:o,isSocialStyle:n}),s>0&&c.createElement(bB,{userIds:a,totalCount:s,opinionType:"disagree",isCTLThought:o,isSocialStyle:n}))};var wB=T(((e,t)=>{const{securityId:n,thoughtId:r}=t,i=e.thoughts.securityLookup,a=i[n]&&i[n].thoughtLookup;if(!a)return{thought:null};return{thought:a[r]}}))((e=>{const{thought:t,children:n}=e;return n(t)})),SB="/app/assets/chart-up-green.5b7e364f.png",kB=Object.defineProperty,TB=(e,t,n)=>(((e,t,n)=>{t in e?kB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class IB extends C.exports.Component{constructor(){super(...arguments),TB(this,"_renderUserList",(()=>{const e=this._returnUserIds(),t=this._returnCount(),n=e.map((e=>this._renderUserName(e))),r=this._renderCommunityCount();return t>0?c.createElement("div",{className:"thought-user-opinion-user-list"},n,r):c.createElement("div",{className:"thought-user-opinion-user-list secondary-text-color"},"There are no responses yet.")})),TB(this,"_renderUserName",(e=>c.createElement(gP,{userId:e,key:`thought-opinion-user-${e}`},c.createElement(WL,{withLink:!1})))),TB(this,"_renderCommunityCount",(()=>{const e=this._returnCommunityUserCount();return e>0&&c.createElement("div",{className:"user-container"},c.createElement("div",{className:"user-name-container secondary-text-color"},`${e} Community Member${e>1?"s":""}`))})),TB(this,"_renderCloseIcon",(()=>c.createElement(aS,{customClass:"dismiss-btn",icon:"fa fa-times fa-times-thin",colorClassName:"secondary-text-color",size:"medium",handleClick:this.props.hideTooltip}))),TB(this,"_shouldAutoFocus",(()=>this.props.autoFocus)),TB(this,"_isTheSpacer",(()=>this.props.isSpacer)),TB(this,"_autoFocus",(()=>{this._$returnNode().focus()})),TB(this,"_returnNode",(()=>this.Container)),TB(this,"_$returnNode",(()=>$(this._returnNode()))),TB(this,"_returnUserIds",(()=>this.props.opinionUserIds)),TB(this,"_returnCount",(()=>this.props.opinionCount)),TB(this,"_returnCommunityUserCount",(()=>this._returnCount()-this._returnUserIds().length))}componentDidMount(){this._shouldAutoFocus()&&this._autoFocus()}render(){return c.createElement("div",{ref:e=>{this.Container=e},tabIndex:"-1",className:"thought-users-container component-bg border-accent "+(this._isTheSpacer()?"spacer":""),onBlur:this.props.hideTooltip},this._renderCloseIcon(),this._renderUserList())}}var NB=Object.defineProperty,AB=(e,t,n)=>(((e,t,n)=>{t in e?NB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const PB=u.div`
  cursor: pointer;
  text-align: center;

  .button-text {
    vertical-align: unset;
    display: flex !important;
    flex-direction: row;
    justify-content: center;
    align-items: center;

    text-transform: uppercase;

    .fa-icon-small {
      font-size: 16px !important;
    }
  }

  &.disagree,
  &.agree {
    border-radius: 5px;

    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};

    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
    }

    &.selected {
      background-color: transparent;
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};

      * {
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      }
    }

    &.selected-alternative {
      background-color: transparent;
      border: none;
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};

      * {
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      }
      &:hover {
        background-color: transparent;
        opacity: 0.8;
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};

        * {
          color: ${({theme:e})=>e.themeColors.primaryCtaButton};
        }
      }
    }

    &:hover {
      background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      color: ${({theme:e})=>e.themeColors.buttonText};
      opacity: 0.8;

      * {
        color: ${({theme:e})=>e.themeColors.buttonText};
      }

      &.selected {
        background-color: transparent;
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};
        opacity: 1;

        * {
          color: ${({theme:e})=>e.themeColors.primaryCtaButton};
        }
      }
    }
  }
`;class DB extends C.exports.Component{constructor(){super(...arguments),AB(this,"_renderDisplayText",(()=>{const{opinion:e,userOpinion:t,hasSelectedOpinion:n}=this.props;return c.createElement("span",{className:`button-text ${e===t||n?"eye-catching-link-text-color":""} ${this._isActionAvailable()?"":"selected"}`},!this._isActionAvailable()&&c.createElement(xc,{size:"small",icon:"fa-check-circle",colorClassName:"eye-catching-link-text-color",style:{margin:"0 8px"}}),this._returnDisplayText())})),AB(this,"_returnDisplayText",(()=>{if(this._shouldShowDefaultStyle()){const{opinion:e,userOpinion:t,hasSelectedOpinion:n}=this.props;return e===t?"You "+e+"d":"neutral"!==t?null:e}return this._isActionAvailable()?this._shouldShowAgree()?"Agree":"Disagree":this._shouldShowAgree()?"You Agreed":"You Disagreed"})),AB(this,"_renderThumbsIcon",(()=>this._shouldShowDefaultStyle()?this._isActionAvailable()?this._shouldShowAgree()?this.displayUserNeutralThumbsUpIcon():this.displayUserNeutralThumbsDownIcon():this._shouldShowAgree()?this.displayUserAgreeIcon():this.displayUserDisagreeIcon():(this._isActionAvailable(),this._shouldShowAgree()?this.displayUserAgreeIcon():this.displayUserDisagreeIcon()))),AB(this,"_handleClick",(()=>!!this._isActionAvailable()&&(this._shouldShowAgree()?this._handleAgreeClick():this._handleDisagreeClick()))),AB(this,"_handleAgreeClick",(()=>{this.props.handleClick("agree")})),AB(this,"_handleDisagreeClick",(()=>{this.props.handleClick("disagree")})),AB(this,"_returnClassNames",(()=>this._shouldShowDefaultStyle()?"opinion-button primary-CTA-btn-text-color":`btn ${this._shouldShowAgree()?"agree":"disagree"}-button alternate-style `)),AB(this,"_returnHeightForSVG",(()=>"17px")),AB(this,"_returnWidthForSVG",(()=>"17px")),AB(this,"_returnUserCurrentOpinion",(()=>this.props.userOpinion)),AB(this,"_returnOpinionType",(()=>this.props.opinion)),AB(this,"_doesUserHaveAnOpinion",(()=>"agree"===this._returnUserCurrentOpinion()||"disagree"===this._returnUserCurrentOpinion())),AB(this,"_doesUserHaveAnAlternateOpinion",(()=>this._doesUserHaveAnOpinion()&&this._returnUserCurrentOpinion()!==this._returnOpinionType())),AB(this,"_shouldShowAgree",(()=>"agree"===this._returnOpinionType())),AB(this,"_shouldShowDefaultStyle",(()=>!this.props.styleType||"default"===this.props.styleType)),AB(this,"_isActionAvailable",(()=>this._returnUserCurrentOpinion()!==this._returnOpinionType())),AB(this,"_isThisActionAlsoUserOpinion",(()=>this._returnUserCurrentOpinion()===this._returnOpinionType())),AB(this,"_isInActivityPageFeed",(()=>this.props.inActivityPageFeed)),AB(this,"_isInFeed",(()=>this.props.inFeed)),AB(this,"displayUserAgreeIcon",(()=>c.createElement("span",{style:{display:"inline-block",height:this._returnHeightForSVG(),width:this._returnWidthForSVG(),margin:this._shouldShowDefaultStyle()?"":"4px 6px 0 -2px"}},c.createElement(fB,{height:this._returnHeightForSVG(),width:this._returnWidthForSVG()})))),AB(this,"displayUserDisagreeIcon",(()=>c.createElement("span",{style:{display:"inline-block",height:this._returnHeightForSVG(),width:this._returnWidthForSVG(),margin:this._shouldShowDefaultStyle()?"":"4px 6px 0 -2px"}},c.createElement(vB,{height:this._returnHeightForSVG(),width:this._returnWidthForSVG()})))),AB(this,"displayUserNeutralThumbsUpIcon",(()=>c.createElement("span",{className:"no-fill-svg",style:{display:"inline-block",height:this._returnHeightForSVG(),width:this._returnWidthForSVG()}},c.createElement(fB,{fill:"none",height:this._returnHeightForSVG(),width:this._returnWidthForSVG()})))),AB(this,"displayUserNeutralThumbsDownIcon",(()=>c.createElement("span",{className:"no-fill-svg",style:{display:"inline-block",height:this._returnHeightForSVG(),width:this._returnWidthForSVG()}},c.createElement(vB,{fill:"none",height:this._returnHeightForSVG(),width:this._returnWidthForSVG()}))))}render(){const{userOpinion:e,hasSelectedOpinion:t}=this.props;return c.createElement(PB,{onClick:this._handleClick,className:`\n          ${this._returnClassNames()}\n          ${this._shouldShowAgree()?"agree":"disagree"}\n          ${this._isActionAvailable()?t?"selected-alternative":"":" selected"}\n        `},this._renderDisplayText())}}const OB=e=>{const{userOpinion:t}=e,n=t&&"agree"===t,r=t&&"disagree"===t;if(!(1===e.counts.agree&&0===e.counts.disagree&&"agree"===e.userOpinion&&e.inFeed)){return"default"===e.styleType?c.createElement("div",{className:"agree-disagree-action-container"},c.createElement(DB,{opinion:"agree",hasSelectedOpinion:n||r,userOpinion:e.userOpinion,handleClick:e.handleClick,styleType:e.styleType,inFeed:e.inFeed,inActivityPageFeed:e.inActivityPageFeed}),c.createElement(DB,{opinion:"disagree",userOpinion:e.userOpinion,handleClick:e.handleClick,hasSelectedOpinion:n||r,styleType:e.styleType,inFeed:e.inFeed,inActivityPageFeed:e.inActivityPageFeed})):c.createElement("div",{className:"agree-disagree-action-container"},c.createElement(DB,{opinion:"agree",hasSelectedOpinion:n||r,userOpinion:e.userOpinion,handleClick:e.handleClick,styleType:e.styleType,inFeed:e.inFeed,inActivityPageFeed:e.inActivityPageFeed}),c.createElement(DB,{opinion:"disagree",hasSelectedOpinion:n||r,userOpinion:e.userOpinion,handleClick:e.handleClick,styleType:e.styleType,inFeed:e.inFeed,inActivityPageFeed:e.inActivityPageFeed}))}return null};class LB extends c.Component{render(){const{name:e,value:t,type:n,placeholder:r,autoFocus:i,handleChange:a,handleFocus:s,handleBlur:o}=this.props;return c.createElement("div",{className:"reusable-search-input-container"},c.createElement("fieldset",null,c.createElement("input",{name:e,type:n||"text",placeholder:r,value:t,onChange:a,onFocus:s,onBlur:o,autoFocus:i})))}}var RB=Object.defineProperty,FB=(e,t,n)=>(((e,t,n)=>{t in e?RB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class MB extends c.Component{constructor(){super(...arguments),FB(this,"_returnResultData",(()=>this.props.resultData)),FB(this,"_handleClick",(()=>{this.props.handleClick&&this.props.handleClick(this._returnResultData())})),FB(this,"_handleMouseOver",(()=>{this.props.handleMouseOver&&this.props.handleMouseOver(this._returnResultData())})),FB(this,"_handleMouseOut",(()=>{this.props.handleMouseOut&&this.props.handleMouseOut(this._returnResultData())})),FB(this,"_returnDOMNode",(()=>this.Result)),FB(this,"_$returnDOMNode",(()=>$(this._returnDOMNode()))),FB(this,"_addListeners",(()=>{this._$returnDOMNode().on("click",this._handleClick)})),FB(this,"_removeListeners",(()=>{this._$returnDOMNode().off("click",this._handleClick)}))}componentDidMount(){this._addListeners()}componentWillUnount(){this._removeListeners()}render(){const{className:e}=this.props;return c.createElement("li",{ref:e=>this.Result=e,className:`query-result ${e||""}`,onMouseOver:this._handleMouseOver},this.props.children)}}var UB=Object.defineProperty,$B=(e,t,n)=>(((e,t,n)=>{t in e?UB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const BB=u.div`
  li {
    cursor: pointer;
    background-color: ${({theme:e})=>e.themeColors.component};
    color: ${({theme:e})=>e.themeColors.text};

    &.active,
    &:hover {
      background-color: ${({theme:e})=>e.themeColors.component};
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`;class zB extends c.Component{constructor(){super(),$B(this,"_renderNoResultsMessage",(()=>c.createElement("div",{className:""},"No results"))),$B(this,"_renderQueryResults",(()=>c.createElement(BB,{className:"query-results-list"},this._formatQueryResultsWithResultId().map(((e,t)=>this._renderQueryResult(e,t)))))),$B(this,"_renderQueryResult",((e,t)=>{const{type:n}=e;return"user"===n?this._renderQueryResultUser(e):("security"===n||console.error(`Invalid result type given to <Result/>, received: ${n}`),null)})),$B(this,"_renderQueryResultUser",(e=>{const t=e.data.user_id;return c.createElement(MB,{key:`user-${t}-result-query`,className:"user-query-result "+(this._isResultActive(e)?"active":""),resultData:e,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut,handleClick:this.handleClick},c.createElement(gP,{userId:t},c.createElement(VP,{withLink:!1}),c.createElement(WL,{displayNameStyle:"fullName",withLink:!1})))})),$B(this,"_renderQueryResultSecurity",(e=>null)),$B(this,"_shouldShowResults",(e=>(e||this.props).shouldShowResults)),$B(this,"_returnQueryResults",(()=>this.props.queryResults)),$B(this,"_formatQueryResultsWithResultId",(()=>this._returnQueryResults().map(((e,t)=>l(o({},e),{resultId:t}))))),$B(this,"_areQueryResults",(()=>!nk(this._returnQueryResults())&&this._returnQueryResults().length>0)),$B(this,"_returnActiveSelection",(()=>this.state._activeSelection)),$B(this,"_isResultActive",(e=>this._returnActiveSelection()&&this._returnActiveSelection().resultId===e.resultId)),$B(this,"_returnResultsContainerHeight",(()=>this.state._resultsContainerHeight)),$B(this,"_returnResultsContainerBottomPosition",(()=>-1*this._returnResultsContainerHeight()+"px")),$B(this,"_returnStylingForResultsContainer",(()=>this._returnResultsContainerHeight()?{bottom:this._returnResultsContainerBottomPosition()}:{})),$B(this,"_onShowResults",(()=>{this.props.focusOnMount&&this._$returnDOMNode()&&this._$returnDOMNode().focus()})),$B(this,"_handleResultsSizeChange",(e=>{this._setResultsContainerHeight(e.height)})),$B(this,"handleMouseOver",(e=>{this._setActiveSelection(e)})),$B(this,"handleMouseOut",(e=>{})),$B(this,"handleClick",(e=>{this._handleResultSelection(e)})),$B(this,"_setResultsContainerHeight",(e=>{this.setState((()=>({_resultsContainerHeight:e})))})),$B(this,"_setActiveSelection",(e=>{this.setState((()=>({_activeSelection:e})))})),$B(this,"_clearActiveSelection",(()=>{this.setState((()=>({_activeSelection:null})))})),$B(this,"_setFirstResultActive",(()=>{const e=this._formatQueryResultsWithResultId(),t=e&&e[0]||null;t&&this._setActiveSelection(t)})),$B(this,"_findIndexOfActiveQueryResult",(()=>this._returnActiveSelection().resultId)),$B(this,"_cycleAndSetActiveResult",(e=>{const t="prev"===e?-1:1;if(this._returnActiveSelection()){const e=this._formatQueryResultsWithResultId()[this._findIndexOfActiveQueryResult()+t];this._setActiveSelection(e||this._returnActiveSelection())}else this._setFirstResultActive()})),$B(this,"_handleResultSelection",(e=>{const t=e||this._returnActiveSelection();t&&this.props.handleResultSelection(t)})),$B(this,"_handleKeyPress",(e=>{const t={38:()=>this._cycleAndSetActiveResult("prev"),40:()=>this._cycleAndSetActiveResult("next"),13:this._handleResultSelection}[e.keyCode];t&&this._shouldShowResults()&&t()})),$B(this,"_returnDOMNode",(()=>this.ResultsContainer)),$B(this,"_$returnDOMNode",(()=>$(this._returnDOMNode()))),$B(this,"_initListeners",(()=>{this._addKeyStrokeListener()})),$B(this,"_removeListeners",(()=>{this._removeKeyStrokeListener()})),$B(this,"_addKeyStrokeListener",(()=>{$(document).on("keydown",this._handleKeyPress)})),$B(this,"_removeKeyStrokeListener",(()=>{$(document).off("keydown",this._handleKeyPress)})),$B(this,"_initClickStopListeners",(()=>{this._$returnDOMNode().on("click",this._stopPropagation)})),$B(this,"_removeClickStopListeners",(()=>{this._$returnDOMNode().off("click",this._stopPropagation)})),this.state={_activeSelection:null,_resultsContainerHeight:this._$returnDOMNode().height()}}componentDidMount(){this._initListeners()}componentWillUnmount(){this._removeListeners()}componentDidUpdate(e){!this._shouldShowResults(e)&&this._shouldShowResults()&&this._onShowResults()}render(){return this._shouldShowResults()&&this.props.showANoResultsMessage&&!this._areQueryResults()?this._renderNoResultsMessage():this._shouldShowResults()&&this._areQueryResults()?c.createElement("div",{ref:e=>this.ResultsContainer=e,className:"reusable-search-results-container component-bg",style:this._returnStylingForResultsContainer()},c.createElement(cR,{onMutation:this._handleResultsSizeChange,setInitialSize:!0,updateShortlyAfterMount:!0},this._renderQueryResults())):null}}var VB=Object.defineProperty,HB=(e,t,n)=>(((e,t,n)=>{t in e?VB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class WB extends c.Component{constructor(){super(),HB(this,"isQueryLoading",(()=>this.props.isQueryLoading)),HB(this,"returnQueryValue",(()=>this.state._queryValue)),HB(this,"_isFocused",(()=>this.state._isFocused)),HB(this,"isQueryActive",(()=>""!==this.returnQueryValue())),HB(this,"areQueryResultsActive",(()=>Array.isArray(this.returnQueryResults()))),HB(this,"returnQueryResults",(()=>this.props.queryResults)),HB(this,"returnQueryResultsCount",(()=>this.areQueryResultsActive()?this.returnQueryResults().length:0)),HB(this,"_returnDOMNode",(()=>this.SearchContainer)),HB(this,"_$returnDOMNode",(()=>$(this._returnDOMNode()))),HB(this,"_setQueryValue",(e=>{this.setState((()=>({_queryValue:e})),(()=>this._onQueryValueChange(e)))})),HB(this,"_onQueryValueChange",(e=>{this.props.onAfterQueryChange&&this.props.onAfterQueryChange(e)})),HB(this,"_setFocus",(()=>{this.setState((()=>({_isFocused:!0})))})),HB(this,"_clearFocus",(()=>{this.setState((()=>({_isFocused:!1})))})),HB(this,"_handleFocus",(()=>{this._setFocus()})),HB(this,"_handleBlur",(()=>{this._clearFocus()})),HB(this,"_handleQueryChange",(e=>{const t=e.target.value;this._setQueryValue(t)})),HB(this,"_clearQuery",(()=>{this.setState((()=>({_queryValue:""})))})),HB(this,"_handleResultSelection",(e=>{this.props.handleResultSelection||console.error("Missing handleResultSelection prop in <ReusableSearchContainer/>"),this.props.handleResultSelection(e)})),HB(this,"_handleCancelQuery",(()=>{if(this.isQueryActive()){const e=this.returnQueryValue();this._clearQuery(),this._logCancelQuery(e)}})),HB(this,"_returnCustomKeyStrokeHandlers",(()=>this.props.customKeyStrokeHandlers||{})),HB(this,"_handleKeyPress",(e=>{const t=o({27:()=>{this.isQueryActive()&&this._handleCancelQuery}},this._isFocused()?this._returnCustomKeyStrokeHandlers():{})[e.keyCode];t&&this._isFocused()&&t(this.returnQueryValue())})),HB(this,"_addKeyStrokeListener",(()=>{$(document).on("keydown",this._handleKeyPress)})),HB(this,"_removeKeyStrokeListener",(()=>{$(document).off("keydown",this._handleKeyPress)})),HB(this,"_addDismissActiveQueryListener",(()=>{$(document).on("click",this._handleCancelQuery)})),HB(this,"_removeDismissActiveQueryListener",(()=>{$(document).off("click",this._handleCancelQuery)})),HB(this,"_initListeners",(()=>{this._addKeyStrokeListener(),this._initClickStopListeners()})),HB(this,"_removeListeners",(()=>{this._removeKeyStrokeListener(),this._removeDismissActiveQueryListener(),this._removeClickStopListeners()})),HB(this,"_initClickStopListeners",(()=>{this._$returnDOMNode().on("click",this._stopPropagation)})),HB(this,"_removeClickStopListeners",(()=>{this._$returnDOMNode().off("click",this._stopPropagation)})),HB(this,"_stopPropagation",(e=>e.stopPropagation())),HB(this,"_logQuerySelection",(()=>{})),HB(this,"_logCancelQuery",(e=>{const t={Context:this.props.viewingContext,Query:e,"Results Count":this.returnQueryResultsCount()};ly("Cancelled Search",t)()})),this.state={_isFocused:!1,_queryValue:""}}componentDidMount(){this._initListeners()}componentWillUnmount(){this._removeListeners()}render(){const{placeholder:e,showANoResultsMessage:t}=this.props;return c.createElement("div",{ref:e=>this.SearchContainer=e,className:"reusable-search-container"},c.createElement(LB,{placeholder:e||"Enter a value",value:this.returnQueryValue(),handleFocus:this._handleFocus,handleBlur:this._handleBlur,handleChange:this._handleQueryChange,autoFocus:this.props.autoFocus}),c.createElement(zB,{shouldShowResults:this.isQueryActive(),queryResults:this.returnQueryResults(),handleResultSelection:this._handleResultSelection,showANoResultsMessage:t,focusOnMount:this.props.focusOnResultsMount}))}}const jB=e=>e.userDict,GB=(e,t)=>{const n=jB(t);return e in n&&!n[e].connections},qB=(e,t)=>!((e,t)=>{const n=jB(t);return n[e]&&n[e].connections})(e,t),YB=(e,t)=>{qB(e,t)&&((e,t)=>{Mk("User connection data was not available in store",{userId:e,userConnectionsStore:t})})(e,t);return jB(t)[e].connections},KB=(e,t)=>((e,t)=>YB(e,t).length)(e,t)>0;var QB=Object.defineProperty,ZB=(e,t,n)=>(((e,t,n)=>{t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class XB extends C.exports.Component{constructor(e){super(e),ZB(this,"_renderLoading",(()=>c.createElement("div",{className:"loading-connections"},c.createElement(_e,{icon:null,size:"small",style:{marginRight:"8px"}}),c.createElement("div",{className:"text-container"},"Loading Connections")))),ZB(this,"_isInitializing",(()=>!this._isCurrentUserConnectionsDataLoaded())),ZB(this,"_isCurrentUserConnectionsDataLoaded",(()=>!this._isLoadingConnections())),ZB(this,"_isLoadingConnections",(()=>GB(this._returnCurrentUserId(),this._returnUserConnectionsStore()))),ZB(this,"_returnCurrentUser",(()=>this.props.currentUser)),ZB(this,"_returnCurrentUserId",(()=>this._returnCurrentUser().user_id)),ZB(this,"_returnUserConnectionsStore",(()=>this.props.userConnections)),ZB(this,"returnQueryResults",(()=>this.state._queryResults)),ZB(this,"onAfterQueryChange",(e=>{""===e?this._clearQueryResults():this._getAndSetQueryResults(e),this.props.onAfterQueryChange&&this.props.onAfterQueryChange(e)})),ZB(this,"_getAndSetQueryResults",(e=>{const t=this._getQueryResults(e),n=this._formatQueryResultsForUsers(t),r=this.props.customExcludeResultsFunc?n.filter((e=>this.props.customExcludeResultsFunc(e))):n;this._setQueryResults(r)})),ZB(this,"_getQueryResults",(e=>this._returnUsersMatchingQuery(e))),ZB(this,"_formatQueryResultsForUsers",(e=>e.map((e=>({type:"user",data:e}))))),ZB(this,"_setQueryResults",(e=>{this.setState((()=>({_queryResults:e})))})),ZB(this,"_clearQueryResults",(()=>{this.setState((()=>({_queryResults:null})))})),ZB(this,"handleResultSelection",(e=>{this.props.handleResultSelection(e)})),ZB(this,"_returnResultsMaxSize",(()=>10)),ZB(this,"_returnUsersMatchingQuery",(e=>{const t=this._returnCurrentUserNonPrivateConnectionsListByUserObject().filter((t=>`${"string"==typeof t.first_name?t.first_name.toLowerCase():""} ${"string"==typeof t.last_name?t.last_name.toLowerCase():""}`.indexOf(e.toLowerCase())>=0));return n=t,r=this._returnResultsMaxSize(),n.slice(0,r);var n,r})),ZB(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),ZB(this,"_returnCurrentUser",(()=>this.props.currentUser)),ZB(this,"_returnUserFromUserId",(e=>this._returnUsersLookup()[e])),ZB(this,"_returnUsersLookup",(()=>this._returnUsersStore().userList)),ZB(this,"_returnUsersStore",(()=>this.props.users)),ZB(this,"_returnCurrentUseronnectionsListByUserId",(()=>this._returnConnectionsLookup()[this._returnCurrentUserId()])),ZB(this,"_returnCurrentUserNonPrivateConnectionsListByUserObject",(()=>this._returnCurrentUserConnectionsListByUserObject().filter((e=>!(e=>e.is_private)(e))))),ZB(this,"_returnCurrentUserConnectionsListByUserObject",(()=>this._returnCurrentUserConnectionsListByUserId().map((e=>this._returnUserFromUserId(e))))),ZB(this,"_returnCurrentUserConnectionsListByUserId",(()=>this._returnConnectionsLookup()[this._returnCurrentUserId()].connections)),ZB(this,"_returnConnectionsLookup",(()=>this._returnConnectionsStore().userDict)),ZB(this,"_returnConnectionsStore",(()=>this.props.userConnections)),this.state={_queryResults:null}}render(){return c.createElement("div",{className:"connections-search-container"},this._isInitializing()?this._renderLoading():c.createElement(WB,{placeholder:this.props.placeholder||"Enter a name",viewingContext:"Ask Why To Search",queryResults:this.returnQueryResults(),handleResultSelection:this.props.handleResultSelection,onAfterQueryChange:this.onAfterQueryChange,customKeyStrokeHandlers:this.props.customKeyStrokeHandlers,focusOnResultsMount:!0,autoFocus:this.props.autoFocus}))}}var JB=T((e=>({currentUser:e.currentUser,users:e.users,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(XB);const ez=e=>{const{name:t,label:n,value:r}=e,i=e.containerClassName;return c.createElement("div",{className:`${i||""} stand-alone-textarea-container`},c.createElement("fieldset",{className:""},n?c.createElement("label",{htmlFor:t,className:`label-${t}`},n):null,c.createElement("textarea",{type:e.type||"text",name:t,onFocus:()=>{e.handleFocus&&e.handleFocus(t)},onBlur:(n,i)=>{if(e.saveOnChange){const n={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:r};e.saveOnChange(n)}e.handleBlur&&e.handleBlur(r,t),"additionalBlurAction"in e&&e.additionalBlurAction()},onChange:n=>{const r=n.target.value;e.handleChange(t,r)},placeholder:e.placeholder||"",value:r,autoFocus:e.autoFocus})))},tz=e=>{const{children:t}=e;return c.createElement("div",{className:"default-flex-align-center"},t)},nz=e=>{const{definitionKey:t,symbol:n,customDefinition:r,position:i,className:a,conditionalProps:s,style:l,dispatch:d}=e,u=c.useRef();return c.createElement("span",o({tabIndex:"-1",className:`react-info-icon ${a}`,onFocus:()=>{QE({elementRef:u,definitionKey:t,symbol:n,customDefinition:r,positionKey:i,className:a,conditionalProps:s})(d)},ref:u,style:o({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto"},l||{})},s),c.createElement(yx,{width:"13px"}))};nz.defaultProps={position:"default",className:"",conditionalProps:{}};var rz=T()(nz),iz=Object.defineProperty,az=(e,t,n)=>(((e,t,n)=>{t in e?iz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class sz extends c.Component{constructor(){super(),az(this,"_renderCannotAskUserErrorIcon",(()=>c.createElement("div",{className:"ask-user-unavailable-icon"},c.createElement(xc,{icon:"fa-exclamation-circle",size:"medium",colorClassName:"error-text-color"})))),az(this,"_renderCannotAskUserErrorMessage",(()=>c.createElement("div",{className:"ask-user-unavailable-message-container fade-in-up-quick"},c.createElement("div",{className:"info-tooltip-container component-bg"},c.createElement("div",{className:"info-tooltip-container-arrow component-bg"}),c.createElement("div",{className:"text-container"},this._returnErrorMessage()))))),az(this,"_renderRemoveUserButton",(()=>c.createElement("div",{className:"remove-user-from-to-button-container"},c.createElement(aS,{icon:"fa-times fa-times-thin",colorClassName:"secondary-text-color",handleClick:this._handleRemove})))),az(this,"_handleMouseOver",(()=>{this._setIsHovering(),this._setShowErrorMessage()})),az(this,"_handleMouseOut",(()=>{this._clearIsHovering(),this._returnTimeoutForErrorMessageShow()||this._createAndSaveShortTimeoutToHideErrorMessage()})),az(this,"_handleClick",(()=>{this._setShowErrorMessage(),this._createAndSaveTimeoutToHideErrorMessage()})),az(this,"_handleRemove",(()=>{this.props.handleRemove(this._returnUserId())})),az(this,"_onUserHasError",(()=>{this._setShowErrorMessage(),this._createAndSaveTimeoutToHideErrorMessage()})),az(this,"_returnUserId",(()=>this.props.userId)),az(this,"_isError",(e=>(e||this.props).isError)),az(this,"_returnErrorMessage",(()=>this.props.errorMessage)),az(this,"_showErrorMessage",(e=>(e||this.state)._showErrorMessage)),az(this,"_returnTimeoutForErrorMessageShow",(()=>this.state._timeoutForErrorMessageShow)),az(this,"_isHovering",(()=>this.state._isHovering)),az(this,"_shouldDisplayAskNotAllowedForUserMessage",(()=>this._isError()&&this._showErrorMessage())),az(this,"_setShowErrorMessage",(()=>{this.setState((()=>({_showErrorMessage:!0})))})),az(this,"_clearShowErrorMessage",(()=>{this.setState((()=>({_showErrorMessage:!1})))})),az(this,"_setIsHovering",(()=>{this.setState((()=>({_isHovering:!0})))})),az(this,"_clearIsHovering",(()=>{this.setState((()=>({_isHovering:!1})))})),az(this,"_clearTimeoutForErrorMessageShow",(()=>{const e=this._returnTimeoutForErrorMessageShow();e&&clearTimeout(e)})),az(this,"_createAndSaveShortTimeoutToHideErrorMessage",(()=>this._createAndSaveTimeoutToHideErrorMessage(600))),az(this,"_createAndSaveTimeoutToHideErrorMessage",(e=>{const t=setTimeout((()=>{this._isHovering()||this._clearShowErrorMessage(),this._removeTimeoutFromState()}),e||3e3);this.setState((()=>({_timeoutForErrorMessageShow:t})))})),az(this,"_removeTimeoutFromState",(()=>{this.setState((()=>({_timeoutForErrorMessageShow:null})))})),this.state={_showErrorMessage:!1,_timeoutForErrorMessageShow:null}}componentDidMount(){this._isError()&&this._onUserHasError()}componentWillUnmount(){this._clearTimeoutForErrorMessageShow()}componentDidUpdate(e,t){!this._isError(e)&&this._isError()&&this._onUserHasError()}render(){return c.createElement("div",{className:`${this.props.className||""}`,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut,onClick:this._handleClick},this._isError()?this._renderCannotAskUserErrorIcon():null,this._shouldDisplayAskNotAllowedForUserMessage()?this._renderCannotAskUserErrorMessage():null,this.props.isCTL?c.createElement("div",{className:"user-container",style:{textAlign:"left"}},c.createElement("span",null,"Community Thought Leader")):c.createElement(gP,{userId:this._returnUserId()},c.createElement(WL,{displayNameStyle:"fullName",withLink:!1})),this._renderRemoveUserButton())}}class oz extends c.PureComponent{constructor(){super(),this.DEFAULT_ICON_SIZE=18}render(){const{text:e}=this.props;return c.createElement("div",{className:"warning-notice-container"},c.createElement("div",null,c.createElement("i",{className:"fa fa-exclamation-circle icon-in-btn ignore-click warning-text-color",style:{fontSize:this.DEFAULT_ICON_SIZE}})),c.createElement("span",{className:"text-container"},e))}}const lz=e=>c.createElement("div",{className:"social-button facebook"},c.createElement("a",{id:"facebook_share",className:`${e.className||""}`,href:`http://www.facebook.com/sharer.php?u=${e.url}`,target:"_blank",onClick:()=>{e.additionalActionOnClick&&e.additionalActionOnClick()}},c.createElement(xc,{icon:"fa fa-facebook"}))),cz=e=>{const t=()=>encodeURIComponent(e.message||"");return c.createElement("div",{className:"social-button twitter"},c.createElement("a",{id:"twitter_share",className:`${e.className||""}`,href:`https://twitter.com/share?url=${e.url}&text=${t()}`,target:"_blank",onClick:()=>{e.additionalActionOnClick&&e.additionalActionOnClick()}},c.createElement(xc,{icon:"fa fa-twitter"})))},dz=e=>{const t=()=>encodeURIComponent(e.title||""),n=()=>encodeURIComponent(e.summary||"");return c.createElement("div",{className:"social-button linked-in"},c.createElement("a",{id:"linkedin_share",className:`${e.className||""}`,href:`https://www.linkedin.com/shareArticle?mini=true&url=${e.url}&title=${t()}&summary=${n()}&source=`,target:"_blank",onClick:()=>{e.additionalActionOnClick&&e.additionalActionOnClick()}},c.createElement(xc,{icon:"fa fa-linkedin"})))};var uz=Object.defineProperty,hz=(e,t,n)=>(((e,t,n)=>{t in e?uz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const pz=u.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
`,mz=e=>`${e}_text_field`,gz=()=>c.createElement("div",{className:"tooltip-box-container main-bg-color-match border-accent share-copied"},c.createElement("div",{className:"tooltip-message  "},"Copied!")),yz=({elementId:e,text:t})=>{const n=mz(e);return c.createElement("textarea",{id:n,readOnly:1,value:t,style:{opacity:0,height:"2px",width:"2px"}})};class _z extends c.PureComponent{constructor(e){super(e),hz(this,"_buildCopiedMessagePositionStyle",(()=>{const{elementId:e}=this.props,t=window.$(`#${e}`),n=window.$(`#${e} .copied-message-container`);return{position:"absolute",bottom:-1*(t.height()+(n.height()+8+10))+"px",left:"0px"}})),hz(this,"_handleCopyClick",(()=>{const{elementId:e,textAreaId:t,onCopyEffect:n}=this.props;if(t){const e=document.getElementById(`${t}`);R(e.value)}else{const t=mz(e);window.$(`#${t}`)[0].select(),document.execCommand("copy"),window.getSelection().removeAllRanges()}n&&n(),this._showCopiedMessage(),this._setTimeoutForCopiedMessage(),this._logCopiedShareLinkClick()})),hz(this,"_returnCopiedMessageTimeout",(()=>this.state.copiedMessageTimeout)),hz(this,"_shouldShowCopiedMessage",(()=>this.state.showCopiedMessage)),hz(this,"_showCopiedMessage",(()=>{this.setState((()=>({showCopiedMessage:!0})))})),hz(this,"_hideCopiedMessage",(()=>{this.setState((()=>({showCopiedMessage:!1})))})),hz(this,"_createTimeoutForCopiedMessage",(()=>window.setTimeout(this._hideCopiedMessage,this.SHOW_COPY_MESSAGE_TIME_LENGTH))),hz(this,"_setTimeoutForCopiedMessage",(()=>{const e=this._createTimeoutForCopiedMessage();this.setState((()=>({copiedMessageTimeout:e})))})),hz(this,"_returnAdditionalLogProperties",(()=>{const{shareContext:e,additionalPropertiesForEventLogging:t}=this.props;return o({Context:e||null},t)})),hz(this,"_logCopiedShareLinkClick",(()=>{const{eventName:e}=this.props,t=o({"Copy Succeeded":!0},this._returnAdditionalLogProperties());TC(e,t)()})),this.state={showCopiedMessage:!1,copiedMessageTimeout:null},this.SHOW_COPY_MESSAGE_TIME_LENGTH=3e3}componentWillUnmount(){this._returnCopiedMessageTimeout()&&clearTimeout(this._returnCopiedMessageTimeout())}render(){const{elementId:e,copyValue:t,children:n}=this.props;return c.createElement("div",{id:e,onClick:this._handleCopyClick,style:{zIndex:1,position:"relative",display:"inline-block"}},c.createElement(pz,null,n,t&&c.createElement(yz,{elementId:e,text:t})),this._shouldShowCopiedMessage()&&c.createElement("div",{className:"copied-message-container",style:this._buildCopiedMessagePositionStyle()},c.createElement(gz,null)))}}_z.defaultProps={additionalPropertiesForEventLogging:{}};var fz=Object.defineProperty,vz=(e,t,n)=>(((e,t,n)=>{t in e?fz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Ez=u.div`
  cursor: pointer;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  padding: 4px;
  border: 1px solid transparent;

  :hover {
    border-radius: 5px;
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
  }

  i {
    font-size: 14px;
  }
  .text-w {
    font-size: 12px;
    line-height: 18px;
    text-transform: uppercase;
    margin-left: 4px;
  }
`;class bz extends c.Component{constructor(e){super(e),vz(this,"_isLoading",(()=>GB(this._returnCurrentUserId(),this._returnUserConnectionsStore()))),vz(this,"_renderLoading",(()=>c.createElement(Dw,{flatStyle:!0}))),vz(this,"_renderAddConnectionsCTA",(()=>c.createElement("div",{className:"ask-anyone-form no-connections component-bg"},this._renderCloseButton(),c.createElement("div",{className:"ask-anyone-add-connections-CTA-container"},c.createElement("span",null,"Discuss investment ideas with people you trust"),c.createElement("span",{style:{display:"block",padding:"10px 0"}},c.createElement(iT,{className:"btn btn-primary-color btn-small-tall",to:Ln("connections"),text:"Find Connections",additionalClickAction:this._handleFindConnectionsClick}))),this._shouldShowShareOnSocialButton()&&this._renderShareOnSocial()))),vz(this,"_renderForm",(()=>c.createElement("div",{className:"ask-anyone-form component-bg card-shadow-styling"},this._isCloseActionAvailable()&&this._renderCloseButton(),c.createElement("div",{className:"border-accent",style:{borderBottomWidth:"1px",borderBottomStyle:"solid"}},this._renderToField(),!this.isAskingCTL()&&this._renderAskCTL(),this.isAskingCTL()&&this.state.askCTLWarning&&this._renderAskCTLWarning()),this._renderQuestionField(),this._isFormError()&&this._renderFormErrorMessage(),this._renderSendButton(),this._isSendingAsk()&&!this._wasSendAskSuccessful()&&this._renderSendingAskOverlay(),this._wasSendAskSuccessful()&&this._renderSentAskOverlay(),this._shouldShowShareOnSocialButton()&&this._renderShareOnSocial()))),vz(this,"_renderAskCTLWarning",(()=>{const{askCTLWarning:e}=this.state;return c.createElement("div",{style:{paddingBottom:"20px"}},c.createElement(oz,{text:e}))})),vz(this,"_renderCloseButton",(()=>c.createElement("div",{className:"close-button-container"},c.createElement(aS,{icon:"fa-times fa-times-thin",colorClassName:"secondary-text-color",handleClick:this._handleCancelAskWhy})))),vz(this,"_renderFormErrorMessage",(()=>c.createElement("div",{className:"form-error-message-text"},this._returnFormErrorMessage()))),vz(this,"_renderSendButton",(()=>c.createElement("div",{className:"send-button-container"},c.createElement(hx,{onClick:this._handleSendAskWhy},"Send")))),vz(this,"_renderAskCTL",(()=>c.createElement("div",{className:"ask-ctl-btn-container",style:{padding:"0 0 15px 2px",marginTop:"-6px"}},c.createElement(tz,null,c.createElement(rz,{definitionKey:"tooltip_community_thought_leader",position:"left"}),c.createElement("span",{style:{display:"inline-block",position:"relative"}},c.createElement(hx,{transparent:!0,onClick:this._handleClickAskCTL},"Ask a Community Thought Leader")))))),vz(this,"_renderToField",(()=>{if(!KB(this._returnCurrentUserId(),this._returnUserConnectionsStore())&&!this._returnUserIdsToAsk().length)return null;const e=!(this._isSendingAsk()||this._wasSendAskSuccessful());return c.createElement("div",{className:"to-field field-container"},c.createElement("label",null,"To"),e&&this._renderUsersListAndInput())})),vz(this,"_renderQuestionField",(()=>c.createElement("div",{className:"question-field field-container border-accent"},c.createElement(ez,{name:"ask-anyone-question",label:null,value:this._returnQuestionValue(),handleChange:this._handleQuestionInputChange})))),vz(this,"_renderUsersListAndInput",(()=>c.createElement("div",{className:"to-users-list"},this._renderUsers(),KB(this._returnCurrentUserId(),this._returnUserConnectionsStore())&&c.createElement(JB,{key:`connections-search-${this._returnUserIdsToAskLength()}`,placeholder:this._returnUserIdsToAsk().length>0?"Add Another":"Enter a name",customKeyStrokeHandlers:this._returnCustomKeyPressHandlerForSearch(),handleResultSelection:this.handleResultSelection,customExcludeResultsFunc:this.customExcludeConnectionsSearchResultsFunc,onAfterQueryChange:this.handleConnectionsQueryChange,autoFocus:!0})))),vz(this,"_renderUsers",(()=>this._returnUserIdsToAsk().map((e=>this._renderUser(e))))),vz(this,"_renderUser",(e=>c.createElement(sz,{key:`user-to-ask-${e}`,className:"to-user no-select",userId:e,isCTL:"CTL"===e,isError:!this._isUserAskAllowed(e),errorMessage:this._returnCannotAskUserErrorMessage(e),handleRemove:this._handleRemoveUserFromTo}))),vz(this,"_renderShareOnSocial",(()=>c.createElement("div",{className:"share-on-action-container"},c.createElement("div",null,c.createElement(_z,{elementId:`thought_link_button_${this._returnThoughtId()}`,eventName:"Clicked Thought Link Copy",copyValue:`${window.location.origin}/app/thoughts/${this._returnThoughtId()}`},c.createElement(Ez,{id:"thought_link_button"},c.createElement(xc,{icon:"fa fa-files-o",size:"small"}),c.createElement("span",{className:"text-w"},"Copy Link")))),c.createElement("div",{className:"share-on-social-container"},c.createElement("div",{className:"share-on-social-label secondary-text-color"},c.createElement("p",null,"Share on:")),c.createElement("div",{className:"share-on-social-links"},c.createElement(lz,{message:this.props.socialShareText,url:this.props.thoughtSocialShareLink,additionalActionOnClick:this._bindSocialNetworkToLogClickHandler("Facebook")}),c.createElement(cz,{message:this.props.socialShareText,url:this.props.thoughtSocialShareLink,additionalActionOnClick:this._bindSocialNetworkToLogClickHandler("Twitter")}),c.createElement(dz,{message:this.props.socialShareText,url:this.props.thoughtSocialShareLink,additionalActionOnClick:this._bindSocialNetworkToLogClickHandler("LinkedIn")})))))),vz(this,"_returnAskDataForPermissionCheck",(e=>"CTL"===e?{asked_community_thought_leader:!0,askType:this._returnAskType(),[`${this._returnAskType()}_id`]:this._returnAskTypeId()}:{asked_user_id:e,askType:this._returnAskType(),[`${this._returnAskType()}_id`]:this._returnAskTypeId()})),vz(this,"_checkIsAskPermittedToUser",(e=>{const t=this._returnAskDataForPermissionCheck(e);this.props.actions.checkAskPermission(t).then((e=>{const{warning:t}=e;t&&this.setState((e=>({askCTLWarning:t})))}))})),vz(this,"_isUserAskAllowed",(e=>!this._returnUserAskTypeIdData(e,this._returnAskType(),this._returnAskTypeId()))),vz(this,"_returnCannotAskUserErrorMessage",(e=>this._returnUserAskTypeIdData(e,this._returnAskType(),this._returnAskTypeId()))),vz(this,"_returnUserAskTypeIdData",((e,t,n)=>this._returnUserAskTypeData(e,t)[n])),vz(this,"_returnUserAskTypeData",((e,t)=>this._returnUserAskData(e)[t]||{})),vz(this,"_returnUserAskData",(e=>this._returnAskDataUserLookup()[e]||{})),vz(this,"_returnAskDataUserLookup",(()=>this._returnAskDataStore().userLookup)),vz(this,"_returnAskDataStore",(()=>this.props.ask)),vz(this,"_renderSendingAskOverlay",(()=>c.createElement(oS,{show:this._isSendingAsk(),spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:"Sending",className:"posting-thought-overlay"}))),vz(this,"_renderSentAskOverlay",(()=>c.createElement(oS,{show:this._wasSendAskSuccessful(),spinner:{iconClass:"fa fa-check-circle",style:{colorClassName:"success-text-color",marginBottom:"-7px"}},message:"Sent"}))),vz(this,"_shouldShowShareOnSocialButton",(()=>this.props.allowSocialShare)),vz(this,"_bindSocialNetworkToLogClickHandler",(e=>()=>this._logNetworkShareClick(e))),vz(this,"_isCloseActionAvailable",(()=>this.props.handleClose)),vz(this,"_returnUserSearchInputValue",(()=>this.state._userSearchText)),vz(this,"_returnQuestionValue",(()=>this.state._questionText)),vz(this,"_returnUserIdsToAsk",(e=>(e||this.state)._userIds)),vz(this,"_returnUserIdsToAskLength",(e=>Array.isArray(this._returnUserIdsToAsk(e))?this._returnUserIdsToAsk(e).length:0)),vz(this,"_returnLastAddedUserId",(()=>this._returnUserIdsToAskLength()>0?this._returnUserIdsToAsk()[this._returnUserIdsToAskLength()-1]:null)),vz(this,"_isFormError",(()=>!!this._returnFormErrorMessage())),vz(this,"_returnFormErrorMessage",(()=>this.state._formErrorMessage)),vz(this,"_returnNewUserIdAdded",(e=>{const t=this._returnUserIdsToAsk(e);return this._returnUserIdsToAsk().filter((e=>!t.includes(e)))})),vz(this,"_isSendingAsk",(e=>(e||this.state)._isSendingAsk)),vz(this,"_wasSendAskSuccessful",(e=>(e||this.state)._wasSendAskSuccessful)),vz(this,"_returnTimeoutToCloseAskForm",(()=>this.state._timeoutToCloseAskForm)),vz(this,"_onSendAskSuccessful",(()=>{this._setTimeoutToCloseAskForm()})),vz(this,"_onNewUserAdded",(e=>{Array.isArray(e)?e.map((e=>{this._checkIsAskPermittedToUser(e)})):this._checkIsAskPermittedToUser(e)})),vz(this,"_setIsSendingAsk",(()=>{this.setState((()=>({_isSendingAsk:!0})))})),vz(this,"_clearIsSendingAsk",(()=>{this.setState((()=>({_isSendingAsk:!1})))})),vz(this,"_setWasSendingAskSuccessful",(()=>{this.setState((()=>({_wasSendAskSuccessful:!0})))})),vz(this,"_setTimeoutToCloseAskForm",(()=>{this._returnTimeoutToCloseAskForm()&&this.clearTimeoutToCloseAskForm();const e=setTimeout((()=>{this.props.handleClose()}),2e3);this.setState((()=>({_timeoutToCloseAskForm:e})))})),vz(this,"clearTimeoutToCloseAskForm",(()=>{const e=this._returnTimeoutToCloseAskForm();e&&(clearTimeout(e),this.setState((()=>({_timeoutToCloseAskForm:null}))))})),vz(this,"_didUserEnterCustomQuestion",(()=>this.state._didUserEnterCustomQuestion)),vz(this,"_setDidUserEnterCustomQuestion",(()=>{this.setState((()=>({_didUserEnterCustomQuestion:!0})))})),vz(this,"_shouldAddGreetingToQuestion",(()=>1===this._returnUserIdsToAskLength())),vz(this,"_addGreetingToQuestion",(e=>{const t=this._returnUserIdsToAsk()[0],n=this._returnFirstNameFromUserId(t);if(!n)return e;return`Hi ${n}, ${"I"===e[0]?e:`${e[0].toLowerCase()}${e.slice(1)}`}`})),vz(this,"_returnThoughtDefaultQuestion",(()=>{const e="I thought you may find this interesting. What do you think?";return this._shouldAddGreetingToQuestion()?this._addGreetingToQuestion(e):e})),vz(this,"_returnIdeaDefaultQuestion",(()=>{const e=`What are your latest thoughts on ${this._returnSecuritySymbol()}? What are the pros and cons here?`;return this._shouldAddGreetingToQuestion()?this._addGreetingToQuestion(e):e})),vz(this,"_returnSecurityDefaultQuestion",(()=>{const e=`What are your latest thoughts on ${this._returnSecuritySymbol()}? What are the pros and cons here?`;return this._shouldAddGreetingToQuestion()?this._addGreetingToQuestion(e):e})),vz(this,"_returnDefaultQuestion",(()=>{let e="";return"security"===this._returnAskType()?e=this._returnSecurityDefaultQuestion():"idea"===this._returnAskType()?e=this._returnIdeaDefaultQuestion():"thought"===this._returnAskType()&&(e=this._returnThoughtDefaultQuestion()),e})),vz(this,"_returnAskType",(()=>this.props.askType||console.error("Missing askType prop on <AskAnyoneForm/>"))),vz(this,"_returnAskTypeId",(()=>{const e=this._returnAskType();return"idea"===e?this._returnIdeaId():"thought"===e?this._returnThoughtId():"security"===e?this._returnSecurityId():console.error("Could not find askTypeId based on askType given to <AskWhy/>")})),vz(this,"_returnSecuritySymbol",(()=>this.props.securitySymbol||"this stock")),vz(this,"customExcludeConnectionsSearchResultsFunc",(e=>!this._returnUserIdsToAsk().includes(e.data.user_id))),vz(this,"_returnSecurityId",(()=>this.props.securityId)),vz(this,"_returnIdeaId",(()=>this.props.ideaId)),vz(this,"_returnThoughtId",(()=>this.props.thoughtId)),vz(this,"_isThoughtAsk",(()=>this.props.thoughtId)),vz(this,"isAskingCTL",(()=>this._returnUserIdsToAsk().includes("CTL"))),vz(this,"_returnAskData",(()=>0===this._returnUserIdsToAskLength()?console.error("Cannot ask why with no one to send to."):this._returnUserIdsToAskLength()>1?this._returnUserIdsToAsk().map((e=>({askedCTL:"CTL"===e,userId:e,securityId:this._returnSecurityId(),ideaId:this._returnIdeaId(),thoughtId:this._returnThoughtId(),question:this._returnQuestionValue()}))):{askedCTL:"CTL"===this._returnUserIdsToAsk()[0],userId:this._returnUserIdsToAsk()[0],securityId:this._returnSecurityId(),ideaId:this._returnIdeaId(),thoughtId:this._returnThoughtId(),question:this._returnQuestionValue()})),vz(this,"_handleClose",(()=>{this.props.handleClose()})),vz(this,"_handleClickAskCTL",(()=>{this._handleUserSelection("CTL")})),vz(this,"_handleCancelAskWhy",(()=>{this._logCancelAskWhyForm(),this.props.handleCancel()})),vz(this,"_handleRemoveUserFromTo",(e=>{this._removeToUserId(e)})),vz(this,"_handleAddUserIdToAsk",(e=>{this._addToUserId(e),Cu("Add User To Ask Form",{themeTestGroups:jp(this.props.currentUser)})})),vz(this,"_handleUserSelection",(e=>{this._handleAddUserIdToAsk(e),this._logAddUser(e)})),vz(this,"_handleUserSearchInputChange",((e,t)=>{this._setUserSearchValue(t)})),vz(this,"_handleQuestionInputChange",((e,t)=>{this._setQuestionValue(t),this._didUserEnterCustomQuestion()||this._setDidUserEnterCustomQuestion()})),vz(this,"handleResultSelection",(e=>{const t=e&&e.data&&e.data.user_id;t&&this._handleUserSelection(t)})),vz(this,"handleConnectionsQueryChange",(e=>{})),vz(this,"handleAfterAction",(()=>{this.props.handleAfterAction&&this.props.handleAfterAction()})),vz(this,"_handleSendAskWhy",(()=>{if(this._isFormInvalid())return!1;const e=this._returnAskData();this._setIsSendingAsk(),this.props.actions.sendAsk(e).then((t=>{const{ok:n,rawResponse:r}=t;n?(this._handleSendAskSuccess(),this.handleAfterAction(),this._logAskWhySent()):this._handleSendAskFailure(r,e)}))})),vz(this,"_handleSendAskSuccess",(()=>{this._setWasSendingAskSuccessful(),this._isThoughtAsk()&&this._logThoughtAskImpression()})),vz(this,"_handleSendAskFailure",((e,t)=>{this._clearIsSendingAsk(),this._clearSuccessAsksUserIdsFromForm(e,t);const n=this._generateErrorMessageFromAskResponse(e,t);this._createAndShowErrorMessage(n)})),vz(this,"_clearSuccessAsksUserIdsFromForm",((e,t)=>{const n=this._returnSuccessAsksUserIdsFromResponse(e,t);this._removeToUserIds(n)})),vz(this,"_returnSuccessAsksFromResponse",((e,t)=>{const n=e&&e.data&&e.data.asks&&Array.isArray(e.data.asks);if(n){return n.map(((e,n)=>o(o({},e),t[n]))).filter((e=>!e.error))}return[]})),vz(this,"_returnSuccessAsksUserIdsFromResponse",((e,t)=>this._returnSuccessAsksFromResponse(e,t).map((e=>e.userId)))),vz(this,"_createErrorComponentForPartialSuccessAsks",(e=>c.createElement("div",{className:"ask-sent-success-message-container"},c.createElement("span",{style:{marginRight:"4px"}},`Ask${e.length>1?"s":""} sent successfully to `),e.map(((t,n)=>c.createElement("span",{key:`sent-ask-success-to-${t}`},c.createElement(gP,{userId:t},c.createElement(WL,{displayNameStyle:"fullName",withLink:!1})),n+1===e.length?null:n+1===e.length-1?c.createElement("span",{style:{margin:"0 4px"}},"and"):c.createElement("span",{style:{marginRight:"4px"}},","))))))),vz(this,"_createErrorComponentForFailedAsks",(e=>c.createElement("div",{className:""},c.createElement("div",{className:""},"Was not able to send ask to the following:"),e.map(((e,t)=>c.createElement("div",{key:`sent-ask-failed-to-${e.userId}`,className:"ask-sent-failure-message-container"},c.createElement("span",null,e.userId?c.createElement(gP,{userId:e.userId},c.createElement(WL,{displayNameStyle:"fullName",withLink:!1})):c.createElement("div",null,c.createElement("span",null,"Community Thought Leader"))),c.createElement("span",null," ",` (${e.error})`))))))),vz(this,"_generateErrorMessageFromAskResponse",((e,t)=>{if(!(e&&e.data&&e.data.asks&&Array.isArray(e.data.asks)))return c.createElement("p",null,"Could not send ask. Please try again later.");const n=Array.isArray(t)?t:[t],r=e.data.asks,i=r.map(((e,t)=>o(o({},e),n[t]))),a=r.some((e=>!e.error)),s=this._returnSuccessAsksUserIdsFromResponse(e,t),l=i.filter((e=>e.error));return a?c.createElement("div",{className:""},this._createErrorComponentForPartialSuccessAsks(s),this._createErrorComponentForFailedAsks(l)):c.createElement("div",{className:""},this._createErrorComponentForFailedAsks(l))})),vz(this,"_createAndShowErrorMessage",(e=>{const t={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),dismissable:!0,size:"wide"};this.props.actions.showModal(t)})),vz(this,"_createFormErrorMessage",(e=>{this.setState((()=>({_formErrorMessage:e})))})),vz(this,"_clearFormErrorMessage",(e=>{this.setState((()=>({_formErrorMessage:e})))})),vz(this,"_revalidateForm",(()=>{if(this._isFormError()){if(this._checkForNoUsersInToFieldError())return!1;this._clearFormErrorMessage()}})),vz(this,"_checkForNoUsersInToFieldError",(()=>{const e="Please add people to send to";if(0===this._returnUserIdsToAskLength())return this._returnFormErrorMessage()!==e&&this._createFormErrorMessage(e),!0})),vz(this,"_isFormInvalid",(()=>{if(this._checkForNoUsersInToFieldError())return!0})),vz(this,"_addToUserId",(e=>{const t=Array.isArray(e)?e:[e];this.setState((e=>({_userIds:[...e._userIds,...t]})))})),vz(this,"_removeToUserId",(e=>{this.setState((t=>({_userIds:t._userIds.filter((t=>t!==e))})))})),vz(this,"_removeToUserIds",(e=>{this.setState((t=>({_userIds:t._userIds.filter((t=>!e.includes(t)))})))})),vz(this,"_removeLastAddedUser",(()=>{const e=this._returnLastAddedUserId();e&&this._removeToUserId(e)})),vz(this,"_returnCustomKeyPressHandlerForSearch",(()=>({8:e=>{""===e&&this._removeLastAddedUser()}}))),vz(this,"_setUserSearchValue",(e=>{this.setState((()=>({_userSearchText:e})))})),vz(this,"_setQuestionValue",(e=>{this.setState((()=>({_questionText:e})))})),vz(this,"_returnFirstNameFromUserId",(e=>{const t=this._returnUserFromUserId(e);return t?rp(t):null})),vz(this,"_returnUserFromUserId",(e=>this._returnUsersLookup()[e])),vz(this,"_returnUsersLookup",(()=>this.props.users.userList)),vz(this,"_returnUsersStore",(()=>this.props.users)),vz(this,"_returnCurrentUser",(()=>this.props.currentUser)),vz(this,"_returnCurrentUserId",(()=>this._returnCurrentUser().user_id)),vz(this,"_returnUserConnectionsStore",(()=>this.props.userConnections)),vz(this,"_setDefaultQuestionCopy",(()=>{this.setState((()=>({_questionText:this._returnDefaultQuestion()})))})),vz(this,"_focusTextAreaField",(()=>this._$getQuestionFieldTextAreaDOMNode().focus())),vz(this,"_getContainerDOMNode",(()=>this.AskAnyoneFormContainer)),vz(this,"_$getContainerDOMNode",(()=>window.$(this._getContainerDOMNode()))),vz(this,"_$getQuestionFieldTextAreaDOMNode",(()=>this._$getContainerDOMNode().find(".question-field textarea"))),vz(this,"_handleFindConnectionsClick",(()=>{this._handleClose(),this._logFindConnectionsClick()})),vz(this,"_logFindConnectionsClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Find Connections",{Context:"Ask Someone Form"})})),vz(this,"_logAddUser",(e=>{const t={"Is Community Thought Leader":"CTL"===e,"User ID":e};this.props.actions.logMetricsTrackingEvent("Added User To Ask Anyone Form",t)})),vz(this,"_logCancelAskWhyForm",(()=>{this.props.actions.logMetricsTrackingEvent("Cancelled Ask Why Form",{})})),vz(this,"_logAskWhySent",(()=>{const e=l(o({"Is Community Thought Leader Ask":this._returnUserIdsToAsk().some((e=>"CTL"===e)),"Stock Symbol":this._returnSecuritySymbol(),"Security ID":this._returnSecurityId()},this.props.viewingContext?{Context:this.props.viewingContext}:{}),{"Is Ask CTL":this.props.defaultAskingCTL});this.props.actions.logMetricsTrackingEvent("Clicked Like Idea",e)})),vz(this,"_logViewAskCTLWarning",(e=>{const t={Message:e};this.props.actions.logMetricsTrackingEvent("Viewed Ask CTL Warning",t)})),vz(this,"_logNetworkShareClick",(e=>{th.referral.USE_REFERRAL_ACTION.send(eh,{Network:e});const t=o({Network:e,"Stock Symbol":this._returnSecuritySymbol(),"Security ID":this._returnSecurityId()},this.props.viewingContext?{Context:this.props.viewingContext}:{});this.props.actions.logMetricsTrackingEvent("Clicked Share On Social Network",t),_u("share",this._returnThoughtId(),this.props.viewingContext),this.props.actions.sendThoughtClickEvent(this._returnThoughtId(),"share",this.props.thoughtContext,this.props.thoughtMetadata,this.props.notificationIndex)})),vz(this,"_logThoughtAskImpression",(()=>{_u("share",this._returnThoughtId(),this.props.viewingContext),this.props.actions.sendThoughtClickEvent(this._returnThoughtId(),"share",this.props.thoughtContext,this.props.thoughtMetadata,this.props.notificationIndex)})),this.state={_userIds:[],_userSearchText:"",_questionText:"",_didUserEnterCustomQuestion:!1,_isSendingAsk:!1,_wasSendAskSuccessful:!1,_timeoutToCloseAskForm:null,_formErrorMessage:null,askCTLWarning:null},this._didViewAskCTLWarning=!1}componentDidMount(){this._setDefaultQuestionCopy();const e=this.props.setToUserIds;e&&(this._handleAddUserIdToAsk(e),setTimeout(this._focusTextAreaField,50)),KB(this._returnCurrentUserId(),this._returnUserConnectionsStore())&&!this.props.defaultAskingCTL||this._handleAddUserIdToAsk("CTL")}componentDidUpdate(e,t){const n=this._returnUserIdsToAskLength(t)!==this._returnUserIdsToAskLength();!this._didUserEnterCustomQuestion()&&n&&this._setDefaultQuestionCopy(),!this._wasSendAskSuccessful(t)&&this._wasSendAskSuccessful()&&this._onSendAskSuccessful();const r=this._returnNewUserIdAdded(t);r.length>0&&this._onNewUserAdded(r),this._revalidateForm(),this.state.askCTLWarning&&!this._didViewAskCTLWarning&&(this._didViewAskCTLWarning=!0,this._logViewAskCTLWarning(this.state.askCTLWarning))}render(){return c.createElement("div",{ref:e=>this.AskAnyoneFormContainer=e,className:`ask-anyone-form-container ${this.props.cssAnimationClass||""}`,style:o({},this.props.inModal?{}:{position:"relative"})},this._isLoading()?this._renderLoading():this._renderForm())}}var Cz=T((e=>({ask:e.ask,currentUser:e.currentUser,users:e.users,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(bz);const xz=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }
  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function wz(){return c.createElement(xz,null,c.createElement("svg",{viewBox:"0 0 16 18",fill:"none"},c.createElement("path",{d:"M13 12.4c-.633 0-1.2.25-1.633.642L5.425 9.583C5.467 9.392 5.5 9.2 5.5 9c0-.2-.033-.392-.075-.583L11.3 4.992a2.49 2.49 0 001.7.675c1.383 0 2.5-1.117 2.5-2.5 0-1.384-1.117-2.5-2.5-2.5a2.497 2.497 0 00-2.5 2.5c0 .2.033.391.075.583L4.7 7.175A2.49 2.49 0 003 6.5 2.497 2.497 0 00.5 9c0 1.383 1.117 2.5 2.5 2.5.658 0 1.25-.258 1.7-.675l5.933 3.467a2.354 2.354 0 00-.066.541A2.436 2.436 0 0013 17.267a2.436 2.436 0 002.433-2.434A2.436 2.436 0 0013 12.4zm0-10.067c.458 0 .833.375.833.834A.836.836 0 0113 4a.836.836 0 01-.833-.833c0-.459.375-.834.833-.834zm-10 7.5A.836.836 0 012.167 9c0-.458.375-.833.833-.833.458 0 .833.375.833.833A.836.836 0 013 9.833zm10 5.85a.836.836 0 01-.833-.833c0-.458.375-.833.833-.833.458 0 .833.375.833.833a.836.836 0 01-.833.833z",fill:"#1F1F1F"})))}const Sz=u.div`
  width: 18px;
  height: 18px;
  & > svg {
    width: 18px;
    height: 18px;
  }

  & g,
  & path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function kz(){return c.createElement(Sz,null,c.createElement("svg",{viewBox:"0 0 18 18",fill:"none"},c.createElement("path",{d:"M15.667.667H2.334c-.917 0-1.667.75-1.667 1.666v15L4 14h11.667c.917 0 1.667-.75 1.667-1.667v-10c0-.916-.75-1.666-1.667-1.666zm0 11.666H4L2.334 14V2.333h13.333v10z",fill:"#1F1F1F"})))}var Tz=Object.defineProperty,Iz=(e,t,n)=>(((e,t,n)=>{t in e?Tz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Nz=u.div`
  button {
    padding: 4px 8px;
  }
`,Az=u.div`
  button {
    padding: 8px;

    > span {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }

    svg {
      height: 18px;
      width: 18px;

      margin-right: 3px;
    }
  }
`,Pz=u("div")`
  display: inline-block;
  margin-right: 5px;
  vertical-align: middle;
`;class Dz extends C.exports.Component{constructor(e){super(e),Iz(this,"_renderButton",(()=>this._isAskWhyFormOpen()?this._renderAskAnyoneButtonDisabled():this._renderAskAnyoneButton())),Iz(this,"_useCustomAskType",(()=>this._returnCustomAskType())),Iz(this,"_returnCustomAskType",(()=>this.props.customAskType)),Iz(this,"_returnCustomAskTypeButtonRenderer",(()=>this.props.customAskTypeButtonRenderer)),Iz(this,"_returnCustomAskTypeDisabledButtonRenderer",(()=>this.props.customAskTypeDisabledButtonRenderer)),Iz(this,"_renderAskButtonSmall",(()=>c.createElement(Nz,null,c.createElement(hx,{onClick:this._handleClick,text:"Ask Why"})))),Iz(this,"_renderAskButtonSmallDisabled",(()=>c.createElement(Nz,null,c.createElement(hx,{disabled:!0,onClick:this._handleClickDisabled,text:""},"Ask Why")))),Iz(this,"_renderAskButtonWithIcon",(()=>c.createElement(Nz,null,c.createElement(hx,{transparent:!0,onClick:this._handleClick},c.createElement("span",null,c.createElement(Pz,null,c.createElement(wz,null)),c.createElement("span",null,"Ask")))))),Iz(this,"_renderAskDisabledButtonWithIcon",(()=>c.createElement(Nz,null,c.createElement(hx,{transparent:!0,disabled:!0,onClick:this._handleClick},c.createElement("span",null,c.createElement(Pz,null,c.createElement(wz,null)),c.createElement("span",null,"Ask")))))),Iz(this,"_renderAskAnyoneButton",(()=>this._useCustomAskType()?this._returnCustomAskTypeButtonRenderer()?this[this._returnCustomAskTypeButtonRenderer()]?this[this._returnCustomAskTypeButtonRenderer()]():(console.error(`Need to create a render function ${this._returnCustomAskTypeButtonRenderer()} in AskAnyone component`),null):(console.error("Need to supply customAskTypeButtonRenderer prop"),null):"thought"===this._returnAskType()?this._renderAskAnyoneThoughtButton():"security"===this._returnAskType()?this._renderAskAnyoneSecurityButton():this._renderAskWhyButton())),Iz(this,"_renderAskAnyoneButtonDisabled",(()=>this._useCustomAskType()?this._returnCustomAskTypeDisabledButtonRenderer()?this[this._returnCustomAskTypeDisabledButtonRenderer()]?this[this._returnCustomAskTypeDisabledButtonRenderer()]():(console.error(`Need to create a render function ${this._returnCustomAskTypeDisabledButtonRenderer()} in AskAnyone component`),null):(console.error("Need to supply customAskTypeButtonRenderer prop"),null):"thought"===this._returnAskType()?this._renderAskAnyoneThoughtButtonDisabled():"security"===this._returnAskType()?this._renderAskAnyoneSecurityButtonDisabled():this._renderAskWhyButton())),Iz(this,"_isUsingCustomBtnClass",(()=>this._returnCustomBtnClass()&&this._returnCustomDisabledBtnClass())),Iz(this,"_returnCustomBtnClass",(()=>this.props.customBtnClass)),Iz(this,"_returnCustomDisabledBtnClass",(()=>this.props.customDisabledBtnClass)),Iz(this,"_renderAskAnyoneSecurityButton",(()=>c.createElement(sx,{width:this._returnButtonWidth(),onClick:this._handleClick},"Ask Someone"))),Iz(this,"_renderAskAnyoneSecurityButtonDisabled",(()=>c.createElement(hx,{width:this._returnButtonWidth(),disabled:!0,onClick:this._handleClickDisabled},"Ask Someone"))),Iz(this,"_renderAskAnyoneThoughtButton",(()=>c.createElement(Az,null,c.createElement(hx,{width:this._returnButtonWidth(),transparent:!0,onClick:this._handleClick},c.createElement(Pz,null,c.createElement(wz,null)),"SHARE")))),Iz(this,"_renderAskAnyoneThoughtButtonDisabled",(()=>c.createElement(Az,null,c.createElement(hx,{transparent:!0,width:this._returnButtonWidth(),onClick:this._handleClickDisabled,disabled:!0},c.createElement(Pz,null,c.createElement(wz,null)),"SHARE")))),Iz(this,"_renderAskCTLThoughtButton",(()=>c.createElement(Az,null,c.createElement(hx,{transparent:!0,width:this._returnButtonWidth(),onClick:this._handleClick},c.createElement(Pz,null,c.createElement(kz,null)),"ASK CTL")))),Iz(this,"_renderAskCTLThoughtButtonDisabled",(()=>c.createElement(Az,null,c.createElement(hx,{disabled:!0,width:this._returnButtonWidth(),transparent:!0,onClick:this._handleClickDisabled},c.createElement(Pz,null,c.createElement(kz,null)),"Ask CTL")))),Iz(this,"_renderAskWhyButton",(()=>c.createElement(sx,{width:this._returnButtonWidth(),onClick:this._handleClick},"Ask Why"))),Iz(this,"_renderAskWhyButtonDisabled",(()=>c.createElement(hx,{width:this._returnButtonWidth(),disabled:!0,onClick:this._handleClickDisabled},"Ask Why"))),Iz(this,"_renderAskWhyForm",(()=>c.createElement(Cz,{askType:this._returnAskType(),securitySymbol:this._returnSecuritySymbol(),securityId:this._returnSecurityId(),ideaId:this._returnIdeaId(),thoughtId:this._returnThoughtId(),setToUserIds:this._returnIdeaOwnerUserId(),thoughtContext:this.props.thoughtContext,notificationIndex:this.props.notificationIndex,thoughtMetadata:this.props.thoughtMetadata,viewingContext:this.props.viewingContext,handleAfterAction:this.props.handleAfterAction,handleClose:this._handleAskFormClose,handleCancel:this._handleAskFormCancel,socialShareText:this.props.socialShareText,thoughtSocialShareLink:this.props.thoughtSocialShareLink,allowSocialShare:this.props.allowSocialShare,inModal:this._shouldOpenFormInModal(),defaultAskingCTL:this.props.defaultAskingCTL,showTooltipArrow:!0}))),Iz(this,"_renderAskWhyFormPositionedUnderButton",(()=>c.createElement("div",{className:"ask-anyone-form-position-container fade-in-up-quick "+(this.props.centerFormWithAskButton?"centered":"")},this._renderAskWhyForm()))),Iz(this,"_renderThought",(()=>c.createElement(oB,{securityId:this._returnSecurityId(),getSecurityDataIfNeeded:!0},c.createElement(iV,{thoughtId:this._returnThoughtId(),securityId:this._returnSecurityId(),scrollContainerSelector:this.props.scrollContainerSelector,viewingContext:yS("CREATE_ASK_ANYONE"),isUserAuthed:!0,hideOpinionCounts:!0,hideOpinionActions:!0,showThoughtHeading:!0})))),Iz(this,"_renderAskWhyFormInModal",(()=>c.createElement("div",{className:"ask-anyone-form-modal"},this._renderAskWhyForm(),this._returnThoughtId()&&this._renderThought()))),Iz(this,"_isAskWhyFormOpen",(()=>this.state._isAskWhyFormOpen)),Iz(this,"_returnAskType",(()=>this._returnIdeaId()?"idea":this._returnThoughtId()?"thought":this._returnSecurityId()?"security":console.error("Could not infer askType based on props given to <AskWhy/>"))),Iz(this,"_returnDefaultButtonWidth",(()=>125)),Iz(this,"_returnButtonWidth",(()=>this.props.buttonWidth||this._returnDefaultButtonWidth())),Iz(this,"_shouldOpenFormInModal",(()=>this.props.openFormInModal)),Iz(this,"_shouldOpenFormInMobileModal",(()=>this.props.openFormInModalOnMobile&&this.props.windowWidth<600)),Iz(this,"_handleOpenAskWhyForm",(()=>{this._openAskWhyForm(),this._logOpenAskWhyForm()})),Iz(this,"_openAskWhyForm",(()=>{this._shouldOpenFormInModal()||this._shouldOpenFormInMobileModal()?this._showAskAnyoneFormModal():this._setAskWhyFormOpen()})),Iz(this,"_showAskAnyoneFormModal",(()=>{const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},this._renderAskWhyFormInModal()),size:"wide",dismissable:!0,className:"ask-someone-modal",restrictHeight:!0};this.props.actions.showModal(e)})),Iz(this,"_closeModal",(()=>this.props.actions.hideModal())),Iz(this,"_handleAskFormCancel",(()=>{this._shouldOpenFormInModal()?this._closeModal():this._clearAskWhyFormOpen(),this.props.additionalDismissAskWhyAction&&this.props.additionalDismissAskWhyAction(),this.props.onCancel&&this.props.onCancel()})),Iz(this,"_handleAskFormClose",(()=>{this._shouldOpenFormInModal()?this._closeModal():this._clearAskWhyFormOpen(),this.props.additionalDismissAskWhyAction&&this.props.additionalDismissAskWhyAction()})),Iz(this,"_setAskWhyFormOpen",(()=>{this.setState((()=>({_isAskWhyFormOpen:!0})))})),Iz(this,"_clearAskWhyFormOpen",(()=>{this.setState((()=>({_isAskWhyFormOpen:!1})))})),Iz(this,"_handleClick",(()=>{this._handleOpenAskWhyForm()})),Iz(this,"_handleClickDisabled",(()=>{})),Iz(this,"_returnIdea",(()=>this._returnIdeaId()?LS(this._returnIdeaId(),this._returnIdeasStore()):null)),Iz(this,"_returnIdeaId",(()=>this.props.ideaId)),Iz(this,"_returnIdeasStore",(()=>this.props.ideas)),Iz(this,"_returnThoughtId",(()=>this.props.thoughtId)),Iz(this,"_returnSecurityId",(()=>this._returnIdea()?AS(this._returnIdea()):this.props.securityId)),Iz(this,"_returnSecuritySymbol",(()=>this._returnSecurity()?this._returnSecurity().symbol:this._returnIdea()?PS(this._returnIdea()):null)),Iz(this,"_returnSecurity",(()=>function(e,t){if(!e)return Uk(["Error: no securityId provided",arguments]),null;if(!t||!("lookup"in t))return Uk(["Error: invalid security store provided",arguments]),null;return t.lookup[e]||null}(this._returnSecurityId(),this._returnSecuritiesStore()))),Iz(this,"_returnSecuritiesStore",(()=>this.props.securities)),Iz(this,"_returnIdeaOwnerUserId",(()=>this._returnIdea()?this._returnIdea().user_id:null)),Iz(this,"_returnIdeaOwner",(()=>Kh(this._returnIdeaOwnerUserId(),this._returnUsersStore(),this._returnCurrentUser()))),Iz(this,"_returnCurrentUser",(()=>this.props.currentUser)),Iz(this,"_returnUsersStore",(()=>this.props.users)),Iz(this,"_logOpenAskWhyForm",(()=>{const e={Context:this.props.viewingContext,"Ask Type":this._returnAskType(),"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbol(),"In Modal":!!this._shouldOpenFormInModal(),"Is Ask CTL":this.props.defaultAskingCTL};this.props.actions.logMetricsTrackingEvent("Opened Ask Why Form",e)})),this.state={_isAskWhyFormOpen:e.autoOpen}}componentDidMount(){"1"===fe(this.props.location.search).open_ask_form&&"security"===this._returnAskType()&&this._openAskWhyForm(),this.props.openOnMount&&this._openAskWhyForm()}render(){return c.createElement("div",{className:`ask-why-container ${this.props.containerClass}`},!this.props.hideButton&&this._renderButton(),this._isAskWhyFormOpen()&&this._renderAskWhyFormPositionedUnderButton())}}var Oz=_c(N(Xk,T((e=>({ideas:e.ideas,securities:e.securities,users:e.users,currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(Dz));class Lz extends c.PureComponent{render(){const{customClassName:e,withLink:t,linkTo:n,children:r}=this.props,i=t?A:"span",a={className:`security-identifier-display   ${e||""}`},s=t?{to:n}:{};return c.createElement(i,o(o({},a),s),r)}}class Rz extends c.PureComponent{render(){const{symbol:e,name:t,showSymbol:n,showName:r,securityId:i,prefixString:a,prefix:s,suffix:o,linkToPage:l,customClassName:d,limitNameWidth:u,activeTab:h,securityPanelTestGroup:p,inFeed:m}=this.props,g=window.location,y=!("withLink"in this.props)||this.props.withLink;let _="ideas";m&&(_=1===p?"compare":"ideas");const f=CU({location:g,securityId:i,additionalProps:{activeTab:h||_}}),v=l?`/securities/${i}?activeTab=${h||"ideas"}`:`${f}`,E=a?c.createElement("span",{className:"security-symbol-prefix-string text"},a):null,b=n?c.createElement("span",{className:"security-symbol text"},e):null,C=r?c.createElement("span",{className:"security-name text "+(u?"limit-name-width":"")},t):null,x=s?c.createElement("span",{className:"prefix prefix-suffix text"},s):null,w=o?c.createElement("span",{className:"suffix prefix-suffix text"},o):null;return c.createElement(Lz,{customClassName:d,withLink:y,linkTo:v},c.createElement("span",null,E,b,x,C,w))}}var Fz=T((e=>{return{securityPanelTestGroup:(t=e.currentUser,t.default_stock_panel_to_financial_tab_test_group)};var t}))(Rz),Mz=Object.defineProperty,Uz=(e,t,n)=>(((e,t,n)=>{t in e?Mz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $z extends c.Component{constructor(){super(...arguments),Uz(this,"_checkForImpression",(()=>{!this._wasImpressionRecorded()&&this._isThoughtVisibleWithinWindow()&&this._handleRecordImpression()})),Uz(this,"_isThoughtVisibleWithinWindow",(()=>{const e=this._getThoughtBoundingClientRect(),t=e.top+e.height/2,n=e.top+e.height<0;return t<this._returnWindowHeight()&&!n})),Uz(this,"_wasImpressionRecorded",(()=>gu("view",this._returnThoughtId(),this.props.viewingContext))),Uz(this,"_saveImpressionToStorageIfUnrecorded",(()=>_u("view",this._returnThoughtId(),this.props.viewingContext))),Uz(this,"_postViewThoughtImpression",(()=>_E(this._returnThoughtId(),this.props.viewingContext,this.props.metadata,this.props.notificationIndex)())),Uz(this,"_handleRecordImpression",(()=>{if(this._wasImpressionRecorded()||this._isRecordingImpression)return!1;this._isRecordingImpression=!0;const e=this.props.metadata||{},{algorithm_type:t,feed_sequence_type:n,reason_in_feed:r}=e,i={"Feed Sequence":t,"Top of Feed Algorithm":n,"Reason In Feed":r,Context:this.props.viewingContext};TC("View Thought",i)(),this._logItlyProConViewed(),this._postViewThoughtImpression().then((e=>{e&&e.data&&"success"===e.data.status?this._saveImpressionToStorageIfUnrecorded():this._isRecordingImpression=!1}))})),Uz(this,"_logItlyProConViewed",(()=>{const{thought_type:e,securitySymbol:t,viewingContext:n}=this.props,r={context:n,pro_or_con:(null==e?void 0:e.toLowerCase())||"",ticker_symbol:t||"",url:window.location.pathname,url_query:window.location.search};pl.viewed.PRO_CON_VIEWED.send(r)})),Uz(this,"_initialize",(()=>{this.props.recordImpressionOnMount?this._handleRecordImpression():(this._initScrollListener(),setTimeout(this._checkForImpression(),600))})),Uz(this,"_terminate",(()=>{this._removeScrollListener()})),Uz(this,"_handleScroll",(e=>{this._checkForImpression(e)})),Uz(this,"_getThoughtBoundingClientRect",(()=>{const e=this._$returnThoughtContainerElement();return e&&e[0]?e[0].getBoundingClientRect():null})),Uz(this,"_$returnThoughtContainerElement",(()=>$(this._returnDOMNode()).closest(".thought-container"))),Uz(this,"_returnDOMNode",(()=>this.ThoughtImpressionTracker)),Uz(this,"_initScrollListener",(()=>{this._$returnScrollElement().on("scroll",this._handleScroll)})),Uz(this,"_returnWindowHeight",(()=>this.props.windowHeight||$(window).height())),Uz(this,"_removeScrollListener",(()=>{this._$returnScrollElement().off("scroll",this._handleScroll)})),Uz(this,"_$returnScrollElement",(()=>$(this.props.scrollContainerSelector))),Uz(this,"_returnThoughtId",(()=>this.props.thoughtId))}componentDidMount(){this._initialize()}componentWillUnmount(){this._terminate()}render(){return c.createElement("div",{ref:e=>this.ThoughtImpressionTracker=e})}}var Bz=N(Xk,T(((e,t)=>{var n,r;const i=e.thoughts.securityLookup[t.securityId];if(i){return{thought_type:null==(r=null==(n=i.thoughtLookup[t.thoughtId])?void 0:n.thought_type)?void 0:r.name}}return{}})))($z);const zz=()=>c.createElement("span",null," "),Vz=e=>{const{className:t}=e;return c.createElement("div",{className:`highlight-animation ${t||""}`})};class Hz extends c.PureComponent{render(){const{text:e}=this.props;return c.createElement("div",null,c.createElement("div",{className:"modal-message",style:{paddingTop:"0px",textAlign:"center"}},c.createElement("div",null,c.createElement(_e,null)),c.createElement("div",{style:{marginTop:5}},c.createElement("span",{className:" "},e))))}}var Wz=T()(Hz),jz=Object.defineProperty,Gz=(e,t,n)=>(((e,t,n)=>{t in e?jz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const qz=u.div`
  button {
    padding: 2px;
  }
`,Yz="solid",Kz="link";class Qz extends c.PureComponent{constructor(){super(...arguments),Gz(this,"handleClick",(()=>{const{viewpointOrg:e,isLiveTrading:t}=this.props;if(!t)return this.handleShowStartLiveTrading();SP(e)?this.handleReSubscribe():this.handleSubscribe()})),Gz(this,"handleReSubscribe",(()=>{this.logReSubscribePress(),this.showConfirmationModal()})),Gz(this,"handleSubscribe",(()=>{this.logSubscribePress(),this.showConfirmationModal()})),Gz(this,"showConfirmationModal",(()=>{const{viewpointOrg:e,isFree:t}=this.props,n=EP(e),r=vP(e),i={message:t?`Get access to premium content from ${r} for free.`:`Get access to premium content from ${r} for ${B_(n,"price")} / month.`,handleContinue:this.handleConfirm,handleCancel:this.handleCancel,continueButtonText:"Subscribe",cancelButtonText:"Cancel",continueButtonClassName:"btn btn-primary-color btn-small-tall btn-fixed-width-80"};NS.call(this,i)})),Gz(this,"handleConfirm",(()=>{this.props.actions.hideModal();const e={contentComponent:c.createElement("div",null,c.createElement(Wz,{text:"Subscribing"})),dismissable:!1};this.props.actions.showModal(e),this._subscribeToViewpoint(),this.logConfirmSubscribePress()})),Gz(this,"handleCancel",(()=>{this.props.actions.hideModal(),this.logCancelConfirmSubscribePress()})),Gz(this,"handleShowStartLiveTrading",(()=>{this.logViewOpenLiveAccountForViewpointAccess();const e={message:"Open a live trading account to get access to premium viewpoint contributor content.",secondaryComponent:c.createElement("div",{style:{paddingTop:"15px",paddingBottom:"10px"}},c.createElement(GM,null)),handleContinue:this.handleConfirmStartLiveTrading,handleCancel:this.handleCancelStartLiveTrading,continueButtonText:"Get Started",cancelButtonText:"Cancel",continueButtonClassName:"btn btn-primary-color btn-small-tall btn-fixed-width-80"};NS.call(this,e)})),Gz(this,"handleConfirmStartLiveTrading",(()=>{const{navigate:e}=this.props;this.props.actions.hideModal(),e("/live_accounts/new"),this.logConfirmLiveTradingStartPress()})),Gz(this,"handleCancelStartLiveTrading",(()=>{this.props.actions.hideModal(),this.logCancelLiveTradingStartPress()})),Gz(this,"_subscribeToViewpoint",(()=>{const{id:e,isFree:t}=this.props;return this.props.actions.subscribeToViewpoint({viewpointOrgId:e,isFree:t}).then((e=>{const{ok:t,errorMessage:n}=e;if(t)this.props.actions.hideModal(),this.onCompleteSubscription();else{const e={contentComponent:bS(n||"Something went wrong. Please try again."),dismissable:!0};this.props.actions.showModal(e),this.props.actions.fetchAllViewpointData()}}))})),Gz(this,"onCompleteSubscription",(()=>{const{viewpointOrg:e}=this.props,t=vP(e);var n;const r={contentComponent:c.createElement("div",{className:"subscribe-modal-container"},c.createElement("div",{className:"text-center"},c.createElement("span",{className:"text-heading  "},"You are now subscribed")),c.createElement("div",{className:"modal-success-icon-container text-center",style:{paddingTop:"25px"}},c.createElement(xc,{icon:"fa-check-circle",colorClassName:"success-text-color"})),c.createElement("div",{className:"text-center",style:{paddingTop:"25px"}},c.createElement("span",{className:" "},`You can view all of ${n=t,"s"===n[n.length-1]?`${n}'`:`${n}'s`} premium content. You will also see updates in your feed as they post.`))),dismissable:!0,size:"wide"};this.props.actions.showModal(r)})),Gz(this,"logReSubscribePress",(()=>{const e={ID:this.props.id};TC("Press Re-Subscribe To Viewpoint",e)()})),Gz(this,"logSubscribePress",(()=>{const e={ID:this.props.id};TC("Press Subscribe To Viewpoint",e)()})),Gz(this,"logConfirmSubscribePress",(()=>{const e={ID:this.props.id};TC("Press Confirm Subscribe To Viewpoint",e)()})),Gz(this,"logCancelConfirmSubscribePress",(()=>{const e={ID:this.props.id};TC("Press Cancel Subscribe To Viewpoint",e)()})),Gz(this,"logConfirmLiveTradingStartPress",(()=>{const e={ID:this.props.id};TC("Press Get Started Live Trading After Viewpoint Subscribe Press",e)()})),Gz(this,"logCancelLiveTradingStartPress",(()=>{const e={ID:this.props.id};TC("Press Cancel Get Started Live Trading After Viewpoint Subscribe Press",e)()})),Gz(this,"logViewOpenLiveAccountForViewpointAccess",(()=>{const e={ID:this.props.id};TC("View Open Live Trading Account After Viewpoint Subscribe Press",e)()}))}render(){const{viewpointOrg:e,buttonProps:t,buttonType:n}=this.props;return e&&CP(e)?SP(e)?c.createElement(qz,null,c.createElement(hx,{transparent:!0,onClick:this.handleClick},"+ Resubscribe")):wP(e)?null:c.createElement(qz,null,c.createElement(hx,{transparent:!0,onClick:this.handleClick},"+ Subscribe")):null}}Qz.defaultProps={buttonType:Kz};var Zz=_c(T(((e,t)=>{const{id:n}=t,r=e.currentUser,i=IP(e,n);if(null!==i){const e=bP(i);return{isLiveTrading:Rp(r),viewpointOrg:i,isFree:Jp(r)&&e}}return{isLiveTrading:Rp(r),viewpointOrg:i,isFree:null}}),(e=>({actions:I(WC,e)})))(Qz)),Xz=Object.defineProperty,Jz=(e,t,n)=>(((e,t,n)=>{t in e?Xz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const eV=u.div`
  .ask-wrapper {
    padding: 0 12px;

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
  }
`,tV=u.div`
  & .agree-disagree-action-container {
    width: 100%;
    padding: 10px;
    display: flex;
    flex-direction: row;
  }

  & .agree-button.alternate-style,
  & .disagree-button.alternate-style {
    width: calc(50% - 5px);
  }

  @media (max-width: 500px) {
    & .agree-disagree-action-container {
      display: flex;
      flex-direction: row;
      width: 100%;
      padding: 10px;
    }

    & .agree-button.alternate-style,
    & .disagree-button.alternate-style {
      width: 100%;
    }
  }
`,nV=u("div")`
  & > div {
    width: 100%;
    max-width: 100%;
    .thought-bubble {
      max-width: 100%;
    }
    .community-thought-leader-banner-container {
      padding: 20px 0;
    }
    .community-thought-leader-banner {
      padding: 10px 0;
    }
  }

  .fa-location-arrow,
  .fa.fa-star {
    color: ${({theme:e})=>e.themeColors.text};
  }

  .thought-viewpoint-banner,
  .community-thought-leader-banner {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
    color: ${({theme:e})=>e.themeColors.text};

    a {
      color: ${({theme:e})=>e.themeColors.text};
    }
  }

  .react-app-container & > div {
    border: 1px solid transparent;
  }

  .link-preview-container,
  .link-preview-description-box {
    border: none;
  }

  .link-preview-description-box {
    background: transparent !important;
  }

  .react-app-container & .con-text-color,
  .react-app-container & .con-text-color *,
  .react-app-container & .pro-text-color,
  .react-app-container & .pro-text-color * {
    padding: 5px;
    font-size: 14px;
  }

  div .thought-bubble {
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    border-radius: 6px;
  }
`;class rV extends C.exports.Component{constructor(e){super(e),Jz(this,"_isThoughtOrSecurityDataLoading",(()=>!this._isSecurityDataAvailable()||!this._returnThought())),Jz(this,"_isLoading",(()=>this._isThoughtOrSecurityDataLoading()||this._isImageLoading())),Jz(this,"_renderLoadingThought",(()=>c.createElement("div",{className:"thought-is-loading"},c.createElement("div",{className:"loading-thought-message main-bg-color-match"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}))))),Jz(this,"_renderThought",(()=>c.createElement("div",{key:`thought-${this._returnThoughtId()}`,ref:e=>this.ThoughtContainer=e,className:`thought-container react-thought thought-${this._returnThoughtId()} ${this._isViewpointAuthor()?"viewpoint-thought":""}`},this.state._isThoughtFocused&&c.createElement(Vz,null),!this.props.ignoreImpressionTracking&&!this._isLoading()&&c.createElement(Bz,{securitySymbol:this._returnSecurity().symbol,securityId:this._returnSecurity().security_id,thoughtId:this._returnThoughtId(),notificationIndex:this._getNotificationIndex(),viewingContext:this.props.viewingContext,metadata:this.props.metadata,scrollContainerSelector:this.props.scrollContainerSelector,recordImpressionOnMount:this.props.recordImpressionOnMount}),this._shouldShowThoughtHeading()&&this._renderThoughtHeading(),this._renderThoughtBody(),this._shouldHideOpinionCounts()?c.createElement("div",{className:"opinion-count-empty-spacer",style:{padding:"5px 0"}}):this._renderThoughtOpinionData(),this._renderAgreeDisagreeButtons(),this._renderThoughtDisagreePrompt()))),Jz(this,"_renderThoughtPostedAt",(()=>c.createElement("div",{style:{padding:"5px 5px 0px 5px",textAlign:"right",fontSize:"10px"}},c.createElement("span",{className:"secondary-text-color"},this.returnThoughtPostedAtDisplayString())))),Jz(this,"_isCommunityLeaderThought",(()=>au(this._returnThought()))),Jz(this,"_isViewpointAuthor",(()=>lu(this._returnThought()))),Jz(this,"_renderViewpointThoughtBanner",(()=>c.createElement("div",{className:"community-thought-leader-banner-container"},c.createElement("div",{className:"community-thought-leader-banner"},c.createElement("div",{className:"banner-text-container",onClick:bk},c.createElement(tz,null,c.createElement(xc,{size:"small",icon:"fa-location-arrow"}),c.createElement(dS,{className:"thought-viewpoint-banner",style:{width:"100%"},widthThreshold:361,greaterThanThresholdLayout:e=>c.createElement("div",{className:"flex-center-space-between",style:{width:"100%"}},c.createElement("span",{className:"font-container"},c.createElement(rT,{to:`${Ln("viewpoint_profile",su(this._returnThought()))}?context=${Kg}`,className:"no-text-decoration text-in-eye-catching-bg-color",additionalClickAction:this._logThoughtBannerPress,text:`Viewpoint - ${su(this._returnThought())}`,scrollToTop:!0}),c.createElement(zz,null),c.createElement(zz,null),c.createElement(rz,{definitionKey:"tooltip_viewpoint",position:"right"})),c.createElement("div",{style:{paddingRight:"10px"}},c.createElement(Zz,{id:ou(this._returnThought())}))),lessThanThresholdLayout:e=>c.createElement("div",{className:"flex-center-space-between",style:{width:"100%"}},c.createElement("span",{className:"font-container"},c.createElement(rT,{to:`${Ln("viewpoint_profile",su(this._returnThought()))}?context=${Kg}`,className:"no-text-decoration text-in-eye-catching-bg-color",additionalClickAction:this._logThoughtBannerPress,text:`Viewpoint - ${XS(su(this._returnThought()),Math.ceil(e/23))}`,scrollToTop:!0}),c.createElement(zz,null),c.createElement(zz,null),c.createElement(rz,{definitionKey:"tooltip_viewpoint",position:"right"})),c.createElement("div",{style:{paddingRight:"10px"}},c.createElement(Zz,{id:ou(this._returnThought())})))}))))))),Jz(this,"_renderCTLThoughtBanner",(()=>c.createElement("div",{className:"community-thought-leader-banner-container"},c.createElement("div",{className:"community-thought-leader-banner"},c.createElement("div",{className:"banner-text-container",onClick:bk},c.createElement(tz,null,c.createElement(xc,{size:"small",icon:"fa-star"}),c.createElement("span",{className:"font-container"},c.createElement(rT,{to:`${Ln("profile",this._returnThoughtAuthorUserId())}?context=${Kg}`,className:"no-text-decoration text-in-eye-catching-bg-color",additionalClickAction:this._logThoughtBannerPress,text:"Community Thought Leader",scrollToTop:!0})),c.createElement(rz,{definitionKey:"tooltip_community_thought_leader",position:"right",style:{paddingTop:"2px"}}))))))),Jz(this,"_logThoughtBannerPress",(()=>{const e=this.props.viewingContext,t=su(this._returnThought()),n={"User ID":this._returnThoughtAuthorUserId(),"Is Viewpoint":!!t,"Viewpoint Org Name":t,"Is CTL":!t,Context:e};this.props.actions.logMetricsTrackingEvent("Press Thought Banner",n)})),Jz(this,"_renderThoughtBanner",(()=>this._isViewpointAuthor()?this._renderViewpointThoughtBanner():this._isCommunityLeaderThought()?this._renderCTLThoughtBanner():null)),Jz(this,"_renderTooltipOfUsersWho",(e=>this._shouldShowSeeConnectionOpinions()&&e===this._returnOpinionInTooltip()&&c.createElement("div",{className:""},c.createElement(IB,{hideTooltip:this.hideTooltip,opinionUserIds:this._returnUserIdsWho(e),opinionCount:this._returnCountWho(e),autoFocus:!0})))),Jz(this,"_renderAgreeCount",(()=>c.createElement("div",{className:"agree-count"},c.createElement("span",{className:"link-btn secondary-link-color",onClick:this._handleAgreeCountClick},`${this._returnAgreeCount()} Agrees`),this._renderTooltipOfUsersWho("agree")))),Jz(this,"_renderDisagreeCount",(()=>c.createElement("div",{className:"disagree-count"},c.createElement("span",{className:"link-btn secondary-link-color",onClick:this._handleDisagreeCountClick},`${this._returnDisagreeCount()} Disagrees`),this._renderTooltipOfUsersWho("disagree")))),Jz(this,"_renderThoughtOpinionData",(()=>c.createElement("div",{className:"thought-opinion-data-container"},this._renderAgreeCount(),c.createElement("span",{className:"spacing-hyphen"},"-"),this._renderDisagreeCount()))),Jz(this,"_renderThoughtDisagreePrompt",(()=>c.createElement("div",{className:"disagree-thought-container "+(this._shouldShowDisagreeAddThoughtPrompt()?"showing":"not-showing")},this._shouldShowDisagreeAddThoughtPrompt()&&c.createElement(mS,{security:this._returnSecurity(),viewingContext:"After Disagree",handleCancelCreatingThought:this._handleDismissAdditionalThoughtPrompt,thoughtPostSuccessAdditionalAction:this._handleAfterAdditionalThoughtCreated,logFromDisagreeThoughtId:this._returnThoughtId(),customThoughtHeadingComponent:c.createElement("div",{className:""},c.createElement("div",{className:""},c.createElement("div",{style:{display:"inline"}},"Please enter a Pro/Con that describes why you disagree."),c.createElement("div",{style:{display:"inline-block",position:"relative"}},c.createElement(iS,{word:"thought_explanation",style:{top:"-12px",left:"3px"},position:"right"}))),c.createElement("p",{className:"secondary-text-color",style:{fontSize:"12px",margin:"7px 0 0 0"}},"(Remember, it won't always appear near the post above, so make sure it can stand alone)."))})))),Jz(this,"_renderAgreeDisagreeButtons",(()=>{const e=this._returnThought();return!this.props.hideOpinionActions&&c.createElement(eV,null,c.createElement("div",{className:"ask-wrapper"},this._shouldShowAskAnyoneButton()&&c.createElement(Oz,{thoughtContext:this.props.viewingContext,notificationIndex:this._getNotificationIndex(),viewingContext:"Thought"+(this.props.afterTrade?" - After Trade":""),thoughtMetadata:this.props.metadata,securityId:this._returnSecurity().security_id,thoughtId:this._returnThoughtId(),buttonWidth:50,openFormInModal:this.props.useShareInModal,handleAfterAction:this.props.handleAfterAction,socialShareText:`Check out this ${this._returnThoughtType().toUpperCase()} for ${this._returnSecurity().symbol} (${XS(this._returnSecurity().name,15)}) on ${Xo}. What do you think about it?`,thoughtSocialShareLink:this._returnShareUrl(),allowSocialShare:!0}),this._shouldShowAskCTLButton()&&c.createElement(Oz,{containerClass:"ask-ctl-share-button",customAskType:"askCTL",customAskTypeButtonRenderer:"_renderAskCTLThoughtButton",customAskTypeDisabledButtonRenderer:"_renderAskCTLThoughtButtonDisabled",defaultAskingCTL:!0,thoughtContext:this.props.viewingContext,notificationIndex:this._getNotificationIndex(),viewingContext:"Thought"+(this.props.afterTrade?" - After Trade":""),thoughtMetadata:this.props.metadata,securityId:this._returnSecurity().security_id,thoughtId:this._returnThoughtId(),buttonWidth:50,openFormInModal:!0,handleAfterAction:this.props.handleAfterAction})),c.createElement(tV,null,c.createElement(Jr,null,c.createElement(OB,{counts:{agree:e.agree_count,disagree:e.disagree_count},handleClick:this.handleOpinionClick,userOpinion:this._determineIfLiked(e),styleType:this._shouldShowAlternateOpinionActionStyle()?"alternate":"default",inActivityPageFeed:this.props.inActivityPageFeed,inFeed:this.props.inFeed}))))})),Jz(this,"_isImageLoading",(()=>this.state._isImageLoading)),Jz(this,"handleThoughtImageLoad",(()=>{this.setState((()=>({_isImageLoading:!1})))})),Jz(this,"_renderThoughtText",(()=>{if(!this._doesThoughtHaveText())return null;const e="pro"===this._returnThoughtType().toLowerCase()?"pro-text-color":"con-text-color",t=this._returnThoughtText().split("\n");return c.createElement("span",{className:`${e} break-text`,style:{display:"block"}},t.map(((e,t)=>c.createElement(c.Fragment,{key:t},c.createElement("span",{style:{display:"inline-block"}},e),c.createElement("br",null)))))})),Jz(this,"_renderThoughtBody",(()=>{const e=this._isCommunityLeaderThought()||this._isViewpointAuthor();return c.createElement(nV,null,c.createElement("div",{className:`thought ${this._returnThoughtType()}  ${this._isLinkInThought()?"link-in-thought":""}`},c.createElement("div",{className:"thought-text-container"},c.createElement("div",{className:`\n              thought-bubble\n              ${this._isLinkInThought()?"link-in-thought":""}\n            `,onClick:this._handleThoughtClick,style:this._shouldRenderWithLinkToThought()?{cursor:"pointer"}:{}},this.props.customThoughtBubbleHeadingComponent,e&&this._renderThoughtBanner(),this._renderThoughtText(),c.createElement(Xw,{style:this._doesThoughtHaveText()?{}:{marginTop:0},ogo:this._returnOgo(),onLoad:this.handleThoughtImageLoad,thoughtId:this._returnThoughtId(),thoughtType:this._returnThoughtType(),stockSymbol:this._returnSecurity().symbol,securityId:this._returnThoughtSecurityId(),viewingContext:this.props.viewingContext,notificationIndex:this._getNotificationIndex(),metadata:this.props.metadata})),this._renderThoughtPostedAt())))})),Jz(this,"_shouldShowThoughtHeading",(()=>this.props.showThoughtHeading)),Jz(this,"_renderThoughtTypeIcon",(()=>(this._returnThoughtType(),null))),Jz(this,"_renderThoughtHeading",(()=>{const e=this._returnSecurity();return this.props.useStandaloneThoughtHeading?c.createElement("div",{className:"thought-heading-standalone"},c.createElement("span",{className:"thought-heading-text thought-type "+("pro"===this._returnThoughtType()?"pro-text-color":"con-text-color"),style:{marginRight:"4px"}},this._returnThoughtType()),c.createElement("span",{className:"thought-heading-text",style:{marginRight:"4px"}},"for"),c.createElement(Fz,{securityId:e.security_id,symbol:e.symbol,name:e.name,activeTab:this.props.inFeed?null:"thoughts",inFeed:this.props.inFeed,prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0,linkToPage:!this._isUserAuthenticated()})):c.createElement("div",{className:"thought-heading-standalone"},c.createElement("span",{className:"thought-heading-text thought-type "+("pro"===this._returnThoughtType()?"pro-text-color":"con-text-color"),style:{marginRight:"4px"}},this._returnThoughtType()),c.createElement("span",{className:"thought-heading-text",style:{marginRight:"4px"}},"for"),c.createElement(Fz,{securityId:e.security_id,symbol:e.symbol,name:e.name,prefix:"(",suffix:")",activeTab:this.props.inFeed?null:"thoughts",inFeed:this.props.inFeed,linkToPage:!this._isUserAuthenticated(),showSymbol:!0,showName:!0,limitNameWidth:!0}))})),Jz(this,"_postThoughtOpinion",(e=>this.props.actions.sendThoughtOpinion(this._returnThought(),e,this._returnCurrentUserId()).then((t=>(t&&!t.error||this._showPostThoughtErrorModal(e),t))))),Jz(this,"_handleJoinDiscussionClick",(()=>{window.location="/app/signup"})),Jz(this,"_handleThoughtClick",(()=>{this._shouldRenderWithLinkToThought()&&(this._openSecurityPanelToThought(),this._logClickedViewThought())})),Jz(this,"_openSecurityPanelToThought",(()=>{const e={activeTab:"thoughts",thoughtId:this._returnThoughtId()},t={securityId:this._returnThoughtSecurityId(),additionalProps:e,location:window.location},n=CU(t);this.props.navigate(n)})),Jz(this,"_shouldShowAskAnyoneButton",(()=>!this.props.hideShareLink&&this._isUserAuthenticated())),Jz(this,"_shouldShowAskCTLButton",(()=>this.props.showAskCTLLink)),Jz(this,"_didUserDisagree",(e=>"disagree"===e)),Jz(this,"_returnCountWho",(e=>"agree"===e?this._returnAgreeCount():this._returnDisagreeCount())),Jz(this,"_returnAgreeCount",(()=>this._returnThought().agree_count)),Jz(this,"_returnDisagreeCount",(()=>this._returnThought().disagree_count)),Jz(this,"_returnUserIdsWho",(e=>"agree"===e?this._returnUserIdsWhoAgree():this._returnUserIdsWhoDisagree())),Jz(this,"_sortCurrentUserToTop",(e=>e.some((e=>this._returnCurrentUserId()===e))?[this._returnCurrentUserId(),...e.filter((e=>this._returnCurrentUserId()!==e))]:e)),Jz(this,"_returnUserIdsWhoAgree",(()=>this._sortCurrentUserToTop(this._returnThought().agree_user_ids))),Jz(this,"_returnUserIdsWhoDisagree",(()=>this._sortCurrentUserToTop(this._returnThought().disagree_user_ids))),Jz(this,"_returnCommunityUserCountWho",(e=>"agree"===e?this._returnCommunityUserAgreeCount():this._returnCommunityUserDisagreeCount())),Jz(this,"_returnCommunityUserAgreeCount",(()=>this._returnAgreeCount()-this._returnUserIdsWhoAgree().length)),Jz(this,"_returnCommunityUserDisagreeCount",(()=>this._returnDisagreeCount()-this._returnUserIdsWhoDisagree().length)),Jz(this,"_handleUserDisagreeAction",(()=>{this._showDisagreeAddThoughtPrompt()})),Jz(this,"_handleUserAgreeAction",(()=>{this._hideDisagreeAddThoughtPrompt()})),Jz(this,"handleAfterThoughtAction",(e=>{this.props.handleAfterThoughtAction&&this.props.handleAfterThoughtAction(e)})),Jz(this,"handleOpinionClick",(e=>{if(this._isUserAuthenticated())return this._logThoughtAgreeClick(e),this.handleAfterThoughtAction(e),this._didUserDisagree(e)?this._handleUserDisagreeAction():this._handleUserAgreeAction(),this._postThoughtOpinion(e);this._logUnauthenticatedUserOpinionClick(e),this._showJoinDiscussionModal(e)})),Jz(this,"_returnThoughtTrackingData",(()=>({"Thought Id":this._returnThoughtId(),"Has Link":!!this._returnOgo(),"Thought Type":this._returnThoughtType(),"Stock Symbol":this._returnSecurity().symbol,"Security ID":this._returnThoughtSecurityId()}))),Jz(this,"_showOpinionUsersTooltip",(e=>(this._logViewOpinionTooltip(e),"agree"===e?this._showAgreeUsersTooltip():this._showDisagreeUsersTooltip()))),Jz(this,"_showTooltip",(e=>{this.setState((()=>({_showOpinionTooltip:!0,_opinionInTooltip:e||null})))})),Jz(this,"hideTooltip",(()=>{this.setState((()=>({_showOpinionTooltip:null,_opinionInTooltip:null})))})),Jz(this,"_showAgreeUsersTooltip",(()=>this._showTooltip("agree"))),Jz(this,"_showDisagreeUsersTooltip",(()=>this._showTooltip("disagree"))),Jz(this,"_handleOpinionCountClick",(e=>this._showOpinionUsersTooltip(e))),Jz(this,"_handleAgreeCountClick",(()=>this._handleOpinionCountClick("agree"))),Jz(this,"_handleDisagreeCountClick",(()=>this._handleOpinionCountClick("disagree"))),Jz(this,"_determineIfLiked",(e=>!0===e.agree?"agree":!1===e.agree?"disagree":"neutral")),Jz(this,"_returnThoughtSecurityId",(()=>this.props.securityId||this.props.thought.security_id)),Jz(this,"_returnThoughtId",(()=>this.props.thoughtId)),Jz(this,"_getNotificationIndex",(()=>this.props.notificationIndex)),Jz(this,"_returnShareUrl",(()=>this._returnThought().share_url||`${window.origin}/thoughts/${this._returnThoughtId()}`)),Jz(this,"_returnThought",(()=>this._returnStoreThought()||this.props.thought)),Jz(this,"_returnThoughtAuthorUserId",(()=>this._returnThought().author_id)),Jz(this,"_returnStoreThought",(()=>this._returnSecurityThoughtLookup()[this._returnThoughtId()]||null)),Jz(this,"_returnThoughtsStore",(()=>this.props.thoughts)),Jz(this,"_returnThoughtsSecurityLookup",(()=>this._returnThoughtsStore().securityLookup)),Jz(this,"_returnThoughtSecurityData",(()=>this._returnThoughtsSecurityLookup()[this._returnThoughtSecurityId()]||{})),Jz(this,"_returnSecurityThoughtLookup",(()=>this._returnThoughtSecurityData().thoughtLookup||{})),Jz(this,"_isSecurityDataAvailable",(()=>this._returnSecurity()&&Object.keys(this._returnSecurity()).length>0)),Jz(this,"_returnSecurity",(()=>this.props.security)),Jz(this,"_isSecurityFeatured",(()=>this._returnSecurity().featured)),Jz(this,"_isUserAuthenticated",(()=>this.props.isUserAuthed)),Jz(this,"_returnCurrentUser",(()=>this.props.currentUser)),Jz(this,"_returnCurrentUserId",(()=>{return(e=this._returnCurrentUser())?e.user_id:null;var e})),Jz(this,"_returnThoughtText",(()=>this._returnThought().thought)),Jz(this,"returnThoughtPostedAt",(()=>this._returnThought().posted_at_timestamp||null)),Jz(this,"returnThoughtPostedAtDisplayString",(()=>null===this.returnThoughtPostedAt()?null:Yl("ll",jl(1e3*this.returnThoughtPostedAt())))),Jz(this,"_doesThoughtHaveText",(()=>!nk(this._returnThoughtText()))),Jz(this,"_returnOgo",(()=>this._returnThought().open_graph_object)),Jz(this,"_isLinkInThought",(()=>!!this._returnOgo())),Jz(this,"_doesThoughtHaveType",(()=>this._returnThought().thought_type&&this._returnThought().thought_type.name)),Jz(this,"_returnThoughtType",(()=>this._doesThoughtHaveType()?this._returnThought().thought_type.name.toLowerCase():"")),Jz(this,"_showPostThoughtErrorModal",(e=>{const t={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},`Could not save ${e}. Please try again later.`),dismissable:!0};return this.props.actions.showModal(t)})),Jz(this,"_showJoinDiscussionModal",(()=>{const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Sign in or sign up to join the discussion.",c.createElement("div",{className:"redirect-to-sign-up-container"},c.createElement(hx,{onClick:this._handleJoinDiscussionClick},"Continue"))),dismissable:!0,size:"wide"};this.props.actions.showModal(e)})),Jz(this,"_shouldShowAlternateOpinionActionStyle",(()=>this.props.showAlternateOpinionActionStyle)),Jz(this,"_shouldHideOpinionCounts",(()=>this.props.hideOpinionCounts)),Jz(this,"_shouldRenderWithLinkToThought",(()=>this.props.withThoughtLink)),Jz(this,"_shouldShowDisagreeAddThoughtPrompt",(()=>this.state._showDisagreeAddThoughtPrompt)),Jz(this,"_shouldShowSeeConnectionOpinions",(()=>this.state._showOpinionTooltip)),Jz(this,"_returnOpinionInTooltip",(()=>this.state._opinionInTooltip)),Jz(this,"_showDisagreeAddThoughtPrompt",(()=>{this.setState((()=>({_showDisagreeAddThoughtPrompt:!0})))})),Jz(this,"_handleAdditionalPromptForThoughtAfterDisagreeAction",(()=>{this.props.handleAdditionalPromptForThoughtAfterDisagreeAction&&this.props.handleAdditionalPromptForThoughtAfterDisagreeAction()})),Jz(this,"_handleAfterAdditionalThoughtCreated",(()=>{this._hideDisagreeAddThoughtPrompt(),this._handleAdditionalPromptForThoughtAfterDisagreeAction()})),Jz(this,"_handleDismissAdditionalThoughtPrompt",(()=>{this._hideDisagreeAddThoughtPrompt(),this._handleAdditionalPromptForThoughtAfterDisagreeAction()})),Jz(this,"_hideDisagreeAddThoughtPrompt",(()=>{this.setState((()=>({_showDisagreeAddThoughtPrompt:!1})))})),Jz(this,"_handleFetchThoughtData",(()=>{this._fetchThoughtsDataForSecurity()})),Jz(this,"_fetchSecurityData",(()=>this.props.actions.quickFetchSecuritiesData([this._returnThoughtSecurityId()]))),Jz(this,"_fetchThoughtsDataForSecurity",(()=>this.props.actions.fetchThoughts([this._returnThoughtSecurityId()]))),Jz(this,"_checkForFocusThought",(()=>{if("thoughtList"!==this.props.thoughtDisplayContext)return!1;fu(this.props.location)!==this._returnThoughtId()||this._isLoading()||this._didFocusThoughtTrigger||(this._didFocusThoughtTrigger=!0,this._removeFocusThoughtIdFromUrl(),this._runFocusAnimation())})),Jz(this,"_setIsFocused",(()=>{this.setState((()=>({_isThoughtFocused:!0})))})),Jz(this,"_runFocusAnimation",(()=>{this._setIsFocused(),setTimeout(this._scrollToThisThought,100)})),Jz(this,"_scrollToThisThought",(()=>{QF(window.$(this.ThoughtContainer),window.$(this.props.scrollContainerSelector!==window?this.props.scrollContainerSelector:window.$("html, body")),600,75)})),Jz(this,"_removeFocusThoughtIdFromUrl",(()=>{const e=this.props.location.search,t=fe(e);t.focus_thought_id&&delete t.focus_thought_id;const n=ve(t);this.props.navigate(this.props.location.pathname+n)})),Jz(this,"_returnViewingContext",(()=>this.props.viewingContext?{Context:this.props.viewingContext}:{})),Jz(this,"_logViewConnectionsOpinions",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Thought To View Agreeing Connections")})),Jz(this,"_logUnauthenticatedUserOpinionClick",(e=>{const t="Unauthenticated User Clicked "+e,n=l(o({},this._returnThoughtTrackingData()),{Opinion:ck(e)});this.props.actions.logMetricsTrackingEvent(t,n)})),Jz(this,"_logViewOpinionTooltip",(e=>{const t=o(l(o({},this._returnThoughtTrackingData()),{Opinion:ck(e),"Suggested Thought":this.props.isSuggestedThought}),this._returnViewingContext());this.props.actions.logMetricsTrackingEvent("View Users With Thought Opinion",t)})),Jz(this,"_logClickedViewThought",(()=>{const e=this.props.viewingContext,t=this._getNotificationIndex(),n=l(o({},this._returnThoughtTrackingData()),{Context:e});Cu("Clicked Thought",{themeTestGroups:jp(this.props.currentUser)}),this.props.actions.logMetricsTrackingEvent("Clicked View Thought",n),_u("text",this._returnThoughtId(),e),this.props.actions.sendThoughtClickEvent(this._returnThoughtId(),"text",e,this.props.metadata,t)})),Jz(this,"_logThoughtAgreeClick",(e=>{const t=this.props.viewingContext,n=this._getNotificationIndex(),r=this._returnSecurity(),i=o(l(o({},this._returnThoughtTrackingData()),{"Stock Symbol":r.symbol,"Security ID":r.security_id,Agree:"agree"===e,"Suggested Thought":this.props.isSuggestedThought}),this._returnViewingContext());this.props.actions.logMetricsTrackingEvent("Clicked Thought Agree",i),_u(e,this._returnThoughtId(),t),this.props.actions.sendThoughtClickEvent(this._returnThoughtId(),e,t,this.props.metadata,n)})),this.state={_showDisagreeAddThoughtPrompt:!1,_isImageLoading:!0,_showOpinionTooltip:!1,_opinionInTooltip:!1,_isThoughtFocused:!1}}componentDidMount(){this.props.fetchThoughtData&&this._handleFetchThoughtData(),this._checkForFocusThought()}componentDidUpdate(){this._checkForFocusThought()}render(){return this._isThoughtOrSecurityDataLoading()?this._renderLoadingThought():this._renderThought()}}const iV=N(_c,T((e=>({currentUser:e.currentUser,thoughts:e.thoughts})),(e=>({actions:I(WC,e)}))))(rV),aV=e=>{const{userIds:t,showEllipsisUserListAfter:n,showEllipsisUserListAfterIfExceedMaxShow:r,maxShowIdCount:i}=e;return c.createElement("div",{className:"notification-avatar-heading-container"},c.createElement(KL,{userIds:t,maxShowIdCount:i||10,showEllipsisUserListAfterIfExceedMaxShow:r,showEllipsisUserListAfter:n}))},sV=e=>{const{className:t,id:n}=e;return c.createElement("svg",l(o({},n?{id:n}:{}),{className:`chart-up-icon ${t||""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 228.34 165.37"}),c.createElement("title",null,"chart-up"),c.createElement("g",null,c.createElement("path",{d:"M30.38,124.21a8.18,8.18,0,0,0,.91-.72L95,59.78c2.39-2.39,4.09-2.38,6.51,0q12.14,12.12,24.27,24.27c.31.31.57.66.78.9l51.76-51.76L176.07,31,159.72,14.65c-1.45-1.46-1.72-2.7-1-4.32a3.42,3.42,0,0,1,3.46-2.06q18.24,0,36.48,0h11.4c2.89,0,4.13,1.25,4.13,4.18q0,10.92,0,21.84,0,12.78,0,25.56a3.76,3.76,0,0,1-1.61,3.53,3.51,3.51,0,0,1-4.76-.63c-4.11-4.09-13.21-13.19-17.31-17.3a12.17,12.17,0,0,1-.87-1.13c-.52.48-.86.79-1.19,1.12l-57.89,57.89-.85.84c-2,2-3.87,2-5.84,0Q111.59,91.9,99.29,79.59a12.59,12.59,0,0,1-.85-1L41.59,135.41Z"}),c.createElement("path",{d:"M8.89,157.1H228.34v8.27H0V0H8.89Z"})))},oV=e=>{const{className:t,id:n}=e;return c.createElement("svg",l(o({},n?{id:n}:{}),{className:`chart-down-icon ${t||""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 228.34 165.37"}),c.createElement("title",null,"chart-down"),c.createElement("g",null,c.createElement("path",{d:"M30.38,19.48a9.39,9.39,0,0,1,.91.71L95,83.91c2.39,2.39,4.09,2.38,6.51,0L125.8,59.6c.31-.31.57-.66.78-.91l51.76,51.77-2.27,2.22c-3.62,3.62-12.74,12.73-16.35,16.36-1.45,1.46-1.72,2.7-1,4.32a3.41,3.41,0,0,0,3.46,2q18.24,0,36.48,0h11.4c2.89,0,4.13-1.25,4.13-4.18q0-10.92,0-21.84,0-12.78,0-25.56a3.76,3.76,0,0,0-1.61-3.53,3.52,3.52,0,0,0-4.76.62c-4.11,4.1-13.21,13.2-17.31,17.31a12.17,12.17,0,0,0-.87,1.13c-.52-.49-.86-.79-1.19-1.12L130.59,40.34l-.85-.85c-2-2-3.87-2-5.84,0Q111.59,51.79,99.29,64.1a12.59,12.59,0,0,0-.85,1L41.59,8.27Z"}),c.createElement("path",{d:"M8.89,157.1H228.34v8.27H0V0H8.89Z"})))},lV=u.div`
  svg {
    fill: ${({theme:e,isThoughtTypePro:t})=>t?e.themeColors.proColor:e.themeColors.conColor};
  }
`,cV=e=>{const{isThoughtTypePro:t}=e,n=t?"Pro":"Con",r=t?"pro-text-color":"con-text-color",i=t?c.createElement(sV,null):c.createElement(oV,null);return c.createElement(lV,{className:"thought-type-with-icon-container",isThoughtTypePro:t},c.createElement("span",{className:"thought-type-icon"},i),c.createElement("span",{className:`thought-type-string ${r}`},n))};class dV extends c.PureComponent{render(){const{security:e,isThoughtTypePro:t}=this.props;return c.createElement("div",{className:"thought-notification-thought-heading-container"},c.createElement(Fz,{securityId:e.security_id,symbol:e.symbol,name:e.name,prefix:"(",suffix:")",inFeed:!0,showSymbol:!0,showName:!0,limitNameWidth:!0}),c.createElement(cV,{isThoughtTypePro:t}))}}var uV=Object.defineProperty,hV=(e,t,n)=>(((e,t,n)=>{t in e?uV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class pV extends c.PureComponent{constructor(){super(...arguments),hV(this,"handleClick",(()=>{const{thoughtId:e,viewingContext:t,metadata:n,notificationIndex:r,dispatch:i}=this.props,a="more";_u(a,e,t),kC(e,a,t,n,r)(i)}))}render(){const{security:e}=this.props;return c.createElement("div",{className:"thought-notification-see-more-on-security-container",onClick:this.handleClick},c.createElement(Fz,{customClassName:"link-btn link-btn-std-color btn-small",securityId:e.security_id,symbol:e.symbol,prefixString:"See more on",activeTab:"thoughts",showSymbol:!0}))}}var mV=T()(pV);const gV=e=>{const{className:t,epochTime:n}=e;return c.createElement("div",{className:`timestamp ${t||""} secondary-text-color`},(()=>{jl();return jl(1e3*n).fromNow()})())};var yV=Object.defineProperty,_V=(e,t,n)=>(((e,t,n)=>{t in e?yV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const fV=u.div`
  .thought-feed-thought-headline {
    * {
      font-size: 14px !important;
      line-height: 18px !important;
      color: ${({theme:e})=>e.themeColors.text};
    }
  }
`;class vV extends c.PureComponent{constructor(){super(),_V(this,"renderNonConnectionThoughtHeading",(()=>c.createElement("div",{className:"non-connection-thought-heading"},this.isThoughtFromCommunity()?this.returnCommunityThoughtPhrase():this.returnTrendingThoughtPhrase()))),_V(this,"isNonConnectionThought",(()=>0===this.returnUserIdsForHeading().length)),_V(this,"returnCommunityThoughtPhrase",(()=>"New from the community")),_V(this,"returnTrendingThoughtPhrase",(()=>"Trending in the community")),_V(this,"isThoughtTypePro",(()=>0===this._returnThought().thought_type.id)),_V(this,"returnThoughtCreatorUserId",(()=>this._returnNotificationData().originator_user?this._returnNotificationData().originator_user.user_id:null)),_V(this,"returnAgreeUserIds",(()=>this._returnThoughtAgreeData()?this._returnThoughtAgreeData().users.map((e=>e.user_id)):[])),_V(this,"returnDisagreeUserIds",(()=>this._returnThoughtDisagreeData()?this._returnThoughtDisagreeData().users.map((e=>e.user_id)):[])),_V(this,"returnCommunityAgreeCount",(()=>this._returnThoughtAgreeData()?this._returnThoughtAgreeData().total_count:0)),_V(this,"returnCommunityDisagreeCount",(()=>this._returnThoughtDisagreeData()?this._returnThoughtDisagreeData().total_count:0)),_V(this,"returnUserIdsForHeading",(()=>[...this.returnAgreeUserIds(),...this.returnDisagreeUserIds()])),_V(this,"_isThoughtAgree",(()=>!nk(this._returnThoughtAgreeData()))),_V(this,"_isThoughtDisagree",(()=>!nk(this._returnThoughtDisagreeData()))),_V(this,"_isThoughtAgreeOnly",(()=>nk(this._returnThoughtDisagreeData()))),_V(this,"_doesThoughtHaveBothAgreeAndDisagree",(()=>this._isThoughtAgree()&&this._isThoughtDisagree())),_V(this,"_returnThoughtCommunityType",(()=>this._returnNotificationData().from_community_type)),_V(this,"isThoughtTrending",(()=>this._returnThoughtCommunityType()&&"trending"===this._returnThoughtCommunityType())),_V(this,"isThoughtFromCommunity",(()=>this._returnThoughtCommunityType()&&"fresh"===this._returnThoughtCommunityType())),_V(this,"_returnCurrentUser",(()=>this.props.currentUser)),_V(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),_V(this,"_isUserCurrentUser",(e=>this._returnCurrentUserId()===e)),_V(this,"_returnThought",(()=>this._returnNotificationData().thought)),_V(this,"_returnThoughtType",(()=>0===this._returnThought().thought_type.id?"Pro":"Con")),_V(this,"_returnThoughtAgreeData",(()=>this._returnNotificationData().agree)),_V(this,"_returnThoughtDisagreeData",(()=>this._returnNotificationData().disagree)),_V(this,"_returnSecurity",(()=>this._returnNotificationData().security)),_V(this,"_returnNotificationTimestamp",(()=>this._returnNotificationData().time)),_V(this,"_shouldHideNotificationTimestamp",(()=>!1===this._returnNotificationData().show_timestamp)),_V(this,"_returnThoughtId",(()=>this.props.notification.data.thought.id)),_V(this,"_returnMetadata",(()=>this.props.notification.data.metadata)),_V(this,"_findThoughtNotificationInNotificationsList",(()=>this._returnNotificationsList().filter((e=>e&&"thought_clean_style"===e.type&&e.data.thought.id===this._returnThoughtId()))[0])),_V(this,"_returnNotificationsList",(()=>this._returnNotificationsStore().notificationsList)),_V(this,"_returnNotificationsStore",(()=>this.props.notifications)),_V(this,"_returnNotificationIndex",(()=>{const e=this.props.notificationIndex;return $k(e)||console.error("Thought Notification Missing Index"),e})),_V(this,"_returnNotification",(()=>this._findThoughtNotificationInNotificationsList())),_V(this,"_returnNotificationData",(()=>this._returnNotification().data)),this.VIEWING_CONTEXT=yS("FEED")}render(){return c.createElement(fV,{className:"react-thought-notification react-social-thought-notification"},this.isNonConnectionThought()?this.renderNonConnectionThoughtHeading():c.createElement(aV,{userIds:this.returnUserIdsForHeading(),maxShowIdCount:10,showEllipsisUserListAfterIfExceedMaxShow:!0}),c.createElement(oB,{securityId:this._returnSecurity().security_id},c.createElement(iV,{key:`notification-thought-container-${this._returnThoughtId()}`,thoughtId:this._returnThoughtId(),notificationIndex:this._returnNotificationIndex(),handleAfterThoughtAction:this.props.handleAfterThoughtAction,handleAdditionalPromptForThoughtAfterDisagreeAction:this.props.handleAdditionalPromptForThoughtAfterDisagreeAction,viewingContext:this.VIEWING_CONTEXT,metadata:this._returnMetadata(),ignoreImpressionTracking:this.props.ignoreImpressionTracking,scrollContainerSelector:this.props.scrollContainerSelector||window,isUserAuthed:!0,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,showAlternateOpinionActionStyle:!0,showAskCTLLink:!0,hideOpinionCounts:!0,withThoughtLink:!0,useShareInModal:!0,customThoughtBubbleHeadingComponent:c.createElement(dV,{security:this._returnSecurity(),isThoughtTypePro:this.isThoughtTypePro()})})),c.createElement(wB,{thoughtId:this._returnThoughtId(),securityId:this._returnSecurity().security_id},(e=>c.createElement(xB,{agreeUserIds:this.returnAgreeUserIds(),disagreeUserIds:this.returnDisagreeUserIds(),communityAgreeCount:this.returnCommunityAgreeCount(),communityDisagreeCount:this.returnCommunityDisagreeCount(),thought:e,isSocialStyle:!0}))),c.createElement(mV,{security:this._returnSecurity(),thoughtId:this._returnThoughtId(),notificationIndex:this._returnNotificationIndex(),viewingContext:this.VIEWING_CONTEXT,metadata:this._returnMetadata()}),!this._shouldHideNotificationTimestamp()&&c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()}))}}const EV=T((e=>({notifications:e.notifications})),null)(vV);var bV=Object.defineProperty,CV=(e,t,n)=>(((e,t,n)=>{t in e?bV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class xV extends C.exports.Component{constructor(){super(...arguments),CV(this,"_renderThoughtNotificationMessage",(()=>c.createElement("div",{className:"react-thought-notification-message"},this._isThoughtAgree()&&this._renderThoughtAgreeNotificationMessage(),this._isThoughtDisagree()&&this._renderThoughtDisagreeNotificationMessage(),this._isThoughtTrending()&&this._renderThoughtTrendingNotificationMessage(),this._isThoughtFromCommunity()&&this._renderThoughtCommunityNotificationMessage()))),CV(this,"_returnUserIdsForNotificationHeading",(()=>this._returnNotificationData().all_users.map((e=>e.id)))),CV(this,"_isThoughtAgree",(()=>!nk(this._returnThoughtAgreeData()))),CV(this,"_isThoughtDisagree",(()=>!nk(this._returnThoughtDisagreeData()))),CV(this,"_isThoughtAgreeOnly",(()=>nk(this._returnThoughtDisagreeData()))),CV(this,"_doesThoughtHaveBothAgreeAndDisagree",(()=>this._isThoughtAgree()&&this._isThoughtDisagree())),CV(this,"_renderThoughtAgreeNotificationMessage",(()=>{const e=this._returnThoughtOpinionedData("agree");return this._renderThoughtNotificationFullSubMessage(e)})),CV(this,"_renderThoughtTrendingNotificationMessage",(()=>c.createElement("div",{className:"thought-notification-full-message"},c.createElement("span",{className:"community-prefix-phrase prefix-phrase"},this._returnTrendingThoughtPrefixPhrase()),this._renderThoughtType(),this._renderThoughtTypeToSecurityConjunction(),this._renderSecurity(!0),c.createElement("span",{className:"community-suffix-phrase"},this._returnCommunityThoughtSuffixPhrase())))),CV(this,"_renderThoughtCommunityNotificationMessage",(()=>c.createElement("div",{className:"thought-notification-full-message"},c.createElement("span",{className:"community-prefix-phrase prefix-phrase"},this._returnCommunityThoughtPrefixPhrase()),this._renderThoughtType(),this._renderThoughtTypeToSecurityConjunction(),this._renderSecurity(!0),c.createElement("span",{className:"community-suffix-phrase"},this._returnCommunityThoughtSuffixPhrase())))),CV(this,"_renderThoughtNotificationFullSubMessage",(e=>c.createElement("div",{className:"thought-notification-full-message"},this._renderUsersPhrase(e),this._renderThoughtActionPhrase(e),this._renderThoughtPhrase(e),this._renderThoughtType(),this._renderThoughtTypeToSecurityConjunction(),this._renderSecurity()))),CV(this,"_renderThoughtNotificationAlternateSubMessage",(e=>c.createElement("div",{className:"thought-notification-alt-message"},this._renderUsersPhrase(e),this._renderThoughtActionPhrase(e)))),CV(this,"_renderThoughtDisagreeNotificationMessage",(()=>{const e=this._returnThoughtOpinionedData("disagree");return this._doesThoughtHaveBothAgreeAndDisagree()?this._renderThoughtNotificationAlternateSubMessage(e):this._renderThoughtNotificationFullSubMessage(e)})),CV(this,"_renderThought",(()=>c.createElement(oB,{securityId:this._returnSecurity().security_id},c.createElement(iV,{key:`notification-thought-container-${this._returnThoughtId()}`,notificationIndex:this._returnNotificationIndex(),thoughtId:this._returnThoughtId(),isUserAuthed:!0,handleAfterThoughtAction:this.props.handleAfterThoughtAction,handleAdditionalPromptForThoughtAfterDisagreeAction:this.props.handleAdditionalPromptForThoughtAfterDisagreeAction,viewingContext:yS("FEED"),metadata:this._returnMetadata(),ignoreImpressionTracking:this.props.ignoreImpressionTracking,scrollContainerSelector:this.props.scrollContainerSelector||window,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,showAskCTLLink:!0,showAlternateOpinionActionStyle:!0,hideOpinionCounts:!0,withThoughtLink:!0,useShareInModal:!0})))),CV(this,"_returnCSSClassForOpinion",(e=>this._isActionPhraseAnOpinion(e)?this._returnThoughtActionPhrase(e).toLowerCase().indexOf("dis")>=0?"disagree-text-color":"agree-text-color":" ")),CV(this,"_renderThoughtActionPhrase",(e=>c.createElement("span",{className:`thought-action-phrase ${this._returnCSSClassForOpinion(e)}`},this._returnThoughtActionPhrase(e)))),CV(this,"_renderThoughtPhrase",(e=>{const t=this._returnThoughtPhrase(e);if(this._isThoughtAuthorInPhrase(t)){const n=t.split(" $$")[0],r=this._returnThoughtAuthor(e),i=!0;return c.createElement("span",{className:"thought-phrase  "},n," ",this._renderUser(r,i))}return c.createElement("span",{className:"thought-phrase  "},t)})),CV(this,"_renderThoughtType",(()=>c.createElement("span",{className:`thought-type-phrase ${this._returnThoughtTypeColorClass()}`},this._returnThoughtType().toUpperCase()))),CV(this,"_renderThoughtTypeToSecurityConjunction",(()=>c.createElement("span",{className:"security-conjunction-phrase  "},"for"))),CV(this,"_renderSecurity",(e=>{const t=this._returnSecurity();return c.createElement(Fz,{securityId:t.security_id,symbol:t.symbol,name:t.name,prefix:"(",suffix:")",activeTab:e?"thoughts":null,showSymbol:!0,showName:!0,limitNameWidth:!0,inFeed:!0})})),CV(this,"_renderUsersPhrase",(e=>{const t=this._returnUsersPhrase(e),n=this._returnUsersShareOpinion(e);if(!t)return null;const r=(e,t)=>c.createElement("span",{key:t,className:"user-phrase-conjunction  "},e),i=`thought-${this._returnThoughtId()}`,a=[];let s=[],o=0;const l=this._returnUserEscapeChar()[0];for(let c=0;c<t.length;c++){const e=t[c];if(e===l&&s.length>0&&s[0]!==l&&(a.push(r(s.join(""),`conjunction-${i}-${c}`)),s=[]),s.push(e),s[0]===l&&s[1]===l){const e=n[o],t=!1;a.push(this._renderUser(e,t,`user-${e.user_id}-${i}-${c}`)),s=[],o+=1}}return s.length>0&&(a.push(r(s.join(""),`conjunction-${i}-last`)),s=[]),c.createElement("span",{className:"thought-users-phrase"},a)})),CV(this,"_renderUser",((e,t,n)=>{const r={};return n&&(r.key=n),c.createElement(gP,l(o({key:`user-${e.user_id}-in-thought-${this._returnThoughtId()}`},r),{user:e,userId:e.user_id}),!this._shouldRenderProfileAvatarHeading()&&c.createElement(VP,{profileLinkQuery:`?context=${Yg}`}),c.createElement(WL,{isPossessive:t,profileLinkQuery:`?context=${Yg}`,useYou:!0}))})),CV(this,"_returnSrcBadgeIcon",(()=>"pro"===this._returnThoughtType().toLowerCase()?this._isThoughtTrending()||this._isThoughtFromCommunity()?"/app/assets/chart-up-white.b167ce01.png":SB:this._isThoughtTrending()||this._isThoughtFromCommunity()?"/app/assets/chart-down-white.d909307e.png":"/app/assets/chart-down-red.cfe44887.png")),CV(this,"_returnBadgeClassNames",(()=>this._isThoughtTrending()||this._isThoughtFromCommunity()?"badge-icon gradient":"badge-icon badge-grey")),CV(this,"_shouldRenderProfileAvatarHeading",(()=>this.props.renderProfileAvatarHeading&&!this._isThoughtTrending()&&!this._isThoughtFromCommunity())),CV(this,"_returnThoughtCommunityType",(()=>this._returnNotificationData().from_community_type)),CV(this,"_isThoughtTrending",(()=>this._returnThoughtCommunityType()&&"trending"===this._returnThoughtCommunityType())),CV(this,"_isThoughtFromCommunity",(()=>this._returnThoughtCommunityType()&&"fresh"===this._returnThoughtCommunityType())),CV(this,"_returnTrendingThoughtPrefixPhrase",(()=>"Trending")),CV(this,"_returnCommunityThoughtPrefixPhrase",(()=>"New")),CV(this,"_returnCommunityThoughtSuffixPhrase",(()=>"from the community")),CV(this,"_returnCurrentUser",(()=>this.props.currentUser)),CV(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),CV(this,"_isUserCurrentUser",(e=>this._returnCurrentUserId()===e)),CV(this,"_returnThought",(()=>this._returnNotificationData().thought)),CV(this,"_returnThoughtType",(()=>0===this._returnThought().thought_type.id?"Pro":"Con")),CV(this,"_returnThoughtTypeColorClass",(()=>0===this._returnThought().thought_type.id?"pro-text-color":"con-text-color")),CV(this,"_returnThoughtOpinionedData",(e=>this._returnNotificationData()[e])),CV(this,"_isThoughtAuthorInPhrase",(e=>e.indexOf(this._returnUserEscapeChar())>=0)),CV(this,"_returnThoughtActionPhrase",(e=>e.action_phrase)),CV(this,"_returnThoughtPhrase",(e=>"string"==typeof e.thought_phrase?e.thought_phrase.trim():"")),CV(this,"_returnUsersPhrase",(e=>e.users_phrase)),CV(this,"_returnUsersShareOpinion",(e=>e.users)),CV(this,"_isActionPhraseAnOpinion",(e=>this._returnThoughtActionPhrase(e).indexOf("agree")>=0)),CV(this,"_returnThoughtAuthor",(e=>e.users[e.users.length-1])),CV(this,"_returnUserEscapeChar",(()=>"$$")),CV(this,"_returnThoughtAgreeData",(()=>this._returnNotificationData().agree)),CV(this,"_returnThoughtDisagreeData",(()=>this._returnNotificationData().disagree)),CV(this,"_returnSecurity",(()=>this._returnNotificationData().security)),CV(this,"_returnNotificationTimestamp",(()=>this._returnNotificationData().time)),CV(this,"_shouldHideNotificationTimestamp",(()=>!1===this._returnNotificationData().show_timestamp)),CV(this,"_returnNotification",(()=>this._findThoughtNotificationInNotificationsList())),CV(this,"_returnThoughtId",(()=>this.props.notification.data.thought.id)),CV(this,"_returnMetadata",(()=>this.props.notification.data.metadata)),CV(this,"_findThoughtNotificationInNotificationsList",(()=>this._returnNotificationsList().filter((e=>e&&"thought"===e.type&&e.data.thought.id===this._returnThoughtId()))[0])),CV(this,"_returnNotificationsList",(()=>this._returnNotificationsStore().notificationsList)),CV(this,"_returnNotificationsStore",(()=>this.props.notifications)),CV(this,"_returnNotificationData",(()=>this._returnNotification().data)),CV(this,"_returnNotificationIndex",(()=>{const e=this.props.notificationIndex;return $k(e)||console.error("Thought Notification Missing Index"),e}))}render(){return c.createElement("div",{className:"react-thought-notification "+(this._shouldRenderProfileAvatarHeading()?"with-notification-heading":"")},this._shouldRenderProfileAvatarHeading()&&c.createElement(aV,{userIds:this._returnUserIdsForNotificationHeading()}),this._renderThoughtNotificationMessage(),this._renderThought(),!this._shouldHideNotificationTimestamp()&&c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()}))}}const wV=T((e=>({notifications:e.notifications})),null)(xV),SV=e=>{const{thought:t}=e,n=t.thought_type,r=n.id,i=n.name.toUpperCase(),a=0===r?"pro-text-color":"con-text-color";return c.createElement("span",{className:`thought-type-wrapper ${a}`},i)},kV=e=>{const{data:t,viewingContext:n,afterTrade:r,withThoughtLink:i,linkToSecurity:a,ignoreImpressionTracking:s,inFeed:o,inActivityPageFeed:l,notificationIndex:d,handleAdditionalPromptForThoughtAfterDisagreeAction:u,handleAfterThoughtAction:h}=e,p=t.notification,m=!!p,g=m?p.data.thought:t;return c.createElement("div",{className:"thought-feed-item-container"},m?c.createElement("div",{className:"react-thought-notification"},e.thoughtCleanStyle?c.createElement(EV,{notification:p,notificationIndex:d,ignoreImpressionTracking:s,scrollContainerSelector:e.scrollContainerSelector,handleAfterThoughtAction:h,handleAdditionalPromptForThoughtAfterDisagreeAction:u,inFeed:o,inActivityPageFeed:l,renderProfileAvatarHeading:!0}):c.createElement(wV,{notification:p,notificationIndex:d,ignoreImpressionTracking:s,scrollContainerSelector:e.scrollContainerSelector,handleAfterThoughtAction:h,handleAdditionalPromptForThoughtAfterDisagreeAction:u,inFeed:o,inActivityPageFeed:l,renderProfileAvatarHeading:!0})):c.createElement("div",{className:"react-thought-notification"},c.createElement("div",{className:"thought-feed-thought-headline"},c.createElement("span",{style:{marginRight:"5px"}},c.createElement(SV,{thought:g})),c.createElement("span",{style:{marginRight:"5px"}},"for"),c.createElement("span",{style:{marginRight:"-1px"}},c.createElement(oB,{securityId:cu(g)},c.createElement(Fz,{prefix:"(",suffix:")",withLink:a||!1,inFeed:o,showSymbol:!0,showName:!0,limitNameWidth:!0}))),c.createElement("span",null,"from the community")),c.createElement(oB,{securityId:cu(g)},c.createElement(iV,{thoughtId:g.id,viewingContext:r?yS("THOUGHT_CAROUSEL_IN_AFTER_TRADE_PANEL"):n,afterTrade:r,handleAdditionalPromptForThoughtAfterDisagreeAction:u,handleAfterThoughtAction:h,ignoreImpressionTracking:s,scrollContainerSelector:e.scrollContainerSelector,inFeed:o,inActivityPageFeed:l,showAlternateOpinionActionStyle:!0,isUserAuthed:!0,hideOpinionCounts:!0,withThoughtLink:i||!1,isSuggestedThought:!0,useShareInModal:!0}))))};var TV=Object.defineProperty,IV=(e,t,n)=>(((e,t,n)=>{t in e?TV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class NV extends c.Component{constructor(){super(),IV(this,"_getPaneWidth",(()=>{const e=this._returnContainerWidth()*(this._returnItemsList()||[]).length;return isNaN(e)?"100%":e})),IV(this,"_renderCarouselControls",(()=>"renderCustomCarouselControls"in this.props?this.props.renderCustomCarouselControls(this._renderPrevButton,this._renderNextButton,this._shouldRenderShowPreviousButton(),this._shouldRenderShowAdvanceButton()):c.createElement("div",{className:"dynamic-height-carousel-controls-container"},this._shouldRenderShowPreviousButton()&&this._renderPrevButton(),this._shouldRenderShowAdvanceButton()&&this._renderNextButton()))),IV(this,"_renderPrevButton",(()=>c.createElement(aS,{icon:"fa fa-angle-left",colorClassName:"primary-CTA-btn-text-color",size:"large",customClass:"circle-button prev-button",handleClick:this._handlePreviousClick}))),IV(this,"_renderNextButton",(()=>c.createElement(aS,{icon:"fa fa-angle-right",colorClassName:"primary-CTA-btn-text-color",size:"large",customClass:"circle-button next-button",handleClick:this._handleAdvanceClick}))),IV(this,"_renderItem",((e,t)=>c.createElement("div",{key:`carousel-item-${this.props.returnIdFromItemData(e)}-${t}`,className:"dynamic-height-carousel-item thought-feed-thought-container",style:{width:`${this._returnContainerWidth()}px`}},c.createElement(cR,{onMutation:this._bindIndexToHandleMeasureSizeEvent(t),setInitialSize:!0,updateShortlyAfterMount:!0},c.createElement(kV,o({index:t,data:e},this.props.itemProps)),this._renderCarouselControls())))),IV(this,"_isItemActive",(e=>e===this._returnActiveIndex())),IV(this,"_returnActiveIndex",(()=>this._returnViewingIndex())),IV(this,"_isViewingLastItem",(()=>this._returnViewingIndex()+1===this._returnItemsListCount())),IV(this,"_handlePreviousClick",(()=>{this.props.handlePreviousClick(this._decrementViewingIndex,this._returnViewingIndex()),this.props.additionalPreviousClickAction&&this.props.additionalPreviousClickAction()})),IV(this,"_handleAdvanceClick",(()=>{this.props.handleAdvanceClick(this._incrementViewingIndex,this._returnViewingIndex()),this.props.additionalAdvanceClickAction&&this.props.additionalAdvanceClickAction()})),IV(this,"onListCountIncrease",(()=>{this._setViewingIndexToLastItem()})),IV(this,"_allowAdvanceOnLastItem",(()=>this.props.hideAdvanceOnLastItem)),IV(this,"_isAdvanceRestricted",(()=>(this._allowAdvanceOnLastItem()||this._areNoMoreItems()&&!this._shouldWrapToBeginning())&&this._isViewingLastItem())),IV(this,"_shouldWrapToBeginning",(()=>this.props.wrapToBeginning)),IV(this,"_canAdvance",(()=>!this._isNoMoreItemsAndOneItemInList()&&(!this._isViewingLastItem()||this._isViewingLastItem()&&!this._isAdvanceRestricted()))),IV(this,"_canPrevious",(()=>this._returnViewingIndex()>0)),IV(this,"_isNoMoreItemsAndOneItemInList",(()=>1===this._returnItemsListCount()&&this._areNoMoreItems())),IV(this,"_areNoMoreItems",(()=>this.props.areNoMoreItems)),IV(this,"_shouldRenderShowPreviousButton",(()=>this._canPrevious())),IV(this,"_shouldRenderShowAdvanceButton",(()=>this._canAdvance())),IV(this,"_returnItemsListCount",(e=>this._returnItemsList(e).length)),IV(this,"_returnItemsList",(e=>(e||this.props).list)),IV(this,"_returnViewingIndex",(e=>(e||this.state)._viewingIndex)),IV(this,"_setViewingIndexToStart",(()=>{if(0===this._returnItemsListCount())return Uk("There are no items to show",!0,{state:this.state,props:this.props});this.setState((e=>({_viewingIndex:0})))})),IV(this,"_setViewingIndexToLastItem",(()=>{if(0===this._returnItemsListCount())return Uk("There are no items to show",!0,{state:this.state,props:this.props});this.setState((e=>({_viewingIndex:this._returnItemsListCount()-1})))})),IV(this,"_incrementViewingIndex",(()=>{if(this._returnViewingIndex()===this._returnItemsListCount()-1){if(!this._shouldWrapToBeginning())return Uk("Cannot increment viewing index past list count, there will be no item to show",!0,{state:this.state,props:this.props});this._setViewingIndexToStart()}else this.setState((e=>({_viewingIndex:e._viewingIndex+1})))})),IV(this,"_decrementViewingIndex",(()=>{if(0===this._returnViewingIndex())return Uk("Cannot decrement viewing index past 0",!0,{state:this.state,props:this.props});this.setState((e=>({_viewingIndex:e._viewingIndex-1})))})),IV(this,"_initListeners",(()=>{this._addResizeListener()})),IV(this,"_removeListeners",(()=>{this._removeResizeListener()})),IV(this,"_addResizeListener",(()=>{window.$(window).on("resize",this._handleResize)})),IV(this,"_removeResizeListener",(()=>{window.$(window).off("resize",this._handleResize)})),IV(this,"_bindIndexToHandleMeasureSizeEvent",(e=>t=>this._handleMeasureSizeEvent(e,t))),IV(this,"_handleMeasureSizeEvent",((e,t)=>this._setContainerHeight(e,t.height))),IV(this,"_setContainerHeight",((e,t)=>{this.setState((n=>({_renderedItemHeightTrackingLookup:l(o({},n._renderedItemHeightTrackingLookup),{[e]:t})})))})),IV(this,"_returnPaneWidth",(()=>(this._returnContainerWidth()+20)*this._returnItemsListCount())),IV(this,"_returnPaneXPosition",(()=>this._returnContainerWidth()*this._returnViewingIndex()*-1)),IV(this,"_returnAdditionalPaneStylingAttributes",(()=>this._shouldUseFixedHeight()?{height:`${this._returnContainerHeight()}px`}:{})),IV(this,"_shouldUseFixedHeight",(()=>!nk(this._returnContainerHeight()))),IV(this,"_returnThoughtsRenderedListHeightLookup",(()=>this.state._renderedItemHeightTrackingLookup)),IV(this,"_returnContainerHeight",(()=>this._returnThoughtsRenderedListHeightLookup()[this._returnViewingIndex()])),IV(this,"_returnContainerWidth",(()=>this._$returnContainerNode().width())),IV(this,"_$returnContainerNode",(()=>window.$(this._returnContainerNode()))),IV(this,"_returnContainerNode",(()=>this._containerElNode)),IV(this,"_handleResize",(()=>{this.setState((()=>({containerWidth:this._returnContainerWidth()})))})),IV(this,"_onViewItem",((e,t)=>{if(!e||e&&this.props.logFirstItemView){const e=this._returnItemsList()[t];this._logViewItem(e)}})),IV(this,"_logViewItem",(e=>{this.props.additionalViewItemAction&&this.props.additionalViewItemAction(e)})),IV(this,"_logPreviousClick",(()=>{Uk("not implemented")})),IV(this,"_logAdvanceClick",(()=>{Uk("not implemented")})),this.state={_viewingIndex:0,_renderedItemHeightTrackingLookup:{}}}componentDidMount(){this._initListeners(),1===this._returnItemsListCount()&&this._onViewItem(!0,this._returnViewingIndex())}componentDidUpdate(e,t){this._returnItemsListCount(e)<this._returnItemsListCount()&&this.onListCountIncrease();this._returnViewingIndex(t)!==this._returnViewingIndex()&&this._onViewItem(!1,this._returnViewingIndex());0===this._returnItemsListCount(e)&&1===this._returnItemsListCount()&&this._onViewItem(!0,this._returnViewingIndex())}componentWillUnmount(){this._removeListeners()}render(){return 0===this._returnItemsListCount()?null:c.createElement("div",{ref:e=>this._containerElNode=e,className:"dynamic-height-carousel thoughts-feed-container"},c.createElement("div",{className:"thoughts-feed-sliding-pane",style:o({width:this._getPaneWidth(),transform:`translateX(${this._returnPaneXPosition()}px)`},this._returnAdditionalPaneStylingAttributes())},this._returnItemsList().map(((e,t)=>this._renderItem(e,t)))))}}const AV=N(T(null,(e=>({actions:I(WC,e)}))))(NV);var PV=Object.defineProperty,DV=(e,t,n)=>(((e,t,n)=>{t in e?PV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class OV extends c.Component{constructor(e){super(e),DV(this,"_renderCarouselControls",((e,t,n,r)=>(n||this._shouldShowSeeAllThoughtsLink()||r)&&c.createElement("div",{className:"suggested-thought-actions"},n&&e(),this._shouldShowSeeAllThoughtsLink()&&c.createElement("div",{className:"see-all-thoughts-link"},c.createElement(iT,{to:this._returnLinkToOpenSecurityPanelToThoughts(),className:"link-btn btn-small",additionalClickAction:this._logSeeAllThoughtLinkClick,text:`See more on ${this._returnSecuritySymbolForDisplay()}`})),r&&t()))),DV(this,"_renderLoading",(()=>c.createElement(Dw,{loadingMessage:"Getting Community Pro/Cons",flatStyle:!0}))),DV(this,"_isLoading",(()=>!this.areThoughtsInThoughtsList()&&!this.isNoMoreSuggestedThoughts())),DV(this,"_shouldAllowSkip",(()=>this.props.allowSkip)),DV(this,"_shouldPromptForThoughtAtEndOfList",(()=>this.props.promptForThoughtAtEndOfList)),DV(this,"_shouldAllowCarouselWrapping",(()=>this.props.allowCarouselWrapping)),DV(this,"_shouldShowSeeAllThoughtsLink",(()=>this.props.showSeeAllThoughtsLink)),DV(this,"isNoMoreSuggestedThoughts",(()=>this.state._isNoMoreSuggestedThoughts)),DV(this,"areThoughtsInThoughtsList",(()=>this.returnThoughtsListCount()>0)),DV(this,"returnThoughtsListCount",(()=>this.returnThoughtsList().length)),DV(this,"returnThoughtsList",(()=>this.state._thoughtsList)),DV(this,"_isItemANotification",(e=>e&&e.notification)),DV(this,"_returnNotificationThoughtId",(e=>e&&e.notification&&e.notification.data&&e.notification.data.thought&&e.notification.data.thought.id)),DV(this,"_returnThoughtIdFromThoughtItem",(e=>e&&e.id)),DV(this,"returnIdFromItemData",(e=>{if(this._isItemANotification(e)){const t=this._returnNotificationThoughtId(e);return t||Uk("Could not find thought_id on notification item",!0,{itemData:e})}{const t=this._returnThoughtIdFromThoughtItem(e);return t||Uk("Could not find thought_id on thought item",!0,{itemData:e})}})),DV(this,"_returnSecurityId",(()=>this.props.securityId)),DV(this,"_returnSecuritySymbol",(()=>this.props.symbol)),DV(this,"_returnSecuritySymbolUppercase",(()=>this._returnSecuritySymbol()?this._returnSecuritySymbol().toUpperCase():null)),DV(this,"_returnSecuritySymbolForDisplay",(()=>this._returnSecuritySymbol()?this._returnSecuritySymbolUppercase():"this stock")),DV(this,"_returnLinkToOpenSecurityPanelToThoughts",(()=>{const e={securityId:this._returnSecurityId(),additionalProps:{activeTab:"thoughts"},location:window.location};return CU(e)})),DV(this,"_returnThoughtsStore",(()=>this.props.thoughts)),DV(this,"_addToThoughtList",(e=>{this.setState((t=>({_thoughtsList:[...t._thoughtsList,e]})))})),DV(this,"handleAfterThoughtAction",(e=>{this.props.handleAfterThoughtAction&&this.props.handleAfterThoughtAction(e),"disagree"!==e&&this.getAndAddSuggestedThoughtToList()})),DV(this,"handleAdditionalPromptForThoughtAfterDisagreeAction",(()=>{this.getAndAddSuggestedThoughtToList()})),DV(this,"handleAdvanceClick",((e,t)=>{t+1===this.returnThoughtsListCount()&&!this.isNoMoreSuggestedThoughts()?(this.getAndAddSuggestedThoughtToList().then((t=>{t||e()})),this._logSkipThoughtInThoughtFeed()):e()})),DV(this,"handlePreviousClick",((e,t)=>{e()})),DV(this,"_handleGetNextThoughtSuccess",(e=>{this._addToThoughtList(e)})),DV(this,"_handleNoMoreSuggestedThoughts",(()=>{this._setNoMoreSuggestedThoughts(),this._logNoMoreSuggestedThoughts()})),DV(this,"_setNoMoreSuggestedThoughts",(()=>{this.setState((()=>({_isNoMoreSuggestedThoughts:!0})))})),DV(this,"getSuggestedThought",(()=>{const e={securityId:this._returnSecurityId(),excludeThoughtIdsCSV:[...(t=this._returnThoughtsStore(),t.thoughtsByIdSuggested)].join(",")};var t;return this.props.actions.getThoughtFeedSuggestion(e)})),DV(this,"getAndAddSuggestedThoughtToList",(()=>this.getSuggestedThought().then((e=>this._didResponseReturnSuggestedThought(e)?(this._handleGetNextThoughtSuccess(this._returnSuggestedThoughtFromResponse(e)),!0):(this._handleNoMoreSuggestedThoughts(),!1))))),DV(this,"_returnSuggestedThoughtFromResponse",(e=>{var t;return null==(t=null==e?void 0:e.data)?void 0:t.thoughts[0]})),DV(this,"_didResponseReturnSuggestedThought",(e=>e&&e.data&&e.data.thoughts&&e.data.thoughts.length>0)),DV(this,"_didReceiveStartingList",(()=>this.__validateStartingListFromProps(this.props.startingList).length>0)),DV(this,"__validateStartingListFromProps",(e=>Array.isArray(e)?e:nk(e)?[]:void Uk("Received invalid list to ThoughtFeedContainer",!0,{props:this.props,list:e}))),DV(this,"_logNoMoreSuggestedThoughts",(()=>{const e={"Security ID":this._returnSecurityId(),Context:this.props.viewingContext};this.props.actions.logMetricsTrackingEvent("No More Suggested Thoughts",e)})),DV(this,"_logSeeAllThoughtLinkClick",(()=>{const e={"In Feed":this.props.inFeed,"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbolUppercase(),Context:this.props.viewingContext};this.props.actions.logMetricsTrackingEvent("Clicked See All Thoughts",e)})),DV(this,"_logClickedPrevButton",(()=>{const e={"In Feed":this.props.inFeed,"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbolUppercase(),Context:this.props.viewingContext||"Thought Feed"};this.props.actions.logMetricsTrackingEvent("Clicked Previous Button On Suggested Thought",e)})),DV(this,"_logSkipThoughtInThoughtFeed",(()=>{const e={"In Feed":this.props.inFeed,"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbolUppercase(),Context:this.props.viewingContext||"Thought Feed"};this.props.actions.logMetricsTrackingEvent("Clicked Skip Button On Suggested Thought",e)})),DV(this,"_logClickedNextButton",(()=>{const e={"In Feed":this.props.inFeed,"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbolUppercase(),Context:this.props.viewingContext||"Thought Feed"};this.props.actions.logMetricsTrackingEvent("Clicked Next Button On Suggested Thought",e)})),DV(this,"_logViewSuggestedThoughtIfNotAlreadyLoggedInComponentsLifecycle",(e=>{if(this._isItemANotification(e))return!1;const t=this.returnIdFromItemData(e);this._loggedViewThoughtsHistoryLookup=this._loggedViewThoughtsHistoryLookup||{},this._loggedViewThoughtsHistoryLookup[t]||(this._loggedViewThoughtsHistoryLookup[t]=!0,this._logViewSuggestedThought(t))})),DV(this,"_logViewSuggestedThought",(e=>{const t={"In Feed":this.props.inFeed,"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbolUppercase(),"Thought ID":e,Context:this.props.viewingContext||"Thought Feed"};this.props.actions.logMetricsTrackingEvent("Shown Suggested Thought",t)})),this.state={_thoughtsList:this.__validateStartingListFromProps(e.startingList),_isNoMoreSuggestedThoughts:!1}}componentDidMount(){this._didReceiveStartingList()||this.getAndAddSuggestedThoughtToList()}render(){return this._isLoading()?this._renderLoading():c.createElement("div",{className:"thought-feed"},c.createElement(AV,{list:this.returnThoughtsList(),returnIdFromItemData:this.returnIdFromItemData,areNoMoreItems:this.isNoMoreSuggestedThoughts(),handleAdvanceClick:this.handleAdvanceClick,handlePreviousClick:this.handlePreviousClick,itemProps:{viewingContext:this.props.viewingContext,afterTrade:this.props.afterTrade,withThoughtLink:this.props.withThoughtLink,linkToSecurity:this.props.linkToSecurity,ignoreImpressionTracking:this.props.ignoreImpressionTracking,scrollContainerSelector:this.props.scrollContainerSelector,handleAfterThoughtAction:this.handleAfterThoughtAction,handleAdditionalPromptForThoughtAfterDisagreeAction:this.handleAdditionalPromptForThoughtAfterDisagreeAction,thoughtCleanStyle:this.props.thoughtCleanStyle,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,notificationIndex:this.props.notificationIndex},renderCustomCarouselControls:this._renderCarouselControls,additionalPreviousClickAction:this._logClickedPrevButton,additionalAdvanceClickAction:this._logClickedNextButton,additionalViewItemAction:this._logViewSuggestedThoughtIfNotAlreadyLoggedInComponentsLifecycle,hideAdvanceOnLastItem:!this._shouldAllowSkip(),wrapToBeginning:this._shouldAllowCarouselWrapping(),logFirstItemView:this.props.logFirstItemView}))}}const LV=N(T((e=>({currentUser:e.currentUser,thoughts:e.thoughts})),(e=>({actions:I(WC,e)}))))(OV);var RV=Object.defineProperty,FV=(e,t,n)=>(((e,t,n)=>{t in e?RV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class MV extends c.Component{constructor(){super(),FV(this,"_renderChildren",(()=>this.props.renderChildrenWithoutScrollActions?this.props.children:c.Children.map(this._returnChildren(),(e=>c.cloneElement(e,this.returnScrollChildrenProps()))))),FV(this,"_returnChildren",(()=>Array.isArray(this.props.children)?this.props.children.filter((e=>e)):this.props.children)),FV(this,"returnScrollChildrenProps",(()=>({scrollData:this.returnScrollData()}))),FV(this,"returnScrollData",(()=>this._scrollData)),FV(this,"_setScrollData",(e=>this._scrollData=e)),FV(this,"_updateScrollData",(e=>{const t={scrollTop:this._calcScrollTop(e),scrollHeight:this._calcScrollHeight(e),scrollableDistance:this._calcScrollableDistance(e),scrollDistance:this._calcScrollDistance(e),scrollDistanceToBottom:this._calcScrollDistanceToBottom(e),scrollDirection:this._calcScrollDirection(e)};return this._setScrollData(t),t})),FV(this,"_calcScrollDirection",(e=>this.returnScrollData().scrollTop<this._calcScrollTop(e)?"down":"up")),FV(this,"_calcScrollTop",(e=>$(e).scrollTop())),FV(this,"_calcScrollableDistance",(e=>{const t=this._$returnBaseScrollNode()[0].getBoundingClientRect();return t.height+t.top+this._calcScrollTop(e)})),FV(this,"_calcScrollOffsetTop",(e=>$(e).offset().top)),FV(this,"_calcScrollHeight",(e=>$(e).height())),FV(this,"_calcScrollContainerHeight",(()=>this._$returnScrollElement().height())),FV(this,"_calcScrollDistance",(e=>this._calcScrollContainerHeight(e)+this._calcScrollTop(e))),FV(this,"_calcScrollDistanceToBottom",(e=>this._calcScrollableDistance(e)-this._calcScrollDistance(e))),FV(this,"_initialize",(()=>{this._initScrollListener()})),FV(this,"_terminate",(()=>{this._removeScrollListener()})),FV(this,"_handleScroll",(e=>{const t=e&&e.originalEvent instanceof Event?e.target:e,n=(e=>{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t})(this.returnScrollData()),r=this._updateScrollData(t);return this.props.onScroll&&this.props.onScroll(r,n),r})),FV(this,"_initScrollListener",(()=>{this._$returnScrollElement()||Uk("Missing scroll element",!0,{props:this.props}),this._$returnScrollElement().on("scroll",this._handleScroll)})),FV(this,"_removeScrollListener",(()=>{this._$returnScrollElement().off("scroll",this._handleScroll)})),FV(this,"_$returnContainerElementHeight",(()=>this._$returnBaseScrollNode().height())),FV(this,"_$returnContainerElement",(()=>this._$returnBaseScrollNode())),FV(this,"_$returnScrollElement",(()=>this.props.$scrollElement||this._$returnBaseScrollNode())),FV(this,"_returnBaseScrollNode",(()=>this.BaseScroll)),FV(this,"_$returnBaseScrollNode",(()=>(this.$BaseScroll||(this.$BaseScroll=$(this._returnBaseScrollNode())),this.$BaseScroll))),this._setScrollData({scrollTop:0,scrollHeight:0,scrollDistance:0,scrollDistanceToBottom:0,scrollDirection:null})}componentDidMount(){this._initialize()}componentDidUpdate(e){if(this.props.scrollTriggers&&this.props.scrollTriggers.length!==e.scrollTriggers.length){const e=this._$returnScrollElement();this._handleScroll(e)}}componentWillUnmount(){this._terminate()}render(){const e=this.props.style||{};return c.createElement("div",{ref:e=>this.BaseScroll=e,className:`react-base-scroll-container ${this.props.className||""}`,style:e},this._renderChildren())}}var UV=Object.defineProperty,$V=(e,t,n)=>(((e,t,n)=>{t in e?UV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class BV extends c.Component{constructor(){super(),$V(this,"_returnDefaultDistanceFromBottomToTriggerInfiniteScroll",(()=>600)),$V(this,"_returnDistanceFromBottomToTriggerInfiniteScroll",(()=>nk(this.props.distanceFromBottomToTriggerInfiniteScroll)?this._returnDefaultDistanceFromBottomToTriggerInfiniteScroll():this.props.distanceFromBottomToTriggerInfiniteScroll)),$V(this,"isInfiniteScrollTriggered",(()=>this._isInfiniteScrollTriggered)),$V(this,"handleScroll",(e=>{!this.props.ignoreInfiniteScroll&&this._didTriggerInfiniteScroll(e)&&(this._setInfiniteScrollTriggered(),this.props.onInfiniteScroll().then((e=>{this._clearInfiniteScrollTriggered(),e&&this._handleAfterInfiniteScrollEventComplete()})))})),$V(this,"_triggerInfiniteScrollCheck",(()=>{this.setState((e=>({_scrollTriggers:[...e._scrollTriggers,1]})))})),$V(this,"_handleAfterInfiniteScrollEventComplete",(()=>{setTimeout(this._triggerInfiniteScrollCheck,600)})),$V(this,"_didTriggerInfiniteScroll",(e=>e.scrollDistance>=this._calculateScrollDistanceInfiniteScrollTriggerPoint(e)&&!this.isInfiniteScrollTriggered())),$V(this,"_$returnInfiniteScrollElement",(()=>$(`#${this.props.id}`))),$V(this,"_calculateScrollDistanceInfiniteScrollTriggerPoint",(e=>e.scrollableDistance-this._returnDistanceFromBottomToTriggerInfiniteScroll())),$V(this,"_calculateOffsetBottomOfInfiniteScrollElement",(()=>scrollableDistance)),$V(this,"_setInfiniteScrollTriggered",(()=>{this._isInfiniteScrollTriggered=!0})),$V(this,"_clearInfiniteScrollTriggered",(()=>{this._isInfiniteScrollTriggered=!1})),this.state={_scrollTriggers:[]},this._isInfiniteScrollTriggered=!1}componentDidMount(){this.props.id||Uk("Must supply a unique ID to InfiniteScroll")}render(){return c.createElement("div",{ref:e=>this.InfiniteScroll=e,id:this.props.id,className:this.props.className||"",style:this.props.style||{}},c.createElement(MV,{$scrollElement:this.props.$scrollElement,onScroll:this.handleScroll,scrollTriggers:this.state._scrollTriggers,renderChildrenWithoutScrollActions:!0},this.props.children))}}var zV=Object.defineProperty,VV=(e,t,n)=>(((e,t,n)=>{t in e?zV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class HV extends c.Component{constructor(e){super(e),VV(this,"_renderThoughtsListWithInfiniteScroll",(()=>c.createElement(BV,{id:`${this._returnThoughtType()}-thoughts-list-infinite-scroll`,$scrollElement:$(this.props.scrollContainerSelector),onInfiniteScroll:this.handleInfiniteScroll,distanceFromBottomToTriggerInfiniteScroll:this.props.distanceFromBottomToTriggerInfiniteScroll||50,ignoreInfiniteScroll:this.props.ignoreInfiniteScroll||this.isNoMoreThoughtsToShowInList()},this._renderThoughtsList()))),VV(this,"_renderThoughtsList",(()=>c.createElement("div",null,this._returnThoughtsToDisplay().map((e=>c.createElement(oB,{key:`${e.type}-${e.id}`,securityId:cu(e),isUserAuthed:this._isUserAuthed()},c.createElement(iV,{thoughtId:e.id,isUserAuthed:this._isUserAuthed(),afterTrade:this.props.afterTrade,handleAfterThoughtAction:this.props.handleAfterThoughtAction,viewingContext:this.props.viewingContext,useShareInModal:this.props.useShareInModal,scrollContainerSelector:this.props.scrollContainerSelector,thoughtDisplayContext:this.props.thoughtDisplayContext,showAlternateOpinionActionStyle:!0})))),this._shouldShowPaddingBelowList()&&this._renderBelowLastThoughtPadding()))),VV(this,"_shouldUseInfiniteScroll",(()=>this.props.useInfiniteScroll)),VV(this,"_returnThoughtsToDisplay",(()=>this._shouldUseInfiniteScroll()?this._returnThoughts().slice(0,this._returnTotalThoughtsToShowCount()):this._returnThoughts())),VV(this,"_returnTotalThoughtsToShowCount",(()=>this.state._totalThoughtsToShowCount)),VV(this,"handleInfiniteScroll",(()=>this._incrementTotalThoughtsToShowCountAndReturnPromise())),VV(this,"_incrementTotalThoughtsToShowCountAndReturnPromise",(()=>new Promise((e=>{this.setState((e=>({_totalThoughtsToShowCount:e._totalThoughtsToShowCount+1})),e)})))),VV(this,"isNoMoreThoughtsToShowInList",(()=>this._returnTotalThoughtsToShowCount()>=this._returnTotalThoughtsCount())),VV(this,"_useListFadeFrame",(()=>this.props.useListFadeFrame)),VV(this,"_shouldShowPaddingBelowList",(()=>this.props.showPaddingBelowList)),VV(this,"_renderBelowLastThoughtPadding",(()=>c.createElement("div",{style:{height:"88px",width:"100%",color:"#fff"}},"."))),VV(this,"_returnTotalThoughtsCount",(()=>this._returnThoughts().length)),VV(this,"_returnThoughts",(()=>this.props.thoughts)),VV(this,"_returnSecurityId",(()=>this.props.securityId)),VV(this,"_returnThoughtType",(()=>this.props.thoughtType)),VV(this,"_isProThoughtType",(()=>"pro"===this._returnThoughtType().toLowerCase())),VV(this,"_isUserAuthed",(()=>this.props.isUserAuthed));const t=e.startingTotalThoughtsToShowCount||5;this.state={_totalThoughtsToShowCount:t}}render(){return this.props.noContainer?this._shouldUseInfiniteScroll()?this._renderThoughtsListWithInfiniteScroll():this._renderThoughtsList():c.createElement("div",{key:`thoughts-list-${this._returnThoughtType()}-${this._returnSecurityId()}`,className:"thought-list-container"},c.createElement("div",{className:"thoughts-list clearfix"},this._shouldUseInfiniteScroll()?this._renderThoughtsListWithInfiniteScroll():this._renderThoughtsList()))}}const WV=e=>{const{thoughtType:t}=e,n="pro"===t.toLowerCase();return c.createElement(aS,{icon:"fa-plus",size:"medium",customClass:`${n?"add-pro":"add-con"} create-thought-button circle-button create-${t.toLowerCase()}s`,handleClick:()=>e.handleClick(t)})};var jV=Object.defineProperty,GV=(e,t,n)=>(((e,t,n)=>{t in e?jV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class qV extends c.Component{constructor(){super(...arguments),GV(this,"_returnThoughtType",(()=>this.props.thoughtType)),GV(this,"_returnThoughtsListHeadingMarkupConfig",(()=>({pro:{headingText:"Pros",headingImage:SB,colorScheme:"green"},con:{headingText:"Cons",headingImage:"/app/assets/chart-down-red.cfe44887.png",colorScheme:"red"}}))),GV(this,"_shouldShowOpenCreateThoughtButton",(()=>this.props.showAddButton)),GV(this,"handleOpenCreateThoughtPanelClick",(()=>{this._shouldShowOpenCreateThoughtButton()&&this.props.handleOpenCreateThoughtPanelClick(this._returnThoughtType())}))}render(){const e=this._returnThoughtType(),{headingImage:t,headingText:n,colorScheme:r}=this._returnThoughtsListHeadingMarkupConfig()[e];return c.createElement("div",{className:`thought-heading pro-cons-heading ${e.toLowerCase()} ${r}`},c.createElement("img",{className:"pro-con-chart-img",src:t,alt:"line-chart"}),c.createElement("span",null,n),this._shouldShowOpenCreateThoughtButton()?c.createElement(WV,{thoughtType:e,handleClick:this.handleOpenCreateThoughtPanelClick}):null)}}var YV=Object.defineProperty,KV=(e,t,n)=>(((e,t,n)=>{t in e?YV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class QV extends c.Component{constructor(){super(...arguments),KV(this,"_handleClick",(()=>{this.props.handleClick(this._returnThoughtType())})),KV(this,"_returnThoughtType",(()=>this.props.thoughtType)),KV(this,"_isProThoughtType",(()=>"pro"===this._returnThoughtType().toLowerCase())),KV(this,"_returnSymbol",(()=>this.props.symbol?this.props.symbol.toUpperCase():"this")),KV(this,"_returnMessaging",(()=>this._isProThoughtType()?`What makes ${this._returnSymbol()} a good investment?`:`What makes ${this._returnSymbol()} a risky investment?`))}render(){return c.createElement("div",{className:"no-thoughts-action-container component-bg-faded"},c.createElement("span",{className:"text-wrapper"},this._returnMessaging()),c.createElement("span",{className:"btn-wrapper"},c.createElement(sx,{small:!0,onClick:this._handleClick},`+ Add ${this._returnThoughtType().toUpperCase()}`)))}}var ZV=Object.defineProperty,XV=(e,t,n)=>(((e,t,n)=>{t in e?ZV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class JV extends C.exports.Component{constructor(e){super(e),XV(this,"_renderThoughtCarousel",(()=>c.createElement("div",{className:"thoughts-carousel"},c.createElement(oB,{securityId:this._returnSecurityId()},c.createElement(LV,{viewingContext:this.props.viewingContext,handleAfterThoughtAction:this.props.handleAfterThoughtAction,afterTrade:this.props.afterTrade,scrollContainerSelector:this.props.scrollContainerSelector,promptForThoughtAtEndOfList:!0,allowCarouselWrapping:!0,allowSkip:!0,logFirstItemView:!0}))))),XV(this,"_renderProCol",(e=>c.createElement("div",{className:""},e.showHeading&&c.createElement(qV,{handleOpenCreateThoughtPanelClick:this._handleAddThoughtClick,thoughtType:"pro",showAddButton:this._shouldShowProAddThoughtBtn()}),this._shouldShowProAddThoughtCTA()&&c.createElement(oB,{securityId:this._returnSecurityId()},c.createElement(QV,{thoughtType:"pro",handleClick:this._handleAddThoughtClick})),this._isCreatingProThoughtActive()&&this._renderCreateThoughtComponent(),this._isLoading()?c.createElement(Dw,{pageName:Kc,flatStyle:!0}):c.createElement(HV,{thoughts:this._returnCurrentUserThoughtsFor("pro"),securityId:this._returnSecurityId(),thoughtType:"pro",viewingContext:this.props.viewingContext,afterTrade:this.props.afterTrade,handleAfterThoughtAction:this.props.handleAfterThoughtAction,scrollContainerSelector:this.props.scrollContainerSelector,useShareInModal:!0,isUserAuthed:!0})))),XV(this,"_renderConCol",(e=>c.createElement("div",{className:""},e.showHeading&&c.createElement(qV,{handleOpenCreateThoughtPanelClick:this._handleAddThoughtClick,thoughtType:"con",showAddButton:this._shouldShowConAddThoughtBtn()}),this._shouldShowConAddThoughtCTA()&&c.createElement(oB,{securityId:this._returnSecurityId()},c.createElement(QV,{thoughtType:"con",handleClick:this._handleAddThoughtClick})),this._isCreatingConThoughtActive()&&this._renderCreateThoughtComponent(),this._isLoading()?c.createElement(Dw,{pageName:Kc,flatStyle:!0}):c.createElement(HV,{thoughts:this._returnCurrentUserThoughtsFor("con"),securityId:this._returnSecurityId(),thoughtType:"con",viewingContext:this.props.viewingContext,afterTrade:this.props.afterTrade,handleAfterThoughtAction:this.props.handleAfterThoughtAction,scrollContainerSelector:this.props.scrollContainerSelector,useShareInModal:!0,isUserAuthed:!0})))),XV(this,"_renderCreateThoughtComponent",(()=>c.createElement(mS,{viewingContext:this.props.viewingContext,security:this._returnSecurity(),thoughtType:this._returnCreatingThoughtType(),afterTrade:this.props.afterTrade,handleCancelCreatingThought:this.handleCancelCreatingThought,thoughtPreSuccessDelayAdditionalAction:this.getUpdateToDateNotifications,thoughtPostSuccessAdditionalAction:this._onPostThoughtSuccess}))),XV(this,"renderTwoColLayout",(()=>{const e={};return c.createElement("div",{className:"react-thoughts-container clearfix"},c.createElement("div",{className:"left-panel"},this._renderProCol(e)),c.createElement("div",{className:"right-panel"},this._renderConCol(e)))})),XV(this,"renderOneColLayout",(()=>{const e={};return c.createElement("div",{className:"react-thoughts-container clearfix"},c.createElement(_B,{options:{defaultActiveTab:"pro"},handleTabClickAdditionalAction:this.handleTabClickAdditionalAction,tabs:[{name:"pro",activeCustomStyle:"pros-list-mobile-tab-styling"},{name:"con",activeCustomStyle:"cons-list-mobile-tab-styling"}],contentComponents:[this._renderProCol(e),this._renderConCol(e)]}))})),XV(this,"_returnThoughtAddGoal",(()=>3)),XV(this,"_isLoading",(()=>this.props.isLoading)),XV(this,"_shouldShowAddThoughtBtnFor",(e=>"pro"===e?this._shouldShowProAddThoughtBtn("pro"):this._shouldShowConAddThoughtBtn("con"))),XV(this,"_shouldShowProAddThoughtBtn",(()=>!this._isCreatingThoughtForType("pro"))),XV(this,"_shouldShowConAddThoughtBtn",(()=>!this._isCreatingThoughtForType("con"))),XV(this,"_shouldShowProAddThoughtCTA",(()=>!this._isCreatingThoughtForType("pro"))),XV(this,"_shouldShowConAddThoughtCTA",(()=>!this._isCreatingThoughtForType("con"))),XV(this,"_isCreatingProThoughtActive",(()=>this._isCreatingThoughtForType("pro"))),XV(this,"_isCreatingConThoughtActive",(()=>this._isCreatingThoughtForType("con"))),XV(this,"_handleAddThoughtClick",(e=>{this.handleCreatingThought(e)})),XV(this,"_isCreateThoughtOpen",(()=>this.state._isCreateThoughtOpen)),XV(this,"_returnCreatingThoughtType",(()=>this.state._createThoughtType)),XV(this,"_isCreatingThoughtForType",(e=>this._isCreateThoughtOpen()&&this._returnCreatingThoughtType()===e)),XV(this,"_returnCurrentUserThoughtsFor",(e=>"pro"===e?this.props.currentUserPros:this.props.currentUserCons)),XV(this,"_handleCreateProClick",(()=>{this.handleCreatingThought("pro"),this._logCreateThoughtClick("pro")})),XV(this,"_handleCreateConClick",(()=>{this.handleCreatingThought("con"),this._logCreateThoughtClick("con")})),XV(this,"bindHandleOpenCreateThoughtPanelClick",(e=>()=>this.handleOpenCreateThoughtPanelClick(e))),XV(this,"handleOpenCreateThoughtPanelClick",(e=>"pro"===e?this._handleCreateProClick():this._handleCreateConClick())),XV(this,"handleAfterThoughtAction",(()=>{this.props.handleAfterThoughtAction&&this.props.handleAfterThoughtAction()})),XV(this,"handleTabClickAdditionalAction",(e=>{const t=e;this._isCreateThoughtOpen()&&this.setState((()=>({_createThoughtType:t}))),this._logThoughtTabClick(e),this._logItlyTabClick(e)})),XV(this,"handleCreatingThought",(e=>{this.setState((t=>({_isCreateThoughtOpen:!0,_createThoughtType:e}))),this._logStartCreatingThoughtInThoughtPanel()})),XV(this,"_onPostThoughtSuccess",(()=>{this._closeCreateThoughtPanel(),this.handleAfterThoughtAction()})),XV(this,"_closeCreateThoughtPanel",(()=>{this.setState((e=>({_isCreateThoughtOpen:!1,_createThoughtType:null})))})),XV(this,"handleCancelCreatingThought",(()=>{this._closeCreateThoughtPanel(),this._logCancelCreatingThoughtInThoughtPanel()})),XV(this,"_returnSecurity",(()=>this.props.security)),XV(this,"_returnSecurityId",(()=>this._returnSecurity().security_id)),XV(this,"_returnCurrentUser",(()=>this.props.currentUser)),XV(this,"_isUserAuthed",(()=>"user_id"in this._returnCurrentUser())),XV(this,"_areNoThoughtsForSecurity",(()=>this.props.areNoThoughtsForSecurity)),XV(this,"_areNoCurrentUserThoughtsForSecurity",(()=>this.props.areNoCurrentUserThoughtsForSecurity)),XV(this,"_areCurrentUserProThoughts",(()=>this.props.areCurrentUserProThoughts)),XV(this,"_areCurrentUserConThoughts",(()=>this.props.areCurrentUserConThoughts)),XV(this,"_returnFilterThoughtsByUserId",(()=>this.props.userId)),XV(this,"_shouldShowUserThoughtsOnly",(()=>!!this._returnFilterThoughtsByUserId())),XV(this,"_shouldRenderThoughtListAsSingleColumn",(()=>this.state._shouldCollapseThoughtList||this.props.lockSingleColumnLayout)),XV(this,"_handleResize",(()=>{window.innerWidth<800&&!this.state._shouldCollapseThoughtList?this.setState({_shouldCollapseThoughtList:!0}):window.innerWidth>=800&&this.state._shouldCollapseThoughtList&&this.setState({_shouldCollapseThoughtList:!1})})),XV(this,"_logStartCreatingThoughtInThoughtPanel",(()=>{const e={Context:this.props.viewingContext,"Security ID":this._returnSecurityId()};this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",e)})),XV(this,"_logCancelCreatingThoughtInThoughtPanel",(()=>{const e={Context:this.props.viewingContext,"Security ID":this._returnSecurityId()};this.props.actions.logMetricsTrackingEvent("Cancelled Creating Thought",e)})),XV(this,"_logThoughtTabClick",(e=>{const t={Tab:e,Context:this.props.viewingContext};this.props.actions.logMetricsTrackingEvent("Clicked Thoughts Tab",t)})),XV(this,"_logItlyTabClick",(e=>{const{elementPosition:t}=this.context,n={context:location.pathname,position:t||_t.node_location.body,platform:_t.platform.web,description:e,url:window.location.pathname,url_query:window.location.search};pl.generic.TAB_VIEWED.send(n)})),XV(this,"_logCreateThoughtClick",(e=>{const t={"Security ID":this._returnSecurityId(),Context:"Thoughts Panel","Concernable Type":"Security","Concernable Id":this._returnSecurityId(),"Thought Type":ck(e)};this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",t)})),this.state={_activeTab:"Pro",_shouldCollapseThoughtList:window.innerWidth<800,_isCreateThoughtOpen:!1,_createThoughtType:null}}componentDidMount(){window.addEventListener("resize",this._handleResize)}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){return c.createElement("div",{className:"watchlist-thoughts-panel-container"},this._renderThoughtCarousel(),this._shouldRenderThoughtListAsSingleColumn()?this.renderOneColLayout():this.renderTwoColLayout())}}JV.contextType=ml;var eH=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(JV);const tH=e=>{const{symbol:t}=e;return c.createElement("span",{className:"security-symbol"},t)},nH=e=>{const{string:t,width:n}=e,r=nk(n)?{}:{width:`${n}px`};return c.createElement("span",{className:"limit-name-width",style:r},t)},rH=e=>{const{name:t,className:n}=e;return c.createElement("span",{className:`security-name ${n||""}`},c.createElement(nH,{string:t}))};var iH=Object.defineProperty,aH=(e,t,n)=>(((e,t,n)=>{t in e?iH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const sH=u.div`
  height: 90vh;
  max-height: 1000px;

  display: flex;
  flex-direction: column;
  overflow: auto;
`,oH=u.div`
  display: flex;
  flex-direction: column;
  flex: 1;
`,lH=u.div`
  .watchlist-thoughts-panel-container {
    box-shadow: none !important;
  }
`;class cH extends C.exports.Component{constructor(e){super(e),aH(this,"_renderThoughtsPanel",(e=>c.createElement(lH,null,c.createElement(oB,{securityId:e},c.createElement(uB,{getThoughtData:!0},c.createElement(eH,{viewingContext:yS("AFTER_TRADE_THOUGHTS_PANEL"),scrollContainerSelector:".trade-add-pro-con-panel",handleAfterThoughtAction:this._setThoughtActionCompleted,afterTrade:!0})))))),aH(this,"_renderSecurityIdentifier",(e=>c.createElement("div",{className:"order-list-row-cell security-identifier-container"},c.createElement(oB,{securityId:e,useLoadingComponent:!0},c.createElement(tH,null),c.createElement(rH,{className:"secondary-text-color"}))))),aH(this,"_renderOrderSummaryCell",(e=>{const t=e.orderDataSummaryList;return c.createElement("div",{className:"order-list-row-cell order-summary justify-center-all-list-items"},c.createElement("div",null,t.map((t=>this._renderOrderSummaryLine(t,e)))))})),aH(this,"_renderOrderActionCell",(e=>c.createElement("div",{className:"order-list-row-cell order-row-action-cell"},this._isRowExpanded(e)?c.createElement(sx,{onClick:this._bindSecurityIdToOrderRowCloseClick(e)},"Hide"):c.createElement(sx,{onClick:this._bindSecurityIdToOrderRowOpenClick(e)},"Why")))),aH(this,"_renderOrderSummaryLine",((e,t)=>{const{securityId:n}=t,{shares:r,operation:i}=e;return c.createElement("div",{key:`order-summary-line-${i}-${n}`,className:"order-summary-line"},c.createElement("p",null,c.createElement("span",{className:"text-group"},`${Jf(e)?"Stop ":""}${Xf(e)?"Limit ":""}Order`," "),c.createElement("span",{className:"text-group"},(Jf(e)||Xf(e))&&c.createElement("span",{className:""}," "),c.createElement("span",{className:"text-with-spacing-right "+("Buy"===ev(i)?"pro-text-color":"con-text-color")},ev(i)),c.createElement("span",{className:""},`${r} share${r>1?"s":""}`))))})),aH(this,"_bindSecurityIdToOrderRowOpenClick",(e=>()=>this._handleOrderRowOpenClick(e))),aH(this,"_setOpenRow",(e=>{this.setState((()=>({_expandedThoughtSectionSecurityId:e})))})),aH(this,"_returnSecurityIdOfFirstOrder",(()=>this._returnOrdersList()[0]&&this._returnOrdersList()[0].securityId)),aH(this,"_wasThoughtActionCompleted",(()=>this.state._wasThoughtActionCompleted)),aH(this,"_setThoughtActionCompleted",(()=>{this.setState((()=>({_wasThoughtActionCompleted:!0})))})),aH(this,"_handleOrderRowOpenClick",(e=>{this._setOpenRow(e)})),aH(this,"_bindSecurityIdToOrderRowCloseClick",(e=>()=>this._handleOrderRowCloseClick(e))),aH(this,"_handleOrderRowCloseClick",(e=>{this.setState((()=>({_expandedThoughtSectionSecurityId:null})))})),aH(this,"_handleCloseAddProConPanel",(()=>{this.props.closePanel()})),aH(this,"_returnExpandedThoughtSectionSecurityId",(()=>this.state._expandedThoughtSectionSecurityId)),aH(this,"_isRowExpanded",(e=>this._returnExpandedThoughtSectionSecurityId()===e&&!nk(e))),aH(this,"_returnOrdersList",(()=>this.props.orders||[])),aH(this,"_isMoreThanOneRow",(()=>this._returnOrdersList().length>1)),aH(this,"_returnSecurityIdsToGetData",(()=>this._returnOrdersList().map((e=>e.securityId)))),aH(this,"_fetchSecurityData",(()=>{this.props.actions.quickFetchSecuritiesData(this._returnSecurityIdsToGetData())})),aH(this,"_logViewAddProConPanel",(()=>{this.props.actions.logMetricsTrackingEvent("Viewed Add Pro/Con Panel",{Context:"After Trade"})})),aH(this,"_logCloseAddProConPanel",(()=>{this._wasThoughtActionCompleted()||this._logSkippedAddProConPanel();this.props.actions.logMetricsTrackingEvent("Closed Add Pro/Con Panel",{Context:"After Trade"})})),aH(this,"_logSkippedAddProConPanel",(()=>{this.props.actions.logMetricsTrackingEvent("Skipped Pros/Cons After Trade",{})})),this.state={_didCreateThoughtOrAddThoughtOpinion:!1,_wasThoughtActionCompleted:!1,_expandedThoughtSectionSecurityId:null}}componentDidMount(){this._fetchSecurityData();this._returnSecurityIdOfFirstOrder()&&this._setOpenRow(this._returnOrdersList()[0].securityId),this._logViewAddProConPanel()}componentWillUnmount(){this._logCloseAddProConPanel()}render(){return this._returnOrdersList()&&0!==this._returnOrdersList().length?c.createElement(sH,{className:"trade-add-pro-con-panel"},c.createElement(oH,null,c.createElement("div",{className:"heading-container"},c.createElement(rB,{text:"Keep track of the reasons behind your investments"})),this.props.hideClose?null:c.createElement("div",{className:"close-button-container"},c.createElement(aS,{icon:"fa-times fa-times-thin",colorClassName:"secondary-text-color",handleClick:this._handleCloseAddProConPanel})),c.createElement("div",{className:"orders-list-with-thoughts-panel-container"},this._returnOrdersList().map((e=>{const{securityId:t}=e;return c.createElement("div",{key:`order-row-thoughts-panel-${t}`,className:"order-row-container"},c.createElement("div",{className:"order-row"},this._renderSecurityIdentifier(t),this._renderOrderSummaryCell(e),this._isMoreThanOneRow()&&this._renderOrderActionCell(t)),this._isRowExpanded(t)&&this._renderThoughtsPanel(t))})))),c.createElement(Iw,{centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:this._handleCloseAddProConPanel},"Complete"))):(Mk("Hiding TradeAddProConPanel because no orders present in props",this.props),null)}}var dH=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(cH);const uH={orderEvents:o({},{click:{placeOrders:e=>{}}})}.orderEvents.click.placeOrders;var hH=T((e=>{const t=e.ideas,n=e.currentUser;return{doOrdersRequireApproval:bp(n),currentUser:n,currentUserId:yp(n),ideasLookup:t.ideaList}}))((e=>{const{currentUserId:t,currentUser:n,ideasLookup:r,doOrdersRequireApproval:i,handleDismiss:a,dispatch:s,children:l}=e,[d,u]=C.exports.useState(!1),[h,p]=C.exports.useState([]),[m,g]=C.exports.useState(!1),[y,_]=C.exports.useState(!1),[f,v]=C.exports.useState([]),[E,b]=C.exports.useState([]),[x,w]=C.exports.useState([]),S=(h||[]).length,k=f.length>0,T=E.length>0,I=x.length>0,N=!y&&I,A=Rp(n),P={themeTestGroups:jp(n),accountType:A?"Live":"Paper"},D=e=>Cu("Place Trade",o(o({},e),P)),O=()=>{setTimeout((()=>ME()(s)),1e3),setTimeout((()=>Hb()(s)),1e3),setTimeout((()=>Hb()(s)),5e3)},L=()=>{u(!1),p([]),g(!1),_(!1),v([]),b([]),w([])},R=e=>{if(!(h.length>0))return b(["Something went wrong, please refresh and try again."]),Uk("Attempting to place orders but none were found in state",!0,{placingOrders:h});B(h,e)},F=()=>{L()},M=()=>{w([]),a&&a()},U=()=>{_(!1)},$=(e,t)=>{v([]),b([]),u(rv(t)),p(t),g(!1);if(e&&e.data&&e.data.status&&"success"===e.data.status){const t=e.data.orders,n={tradeType:rv(t)?"Optimized":"Manual",num_items:t.length,value:nv(t)};D(n),A&&wu(10),_(!0),O(),w(t)}else{const t="Something went wrong. Please try again later.";if(!e||!e.data||!e.data.status)return b([t]);const{status:n,orders:r,error:i,warnings:a}=e.data;if("error"===n&&b([i||t]),"success_with_error"===n){b([i||t]);const e=r,n={tradeType:rv(e)?"Optimized":"Manual",num_items:e.length,value:nv(e)};D(n),O(),w(e)}"warning"===n&&v(a)}},B=async(e,n=[])=>{g(!0),uH(k);let i={ok:!0};const a=((e,t,n)=>{const r=[];return e.forEach((e=>!RS(t,e.security_id,n)&&r.push((e=>({security:{security_id:e.security_id},idea_type:"buy"===e.operation.toLowerCase()?{id:0,name:"buy"}:{id:1,name:"sell"}}))(e)))),r})(e,t,r);if(a.length>0&&(i=await(async e=>qE(e)(s).then((e=>{const t=e&&e.ideas&&e.ideas.length>0;return t?{ok:t}:{error:e&&e.error||"Something went wrong. Please try again."}})))(a)),i.ok){if(e.every((e=>!nk(e.order_id)))){const t=e.map((e=>e.order_id)),r=n.map((e=>e.type));jb(t,r)(s).then((t=>{if(t.ok)$(t,e);else{g(!1);const e=t.error;b([e])}}))}else{e.length>1&&Uk("Received more than one order to create and place order method",!0,{orders:e});const t=e[0],r=n.map((e=>e.type));Wb(t,r)(s).then((t=>{if(t.ok)$(t,e);else{g(!1);const e=t.error;b([e])}}))}}else{g(!1);const e=i.error;b([e])}};return c.createElement("div",{className:"place-orders"},l({handlePlaceOrders:B,renderPlacingOrdersState:()=>m?c.createElement(W$,null):y?c.createElement(q$,{ordersCount:S,requiresApproval:i,handleDismiss:U}):T?c.createElement(K$,{errors:E,onCloseClick:F}):k?c.createElement(Y$,{ordersCount:S,isOptimizedOrder:d,warnings:f,handleAcceptAllWarnings:R,handleCancel:F}):x.length>0?c.createElement(dH,{orders:av(x),closePanel:M}):void 0,shouldRestrictDismissal:!!m||!y&&(!!k||!T&&!(x.length>0)&&void 0),showAddProConPanelForPlacedOrders:()=>{U()},wasOrderPlaced:I,isAddProConPanelShowing:N,clearPlaceOrdersState:L}))})),pH=Object.defineProperty,mH=(e,t,n)=>(((e,t,n)=>{t in e?pH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const gH=u.div`
  border-radius: 6px;
  overflow: hidden;

  border: 1px solid ${({theme:e})=>e.themeColors.border};
`;class yH extends c.Component{constructor(){super(),mH(this,"_renderToggles",(()=>c.createElement("div",{className:"toggle-switch-container squared-toggle"},c.createElement(gH,{className:"toggle-switch with-extra-props"},[0,1].map((e=>this._renderToggle(e))),this._renderDisabledMessage())))),mH(this,"_renderToggle",(e=>{const t=this._returnValues()[e],n=t.display;return this._isDisabled(t),c.createElement("div",{key:`toggle-${this._returnName()}${e}`,className:`\n          ${0===e?"toggle-left":"toggle-right"}\n          ${this._isActive(e)}\n          ${this._returnToggleClass(t)}\n        `,onClick:this._bindIndexToHandleToggleClick(e),onMouseEnter:this._bindHandleMouseEnter(t),onMouseLeave:this._bindHandleMouseLeave(t)},n)})),mH(this,"_shouldShowDisabledMessage",(()=>this.state.showDisabledMessage)),mH(this,"_returnTargetOfDisabledMessage",(()=>this.state.disabledMessageTarget)),mH(this,"_returnClassForDisabledMessage",(()=>!this._returnValues()[0]&&this._returnTargetOfDisabledMessage()?null:this._returnValues()[0].id===this._returnTargetOfDisabledMessage().id?"left-toggle-disabled":"right-toggle-disabled")),mH(this,"_returnDisabledMessage",(()=>this.props.returnDisabledMessage(this._returnTargetOfDisabledMessage()))),mH(this,"_renderDisabledMessage",(()=>this._shouldShowDisabledMessage()?c.createElement("div",{className:`toggle-disabled-message ${this._returnClassForDisabledMessage()}`},c.createElement("div",{className:"toggle-disabled-message-arrow"}),this._returnDisabledMessage()):null)),mH(this,"_isError",(()=>!!this._returnErrorMessage())),mH(this,"_returnErrorMessage",(()=>this.props.getErrorMessage(this._returnName()))),mH(this,"_renderErrorMessage",(()=>{const e=this._isError()?this._returnErrorMessage():"";return!this._isError()&&this.props.autoHideErrors?null:c.createElement("p",{className:"text-field-error-message"},e)})),mH(this,"_returnName",(()=>this.props.name||"")),mH(this,"_returnValue",(()=>this.props.getValue(this._returnName()))),mH(this,"_returnValues",(()=>this.props.values)),mH(this,"_returnToggleContainerClass",(e=>{const t=[];return this._isError()&&t.push("is-error"),t.join(" ")})),mH(this,"_returnToggleClass",(e=>{const t=[];return this.props.toggleButtonClass&&t.push(this.props.toggleButtonClass),this._isDisabled(e)&&t.push("toggle-disabled"),t.join(" ")})),mH(this,"_isActive",(e=>{const t=this._returnValues()[e],n=this._returnValue();return n&&n.id===t.id?"toggle-active":""})),mH(this,"_isDisabled",(e=>!(!this.props.isDisabled||!fk(this.props.isDisabled))&&this.props.isDisabled(e))),mH(this,"_bindIndexToHandleToggleClick",(e=>{const t=this._returnValues()[e];return this._isDisabled(t)?()=>this._showDisabledMessage(t):()=>{this._handleToggleClick(t),this._saveOnChange(t)}})),mH(this,"_handleToggleClick",(e=>{this.props.handleChange(this._returnName(),e),this._saveOnChange()})),mH(this,"_bindHandleMouseEnter",(e=>this._isDisabled(e)?()=>this._handleMouseEnter(e):this._doNothing)),mH(this,"_bindHandleMouseLeave",(e=>this._isDisabled(e)?()=>this._handleMouseLeave(e):this._doNothing)),mH(this,"_showDisabledMessage",(e=>{const t=e?{showDisabledMessage:!0,disabledMessageTarget:e}:{showDisabledMessage:!0};this.setState((e=>o({},t)))})),mH(this,"_showDelayedDisabledMessage",(e=>{const t=this._createShowDisabledMessageTimeout();this.setState((n=>({disabledMessageTarget:e,timeoutToShowMessage:t})))})),mH(this,"_hideDisabledMessage",(()=>{this.state.timeoutToShowMessage&&window.clearTimeout(this.state.timeoutToShowMessage),this.setState((e=>({showDisabledMessage:!1,disabledMessageTarget:null,timeoutToShowMessage:null})))})),mH(this,"_handleMouseEnter",(e=>{this._showDelayedDisabledMessage(e)})),mH(this,"_handleMouseLeave",(()=>{this._hideDisabledMessage()})),mH(this,"_returnDelayForDisabledMessageHoverToShowMessage",(()=>300)),mH(this,"_createShowDisabledMessageTimeout",(()=>window.setTimeout(this._showDisabledMessage,this._returnDelayForDisabledMessageHoverToShowMessage()))),mH(this,"_saveOnChange",(e=>{})),mH(this,"_doNothing",(()=>!1)),this.state={showDisabledMessage:!1,disabledMessageTarget:null,timeoutToShowMessage:null}}componentWillUnmount(){this._hideDisabledMessage()}render(){return c.createElement("div",{className:`toggle-container ${this._returnName()} ${this._returnToggleContainerClass()}`},this._renderToggles(),this._renderErrorMessage())}}var _H=Object.defineProperty,fH=(e,t,n)=>(((e,t,n)=>{t in e?_H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class vH extends c.Component{constructor(){super(...arguments),fH(this,"_renderLabel",(()=>this._shouldShowLabel()&&c.createElement("label",null,this._returnLabel()))),fH(this,"_renderDropdown",(()=>c.createElement("select",{name:this._returnName(),value:this._returnValue()?this._returnValue().name:"",onChange:this._handleDropdownSelection},this._returnOptionValues().map(((e,t)=>this._renderOption(e,t)))))),fH(this,"_renderOption",((e,t)=>{const n=e.displayName,r=n+" - "+e.disabledReason();return c.createElement("option",{value:e.name,key:`${this._returnName()}-${e.name}-${t}`,className:`option-${this._returnName()}-${e.name}`,disabled:this._isDisabled(e)},this._isDisabled(e)?r:n)})),fH(this,"_renderErrorMessage",(()=>{const e=this._returnName(),t=!!this.props.getErrorMessage(e)?this.props.getErrorMessage(e):"";return c.createElement("p",{className:"text-field-error-message"},t)})),fH(this,"_returnOptionValues",(()=>{const e=this.props.values,t={id:null,name:this._returnLabel(),displayName:this._returnLabel(),isEnabled:()=>!0,disabledReason:()=>null};return this._shouldIncludeLabelAsSelection()?[t,...e]:e})),fH(this,"_returnName",(()=>this.props.name||"")),fH(this,"_shouldIncludeLabelAsSelection",(()=>this.props.label&&""!==this.props.label&&this.props.includeLabelAsSelection)),fH(this,"_returnLabel",(()=>this.props.label)),fH(this,"_returnFormValue",(()=>this.props.getValue(this._returnName()))),fH(this,"_returnValue",(()=>{const e=this._returnFormValue();return nk(e)?null:e})),fH(this,"_returnClassName",(()=>this.props.styling||"")),fH(this,"_shouldShowLabel",(()=>{if(nk(this._returnLabel()))return!1;const e=this._returnValue();return this.props.forceShowLabel||this._returnLabel()!==e})),fH(this,"_convertSelectionValueToValue",(e=>this._returnOptionValues().filter((t=>t.name===e))[0])),fH(this,"_isDisabled",(e=>"isEnabled"in e&&!e.isEnabled())),fH(this,"_handleDropdownSelection",(e=>{const t=e.target.value,n=this._convertSelectionValueToValue(t);if(this._isDisabled(n))return!1;this.props.handleChange(this._returnName(),n),this._handleAdditionalActions(n),this._saveOnChange()})),fH(this,"_handleAdditionalActions",(e=>{this.props.handleAdditionalActions&&this.props.handleAdditionalActions(e,this._returnName())})),fH(this,"_saveOnChange",(e=>{}))}render(){return c.createElement("fieldset",{className:`dropdown-container ${this._returnName()} ${this._returnClassName()}`},this._renderLabel(),c.createElement("div",{style:{position:"relative"}},this._renderDropdown(),this.props.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-asc",colorClassName:" ",style:{position:"absolute",top:"14px",right:"10px"}}),this.props.showArrowIcons&&c.createElement(xc,{size:"small",icon:"fa-sort-desc",colorClassName:" ",style:{position:"absolute",top:"15px",right:"10px"}})))}}var EH=Object.defineProperty,bH=(e,t,n)=>(((e,t,n)=>{t in e?EH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const CH=u.div`
  text-align: center !important;

  > div {
    text-align: center !important;
  }

  button {
    * {
      font-size: 10px !important;
      line-height: 14px !important;
    }
    padding: 4px 8px !important;
  }
`;class xH extends c.Component{constructor(){super(),bH(this,"_renderPrefix",(()=>this.props.prefix?c.createElement("div",{className:"input-prefix"},this.props.prefix):null)),bH(this,"_renderSuffix",(()=>this.props.suffix?c.createElement("div",{className:"input-suffix"},this.props.suffix):null)),bH(this,"_renderLabel",(()=>this.props.hideLabel?null:c.createElement("label",{htmlFor:this._returnLabel(),className:this._isFocusedOrHasValue()&&this._isFloatingLabelStyle()?"text-field-lifted-label":""},this._returnLabel()))),bH(this,"_renderInput",(()=>c.createElement("input",{type:"number",name:this._returnName(),className:this._returnInputClassName(),onChange:this._handleChange,placeholder:this._returnPlaceholder(),value:this._returnValue(),step:this.props.step||"0.01",dir:this.props.dir||"ltr",autoFocus:this.props.autoFocus,autoComplete:this.props.autoComplete,onBlur:this._handleBlur}))),bH(this,"_returnWarnings",(()=>this.state.warnings)),bH(this,"_areWarnings",(()=>this.state.warnings.length>0)),bH(this,"_setWarnings",(e=>{const t=(Array.isArray(e)?e:[e]).filter((e=>this._returnWarnings().indexOf(e)<0));this.setState((e=>({warnings:[...e.warnings,...t]})))})),bH(this,"_clearWarnings",(()=>{this.setState((e=>({warnings:[]})))})),bH(this,"_handleDismissWarnings",(()=>{this._clearWarnings(),this._logDismissedWarnings()})),bH(this,"_renderWarning",((e,t)=>c.createElement("p",{key:t,className:"text-center"},e))),bH(this,"_renderDismissWarningsBtn",(()=>c.createElement(CH,null,c.createElement(hx,{onClick:this._handleDismissWarnings},"Dismiss")))),bH(this,"_renderWarnings",(()=>this._areWarnings()?c.createElement("div",{className:"input-warnings-container component-bg border-accent"},this._returnWarnings().map(((e,t)=>this._renderWarning(e,`warning-${this._returnLabel().split(" ").join("-")}-${t}`))),this._renderDismissWarningsBtn()):null)),bH(this,"_handleBlur",(()=>{this._validateFormForWarnings()})),bH(this,"_validateFormForWarnings",(e=>{if(this.props.validateForWarnings){const t=this.props.validateForWarnings(e||this._returnFormValue());if(t.length>0)return this._setWarnings(t),t;this._clearWarnings()}return[]})),bH(this,"_renderUnderline",(()=>{if(this._isFloatingLabelStyle()){const e=this._returnName(),t=!!this.props.getErrorMessage(e);return t&&this.props.getErrorMessage(e),c.createElement("div",{className:"after "+(t&&!this._isFocused()?"error-underline":"")})}return null})),bH(this,"_isError",(()=>!!this._returnErrorMessage())),bH(this,"_returnErrorMessage",(()=>this.props.getErrorMessage(this._returnName()))),bH(this,"_renderErrorMessage",(()=>{const e=this._isError()?this._returnErrorMessage():"";return!this._isError()&&this.props.autoHideErrors?null:c.createElement("p",{className:"text-field-error-message"},e)})),bH(this,"_returnInputClassName",(()=>this._isError()?"is-error":"")),bH(this,"_returnClassName",(()=>this.props.styling||"")),bH(this,"_isFloatingLabelStyle",(()=>this._returnClassName().indexOf("floating-label-text-field")>=0)),bH(this,"_returnName",(()=>this.props.name||"")),bH(this,"_returnLabel",(()=>this.props.label||"")),bH(this,"_returnPlaceholder",(()=>this.props.placeholder||"")),bH(this,"_hasValue",(()=>!nk(this._returnValue()))),bH(this,"_returnFormValue",(()=>this.props.getValue(this._returnName()))),bH(this,"_returnValue",(()=>{const e=this._returnFormValue();return nk(e)?this._returnLabel():e})),bH(this,"_isFocused",(()=>!0)),bH(this,"_isFocusedOrHasValue",(()=>!0)),bH(this,"_isDisabled",(e=>"isEnabled"===e&&!e.isEnabled())),bH(this,"_handleChange",(e=>{let t=e.target.value;((e,t)=>!e||e.test(t))(this._returnRestrictionChars(),t)?(this.props.customInputEntryOverride&&(t=this.props.customInputEntryOverride(t)),this._areWarnings()&&this._validateFormForWarnings(t),this.props.handleChange(this._returnName(),t),this._saveOnChange(t)):""===t&&this.props.handleChange(this._returnName(),"")})),bH(this,"_returnRestrictionChars",(()=>this.props.inputRestrictionChars)),bH(this,"_saveOnChange",(e=>{})),bH(this,"_logDismissedWarnings",(()=>{const e={Field:this._returnLabel(),Warning:this._returnWarnings().join(". ")};ly("Dismissed Warning On Input",e)()})),this.state={warnings:[]}}render(){return c.createElement("div",{className:`text-number-field ${this._returnName()} ${this._returnClassName()}`},c.createElement("fieldset",{className:`text-field ${"small"===this.props.size?"field-small":""} `},this._renderPrefix(),this._renderSuffix(),this._renderLabel(),this._renderInput(),this._renderWarnings(),this._renderUnderline(),this._renderErrorMessage()))}}var wH=Object.defineProperty,SH=(e,t,n)=>(((e,t,n)=>{t in e?wH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class kH extends c.Component{constructor(e){super(e),SH(this,"_renderLoading",(()=>c.createElement("div",{className:""},c.createElement(Dw,{flatStyle:!0})))),SH(this,"_renderComponent",(()=>this._returnRender()())),SH(this,"_returnRender",(()=>this._returnRenderTypes()[this._returnRenderType()])),SH(this,"_returnRenderTypes",(()=>({small:this._renderSmall,modal:this._renderModal,modalInPanel:this._renderLivePricingModalComponentInPanel}))),SH(this,"_returnRenderType",(()=>this.props.type||"small")),SH(this,"_renderSmall",(()=>c.createElement("div",{className:"live-pricing-container small"},this._renderLastSaleNotice(),c.createElement("div",{className:"live-pricing-body"},this._renderLastPrice(),this._renderBidAndAskPrice()),this._renderMoreInfo(),this._renderBidAskDisclaimer()))),SH(this,"_renderModal",(()=>c.createElement(yA,{additionalClasses:"bid-ask-pricing",handleClick:this._handleDismissSeeMorePricing,showOverlay:!0,light:!0,fixedCenter:!0},c.createElement(J$,{withoutOverlay:!0},this._isLoading()?this._renderLoading():this._renderLivePricingModalComponent())))),SH(this,"_renderLivePricingModalComponentInPanel",(()=>c.createElement("div",{className:"bid-ask-pricing"},this._isLoading()?this._renderLoading():this._renderLivePricingModalComponent()))),SH(this,"_renderLivePricingModalComponent",(()=>c.createElement("div",{className:"live-pricing-container modal-type"},this._renderModalHeading(),this._renderLastSaleNotice(),this._renderLastPrice(),this._renderBidAndAskPrice(),this._renderBidAskDisclaimer(),this._renderMoreInfo(),this._renderModalDismiss()))),SH(this,"_renderModalHeading",(()=>c.createElement("div",{className:"live-pricing-heading"},`${this._returnSecuritySymbol()} Pricing`))),SH(this,"_renderModalDismiss",(()=>c.createElement("div",{className:"live-pricing-dismiss"},c.createElement(hx,{onClick:this._handleDismissSeeMorePricing,transparent:!0},"Dismiss")))),SH(this,"_renderLastSaleNotice",(()=>c.createElement("p",{className:"last-sale-notice"},"Last Price is provided by NASDAQ's real-time last sale feed."))),SH(this,"_renderBidAskDisclaimer",(()=>c.createElement("p",{className:"bid-ask-disclaimer secondary-text-color"},"Bid / Ask is aggregated and delayed 15 minutes."))),SH(this,"_renderLastPrice",(()=>c.createElement("div",{className:"last-price-container"},c.createElement("div",{className:"data-label"},"Last Price"),c.createElement("div",{className:"value"},this._returnDisplayLastPrice()),c.createElement("div",{className:"qty"},c.createElement("span",{className:"data-label qty secondary-text-color"},"QTY"),c.createElement("span",{className:"value size"},this._returnLastPriceSize()))))),SH(this,"_renderBidAndAskPrice",(()=>c.createElement("div",{className:"bid-ask-price-container"},c.createElement("div",{className:"data-label"},"Bid / Ask"),c.createElement("div",{className:"value"},`${this._returnDisplayBidPrice()} / ${this._returnDisplayAskPrice()}`),c.createElement("div",{className:"qty"},c.createElement("span",{className:"data-label qty secondary-text-color"},"QTY"),c.createElement("span",{className:"value size"},`${this._returnBidSize()} / ${this._returnAskSize()}`))))),SH(this,"_formatFloatForPriceDisplay",(e=>"$"+hk(e,{minimumFractionDigits:2,maximumFractionDigits:2}))),SH(this,"_formatFloatForDisplay",(e=>hk(e,{minimumFractionDigits:2,maximumFractionDigits:2}))),SH(this,"_returnSecurityId",(()=>this.props.securityId)),SH(this,"_returnSecuritySymbol",(()=>this.props.symbol)),SH(this,"_returnPricingStore",(()=>this.props.securitiesOrderPrice)),SH(this,"_returnPricingData",(()=>this._returnPricingStore().securities[this._returnSecurityId()])),SH(this,"_returnLastPrice",(()=>this._returnPricingData().last_price)),SH(this,"_returnDisplayLastPrice",(()=>this._formatFloatForPriceDisplay(this._returnLastPrice()))),SH(this,"_returnLastPriceSize",(()=>this._returnPricingData().last_size)),SH(this,"_returnBidPrice",(()=>this._returnPricingData().bid_price)),SH(this,"_returnBidSize",(()=>this._returnPricingData().bid_size)),SH(this,"_returnDisplayBidPrice",(()=>this._formatFloatForPriceDisplay(this._returnBidPrice()))),SH(this,"_returnAskPrice",(()=>this._returnPricingData().ask_price)),SH(this,"_returnAskSize",(()=>this._returnPricingData().ask_size)),SH(this,"_returnDisplayAskPrice",(()=>this._formatFloatForDisplay(this._returnAskPrice()))),SH(this,"_renderMoreInfo",(e=>{const t=e&&e.alwaysShow,n=this._shouldShowMoreInfo()||t;return c.createElement("div",null,n?null:c.createElement("div",{className:"pricing-info-explanation-link"},c.createElement(hx,{transparent:!0,onClick:this._showMoreInfo},"What is Bid/ Ask Pricing?")),c.createElement("div",{className:"pricing-info-explanation height-change-animation slow small "+(n?"":"no-height")},c.createElement("div",{className:"spacer"},c.createElement("p",null,c.createElement("span",{className:"bold-text"},"Bid "),"is the highest price at which the security can be sold in the market."),c.createElement("p",null,c.createElement("span",{className:"bold-text"},"Ask "),"is the lowest price at which the security can be bought in the market."),c.createElement("p",null,"These prices are determined by market participants.  Quantity is the number of shares available to buy or sell at the quoted price."),c.createElement("div",{className:"text-center"},t?null:c.createElement(hx,{onClick:this._hideMoreInfo},"Hide")))))})),SH(this,"_isLoading",(()=>this.state._isLoading)),SH(this,"_completeLoading",(()=>{this.setState((()=>({_isLoading:!1})))})),SH(this,"_shouldShowMoreInfo",(()=>this.state.showMoreInfo)),SH(this,"_handleDismissSeeMorePricing",(()=>this.props.handleDismiss())),SH(this,"_showMoreInfo",(()=>{this.setState((()=>({showMoreInfo:!0})))})),SH(this,"_hideMoreInfo",(()=>{this.setState((()=>({showMoreInfo:!1})))})),SH(this,"_getPricing",(()=>{const e=[this.props.securityId],t=[this.props.actions.fetchSecuritiesPriceData(e),this.props.actions.fetchSecuritiesOrderPriceData(e)];return Promise.all(t)})),this.state={_isLoading:!0,showMoreInfo:!1}}componentDidMount(){this._getPricing().then((()=>{this._completeLoading()}))}render(){return this._renderComponent()}}const TH=N(T((e=>({securitiesOrderPrice:e.securitiesOrderPrice})),(e=>({actions:I(WC,e)}))))(kH),IH=e=>{const t=D((t=>((e,t)=>e.securities.lookup[t]||null)(t,e))),[n,r]=c.useState(t||{});return c.useEffect((()=>{n===t||nk(t)||r(t)}),[t,n]),n},NH=u.div`
  color: ${({theme:e,value:t})=>t>0?e.themeColors.positive:t<1?e.themeColors.negative:e.themeColors.text};

  * {
    color: ${({theme:e,value:t})=>t>0?e.themeColors.positive:t<1?e.themeColors.negative:e.themeColors.text} !important;
  }
`,AH=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-wrap: wrap;
  gap: 6px;

  opacity: ${({value:e})=>0===e?"0.6":"1"};

  margin: 0;
`,PH=u.div``,DH=u.div``,OH=({securityId:e,showCurrentPrice:t})=>{const{name:n,featured:r,symbol:i}=IH(e),{price:a,change:s,percentChange:o}=iM(e),l=eg(a,"current_price"),d=eg(s,"current_price_change"),u=eg(o,"current_price_change_percent");return n&&!r?null:isNaN(a)||null===a?c.createElement(AH,{value:s},c.createElement(Ei,null,"...")):t?c.createElement(AH,{value:s},c.createElement(DH,{value:s},l),c.createElement(PH,null,c.createElement(Go,{value:s,size:18})),c.createElement(NH,{value:s},s>0?"+":"",u)):c.createElement(AH,{value:s},c.createElement(PH,null,c.createElement(Go,{value:s,size:18})),c.createElement(NH,{value:s},s>0?"+":"",d),c.createElement(NH,{value:s},s>0?"+":"",u))},LH=u.div`
  display: flex;
  flex-direction: row;
  justify-content: ${({align:e})=>e||"flex-start"};
  align-items: center;

  * {
    font-size: 12px;
    line-height: 14px;
  }
`,RH=u.div`
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,FH=u.div`
  color: ${({theme:e,value:t})=>0===t?e.themeColors.text:t>0?e.themeColors.positive:e.themeColors.negative} !important;
`,MH=u.div`
  padding-top: 2px;
  ${({align:e})=>"flex-end"===e?"text-align: right;":""};
`,UH=u.div`
  opacity: 0.8;
  color: ${({theme:e})=>e.themeColors.text};
  * {
    color: ${({theme:e})=>e.themeColors.text};
  }
`,$H=({securityId:e,showPriceChange:t,showPrice:n,showTimestamp:r,ContainerProps:i,align:a})=>{const s=XT(),{isInExtendedTrading:l,extendedTradingPrefixShort:d}=GN(),{extendedPrice:u,extendedChangePercent:h,extendedChange:p,extendedAsOf:m}=iM(e);if(!s||!l||null===h||isNaN(h))return null;const g="As of "+Yl("asOf",Gl(m)),y=c.createElement(LH,{align:a},c.createElement(RH,null,d,":"),c.createElement(Tw,{right:3}),n&&c.createElement(c.Fragment,null,c.createElement(UH,null,eg(u,"current_price")),c.createElement(Tw,{right:3})),c.createElement(Tw,{right:3}),t&&c.createElement(c.Fragment,null,c.createElement(FH,{value:h},eg(p,"current_price")),c.createElement(Tw,{right:3})),c.createElement(FH,{value:h},eg(h,"percentage")));return i?c.createElement(c.Fragment,null,c.createElement(Iw,o({},i),y),r&&c.createElement(MH,{align:a},g)):c.createElement(c.Fragment,null,y,r&&c.createElement(MH,{align:a},g))},BH=u.div`
  min-width: 126px;

  p {
    margin: 0 !important;
  }
`,zH=u.div`
  font-size: 28px;
  line-height: 34px;
  font-weight: 600;

  text-align: right;
`,VH=u.div`
  font-size: 14px;
  line-height: 24px;

  > div {
    justify-content: flex-end;
  }
`,HH=u.div`
  * {
    font-size: 12px;
    line-height: 16px;

    color: ${({theme:e})=>e.themeColors.secondaryText} !important;
  }
`,WH=({securityId:e})=>{const[t,n]=c.useState(!1),{price:r}=iM(e),{symbol:i}=IH(e),{shares:a}=p$(e),s=Math.abs(a)>0;if(c.useEffect((()=>{!i||t||s||(py.addSecurities([{id:e,symbol:i}]),n(!0))}),[i,t,a]),c.useEffect((()=>()=>{t&&py.removeSecurities([i])}),[t]),isNaN(r))return null;const o=eg(r,"current_price");return c.createElement(BH,null,c.createElement(zH,null,c.createElement("p",null,o)),c.createElement(VH,null,c.createElement(OH,{securityId:e})),c.createElement(HH,null,c.createElement($H,{securityId:e,showPrice:!0,showTimestamp:!0,align:"flex-end",ContainerProps:{top:1}})))},jH=u.div``,GH=u.div`
  font-size: 28px;
  line-height: 34px;
  font-weight: 600;
`,qH=u.div`
  font-size: 14px;
  line-height: 24px;
  max-width: 240px;

  p {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 540px) {
    max-width: 180px;
  }

  @media (max-width: 410px) {
    max-width: 110px;
  }
`,YH=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;

  p {
    margin: 0 !important;
  }
`,KH=u.div`
  button {
    padding: 4px 0 8px 12px;
  }
`,QH=u.div`
  font-size: 14px;
  line-height: 18px;
`,ZH=({securityId:e,buyingPowerDisplay:t})=>{const{symbol:n,name:r}=IH(e);return c.createElement(jH,null,c.createElement(GH,null,c.createElement("p",null,n)),c.createElement(qH,null,c.createElement("p",null,r)),c.createElement(QH,null,c.createElement("p",null,`Buying Power: ${t}`)))},XH=u.div`
  text-align: center;
`,JH=({securityId:e,handleSeeMorePricingClick:t,buyingPowerDisplay:n})=>{const r=P(),{name:i}=IH(e),a=QT();return c.useEffect((()=>{i||mC([e])(r)}),[]),i?c.createElement("div",null,c.createElement(YH,null,c.createElement(ZH,{securityId:e,buyingPowerDisplay:n}),c.createElement("div",null,c.createElement(WH,{securityId:e}),a&&c.createElement(KH,null,c.createElement(hx,{transparent:!0,onClick:t},"See More Pricing"))))):c.createElement(XH,null,c.createElement(Ri,null))},eW=u.input`
  background: ${({theme:e})=>e.themeColors.primaryCtaButton};
  border: ${({theme:e})=>"1px solid "+e.themeColors.primaryCtaButton};
  color: ${({theme:e})=>e.themeColors.buttonText};

  :hover {
    opacity: 0.8;
  }

  cursor: ${e=>e.disabled?"not-allowed":"pointer"};
  user-select: none;
  box-shadow: none;
  transition: background-color 300ms, color 300ms;

  border-radius: 6px !important;
  height: auto;
  width: 100%;
  max-width: 360px;
  padding: 12px 24px;
  white-space: nowrap;

  color: ${({theme:e})=>e.themeColors.buttonText};
  font-size: 12px;
  font-weight: 600;
  line-height: 14px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
`,tW=e=>{const t=yl(e),n=e.text||e.value;e.className;return c.createElement(eW,{type:"submit",onClick:n=>{e.disabled?n.preventDefault():t()},value:n})};tW.defaultProps={buttonType:_t.button_types.button};const nW=e=>{const t=e.name,n=e.label,r=e.getValue(t)||"";e.styling;const i=e.overwriteClassNames,a=e.inverted,s=!!e.getErrorMessage(t),o=s?e.getErrorMessage(t):"",l=e.isFocused&&e.isFocused(t),d=!!r&&r.length>0||l,u=!!e.focusNote&&l,h=e.getFocusNote&&e.getFocusNote(t),p=(t,n)=>{e.overrideChange?e.overrideChange(t,n):e.handleCurrencyChange?e.handleCurrencyChange(t,n):e.handleChange(t,n)},m="cents"===e.currencyModifier;return a?c.createElement("div",{className:i||"floating-label-text-field"},c.createElement("fieldset",{className:`text-field ${"small"===e.size?"field-small":""} `},c.createElement("label",{htmlFor:n,className:d?"text-field-lifted-label":""},n),c.createElement("div",{className:"parent-wrapper"},c.createElement("input",{type:"text",className:"currency-input "+(m?"cents-only":""),name:t,onFocus:()=>{e.handleFocus&&e.handleFocus(t)},onBlur:()=>{e.handleBlur&&e.handleBlur(r,t)},onChange:e=>{p(e,t)},value:r}),d&&c.createElement("div",{className:"input-currency-prefix"},m?"$0.":"$")),c.createElement("div",{className:"after "+(s&&!l?"error-underline":"")}),c.createElement("p",{className:"text-field-error-message"},o))):c.createElement("div",{className:i||"floating-label-text-field"},c.createElement("fieldset",{className:`text-field ${"small"===e.size?"field-small":""} `},u&&c.createElement("div",{className:"focus-note eye-catching-bg"},h),c.createElement("div",{className:"parent-wrapper"},c.createElement("input",{type:"text",className:"currency-input "+(m?"cents-only":""),name:t,onFocus:()=>{e.handleFocus&&e.handleFocus(t)},onBlur:()=>{e.handleBlur&&e.handleBlur(r,t)},onChange:e=>{p(e,t)},value:r}),d&&c.createElement("div",{className:"input-currency-prefix"},m?"$0.":"$")),c.createElement("label",{htmlFor:n,className:d?"text-field-lifted-label":""},n),c.createElement("div",{className:"after "+(s&&!l?"error-underline":"")}),c.createElement("p",{className:"text-field-error-message"},o)))};var rW=Object.defineProperty,iW=(e,t,n)=>(((e,t,n)=>{t in e?rW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const aW=u.div`
  background-color: ${({theme:e})=>e.themeColors.error}
  color: ${({theme:e})=>e.themeColors.buttonText};
  `,sW=u.div`
  .toggle-left.operation-toggle.toggle-active {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
  .toggle-right.operation-toggle.toggle-active {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`,oW=u.div`
  max-width: 400px;

  .currency-input {
    border-radius: 0 !important;

    padding-left: 20px;
  }

  .input-currency-prefix {
    top: -3px;
    left: 5px;
    font-size: 16px;
  }
`,lW=u(Jr)`
  padding: 8px 0px 24px 0px;

  button {
    padding: 8px 8px;
  }
`,cW=u.div`
  input,
  select {
    background-color: var(--light-gray);
  }

  .squared-toggle .operation-toggle {
    padding: 8px 6px;
    width: 100px;
  }
`,dW=u.div`
  input {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
    border: none;
    margin: 0 auto;
    padding: 12px 0px !important;
    width: 200px !important;
    border-radius: 6px !important;
    text-decoration: none !important;
  }
  input:hover {
    opacity: 0.8;
  }
`,uW=u(Jr)``;class hW extends c.PureComponent{constructor(e){super(),iW(this,"_shouldUpdateCommissions",(e=>{let t=!1;const{isFractionalTrading:n}=this.state,r=!n&&""===this._returnNumOfSharesInOrder(),i=n&&""===this._returnEnteredCashAmountInOrder();if(null===this._returnOrderOperationEntered()||r||i)return!1;this._returnNumOfSharesInOrder(e)!==this._returnNumOfSharesInOrder()&&(t=!0);this._returnEnteredCashAmountInOrder(e)!==this._returnEnteredCashAmountInOrder()&&(t=!0);return this._returnOrderOperationEntered(e)!==this._returnOrderOperationEntered()&&(t=!0),t})),iW(this,"_getOrderCommissionValue",(()=>{const e={order_id:this._returnOrderId()};this._commissionsForOrderData=e,this.setState((e=>({isCommissionsLoading:!0}))),Gb(e).then((t=>{const{ok:n,data:r}=t;n?this._commissionsForOrderData===e&&this.setState((e=>({isCommissionsLoading:!1,orderCommissionsValue:r.commission}))):setTimeout((()=>{this._getOrderCommissionValue()}),1e3)}))})),iW(this,"_renderForm",(()=>this._isTradingHalted()?c.createElement(oW,null,this._renderHaltedSecurityForm()):this._shouldRenderSeeMorePricing()?c.createElement(oW,null,this._renderSeeMorePricing()):c.createElement("div",{className:"create-trade-form-container height-change-animation-fast"},this._isPlaceOrdersLifecycleRunning()?this.props.renderPlacingOrdersState():c.createElement(oW,null,this._renderCloseIcon(),this._renderHeader(),this._renderOrderForm(),this._renderCreatingOrderOverlay())))),iW(this,"_renderSeeMorePricing",(()=>c.createElement(TH,{securityId:this._returnSecurityId(),symbol:this._returnSymbol(),handleDismiss:this.handleSeeMorePricingDismiss,type:"modalInPanel"}))),iW(this,"_isPlaceOrdersLifecycleRunning",(()=>!(!this.props.renderPlacingOrdersState||!this.props.renderPlacingOrdersState()))),iW(this,"_shouldRenderSeeMorePricing",(()=>this.state.shouldShowMorePricing)),iW(this,"handleSeeMorePricingClick",(()=>{this._logSeeMorePricingClick(),this._showMorePricing()})),iW(this,"_handleOverlayClick",(()=>this._shouldRenderSeeMorePricing()?this.handleSeeMorePricingDismiss():!this.props.shouldRestrictDismissal&&(this.props.wasOrderPlaced&&!this.props.isAddProConPanelShowing?this.props.showAddProConPanelForPlacedOrders():this.props.isAddProConPanelShowing?this._closeForm():this._handleCancelOrder(null,!0)))),iW(this,"handleSeeMorePricingDismiss",(()=>{this._logSeeMorePricingDismiss(),this._hideMorePricing()})),iW(this,"_renderHaltedSecurityForm",(()=>c.createElement("div",{className:"create-trade-form-container height-change-animation-fast"},this._renderCloseIcon(),this._renderTradingHaltedBanner(),this._renderHeader()))),iW(this,"_renderCloseIcon",(()=>c.createElement("div",{className:"close-icon-container"},c.createElement(aS,{customClass:"new-order-cancel-x",icon:"fa fa-times fa-times-thin",colorClassName:"secondary-text-color",size:"medium",handleClick:this._handleCancelOrder})))),iW(this,"_renderTradingHaltedBanner",(()=>c.createElement("div",{className:"halted-trading-banner"},`Trading for ${this._returnSymbol()} is temporarily halted`))),iW(this,"_renderHeader",(()=>c.createElement(JH,{securityId:this._returnSecurityId(),isLiveTrading:this._isCurrentUserLiveTrading(),buyingPower:this._returnBuyingPower(),buyingPowerDisplay:this._displayFormatOfBuyingPower(),handleSeeMorePricingClick:this.handleSeeMorePricingClick}))),iW(this,"_toggleFractionalTrading",(()=>{this.setState((e=>({isFractionalTrading:!e.isFractionalTrading})))})),iW(this,"_renderOrderForm",(()=>{const e=this._isSellingShares()?"Sell":"Buy",t=this._isStopOrder(),{isFractionalTrading:n}=this.state;return c.createElement("form",{className:"order-inputs",onSubmit:this._handleSubmit},this._renderOrderOperationInputRow(),c.createElement("div",{className:"input-group"},this._renderOrderTypeDropdown(),n?this._renderFractionalTradingInput():this._renderNumOfSharesInput()),t||null!==this._isFractionalTradingUnavailableReason()?this._renderFractionalUnavailableMessage(this._isFractionalTradingUnavailableReason()):c.createElement(lW,{hAlign:"center"},c.createElement(sx,{buttonProps:{width:"224px",padding:"6px 0px"},onClick:this._toggleFractionalTrading},n?`Switch to ${e} in Shares`:`Switch to ${e} in Dollars`)),this._renderOrderAttributes(),this._renderWarnings(),this._renderErrors(),this._renderActionButtons())})),iW(this,"_renderOrderOperationInputRow",(()=>c.createElement(sW,{className:"order-operation-row"},this._renderOperationToggle()))),iW(this,"_renderBlankCoverSellAllOption",(()=>c.createElement("div",{className:"blank-cover-sell-all-spacer"}))),iW(this,"_renderCoverAllOption",(()=>this._doesUserHaveAShortPosition()?c.createElement(hx,{smallNoVert:!0,transparent:!0,onClick:this._handleCoverAllClick},"Cover All"):this._renderBlankCoverSellAllOption("cover-spacer"))),iW(this,"_renderSellAllOption",(()=>this._doesUserHaveALongPosition()?c.createElement(hx,{smallNoVert:!0,transparent:!0,onClick:this._handleSellAllClick},"Sell All"):this._renderBlankCoverSellAllOption("sell-spacer"))),iW(this,"_handleCoverAllClick",(()=>{this._logCoverAllClick(),this._updateFormToCoverPosition()})),iW(this,"_handleSellAllClick",(()=>{this._logSellAllClick(),this._updateFormToSellPosition()})),iW(this,"_updateFormToCoverPosition",(()=>{this.setState((e=>({formData:{operation:{id:0,name:"Buy",display:"Buy"},type:{id:0,name:"market",displayName:"Market"},shares:Math.abs(this._returnNumberOfCurrentSharesInPosition()),limit_price:null,stop_price:null,cash_amount:null}})))})),iW(this,"_updateFormToSellPosition",(()=>{this.setState((e=>({formData:{operation:{id:1,name:"Sell",display:"Sell"},type:{id:0,name:"market",displayName:"Market"},shares:this._returnNumberOfCurrentSharesInPosition(),limit_price:null,stop_price:null,cash_amount:null}})))})),iW(this,"_renderOrderAttributes",(()=>{const{isFractionalTrading:e}=this.state;return c.createElement("div",{className:"order-form-attributes"},this._isLimitOrder()?this._renderLimitPriceField():null,this._isStopOrder()?this._renderStopPriceField():null,this._doesCurrentUserHavePosition(this._returnSecurityId())?this._renderCurrentSharesField():null,e?this._renderApproxSharesField():this._renderApproxValueField(),this._isCurrentUserLiveTrading()?this._renderCommissionsField():null)})),iW(this,"_renderLimitPriceInput",(()=>this._renderInput(this._returnLimitPriceInput()))),iW(this,"_renderLimitPriceField",(()=>{const e={classKey:"limit-price",withInput:!0};return this._renderOrderAttributesField("Limit Price",this._renderLimitPriceInput(),e)})),iW(this,"_renderStopPriceInput",(()=>this._renderInput(this._returnStopPriceInput()))),iW(this,"_renderStopPriceField",(()=>{const e={classKey:"stop-price",withInput:!0};return this._renderOrderAttributesField("Stop Price",this._renderStopPriceInput(),e)})),iW(this,"_renderCurrentSharesField",(()=>{const e={classKey:"current-shares"};return this._renderOrderAttributesField("Current Shares",c.createElement(uW,{hAlign:"right"},c.createElement("span",{style:{display:"inline-block",marginRight:"8px"}},this._doesUserHaveAShortPosition()&&this._renderCoverAllOption(),this._doesUserHaveALongPosition()&&this._renderSellAllOption()),this._returnNumberOfCurrentSharesInPosition()),e)})),iW(this,"_renderCommissionsField",(()=>{const{isCommissionsLoading:e}=this.state,t={classKey:"commissions",isLoading:e},n=null===this._returnCommissionFee()?null:this._displayFormatOfOrderCommissionTotal();return this._renderOrderAttributesField("Commissions",n,t)})),iW(this,"_renderApproxValueField",(()=>{const e={classKey:"approx-order-value"};return this._renderOrderAttributesField("Approx Value",this._displayFormatOfOrderApproxValue(),e)})),iW(this,"_approximateSharesForFractionalTrade",(()=>nk(this._returnCurrentPriceForSecurity())?"":((e,t)=>{const n=e/t;return n&&n.toFixed(5)||""})(this._parseFormCashAmount(),this._returnCurrentPriceForSecurity()))),iW(this,"_parseFormCashAmount",(()=>{const{formData:{cash_amount:e}}=this.state;return qk(e)})),iW(this,"_renderApproxSharesField",(()=>{const e={classKey:"approx-order-shares"},t=this._approximateSharesForFractionalTrade();return this._renderOrderAttributesField("Approx Shares",t,e)})),iW(this,"_displayFormatOfOrderCommissionTotal",(()=>`$${this._returnCommissionFee().toFixed(2)}`)),iW(this,"_displayFormatOfOrderApproxValue",(()=>"$"+hk(this._calculateOrderApproxValue(),{minimumFractionDigits:2,maximumFractionDigits:2}))),iW(this,"_returnCommissionFee",(()=>this.state.orderCommissionsValue)),iW(this,"_calculateOrderApproxValue",(()=>nk(this._returnCurrentPriceForSecurity())?"":tv(this._isSellingShares(),this._returnNumOfSharesInOrderAsValue(),this._returnCurrentPriceForSecurity(),this._isLimitOrder(),this._returnOrderLimitPriceEnteredValue(),this._isStopOrder(),this._returnOrderStopPriceEnteredValue()))),iW(this,"_renderOrderAttributesField",((e,t,n={})=>{const r=[];n.withInput&&r.push("with-input"),n.classKey&&r.push(n.classKey);const i="Commissions"===e&&this._willTradeSizeCrossZero(),a=this._willTradeSizeCrossZeroToShort();return c.createElement("div",{className:`order-attributes-field ${r.join(" ")}`},c.createElement("div",{className:"label  "},e),c.createElement("span",{className:"default-flex-end"},i&&c.createElement(iS,{position:"right",word:a?"tooltip_order_form_sec_rule_for_short_sale":"tooltip_order_form_sec_rule_for_long_sale",style:{position:"relative",top:"0",left:"2px"}}),c.createElement("div",{className:"value"},n.isLoading?c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"15px"}}):t)))})),iW(this,"_renderActionButtons",(()=>c.createElement(dW,{className:"create-order-action-buttons"},c.createElement(tW,{className:"btn",handleClick:()=>!0,text:this._returnTextForPlaceOrderButton(),disabled:this._isFormErrors()})))),iW(this,"_renderCreatingOrderOverlay",(()=>c.createElement(oS,{className:"order-form-action-overlay",show:this._isCreatingOrder(),spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:this._returnMessageForCreatingOrderOverlay()}))),iW(this,"_returnTextForPlaceOrderButton",(()=>this._isEditForm()?"UPDATE ORDER":this.isUsingBasket()?"ADD TO BASKET":"PLACE ORDER")),iW(this,"isUsingBasket",(()=>this.props.isUsingBasket)),iW(this,"_returnOperationInput",(()=>({type:yH,typeName:"Toggle",name:"operation",required:!0,props:{values:[{id:0,name:"buy",display:"Buy"},{id:1,name:"sell",display:"Sell"}],isDisabled:e=>1===e.id&&(!this._isShortAllowed()&&!this._doesUserHaveALongPosition()),returnDisabledMessage:e=>1===e.id&&this._returnCannotShortMessage(),toggleButtonClass:"operation-toggle"}}))),iW(this,"_renderOperationToggle",(()=>{const e=this._returnOperationInput();return this._renderInput(e)})),iW(this,"_returnOrderTypeInput",(()=>({type:vH,typeName:"Dropdown",name:"type",label:"Order Type",required:!0,props:{styling:"dropdown-inline-left",values:this._returnOrderTypes(),includeLabelAsSelection:!1,forceShowLabel:!0,showArrowIcons:!0}}))),iW(this,"_renderOrderTypeDropdown",(()=>{const e=this._returnOrderTypeInput();return this._renderInput(e)})),iW(this,"_returnNumOfSharesInput",(()=>{let e={type:xH,typeName:"TextNumberField",label:"Shares",name:"shares",props:{styling:"dropdown-styled-text-field",step:"1"}};return this._isStopLimitOrder()||this._isStopOrder()||null!==this._isFractionalTradingUnavailableReason()?e.props=l(o({},e.props),{inputRestrictionChars:/^[0-9]+$/}):e.props=l(o({},e.props),{customInputEntryOverride:e=>this._returnFormattedNumberForInputField(e,5)}),e})),iW(this,"_returnFractionalTradingInput",(()=>({type:nW,typeName:"MoneyField",label:"Dollar Amount",name:"cash_amount",required:!0,props:{inverted:!0,overwriteClassNames:"text-number-field cash_amount dropdown-styled-text-field force-text-field-style",step:"1",customInputEntryOverride:e=>this._returnFormattedNumberForInputField(e)}}))),iW(this,"_renderFractionalTradingInput",(()=>{const e=this._returnFractionalTradingInput();return this._renderInput(e)})),iW(this,"_renderNumOfSharesInput",(()=>{const e=this._returnNumOfSharesInput();return this._renderInput(e)})),iW(this,"_returnLimitPriceInput",(()=>({type:xH,typeName:"TextNumberField",name:"limit_price",required:this._isLimitPriceInputRequired,props:{prefix:"$",autoHideErrors:!0,hideLabel:!0,styling:"highlight-text-field text-field-right",step:"0.01",customInputEntryOverride:e=>this._returnOverrideInputValueForDecimalAccuracy(e),validateForWarnings:e=>{if(e){const t=.1,n=this._returnCurrentPriceForSecurity();if(Math.abs((e-n)/n)>t)return["Your limit price is more than 10% away from the last price."];if(this._isStopLimitOrder()){const n=this._returnOrderStopPriceEntered();if(n){if(Math.abs((e-n)/n)>t)return["Your limit price is more than 10% away from your stop price."]}}}return[]}}}))),iW(this,"_returnFormattedNumberForInputField",((e,t)=>{let n=+e;return n<0&&(n*=-1),this._returnOverrideInputValueForDecimalAccuracy(n,t)})),iW(this,"_returnOverrideInputValueForDecimalAccuracy",((e,t)=>{const n=qk(e);if(n>0){const e=t&&t>0?t:n<1?4:2;if((e=>{const t=e.toString().split(".")[1];return t?t.length:0})(n)>e)return((e,t=0)=>$k(t)?Number(Math.round(e+"e"+t)+"e-"+t):Uk("decimalPlaceInt must be an int received: "+typeof t))(n,e).toString()}return e})),iW(this,"_returnStopPriceInput",(()=>({type:xH,typeName:"TextNumberField",name:"stop_price",required:this._isStopPriceInputRequired,props:{prefix:"$",autoHideErrors:!0,hideLabel:!0,styling:"highlight-text-field text-field-right",step:"0.01",customInputEntryOverride:e=>this._returnOverrideInputValueForDecimalAccuracy(e),validateForWarnings:e=>{if(e){const t=this._returnCurrentPriceForSecurity(),n=.1;if(Math.abs((e-t)/t)>n)return["Your stop price is more than 10% away from the last price."];if(this._isStopLimitOrder()){const t=this._returnOrderLimitPriceEntered();if(t){if(Math.abs((t-e)/e)>n)return["Your limit price is more than 10% away from your stop price."]}}}return[]}}}))),iW(this,"_isLimitPriceInputRequired",(()=>this._isLimitOrder())),iW(this,"_isStopPriceInputRequired",(()=>this._isStopOrder())),iW(this,"_returnInputs",(()=>{const{isFractionalTrading:e}=this.state,t=e?this._returnFractionalTradingInput():this._returnNumOfSharesInput();return[this._returnOperationInput(),this._returnOrderTypeInput(),t,this._returnLimitPriceInput(),this._returnStopPriceInput()]})),iW(this,"_returnOrderTypes",(()=>{const{isFractionalTrading:e}=this.state;let t=[{id:0,name:"market",displayName:"Market",isEnabled:()=>!0,disabledReason:()=>null},{id:1,name:"limit",displayName:"Limit",isEnabled:()=>this._isCurrentUserLiveTrading(),disabledReason:()=>"Only Available for Live Trading"}];return e||t.push({id:2,name:"stop",displayName:"Stop",isEnabled:()=>this._isCurrentUserLiveTrading(),disabledReason:()=>"Only Available for Live Trading"},{id:3,name:"stop_limit",displayName:"Stop Limit",isEnabled:()=>this._isCurrentUserLiveTrading(),disabledReason:()=>"Only Available for Live Trading"}),t})),iW(this,"_renderInput",(e=>iF.call(this,e))),iW(this,"_checkIfHasAnIdeaWithOppositePosition",(()=>{const e=this._returnCurrentUserIdea();if(e){const t=0===e.idea_type.id;if(!t&&this._isGoingLong())return"You currently have a SELL idea for this stock";if(t&&this._isShorting())return"You currently have a BUY idea for this stock"}return null})),iW(this,"_checkIfEnteringAShortPositionWhenNotAllowed",(()=>{if(!this._isShortAllowed()&&this._isShorting())return this._returnCannotShortMessage()})),iW(this,"_checkIfSharesAreZero",(()=>{const{isFractionalTrading:e,formData:t}=this.state,{shares:n}=t;if(!e&&0==n)return"Shares cannot be 0"})),iW(this,"_checkRequiredFieldsAreComplete",(e=>{const t=this;let n=!1;const r={};return this._returnInputs().forEach((e=>{(function(e,t){if(fk(t.required)?t.required():t.required){const n=e.state.formData[t.name];if(nk(n)||"string"==typeof n&&""===n.trim())return!1}return!0})(t,e)||(r[e.name]="Required Field",n=!0)})),e.updateInputErrors&&this.setState((()=>({inputErrors:r}))),n?"Please fill out all required fields.":null})),iW(this,"_checkStopPriceAgainstCurrentPrice",(()=>this._isStopOrder()?this._isSellingShares()?this._returnOrderStopPriceEntered()<=this._returnCurrentPriceForSecurity()?null:"Stop price can't be greater than last price.":this._returnOrderStopPriceEntered()>=this._returnCurrentPriceForSecurity()?null:"Stop price can't be less than last price.":null)),iW(this,"_shouldValidateForm",(e=>{if(!this._wasFormDataChanged(e))return!1;if(!e.isFractionalTrading&&this.state.isFractionalTrading||e.isFractionalTrading&&!this.state.isFractionalTrading)return!1;if(this.state.errors.length>0)return!0;var t=!0;if(this._isMarketOrder()){const e=this._isBuyingShares()||this._isSellingShares(),n=this._returnNumOfSharesInOrderAsValue()>0;t=e&&n}if(this._isLimitOrder()){const e=this._isBuyingShares()||this._isSellingShares(),n=this._returnNumOfSharesInOrderAsValue()>0,r=this._returnOrderLimitPriceEntered()>0;t=t&&e&&n&&r}if(this._isStopOrder()){const e=this._isBuyingShares()||this._isSellingShares(),n=this._returnNumOfSharesInOrderAsValue()>0,r=this._returnOrderStopPriceEntered()>0,i=this._isSellingShares()?this._returnOrderStopPriceEntered()<=this._returnCurrentPriceForSecurity():this._returnOrderStopPriceEntered()>=this._returnCurrentPriceForSecurity();t=t&&e&&n&&r&&!i}return t})),iW(this,"_returnAllErrorValidations",(()=>[this._checkIfSharesAreZero,this._checkIfEnteringAShortPositionWhenNotAllowed,()=>this._checkRequiredFieldsAreComplete({updateInputErrors:!0}),this._checkStopPriceAgainstCurrentPrice])),iW(this,"_returnAllWarningValidations",(()=>[this._checkIfHasAnIdeaWithOppositePosition])),iW(this,"_validateForm",(()=>{const{isFractionalTrading:e,formData:{shares:t}}=this.state,n=t&&+t||0,r=n>0&&Number.isInteger(n),i=[],a=[];return this._returnAllErrorValidations().forEach((e=>{const t=e();t&&i.push(t)})),this._returnAllWarningValidations().forEach((e=>{const t=e();t&&a.push(t)})),e&&this._isBuyingShares()&&this._parseFormCashAmount()<5&&i.push("Dollar amount must be at least $5."),!this._isStopOrder()&&!this._isStopLimitOrder()||r||i.push("Stop orders require a whole number for shares."),this._overwriteWarnings(a),this._overwriteErrors(i),0===i.length})),iW(this,"_handleCreate",(()=>{const e=this;this._validateForm()?(this._startCreatingOrder(),this._submitOrderForm().then((t=>{setTimeout((()=>{e._endCreatingOrder(),e._handleOrderSubmitResponse(t)}),500)}))):this._logSubmitInvalidOrderFormForm()})),iW(this,"_handleEdit",(()=>{const e=this;this._validateForm()?(this._startCreatingOrder(),this._submitOrderForm().then((t=>{setTimeout((()=>{e._endCreatingOrder(),e._handleOrderSubmitResponse(t)}),500)}))):this._logSubmitInvalidOrderFormForm()})),iW(this,"_handleSubmit",(e=>{if(e.preventDefault(),this._validateForm()){if(this._isEditForm())return this._handleEdit();if(this.isUsingBasket())this._handleCreate();else{const e=[this._normalizeFormDataForApi()];this.props.handlePlaceOrders(e)}}})),iW(this,"_handleOrderSubmitResponse",(e=>{if(e&&e.wasSuccessful)this._isEditForm()?this._logUpdateManualOrder():this._logCreateManualOrder(),this.props.handleCompleteOrder();else{const t=e&&e.data&&Array.isArray(e.data)?e.data[0]&&e.data[0].error:e&&e.data&&e.data.error;this._createOrderError(t)}})),iW(this,"_convertAPIErrorMessageToFrontendMessage",(e=>({"User already has an order for this security":"Order already exists for that stock. Click edit to modify it.","Can not create an order for an un-featured security":"This security is not currently available to trade."}[e]||e||"Something went wrong. Please try again later."))),iW(this,"_createOrderError",(e=>{const t=this._convertAPIErrorMessageToFrontendMessage(e);this._addError(t)})),iW(this,"_submitOrderForm",(()=>this._isEditForm()?this.props.actions.updateOrderInBasket(this._normalizeFormDataForApi()):this.props.actions.addOrderToBasket(this._normalizeFormDataForApi()))),iW(this,"_normalizeFormDataForApi",(()=>{const{isFractionalTrading:e}=this.state;let t={operation:this._returnOrderOperationEntered().name.toLowerCase(),type:this._returnOrderTypeEntered().name.toLowerCase(),security_id:this._returnSecurityId(),is_from_optimizer:!1};return t=l(o({},t),e?{cash_amount:+this._parseFormCashAmount()||0}:{shares:+this._returnNumOfSharesInOrderAsValue()}),this._isEditForm()&&(t.order_id=this._returnOrderId()),this._isLimitOrder()&&(t.limit_price=this._returnOrderLimitPriceEntered()),this._isStopOrder()&&(t.stop_price=this._returnOrderStopPriceEntered()),t})),iW(this,"_isLoading",(()=>!1)),iW(this,"_renderLoading",(()=>c.createElement(Dw,null))),iW(this,"_isCreatingOrder",(()=>this.state.isCreatingOrder)),iW(this,"_returnMessageForCreatingOrderOverlay",(()=>this._isEditForm()?"Updating Order":"Adding Order")),iW(this,"_isFormErrors",(()=>!(!this._returnFormErrors()||0===this._returnFormErrors().length))),iW(this,"_returnFormErrors",(()=>this.state.errors)),iW(this,"_renderErrors",(()=>this._isFormErrors()?c.createElement(aW,{className:"new-order-error-message-container error-banner"},this._returnFormErrors().map(((e,t)=>c.createElement("span",{key:`new-order-error-${t}`,className:"text-block"},e)))):null)),iW(this,"_isFormWarnings",(()=>!(!this._returnFormWarnings()||0===this._returnFormWarnings().length))),iW(this,"_returnFormWarnings",(()=>this.state.warnings)),iW(this,"_renderWarnings",(()=>this._isFormWarnings()?c.createElement("div",{className:"new-order-warning-message-container warning-banner"},this._returnFormWarnings().map(((e,t)=>c.createElement("span",{key:`new-order-warning-${t}`,className:"text-block"},e)))):null)),iW(this,"_isEditForm",(()=>this.props.editMode)),iW(this,"_wasError",(()=>this.state.wasErrorSaving)),iW(this,"_wasFormDataChanged",(e=>JSON.stringify(this._returnFormData(e))!==JSON.stringify(this._returnFormData()))),iW(this,"_returnFormData",((e=this.state)=>e.formData)),iW(this,"_updateDefaultFormDataFromProps",(()=>{const e=this.props.defaultFormData;this.setState((t=>({formData:o(o({},t.formData),e)})))})),iW(this,"_returnOrderId",(()=>this.props.orderId)),iW(this,"_returnNumOfSharesInOrder",((e=this.state)=>this._returnFormData(e).shares)),iW(this,"_returnEnteredCashAmountInOrder",((e=this.state)=>this._returnFormData(e).cash_amount)),iW(this,"_returnNumOfSharesInOrderAsValue",(()=>""===this._returnNumOfSharesInOrder()?0:this._returnNumOfSharesInOrder())),iW(this,"_returnOrderTypeEntered",((e=this.state)=>this._returnFormData(e).type)),iW(this,"_returnOrderOperationEntered",((e=this.state)=>this._returnFormData(e).operation)),iW(this,"_returnOrderLimitPriceEntered",(()=>this._returnFormData().limit_price)),iW(this,"_returnOrderLimitPriceEnteredValue",(()=>nk(this._returnOrderLimitPriceEntered())||""===this._returnOrderLimitPriceEntered()?0:this._returnOrderLimitPriceEntered())),iW(this,"_returnOrderStopPriceEntered",(()=>this._returnFormData().stop_price)),iW(this,"_returnOrderStopPriceEnteredValue",(()=>nk(this._returnOrderStopPriceEntered())||""===this._returnOrderStopPriceEntered()?0:this._returnOrderStopPriceEntered())),iW(this,"_isBuyingShares",(()=>this._returnFormData().operation&&0===this._returnFormData().operation.id)),iW(this,"_isSellingShares",(()=>this._returnFormData().operation&&1===this._returnFormData().operation.id)),iW(this,"_isGoingLong",(()=>{const e=this._doesUserHaveALongPosition(),t=this._isBuyingShares(),n=!this._doesCurrentUserHavePosition(),r=this._doesUserHaveAShortPosition(),i=Math.abs(this._returnNumberOfCurrentSharesInPosition()),a=this._returnNumOfSharesInOrderAsValue();return e&&t||n&&t||r&&t&&a>i})),iW(this,"_isExitingLong",(()=>{const e=this._doesUserHaveALongPosition(),t=this._isSellingShares();return e&&t})),iW(this,"_isShorting",(()=>{const e=this._doesUserHaveAShortPosition(),t=this._isSellingShares(),n=!this._doesCurrentUserHavePosition(),r=this._doesUserHaveALongPosition(),i=Math.abs(this._returnNumberOfCurrentSharesInPosition()),a=this._returnNumOfSharesInOrderAsValue();return e&&t||n&&t||r&&t&&a>i})),iW(this,"_isCovering",(()=>{const e=this._doesUserHaveAShortPosition(),t=this._isBuyingShares();return e&&t})),iW(this,"_isMarketOrder",(()=>this._returnFormData().type&&"market"===this._returnFormData().type.name)),iW(this,"_isLimitOrder",(()=>this._returnFormData().type&&("limit"===this._returnFormData().type.name||"stop_limit"===this._returnFormData().type.name))),iW(this,"_isStopOrder",(()=>this._returnFormData().type&&("stop"===this._returnFormData().type.name||"stop_limit"===this._returnFormData().type.name))),iW(this,"_isStopLimitOrder",(()=>this._returnFormData().type&&"stop_limit"===this._returnFormData().type.name)),iW(this,"_closeForm",(()=>{this.props.handleCancelOrder?this.props.handleCancelOrder():console.error("no handleCancelOrder supplied to OrderForm")})),iW(this,"_handleCancelOrder",((e,t=!1)=>(this._isEditForm()?this._logEditOrderCancel(t):this._logManualOrderCancel(t),this._closeForm()))),iW(this,"_refreshSecurityData",(()=>{this.props.actions.quickFetchSecuritiesData([this._returnSecurityId()]),this.props.actions.fetchSecuritiesPriceData([this._returnSecurityId()])})),iW(this,"_returnCurrentUserIdea",(()=>RS(this._returnCurrentUserId(),this._returnSecurityId(),this._returnIdeasList()))),iW(this,"_doesCurrentUserHavePosition",(()=>Zp(this._returnSecurityId(),this._returnPortfolioStore()))),iW(this,"_willTradeSizeCrossZeroToShort",(()=>!!this._doesCurrentUserHavePosition()&&!!(this._doesUserHaveALongPosition()&&this._isSellingShares()&&this._returnNumOfSharesInOrderAsValue()>this._returnNumberOfCurrentSharesInPosition()))),iW(this,"_willTradeSizeCrossZero",(()=>!!this._doesCurrentUserHavePosition()&&(!!(this._doesUserHaveALongPosition()&&this._isSellingShares()&&this._returnNumOfSharesInOrderAsValue()>this._returnNumberOfCurrentSharesInPosition())||!!(this._doesUserHaveAShortPosition()&&this._isBuyingShares()&&this._returnNumOfSharesInOrderAsValue()>Math.abs(this._returnNumberOfCurrentSharesInPosition()))))),iW(this,"_doesUserHaveALongPosition",(()=>this._returnNumberOfCurrentSharesInPosition()>0)),iW(this,"_doesUserHaveAShortPosition",(()=>this._returnNumberOfCurrentSharesInPosition()<0)),iW(this,"_returnNumberOfCurrentSharesInPosition",(()=>Qp(this._returnSecurityId(),this._returnPortfolioStore()))),iW(this,"_returnPortfolioStore",(()=>this.props.portfolio)),iW(this,"_returnIdeasStore",(()=>this.props.ideas)),iW(this,"_returnIdeasList",(()=>this._returnIdeasStore().ideaList)),iW(this,"_isCurrentUserLiveTrading",(()=>Rp(this._returnCurrentUser()))),iW(this,"_isCurrentUserOnboarding",(()=>Sp(this._returnCurrentUser()))),iW(this,"_returnCurrentUserId",(()=>yp(this.props.currentUser))),iW(this,"_returnCurrentUser",(()=>o({},this.props.currentUser))),iW(this,"_renderFractionalUnavailableMessage",(e=>{if(!e)return null;const t=this._isSellingShares()?"Sell":"Buy",{isFractionalTrading:n}=this.state;let r=null;return"marketClosed"===e&&(r="Trading shares in fractions or trading by dollar amounts is not currently supported when the market is closed."),"securityNotSupported"===e&&(r="Trading shares in fractions or trading by dollar amounts is not currently supported for this instrument."),"userNotEnrolled"===e&&(r="Trading shares in fractions or trading by dollar amounts is not currently available."),null!==r?c.createElement("div",null,c.createElement(Jr,{hAlign:"center"},c.createElement(sx,{disabled:!0,buttonProps:{width:"224px",padding:"6px 0px"},onClick:()=>!1},n?`Switch to ${t} in Shares`:`Switch to ${t} in Dollars`)),c.createElement("div",{style:{opacity:.4,paddingTop:"8px",paddingBottom:"24px"}},c.createElement(oz,{text:r}))):null})),iW(this,"_isFractionalSupportedSecurity",(()=>this.props.isFractionalSupportedSecurity)),iW(this,"_isFractionalTradingUnavailableReason",(()=>this._isFractionalSupportedSecurity()?1!==this._returnCurrentUser().show_fractional_trading_test_group?"userNotEnrolled":null:"securityNotSupported")),iW(this,"_returnCurrentPriceForSecurity",(()=>this._returnPricingDataForSecurity().current_price)),iW(this,"_returnPricingDataForSecurity",(()=>og(this._returnSecurityId(),this._returnSecuritiesPriceStore()))),iW(this,"_returnSecuritiesPriceStore",(()=>this.props.securitiesPrice)),iW(this,"_returnBuyingPower",(()=>this._returnCurrentUser().buying_power)),iW(this,"_displayFormatOfBuyingPower",(()=>"$"+hk(this._returnBuyingPower(),{minimumFractionDigits:2,maximumFractionDigits:2}))),iW(this,"_returnSecurity",(()=>this._returnSecuritiesLookup()[this._returnSecurityId()]||{})),iW(this,"_returnSecuritiesLookup",(()=>this._returnSecuritiesStore().lookup)),iW(this,"_returnSecuritiesStore",(()=>this.props.securities)),iW(this,"_returnSymbol",(()=>this._returnSecurity().symbol||"this stock")),iW(this,"_isShortAllowed",(()=>this._returnPricingDataForSecurity().is_short_allowed||!1)),iW(this,"_isTradingHalted",(()=>this._returnPricingDataForSecurity().is_halted||!1)),iW(this,"_returnSecurityId",(()=>parseInt(this.props.securityId,10))),iW(this,"_returnOrdersStore",(()=>this.props.orders)),iW(this,"_returnOrder",(()=>this.props.order||{})),iW(this,"_isFromOptimizer",(()=>this._returnOrder().is_from_optimizer)),iW(this,"returnOrderDataForTracking",(()=>({"From Optimizer":this._isFromOptimizer(),Shares:parseInt(this._returnNumOfSharesInOrder(),10),Operation:this._returnOrderOperationEntered().display,Type:this._returnOrderTypeEntered().displayName,"Limit Price":this._returnOrderLimitPriceEntered(),"Stop Price":this._returnOrderStopPriceEntered(),"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSymbol()}))),iW(this,"_logSeeMorePricingDismiss",(()=>{const e={"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol()};this.props.actions.logMetricsTrackingEvent("Dismiss See More Pricing In Order Form",e)})),iW(this,"_logPanelOpen",(()=>{const e={"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol()};this.props.actions.logMetricsTrackingEvent("Manual Trade Panel Open",e)})),iW(this,"_logEditPanelOpen",(()=>{const e={"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol(),"From Optimizer":this._isFromOptimizer()};this.props.actions.logMetricsTrackingEvent("Edit Trade Panel Open",e)})),iW(this,"_logManualOrderCancel",(e=>{const t={"Clicked Overlay":e,"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol()};this.props.actions.logMetricsTrackingEvent("Click Close Manual Trade Panel",t)})),iW(this,"_logEditOrderCancel",(e=>{const t={"Clicked Overlay":e,"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol(),"From Optimizer":this._isFromOptimizer()};this.props.actions.logMetricsTrackingEvent("Click Close Edit Trade Panel",t)})),iW(this,"_logCoverAllClick",(()=>{const e={"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol()};this.props.actions.logMetricsTrackingEvent("Clicked Cover All Shares",e)})),iW(this,"_logSellAllClick",(()=>{const e={"Using Basket":this.isUsingBasket(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSymbol()};this.props.actions.logMetricsTrackingEvent("Clicked Sell All Shares",e)})),iW(this,"_logSubmitInvalidOrderFormForm",(()=>{const e={"Using Basket":this.isUsingBasket(),Errors:this._returnFormErrors()};this.props.actions.logMetricsTrackingEvent("Submitted Invalid Order Form",e)})),iW(this,"_logSeeMorePricingClick",(()=>{const e={"Using Basket":this.isUsingBasket(),Context:"Order Form"};this.props.actions.logMetricsTrackingEvent("Clicked See More Pricing",e)})),iW(this,"_logCreateManualOrder",(()=>{this._logCreateOrder();const e=o({"Using Basket":this.isUsingBasket()},this.returnOrderDataForTracking());this.props.actions.logMetricsTrackingEvent("Create Manual Trade",e)})),iW(this,"_logCreateOrder",(()=>{const e=l(o({"Using Basket":this.isUsingBasket()},this.returnOrderDataForTracking()),{"Order Creation Type":"Manual"});th.orders.PLACED_TRADE.send(e)})),iW(this,"_logUpdateManualOrder",(()=>{const e=o({"Using Basket":this.isUsingBasket()},this.returnOrderDataForTracking());this.props.actions.logMetricsTrackingEvent("Edit Manual Trade",e)})),iW(this,"_returnCannotShortMessage",(()=>`You must own shares of ${this._returnSecurity().symbol} to sell`)),iW(this,"_addWarning",(e=>{this.setState((t=>({warnings:[...t.warnings,e]})))})),iW(this,"_addError",(e=>{this.setState((t=>({errors:[...t.errors,e]})))})),iW(this,"_overwriteWarnings",(e=>{this.setState((()=>({warnings:e})))})),iW(this,"_overwriteErrors",(e=>{this.setState((()=>({errors:e})))})),iW(this,"_showMorePricing",(()=>{this.setState((()=>({shouldShowMorePricing:!0})))})),iW(this,"_hideMorePricing",(()=>{this.setState((()=>({shouldShowMorePricing:!1})))})),iW(this,"_startCreatingOrder",(()=>{this.setState((()=>({isCreatingOrder:!0})))})),iW(this,"_endCreatingOrder",(()=>{this.setState((()=>({isCreatingOrder:!1})))})),this.state={isSaving:!1,isSaved:!1,wasErrorSaving:!1,isCreatingOrder:!1,isFractionalTrading:!1,inputErrors:{},errors:[],warnings:[],formData:{operation:null,type:{id:0,name:"market",displayName:"Market"},shares:"",limit_price:"",stop_price:"",cash_amount:""},isExceedingMaxLeverage:!1,isExceedingBuyingPower:!1,isADayTrader:!1,isADayTradeOrder:!1,shouldShowMorePricing:!1,isCommissionsLoading:!1,orderCommissionsValue:null}}componentDidMount(){this._isEditForm()?this._logEditPanelOpen():this._logPanelOpen(),this._updateDefaultFormDataFromProps(),this._refreshSecurityData()}componentDidUpdate(e,t){this._shouldValidateForm(t)&&this._validateForm(),this._shouldUpdateCommissions(t)&&this._getOrderCommissionValue()}render(){return c.createElement(cW,{className:"create-trade-container"},c.createElement(yA,{additionalClasses:"create-trade-form-panel "+(this._shouldRenderSeeMorePricing()?"see-more-pricing":""),handleClick:this._handleOverlayClick,showOverlay:!0,light:!0,fixedCenter:!0},c.createElement(J$,{className:"ignore-scroll-panel-overflow",withoutOverlay:!0},this._isLoading()?this._renderLoading():this._renderForm())))}}var pW=_c(T(((e,t)=>{var n;const r=parseInt(t.securityId,10),i=null==(n=e.securities.lookup[r])?void 0:n.is_fractional_allowed;return{currentUser:e.currentUser,ideas:e.ideas,orders:e.orders,portfolio:e.portfolio,securities:e.securities,securitiesPrice:e.securitiesPrice,isFractionalSupportedSecurity:!1!==i}}),(e=>({actions:I(WC,e)})))(hW)),mW=Object.defineProperty,gW=(e,t,n)=>(((e,t,n)=>{t in e?mW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const yW=u.div`
  button {
    padding: 4px 8px;
    background-color: ${({theme:e,isEmphasized:t})=>t?e.themeColors.primaryCtaButton:"transparent"};
    color: ${({theme:e,isEmphasized:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  }
`;class _W extends C.exports.Component{constructor(){super(...arguments),gW(this,"_isLoading",(()=>this._isOptimizerRunning()||this._isOptimizerLoading())),gW(this,"_returnLinkForHandlingClick",(()=>{const{securityId:e}=this.props,t={securityId:e,navigate:this.props.navigate,location:this.props.location};return CU(t)})),gW(this,"_isOptimizerDataAvailable",(()=>this.props.optimizer.data&&this.props.optimizer.data.portfolio_stats)),gW(this,"_renderCellContent",(()=>this._isOptimizerDataAvailable()?c.createElement("div",{className:"security-table-optimizer-allocation-and-day-change-container"},c.createElement("div",{className:"multi-text-box-inline flex-align-start"},this._renderOptimizedAllocationData(),this._renderOptimizerAnalysisSummary())):c.createElement("div",{className:"security-table-optimizer-allocation-and-day-change-container"},c.createElement("div",{className:"multi-text-box-inline flex-align-start"})))),gW(this,"_renderOptimizedAllocationData",(()=>this._isOptimizationAllowed()?this._renderOptimizerResultFullView():this._renderOptimizerResultPercentageView())),gW(this,"_renderOptimizerAnalysisSummary",(()=>{const{securityId:e}=this.props,t=this._returnOptimizationData(),n={optimizerAnalysisType:"avg_correl",optimizerAnalysisGroup:t.avg_correl_group,optimizerAnalysisSummary:t.avg_correl_summary},r={optimizerAnalysisType:"hist_volatility",optimizerAnalysisGroup:t.hist_volatility_group,optimizerAnalysisSummary:t.hist_volatility_summary},i=[{optimizerAnalysisType:"proj_return",optimizerAnalysisGroup:t.proj_return_group,optimizerAnalysisSummary:t.proj_return_summary},r,n];return c.createElement(z$,{securityId:e,optimizerAnalysisSummaryList:i})})),gW(this,"_returnOptimizedPositionsBySecurityId",(()=>this.props.optimizer&&this.props.optimizer.data&&this.props.optimizer.data.optimized_positions_by_security_id?this.props.optimizer.data.optimized_positions_by_security_id:{})),gW(this,"_returnOptimizationData",(()=>{const{securityId:e}=this.props;return this._returnOptimizedPositionsBySecurityId()[e]||{}})),gW(this,"_returnUserPositionsBySecurityId",(()=>this._returnUserPositions())),gW(this,"_returnPortfolioCurrentTotalValueFromOptimizerData",(()=>this.props.optimizer&&this.props.optimizer.data&&this.props.optimizer.data.portfolio_stats&&this.props.optimizer.data.portfolio_stats.current&&"total_value"in this.props.optimizer.data.portfolio_stats.current?this.props.optimizer.data.portfolio_stats.current:null)),gW(this,"_isOptimizationAllowed",(()=>!nk(this._returnPortfolioCurrentTotalValueFromOptimizerData()))),gW(this,"_logCreateOptimizedOrderClick",(()=>{this._logCreateOrder();const{securityId:e}=this.props,t={"Security Id":e,"Security Symbol":this.props.security.symbol};this.props.actions.logMetricsTrackingEvent("Clicked Create Single Optimized Order",t)})),gW(this,"_logCreateOrder",(()=>{const{securityId:e}=this.props,t={"Security Id":e,"Security Symbol":this.props.security.symbol,"Order Creation Type":"Single Optimization"};th.orders.PLACED_TRADE.send(t)})),gW(this,"_showCreatingOrdersModal",(()=>{const e={contentComponent:c.createElement("div",{className:"creating-optimized-orders component-bg"},c.createElement(_e,{size:"medium"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Loading")),size:"wide",dismissable:!1};this.props.actions.showModal(e)})),gW(this,"_handleCreateOptimizedOrder",(()=>{this._logCreateOptimizedOrderClick(),this._showCreatingOrdersModal();const{securityId:e}=this.props,t=this.props.optimizer.data.optimized_positions_by_security_id,n=this.props.currentUser.positions;let r=0;if(t[e]){const i=t[e].shares;r=qk(ng(i,"shares"))-(n[e]?n[e].shares:0)}if(0===r)this.props.actions.clearOrderBasket().then((t=>{if(t&&t.ok)setTimeout((()=>{this.props.actions.hideModal(),this.props.navigate(`/orders?operation=null&security_id=${e}`)}),250);else{const e={contentComponent:bS("Could not create order. Please try again later."),dismissable:!0};this.props.actions.showModal(e)}}));else if(Cp(this._returnCurrentUser())){const t=r>0?"buy":"sell",n=Math.abs(r),i=qk(ng(n,"shares")),a={operation:Jc[t],type:td["market"],shares:i,is_from_optimizer:!0},s={contentComponent:c.createElement(hH,{handleDismiss:this.props.actions.hideModal},(({handlePlaceOrders:t,renderPlacingOrdersState:n,showAddProConPanelForPlacedOrders:r,shouldRestrictDismissal:i,wasOrderPlaced:s,isAddProConPanelShowing:o})=>c.createElement(pW,{defaultFormData:a,securityId:e,handleCompleteOrder:this.handleCompleteOrder,handleCancelOrder:this.props.actions.hideModal,isUsingBasket:!1,handlePlaceOrders:t,renderPlacingOrdersState:n,showAddProConPanelForPlacedOrders:r,shouldRestrictDismissal:i,wasOrderPlaced:s,isAddProConPanelShowing:o}))),size:"wide"};this.props.actions.showModal(s)}else{const t={contentComponent:c.createElement("div",{className:"creating-optimized-orders",style:{maxWidth:"320px "}},c.createElement(_e,{size:"medium"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Creating Orders")),size:"wide",dismissable:!1};this.props.actions.showModal(t);const n=r>0?"buy":"sell",i=Math.abs(r),a=qk(ng(i,"shares")),s={clearOrdersBefore:!0},o=[{security_id:e,operation:n,shares:a,type:"market",is_from_optimizer:!0}];this.props.actions.createOrders(o,s).then((e=>{if(e&&e.data&&!e.data.error)setTimeout((()=>{this.props.actions.hideModal(),this.props.navigate(Ln("orders"))}),250);else{const e={contentComponent:bS("Could not create order. Please try again later."),dismissable:!0};this.props.actions.showModal(e)}}))}})),gW(this,"_returnValueOfTrade",(()=>{const{securityId:e}=this.props,t=this._returnUserPositions(),{optimizedAllocationValue:n}=this._returnOptimizedAllocationData();return this._doesUserHavePosition()?n-t[e].value:n})),gW(this,"_shouldEmphasizeOptimizedTrade",(()=>{const e=this._returnValueOfTrade(),t=this.props.currentUser.equity,n=.02*qk(t)<Math.abs(e),r=250<Math.abs(e);return n||r||!this._doesUserHavePosition()&&e>0})),gW(this,"_returnNonEmphasizedTradeButtonClasses",(()=>"btn skel-btn skel-btn-primary-color btn-xsmall btn-fixed-width-50")),gW(this,"_returnEmphasizedTradeButtonClasses",(()=>"btn btn-primary-color btn-xsmall btn-fixed-width-50")),gW(this,"_returnOptimizedAllocationData",(()=>{const e=this._returnOptimizationData();return{optimizedAllocationValue:e.value||0,optimizedAllocationShares:e.shares||0,optimizedAllocationPercent:e.allocation_percent||0}})),gW(this,"_renderOptimizerResultFullView",(()=>{const e=this._shouldEmphasizeOptimizedTrade(),t=this._returnValueOfTrade(),{optimizedAllocationValue:n,optimizedAllocationShares:r,optimizedAllocationPercent:i}=this._returnOptimizedAllocationData();return c.createElement("div",{className:""},c.createElement("div",{className:"security-table-allocation-container",onClick:this.props.actions.openOptimizerPanel,style:{cursor:"pointer"}},c.createElement("div",{className:"security-table-optimizer-allocation-total-value"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"price",value:n,customIconCompareValue:e?t:0,coloredText:!0,increaseIcon:"fa-arrow-circle-up",decreaseIcon:"fa-arrow-circle-down",neutralIcon:"fa-check"})),c.createElement("div",{className:"multi-text-box-inline"},c.createElement("div",{className:"security-table-optimizer-allocation-total-value-change"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"shares",value:r,customIconCompareValue:e?t:0,coloredText:!0,allowFractional:!0,forceTextColorClassName:e?"":"secondary-text-color",suffix:" sh",hideIcon:!0})),c.createElement("div",{className:"security-table-optimizer-allocation-total-value-change-percentage"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"percentage",value:i,customIconCompareValue:e?t:0,coloredText:!0,forceTextColorClassName:e?"":"secondary-text-color",hideIcon:!0})))),c.createElement("div",{className:"security-table-trade"},c.createElement(yW,{className:"security-table-trade",isEmphasized:e},c.createElement(hx,{onClick:this._handleCreateOptimizedOrder},"Trade"))))})),gW(this,"_renderOptimizerResultPercentageView",(()=>{const e=this._returnOptimizationData().allocation_percent||0;return c.createElement("div",{className:""},c.createElement("div",{className:"security-table-allocation-container"},c.createElement("div",{className:"security-table-optimizer-allocation-total-value"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"percentage",value:e,hideIcon:!0,coloredText:!1,increaseIcon:"fa-arrow-circle-up",decreaseIcon:"fa-arrow-circle-down",neutralIcon:"fa-check"}))))})),gW(this,"_returnUserPositions",(()=>this.props.currentUser.positions)),gW(this,"_doesUserHavePosition",(()=>{const{securityId:e}=this.props,t=this._returnUserPositionsBySecurityId()[e]||{};return("shares"in t?Math.abs(t.shares):0)>0})),gW(this,"_returnCurrentUser",(()=>this.props.currentUser)),gW(this,"_doesCurrentUserHavePositions",(()=>this._returnPositionsList().length>0)),gW(this,"_returnPositionsList",(()=>Object.keys(this._returnPositions()).map((e=>this._returnPositions()[e])).filter((e=>0!==e.allocation_percent&&!nk(e.allocation_percent))))),gW(this,"_returnPositions",(()=>this._returnPortfolioStore().positions)),gW(this,"_returnPortfolioStore",(()=>this.props.portfolio)),gW(this,"_isOptimizerLoading",(()=>this._returnOptimizerStore().loading)),gW(this,"_isOptimizerRunning",(()=>this._returnOptimizerStore().isOptimizerRunning)),gW(this,"_returnOptimizerStore",(()=>this.props.optimizer)),gW(this,"_returnIdeaList",(()=>this.props.ideas.ideaList)),gW(this,"_returnIdea",(()=>RS(this.props.currentUser.user_id,this._returnSecurityId(),this._returnIdeaList()))),gW(this,"_isIdeaActive",(()=>!this._returnIdea()||this._returnIdea().active)),gW(this,"_returnSecurityId",(()=>this.props.securityId)),gW(this,"_returnSecuritySymbol",(()=>this._returnSecurity().symbol)),gW(this,"_returnSecurity",(()=>this._returnSecuritiesDict()[this.props.securityId])),gW(this,"_returnSecuritiesDict",(()=>this._returnSecuritiesStore().lookup)),gW(this,"_returnSecuritiesStore",(()=>this.props.securities))}render(){const e=this.props.column.keyName;return this._isIdeaActive()||this._doesUserHavePosition()?c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent()):c.createElement("td",{className:`security-table-${lk(e)}`})}}const fW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,optimizer:e.optimizer})),(e=>({actions:I(WC,e)}))))(_W);var vW=Object.defineProperty,EW=(e,t,n)=>(((e,t,n)=>{t in e?vW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class bW extends C.exports.Component{constructor(){super(...arguments),EW(this,"_isLoading",(()=>!("positions"in this.props.currentUser)||!("optimized_positions_by_security_id"in this.props.optimizer.data))),EW(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),EW(this,"_renderCellContent",(()=>c.createElement("div",{className:"security-table-optimizer-trade-all-cell"}))),EW(this,"_handleTradeAllClick",(()=>{const e=this.props.optimizer.data.optimized_positions_by_security_id,t=this.props.currentUser.positions,n={contentComponent:c.createElement("div",{className:"creating-optimized-orders component-bg",style:{maxWidth:"320px "}},c.createElement(SM,{size:"small"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Creating Orders")),size:"wide",dismissable:!1};this.props.actions.showModal(n);const r=Object.keys(e),i=r.filter((e=>e in t)),a=r.filter((e=>!(e in t))),s=[];a.forEach((t=>{const n=e[t].shares;if(0===n);else{const e={security_id:t,operation:n>0?"buy":"sell",shares:Math.abs(n),type:"market",is_from_optimizer:!0};s.push(e)}})),i.forEach((n=>{const r=e[n].shares-t[n].shares;if(0===r);else{const e={security_id:n,operation:r>0?"buy":"sell",shares:Math.abs(r),type:"market",is_from_optimizer:!0};s.push(e)}})),this.props.actions.createOrders(s,{clearOrdersBefore:!0}).then((e=>{if(e&&e.data&&!e.data.error)this._logCreateOrders(s),setTimeout((()=>{this.props.actions.hideModal(),this.props.navigate(Ln("orders"))}),250);else{const e={contentComponent:bS("Could not create orders. Please try again later."),dismissable:!0};this.props.actions.showModal(e)}}))})),EW(this,"_logCreateOrders",(e=>{const t={"Security Ids":e.map((e=>e.security_id)).join(","),"Order Creation Type":"Full Optimization"};th.orders.PLACED_TRADE.send(t)}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const CW=N(T((e=>({currentUser:e.currentUser,optimizer:e.optimizer})),(e=>({actions:I(WC,e)}))))(bW);var xW=Object.defineProperty,wW=(e,t,n)=>(((e,t,n)=>{t in e?xW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class SW extends C.exports.Component{constructor(){super(...arguments),wW(this,"_doesOpenSecurityPanel",(()=>!this.props.additionalProps||!1!==this.props.additionalProps.openSecurityPanel)),wW(this,"_renderCell",(()=>this._doesOpenSecurityPanel()?c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}):c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),wW(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=this.props.securities.lookup[t],i=e||n,a=this.props.ideas.ideaList,s=RS(i,t,a),o=s&&s.idea_id;return!r||!("name"in r)||!this.props.idea&&!o})),wW(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),wW(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=this.props.idea||RS(r,t,i),s=a.idea_type?a.idea_type.name:"";return c.createElement("span",{className:"security-table-idea-type "+("buy"===s.toLowerCase()?"buy-text-color":"sell-text-color")},s)}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`,style:this._doesOpenSecurityPanel()?{cursor:"default"}:{}},this._isLoading()?this.props.loadingCellComponent:this._renderCell())}}const kW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(SW);var TW=Object.defineProperty,IW=(e,t,n)=>(((e,t,n)=>{t in e?TW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class NW extends C.exports.Component{constructor(){super(...arguments),IW(this,"_renderCell",(()=>c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),IW(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=this.props.securities.lookup[t],i=e||n,a=this.props.ideas.ideaList,s=RS(i,t,a),o=s&&s.idea_id;return!r||!("name"in r)||!this.props.idea&&!o})),IW(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),IW(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=this.props.idea||RS(r,t,i),s=a.idea_type?a.idea_type.name:null;return c.createElement("span",{className:"security-table-idea-trade"},null!==s?"buy"===s.toLowerCase()?this._renderBuyButton():this._renderSellButton():null)})),IW(this,"_navigateToPlaceOrder",(e=>this.props.navigate(`/orders?operation=${e}&security_id=${this._returnSecurityId()}`))),IW(this,"_handleBuyClick",(()=>(this._logButtonClick("buy"),this._navigateToPlaceOrder("buy")))),IW(this,"_handleSellClick",(()=>{const e="sell";return this._logButtonClick(e),this._navigateToPlaceOrder(e)})),IW(this,"_returnIdeaList",(()=>this.props.ideas.ideaList)),IW(this,"_returnIdea",(()=>RS(this.props.currentUser.user_id,this._returnSecurityId(),this._returnIdeaList()))),IW(this,"_returnSecurityId",(()=>this.props.securityId)),IW(this,"_returnSecuritySymbol",(()=>this._returnSecurity().symbol)),IW(this,"_isSecurityFeatured",(()=>this._returnSecurity().featured)),IW(this,"_returnSecurity",(()=>this._returnSecuritiesDict()[this.props.securityId])),IW(this,"_returnSecuritiesDict",(()=>this._returnSecuritiesStore().lookup)),IW(this,"_returnSecuritiesStore",(()=>this.props.securities)),IW(this,"_renderBuyButton",(()=>c.createElement("span",{onClick:this._handleBuyClick,className:"skel-btn skel-btn-buy-color btn-small trade-buy-sell-btn"},c.createElement("span",null,"Buy")))),IW(this,"_renderSellButton",(()=>c.createElement("span",{onClick:this._handleSellClick,className:"skel-btn skel-btn-sell-color btn-small trade-buy-sell-btn"},"Sell"))),IW(this,"_logButtonClick",(e=>{const t={context:"Dashboard Ideas","Order Type":ck(e),"Security ID":this._returnSecurityId(),Symbol:this._returnSecuritySymbol()};this.props.actions.logMetricsTrackingEvent("Clicked Buy/Sell Button",t)}))}render(){const e=this.props.column.keyName;return this._isSecurityFeatured()?c.createElement("td",{className:`security-table-${lk(e)}`,style:{cursor:"default"}},this._isLoading()?this.props.loadingCellComponent:this._renderCell()):c.createElement("td",{className:`security-table-${lk(e)}`,style:{cursor:"default"}})}}const AW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(NW);var PW=Object.defineProperty,DW=(e,t,n)=>(((e,t,n)=>{t in e?PW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class OW extends C.exports.Component{constructor(){super(...arguments),DW(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.ideas.ideaList,r=this.props.currentUser.user_id;return null===RS(e||r,t,n)||this.props.ideas.loadingCurrentUserIdeas||!(t in this.props.securities.lookup)})),DW(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),DW(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.ideas.ideaList,r=this.props.currentUser.user_id;if(e===r)return null;const i=RS(e||r,t,n);return null===i?null:c.createElement("div",{className:"security-table-ask-why-container"},c.createElement(Oz,{viewingContext:"Profile Ideas Panel",ideaId:i.idea_id,buttonWidth:95,openFormInModal:!0}))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const LW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(OW);var RW=Object.defineProperty,FW=(e,t,n)=>(((e,t,n)=>{t in e?RW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class MW extends C.exports.Component{constructor(){super(...arguments),FW(this,"_isLoading",(()=>{const e=this.props.security.security_id;return this.props.ideas.loadingCurrentUserIdeas||!(e in this.props.securities.lookup)})),FW(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),FW(this,"_renderCellContent",(()=>c.createElement("span",{className:"security-table-ask-why-container"},c.createElement(sx,{onClick:()=>!1},"View Idea"))))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const UW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(MW);var $W=Object.defineProperty,BW=(e,t,n)=>(((e,t,n)=>{t in e?$W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class zW extends C.exports.Component{constructor(){super(...arguments),BW(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("name"in t)})),BW(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),BW(this,"_renderCellContent",(()=>{const e=this.props.securityId,t=this.props.portfolio.positions[e]||{},n=t.shares||0,r=t.today_profit_loss,i=t.today_profit_loss_percent,a=t.total_profit_loss,s=t.total_profit_loss_percent;return c.createElement("span",{className:"security-table-idea-day-and-total-change-container"},0!==n&&c.createElement("span",{className:"security-table-total-price-change-container"},c.createElement("span",{className:"daily-change-container multi-text-box-inline"},c.createElement("span",{className:"text-label"},"Daily"),c.createElement("span",{className:"security-table-total-price-change-wrapper"},c.createElement("span",{className:"security-table-total-price-change"},c.createElement(C$,{customClass:"portfolio-dashboard change-value daily-change-value",valueFormat:"price",value:r,showPlus:!0,coloredText:!0,hideIcon:!0})),c.createElement("span",{className:"security-table-total-price-change-percent"},c.createElement(C$,{customClass:"portfolio-dashboard daily-change-percentage-value",valueFormat:"percentageFloat",value:i,showPlus:!0,coloredText:!0,hideIcon:!0}))))),0!==n&&c.createElement("span",{className:"security-table-total-price-change-container"},c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"text-label"},"Total"),c.createElement("span",{className:"security-table-total-price-change-wrapper"},c.createElement("span",{className:"security-table-total-price-change"},c.createElement(C$,{customClass:"portfolio-dashboard change-value total-change-value",valueFormat:"price",value:a,showPlus:!0,coloredText:!0,hideIcon:!0})),c.createElement("span",{className:"security-table-total-price-change-percent"},c.createElement(C$,{customClass:"portfolio-dashboard",valueFormat:"percentageFloat",value:s,showPlus:!0,coloredText:!0,hideIcon:!0}))))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const VW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(zW);var HW=Object.defineProperty,WW=(e,t,n)=>(((e,t,n)=>{t in e?HW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class jW extends C.exports.Component{constructor(){super(...arguments),WW(this,"_isLoading",(()=>{const{userId:e,securityId:t,isThoughtLeader:n}=this.props,r=this.props.securities.lookup[t]||{},i=!("symbol"in r)||!("name"in r);let a=!1,s=null,o=null;if(n)o=this.props.idea,a=!o||i;else{const t=this.props.portfolio.userPortfolioDict,n=t&&t[e];s=n&&n.securities,a=!s||i}return a})),WW(this,"_returnIdea",(()=>{const{userId:e,securityId:t}=this.props,n=e||this.props.currentUser.user_id,r=this.props.ideas.ideaList;return RS(n,t,r)})),WW(this,"_returnLinkForHandlingClick",(()=>{const{securityId:e}=this.props,t=this._returnIdea(),n={securityId:e,additionalProps:{activeTab:"ideas",ideaId:t&&t.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(n)})),WW(this,"_renderCellContent",(()=>{const{userId:e,securityId:t,isThoughtLeader:n}=this.props,r=this.props.securities.lookup[t]||{};let i=null,a=null;if(n)a=this.props.idea;else{const t=this.props.portfolio.userPortfolioDict,n=t&&t[e];i=n&&n.securities}const s=n?a:i[t],o=n?a.prev_month_perf:s?s.performance_last_month:0,l=n?a.this_month_perf:s?s.performance_this_month:0;return n?r.current_price_change_percent:s&&s.performance_today,c.createElement("span",{className:"security-table-idea-performance-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-idea-performance-label secondary-text-color"},"This Month"),c.createElement("span",{className:"security-table-idea-performance-value"},c.createElement(C$,{customClass:"profile-portfolio",valueFormat:"percentage",value:l,coloredText:!0}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-idea-performance-label secondary-text-color"},"Last Month"),c.createElement("span",{className:"security-table-idea-performance-value"},c.createElement(C$,{customClass:"profile-portfolio",valueFormat:"percentage",value:o,coloredText:!0})))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const GW=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(jW);var qW=Object.defineProperty,YW=(e,t,n)=>(((e,t,n)=>{t in e?qW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class KW extends C.exports.Component{constructor(){super(...arguments),YW(this,"_isLoading",(()=>!1)),YW(this,"_returnLinkForHandlingClick",(()=>{const{securityId:e}=this.props,t={securityId:e,additionalProps:{activeTab:"ideas"},navigate:this.props.navigate,location:this.props.location};return CU(t)})),YW(this,"_returnCollectiveUser",(()=>{const{userId:e}=this.props;return this.props.collectives.lookup[e]})),YW(this,"_returnPerformanceForSecurity",(()=>{const{securityId:e}=this.props;return this._returnCollectiveUser().securities.filter((t=>t.security.security_id===e))[0].performance})),YW(this,"_renderCellContent",(()=>{if(!this._returnCollectiveUser().securities)return c.createElement("span",{className:"security-table-idea-performance-container"},c.createElement("span",{className:"security-table-allocation-container"}));const e=this._returnPerformanceForSecurity();if(!e)return c.createElement("div",null);const t=e.performance_last_month,n=e.performance_this_month,r=e.performance_today;return c.createElement("span",{className:"security-table-idea-performance-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-idea-performance-label secondary-text-color"},"Today"),c.createElement("span",{className:"security-table-idea-performance-value"},c.createElement(C$,{customClass:"profile-portfolio",valueFormat:"percentage",value:r,coloredText:!0}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-idea-performance-label secondary-text-color"},"This Month"),c.createElement("span",{className:"security-table-idea-performance-value"},c.createElement(C$,{customClass:"profile-portfolio",valueFormat:"percentage",value:n,coloredText:!0}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-idea-performance-label secondary-text-color"},"Last Month"),c.createElement("span",{className:"security-table-idea-performance-value"},c.createElement(C$,{customClass:"profile-portfolio",valueFormat:"percentage",value:t,coloredText:!0})))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const QW=N(T((e=>({currentUser:e.currentUser,collectives:e.collectives})),(e=>({actions:I(WC,e)}))))(KW);var ZW=Object.defineProperty,XW=(e,t,n)=>(((e,t,n)=>{t in e?ZW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class JW extends C.exports.Component{constructor(){super(...arguments),XW(this,"_renderValue",(()=>{const{customClass:e,customStyle:t}=this.props;return c.createElement("span",{className:e||"",style:t||{}},this.formatValue())})),XW(this,"isLoading",(()=>ig(this.returnSecurityId(),this.returnFundamentalDataStore())||!this.returnSecurityFundamentalData())),XW(this,"shouldNotRender",(()=>this.props.hideIfNA&&"N/A"===this.formatValue())),XW(this,"getValue",(()=>this.returnSecurityFundamentalData()[this.returnSecurityProperty()]||this.returnSecurityFundamentalData()[Qv(this.returnSecurityProperty())])),XW(this,"formatValue",(()=>eg(this.getValue(),this.returnSecurityProperty()))),XW(this,"returnSecurityProperty",(()=>this.props.property)),XW(this,"returnSecurityId",(()=>this.props.securityId)),XW(this,"returnSecurityFundamentalData",(e=>this.returnFundamentalDataStoreLookup(e)[this.returnSecurityId()])),XW(this,"returnFundamentalDataStoreLookup",(e=>this.returnFundamentalDataStore(e).securities)),XW(this,"returnFundamentalDataStore",(e=>(e||this.props).fundamentalData))}componentDidMount(){this.props.securityId||Uk("No security id found"),this.props.property||Uk("No property for fundamental data found")}shouldComponentUpdate(e){return!!xk(this.props,e,["actions","fundamentalData"])||this.returnSecurityFundamentalData()!=this.returnSecurityFundamentalData(e)}render(){return this.isLoading()?c.createElement(_e,{icon:"fading-3balls",size:"small"}):this.shouldNotRender()?null:this.props.renderInLabel?c.createElement("div",{className:`${this.props.containerClassName}`},c.createElement("div",{className:`${this.props.labelClassName}`},this.props.labelText),c.createElement("div",{className:`${this.props.valueClassName}`},this._renderValue())):this._renderValue()}}var ej=T((e=>({fundamentalData:e.fundamentalData})),(e=>({actions:I(WC,e)})))(JW),tj=Object.defineProperty,nj=(e,t,n)=>(((e,t,n)=>{t in e?tj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class rj extends C.exports.Component{constructor(){super(...arguments),nj(this,"_isLoading",(()=>{const{securityId:e}=this.props;return this.props.ideas.loadingCurrentUserIdeas||!(e in this.props.securities.lookup)||!("name"in this.props.securities.lookup[e])})),nj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=e,r=this.props.ideas.ideaList,i=RS(n,t,r),a={securityId:t,additionalProps:{activeTab:"ideas",ideaId:i&&i.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(a)})),nj(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.ideas.ideaList,r=RS(e,t,n).admin_created_date,i=r&&"string"==typeof r&&"0"===r[0]?r.slice(1):r;return c.createElement("span",{className:"security-table-tl-idea-container"},c.createElement("span",{className:"security-table-tl-idea-data"},c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-tl-idea-performance-label"},c.createElement("span",{style:{position:"relative"}},"Proj. Rev. Growth",c.createElement(iS,{word:"tooltip_projected_revenue_growth",style:{top:"1px",lineHeight:1.4}}))),c.createElement("span",{className:"security-table-tl-idea-performance-value"},c.createElement(ej,{hideIfNA:!1,securityId:t,property:"Projected Revenue Growth"}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-tl-idea-performance-label"},c.createElement("span",{style:{position:"relative"}},"Fwd P/E Ratio",c.createElement(iS,{word:"tooltip_forward_pe_ratio_next_year",style:{top:"1px",lineHeight:1.4}}))),c.createElement("span",{className:"security-table-tl-idea-performance-value"},c.createElement(ej,{hideIfNA:!1,securityId:t,property:"Forward P/E"}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-tl-idea-performance-label"},c.createElement("span",{style:{position:"relative"}},"Owned As Of")),c.createElement("span",{className:"security-table-tl-idea-performance-value"},i))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const ij=N(T((e=>({ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(rj);var aj=Object.defineProperty,sj=(e,t,n)=>(((e,t,n)=>{t in e?aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class oj extends C.exports.Component{constructor(){super(...arguments),sj(this,"_isLoading",(()=>{const{securityId:e}=this.props;return this.props.ideas.loadingCurrentUserIdeas||!(e in this.props.securities.lookup)||!("name"in this.props.securities.lookup[e])})),sj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=e,r=this.props.ideas.ideaList,i=RS(n,t,r),a={securityId:t,additionalProps:{activeTab:"ideas",ideaId:i&&i.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(a)})),sj(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props;return c.createElement("span",{className:"security-table-tl-idea-container"},c.createElement("span",{className:"security-table-tl-idea-data"},c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-tl-idea-performance-label"},c.createElement("span",{style:{position:"relative"}},"Proj. Rev. Growth",c.createElement(iS,{word:"tooltip_projected_revenue_growth",style:{top:"-1px",lineHeight:1.4}}))),c.createElement("span",{className:"security-table-tl-idea-performance-value"},c.createElement(ej,{hideIfNA:!1,hideIfLoading:!0,securityId:t,property:"Projected Revenue Growth"}))),c.createElement("span",{className:"security-table-idea-performance-time-period"},c.createElement("span",{className:"security-table-tl-idea-performance-label"},c.createElement("span",{style:{position:"relative"}},"Fwd P/E Ratio",c.createElement(iS,{word:"tooltip_forward_pe_ratio_next_year",style:{top:"-1px",lineHeight:1.4}}))),c.createElement("span",{className:"security-table-tl-idea-performance-value"},c.createElement(ej,{hideIfNA:!1,hideIfLoading:!0,securityId:t,property:"Forward P/E"})))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const lj=N(T((e=>({ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(oj);var cj=Object.defineProperty,dj=(e,t,n)=>(((e,t,n)=>{t in e?cj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class uj extends C.exports.Component{constructor(){super(...arguments),dj(this,"_isLoading",(()=>{const{securityId:e}=this.props;return!this.props.securities.lookup[e]||!this.props.idea||this._isPriceLoading()})),dj(this,"_returnIdea",(()=>{const{userId:e,securityId:t}=this.props,n=e||this.props.currentUser.user_id,r=this.props.ideas.ideaList;return RS(n,t,r)})),dj(this,"_returnLinkForHandlingClick",(()=>{const{securityId:e}=this.props,t=this._returnIdea(),n={securityId:e,additionalProps:{activeTab:"ideas",ideaId:t&&t.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(n)})),dj(this,"_renderCellContent",(()=>{const{userId:e,securityId:t,currentUser:n}=this.props,r=e||n.user_id,i=this.props.securities.lookup[t],a=this.props.ideas.ideaList,s=RS(r,t,a),o=this._returnCurrentPriceData(),l=HS({idea:s,security:i,currentPrice:o}),d=zS(s);return c.createElement("span",{className:"security-table-expected-return"},c.createElement("span",{className:"security-table-expected-return-percentage"},tg(l,"expected_return")),d&&c.createElement("span",{className:"security-table-price-target"},tg(s.price_target,"price_target")))})),dj(this,"_isAPreviousValueAvailable",(()=>!nk(this._returnCurrentPrice()))),dj(this,"_isPriceLoading",(()=>(!this._returnCurrentPriceData()||this._returnCurrentPriceData().loading)&&!this._isAPreviousValueAvailable())),dj(this,"_returnCurrentPriceData",(()=>this.props.securitiesPrice.securities[this.props.securityId])),dj(this,"_returnCurrentPrice",(()=>this._returnCurrentPriceData()?this._returnCurrentPriceData().current_price:{}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const hj=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities,securitiesPrice:e.securitiesPrice})),(e=>({actions:I(WC,e)}))))(uj),pj=e=>c.createElement("div",{className:"idea-delete-options-container component-bg"},c.createElement("div",{className:"idea-delete-message  "},`You have a position in ${e.symbol}. You must exit the position to delete this idea.`),c.createElement("div",{className:"idea-delete-options"},c.createElement("div",{className:"idea-delete-option"},c.createElement("span",{className:"link-btn link-btn-std-color",onClick:e.handleExitPosition},"Exit Position")),c.createElement("div",{className:"idea-delete-option last"},c.createElement("span",{className:"link-btn link-btn-std-color",onClick:e.handleKeepPosition},"Keep Position"))));var mj=Object.defineProperty,gj=(e,t,n)=>(((e,t,n)=>{t in e?mj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class yj extends C.exports.Component{constructor(e){super(e),gj(this,"_isLoading",(()=>{const e=this.props.security.security_id,t=this.props.securities.lookup[e];return!t||!("name"in t)})),gj(this,"_renderCellContent",(()=>{const e=this._returnSecurity();return c.createElement("div",{className:"security-table-remove-idea"},c.createElement("div",{className:"wrapper"},c.createElement(aS,{size:"medium",handleClick:this._handleRemoveIdeaClick,icon:"fa-trash-o",colorClassName:"secondary-text-color"}),this.state.showIdeaDeleteOptions&&c.createElement(pj,{symbol:e.symbol,handleExitPosition:this._handleExitPosition,handleKeepPosition:this._handleKeepPosition})))})),gj(this,"_doesUserHavePositionInIdea",(()=>{const{securityId:e,currentUser:t}=this.props,n=t.positions;return e in n&&n[e].shares&&0!==n[e].shares})),gj(this,"_returnIdea",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i);return this.props.idea||a})),gj(this,"_returnSecurity",(()=>this.props.securities.lookup[this.props.securityId])),gj(this,"_showIdeaDeleteOptions",(()=>{this.setState((()=>({showIdeaDeleteOptions:!0})))})),gj(this,"_hideIdeaDeleteOptions",(()=>{this.setState((()=>({showIdeaDeleteOptions:!1})))})),gj(this,"_handleKeepPosition",(()=>{this._hideIdeaDeleteOptions(),this._logChoseKeepPosition()})),gj(this,"_handleExitPosition",(()=>{WS.call(this)})),gj(this,"_logChoseKeepPosition",(()=>{const e=this._returnSecurity(),t={"Idea Id":this._returnIdea().idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Security Table"};this.props.actions.logMetricsTrackingEvent("Choose Keep Position In Idea",t)})),gj(this,"_logEventForRemoveIdeaClick",(()=>{const e=this._returnSecurity(),t={"Idea Id":this._returnIdea().idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Security Table","Has Position":this._doesUserHavePositionInIdea()};this.props.actions.logMetricsTrackingEvent("Clicked Delete Idea",t)})),gj(this,"_removeIdea",(()=>{const e=this._returnIdea();return this._logEventForRemoveIdeaClick(),this.props.actions.removeIdea(e)})),gj(this,"_handleRemoveIdeaClick",(()=>{this._doesUserHavePositionInIdea()?(this._logEventForRemoveIdeaClick(),this._showIdeaDeleteOptions()):this._removeIdea()})),this.state={showIdeaDeleteOptions:!1}}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._renderCellContent())}}const _j=N(_c,T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)}))))(yj);var fj=Object.defineProperty,vj=(e,t,n)=>(((e,t,n)=>{t in e?fj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Ej=u.div`
  button {
    background-color: ${({theme:e,isEmphasized:t})=>t?e.themeColors.primaryCtaButton:"transparent"};
    color: ${({theme:e,isEmphasized:t})=>t?e.themeColors.buttonText:e.themeColors.text};
  }
`;class bj extends c.PureComponent{constructor(){super(...arguments),vj(this,"_handleCreateOptimizedOrder",(()=>{const{securityId:e,navigate:t,dispatch:n}=this.props;this._logCreateOptimizedOrderClick(),this._showCreatingOrdersModal(),Vb()(n).then((r=>{if(r&&r.ok)setTimeout((()=>{!function(e){e({type:"HIDE_MODAL"})}(n),t(`/orders?operation=null&security_id=${e}`)}),250);else{const e={contentComponent:bS("Could not create order. Please try again later."),dismissable:!0};bb(e)(n)}}))})),vj(this,"_showCreatingOrdersModal",(()=>{bb({contentComponent:c.createElement("div",{className:"creating-optimized-orders component-bg"},c.createElement(_e,{size:"medium"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px",fontSize:"24px"}},"Loading")),size:"wide",dismissable:!1})(this.props.dispatch)})),vj(this,"_shouldEmphasizeOptimizedTrade",(()=>!0)),vj(this,"_returnNonEmphasizedTradeButtonClasses",(()=>"btn skel-btn skel-btn-primary-color btn-xsmall btn-fixed-width-50")),vj(this,"_returnEmphasizedTradeButtonClasses",(()=>"btn btn-primary-color btn-xsmall btn-fixed-width-50")),vj(this,"_returnIdeaList",(()=>this.props.ideas.ideaList)),vj(this,"_returnIdea",(()=>RS(this.props.currentUser.user_id,this._returnSecurityId(),this._returnIdeaList()))),vj(this,"_isIdeaActive",(()=>!this._returnIdea()||this._returnIdea().active)),vj(this,"_returnSecurityId",(()=>this.props.securityId)),vj(this,"_logCreateOptimizedOrderClick",(()=>{this._logCreateOrder();const{securityId:e}=this.props,t={"Security Id":e,"Security Symbol":this.props.security.symbol};TC("Clicked Create Single Optimized Order",t)()})),vj(this,"_logCreateOrder",(()=>{const{securityId:e}=this.props,t={"Security Id":e,"Security Symbol":this.props.security.symbol,"Order Creation Type":"Single Optimization"};th.orders.PLACED_TRADE.send(t)}))}render(){const e=this.props.column.keyName;return this._isIdeaActive()?c.createElement("td",{className:`security-table-${lk(e)}`},c.createElement("div",{className:"security-table-optimizer-allocation-and-day-change-container security-table-trade-container"},c.createElement(Ej,{className:"security-table-trade",isEmphasized:this._shouldEmphasizeOptimizedTrade()},c.createElement(hx,{onClick:this._handleCreateOptimizedOrder},"Trade")))):c.createElement("td",{className:`security-table-${lk(e)}`})}}var Cj=T((e=>({currentUser:e.currentUser,ideas:e.ideas})))(bj),xj=Object.defineProperty,wj=(e,t,n)=>(((e,t,n)=>{t in e?xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Sj extends C.exports.Component{constructor(){super(...arguments),wj(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.securities.lookup[t]||{},r=this.props.portfolio.userPortfolioDict,i=r&&r[e];return!(i&&i.securities)||!("symbol"in n)||!("name"in n)})),wj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),wj(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.portfolio.userPortfolioDict,r=n&&n[e],i=(r&&r.securities)[t],a=i?i.allocation_percent:0;return c.createElement("span",{className:"security-table-position-allocation-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},Zm.percentage(a,{decimalPlace:1}))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const kj=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(Sj);var Tj=Object.defineProperty,Ij=(e,t,n)=>(((e,t,n)=>{t in e?Tj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Nj extends C.exports.Component{constructor(){super(...arguments),Ij(this,"_isLoading",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.securities.lookup[t],r=this.props.portfolio.userPortfolioDict,i=r&&r[e],a=i&&i.securities,s=this.props.currentUser.user_id,o=e||s,l=this.props.ideas.ideaList,c=RS(o,t,l);return!a&&!c||!("symbol"in n)||!("name"in n)})),Ij(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),Ij(this,"_renderCellContent",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.portfolio.userPortfolioDict,r=n&&n[e],i=r&&r.securities,a=i&&i[t],s=this.props.currentUser.user_id,o=e||s,l=this.props.ideas.ideaList,d=RS(o,t,l),u=a?a.allocation_percent:d&&d.allocation||0;return c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},ng(u,"percentage"))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const Aj=N(T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(Nj);var Pj=Object.defineProperty,Dj=(e,t,n)=>(((e,t,n)=>{t in e?Pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Oj extends C.exports.Component{constructor(){super(...arguments),Dj(this,"_isLoading",(()=>{const{securityId:e}=this.props,t=this.props.securities.lookup[e]||{},n=this.props.portfolio.positions;return!(n&&n[e])||!("symbol"in t)})),Dj(this,"_returnLinkForHandlingClick",(()=>{const{securityId:e}=this.props,t={securityId:e,additionalProps:{activeTab:"ideas"},navigate:this.props.navigate,location:this.props.location};return CU(t)})),Dj(this,"_renderCellContent",(()=>{const{securityId:e}=this.props,t=this.props.portfolio.positions,n=t&&t[e],r=n?n.allocation_percent:0;return c.createElement("span",{className:"security-table-position-allocation-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},ng(r,"percentage"))))}))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}const Lj=N(T((e=>({currentUser:e.currentUser,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)}))))(Oj);var Rj=Object.defineProperty,Fj=(e,t,n)=>(((e,t,n)=>{t in e?Rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Mj extends c.Component{constructor(e){super(e),Fj(this,"animationLength",1e3),Fj(this,"onValueChange",(()=>{const e=this.createAnimation();this.addAnimationToQueue(e),this.attemptPlayAnimation()})),Fj(this,"attemptPlayAnimation",(()=>{this.getIsAnimating()||this.runAnimation()})),Fj(this,"runAnimation",(()=>{if(this.getAnimationQueue().length>0&&!this.getIsAnimating()){const e=this.getNextAnimationForPlayback();this.startAnimation(e),this.createOnAnimationFinishTimeout()}})),Fj(this,"createOnAnimationFinishTimeout",(()=>setTimeout(this.handleFinishAnimation,this.animationLength))),Fj(this,"handleFinishAnimation",(()=>{this.getAnimationQueue().length>0?(this.stopAnimation(),setTimeout(this.runAnimation,25)):this.stopAnimation()})),Fj(this,"stopAnimation",(()=>{this.clearIsAnimating()})),Fj(this,"startAnimation",(e=>{const{value:t,textColorClass:n}=e;this.setState((e=>({_isAnimating:!0,_animationPlayCount:e._animationPlayCount+1,_isIncreasing:e._displayValue<t,_appendClassString:n,_displayValue:t})))})),Fj(this,"clearIsAnimating",(()=>this.setState((()=>({_isAnimating:!1}))))),Fj(this,"createAnimation",(()=>{const e=this.getTextColorTypeValue();return{value:this.getValue(),textColorClass:nk(e)?"":(t=e,0===t?"neutral":t>=0?"increase":"decrease")};var t})),Fj(this,"addAnimationToQueue",(e=>{this._animationQueue=[...this._animationQueue,e]})),Fj(this,"_clearQueue",(()=>this._animationQueue=[])),Fj(this,"getNextAnimationForPlayback",(()=>{const e=this.getAnimationQueue(),t=e[e.length-1];return this._clearQueue(),t})),Fj(this,"didValueChange",(e=>this.getValue(e)!==this.getValue())),Fj(this,"didQueueUpdate",(e=>this.getAnimationQueue(e)!==this.getAnimationQueue())),Fj(this,"getAnimationQueue",(()=>this._animationQueue)),Fj(this,"getValue",((e=this.props)=>e.value)),Fj(this,"getTextColorTypeValue",((e=this.props)=>e.textColorTypeValue)),Fj(this,"getDisplayValue",((e=this.state)=>e._displayValue)),Fj(this,"getAnimationPlayCount",((e=this.state)=>e._animationPlayCount)),Fj(this,"getIsAnimating",((e=this.state)=>e._isAnimating)),Fj(this,"getAnimationClass",(()=>this.getIsAnimating()?`${this.props.animationClass}${this.state._appendClassString?`-${this.state._appendClassString}`:""}`:"")),Fj(this,"getIsIncreasing",((e=this.state)=>e._isIncreasing)),this.state={_animationPlayCount:0,_appendClassString:null,_displayValue:this.getValue(e)},this._animationQueue=[],this._animationTimeout=null}componentDidUpdate(e,t){this.didValueChange(e)&&this.onValueChange()}componentWillUnmount(){const e=this._animationTimeout;e&&clearTimeout(e)}render(){return this.props.children(this.getDisplayValue(),this.getAnimationClass(),this.getIsIncreasing())}}const Uj=e=>{const{textColorTypeValue:t,value:n,children:r}=e;return c.createElement(Mj,{value:n,textColorTypeValue:t,animationClass:"number-change-animation",appendTextColorType:!0},r)},$j=e=>null;var Bj=Object.defineProperty,zj=(e,t,n)=>(((e,t,n)=>{t in e?Bj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Vj extends C.exports.Component{constructor(){super(...arguments),zj(this,"_isUnmappedSecurity",(()=>this.props.unmappedSecurity)),zj(this,"_isLoading",(()=>{const{securityId:e}=this.props,t=this.props.securities.lookup[e];return void 0===this._isUnmappedSecurity()||!1===this._isUnmappedSecurity()&&(!(e in this.props.securities.lookup)||!t.symbol||!t.name)})),zj(this,"_returnLinkForHandlingClick",(()=>{const e=this.props.securityId;if(!e)return null;const t={securityId:e,navigate:this.props.navigate,location:this.props.location};return CU(t)})),zj(this,"_renderCellContent",(()=>c.createElement(c.Fragment,null))),zj(this,"_renderUnmappedCellContent",(()=>c.createElement("span",{className:"security-table-day-change-container"},c.createElement("span",{className:"security-table-daily-price-change-container"}),c.createElement("span",{className:"security-table-daily-price-change-container"}))))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`},this._isLoading()?this.props.loadingCellComponent:this._isUnmappedSecurity()?this._renderUnmappedCellContent():c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}))}}N(T((e=>({currentUser:e.currentUser,securities:e.securities,externalPositions:e.externalPositions})),(e=>({actions:I(WC,e)}))))(Vj);var Hj=Object.defineProperty,Wj=(e,t,n)=>(((e,t,n)=>{t in e?Hj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const jj=N(T((e=>{const t=WT(e);return{currentUser:t,ideas:e.ideas,securities:e.securities,useStreamingPrice:Wp(t)}}),(e=>({actions:I(WC,e)}))))(class extends Vj{constructor(){super(...arguments),Wj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),Wj(this,"_renderCellContent",(()=>{const{securityId:e,plaidSecurityId:t,column:n,useStreamingPrice:r,additionalTableCellProps:i}=this.props,{onDashboard:a}=n,s=i&&i.external_positions&&i.external_positions.plaid_account_id_filter;return c.createElement($j,{securityId:e,showStreamingPrices:a,plaidSecurityId:t,plaid_account_id_filter:s},((e,t,n)=>c.createElement(c.Fragment,null,c.createElement("span",{className:"security-table-day-change-container"},0!==e&&c.createElement("span",{className:"security-table-daily-price-change-container"},c.createElement("span",{className:"security-table-daily-price-change-percent"},r?c.createElement(Uj,{value:t,textColorTypeValue:t},((e,t)=>c.createElement(C$,{customClass:"portfolio-dashboard daily-change-price-value",valueFormat:"price",value:e,additionalClasses:t,showPlus:!0,coloredText:!0,hideIcon:!0}))):c.createElement(C$,{customClass:"portfolio-dashboard daily-change-price-value",valueFormat:"price",value:t,showPlus:!0,coloredText:!0,hideIcon:!0}))),0!==e&&c.createElement("span",{className:"security-table-daily-price-change-container"},c.createElement("span",{className:"security-table-daily-price-change-percent"},r?c.createElement(Uj,{value:n,textColorTypeValue:t},((e,t)=>c.createElement(C$,{customClass:"portfolio-dashboard daily-change-percentage-value",valueFormat:"percentageFloat",value:e,additionalClasses:t,showPlus:!0,coloredText:!0,hideIcon:!0}))):c.createElement(C$,{customClass:"portfolio-dashboard daily-change-percentage-value",valueFormat:"percentageFloat",value:n,showPlus:!0,coloredText:!0,hideIcon:!0})))))))}))}});var Gj=Object.defineProperty,qj=(e,t,n)=>(((e,t,n)=>{t in e?Gj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Yj=N(T((e=>{const t=WT(e);return{currentUser:t,ideas:e.ideas,securities:e.securities,useStreamingPrice:Wp(t)}}),(e=>({actions:I(WC,e)}))))(class extends Vj{constructor(){super(...arguments),qj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),qj(this,"_renderCellContent",(()=>{const{securityId:e,plaidSecurityId:t,column:n,useStreamingPrice:r,additionalTableCellProps:i}=this.props,{onDashboard:a}=n,s=i&&i.external_positions&&i.external_positions.plaid_account_id_filter;return c.createElement($j,{securityId:e,showStreamingPrices:a,plaidSecurityId:t,plaid_account_id_filter:s},((e,t,n,i,a)=>c.createElement(c.Fragment,null,c.createElement("span",{className:"security-table-total-change-container"},0!==e&&c.createElement("span",{className:"security-table-total-price-change-container"},c.createElement("span",{className:"security-table-total-price-change-percent"},r?c.createElement(Uj,{value:i,textColorTypeValue:i},((e,t)=>c.createElement(C$,{customClass:"portfolio-dashboard total-change-price-value",valueFormat:"price",value:e,additionalClasses:t,showPlus:!0,coloredText:!0,hideIcon:!0}))):c.createElement(C$,{customClass:"portfolio-dashboard total-change-price-value",valueFormat:"price",value:i,showPlus:!0,coloredText:!0,hideIcon:!0}))),0!==e&&c.createElement("span",{className:"security-table-total-price-change-container"},c.createElement("span",{className:"security-table-total-price-change-percent"},r?c.createElement(Uj,{value:a,textColorTypeValue:i},((e,t)=>c.createElement(C$,{customClass:"portfolio-dashboard total-change-percentage-value",valueFormat:"percentageFloat",value:e,additionalClasses:t,showPlus:!0,coloredText:!0,hideIcon:!0}))):c.createElement(C$,{customClass:"portfolio-dashboard total-change-percentage-value",valueFormat:"percentageFloat",value:a,showPlus:!0,coloredText:!0,hideIcon:!0})))))))}))}}),Kj=e=>null;var Qj=Object.defineProperty,Zj=(e,t,n)=>(((e,t,n)=>{t in e?Qj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Xj=N(T((e=>{const t=WT(e);return{currentUser:t,securities:e.securities,ideas:e.ideas,useStreamingPrice:Wp(t)}}),(e=>({actions:I(WC,e)}))))(class extends Vj{constructor(){super(...arguments),Zj(this,"_returnLinkForHandlingClick",(()=>{const{userId:e,securityId:t}=this.props,n=this.props.currentUser.user_id,r=e||n,i=this.props.ideas.ideaList,a=RS(r,t,i),s={securityId:t,additionalProps:{activeTab:"ideas",ideaId:a&&a.idea_id},navigate:this.props.navigate,location:this.props.location};return CU(s)})),Zj(this,"_renderCellContent",(()=>{const{securityId:e,plaidSecurityId:t,column:n,useStreamingPrice:r,additionalTableCellProps:i}=this.props,{onDashboard:a}=n,s=i&&i.external_positions&&i.external_positions.plaid_account_id_filter;return c.createElement(Kj,{showStreamingPrices:a,securityId:e,plaidSecurityId:t,plaid_account_id_filter:s},((e,t,n)=>0===n||nk(n)?null:c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-container"},c.createElement("span",{className:"security-table-allocation-total-value  "},ng(e,"price")),c.createElement("span",{className:"multi-text-box-inline"},c.createElement("span",{className:"security-table-allocation-total-value-shares  "},`${ng(n,"shares")} sh`),c.createElement("span",{className:"security-table-allocation-total-value-percentage  "}))))))})),Zj(this,"_renderUnmappedCellContent",(()=>this._renderCellContent()))}});var Jj=Object.defineProperty,eG=(e,t,n)=>(((e,t,n)=>{t in e?Jj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const tG=N(T((e=>({currentUser:e.currentUser,securities:e.securities,externalPositions:e.externalPositions})),(e=>({actions:I(WC,e)}))))(class extends Vj{constructor(){super(...arguments),eG(this,"_getDisplayIdentifier",((e,t)=>{if(this._isUnmappedSecurity()){const t=new RegExp("([A-Za-z]+)[0-9]{6}([CP])[0-9]{8}").exec(e);if(t){e=t[1]+" "+("C"===t[2]?"Call":"Put")}}return[e,t]})),eG(this,"_returnLinkForHandlingClick",(()=>{const e=this.props.securityId;if(!e)return null;const t={securityId:e,navigate:this.props.navigate,location:this.props.location};return CU(t)})),eG(this,"_renderCellContent",(()=>{const e=this.props.security.security_id,t=this.props.plaidSecurityId;if(this._isUnmappedSecurity()){const e=this.props.externalPositions.accounts[this.props.additionalTableCellProps.external_positions.plaid_account_id_filter].unmapped_positions[t];let n=e.name,r=e.symbol;nk(n)&&(n="N/A"),nk(r)&&(r="N/A"),[r,n]=this._getDisplayIdentifier(r,n);const i=$(window).width()>525?33:20;return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol secondary-text-color"},r,c.createElement(iS,{word:"tooltip_external_positions_unmapped_security",style:{position:"relative",display:"inline-block"}})),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},JS(n,i,JS(r,i,"N/A"))),c.createElement("span",{className:"multi-text-box-inline flex-justify-left"},c.createElement("span",{className:"security-table-current-price"}),c.createElement("span",{className:"security-table-current-price-change"})))}const n=this.props.securities.lookup[e],{name:r,symbol:i}=n;return c.createElement("span",{className:"security-table-identifier"},c.createElement("span",{className:"security-table-symbol  "},i),c.createElement("span",{className:"security-table-company-name truncate-text-overflow secondary-text-color"},JS(r,$(window).width()>525?33:20)),c.createElement("span",{className:"multi-text-box-inline flex-justify-left"},c.createElement("span",{className:"security-table-current-price"}),c.createElement("span",{className:"security-table-current-price-change"})))})),eG(this,"_renderUnmappedCellContent",(()=>this._renderCellContent()))}});var nG=Object.defineProperty,rG=(e,t,n)=>(((e,t,n)=>{t in e?nG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class iG extends C.exports.Component{constructor(){super(...arguments),rG(this,"_doesOpenSecurityPanel",(()=>!1!==this.props.openSecurityPanel)),rG(this,"_renderCell",(()=>this._doesOpenSecurityPanel()?c.createElement(iT,{to:this._returnLinkForHandlingClick(),className:"",additionalClickAction:this.props.logSecurityPanelOpenClick,child:this._renderCellContent(),noTextDecoration:!0}):c.createElement("div",{className:"tcell-container"},this._renderCellContent()))),rG(this,"_isLoading",(()=>!1)),rG(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this.props.securityId,navigate:this.props.navigate,location:this.props.location};return CU(e)})),rG(this,"_renderCellContent",(()=>(this.props.securityId,c.createElement("span",{className:"security-table-current-price"}))))}render(){const e=this.props.column.keyName;return c.createElement("td",{className:`security-table-${lk(e)}`,style:this._doesOpenSecurityPanel()?{}:{cursor:"default",pointerEvents:"none"}},this._isLoading()?this.props.loadingCellComponent:this._renderCell())}}const aG=N(T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)}))))(iG);var sG=_c((e=>{const t=()=>({blank:fU,optimizer_blank:vU,cash_cell:EU,identifier:kU,identifier_symbol:WU,identifier_with_current_price:FU,identifier_with_current_price_no_change:YU,identifier_with_idea_type:BU,portfolio_cash:n$,optimizer_cash:s$,portfolio_idea_cell:h$,portfolio_allocation:f$,trade_all_optimized_orders:CW,allocation_and_day_change:k$,trade:Cj,optimized_allocation_with_trade:fW,idea_performance_cell:GW,identifier_with_idea_type_collective:XU,collective_user_idea_performance_cell:QW,idea_buy_sell:AW,view_idea:UW,idea_day_and_total_change:VW,external_position_identifier:tG,external_position_amount_cell:Xj,external_position_day_change_percentage_cell:jj,external_position_total_change_percentage_cell:Yj,idea_type:kW,ask_why:LW,allocation:Aj,profile_security_allocation_cell:kj,position_allocation_percentage_cell:Lj,thought_leader_data_cell:ij,collective_user_data_cell:lj,current_price:aG,expected_return:hj,active:P$,remove_idea:_j}),n=()=>e.column.keyName,r=e=>{const t=n(),r=yU(t);o({Context:"Security Table","Table Cell":r},e)};return(()=>{const e=n();return t()[e]||null})()?(()=>{const i=(()=>{const e=t()[n()];return e||Uk(`Missing cell lookup in TableCell.js for ${n()}`,!0),e})(),a=o({loadingCellComponent:c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}),logSecurityPanelOpenClick:r,navigate:e.navigate,location:e.location},e);return c.createElement(i,a)})():(()=>{const{concernable:t}=e,r=n();return c.createElement("td",{className:`security-table-${lk(r)}`},tg(t[r],r))})()})),oG=Object.defineProperty,lG=(e,t,n)=>(((e,t,n)=>{t in e?oG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class cG extends C.exports.Component{constructor(){super(...arguments),lG(this,"_renderLoadingRow",(e=>c.createElement("tr",{className:"security-table-security-row border-accent"},c.createElement("td",{className:"security-table-loading-row",key:`row-${this.props.rowIndex}`,colSpan:e.length},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}})))))}render(){const{columns:e,concernable:t,concernableType:n}=this.props,r="idea"===n?t:null,i="idea"===n?AS(r):null,a="security"===n?t:this.props.securities.lookup[i],s=t&&"plaid_security_id"in t?t.plaid_security_id:null,l=t&&"unmapped_security"in t?t.unmapped_security:null;return this.props.skipLoadingCheck||a&&"symbol"in a&&(!r||r.idea_id)?c.createElement("tr",{className:"security-table-security-row border-accent "+(this.props.isFooterRow?"footer-row":"")},e.map(((e,i)=>c.createElement(sG,o({key:`security-table-${e.keyName}-${n||`custom-${this.props.customRowIndex||"footer"}-${i}`}-${t?t[`${n}_id`]:"cell"}`,column:e,securityId:a?a.security_id:null,plaidSecurityId:s,unmappedSecurity:l,ideaId:r?r.idea_id:null,security:a||null,idea:r,concernable:t,additionalTableCellProps:this.props.additionalTableCellProps},this.props.additionalTableCellProps||{}))))):this._renderLoadingRow(e)}}var dG=T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)})))(cG);const uG=e=>{const t=e.columns,n=e.concernables,r=n.type,i=n.list;return c.createElement("tbody",null,i.map(((n,i)=>c.createElement(dG,{key:`security-table-security-row-${i}`,rowIndex:i,columns:t,concernable:n,concernableType:r,additionalTableCellProps:e.additionalTableCellProps}))),e.footerRowColumns&&c.createElement(dG,{key:"table-footer-row",columns:e.footerRowColumns,skipLoadingCheck:!0,concernable:null,concernableType:null,isFooterRow:!0,additionalTableCellProps:e.additionalTableCellProps}),e.customTrailingRows&&e.customTrailingRows.map(((t,n)=>c.createElement(dG,{key:"table-footer-row",customRowIndex:n,columns:t,skipLoadingCheck:!0,concernable:null,concernableType:null,isFooterRow:!0,additionalTableCellProps:e.additionalTableCellProps}))))};var hG=Object.defineProperty,pG=(e,t,n)=>(((e,t,n)=>{t in e?hG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class mG extends C.exports.Component{constructor(){super(),pG(this,"renderTable",((e,t)=>t&&0!==t.list.length?c.createElement("div",{ref:e=>this.SecurityTableContainerNode=e,className:"security-table-container"},this.props.tableTitle&&c.createElement("div",{className:"security-table-title"},this.props.tableTitle),c.createElement("table",{className:`security-table ${this._returnSizeClass()}`},!this.props.hideHeadingRow&&c.createElement(hU,{columns:e}),c.createElement(uG,{columns:e,concernables:t,customTrailingRows:this.props.customTrailingRows&&this.props.customTrailingRows.map((e=>this.generateColumns(e))),footerRowColumns:this.props.footerRow&&this.generateColumns(this.props.footerRow),additionalTableCellProps:this.props.additionalTableCellProps}))):c.createElement("div",{className:"empty-security-table-container"}))),pG(this,"generateColumns",(e=>{const t=this.state.defaultColumns;return(e||this.props.columns||t).map((e=>this.tableColumns(e)))})),pG(this,"_returnSecurityTableContainerNode",(()=>this.SecurityTableContainerNode)),pG(this,"_return$SecurityTableContainerNode",(()=>window.$(this._returnSecurityTableContainerNode()))),pG(this,"_returnSecurityTableContainerOuterWidth",(()=>{const e=this._return$SecurityTableContainerNode().outerWidth();return nk(e)?window.$(window).width():e})),pG(this,"_isMobileWidth",(()=>!nk(this._returnSecurityTableContainerOuterWidth())&&this._returnSecurityTableContainerOuterWidth()<450)),pG(this,"_returnSizeClass",(()=>this._isMobileWidth()?"mobile":"")),pG(this,"tableColumns",(e=>({blank:{headingDisplayName:"",keyName:"blank"},optimizerBlank:{headingDisplayName:"",keyName:"optimizer_blank"},cashCell:{headingDisplayName:"",keyName:"cash_cell"},tradeAllOptimizedOrders:{headingDisplayName:"",keyName:"trade_all_optimized_orders"},portfolioCash:{headingDisplayName:"",keyName:"portfolio_cash"},optimizerCash:{headingDisplayName:"",keyName:"optimizer_cash"},ideaType:{headingDisplayName:"",keyName:"idea_type",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},ideaBuySell:{headingDisplayName:"Trade",keyName:"idea_buy_sell"},optionType:{headingDisplayName:"Type",keyName:"blank"},expiryDate:{headingDisplayName:"Expires",keyName:"blank"},strikePrice:{headingDisplayName:"Strike Price",keyName:"blank"},identifier:{headingDisplayName:"",keyName:"identifier",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},identifierWithIdeaType:{headingDisplayName:"",keyName:"identifier_with_idea_type",buildExpandedSecurityCardProperties:(e,t)=>t?{panel:"idea",securityId:e.security_id,activeTab:"ideas",ideaId:t.idea_id}:{panel:"security",securityId:e.security_id,activeTab:"ideas"}},identifierWithCurrentPrice:{headingDisplayName:"",keyName:"identifier_with_current_price",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},dashIdentifierWithPrice:{headingDisplayName:"",keyName:"dash_identifier_with_current_price",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},identifierWithPriceNoChangeCell:{headingDisplayName:"",keyName:"identifier_with_current_price_no_change",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},currentPrice:{headingDisplayName:"Current Price",keyName:"current_price",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},expectedReturn:{headingDisplayName:"Expected Return",keyName:"expected_return",infoIcon:!0,buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},ideaActive:{headingDisplayName:"Include In Optimizer",keyName:"active",buildExpandedSecurityCardProperties:()=>!1},optimizeAllocation:{headingDisplayName:"Optimized Allocation",keyName:"optimize_allocation",buildExpandedSecurityCardProperties:()=>!1},portfolioIdeaCell:{headingDisplayName:"Your Expected Return",keyName:"portfolio_idea_cell",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"expected_return",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},profilePortfolioIdeaCell:{headingDisplayName:"Expected Return",keyName:"portfolio_idea_cell",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"expected_return",buildExpandedSecurityCardProperties:(e,t)=>t?{panel:"idea",securityId:e.security_i6d,activeTab:"ideas",ideaId:t.idea_id}:{panel:"security",securityId:e.security_id,activeTab:"ideas"}},ideaDayAndTotalChange:{headingDisplayName:"Gain/Loss",keyName:"idea_day_and_total_change",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},portfolioAllocation:{headingDisplayName:"Allocation",keyName:"portfolio_allocation",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"allocation",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},profileSecurityAllocationCell:{headingDisplayName:"Current Allocation",keyName:"profile_security_allocation_cell",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"allocation",buildExpandedSecurityCardProperties:(e,t)=>t?{panel:"idea",securityId:e.security_id,activeTab:"ideas",ideaId:t.idea_id}:{panel:"security",securityId:e.security_id,activeTab:"ideas"}},ideaPerformanceCell:{headingDisplayName:"Idea Performance",keyName:"idea_performance_cell",buildExpandedSecurityCardProperties:(e,t)=>t?{panel:"idea",securityId:e.security_id,activeTab:"ideas",ideaId:t.idea_id}:{panel:"security",securityId:e.security_id,activeTab:"ideas"}},identifierWithIdeaTypeCollective:{headingDisplayName:"",keyName:"identifier_with_idea_type_collective",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},collectiveUserIdeaPerformanceCell:{headingDisplayName:"Idea Performance",keyName:"collective_user_idea_performance_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},allocationAndDayChange:{headingDisplayName:"Current Allocation",keyName:"allocation_and_day_change",infoIcon:!0,customInfoIconName:"allocation",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},trade:{headingDisplayName:"",keyName:"trade",buildExpandedSecurityCardProperties:()=>!1},optimizedAllocationWithTrade:{headingDisplayName:"Optimized Allocation",keyName:"optimized_allocation_with_trade",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"optimized_allocation",buildExpandedSecurityCardProperties:()=>!1},allocation:{headingDisplayName:"Allocation",keyName:"allocation",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},removeIdea:{headingDisplayName:"",keyName:"remove_idea",buildExpandedSecurityCardProperties:()=>!1},ideaAskWhy:{headingDisplayName:"",keyName:"ask_why",buildExpandedSecurityCardProperties:()=>!1},ideaView:{headingDisplayName:"",keyName:"view_idea",buildExpandedSecurityCardProperties:()=>!1},collectiveUserDataCell:{headingDisplayName:"",keyName:"collective_user_data_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},thoughtLeaderDataCell:{headingDisplayName:"",keyName:"thought_leader_data_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},identifierSymbol:{headingDisplayName:"",keyName:"identifier_symbol",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},ideaDayChange:{headingDisplayName:"Today",keyName:"position_day_change_percentage_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},ideaTotalChange:{headingDisplayName:"Total",keyName:"position_total_change_percentage_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},externalPositionsIdentifier:{headingDisplayName:"",keyName:"external_position_identifier",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},externalPositionAllocation:{headingDisplayName:"Amount",keyName:"external_position_amount_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},externalPositionDayChange:{headingDisplayName:"Today",keyName:"external_position_day_change_percentage_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},externalPositionTotalChange:{headingDisplayName:"Total",keyName:"external_position_total_change_percentage_cell",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},dashIdeaDayChange:{headingDisplayName:"Today",keyName:"position_day_change_percentage_cell",onDashboard:!0,buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},dashIdeaTotalChange:{headingDisplayName:"Total",keyName:"position_total_change_percentage_cell",onDashboard:!0,buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})},portfolioAllocationPercentage:{headingDisplayName:"Allocation",keyName:"position_allocation_percentage_cell",infoIcon:!0,infoIconPosition:"right",customInfoIconName:"allocation",buildExpandedSecurityCardProperties:e=>({panel:"security",securityId:e.security_id,activeTab:"ideas"})}}[e]||null))),this.state={defaultColumns:["ideaType","identifier","currentPrice","portfolioIdeaCell","ideaActive","allocation","removeIdea"],defaultOnboardingColumns:["ideaType","identifier","currentPrice","portfolioIdeaCell","ideaActive","removeIdea"]}}render(){const e=this.props.concernables,t=l(o({},e),{list:e.list});return c.createElement("div",{className:"security-table-drop-container"},this.renderTable(this.generateColumns(),t))}}const gG=N(Xk,T(null,(e=>({actions:I(WC,e)}))))(mG),yG=e=>{const{className:t}=e;return c.createElement("div",{className:`page-heading ${t||""}`},c.createElement("h2",null,e.children))};var _G=Object.defineProperty,fG=(e,t,n)=>(((e,t,n)=>{t in e?_G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class vG extends C.exports.Component{constructor(e){super(e),fG(this,"_returnConcernables",(()=>({type:"idea",list:vk({type:"ideas",list:this._returnMyIdeas()})}))),fG(this,"_returnMyIdeas",(()=>{const e=this.props.currentUser.user_id,t=this.props.ideas.ideaList;return FS(e,t)})),fG(this,"fetchSecurityDataForIdeas",(e=>{const t=e.map((e=>AS(e)));this.props.actions.quickFetchSecuritiesData(t),this.props.actions.fetchSecuritiesPriceData(t),this.props.actions.getIdeasForSecurity(t)})),fG(this,"handleMyIdeasPanelClose",(()=>{this.props.closePanel()})),fG(this,"handleResize",(e=>{"contentContainer"in this&&this.contentContainer&&this.setState((e=>({contentContainerWidth:this.contentContainer.offsetWidth})))})),fG(this,"_updatePageTitle",(()=>{document.title=`${Xo} - My Ideas`})),fG(this,"_logPageView",(()=>{this.props.actions.logMetricsTrackingEvent("View My Ideas",{})})),this.state={contentContainerWidth:1065,loadedIdeas:!1}}componentDidMount(){this._updatePageTitle(),this._logPageView();const e=this.props.currentUser.user_id,t=this.props.ideas.ideaList,n=FS(e,t);this.props.ideas.loadingCurrentUserIdeas||(this.setState((()=>({loadedIdeas:!0}))),this.fetchSecurityDataForIdeas(n)),this.handleResize(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){const e=this,t=this.props.currentUser.user_id,n=this.props.ideas.ideaList,r=FS(t,n);this.props.ideas.loadingCurrentUserIdeas||this.state.loadedIdeas||this.setState((()=>({loadedIdeas:!0})),(()=>e.fetchSecurityDataForIdeas(r)))}render(){return this.props.ideas.loadingCurrentUserIdeas?c.createElement("div",{className:"my-ideas-panel"},c.createElement(Dw,{style:{zIndex:1e4},flatStyle:!0})):c.createElement("div",{className:"my-ideas-panel",ref:e=>this.contentContainer=e},"panel"===this.props.isPanel&&c.createElement("i",{className:"fa fa-times fa-times-thin",colorClassName:"secondary-text-color",onClick:this.handleMyIdeasPanelClose}),c.createElement(yG,{className:"my-ideas-panel"},"My Ideas"),c.createElement(gG,{concernables:this._returnConcernables()}))}}_c(T((e=>({currentUser:e.currentUser,ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)})))(vG));const EG=e=>{const t=e.tab,n=Zc[t.toLowerCase()],r=(e.active||e.hovering?"active":"")?"active":"",i=()=>{e.handleClick(t)};return e.iconOnly?(e=>{let n="";return n="ideas"==t?My("tab"):Xc(t),c.createElement("div",{className:`security-card-tab flat-tab-color-style tab-${n} ${r} mobile`,onClick:i},c.createElement("div",{className:"tab-icon-mobile"},c.createElement(xc,{icon:e,size:"fa-icon-medium",style:{pointerEvents:"none"}})),(()=>{let e="";return e="ideas"===t?My("tab"):Xc(t),c.createElement("div",{className:"tab-label-mobile"},e)})())})(n):(()=>{let e="";return e="ideas"==t?My("tab"):Xc(t),c.createElement("div",{className:`security-card-tab flat-tab-color-style ${r}`,onClick:i},c.createElement("span",null,e))})()};var bG=Object.defineProperty,CG=(e,t,n)=>(((e,t,n)=>{t in e?bG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class xG extends C.exports.Component{constructor(){super(),CG(this,"_renderChildrenWithIdeaDataProps",(()=>c.Children.map(this.props.children,(e=>c.cloneElement(e,this.returnIdeaDataProps()))))),CG(this,"returnIdeaDataProps",(()=>({isLoading:this.props.useInitialLoading?this.isInitialLoad():this.isLoading(),isInitialLoad:this.isInitialLoad(),isLoadingIgnoreInitialLoad:this.isLoading(),ideaStore:this.returnIdeasStore(),ideas:this.returnIdeasForIdeaSource()}))),CG(this,"isLoading",(e=>KS(this.returnIdeaDataSource(),this.returnIdeaDataSourceId(),this.returnIdeasStore(e)))),CG(this,"isInitialLoad",(()=>this.state._isInitialLoadRunning)),CG(this,"returnIdeaDataSource",(()=>this.props.securityId?"security":this.props.userId?"user":Uk("Invalid data type provided to IdeasListDataWrapper, must supply, securityId or userId"))),CG(this,"returnIdeaDataSourceId",(()=>this.props.securityId||this.props.userId)),CG(this,"returnIdeasForIdeaSource",(e=>{const t=e||this.props;return t.securityId?this.returnIdeasForSecurity(t):t.userId?this.returnIdeasForUser(t):Uk("Invalid data type provided to IdeasListDataWrapper, must supply, securityId or userId")})),CG(this,"returnIdeasForSecurity",(e=>this.returnAllIdeas(e).filter((e=>AS(e)===this._returnSecurityId())))),CG(this,"returnIdeasForUser",(e=>this.returnAllIdeas(e).filter((e=>e.user_id===this._returnUserId())))),CG(this,"returnAllIdeas",(e=>QS(this.returnIdeasStore(e)))),CG(this,"returnIdeasLookup",(e=>GS(this.returnIdeasStore(e)))),CG(this,"returnIdeasStore",(e=>(e||this.props).ideas)),CG(this,"_getIdeaData",(()=>this.props.securityId?this._getIdeaDataForSecurity():this.props.userId?this._getIdeaDataForUser():Uk("Invalid data type provided to IdeasListDataWrapper, must supply, securityId or userId"))),CG(this,"_getIdeaDataForSecurity",(()=>this.props.actions.getIdeasForSecurity([this._returnSecurityId()]))),CG(this,"_returnUserId",(()=>this.props.userId)),CG(this,"_returnSecurityId",(()=>this.props.securityId)),CG(this,"_shouldHideWhenLoading",(()=>this.props.hideWhenLoading)),CG(this,"_determineIfInitialLoadCompleted",(e=>{this.isInitialLoad()&&this.isLoading(e)&&!this.isLoading()&&this.setState((()=>({_isInitialLoadRunning:!1})))})),this.state={_isInitialLoadRunning:!0}}componentDidMount(){this.props.getIdeaData&&this._getIdeaData()}componentDidUpdate(e){this.isInitialLoad()&&this._determineIfInitialLoadCompleted(e)}shouldComponentUpdate(e){if(xk(this.props,e,["actions","ideas"]))return!0;const t=this.returnIdeasForIdeaSource(e),n=t.every((e=>e==qS(e.idea_id,this.returnIdeasStore()))),r=this.returnIdeasForIdeaSource().every((t=>t==qS(t.idea_id,this.returnIdeasStore(e)))),i=((e,t,n)=>{if(!("ideaList"in t)||!("ideaList"in n))return Uk("Invalid idea store passed into wasLoadingIdeaDataUpdateForSecurity",!0,{prevIdeaStore:t,nextIdeaStore:n});const r=t.loadingIdeasForSecurityIdsList.indexOf(e)>=0,i=n.loadingIdeasForSecurityIdsList.indexOf(e)>=0;return r||i})(this._returnSecurityId(),this.returnIdeasStore(),this.returnIdeasStore(e)),a=((e,t,n)=>{if(!("ideaList"in t)||!("ideaList"in n))return Uk("Invalid idea store passed into wasLoadingIdeaDataUpdateForUser",!0,{prevIdeaStore:t,nextIdeaStore:n});const r=t.loadingIdeasForUserIdsList.indexOf(e)>=0,i=n.loadingIdeasForUserIdsList.indexOf(e)>=0;return r||i})(this._returnUserId(),this.returnIdeasStore(),this.returnIdeasStore(e));let s=!1;var o,l;if(o=this.returnIdeasStore(),l=this.returnIdeasStore(e),o.loadingIdeasForSecurityIdsList!=l.loadingIdeasForSecurityIdsList){const n=((e,t)=>{const n=[];return e.loadingIdeasForSecurityIdsList.forEach((e=>{t.loadingIdeasForSecurityIdsList.includes(e)||n.push(e)})),t.loadingIdeasForSecurityIdsList.forEach((t=>{e.loadingIdeasForSecurityIdsList.includes(t)||n.push(t)})),n})(this.returnIdeasStore(),this.returnIdeasStore(e));t.forEach((e=>{n.includes(AS(e))&&(s=!0)}))}if(((e,t)=>e.loadingIdeasForUserIdsList!=t.loadingIdeasForUserIdsList)(this.returnIdeasStore(),this.returnIdeasStore(e))){const n=((e,t)=>{const n=[];return e.loadingIdeasForUserIdsList.forEach((e=>{t.loadingIdeasForUserIdsList.includes(e)||n.push(e)})),t.loadingIdeasForUserIdsList.forEach((t=>{e.loadingIdeasForUserIdsList.includes(t)||n.push(t)})),n})(this.returnIdeasStore(),this.returnIdeasStore(e));t.forEach((e=>{n.includes(e.user_id)&&(s=!0)}))}return s||i||a||!n||!r}render(){return this.isLoading()&&this.props.showLoading?this._shouldHideWhenLoading()?null:this.props.customLoadingComponent||c.createElement(_e,{icon:"fading-3balls",size:"small"}):c.createElement("span",{className:"basic-idea-list-data-wrapper"},this.props.useAsLoadingWrapper?this.props.children:this._renderChildrenWithIdeaDataProps())}}const wG=T((e=>({ideas:e.ideas})),(e=>({actions:I(WC,e)})))(xG);var SG=Object.defineProperty,kG=(e,t,n)=>(((e,t,n)=>{t in e?SG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const TG=()=>c.createElement("svg",{viewBox:"0 0 20 20"},c.createElement("path",{d:"M17.997 5.6c-.028-.333-.345-.607-.693-.6h-2.782c-1.391 0-2.087 1.334-2.087 1.334h3.19l-4.58 4.39-2.293-2.197a.718.718 0 00-.984 0l-5.565 5.335a.649.649 0 000 .943c.272.26.713.26.985 0l5.074-4.864 2.292 2.197a.705.705 0 00.49.197c.185 0 .362-.07.49-.197l5.075-4.86v3.056S18 9.668 18 8.334V5.667c0-.023 0-.043-.003-.067z"})),IG=u.div`
  button {
    padding: 4px 8px;
  }

  button {
    border: 1px solid
      ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor} !important;
    background-color: ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor} !important;
  }
`,NG=u.div`
  display: flex;
`,AG=u.div`
  position: relative;
  margin-right: 16px;
  width: 40px;
  border-left: 2px solid
    ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor};
  border-bottom: 2px solid
    ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor};

  svg {
    position: absolute;
    top: 0;
    left: 0;

    fill: ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor};

    transform: ${({theme:e,thoughtType:t})=>"pro"===t?"rotate(0deg)":"rotate(178deg) scaleX(-1);"};
    height: 36px;
    width: 36px;
  }
`,PG=u.div`
  padding: 16px;

  border-radius: 5px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  margin-bottom: 8px;

  h5 {
    color: ${({theme:e,thoughtType:t})=>"pro"===t?e.themeColors.proColor:e.themeColors.conColor};
    text-transform: uppercase;
  }
`,DG=({thoughtType:e,handleClick:t})=>"pro"===e?c.createElement(IG,{thoughtType:e},c.createElement(hx,{onClick:t},"+ ADD PRO")):"con"===e?c.createElement(IG,{thoughtType:e},c.createElement(hx,{onClick:t},"+ ADD CON")):void 0,OG=({thoughtType:e,allowAddThought:t,handleAddThought:n})=>"pro"===e?c.createElement(PG,{thoughtType:e},c.createElement(NG,{width:"80px"},c.createElement(AG,{thoughtType:e},c.createElement(TG,null)),c.createElement(Ii,null,"Pros")),t&&c.createElement(DG,{thoughtType:e,handleClick:()=>n(e)})):"con"===e?c.createElement(PG,{thoughtType:e},c.createElement(NG,null,c.createElement(AG,{thoughtType:e},c.createElement(TG,null)),c.createElement(Ii,null,"Cons")),t&&c.createElement(DG,{thoughtType:e,handleClick:()=>n(e)})):null;class LG extends c.Component{constructor(){super(...arguments),kG(this,"_renderThoughtsList",(()=>c.createElement("div",null,c.createElement("div",{className:"thought-list clearfix "+(this._areNoThoughts()?"no-thoughts":"")},this._shouldShowCreateThought(this._returnThoughtType())&&c.createElement(mS,{security:this._returnSecurity(),thoughtType:this.props.creatingThoughtType||this._returnThoughtType().toLowerCase(),handleCreateThought:this.props.handleCreateThought,handleCancelCreatingThought:this.props.handleCancelCreatingThought,viewingContext:this.props.viewingContext}),c.createElement(HV,l(o({},this.props),{isUserAuthed:this._isUserAuthed(),scrollContainerSelector:this.props.scrollContainerSelector,distanceFromBottomToTriggerInfiniteScroll:this.props.distanceFromBottomToTriggerInfiniteScroll,useInfiniteScroll:this.props.useInfiniteScroll,noContainer:!0})),this._renderBelowLastThoughtPadding())))),kG(this,"_renderBelowLastThoughtPadding",(()=>c.createElement("div",{style:{height:"88px",width:"100%",opacity:0}},"."))),kG(this,"_renderJoinCommunityAndEnterThoughtMessage",(()=>c.createElement("div",{className:"thought-list-container empty-thought-list-container"},`Our community has not entered any ${ck(this._returnThoughtType())}s. Login or Signup to start the conversation.`))),kG(this,"_shouldShowHeading",(()=>!this.props.hideHeading)),kG(this,"_shouldShowOpenCreateThoughtButton",(()=>this._isUserAuthed()&&!this._shouldShowCreateThought())),kG(this,"_shouldShowCreateThought",(()=>this._isUserAuthed()&&(this.props.shouldShowOpenCreateThoughtPanel||this._areNoThoughts()&&!(this.props.isTwoColumns&&this._isCreatingThoughtOfOtherType())))),kG(this,"_isCreatingThoughtOfOtherType",(()=>this.props.creatingThought&&this.props.creatingThoughtType!==this._returnThoughtType())),kG(this,"_isAddThoughtAvailable",(()=>this._isUserAuthed())),kG(this,"_areNoThoughts",(()=>0===this._returnThoughts().length)),kG(this,"_returnThoughts",(()=>this.props.thoughts)),kG(this,"_returnSecurity",(()=>this.props.security)),kG(this,"_returnSecurityId",(()=>this._returnSecurity().security_id)),kG(this,"_returnThoughtType",(()=>this.props.thoughtType)),kG(this,"_isProThoughtType",(()=>"pro"===this._returnThoughtType().toLowerCase())),kG(this,"_returnCurrentUser",(()=>this.props.currentUser)),kG(this,"_isUserAuthed",(()=>"user_id"in this._returnCurrentUser()))}render(){return c.createElement("div",{className:"thought-list-container",key:`thoughts-list-${this._returnThoughtType()}-${this._returnSecurityId()}`},this._shouldShowHeading()&&c.createElement(OG,{allowAddThought:this._shouldShowOpenCreateThoughtButton(),thoughtType:this._returnThoughtType(),securityId:this._returnSecurityId(),handleAddThought:this.props.handleOpenCreateThoughtPanelClick}),this.props.children,!this._isUserAuthed()&&this._areNoThoughts()?this._renderJoinCommunityAndEnterThoughtMessage():this._renderThoughtsList())}}var RG=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(LG);const FG=e=>{if(!e.isUserAuthed)return c.createElement("div",{className:"public-no-thoughts-for-idea-container"},c.createElement("div",{className:"stand-alone-text"},`The community has not entered any thoughts for ${e.security.symbol}. Sign in or join the community and add your thoughts.`));if(e.showAsThoughtsInIdea&&e.userIsCurrentUser)return c.createElement("div",{className:"no-thoughts-for-idea-container"},c.createElement("div",{className:"stand-alone-text",style:{paddingBottom:"16px"}},`You have not entered any thoughts with your ${My("noun").toLowerCase()}.`),c.createElement("div",{className:"no-current-user-thoughts"},c.createElement(mS,{security:e.security,handleCreateThought:e.handleCreateThought,viewingContext:_S})));if(e.showAsThoughtsInIdea){if(e.idea.is_ask_why_available_to_current_user&&e.idea.active)return c.createElement("div",{className:"no-thoughts-for-user-container"},c.createElement("div",{className:"stand-alone-text"},`Want to hear more about this ${My("noun").toLowerCase()}?`),c.createElement(Oz,{viewingContext:"Ideas Panel",ideaId:e.idea.idea_id,centerFormWithAskButton:!0,openFormInModalOnMobile:!0}));if(!e.userIsCurrentUser)return null}return c.createElement("div",{className:"no-thoughts-for-security-container"},c.createElement(mS,{security:e.security,handleCreateThought:e.handleCreateThought,viewingContext:_S}))},MG=(e,t,n,r)=>{if(!n||n&&!n.ignoreEventLog){ly("Clicked Security Panel Tab",{Tab:e})()}const i=location,a=fe(i.search);a.activeTab=e;const s=ve(a);t((r||i.pathname)+s)};var UG=Object.defineProperty,$G=(e,t,n)=>(((e,t,n)=>{t in e?UG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const BG=u.div`
  padding: 16px 8px;

  .thoughts-sort-options-position-container,
  .thoughts-sort-options-container,
  .thoughts-sort-options {
    padding: 0;
    margin: 0;
    height: auto;
    width: 100%;
    max-width: unset;
  }
  .thoughts-sort-filter-option-container {
    padding: 0;
    margin: 0;
  }
  .thoughts-sort-options-position-container {
    position: relative;
    top: 0;
    left: 0;

    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  @media (max-width: 560px) {
    .thoughts_sort {
      width: 120px;
      * {
        min-width: unset;
      }
    }
  }

  @media (max-width: 480px) {
    .thoughts-sort-options-position-container {
      display: block;
    }

    .thoughts_sort {
      width: 100%;

      * {
        min-width: unset;
      }
    }

    .checkbox-container {
      padding-left: 8px;
      width: 24px;
    }

    fieldset {
      width: 100%;

      select {
        width: 100%;
      }
    }
  }
`,zG=u.div`
  padding: 16px 0 8px 0;

  svg {
    height: 18px;
    width: 18px;
    margin-right: 8px;
  }

  button {
    padding: 6px 16px;
  }
`,VG=({children:e})=>{const[t,n]=c.useState(!1),r=()=>{n(!0)};return t?c.createElement(BG,null,e):c.createElement(zG,null,c.createElement(hx,{transparent:!0,onClick:r},c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(wx,null),"Advanced Filters")))};class HG extends C.exports.Component{constructor(e){super(e),$G(this,"_returnDefaultSharedThoughtListProps",(()=>({security:this.props.security,user:this.props.user,showAsThoughtsInIdea:this._shouldShowAsThoughtsInIdea(),idea:this.props.idea,isTwoColumns:!this._shouldRenderThoughtListAsSingleColumn(),creatingThought:this._isCreatingThought(),creatingThoughtType:this._returnCreatingThoughtType(),handleCreatingThought:this.handleCreatingThought,handleCreateThought:this.handleCreateThought,handleCancelCreatingThought:this.handleCancelCreatingThought}))),$G(this,"_renderThoughtList",((e,t={})=>c.createElement(RG,o(o({thoughtType:e,thoughts:this._returnDefaultSortedThoughtsFor(e),securityId:this._returnSecurityId(),shouldShowOpenCreateThoughtPanel:this._shouldShowOpenCreateThoughtPanel(e),handleOpenCreateThoughtPanelClick:this.bindHandleOpenCreateThoughtPanelClick(e),viewingContext:this._returnContext(),thoughtDisplayContext:this.props.thoughtDisplayContext,distanceFromBottomToTriggerInfiniteScroll:this.props.distanceFromBottomToTriggerInfiniteScroll,scrollContainerSelector:this.props.scrollContainerSelector,useInfiniteScroll:this.props.useInfiniteScroll},this._returnDefaultSharedThoughtListProps()),t),this.props.sortOptionsComponent&&t.showSortOptions&&c.createElement(VG,null,this.props.sortOptionsComponent)))),$G(this,"_renderTwoColLayout",(()=>c.createElement("div",{className:"react-thoughts-container clearfix"},this.props.sortOptionsComponent||null,c.createElement("div",{className:"left-panel"},this._renderProThoughtList()),c.createElement("div",{className:"right-panel"},this._renderConThoughtList())))),$G(this,"_renderOneColLayout",(()=>{const e=fe(this.props.location.search),t=fu(this.props.location);return c.createElement("div",{className:"react-thoughts-container clearfix"},c.createElement(_B,{defaultActiveTab:t?this._returnDefaultSortedThoughtsFor("pro").filter((e=>e.id===t)).length>0?"pro":"con":"con"===e.creatingThoughtType?"con":this._areProThoughts()?"pro":"con",forceTab:t?this._returnDefaultSortedThoughtsFor("pro").filter((e=>e.id===t)).length>0?"pro":"con":null,handleTabClickAdditionalAction:this.handleTabClickAdditionalAction,tabs:[{name:"pro",activeCustomStyle:"pros-list-mobile-tab-styling",render:this._returnRendererThoughtTab("pro")},{name:"con",activeCustomStyle:"cons-list-mobile-tab-styling",render:this._returnRendererThoughtTab("con")}],contentComponents:[this._renderProThoughtList({hideHeading:!0,showSortOptions:!0}),this._renderConThoughtList({hideHeading:!0,showSortOptions:!0})]}))})),$G(this,"_renderProThoughtList",(e=>this._renderThoughtList("pro",e))),$G(this,"_renderConThoughtList",(e=>this._renderThoughtList("con",e))),$G(this,"_shouldShowOpenCreateThoughtPanel",(e=>this._returnCreatingThoughtType()===e)),$G(this,"_isCreatingThought",(()=>this.state.creatingThought)),$G(this,"_returnCreatingThoughtType",(()=>this.state.creatingThoughtType)),$G(this,"_isCreatingThoughtForType",(e=>this._isCreatingThought()&&this._returnCreatingThoughtType()===e)),$G(this,"_returnRendererThoughtTab",(e=>t=>c.createElement("span",{className:`tab-name ${e}s ${t?"active":"inactive"}`},`${ck(e)}s`,t&&!this._isCreatingThoughtForType(e)&&this._areThoughtsFor(e)&&c.createElement(WV,{thoughtType:e,handleClick:this.bindHandleOpenCreateThoughtPanelClick(e)})))),$G(this,"_handleCreateProClick",(()=>{this.handleCreatingThought("pro"),this._logCreateThoughtClick("pro")})),$G(this,"_handleCreateConClick",(()=>{this.handleCreatingThought("con"),this._logCreateThoughtClick("con")})),$G(this,"bindHandleOpenCreateThoughtPanelClick",(e=>()=>this.handleOpenCreateThoughtPanelClick(e))),$G(this,"handleOpenCreateThoughtPanelClick",(e=>"pro"===e?this._handleCreateProClick():this._handleCreateConClick())),$G(this,"handleTabClickAdditionalAction",(e=>{const t=e;this._isCreatingThought()&&this.setState((()=>({creatingThoughtType:t}))),this._logThoughtTabClick(e),this._logItlyTabClick(e)})),$G(this,"handleCreatingThought",(e=>{this.setState((t=>({creatingThought:!0,creatingThoughtType:e})))})),$G(this,"handleCreateThought",(e=>{const t=this.props.security,n=o({security_id:t.security_id},e);return this.props.actions.createThought(n).then((n=>{if(!n||n.error)this._showCreateThoughtErrorModal(n);else if(this._logThoughtCreate(e,t),this.props.idea){const e=this.props.idea.user_id===this.props.currentUser.user_id;this._shouldShowAsThoughtsInIdea()&&!e&&MG("thoughts",this.props.navigate)}return n}))})),$G(this,"handleCancelCreatingThought",(()=>{this.setState((e=>({creatingThought:!1,creatingThoughtType:null})))})),$G(this,"_fetchThoughtData",(()=>{this.props.actions.fetchThoughts([this._returnSecurityId()])})),$G(this,"_returnSecurityId",(()=>this.props.security_id)),$G(this,"_returnIdea",(()=>this.props.idea)),$G(this,"_shouldShowAsThoughtsInIdea",(()=>this.props.showAsThoughtsInIdea)),$G(this,"_returnCurrentUser",(()=>this.props.currentUser)),$G(this,"_isUserAuthed",(()=>"user_id"in this._returnCurrentUser())),$G(this,"_isLoading",(e=>(e||this.props).isLoading)),$G(this,"_isThoughtDataLoading",(e=>(e||this.props).isThoughtDataLoading)),$G(this,"_isThoughtDataAvailable",(e=>(e||this.props).isThoughtDataAvailable)),$G(this,"_returnProThoughts",(e=>(e||this.props).pros)),$G(this,"_returnConThoughts",(e=>(e||this.props).cons)),$G(this,"_areThoughtsFor",(e=>"pro"===e?this._areProThoughts():this._areConThoughts())),$G(this,"_areProThoughts",(()=>this.props.areProThoughts)),$G(this,"_areConThoughts",(()=>this.props.areConThoughts)),$G(this,"_areNoThoughtsForSecurity",(()=>this.props.areNoThoughtsForSecurity)),$G(this,"_returnUserIdForThoughtsFilter",(e=>(e||this.props).userId)),$G(this,"_shouldShowUserThoughtsOnly",(e=>!!this._returnUserIdForThoughtsFilter(e))),$G(this,"_shouldRenderThoughtListAsSingleColumn",(()=>this.state.collapseThoughtList||this.props.lockSingleColumnLayout)),$G(this,"_returnDefaultSortedThoughtsFor",(e=>"pro"===e?this.props.sortedPros:this.props.sortedCons)),$G(this,"_handleResize",(()=>{window.innerWidth<800&&!this.state.collapseThoughtList?this.setState({collapseThoughtList:!0}):window.innerWidth>=800&&this.state.collapseThoughtList&&this.setState({collapseThoughtList:!1})})),$G(this,"_showCreateThoughtErrorModal",(e=>{const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not save thought. Please try again later."),n=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Cannot create a new thought for this security.  Security is currently unavailable."),r={contentComponent:e.thoughtsWithErrors&&"Can't create a thought for an un-featured security."===e.thoughtsWithErrors[0].error?n:t,dismissable:!0};this.props.actions.showModal(r)})),$G(this,"_returnThoughtContextEventName",(()=>this._shouldShowAsThoughtsInIdea()?yS("SECURITY_PANEL_IDEA_TAB"):yS("SECURITY_PANEL_PRO_CON_TAB"))),$G(this,"_returnContext",(()=>this.props.viewingContext||this._returnThoughtContextEventName())),$G(this,"_logThoughtTabClick",(e=>{const t={Tab:e,Context:"Thoughts List"};this.props.actions.logMetricsTrackingEvent("Clicked Thoughts Tab",t)})),$G(this,"_logItlyTabClick",(e=>{const{elementPosition:t}=this.context,n={context:location.pathname,position:t||_t.node_location.body,platform:_t.platform.web,description:e,url:window.location.pathname,url_query:window.location.search};pl.generic.TAB_VIEWED.send(n)})),$G(this,"_logThoughtCreate",((e,t)=>{const n={"Stock Symbol":t.symbol,"Security ID":t.security_id,"Thought Type":e.thought_type.name,Context:this._returnContext()};th.thoughts.ADD_THOUGHT.send(n)})),$G(this,"_logCreateThoughtClick",(e=>{const t={"Security ID":this._returnSecurityId(),Context:this._returnThoughtContextEventName(),"Concernable Type":this._shouldShowAsThoughtsInIdea()?"Idea":"Security","Concernable Id":this._shouldShowAsThoughtsInIdea()?this.props.idea.idea_id:this._returnSecurityId(),"Context Idea User":this.props.user?this.props.user.analytics_id:null,"Is Reply":"N/A","Thought Type":ck(e)};this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",t)})),this.state={collapseThoughtList:window.innerWidth<800,creatingThought:!1,creatingThoughtType:null}}componentDidMount(){window.addEventListener("resize",this._handleResize),this.props.fetchThoughtData&&this._fetchThoughtData();const e=fe(this.props.location.search);"true"===e.creatingThought&&this.setState((()=>({creatingThought:!0,creatingThoughtType:e.creatingThoughtType||"pro"})))}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){return this._isLoading()?c.createElement("div",{className:"react-thoughts-container clearfix"},c.createElement(Dw,{pageName:Kc,flatStyle:this.props.flatLoadingStyle})):this._areNoThoughtsForSecurity()?c.createElement("div",null,c.createElement(FG,{security:this.props.security,idea:this.props.idea,handleCreateThought:this.handleCreateThought,handleCancelCreatingThought:this.handleCancelCreatingThought,userIsCurrentUser:this.props.userId===this.props.currentUser.user_id,isUserAuthed:this._isUserAuthed(),showAsThoughtsInIdea:this._shouldShowAsThoughtsInIdea()})):c.createElement("div",null,this._shouldRenderThoughtListAsSingleColumn()?this._renderOneColLayout():this._renderTwoColLayout())}}HG.contextType=ml;const WG=N(_c,T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(HG);var jG=Object.defineProperty,GG=(e,t,n)=>(((e,t,n)=>{t in e?jG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class qG extends c.Component{constructor(){super(...arguments),GG(this,"_renderArrowIcons",(()=>{const{prefixArrowIcons:e,arrowIconStyleTop:t,arrowIconStyleBot:n}=this.props,r=e?{position:"relative"}:{};return c.createElement(c.Fragment,null,c.createElement("div",{className:"dropdown-input-icons",style:r},c.createElement(xc,{size:"small",icon:"fa-sort-asc",colorClassName:" ",style:t||{}})),c.createElement("div",{className:"dropdown-input-icons",style:r},c.createElement(xc,{size:"small",icon:"fa-sort-desc",colorClassName:" ",style:n||{}})))})),GG(this,"_renderLabel",(()=>this._shouldShowLabel()&&c.createElement("label",{className:"form-label"},this._returnLabel()))),GG(this,"_renderDropdown",(()=>c.createElement("select",{name:this._returnName(),value:this._returnValue(),className:`\n          ${this._returnLabel()===this._returnValue()||""===this._returnValue()?"secondary-text-color":""}\n          ${this.props.errorMessage?"error-text-color":""}\n          ${this.props.errorMessage?"error-border-color":""}\n        `,onChange:this._handleDropdownSelection},this._returnOptionValues().map(((e,t)=>this._renderOption(e,t)))))),GG(this,"_renderOption",((e,t)=>c.createElement("option",{value:e,key:`${this._returnName()}-${e}-${t}`,className:`\n          option-${this._returnName()}-${e}\n          ${this._returnLabel()===e?"secondary-text-color":" -override"}\n        `,disabled:this._isDisabled(e)},e))),GG(this,"_renderErrorMessage",(()=>{const e=!!this.props.errorMessage?this.props.errorMessage:"";return c.createElement("p",{className:"text-field-error-message"},e)})),GG(this,"_returnOptionValues",(()=>{const e=this.props.options,t=this._returnLabel(),n=this.props.defaultValue,r=!!n,i=this._returnValue();return null===i||""===i||""===i||i===n||e.includes(i)||console.error("Option value is not listed in options"),this._shouldIncludeLabelAsSelection()?[t,...e]:r&&(null===i||""===i||i===n)?[n,...e]:e})),GG(this,"_returnName",(()=>this.props.name||"")),GG(this,"_shouldIncludeLabelAsSelection",(()=>this.props.includeLabelAsSelection)),GG(this,"_returnLabel",(()=>this.props.label)),GG(this,"_shouldShowLabel",(()=>{if(nk(this._returnLabel()))return!1;const e=this._returnValue();return this.props.forceShowLabel||this._returnLabel()!==e&&""!==e})),GG(this,"_returnValue",(()=>this.props.value)),GG(this,"_returnClassName",(()=>this.props.className||"")),GG(this,"_isDisabled",(e=>!1)),GG(this,"_handleDropdownSelection",(e=>{let t=e.target.value;t===this._returnLabel()&&(t=""),this.props.handleSelection(this._returnName(),t)}))}render(){const{prefixArrowIcons:e,showArrowIcons:t,errorMessage:n}=this.props;return c.createElement("fieldset",{className:`\n          standalone-dropdown-container\n          ${this._returnName()}\n          ${this._returnClassName()}\n          ${this._returnLabel()===this._returnValue()||""===this._returnValue()?"label-is-value":""}\n        `},this._renderLabel(),e&&t&&this._renderArrowIcons(),this._renderDropdown(),!e&&t&&this._renderArrowIcons(),n&&c.createElement("p",{className:"dropdown-error-message error-text-color"},n||""))}}qG.defaultProps={arrowIconStyleTop:{},arrowIconStyleBot:{}};var YG=Object.defineProperty,KG=(e,t,n)=>(((e,t,n)=>{t in e?YG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class QG extends c.Component{constructor(){super(...arguments),KG(this,"_renderLabel",(()=>this._shouldShowLabel()&&c.createElement("label",{className:"form-label"},this._returnLabel()))),KG(this,"_renderDropdown",(()=>c.createElement("select",{name:this._returnName(),value:this._returnValue().name,onChange:this._handleDropdownSelection},this._returnOptionValues().map(((e,t)=>this._renderOption(e,t)))))),KG(this,"_renderOption",((e,t)=>c.createElement("option",{value:e.name,key:`${this._returnName()}-${e.name}-${t}`,className:`option-${this._returnName()}-${e.name}`,disabled:this._isDisabled(e)},this._returnOptionText(e)))),KG(this,"_returnOptionText",(e=>{const t=e.displayName;if(this._isDisabled(e)){let n=`${t} - Disabled`;return e.disabledReason&&(n=`${t} - ${e.disabledReason()}`),n}return t})),KG(this,"_renderErrorMessage",(()=>{const e=!!this.props.errorMessage?this.props.errorMessage:"";return c.createElement("p",{className:"text-field-error-message"},e)})),KG(this,"_returnOptionValues",(()=>{this._returnOptionValuesFromProps();const e=this._returnOptionValuesFromProps();return this._shouldIncludeLabelAsSelection()?[this._returnLabelValue(),...e]:e})),KG(this,"_returnLabelValue",(()=>({id:null,name:this._returnLabel(),displayName:this._returnLabel(),isEnabled:()=>!0,disabledReason:()=>null}))),KG(this,"_returnOptionValuesFromProps",(()=>this.props.options)),KG(this,"_returnName",(()=>this.props.name||"")),KG(this,"_shouldIncludeLabelAsSelection",(()=>this.props.includeLabelAsSelection)),KG(this,"_returnLabel",(()=>this.props.label)),KG(this,"_shouldShowLabel",(()=>!nk(this._returnLabel())&&(this.props.forceShowLabel||this._returnLabel()!==this._returnValue()))),KG(this,"_returnValue",(()=>this.props.value)),KG(this,"_convertSelectionValueToValue",(e=>this._returnOptionValues().filter((t=>(t.name?t.name.toString():null)===e))[0])),KG(this,"_returnClassName",(()=>this.props.className||"")),KG(this,"_isDisabled",(e=>(!e||"isEnabled"in e)&&!e.isEnabled())),KG(this,"_handleDropdownSelection",(e=>{const t=e.target.value,n=this._convertSelectionValueToValue(t);if(this._isDisabled(n))return!1;this.props.handleSelection(this._returnName(),n),this._handleAdditionalActions(n)})),KG(this,"_handleAdditionalActions",(e=>{this.props.handleAdditionalActions&&this.props.handleAdditionalActions(e,this._returnName())}))}render(){return c.createElement("fieldset",{className:`standalone-dropdown-container ${this._returnName()} ${this._returnClassName()}`},this._renderLabel(),this._renderDropdown(),this.props.showArrowIcons&&c.createElement(c.Fragment,null,c.createElement("div",{className:"dropdown-input-icons"},c.createElement(xc,{size:"small",icon:"fa-sort-asc",colorClassName:" ",style:this.props.arrowIconStyleTop||{}})),c.createElement("div",{className:"dropdown-input-icons"},c.createElement(xc,{size:"small",icon:"fa-sort-desc",colorClassName:" ",style:this.props.arrowIconStyleBot||{}}))))}}var ZG=Object.defineProperty,XG=(e,t,n)=>(((e,t,n)=>{t in e?ZG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const JG=u.fieldset`
  div.checkbox {
    background-color: transparent;
    border-color: ${({theme:e})=>e.themeColors.text};
  }
  div.checkbox.checked {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
  div.checkbox.checked::before {
    background-color: ${({theme:e})=>e.themeColors.buttonText};
  }
  div.checkbox.checked::after {
    background-color: ${({theme:e})=>e.themeColors.buttonText};
  }
`;class eq extends c.Component{constructor(){super(...arguments),XG(this,"_renderLabel",(()=>this._shouldShowLabel()&&c.createElement("label",{className:"form-label",onClick:this._handleClick},this._returnLabel()))),XG(this,"_renderCheckbox",(()=>c.createElement("div",{className:"checkbox-container"},c.createElement("div",{name:this._returnName(),className:`\n            checkbox\n            ${this._isChecked()?"checked":""}\n          `,onClick:this._handleClick})))),XG(this,"_renderErrorMessage",(()=>{const e=!!this.props.errorMessage?this.props.errorMessage:"";return c.createElement("p",{className:"text-field-error-message"},e)})),XG(this,"_returnName",(()=>this.props.name||"")),XG(this,"_returnLabel",(()=>this.props.label)),XG(this,"_shouldShowLabel",(()=>this.props.forceShowLabel||!nk(this._returnLabel()))),XG(this,"_isChecked",(()=>this._isDisabled()&&this.props.useOverrideValueWhenDisabled?this.props.overrideValueWhenDisabledTo:this.props.value)),XG(this,"_returnClassName",(()=>this.props.className||"")),XG(this,"_isDisabled",(e=>this.props.isDisabled)),XG(this,"_handleClick",(()=>{if(this._isDisabled())return!1;this.props.handleClick(this._returnName())}))}render(){return this.props.dontUseFieldset?c.createElement("div",{className:`\n          standalone-checkbox-container\n          ${this._returnName()}\n          ${this._returnClassName()}\n          ${this._isDisabled()?"disabled":""}\n        `},this._renderCheckbox(),this._renderLabel()):c.createElement(JG,{className:`\n          standalone-checkbox-container\n          ${this._returnName()}\n          ${this._returnClassName()}\n          ${this._isDisabled()?"disabled":""}\n        `},this._renderCheckbox(),this._renderLabel())}}var tq=Object.defineProperty,nq=(e,t,n)=>(((e,t,n)=>{t in e?tq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const rq=u.div`
  fieldset {
    padding-top: 16px;

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
  }

  .standalone-checkbox-container label {
    padding: 0px 0 4px 8px;
  }
`,iq=u.div`
  select {
    background-color: transparent;
    -webkit-appearance: auto;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  .dropdown-input-icons {
    display: none;
  }
`,aq={id:0,name:"none",displayName:"All Connections"},sq=aq,oq=[aq,{id:"ctl",name:"ctl",displayName:"Community Thought Leaders"},{id:"viewpoints",name:"viewpoints",displayName:"Viewpoint Contributors"}];class lq extends c.Component{constructor(){super(),nq(this,"renderSortOptionsComponent",(()=>c.createElement("div",{className:"thoughts-sort-options-container"},c.createElement("div",{className:"thoughts-sort-options"},c.createElement(iq,{className:"thoughts-sort-options-position-container"},this._renderSortThoughtsByDropdown(),this.props.showConnectionsThoughtsFilter&&this._doConnectionsHaveThoughtsForSecurity()&&this._renderOnlyShowUserThoughtsFilter(),this.props.showConnectionsThoughtsFilter&&this._doConnectionsHaveThoughtsForSecurity()&&this.props.isUserAuthed&&this._renderIncludeCommunityThoughtsFilter()))))),nq(this,"_renderSortThoughtsByDropdown",(()=>c.createElement("div",{className:"thoughts-sort-filter-option-container"},c.createElement(qG,{name:"thoughts_sort",label:"Order By",value:this._returnCurrentThoughtsSort(),options:this._returnSortOptions(),handleSelection:this._handleDropdownSelection,showArrowIcons:!0})))),nq(this,"_renderIncludeCommunityThoughtsFilter",(()=>c.createElement(rq,{className:"thoughts-sort-filter-option-container filter-thoughts-by-container"},c.createElement(eq,{name:"include_community_thoughts_filter",label:"Include Community",value:this._returnIncludeCommunityThoughtsFilterValue(),handleClick:this._handleCheckboxClick,isDisabled:this._isIncludeCommunityThoughtsFilterDisabled(),overrideValueWhenDisabledTo:!1,useOverrideValueWhenDisabled:!0})))),nq(this,"_renderOnlyShowUserThoughtsFilter",(()=>c.createElement("div",{className:"thoughts-sort-filter-option-container filter-by-connections"},c.createElement(QG,{name:"thoughts_filter_by_user",label:"Show From",value:this._returnCurrentFilterByConnection(),options:this._returnOptionsListForFilterByConnections(),handleSelection:this._handleFilterByConnectionSelection,showArrowIcons:!0})))),nq(this,"_isIncludeCommunityThoughtsFilterDisabled",(()=>this._isThoughtsFromFilterActive())),nq(this,"_returnSortOptions",(()=>["Highest Rated","Most Recent"])),nq(this,"_returnDefaultSortOption",(()=>"Most Recent")),nq(this,"_convertSortOptionDisplayToSortKey",(e=>({"Highest Rated":"currentUserNewThoughtsThenBestAgreeDisagreeDifferential","Most Recent":"mostRecent"}[e]))),nq(this,"_convertFilterNameToLogKey",(e=>({include_community_thoughts_filter:"Include Community Thoughts"}[e]))),nq(this,"returnThoughtsFilters",(()=>{const e=[];return this._returnIncludeCommunityThoughtsFilterValue()||e.push({name:"include_community_thoughts_filter"}),this._isThoughtsFromFilterActive()&&e.push({name:"thoughts_from_filter_user_id",data:{viewpointOrgId:this._returnCurrentFilterByViewpointOrgId(),userId:this._returnCurrentFilterByConnectionUserId(),id:this._returnCurrentFilterByConnectionId()}}),e})),nq(this,"_returnCurrentFilterByConnection",(()=>this.state._filterByConnection)),nq(this,"_returnCurrentFilterByViewpointOrgId",(()=>this._returnCurrentFilterByConnection().viewpointOrgId)),nq(this,"_returnCurrentFilterByConnectionUserId",(()=>this._returnCurrentFilterByConnection().userId)),nq(this,"_returnCurrentFilterByConnectionId",(()=>this._returnCurrentFilterByConnection().id)),nq(this,"_isThoughtsFromFilterActive",(()=>0!==this._returnCurrentFilterByConnectionId())),nq(this,"_returnOptionsListForFilterByConnections",(()=>{const{subscribedViewpointIds:e}=this.props,t=((e,t,n)=>n&&"alphabetically"===n.sort?e.sort(((e,n)=>{if(e.user_id===t)return-1;if(n.user_id===t)return 1;const r=`${e.last_name} ${e.first_name}`,i=`${n.last_name} ${n.first_name}`;return r<i?-1:r>i?1:0})):e)(this._returnCurrentUserAndConnectionsUsersWhoHaveThoughtsForSecurity(),this._returnCurrentUserId(),{sort:"alphabetically"}),n=e.map((e=>this.props.viewpointOrgLookup[e]));return[...oq,...n.map((e=>({viewpointOrgId:e.id,id:e.id,name:e.id,displayName:vP(e),isEnabled:()=>!0,disabledReason:()=>null}))),...t.map((e=>({userId:e.user_id,id:e.user_id,name:e.user_id,displayName:e.user_id===this._returnCurrentUserId()?"Me":np(e),isEnabled:()=>!0,disabledReason:()=>null})))]})),nq(this,"_handleFilterByConnectionSelection",((e,t)=>{this._setFilterConnectionBy(t),this._logFilterConnectionBySelection(t)})),nq(this,"_handleDropdownSelection",((e,t)=>{this._setSortBy(t),this._logSortOptionSelection(t)})),nq(this,"_handleCheckboxClick",(e=>{const t=!this._returnIncludeCommunityThoughtsFilterValue();this._toggleFilterValue(e),this._logFilterClick(e,t)})),nq(this,"_setSortBy",(e=>{this.setState((()=>({_sortBy:e})))})),nq(this,"_setFilterConnectionBy",(e=>{this.setState((()=>({_filterByConnection:e})))})),nq(this,"_toggleFilterValue",(e=>{this.setState((t=>({[e]:!t[e]})))})),nq(this,"_returnUserIdsWhoHaveThoughtsForSecurity",(()=>iu(this._returnThoughtsStore(),this._returnSecurityId()))),nq(this,"_returnCurrentUserAndConnectionsUserIdsWhoHaveThoughtsForSecurity",(()=>this._returnUserIdsWhoHaveThoughtsForSecurity().filter((e=>[this._returnCurrentUserId(),...this._returnCurrentUserConnectionUserIds()].includes(e))))),nq(this,"_returnCurrentUserAndConnectionsUsersWhoHaveThoughtsForSecurity",(()=>{return e=this._returnCurrentUserAndConnectionsUserIdsWhoHaveThoughtsForSecurity(),t=this._returnUsersStore(),n=this._returnCurrentUser(),e.map((e=>{const r=Kh(e,t,n);return r||console.error(`Could not find user - ${e}`),r}));var e,t,n})),nq(this,"_doConnectionsHaveThoughtsForSecurity",(()=>this._returnCurrentUserAndConnectionsUserIdsWhoHaveThoughtsForSecurity().length>0)),nq(this,"returnThoughtsSortByKey",(()=>this._convertSortOptionDisplayToSortKey(this._returnCurrentThoughtsSort()))),nq(this,"_returnCurrentThoughtsSort",(()=>this.state._sortBy||this._returnDefaultSortOption())),nq(this,"_returnConnectionsThoughtFilterDefaultValue",(()=>!0)),nq(this,"_returnIncludeCommunityThoughtsFilterValue",(()=>this.state.include_community_thoughts_filter)),nq(this,"_returnSecurity",(()=>this.props.security)),nq(this,"_returnSecurityId",(()=>this._returnSecurity().security_id)),nq(this,"_returnCurrentUserConnectionUsers",(()=>Xp(this._returnCurrentUserId(),this._returnUserConnectionStore(),this._returnUsersStore()))),nq(this,"_returnCurrentUserConnectionUserIds",(()=>this._returnCurrentUserConnectionUsers().map((e=>e.user_id)))),nq(this,"_returnThoughtsStore",(e=>(e||this.props).thoughts)),nq(this,"_returnUsersStore",(e=>(e||this.props).users)),nq(this,"_returnUserConnectionStore",(e=>(e||this.props).userConnections)),nq(this,"_returnCurrentUser",(()=>this.props.currentUser)),nq(this,"_returnCurrentUserId",(()=>yp(this.props.currentUser))),nq(this,"_logSortOptionSelection",(e=>{const t=o({Sort:e},this.props.viewingContext?{Context:this.props.viewingContext}:{});ly("Changed Pro/Con Sort",t)()})),nq(this,"_logFilterConnectionBySelection",((e={})=>{const{viewpointOrgId:t,user_id:n,id:r}=e,i=o({"Viewpoint Org ID":t,"User ID":n||"ctl"===r?"CTL":"none"},this.props.viewingContext?{Context:this.props.viewingContext}:{});ly("Changed Connection Thoughts Filter",i)()})),nq(this,"_logFilterClick",((e,t)=>{const n=o({Name:this._convertFilterNameToLogKey(e),Value:t},this.props.viewingContext?{Context:this.props.viewingContext}:{});ly("Toggled Thoughts Filter",n)()})),this.state={_sortBy:null,_filterByConnection:sq,include_community_thoughts_filter:this._returnConnectionsThoughtFilterDefaultValue()}}render(){return c.createElement("div",{className:"security-card-thoughts-panel-container"},c.createElement(uB,o({security:this._returnSecurity(),sortBy:this.returnThoughtsSortByKey(),sortOptionsComponent:this.renderSortOptionsComponent(),filterBy:this.returnThoughtsFilters(),flatLoadingStyle:this.props.flatLoadingStyle,getThoughtData:!0},this.props.ThoughtsDataContainerProps||{}),c.createElement(WG,{scrollContainerSelector:this.props.scrollContainerSelector,distanceFromBottomToTriggerInfiniteScroll:this.props.distanceFromBottomToTriggerInfiniteScroll,thoughtDisplayContext:"thoughtList",useInfiniteScroll:this.props.useInfiniteScroll})))}}var cq=T((e=>({currentUser:e.currentUser,users:e.users,userConnections:e.userConnections,thoughts:e.thoughts,subscribedViewpointIds:OP(e),viewpointOrgLookup:TP(e)})),(e=>({actions:I(WC,e)})))(lq),dq=Object.defineProperty,uq=(e,t,n)=>(((e,t,n)=>{t in e?dq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const hq=u.div`
  .rating-circle {
    border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};

    &.rating-filled-hover {
      //opacity: 0.8;
    }
    &.rating-filled-hover,
    &.rating-filled {
      background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`;class pq extends C.exports.Component{constructor(e){super(e),uq(this,"shouldBeFilled",((e,t)=>e<=$S({name:t.name}))),uq(this,"shouldBeFilledHover",((e,t)=>e<=t)),uq(this,"mouseOverRating",(e=>this.handleMouseOver.bind(this,e))),uq(this,"handleMouseOver",(e=>{this.setState((()=>({hovering:e})))})),uq(this,"handleMouseOut",(()=>{this.setState((()=>({hovering:null})))})),uq(this,"setupRatingClick",(e=>{const t=this.props.name;return this.props.handleRatingClick.bind(this,t,e)})),uq(this,"handleRatingClick",(e=>{const t=this.props.name;return()=>{if(this.props.handleRatingClick(t,e),this.props.saveOnChange){const n={[`${this.props.objectType}_id`]:this.props.getObjectId(this.props.objectType),[t]:o({},$S({id:e}))};this.props.saveOnChange(n)}$(".idea-value").blur()}})),uq(this,"renderRatings",(e=>{const t=this.props.name,n=this.props.getValue(t),r=[];for(let i=0;i<e;i++)r.push(i);return r.map(((e,r)=>c.createElement(hq,{key:`rating-${t}-${r}`,name:t,className:"rating-circle-container",onClick:this.handleRatingClick(r),onMouseOver:this.mouseOverRating(r),onMouseOut:this.handleMouseOut},c.createElement("div",{className:`rating-circle\n            ${this.shouldBeFilled(r,n)&&null===this.state.hovering?"rating-filled":""}\n            ${this.shouldBeFilledHover(r,this.state.hovering)?"rating-filled-hover":""}`}))))})),uq(this,"renderRatingToDescriptionText",(()=>{const e=this.props.name,t=null!==this.state.hovering?$S({id:this.state.hovering}):this.props.getValue(e);return tg(t,e)})),this.state={hovering:null}}render(){return this.props.name,c.createElement("div",{className:"rating-container "+(null!==this.state.hovering?"hovering":""),onMouseOut:this.handleMouseOut},this.renderRatings(this.props.maxRating),c.createElement("div",{className:"ratings-conversion secondary-text-color"},this.renderRatingToDescriptionText()))}}var mq=Object.defineProperty,gq=(e,t,n)=>(((e,t,n)=>{t in e?mq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class yq extends C.exports.Component{constructor(e){super(e),gq(this,"shouldHandleBlur",(()=>!!{conviction:!0,horizon:!0,active:!0}[this.props.field.property])),gq(this,"handleBlur",((e,t,n)=>{(this.shouldHandleBlur()||n)&&this.setState((e=>({userEditting:!1})))})),gq(this,"handleFocus",(()=>{this.setState((e=>({userEditting:!0})))})),gq(this,"handleEditClick",(()=>{this.setState((e=>({userEditting:!0})))})),gq(this,"convert_toHyphen",(e=>e.split("_").join("-"))),gq(this,"_returnTooltipKey",(e=>"expected_return"===e?"tooltip_expected_return_idea_panel":`tooltip_${e}`)),gq(this,"renderInfoIcon",((e,t,n)=>{const r={price_target:e>550?{top:"3px"}:{top:"0px"},expected_return:e>550?{top:"3px"}:{top:"0px"},conviction:e>550?{top:"-1px"}:{top:"0px"},expected_dividend:e>550?{top:"-1px"}:{top:"0px"},thesis:e>550?{top:"-1px"}:{top:"0px"},horizon:e>550?{top:"-1px"}:{top:"0px"}};return c.createElement(iS,{word:this._returnTooltipKey(t),symbol:(n||{}).symbol,style:r[t]||{},position:this.determineInfoIconPosition(t)})})),gq(this,"renderSubValue",((e,t)=>{if((e||0===e)&&this.props.security.featured)return c.createElement("div",{className:`idea-sub-value ${t}`},tg(e,t))})),gq(this,"renderSubAction",(e=>{if(e&&this.props.security.featured)return c.createElement("div",{className:"sub-action-button"},e)})),gq(this,"determineInfoIconPosition",(e=>({expected_dividend:!0,thesis:!0,horizon:!0}[e]?"right":"default"))),gq(this,"renderValue",((e,t)=>{if(this.props.editable){if("conviction"===e)return c.createElement("div",{className:"idea-value editable-input input-bg editting",onBlur:this.handleBlur,onFocus:this.handleFocus,tabIndex:"0"},Rh(this.props.input,this.props.inputProps,this.props.input.name),c.createElement(aS,{icon:"fa-pencil",size:"x-small",customClass:"editable-input-button",colorClassName:" ",handleClick:this.handleEditClick}));{const n=0===this.props.idea.idea_type.id?"buy-text-color":"sell-text-color";return c.createElement("div",{className:"idea-value "+(this.props.editable?"editable-input input-bg":""),onBlur:this.handleBlur,onFocus:this.handleFocus,tabIndex:"0"},c.createElement("span",{className:"idea_type"===e?n:"input-text-color"},tg(t[e],e)),c.createElement(aS,{icon:"fa-pencil",size:"x-small",customClass:"editable-input-button",handleClick:this.handleEditClick}))}}return"conviction"===e?c.createElement("div",{className:"idea-value"},c.createElement(o$,{name:"conviction",label:"",value:t[e],maxRating:5})):c.createElement("div",{className:"idea-value"},tg(t[e],e))})),gq(this,"renderValueInput",(e=>{const t={};return"thesis"!==e&&"idea_type"!==e&&"price_target"!==e&&"expected_return"!==e&&"expected_dividend"!==e||(t.additionalBlurAction=()=>{this.handleBlur(null,null,!0)}),"price_target"!==e&&"expected_return"!==e&&"expected_dividend"!==e||(t.inputWarningProps={idea:this.props.idea,security:this.props.security,userAddingPriceTarget:"price_target"===this.props.field.property&&this.props.userAddingPriceTarget}),c.createElement("div",{className:"idea-value editable-input input-bg editting",onBlur:this.handleBlur,onFocus:this.handleFocus,tabIndex:"0"},Rh(this.props.input,o(o({},this.props.inputProps),t),this.props.input.name))})),gq(this,"returnDismissWarningFunc",(e=>()=>{this.props.dismissWarning(e)})),gq(this,"renderWarning",(e=>{const t=this.props.warnings[e];return t?c.createElement("div",{className:"generic-input-warning-container"},c.createElement("div",{className:"generic-input-warning-arrow"}),c.createElement("div",{className:"generic-input-warning-content"},"Warning: "+t),c.createElement("div",{className:"generic-input-warning-dismiss-container"},c.createElement(hx,{id:"input-warning-dismiss-button",transparent:!0,onClick:this.returnDismissWarningFunc(e)},"Dismiss"))):null})),this.state={userEditting:"price_target"===e.field.property&&e.userAddingPriceTarget}}render(){const{screenWidth:e,security:t,idea:n}=this.props,{property:r,subValueProperty:i,subValue:a,subAction:s,showSubAction:o}=this.props.field,l=Qv(r),d=this.state.userEditting;return"idea_type"===r?c.createElement("div",{className:`idea-field ${this.convert_toHyphen(r)}`},d?this.renderValueInput(r):this.renderValue(r,n)):c.createElement("div",{className:`idea-field ${this.convert_toHyphen(r)}`},c.createElement("div",{className:"idea-label"},c.createElement("span",{className:"secondary-text-color"},l),this.renderInfoIcon(e,r,t)),d?this.renderValueInput(r):this.renderValue(r,n),this.renderSubValue(a,i),o&&this.renderSubAction(s),this.renderWarning(r))}}var _q=Object.defineProperty,fq=(e,t,n)=>(((e,t,n)=>{t in e?_q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class vq extends C.exports.Component{constructor(){super(...arguments),fq(this,"renderIdeaField",((e,t)=>c.createElement(yq,{key:e,field:t,input:this.findInput(t,this.props.inputs),inputProps:this.props.inputProps,screenWidth:this.props.screenWidth,idea:this.props.idea,security:this.props.security,editable:this.props.ideaIsCurrentUsersIdea&&this.props.security.featured,userAddingPriceTarget:this.props.userAddingPriceTarget,warnings:this.props.warnings,dismissWarning:this.props.dismissWarning}))),fq(this,"findInput",((e,t)=>{if(!t)return null;let n=null;return t.forEach((t=>{t.name===e.property&&(n=t)})),n})),fq(this,"handleAddPriceTarget",(()=>{this.props.handleAddPriceTarget()})),fq(this,"handleRemovePriceTarget",(()=>{this.props.handleRemovePriceTarget(this.props.idea.idea_id)})),fq(this,"showIdeaIsNotActiveMessage",(()=>!(this.props.idea.active||this.props.currentUsersIdea&&this.props.idea.idea_id===this.props.currentUsersIdea.idea_id)))}render(){const{formData:e,idea:t,security:n,screenWidth:r,ideaIsCurrentUsersIdea:i,userAddingPriceTarget:a,currentPrice:s}=this.props,o=zS(t)||i&&a,l=HS({ideaUsingPriceTarget:o,idea:t,security:n,formData:e,currentPrice:s}),d=[{property:o?"price_target":"expected_return",subValueProperty:o?"expected_return":null,subValue:(o||e.price_target)&&e.price_target?l:null,showSubAction:i,subAction:o?c.createElement("div",{style:{paddingBottom:"5px"}},c.createElement(sx,{onClick:this.handleRemovePriceTarget},"Remove price target")):c.createElement("div",{style:{paddingTop:"10px",paddingBottom:"5px"}},c.createElement(sx,{onClick:this.handleAddPriceTarget},"Have a price target?"))},{property:"conviction"}];return c.createElement("div",{className:"idea-content"},this.showIdeaIsNotActiveMessage()&&c.createElement("div",{className:"inactive-idea-alert-container"},c.createElement(xc,{icon:"fa-exclamation-circle",color:"#eecc06",size:"fa-icon-small",style:{marginRight:"8px"}}),c.createElement("span",{style:{textAlign:"left"}},`${rp(this.props.user)} is no longer considering this security for their portfolio.`)),c.createElement("div",{className:"heading-idea-panel"},c.createElement("div",{className:"idea-security-identificator secondary-text-color"},`${n.symbol} (${n.name})`),c.createElement("div",{className:"idea-type-field"},[{property:"idea_type"}].map(((e,t)=>this.renderIdeaField(`field-${e.property}`,e))))),c.createElement("div",{className:"left-idea-panel"},d.map(((e,t)=>this.renderIdeaField(`field-${e.property}`,e)))),c.createElement("div",{className:"right-idea-panel"},[{property:"expected_dividend"},{property:"thesis"},{property:"horizon"}].map(((e,t)=>this.renderIdeaField(`field-${e.property}`,e)))),c.createElement("div",{className:"user-thoughts-container"},c.createElement(cq,{security:this.props.security,viewingContext:"Idea Panel Thoughts List",ThoughtsDataContainerProps:{userId:this.props.idea.user_id,idea:this.props.idea,lockSingleColumnLayout:!0,showAsThoughtsInIdea:!0},scrollContainerSelector:".idea-show-container",distanceFromBottomToTriggerInfiniteScroll:450,useInfiniteScroll:!0,flatLoadingStyle:!0,isUserAuthed:!0})))}}const Eq=e=>{const{idea:t,security:n,user:r,screenWidth:i,isCurrentUsersIdea:a,currentPrice:s}=e,o=zS(t),l=HS({idea:t,security:n,currentPrice:s}),d=o?t.price_target:l;return c.createElement("div",{className:"diff-idea-content"},c.createElement("div",{className:"diff-heading"},a?`Current ${My("noun")}`:`${ep(r)} ${My("noun")}`),c.createElement("div",{className:"price-target"},c.createElement("div",{className:"idea-label"},o?"Price Target":"Expected Return",c.createElement(iS,{word:"tooltip_"+(o?"price_target":"expected_return"),symbol:(n||{}).symbol,style:{top:"0px"}})),c.createElement("div",{className:"idea-value"},tg(d,o?"price_target":"expected_return")),o&&c.createElement("div",{className:"idea-sub-value",style:o?{paddingBottom:"5px"}:{}},tg(l,"expected_return")),!o&&c.createElement("div",{className:"idea-sub-value",style:o?{paddingBottom:"5px"}:{}}," ")),c.createElement("div",{className:"conviction"},c.createElement("div",{className:"idea-label"},"Conviction",c.createElement(iS,{word:"tooltip_conviction",symbol:(n||{}).symbol,position:i<=750?"right":"default",style:{top:"0px"}})),c.createElement("div",{className:"idea-value"},t.conviction.name)),c.createElement("div",{className:"expected-dividend"},c.createElement("div",{className:"idea-label"},"Expected Dividend",c.createElement(iS,{word:"tooltip_expected_dividend",symbol:(n||{}).symbol,style:{top:"0px"}})),c.createElement("div",{className:"idea-value"},tg(t.expected_dividend,"expected_dividend"))),c.createElement("div",{className:"thesis"},c.createElement("div",{className:"idea-label"},"Thesis",c.createElement(iS,{word:"tooltip_thesis",symbol:(n||{}).symbol,position:i<=750?"right":"default",style:{top:"0px"}})),c.createElement("div",{className:"idea-value"},c.createElement("span",{className:"info-icon-text-wrapper"},t.thesis?t.thesis.name:"None",t.thesis&&c.createElement(iS,{word:`tooltip_thesis_${t.thesis.name.toLowerCase()}`,symbol:(n||{}).symbol,position:i<=750?"right":"default",style:{top:"1px"}})))),c.createElement("div",{className:"horizon"},c.createElement("div",{className:"idea-label"},"Horizon",c.createElement(iS,{word:"tooltip_horizon",symbol:(n||{}).symbol,position:i<=750?"right":"default",style:{top:"0px"}})),c.createElement("div",{className:"idea-value"},t.horizon.name)))},bq=e=>{const t=e.value;e.style;return c.createElement(xc,{icon:t>=0?"fa-sort-asc":"fa-sort-desc",color:t>=0?"#3db735":"#ff7666",style:o({fontSize:"24px"},t>0?{padding:"9px 3px 0 0",verticalAlign:"top"}:{padding:"0px 3px 0px 0px",verticalAlign:"top"})})},Cq=e=>{const{idea:t,security:n}=e;n.current_price,t.idea_type.idea_type_id;const r={thisMonth:t.this_month_perf,prevMonth:t.prev_month_perf},i=n.analyst_2yr_growth_projection,a=n.forward_pe_ratio_next_year,s=t.admin_created_date;return c.createElement("div",{className:"idea-content thought-leader-idea"},c.createElement("div",{className:"left-idea-panel"},c.createElement("div",{className:"idea-performance-container"},c.createElement("p",{className:"secondary-heading-text-color"},"Performance"),c.createElement("div",{className:"sub-label secondary-text-color"},"This Month"),c.createElement("div",{className:"value"},c.createElement(bq,{value:r.thisMonth}),tg(Math.abs(r.thisMonth),"percentage")),c.createElement("div",{className:"sub-label secondary-text-color"},"Previous Month"),c.createElement("div",{className:"value"},c.createElement(bq,{value:r.prevMonth}),tg(Math.abs(r.prevMonth),"percentage")))),c.createElement("div",{className:"right-idea-panel"},c.createElement("div",{className:"projected-revenue-growth-container"},c.createElement("div",{className:"idea-label"},c.createElement("span",{className:"secondary-text-color"},"Projected Revenue Growth"),c.createElement(iS,{word:"tooltip_projected_revenue_growth",style:{marginTop:"1px"},position:"right"})),c.createElement("div",{className:"idea-value"},tg(i,"analyst_2yr_growth_projection"))),c.createElement("div",{className:"forward-pe-container"},c.createElement("div",{className:"idea-label"},c.createElement("span",{className:"secondary-text-color"},"Forward P/E"),c.createElement(iS,{word:"tooltip_forward_pe_ratio_next_year",position:"right",style:{marginTop:"1px"}})),c.createElement("div",{className:"idea-value"},tg(a,"forward_pe_ratio_next_year"))),c.createElement("div",{className:"owned-as-of-container"},c.createElement("div",{className:"idea-label"},c.createElement("span",{className:"secondary-text-color"},"Owned As Of")),c.createElement("div",{className:"idea-value"},tg(s,"owned_as_of")))))},xq=e=>{const{decimalPlaces:t,showZeroWithNoDecimal:n,groupValuesUnder:r,rawValue:i}=e;$k(i)||Bk(i)||console.error("DisplayPercentageComponent requires rawValue to be an integer or float, received "+typeof i);const a=(e=>{const i=Math.abs(e);return 0===i&&n?"0":void 0!==r&&i<r?"< "+(e<0?-1:1)*r:void 0!==t?hk(e,{minimumFractionDigits:t,maximumFractionDigits:t}):e})(i);return c.createElement("span",{className:"percentage-display"},`${a}%`)},wq=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.text};
  }
`,Sq=u.div`
  button {
    padding: 8px 12px;
  }
`,kq=u.div`
  button {
    padding: 8px 12px;
  }
`,Tq=e=>{const{currentUser:t,security:n,users:r,idea:i,ideaUserId:a,userHasIdea:s,ideaIsCurrentUsersIdea:o,thoughtLeaderIdea:l,toggleActiveInput:d,showOverwriteIdeaHeading:u,createPromptForIdeaOverwrite:h,handleIdeaOverwrite:p,handleIdeaOverwriteCancel:m,handleSeeMorePositions:g,saveIdea:y,saveTLIdea:_,removeIdea:f,handleExitPosition:v,handleKeepPosition:E,screenWidth:b}=e,C=Kh(a,r,t),x=a===t.user_id?"Me":np(C),w=e.idea.source_user_id>0&&Kh(e.idea.source_user_id,r,t),S=w&&np(Kh(e.idea.source_user_id,r,t),{showThoughtLeaderCompany:!0}),k=null!==e.allocation&&void 0!==e.allocation?e.allocation:null,T=n.featured,I=()=>{const t=e.security,n=e.idea.active?"Toggled Idea Inactive":"Toggled Idea Active",r={"Stock Symbol":t.symbol,"Security ID":t.security_id,Context:"Idea Panel"};TC(n,r)()},N=()=>c.createElement("div",{className:"idea-user-info-container"},c.createElement("div",{className:"idea-view-profile-avatar "+(b>500?"inline-user-container":"stacked-user-container")},c.createElement(gP,{userId:a},c.createElement(VP,{size:b>625?"large":"medium",profileLinkQuery:`?context=${Qg}`})),c.createElement("div",{className:`idea-user-data-container ${b>500&&"inline"}`},c.createElement(wq,{className:"idea-owner-name   ignore-link-styling"},c.createElement(A,{to:`/users/${a}/public_profile`},x)),w&&e.idea.source_user_id!==a&&c.createElement("div",{className:"idea-source-user secondary-text-color"},"Sourced from ",c.createElement(A,{to:`/users/${e.idea.source_user_id}/public_profile`},`${S}`)),null!==k?c.createElement("div",{className:"user-allocation"},c.createElement(xq,{rawValue:k,decimalPlaces:2,groupValuesUnder:.1,showZeroWithNoDecimal:!0}),c.createElement("span",null," of Portfolio")):c.createElement("div",{className:"user-allocation"},`No position in ${n.symbol}`)))),P=()=>c.createElement("div",{className:"idea-show-heading"},c.createElement("div",{className:"view-idea-user-container"},(()=>{const e=Kh(a,r,t);return c.createElement("div",{className:"idea-user-info-container"},c.createElement("div",{className:"idea-view-profile-avatar idea-view-profile-avatar-tl"},c.createElement(wq,{className:"idea-view-profile-tl-name  "},c.createElement("a",{href:`/users/${e.user_id}`},ip(e))),c.createElement("div",{className:"idea-view-profile-tl-company  "},ap(e))))})()),c.createElement("span",{className:"idea-action-buttons-container thought-leaders"},T&&c.createElement("div",{className:"idea-save-container"},c.createElement(hx,{width:120,onClick:_},"Save")))),D=()=>c.createElement("div",{className:"idea-show-heading"},c.createElement("div",{className:"view-idea-user-container"},N()),c.createElement("span",{className:"idea-action-buttons-container current-users-idea"},T&&c.createElement("div",{className:"idea-active-toggle-button-container",onClick:I},Rh(d.input,d.defaultProps,d.input)),c.createElement("div",{className:"wrapper"},c.createElement(aS,{size:"medium",handleClick:f,icon:"fa-trash-o",colorClassName:"secondary-text-color",customClass:"idea-remove-btn"}),e.showDeleteOptions&&c.createElement(pj,{symbol:n.symbol,handleExitPosition:v,handleKeepPosition:E}))));return c.createElement("div",{className:"idea-show-heading-container"},u?c.createElement("div",{className:"idea-show-heading overwrite"},c.createElement("div",{className:"overwrite-idea-heading-message"},My("replace")),c.createElement(kq,{className:"overwrite-idea-action-btns"},c.createElement(hx,{width:95,handleClick:p},"Overwrite"),c.createElement(hx,{width:95,handleClick:m},"Cancel"))):o?D():l?P():c.createElement("div",{className:"idea-show-heading"},c.createElement("div",{className:"view-idea-user-container"},N()),T&&c.createElement("span",{className:"idea-action-buttons-container"},null,c.createElement(Sq,{className:"idea-save-container"},c.createElement(hx,{width:115,onClick:s?h:y},My("add"))))),c.createElement("div",{className:"idea-heading-hr border-accent"}))};var Iq=Object.defineProperty,Nq=(e,t,n)=>(((e,t,n)=>{t in e?Iq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Aq extends C.exports.Component{constructor(e){super(e),Nq(this,"updateFormData",(e=>{const t={};["active","conviction","horizon","thesis","idea_type","price_target","expected_return","expected_dividend"].forEach((n=>{t[n]="price_target"===n?Vk(e[n]):e[n]})),this.setState((e=>({formData:t,loadingFormData:!1})))})),Nq(this,"handleSeeMorePositions",(()=>{const e={Context:"Thought Leader Idea Panel","Thought Leader ID":this.props.ideaOwner.analytics_id};TC("Clicked See More Positions",e)(),window.location=`/users/${this.props.idea.user_id}/public_profile`})),Nq(this,"saveIdea",(e=>{const t=this.props.security,n={"Idea Id":this.props.idea.idea_id,"Stock Symbol":t.symbol,"Security ID":t.security_id,Context:"Idea Panel","Owner User ID":this.props.ideaOwner.analytics_id};TC("Clicked Add Idea",n)();const r=e||this.props.idea;return this.props.handleSaveIdea(r)})),Nq(this,"saveTLIdea",(()=>{const e=this.props.security,t={"Idea Id":this.props.idea.idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Thought Leader Idea Panel","Thought Leader ID":this.props.ideaOwner.analytics_id};return TC("Clicked Add Idea",t)(),this.handleIdeaOverwrite()})),Nq(this,"_showDeleteOptions",(()=>{this.setState((()=>({showDeleteOptions:!0})))})),Nq(this,"_dismissDeleteOptions",(()=>{this.setState((()=>({showDeleteOptions:!1})))})),Nq(this,"handleKeepPosition",(()=>{this._dismissDeleteOptions()})),Nq(this,"_handleExitPosition",(()=>{WS.call(this)})),Nq(this,"removeIdea",(()=>{const e=this.props.currentUser.positions,t=this.props.security,n=t.security_id,r=n in e&&e[n].shares&&0!==e[n].shares,i={"Idea Id":this.props.idea.idea_id,"Stock Symbol":t.symbol,"Security ID":t.security_id,"Has Position":r,Context:"Idea Panel"};return TC("Clicked Delete Idea",i)(),r?this._showDeleteOptions():this.props.removeIdea(this.props.idea)})),Nq(this,"handleIdeaOverwrite",(()=>{const e=this.props.idea,t=this.props.security,n={"Idea Id":e.idea_id,"Stock Symbol":t.symbol,"Security ID":t.security_id,Context:"Idea Panel"};return TC("Clicked Overwrite Idea",n)(),this.clearPromptForIdeaOverwrite(),this.props.startUserUpdatingIdea(),this.saveIdea(e)})),Nq(this,"handleIdeaOverwriteCancel",(()=>{const e=this.props.security,t={"Idea Id":this.props.idea.idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id};TC("Cancel Overwrite Idea",t)(),this.clearPromptForIdeaOverwrite()})),Nq(this,"createPromptForIdeaOverwrite",(()=>{const e=this.props.security,t={"Idea Id":this.props.idea.idea_id,"Stock Symbol":e.symbol,"Security ID":e.security_id};TC("View Overwrite Idea Dialog",t)(),this.setState((e=>({promptToOverwriteIdea:!0})))})),Nq(this,"clearPromptForIdeaOverwrite",(()=>{this.setState((e=>({promptToOverwriteIdea:!1})))})),Nq(this,"renderDiff",(()=>c.createElement("div",{className:"idea-overwrite-diff-container"},c.createElement(Eq,{idea:this.props.idea,user:this.props.users.userList[this.props.idea.user_id],security:this.props.security,screenWidth:this.props.screenWidth,currentPrice:this.props.currentPrice}),c.createElement(Eq,{idea:this.props.currentUsersIdea,isCurrentUsersIdea:!0,security:this.props.security,screenWidth:this.props.screenWidth,currentPrice:this.props.currentPrice})))),Nq(this,"renderAskWhyMessage",(()=>{const e=rp(this.props.ideaOwner),t=this.props.security.symbol.toUpperCase();return c.createElement("div",{className:"ask-why-message-container"},c.createElement("div",{className:"ask-why-heading"},`We asked ${e} to post a thought on ${t}.`),c.createElement("div",{className:"ask-why-content"},"We'll let you know when they do. In the meantime feel free to ask other connections about ideas that interest you."),c.createElement("div",{className:"ask-why-dismiss-container"},c.createElement(hx,{onClick:this.props.dismissAskWhyMessage},"Got it")))})),Nq(this,"renderIdeaBody",(()=>{if(this.state.promptToOverwriteIdea&&this.props.currentUsersIdea!==this.props.idea.idea_id)return this.renderDiff();return VS(this.props.idea)?c.createElement(Cq,{security:this.props.security,idea:this.props.idea,screenWidth:this.props.screenWidth}):c.createElement(vq,{security:this.props.security,formData:this.state.formData,idea:this.props.idea,inputs:this.state.inputs.slice(1,this.state.inputs.length),inputProps:this.returnInputDefaultProps(),currentUsersIdea:this.props.currentUsersIdea,userAddingPriceTarget:this.props.userAddingPriceTarget,ideaIsCurrentUsersIdea:this.props.idea.current_users_idea,handleAddPriceTarget:this.props.handleAddPriceTarget,handleRemovePriceTarget:this._handleRemovePriceTarget,promptToOverwriteIdea:this.state.promptToOverwriteIdea,screenWidth:this.props.screenWidth,warnings:this.state.warnings,dismissWarning:this._dismissWarning,handleAskWhy:this.props.handleAskWhy,isPriceLoading:this.props.isPriceLoading,currentPrice:this.props.currentPrice,user:this.props.currentUser.user_id===this.props.idea.user_id?this.props.currentUser:this.props.users.userList[this.props.idea.user_id]})})),Nq(this,"_handleRemovePriceTarget",(()=>{const e=this.props.idea.idea_id;this.props.handleRemovePriceTarget(e)})),Nq(this,"isIdeaDataUpdating",(()=>this.props.idea.loading)),Nq(this,"_dismissWarning",(e=>{this.setState((t=>({warnings:l(o({},this.state.warnings),{[e]:null})})))})),Nq(this,"renderUserCreatingIdea",(()=>c.createElement("div",{className:"idea-show-container border-accent"},c.createElement(oS,{show:!0,scrollRestriction:!0,spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},overlayStyle:{background:"rgba(0,0,0,0)"},message:My("adding")})))),Nq(this,"renderUserUpdatingIdea",(()=>c.createElement("div",{className:"idea-show-container border-accent"},c.createElement(oS,{show:!0,scrollRestriction:!0,spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},overlayStyle:{background:"rgba(0,0,0,0)"},message:My("updating")})))),Nq(this,"renderLoading",(()=>c.createElement("div",{className:"idea-show-container border-accent"},c.createElement(oS,{show:!0,scrollRestriction:!0,spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},overlayStyle:{background:"rgba(0,0,0,0)"},message:"Loading"})))),this.state={inputs:[{type:jF,typeName:"Switch",name:"active",label:"Include in Optimizer",required:!0,props:{saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:pq,typeName:"Rating",name:"conviction",label:"Conviction",required:!0,props:{maxRating:5,saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:YF,typeName:"GenericInputField",name:"price_target",label:null,required:!0,props:{handleChangeFunc:"handleCurrencyChange",prefix:"$",autoFocus:!0,popOutErrorMessage:!0,blockingErrors:!0,validateAfterChange:!0,errorAction:{id:null,customClass:"skel-btn skel-btn-trans-white btn-small-skinny",handleClick:this._handleRemovePriceTarget,text:"Remove Target"},saveOnChange:e.handleAddPriceTarget,objectType:"idea"}},{type:YF,typeName:"GenericInputField",name:"expected_return",label:null,required:!0,props:{handleChangeFunc:"handleChange",suffix:"%",autoFocus:!0,popOutErrorMessage:!0,blockingErrors:!0,validateAfterChange:!0,saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:YF,typeName:"GenericInputField",name:"expected_dividend",label:null,required:!0,props:{handleChangeFunc:"handleChange",suffix:"%",autoFocus:!0,popOutErrorMessage:!0,blockingErrors:!0,validateAfterChange:!0,saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:HF,typeName:"CustomDropdown",name:"horizon",required:!0,props:{styling:"default",ignoreBlur:!0,autoOpen:!0,offset:{top:"-5px"},values:[{id:0,name:"Short Term"},{id:1,name:"Long Term"}],blurOnOptionClick:!0,saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:HF,typeName:"CustomDropdown",name:"idea_type",required:!0,props:{styling:"default",ignoreBlur:!0,autoOpen:!0,offset:{top:"-5px"},values:[{id:0,name:"Buy"},{id:1,name:"Sell"}],valueStyles:["green-option","red-option"],saveOnChange:this.props.updateIdea,objectType:"idea"}},{type:HF,typeName:"CustomDropdown",name:"thesis",required:!0,props:{styling:"default",ignoreBlur:!0,autoOpen:!0,offset:{top:"-80px"},values:[{id:0,name:"No Thesis"},{id:1,name:"Value"},{id:2,name:"Event"},{id:3,name:"Growth"},{id:4,name:"Dividend"},{id:5,name:"Momentum"},{id:6,name:"Safety"},{id:7,name:"Management"},{id:8,name:"Macro"},{id:9,name:"Turnaround"}],saveOnChange:this.props.updateIdea,objectType:"idea"}}],formData:{active:!0},focusedField:null,updatingAccount:!1,errors:{},warnings:{},loadingFormData:!0,promptToOverwriteIdea:!1,showDeleteOptions:!1}}componentDidMount(){const e=this.props.idea;if(e&&e.idea_id){this.updateFormData(e);const t=this.props.security,n="View Idea",r={"Idea Id":e.idea_id,"Stock Symbol":t.symbol,"Security ID":t.security_id,"Owner User ID":this.props.ideaOwner.analytics_id,"From Email":"N/A","Thought Leader Idea":VS(e)};TC(n,r)(),this.props.viewIdea(e.idea_id)}else this.setState((e=>({loadingFormData:!1})))}componentWillReceiveProps(e){e.idea&&this.props.idea&&e.idea!==this.props.idea&&this.updateFormData(e.idea)}render(){const{idea:e,userCreatingIdea:t}=this.props;if(this.props.userUpdatingIdea&&this.props.idea&&null===this.props.idea.idea_id)return this.renderUserUpdatingIdea();if(t)return this.renderUserCreatingIdea();if(this.state.loadingFormData||this.isIdeaDataUpdating())return this.renderLoading();const n={input:this.state.inputs[0],defaultProps:this.returnInputDefaultProps.call(this)};return c.createElement("div",{className:"idea-show-container component-bg  border-accent"},c.createElement(Tq,{ideaUserId:e.user_id,allocation:e.allocation,screenWidth:this.props.screenWidth,ideaIsCurrentUsersIdea:e.current_users_idea,thoughtLeaderIdea:VS(this.props.idea),handleSeeMorePositions:this.handleSeeMorePositions,userHasIdea:!!this.props.currentUsersIdea,showDeleteOptions:this.state.showDeleteOptions,handleExitPosition:this._handleExitPosition,handleKeepPosition:this.handleKeepPosition,saveIdea:this.saveIdea,saveTLIdea:this.saveTLIdea,removeIdea:this.removeIdea,toggleActiveInput:n,showOverwriteIdeaHeading:this.state.promptToOverwriteIdea,createPromptForIdeaOverwrite:this.createPromptForIdeaOverwrite,handleIdeaOverwrite:this.handleIdeaOverwrite,handleIdeaOverwriteCancel:this.handleIdeaOverwriteCancel,currentUser:this.props.currentUser,users:this.props.users,security:this.props.security,idea:this.props.idea,additionalDismissAskWhyAction:this.props.dismissAskWhyMessage,autoOpenAskWhy:this.props.askedWhy}),c.createElement("div",{className:"idea-show-content-container"},this.renderIdeaBody()))}returnInputDefaultProps(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),silentErrorCheck:xh.bind(this),handleSwitchClick:Ph.bind(this),handleToggleClick:Nh.bind(this),handleRatingClick:Ah.bind(this),manualValidation:wh.bind(this),handleCustomDropdownClick:Ch.bind(this),handleChange:Sh.bind(this),createWarningsForInput:Th.bind(this),handleCurrencyChange:Ih.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getInputWarning:function(e){return this.state.warnings[e]}.bind(this),dismissWarning:function(e){this.setState((t=>({warnings:l(o({},this.state.warnings),{[e]:null})})))}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this),getValueObjectId:function(e){return this.state.formData[e][`${e}_type_id`]}.bind(this),getObjectId:function(e){return this.props[e][`${e}_id`]}.bind(this)}}}var Pq=Object.defineProperty,Dq=(e,t,n)=>(((e,t,n)=>{t in e?Pq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Oq extends C.exports.Component{constructor(){super(...arguments),Dq(this,"handleClick",(()=>{const e=this.props.ideaId,t=this.props.ideas.ideaList[e]||{idea_id:null,status:"user creating idea"};this.props.handleClick(t)})),Dq(this,"_renderSecuritySymbol",(()=>{const e=this.props.ideaId,t=this.props.ideas.ideaList[e],n=this.props.securities.lookup[AS(t)]||{};return c.createElement("div",{className:"list-security-symbol stacked-list-security-symbol secondary-text-color"},n.symbol?n.symbol.toUpperCase():"")})),Dq(this,"renderUserCreatingIdeaView",(()=>{const e=this.props.activeIdea;return c.createElement("div",{className:"idea-list-item-container border-accent table-touch-scrolling "+(e?"active component-bg":""),onClick:this.handleClick},c.createElement("div",{className:"idea-user-container"},c.createElement(gP,{userId:this.props.currentUserId},c.createElement(VP,{withLink:!1,size:this.props.screenWidth>=850?"nav":"small"}),c.createElement(WL,{withLink:!1,inline:this.props.screenWidth<850}))),c.createElement("div",{className:"idea-quick-info-container creating-idea"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}})))}))}render(){const e=this.props.userCreatingIdea,t=this.props.activeIdea,n=this.props.ideaId,r=this.props.ideas.ideaList[n];if(e||!r)return this.renderUserCreatingIdeaView();const i=r.user_id,a=r.idea_type.name,s=0===r.idea_type.id?"buy-text-color":"sell-text-color",o=zS(r)?tg(r.price_target,"price_target"):tg(r.expected_return,"expected_return");return VS(r)?c.createElement("div",{className:"idea-list-item-container border-accent thought-leader-list-item table-touch-scrolling "+(t?"active":""),onClick:this.handleClick},c.createElement("div",{className:"tl-idea-quick-info-container"},c.createElement("div",{className:`idea-type ${s}`},"Thought Leader")),c.createElement("div",{className:"idea-tl-user-container"},c.createElement(gP,{userId:i},c.createElement(WL,{withLink:!1})))):c.createElement("div",{className:"idea-list-item-container border-accent table-touch-scrolling "+(t?"active component-bg":""),onClick:this.handleClick},c.createElement("div",{className:"idea-user-container"},c.createElement(gP,{userId:i},c.createElement(VP,{withLink:!1,size:this.props.screenWidth>=850?"nav":"small"}),c.createElement(WL,{withLink:!1,inline:this.props.screenWidth<850}))),c.createElement("div",{className:"idea-quick-info-container"},c.createElement("span",{className:`list-idea-type ${s}`},a),this.props.screenWidth>=850&&this._renderSecuritySymbol(),c.createElement("div",{className:"idea-price-target"},o),this.props.screenWidth<850&&this._renderSecuritySymbol()))}}var Lq=T((e=>({ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)})))(Oq),Rq=Object.defineProperty,Fq=(e,t,n)=>(((e,t,n)=>{t in e?Rq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Mq extends C.exports.Component{constructor(){super(...arguments),Fq(this,"determineIfActiveIdea",(e=>this.props.activeIdea&&this.props.activeIdea.idea_id===e&&!(this.props.userCreatingIdea||this.props.userUpdatingIdea))),Fq(this,"scrollToTopOfList",(e=>{window.innerWidth>750?$(".idea-list-container").animate({scrollTop:0},e||600):$(".idea-list-container").animate({scrollLeft:0},e||600)})),Fq(this,"sortIdeasForList",(()=>{const{currentUserIdeaId:e,thoughtLeaderIdeasIds:t,connectionsIdeasIds:n}=this.props;return e&&!this.props.userUpdatingIdea?[e,...t,...n]:[...t,...n]})),Fq(this,"renderCurrentUserCreatingIdeaTab",(()=>this.props.userCreatingIdea||this.props.userUpdatingIdea?c.createElement(Lq,{idea:null,currentUserId:this.props.currentUserId,activeIdea:!0,screenWidth:this.props.screenWidth,handleClick:this.props.handleClick,userCreatingIdea:!0}):null))}componentDidUpdate(e,t){!e.userUpdatingIdea&&this.props.userUpdatingIdea&&this.scrollToTopOfList()}render(){const e=this.sortIdeasForList();return this.determineIfActiveIdea(this.props.currentUserIdeaId)&&this.scrollToTopOfList(100),c.createElement("div",{className:"idea-list-container border-accent"},this.renderCurrentUserCreatingIdeaTab(),e.map((e=>c.createElement(Lq,{key:`idea_id_${e}`,ideaId:e,activeIdea:this.determineIfActiveIdea(e),screenWidth:this.props.screenWidth,handleClick:this.props.handleClick}))))}}var Uq=Object.defineProperty,$q=(e,t,n)=>(((e,t,n)=>{t in e?Uq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Bq extends C.exports.Component{constructor(e){super(e),$q(this,"_clearIsAskingWhyFromURL",(()=>{const e=this.props.location.pathname,t=this.props.location.search,n=fe(t),r=["askingWhyFromNotif"],i=Object.keys(n).filter((e=>!r.includes(e)));if(i.length>0){const t={};i.forEach((e=>t[e]=n[e]));const r=ve(t);this.props.navigate(e+r)}})),$q(this,"_isLoadingIdeasForThisSecurity",((e=this.props)=>e.ideas.loadingCurrentUserIdeas||e.isLoading)),$q(this,"handleResize",(e=>{this.setState({screenWidth:window.innerWidth})})),$q(this,"activeIdeaId",(()=>{const e=this.props.additionalTabData?this.props.additionalTabData.ideaId:null,t=this.props.security.security_id,n=this._returnIdeasForSecurity();return this.props.ideas.userCreatingIdeas[t]&&0===n.filter((t=>t.idea_id.toString()===e)).length?null:n.filter((t=>t.idea_id.toString()===e)).length>0?parseFloat(e):this.determineIdeaIsActive().idea_id})),$q(this,"determineIdeaIsActive",(e=>{const t=e||this.props,n=this._returnIdeasForSecurity(t),r=n.filter((e=>e.user_id===t.currentUserId))[0],i=n.filter((e=>VS(e)))[0],a=n.filter((e=>!VS(e)&&e.user_id!==t.currentUserId))[0];return r||i||a||{idea_id:null}})),$q(this,"currentUsersIdea",(()=>{const e=this.props.ideas.userCreatingIdeas[this.props.security.security_id],t=this._returnIdeasForSecurity();return e||t.filter((e=>e.user_id===this.props.currentUserId)).length>0?t.filter((e=>e.user_id===this.props.currentUserId))[0]||{}:null})),$q(this,"handleIdeaListItemClick",(e=>{this.updateActiveIdea(e),this.setState((e=>({userAddingPriceTarget:!1})))})),$q(this,"updateActiveIdea",(e=>{const t=this.props.navigate,n=location,r=fe(n.search);r.ideaId=e?e.idea_id:null;const i=ve(r);t(n.pathname+i)})),$q(this,"startUserUpdatingIdea",(()=>{this.setState((e=>({userUpdatingIdea:!0})))})),$q(this,"clearUserUpdatingIdea",(()=>{this.setState((e=>({userUpdatingIdea:!1}))),!this.props.additionalTabData||"null"!==this.props.additionalTabData.ideaId&&void 0!==this.props.additionalTabData.ideaId||this.updateActiveIdea(this.determineIdeaIsActive())})),$q(this,"showUpdateFailModal",(()=>{const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not save idea update. Please try again later."),dismissable:!0};this.props.actions.showModal(e)})),$q(this,"showRemoveFailModal",(()=>{const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not remove idea. Please try again later."),dismissable:!0};this.props.actions.showModal(e)})),$q(this,"updateIdea",(e=>{if(this.convertActiveIdeaToIdea()){const t=this.convertActiveIdeaToIdea(),n=o({idea_id:this.convertActiveIdeaToIdea().idea_id},e);this.props.actions.updateIdea(n,t).then(((t,n)=>{if(t){const t=Object.keys(e).filter((e=>"idea_id"!==e))[0],n=yU(t),r="Idea Updated",i=this.props.security,a={Field:n,"Stock Symbol":i.symbol,"Security ID":i.security_id};this.props.actions.logMetricsTrackingEvent(r,a)}else this.showUpdateFailModal()}))}})),$q(this,"removeIdea",(e=>{const t=MS(this.props.security,this.props.ideas.ideaList),n=t.filter((e=>VS(e)))[0],r=t.filter((e=>!VS(e)&&e.user_id!==this.props.currentUserId))[0];let i=null;return n?i=n:r&&(i=r),this.updateActiveIdea(i),this.props.removeIdea(e).then((e=>{"error"in e&&this.showRemoveFailModal()}))})),$q(this,"handleAddPriceTarget",(e=>{if(!e)return this.setState((e=>({userAddingPriceTarget:!0}))),!0;const t=this.props.security,n={"Stock Symbol":t.symbol,"Security ID":t.security_id};this.props.actions.logMetricsTrackingEvent("Add Price Target",n);const r=LS(e.idea_id,this.props.ideas);this.props.actions.updateIdea(e,r).then((e=>{e||this.setState((e=>({userAddingPriceTarget:!1})))})),this.setState((e=>({userAddingPriceTarget:!0})))})),$q(this,"handleRemovePriceTarget",(e=>{const t=this.props.security,n={"Stock Symbol":t.symbol,"Security ID":t.security_id};this.props.actions.logMetricsTrackingEvent("Remove Price Target",n);const r=LS(e,this.props.ideas),i={idea_id:e,price_target:null,expected_return:this.props.currentUser.default_expected_return*(0===r.idea_type.id?1:-1)};if(null===r.price_target&&null!==r.expected_return&&void 0!==r.expected_return)return this.setState((e=>({userAddingPriceTarget:!1}))),null;this.props.actions.updateIdea(i,r).then((e=>{e&&this.setState((e=>({userAddingPriceTarget:!1})))}))})),$q(this,"convertActiveIdeaToIdea",(()=>this.props.ideas.ideaList[this.activeIdeaId()])),$q(this,"dismissAskWhyMessage",(()=>{this.setState((e=>({askedWhy:!1,askingWhyFromNotif:!1,dismissedAskedFromNotif:!0})))})),$q(this,"findIdeaOwner",(()=>{const e=this.convertActiveIdeaToIdea();return e&&e.user_id?this.props.users.userList[e.user_id]?this.props.users.userList[e.user_id]:this.props.currentUser.user_id===e.user_id?this.props.currentUser:null:null})),$q(this,"handleSaveIdea",(e=>{const t=!!e,n=!!this.currentUsersIdea();if(t)return this.props.actions.copyIdea(e,n).then((e=>{this.clearUserUpdatingIdea();if(!e.error&&"created"===e.status){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Copy Idea",e)}}));{const e={security:{security_id:this.props.security.security_id}};return this.props.actions.addIdeas([e]).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Added Idea",e),th.ideas.ADD_IDEA.send()}this.clearUserUpdatingIdea()}))}})),$q(this,"renderNoConnectionIdeas",(()=>this.props.security.featured?c.createElement("div",{className:"security-card-no-ideas-message"},c.createElement("span",null,My("first")),c.createElement(Iw,{top:24},c.createElement(hx,{onClick:this.handleSaveIdea},My("add")))):c.createElement("div",{className:"public-no-thoughts-for-idea-container",style:{paddingBottom:"16px"}},c.createElement("span",{className:"stand-alone-text"},My("first-unfeatured"))))),$q(this,"_returnIdeasForSecurity",(e=>MS((e||this.props).security,(e||this.props).ideas.ideaList).filter((e=>!e.is_deleted)))),$q(this,"parseIdeasByOwner",(()=>{const e=this._returnIdeasForSecurity(),t=e.filter((e=>VS(e))),n=e.filter((e=>!VS(e)&&e.user_id!==this.props.currentUserId)),r=e.filter((e=>e.user_id===this.props.currentUserId))[0];return{thoughtLeaderIdeasIds:t.map((e=>e.idea_id)),connectionsIdeasIds:n.map((e=>e.idea_id)),currentUserIdeaId:r?r.idea_id:null}})),$q(this,"_isPriceLoading",(()=>!this._returnCurrentPriceData()||this._returnCurrentPriceData().loading)),$q(this,"_returnCurrentPriceData",(()=>this.props.securitiesPrice.securities[this.props.security.security_id])),$q(this,"_returnCurrentPrice",(()=>this._returnCurrentPriceData()?this._returnCurrentPriceData().current_price:{})),$q(this,"_fetchIdeasData",(()=>this.props.actions.getIdeasForSecurity([this._returnSecurityId()]))),$q(this,"_fetchThoughtsData",(()=>this.props.actions.fetchThoughts([this._returnSecurityId()]))),$q(this,"_returnSecurityId",(()=>this.props.security.security_id)),this.state={screenWidth:window.innerWidth,showIdeaLoading:!1,userUpdatingIdea:!1,userAddingPriceTarget:!1,askedWhy:!1,loading:!0,formData:{},errors:{}}}componentDidMount(){window.addEventListener("resize",this.handleResize),this._fetchIdeasData(),this._fetchThoughtsData()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentWillReceiveProps(e){if(!e.ideas.loadingCurrentUserIdeas&&!e.isLoading){const t=e.security.security_id,n=e.additionalTabData?e.additionalTabData.ideaId:null,r=MS(e.security,e.ideas.ideaList).filter((e=>!e.is_deleted));if(r.length>0&&e.ideas.userCreatingIdeas[t]&&0!==r.filter((e=>e.idea_id.toString()===n)).length){const e={idea_id:null};this.updateActiveIdea(e)}}}componentDidUpdate(e,t){const n=this.props.additionalTabData?this.props.additionalTabData.ideaId:null;if(this.state.userUpdatingIdea&&null!==n&&"null"!==n){const e={idea_id:null};this.updateActiveIdea(e)}this.props.askingWhyFromNotif&&!this.state.dismissedAskedFromNotif&&(this.state.askedWhy||(this.setState((e=>({askedWhy:!0,askingWhyFromNotif:!0}))),this._clearIsAskingWhyFromURL()))}render(){const e=this.props.ideas.userCreatingIdeas[this.props.security.security_id],{currentUserIdeaId:t,thoughtLeaderIdeasIds:n,connectionsIdeasIds:r}=this.parseIdeasByOwner();return this._isLoadingIdeasForThisSecurity()?c.createElement(Dw,{pageName:"Ideas"}):e||this.state.userUpdatingIdea||this.convertActiveIdeaToIdea()?c.createElement("div",{className:"ideas-container"},c.createElement("div",{className:"ideas-panel-container"},c.createElement(Mq,{thoughtLeaderIdeasIds:n,connectionsIdeasIds:r,currentUserIdeaId:t,currentUserId:this.props.currentUserId,activeIdea:this.props.ideas.ideaList[(this.convertActiveIdeaToIdea()||{}).idea_id],userCreatingIdea:e,handleClick:this.handleIdeaListItemClick,screenWidth:this.state.screenWidth,userUpdatingIdea:this.state.userUpdatingIdea}),c.createElement(Aq,{key:`show-idea-${this.convertActiveIdeaToIdea()?(this.convertActiveIdeaToIdea()||{}).idea_id:"blank"}`,actions:this.props.actions,navigate:this.props.navigate,security:this.props.security,idea:this.state.userUpdatingIdea||this.state.userCreatingIdea?{idea_id:null}:this.convertActiveIdeaToIdea(),ideaOwner:this.findIdeaOwner(),screenWidth:this.state.screenWidth,updateIdea:this.updateIdea,updateActiveIdea:this.props.actions.updateActiveIdea,removeIdea:this.removeIdea,currentUser:this.props.currentUser,userCreatingIdea:e,userUpdatingIdea:this.state.userUpdatingIdea,userAddingPriceTarget:this.state.userAddingPriceTarget,currentUsersIdea:this.currentUsersIdea(),isCurrentUserIdeasLoading:this.props.ideas.loading,startUserUpdatingIdea:this.startUserUpdatingIdea,clearUserUpdatingIdea:this.clearUserUpdatingIdea,handleSaveIdea:this.handleSaveIdea,handleAddPriceTarget:this.handleAddPriceTarget,handleRemovePriceTarget:this.handleRemovePriceTarget,users:this.props.users,askedWhy:this.state.askedWhy,dismissAskWhyMessage:this.dismissAskWhyMessage,viewIdea:this.props.actions.viewIdea,isPriceLoading:this._isPriceLoading(),currentPrice:this._returnCurrentPrice()}))):this.renderNoConnectionIdeas()}}var zq=_c(T((e=>({ideas:e.ideas,users:e.users,currentUser:e.currentUser,securitiesPrice:e.securitiesPrice})),(e=>({actions:I(WC,e)})))(Bq)),Vq=Object.defineProperty,Hq=(e,t,n)=>(((e,t,n)=>{t in e?Vq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Wq extends C.exports.Component{constructor(e){super(e),Hq(this,"renderColumnGroupHeadings",(()=>{const e=this.props.columnGroups.map((e=>({span:e.columns.length,name:e.name,displayName:e.heading})));return c.createElement("tr",null,e.map((e=>c.createElement("th",{key:e.name,colSpan:e.span,className:"comp-table-column-group-heading border-accent "+(e.displayName?"show-heading":"")},`${e.displayName?e.displayName:""}`))))})),Hq(this,"renderColumnHeadings",(()=>{const e=this.props.columnGroups,t=[];return e.forEach((e=>{e.columns.forEach((e=>{t.push(e)}))})),c.createElement("tr",{className:"main-headings-row border-accent"},t.map((e=>c.createElement("th",{key:e.name,className:"comp-table-column-heading secondary-text-color"},`${e.displayName}`))))})),this.state={}}componentDidMount(){}render(){return c.createElement("thead",null,this.renderColumnGroupHeadings(),this.renderColumnHeadings())}}var jq=T(null,(e=>({actions:I(WC,e)})))(Wq),Gq=Object.defineProperty,qq=(e,t,n)=>(((e,t,n)=>{t in e?Gq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Yq extends c.PureComponent{constructor(e){super(e),qq(this,"_handleClick",(()=>{this._isNotCurrentSecurityShowingInPanel()&&this.props.navigate(this._returnLinkForHandlingClick())})),qq(this,"_isNotCurrentSecurityShowingInPanel",(()=>!this.props.isSecurityInDetail)),qq(this,"_returnSecurityId",(()=>this.props.securityId)),qq(this,"_returnLinkForHandlingClick",(()=>{const e={securityId:this._returnSecurityId(),additionalProps:{activeTab:"thoughts"},navigate:this.props.navigate,location:this.props.location};return CU(e)})),qq(this,"renderColumn",((e,t)=>{const{securityId:n,handleRemoveSecurity:r,isSecurityInDetail:i}=this.props,a=e.dataKey,s=e.name,d=l(o({},{name:s,property:a,securityId:n,isSecurityInDetail:i,onRemove:r}),{key:`security-${n}-col-${e.name}`});return c.createElement(e.cell,d,{})})),qq(this,"isLoading",(()=>{const{securityId:e,fundamentalData:t}=this.props;return ig(e,t)})),qq(this,"_buildColumns",(()=>{const e=this.props.columnGroups,t=[];return e.forEach((e=>{e.columns.forEach((e=>{t.push(e)}))})),t})),this.columns=this._buildColumns()}render(){const e=this.props.securityId;return this.isLoading()?c.createElement("tr",{id:`security-row-${e}`,className:"border-accent"},c.createElement("td",{className:"security-table-loading-row",colSpan:2},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}))):c.createElement("tr",{id:`security-row-${e}`,style:{cursor:this._isNotCurrentSecurityShowingInPanel()?"pointer":"default"},onClick:this._handleClick},this.columns.map(((e,t)=>this.renderColumn(e,t))))}}var Kq=T((e=>({securities:e.securities,fundamentalData:e.fundamentalData,currentUser:e.currentUser})))(Yq),Qq=Object.defineProperty,Zq=(e,t,n)=>(((e,t,n)=>{t in e?Qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Xq extends c.PureComponent{constructor(){super(...arguments),Zq(this,"getColumnCount",(()=>{const e=this.props.columnGroups;let t=0;return e.forEach((e=>{e.columns.forEach((e=>{t++}))})),t}))}render(){const e=this.props.columnGroups,t=this.props.securityIds;return c.createElement("tbody",null,c.createElement("tr",{id:"padding-row",className:"padding-row-row border-accent-important"},c.createElement("td",{colSpan:this.getColumnCount()},c.createElement("div",{style:{padding:"5px"}}))),t.map((t=>c.createElement(Kq,{key:`comp-table-security-row-${t}`,isSecurityInDetail:t===this.props.securityInDetail.id,securityId:t,columnGroups:e,handleRemoveSecurity:this.props.handleRemoveSecurity,navigate:this.props.navigate,location:this.props.location}))),c.createElement("tr",{id:"padding-row",className:"padding-row-row border-accent-important"},c.createElement("td",null,c.createElement("div",{style:{padding:"5px"}}))))}}var Jq=Object.defineProperty,eY=(e,t,n)=>(((e,t,n)=>{t in e?Jq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class tY extends C.exports.Component{constructor(e){super(e),eY(this,"renderColumn",((e,t)=>{const n=this.props.securityIds,r=e.dataKey,i=e.name,a="Dividend Yield"===r?n.map((e=>this.getValue(e,r)||0)):n.map((e=>this.getValue(e,r))).filter((e=>null!==e)),s=a.length>0?this.props.aggregation.aggFunc(a):null,o=this.formatValue(s,r);return c.createElement("td",{key:`aggregation-${this.props.aggregation.label}-col-${i}`},"N/A"===o&&this.props.naIndicator?"-":o)})),eY(this,"getValue",((e,t)=>{const n=this.props.securities,r=this.props.fundamentalData,i=ag(e,t,n,r);return i?i.value:null})),eY(this,"formatValue",((e,t)=>eg(e,t))),eY(this,"isLoading",(()=>{const e=this.props.securityId,t=this.props.fundamentalData;return ig(e,t)})),this.state={}}render(){const e=this.props.columns,t=this.props.aggregation;return c.createElement("tr",{id:`aggregation-row-${t.label}`,className:"comp-table-aggregation-row secondary-text-color"},c.createElement("td",{className:"aggregator-label",colSpan:this.props.returnAggColSpan},this.props.aggregation.label),e.map(((e,t)=>this.renderColumn(e,t))))}}var nY=T((e=>({securities:e.securities,fundamentalData:e.fundamentalData,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(tY),rY=Object.defineProperty,iY=(e,t,n)=>(((e,t,n)=>{t in e?rY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class aY extends c.PureComponent{constructor(){super(),iY(this,"_returnAggregations",(()=>this.props.aggregations||this._defaultAggregations)),iY(this,"isLoading",(()=>this.props.securityIds.some((e=>ig(e,this.props.fundamentalData))))),iY(this,"returnAggColSpan",(()=>{const e=this.props.columnGroups,t=[];return e.forEach((e=>{e.columns.forEach((e=>{t.push(e)}))})),t.filter((e=>e.ignoreForAggregation)).length})),iY(this,"returnColumns",(()=>{const e=this.props.columnGroups,t=[];return e.forEach((e=>{e.columns.forEach((e=>{t.push(e)}))})),t.filter((e=>!e.ignoreForAggregation))}));var e={max:function(e){return Math.max.apply(null,e)},min:function(e){return Math.min.apply(null,e)},range:function(t){return e.max(t)-e.min(t)},midrange:function(t){return e.range(t)/2},sum:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t},mean:function(t){return e.sum(t)/t.length},median:function(e){e.sort((function(e,t){return e-t}));var t=e.length/2;return t%1?e[t-.5]:(e[t-1]+e[t])/2},modes:function(e){if(!e.length)return[];var t={},n=0,r=[];return e.forEach((function(e){t[e]?t[e]++:t[e]=1,t[e]>n?(r=[e],n=t[e]):t[e]===n&&(r.push(e),n=t[e])})),r},variance:function(t){var n=e.mean(t);return e.mean(t.map((function(e){return Math.pow(e-n,2)})))},standardDeviation:function(t){return Math.sqrt(e.variance(t))},meanAbsoluteDeviation:function(t){var n=e.mean(t);return e.mean(t.map((function(e){return Math.abs(e-n)})))},zScores:function(t){var n=e.mean(t),r=e.standardDeviation(t);return t.map((function(e){return(e-n)/r}))}};this._defaultAggregations=[{label:"Average",aggFunc:t=>e.mean(t)},{label:"Median",aggFunc:t=>e.median(t)},{label:"Std Dev",aggFunc:t=>e.standardDeviation(t)},{label:"High",aggFunc:t=>e.max(t)},{label:"Low",aggFunc:t=>e.min(t)}]}render(){return this.isLoading()?null:c.createElement("tfoot",null,c.createElement("tr",{id:"padding-row",className:"border-accent-important"},c.createElement("td",{colSpan:this.returnAggColSpan()+this.returnColumns().length},c.createElement("div",{style:{padding:"5px"}}))),this._returnAggregations().map(((e,t)=>c.createElement(nY,{key:`comp-table-security-row-${e.label.toLowerCase()}`,securityIds:this.props.securityIds,aggregation:e,returnAggColSpan:this.returnAggColSpan(),columns:this.returnColumns(),naIndicator:"-"}))))}}var sY=T((e=>({securities:e.securities,fundamentalData:e.fundamentalData})),(e=>({actions:I(WC,e)})))(aY);const oY=e=>{const{className:t,isLoading:n,security:r,property:i,additionalFormatting:a,hideIfNA:s,renderInLabel:o,containerClassName:l,labelClassName:d,labelText:u,valueClassName:h}=e,p=r[i],m=eg(p,i),g=a?a(m):m;return n?c.createElement(_e,{icon:"fading-3balls",size:"small"}):s&&nk(p)?null:o?c.createElement("div",{className:`${l}`},c.createElement("div",{className:`${d}`},u),c.createElement("div",{className:`${h}`},g)):c.createElement("div",{className:`security-data-component ${t||""}`},g)},lY=e=>c.createElement("td",{className:"comp-table-stock-identifier-cell"},c.createElement(oB,{securityId:e.securityId},c.createElement(oY,{className:"security-name",property:"name",additionalFormatting:e=>XS(e,26)}),c.createElement(oY,{className:"security-symbol secondary-text-color",property:"symbol"}),c.createElement(oY,{className:"security-sector secondary-text-color",property:"sector"})));var cY=Object.defineProperty,dY=(e,t,n)=>(((e,t,n)=>{t in e?cY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const uY=({property:e,securityId:t})=>{const{price:n,change:r,percentChange:i}=iM(t);return"current_price"===e?c.createElement("span",null,lc(tc,n)):"current_price_change"===e?c.createElement("span",null,lc(tc,r)):"current_price_change_percent"===e?c.createElement("span",null,lc(rc,i)):null};class hY extends C.exports.Component{constructor(){super(...arguments),dY(this,"_renderPriceData",(()=>{const e=this.props.property,t=this.props.securityId;return c.createElement(uY,{securityId:t,property:e})})),dY(this,"_isPropertyPricing",(()=>{const e=this.props.property;return["current_price","current_price_change","current_price_change_percent"].some((t=>e===t))})),dY(this,"_renderValue",(()=>{const e=this.formatValue();return this._isPropertyPricing()?this._renderPriceData():e})),dY(this,"isLoading",(()=>ig(this.props.securityId,this.props.fundamentalData))),dY(this,"getValue",(e=>{const t=this.props.securityId,n=this.props.securities,r=this.props.fundamentalData;return ag(t,e,n,r).value})),dY(this,"formatValue",(()=>{const e=this.props.property,t=this.getValue(e),n=eg(t,e);return this.props.naIndicator&&"N/A"===n?this.props.naIndicator:n}))}render(){const e=this.formatValue();return this.props.hideIfNA&&"N/A"===e&&!this._isPropertyPricing()||this.hideIfLoading&&this.isLoading()?null:this.isLoading()?c.createElement(_e,{icon:"fading-3balls",size:"small"}):c.createElement("span",{className:this.props.customClass||"",style:this.props.customStyle||{}},this._renderValue())}}var pY=T((e=>({securities:e.securities,fundamentalData:e.fundamentalData})),(e=>({actions:I(WC,e)})))(hY);class mY extends c.PureComponent{render(){const{name:e,securityId:t,property:n}=this.props;return c.createElement("td",{className:`comp-table-stock-formatted-data-cell ${e}-cell`},c.createElement(pY,{securityId:t,property:n,naIndicator:"-"}))}}var gY=Object.defineProperty,yY=(e,t,n)=>(((e,t,n)=>{t in e?gY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class _Y extends c.PureComponent{constructor(){super(...arguments),yY(this,"onRemove",(()=>{const{securityId:e,onRemove:t}=this.props;t(e)}))}render(){return c.createElement("td",{className:"comp-table-stock-remove-cell"},c.createElement("div",{className:"remove-icon-container secondary-text-color",style:{visibility:this.props.isSecurityInDetail?"hidden":"visible",pointerEvents:this.props.isSecurityInDetail?"none":"all"}},c.createElement(aS,{icon:"fa fa-times fa-times-thin",color:"secondary-text-color",size:"medium",handleClick:this.onRemove})))}}var fY=Object.defineProperty,vY=(e,t,n)=>(((e,t,n)=>{t in e?fY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class EY extends c.PureComponent{constructor(e){super(e),vY(this,"getDisplaySecurityIds",(()=>[...this.state.tableSecurityIds,...this.state.userAddedSecurityIds])),vY(this,"handleSecurityQuerySelection",(async e=>{if(!e)return console.error("No security was received",e);const{id:t}=e;if(this.getDisplaySecurityIds().includes(t))return void $("input").blur();this.logAddSecurity(t),this.setState((e=>({userAddedSecurityIds:[...e.userAddedSecurityIds,t]})));const n=(await this._fetchSecuritiesData([t]))[0];if(null==n?void 0:n.securities){const e=null==n?void 0:n.securities[0],{security_id:t,symbol:r}=e;this._trackedSecuritySymbols.push(r),py.addTempSecurities([{symbol:r,id:t}])}window.$("input").blur()})),vY(this,"handleRemoveSecurity",(e=>{this.logRemoveSecurity(e),this.setState((t=>({tableSecurityIds:t.tableSecurityIds.filter((t=>t!==e)),userAddedSecurityIds:t.userAddedSecurityIds.filter((t=>t!==e))})))})),vY(this,"logAddSecurity",(e=>{const t={"Security ID":e};this.props.actions.logMetricsTrackingEvent("Added Security To Comp Table",t)})),vY(this,"logRemoveSecurity",(e=>{const t={"Security ID":e};this.props.actions.logMetricsTrackingEvent("Removed Security To Comp Table",t)})),vY(this,"_fetchSecuritiesData",(async e=>Promise.all([this.props.actions.quickFetchSecuritiesData(e),this.props.actions.fetchSecuritiesFundamentalsData(e),this.props.actions.fetchSecuritiesPriceData(e)]))),vY(this,"getSimilarSecurities",(()=>{const e=this.props.securityId;this.props.actions.fetchSimilarCompanies(e).then((t=>{if(t&&t.similar_securities){const{similar_securities:n}=t,r=n.map((e=>({symbol:e.symbol,id:e.id})));py.addTempSecurities(r),r.forEach((e=>this._trackedSecuritySymbols.push(e.symbol)));const i=n.map((e=>e.id)),a=[e,...i];this._fetchSecuritiesData(a),this.setState((e=>({initializing:!1,tableSecurityIds:a})))}else this.props.actions.showModal(xS())}))})),this._trackedSecuritySymbols=[],this.state={initializing:!0,tableSecurityIds:[e.securityId],userAddedSecurityIds:[]},this.securityInDetail={id:e.securityId},this.columnGroups=[{heading:null,name:"basic-stock-data",columns:[{name:"removeCell",displayName:"",cell:_Y,ignoreForAggregation:!0},{name:"identifier",displayName:"",cell:lY,ignoreForAggregation:!0},{name:"price",displayName:"Price",dataKey:"current_price",cell:mY,ignoreForAggregation:!0},{name:"day_change",dataKey:"current_price_change_percent",displayName:"Day Change",cell:mY,ignoreForAggregation:!0}]},{heading:null,name:"pe",columns:[{name:"pe",displayName:"P/E",dataKey:"Price / Earnings",cell:mY},{name:"forward_pe",displayName:`Forward P/E (${(new Date).getFullYear()})`,dataKey:"Forward P/E Curr Yr",cell:mY},{name:"forward_pe_next_yr",displayName:`Forward P/E (${(new Date).getFullYear()+1})`,dataKey:"Forward P/E",cell:mY},{name:"forward_eps",displayName:`Forward EPS (${(new Date).getFullYear()})`,dataKey:"Forward EPS Curr Yr",cell:mY},{name:"forward_eps_next_yr",displayName:`Forward EPS (${(new Date).getFullYear()+1})`,dataKey:"Forward EPS",cell:mY}]},{heading:null,name:"capital_structure",columns:[{name:"market_cap",displayName:"Market Cap",dataKey:"Market Cap",cell:mY},{name:"net_debt",displayName:"Net Debt",dataKey:"Net Debt",cell:mY},{name:"dividend_yield",displayName:"Dividend Yield",dataKey:"Dividend Yield",cell:mY}]},{heading:null,name:"growth",columns:[{name:"projected_revenue_growth",displayName:"Projected Revenue Growth",dataKey:"Projected Revenue Growth",cell:mY},{name:"revenue_ltm",displayName:"Revenue LTM",dataKey:"Revenue LTM",cell:mY},{name:"net_income_ltm",displayName:"Net Income LTM",dataKey:"Net Income LTM",cell:mY}]},{heading:null,name:"misc",columns:[{name:"price_to_tangible_book",displayName:"Price / Tangible Book",dataKey:"Price / Tangible Book",cell:mY},{name:"price_to_sales",displayName:"Price / Sales",dataKey:"Price / Sales",cell:mY},{name:"forward_price_to_sales",displayName:`Forward P/S (${(new Date).getFullYear()})`,dataKey:"Forward P/S Curr Yr",cell:mY},{name:"forward_price_to_sales_next_yr",displayName:`Forward P/S (${(new Date).getFullYear()+1})`,dataKey:"Forward P/S",cell:mY},{name:"total_enterprise_value",displayName:"Total Enterprise Value",dataKey:"Total Enterprise Value",cell:mY},{name:"net_debt_over_ebitda",displayName:"Net Debt / EBITDA",dataKey:"Net Debt / EBITDA",cell:mY},{name:"forward_net_debt_over_ebitda",displayName:`Forward Net Debt / EBITDA (${(new Date).getFullYear()})`,dataKey:"Forward Net Debt / EBITDA Curr Yr",cell:mY},{name:"total_debt_over_ebitda",displayName:"Total Debt / EBITDA",dataKey:"Total Debt / EBITDA",cell:mY},{name:"forward_total_debt_over_ebitda",displayName:`Forward Total Debt / EBITDA (${(new Date).getFullYear()})`,dataKey:"Forward Total Debt / EBITDA Curr Yr",cell:mY},{name:"ev_over_ebitda",displayName:"EV / EBITDA",dataKey:"EV / EBITDA",cell:mY},{name:"forward_ev_over_ebitda",displayName:`Forward EV / EBITDA (${(new Date).getFullYear()})`,dataKey:"Forward EV / EBITDA Curr Yr",cell:mY},{name:"beta",displayName:"Beta",dataKey:"Beta",cell:mY}]}]}componentDidMount(){this._fetchSecuritiesData([this.props.securityId]),this.getSimilarSecurities()}componentWillUnmount(){py.removeTempSecurities(this._trackedSecuritySymbols)}render(){if(this.state.initializing)return c.createElement(Dw,null);const{columnGroups:e}=this,t=this.getDisplaySecurityIds();return c.createElement("div",null,c.createElement("div",{style:{maxWidth:"95%",margin:"15px auto 0 auto"}},c.createElement("div",{style:{maxWidth:"250px",paddingLeft:"10px"}},c.createElement(UA,{id:"comp_table_add_stock",customIcon:"fa-plus",parentComponent:"Comp Table",placeholder:"Add Stocks",iconTopPos:"10px",handleSecurityQuerySelection:this.handleSecurityQuerySelection}))),c.createElement("div",{className:"comp-table-container always-show-scroll"},c.createElement("table",{className:"comp-table"},c.createElement(jq,{columnGroups:e}),c.createElement(Xq,{columnGroups:e,securityIds:t,securityInDetail:this.securityInDetail,handleRemoveSecurity:this.handleRemoveSecurity,navigate:this.props.navigate,location:this.props.location}),c.createElement(sY,{columnGroups:e,securityIds:t}))))}}var bY=_c(T(null,(e=>({actions:I(WC,e)})))(EY));const CY=e=>c.createElement("div",{className:"compare-container"},c.createElement("div",{className:"compare-table-container"},c.createElement(bY,{securityId:e.securityId})));var xY=Object.defineProperty,wY=(e,t,n)=>(((e,t,n)=>{t in e?xY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class SY extends c.Component{constructor(){super(...arguments),wY(this,"returnId",(()=>this.props.id)),wY(this,"returnContainerElementSelector",(()=>this.props.containerElementSelector)),wY(this,"_checkForImpression",(()=>{!this._wasImpressionRecorded()&&this._isItemVisibleWithinWindow()&&this._handleRecordImpression()})),wY(this,"_isItemVisibleWithinWindow",(()=>{const e=this._getThoughtBoundingClientRect();if(e){const t=e.top+e.height/2,n=e.top+e.height<0;return t<this._returnWindowHeight()&&!n}return!1})),wY(this,"_wasImpressionRecorded",(()=>this.props.wasAlreadyRecorded())),wY(this,"_saveImpressionToStorageIfUnrecorded",(()=>this.props.saveImpressionToStorage())),wY(this,"_postImpressionToServer",(()=>this.props.recordImpression())),wY(this,"_handleRecordImpression",(()=>{if(this._wasImpressionRecorded()||this._isRecordingImpression)return!1;this._isRecordingImpression=!0,this._postImpressionToServer().then((e=>{e&&e.data&&"success"===e.data.status?(this._saveImpressionToStorageIfUnrecorded(),this._isTerminated=!0,this._terminate()):this._isRecordingImpression=!1}))})),wY(this,"_initialize",(()=>{this.props.recordImpressionOnMount?this._handleRecordImpression():(this._initScrollListener(),this._checkForImpression())})),wY(this,"_terminate",(()=>{this._removeScrollListener()})),wY(this,"_handleScroll",(e=>{this._checkForImpression(e)})),wY(this,"_getThoughtBoundingClientRect",(()=>{const e=this._$returnContainerElement();return e&&e[0]?e[0].getBoundingClientRect():null})),wY(this,"_$returnContainerElement",(()=>$(this._returnDOMNode()).closest(this.returnContainerElementSelector()))),wY(this,"_returnDOMNode",(()=>this.GenericImpressionTracker)),wY(this,"_initScrollListener",(()=>{this._$returnScrollElement().on("scroll",this._handleScroll)})),wY(this,"_returnWindowHeight",(()=>this.props.windowHeight||$(window).height())),wY(this,"_removeScrollListener",(()=>{this._$returnScrollElement().off("scroll",this._handleScroll)})),wY(this,"_$returnScrollElement",(()=>$(this.props.scrollContainerSelector)))}componentDidMount(){this._initialize()}componentWillUnmount(){this._isTerminated||this._terminate()}render(){return c.createElement("div",{ref:e=>this.GenericImpressionTracker=e})}}var kY=Xk(SY);const TY=e=>{const{newsId:t,notificationIndex:n,securityId:r,viewingContext:i,scrollContainerSelector:a,containerElementSelector:s,metadata:o}=e,l="viewNews",d={id:t,securityId:r,context:i,indexInFeed:n,metadata:o};return c.createElement("div",{className:"news-impression-tracker-container"},c.createElement(kY,{id:t,wasAlreadyRecorded:()=>of(l,t,i),recordImpression:()=>Ib(d)(),saveImpressionToStorage:()=>cf(l,t,i),containerElementSelector:s,scrollContainerSelector:a}))};var IY=Object.defineProperty,NY=(e,t,n)=>(((e,t,n)=>{t in e?IY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class AY extends C.exports.Component{constructor(){super(...arguments),NY(this,"returnMaxThoughtCharLimit",(()=>Yc-25)),NY(this,"_returnHeadingGeneratorFunc",(()=>()=>`Share this as a Pro or Con for ${this._returnSecuritySymbol()} and see what the community thinks.`)),NY(this,"_isSecurityDataAvailable",(()=>this._returnSecurity()&&!("security_id"in this._returnSecurity())&&!("featured"in this._returnSecurity())&&!("name"in this._returnSecurity())&&!("symbol"in this._returnSecurity()))),NY(this,"_fetchSecurityData",(()=>this.props.actions.quickFetchSecuritiesData([this._returnSecurityId()]))),NY(this,"_returnThoughtType",(()=>this.props.thoughtType.name.toLowerCase())),NY(this,"_returnSecurityId",(()=>this.props.securityId)),NY(this,"_returnSecuritySymbol",(()=>this._returnSecurity()?this._returnSecurity().symbol:"this security")),NY(this,"_returnSecurity",(()=>this._returnSecuritiesLookup()[this._returnSecurityId()]||{})),NY(this,"_returnSecuritiesLookup",(()=>this._returnSecuritiesStore().lookup)),NY(this,"_returnSecuritiesStore",(()=>this.props.securities)),NY(this,"_logNewsProConClick",(()=>{const e="pro"===this._returnThoughtType()?"Pro":"Con",t=this.props.newsTrackingData,n=o({"Thought Type":e},t);this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",n)}))}componentDidMount(){this._logNewsProConClick()}render(){const e=this.props.newsTrackingData,t=e.Context?e.Context:"News";return c.createElement(mS,{key:`news-thought-${this._returnSecurityId()}-${this.props.ogo.url}`,customClassContainer:"news-component news-thought-container",customMessageWithSymbol:this._returnHeadingGeneratorFunc(),security:this._returnSecurity(),ogo:this.props.ogo,thoughtType:this._returnThoughtType(),handleFinishCreatingThought:this.props.handleFinishCreatingThought,handleCancelCreatingThought:this.props.handleCancelCreatingThought,maxCharacterLimitForThought:this.returnMaxThoughtCharLimit(),viewingContext:t,isFromNews:!0})}}var PY=T((e=>({securities:e.securities})),(e=>({actions:I(WC,e)})))(AY);const DY=u.div`
  position: absolute;
  top: 8px;
  right: 16px;

  background: #fff;
  padding: 6px 5px 4px 5px;
  border: 1px solid #222;
  border-radius: 20px;

  :hover {
    background: #ccc;
  }
`,OY=u.div`
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;

  z-index: 5000;

  background-color: rgba(20, 20, 20, 0.4);
`,LY=u.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;

  display: flex;
  flex-direction: column;
`,RY=u.div`
  background-color: #fff;
  width: 100%;
`,FY=u.div`
  position: relative;
  display: flex;
  flex: 1;
  width: 100%;
`,MY=u.iframe`
  width: 100%;
`,UY={news:({dismiss:e})=>{const[t,n]=F(),r=t.get("url");return c.useEffect((()=>{try{(window.adsbygoogle||[]).push({})}catch(Gs){console.error("Google Ad Sense Error"),console.error(Gs)}}),[]),c.createElement(LY,null,c.createElement(RY,null,c.createElement("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-6980989574649341","data-ad-slot":"9357519222","data-ad-format":"auto","data-full-width-responsive":"true"})),c.createElement(FY,null,c.createElement(DY,null,c.createElement(kx,{onClick:()=>{e(["url"])}})),c.createElement(MY,{src:r})))}},$Y=({type:e,dismiss:t})=>{const n=UY[e];return n?c.createElement(OY,null,c.createElement(n,{dismiss:t})):(console.error("missing panel definition"),null)},BY=()=>{P(),b(),_();const[e,t]=F(),n=e.get("showing"),r=(n=[])=>{const r=e;r.delete("showing"),n.forEach((e=>r.delete(e))),t(r)};return n?c.createElement($Y,{type:n,dismiss:r}):null},zY=u.div``,VY=u.div``,HY=u.span`
  cursor: pointer;
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  &:hover {
    opacity: 0.8;
  }
`,WY=u.div`
  margin: 0 auto;
  padding: 16px 0;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  width: 142px;

  button {
    padding: 4px 12px;
    border: none !important;
    border-radius: 4px;
  }
  ${zY} {
    button {
      background-color: ${({theme:e})=>e.themeColors.proColor};
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
  ${VY} {
    button {
      background-color: ${({theme:e})=>e.themeColors.conColor};
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
`,jY=({onCreatePress:e,isCurrentUserAuthed:t})=>{const n=b(),r=()=>{n("/?loginRequired=true")};return c.createElement(WY,{className:"post-thought-action-buttons"},c.createElement(zY,null,c.createElement(hx,{onClick:n=>{n.stopPropagation(),t?e("pro"):r()}},"+ Pro")),c.createElement(VY,null,c.createElement(hx,{onClick:n=>{n.stopPropagation(),t?e("con"):r()}},"+ Con")))},GY=({isLoadingOgo:e,articleSummary:t})=>{const n=XS(t,250);return e?c.createElement("span",{className:"news-summary loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"})):c.createElement("span",{className:"news-summary"},n)},qY=({newsData:e})=>{const t=jl(),n=1e3*e.timestamp,r=jl(n),i=!r.isBefore(t,"day"),a=`${Yl("l",r)} ${Yl("LT",r)}`,s=r.fromNow(),o=i?s:a;return c.createElement("span",{className:"news-timestamp secondary-text-color border-accent"},o)},YY=({buildNewsClickTrackingData:e,securityId:t})=>{const n=P(),r=b(),i=_(),{symbol:a}=IH(t),s={panel:"security",securityId:t,activeTab:"headlines"},o=i.pathname+ve(s);return c.createElement(hx,{transparent:!0,onClick:t=>{t.stopPropagation(),r(o);const i={Component:"News In Feed Component",Context:"Security Panel",Symbol:a};Nb(e("more"))(n),TC("Open Security Panel",i)()}},"More News On "+a)},KY=({inFeed:e,isLoadingOgo:t,ogo:n})=>{const[r,i]=c.useState(!1);if(t)return c.createElement("span",{className:"news-image-container loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"}));const{images_url:a}=n||{};if(!a||r)return c.createElement(Ow,null);return c.createElement("span",{className:"news-image-container",style:e?{maxHeight:"auto",minHeight:"auto",width:"auto",maxWidth:"auto"}:{}},c.createElement(Fw,{src:a,handleImageLoadFailure:()=>i(!0),parentClass:".news-image-container",maxHeight:e?300:null,renderPlaceholder:!0}))},QY=({securityId:e,isCurrentUserAuthed:t,mobile:n,newsData:r,articleSource:i,inFeed:a,displayHeadline:s,articleSummary:o,isLoadingOgo:l,buildNewsClickTrackingData:d,onCreateThoughtPress:u})=>n?c.createElement("span",{className:"news-body"},c.createElement("span",{className:"news-header"},c.createElement("span",{className:"news-source"},i),c.createElement(qY,{newsData:r})),c.createElement(jY,{onCreatePress:u,isCurrentUserAuthed:t}),a&&c.createElement("span",{className:"more-news-button-container"},c.createElement(YY,{securityId:e,buildNewsClickTrackingData:d}))):c.createElement("span",{className:"news-body"},c.createElement("span",{className:"news-header"},c.createElement("span",{className:"news-source"},i),c.createElement(qY,{newsData:r})),c.createElement("span",{className:"news-headline"},s),c.createElement(GY,{articleSummary:o,isLoadingOgo:l}),a&&c.createElement("span",{className:"more-news-button-container"},c.createElement(YY,{securityId:e,buildNewsClickTrackingData:d})),c.createElement(jY,{onCreatePress:u,isCurrentUserAuthed:t})),ZY=({securityId:e,newsData:t,size:n,inFeed:r,isNotification:i,viewingContext:a,notificationIndex:s,ignoreImpressionTracking:o,isCurrentUserAuthed:l,scrollContainerSelector:d,recordImpressionOnMount:u})=>{const h=P();F();const{id:p,open_graph_object:{title:m,description:g},source:y,metadata:_}=t,f=t.open_graph_object.url,v=c.useRef(null),[E,b]=c.useState(null),{isLoading:C,ogo:x}=(e=>{const t=P(),n=e.open_graph_object.url,[r,i]=c.useState(!0),a=D((e=>e.news.ogoByUrl[n]));return c.useEffect((()=>{(async()=>{await Tb(e)(t),setTimeout((()=>{i(!1)}),100)})()}),[]),{isLoading:r,ogo:a}})(t),[w,{width:S}]=QO();c.useEffect((()=>{w(v)}),[v]);const k=ZT(),T=IH(e),I=XS(m||"",100),N=(null==x?void 0:x.description)||"",A={"Concernable Id":e,"Concernable Type":"Security",Source:y,URL:f,"Security ID":e,"Stock Symbol":T.symbol,Context:i?"News Notification":"Security Panel"},O=()=>{Cu("Click News Article",{themeTestGroups:jp(k)});const t=A;Nb({id:p,securityId:e,clickType:"link",context:a,indexInFeed:s,metadata:_})(h),TC("Clicked News Article",t)()},L=e=>{b(e)},R=()=>{b(null);Pb({batch_index:0,page:1})(h).then((e=>(Ab()(h),e)))},M=()=>{b(null)},U=()=>{null==window||window.open(f,"_blank"),O()};if(null!==E){const t="pro"===E.toLowerCase()?{id:0,name:"Pro"}:{id:1,name:"Con"};return c.createElement("div",{ref:v},c.createElement(PY,{securityId:e,thoughtType:t,ogo:x,isLoadingCustomImage:C,handleFinishCreatingThought:R,handleCancelCreatingThought:M,newsTrackingData:A}))}return S<667||"small"===n?c.createElement(HY,{onClick:U,className:`\n          news-component-container\n          news-component-container-${p}\n          news-article\n          ${r?"news-in-feed":""}\n          ${n||""}\n        `,ref:v},!o&&c.createElement(TY,{newsId:p,securityId:e,notificationIndex:s,metadata:_,viewingContext:a,scrollContainerSelector:d,containerElementSelector:".news-component-container",recordImpressionOnMount:u}),c.createElement("div",{className:"\n            news-component\n            news-article\n          "},c.createElement("span",{className:"news-headline"},I),c.createElement(KY,{inFeed:r,isLoadingOgo:C,ogo:x}),c.createElement(QY,{inFeed:r,securityId:e,newsData:t,isCurrentUserAuthed:l,articleSource:y,displayHeadline:I,articleSummary:N,isLoadingOgo:C,onCreateThoughtPress:L,mobile:!0}))):c.createElement(HY,{onClick:U,className:`\n          news-component-container\n          news-component-container-${p}\n          news-article\n          ${r?"news-in-feed":""}\n          ${n||""}\n        `,ref:v},!o&&c.createElement(TY,{newsId:p,securityId:e,notificationIndex:s,metadata:_,viewingContext:a,scrollContainerSelector:d,containerElementSelector:".news-component-container",recordImpressionOnMount:u}),c.createElement("div",{className:"\n            news-component\n            news-article\n          "},c.createElement(KY,{inFeed:r,isLoadingOgo:C,ogo:x}),c.createElement(QY,{newsData:t,securityId:e,articleSource:y,articleSummary:N,isLoadingOgo:C,isCurrentUserAuthed:l,inFeed:r,displayHeadline:I,onCreateThoughtPress:L})))},XY=e=>{const{viewingContext:t,scrollContainerSelector:n,newsData:r,isUpdatingNews:i,isLoadingMoreNews:a,securityId:s,isCurrentUserAuthed:o}=e;return c.createElement("div",{className:"news-list-container",style:{padding:"4px"}},i&&c.createElement("div",{className:"updating-news-container"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"30px"}}),c.createElement("span",{className:""},"Updating news...")),r.map(((e,r)=>c.createElement(ZY,{key:`news-article-${s}-${r}`,securityId:s,newsData:e,viewingContext:t,scrollContainerSelector:n,isCurrentUserAuthed:o}))),a&&c.createElement("div",{className:"loading-more-news-container"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"30px"}}),c.createElement("span",{className:""},"Loading more news...")))};var JY=Object.defineProperty,eK=(e,t,n)=>(((e,t,n)=>{t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class tK extends C.exports.Component{constructor(e){super(e),eK(this,"_renderNewsContainer",(()=>this._isLoading()?this._renderLoading():this._wasErrorGettingNews()?this._renderError():c.createElement(BV,{id:"security-news-list-infinite-scroll",$scrollElement:this.props.isInPanel?$(".scroll-panel-container"):$(window),onInfiniteScroll:this.handleInfiniteScroll,ignoreInfiniteScroll:this.props.ignoreInfiniteScroll||!this._isMoreNewsAvailable(),distanceFromBottomToTriggerInfiniteScroll:400},this._renderNewsList()))),eK(this,"_renderLoading",(()=>c.createElement(Dw,{loadingMessage:"Loading news"}))),eK(this,"_renderError",(()=>c.createElement("div",{className:""},"There was an error getting the news. Please try again later."))),eK(this,"_renderNewsList",(()=>!this.state.isLoadingMoreNewsArticles&&this._isNoNews()?this._renderNoNewsMessage():c.createElement(XY,{securityId:this.props.securityId,viewingContext:this.props.viewingContext,scrollContainerSelector:this.props.scrollContainerSelector,newsData:this._returnNewsStoreDataForSecurity(),isUpdatingNews:this.isUpdatingNews(),isLoadingMoreNews:this.isLoadingMoreNews(),isCurrentUserAuthed:this.isCurrentUserAuthed()}))),eK(this,"handleInfiniteScroll",(()=>this._isMoreNewsAvailable()&&!this.isLoadingMoreNews()?(this._logInfiniteScrollTriggered(),this._fetchMoreNews()):new Promise((e=>e(!1))))),eK(this,"_handleLoggingOfNoNews",(()=>{this.setState((()=>({noNewsLogSent:!0}))),this._logNoNews()})),eK(this,"_isMoreNewsAvailable",(()=>!("isMoreNewsAvailable"in this.state)||this.state.isMoreNewsAvailable)),eK(this,"_updateNoMoreNewsAvailable",(()=>{this.setState((e=>({isMoreNewsAvailable:!1})))})),eK(this,"_returnTodayAsDateRange",(()=>{const e=Yl("L",jl());return[e,e]})),eK(this,"_fetchMoreNews",(()=>{const e=this.state.newsArticleDateRange,t=this._increaseNewsDateRange(e),n=this._returnNewsArticleCount();return this._fetchNews(t,n)})),eK(this,"_fetchNews",((e,t)=>{const n=Yl("L",jl());e=e||[n,n];const r={securityIds:this._returnSecurityId(),dateRange:e};return this._startLoadingMoreNewsArticles(),this.props.actions.fetchNews(r).then((n=>{if(n.data&&n.data.news){const r=this._wasMinNewsArticleResultsMet(n,t),i=this._wasDateRangeLimitReached(e);if(!r&&!i){const t=this._increaseNewsDateRange(e);return this._fetchNews(t)}i&&this._updateNoMoreNewsAvailable(),this._saveDateRangeForNewsArticles(e),this._stopLoadingMoreNewsArticles()}else this._handleFetchNewsError();return n}))})),eK(this,"_handleFetchNewsError",(()=>{this._stopLoadingMoreNewsArticles();const e=new Error("Something went wrong fetching more news articles.");zE(e)()})),eK(this,"_wasMinNewsArticleResultsMet",((e,t)=>{const n=5+(t=t||0);return this._returnNewsArticleCount()>=n})),eK(this,"_wasDateRangeLimitReached",(e=>{const t=e[0],n=Yl("L",jl()),r=jl(n).subtract(30,"days");return jl(t).isBefore(r)})),eK(this,"_returnNewsArticleCount",(()=>this._returnNewsStoreDataForSecurity()?this._returnNewsStoreDataForSecurity().length:0)),eK(this,"_returnNewsArticleCountFromResponse",(e=>e.data.news[0].length)),eK(this,"_increaseNewsDateRange",(e=>{const t=e?e[0]:this._returnTodayAsDateRange()[0],n=Yl("L",jl()),r=jl(t).isBefore(jl(n).subtract(7,"days"))?7:1,i=jl(t).subtract(r,"days"),a=jl(t).subtract(1,"days");return[i,1===r?i:a]})),eK(this,"_renderNoNewsMessage",(()=>c.createElement("div",{className:"no-news-message"},c.createElement(xc,{size:"xlarge",color:"#aaa",icon:"fa-newspaper-o"}),c.createElement("div",{className:"icon-sub-text"},"There is no recent news available.")))),eK(this,"isLoadingMoreNews",(()=>{const e=this.state.isLoadingMoreNewsArticles,t=this._returnNewsStoreDataForSecurity()&&this._returnNewsStoreDataForSecurity().length>0;return e&&t})),eK(this,"isUpdatingNews",(()=>this.state.isUpdatingNews)),eK(this,"isLoadingMoreNewsButNoCurrentResults",(()=>{const e=this.state.isLoadingMoreNewsArticles,t=this._returnNewsStoreDataForSecurity()&&0===this._returnNewsStoreDataForSecurity().length;return e&&t})),eK(this,"_returnNewsData",(()=>this.props.news)),eK(this,"_returnAllSecuritiesNewsData",(()=>this._returnNewsData().newsBySecurityId)),eK(this,"_returnNewsStoreDataForSecurity",(()=>this._returnAllSecuritiesNewsData()[this._returnSecurityId()])),eK(this,"_isNoNews",(()=>{const e=this._returnNewsStoreDataForSecurity()&&0===this._returnNewsStoreDataForSecurity().length;return!this.state.isLoadingMoreNewsArticles&&!this._isLoading()&&e})),eK(this,"_isLoading",(()=>{const e=this.props.securityId,t=this._returnAllSecuritiesNewsData();return!(e in t)||e in t&&!t[e]&&!this._wasErrorGettingNews()||this.isLoadingMoreNewsButNoCurrentResults()})),eK(this,"_returnErrorGettingNews",(()=>{const e=this.props.securityId,t=this._returnAllSecuritiesNewsData();return t[e]&&t[e].error})),eK(this,"_isNewsDataAlreadyAvailable",(()=>!!this._returnNewsStoreDataForSecurity())),eK(this,"_wasErrorGettingNews",(()=>!!this._returnErrorGettingNews())),eK(this,"_returnDateRangeForNewsArticles",(()=>this.state.dateRange)),eK(this,"isCurrentUserAuthed",(()=>"user_id"in this.props.currentUser)),eK(this,"_saveDateRangeForNewsArticles",(e=>{this.setState((t=>({newsArticleDateRange:e})))})),eK(this,"_startLoadingMoreNewsArticles",(()=>{this.setState((()=>({isLoadingMoreNewsArticles:!0})))})),eK(this,"_stopLoadingMoreNewsArticles",(()=>{this.setState((()=>({isLoadingMoreNewsArticles:!1})))})),eK(this,"_startUpdatingNews",(()=>{this.setState((()=>({isUpdatingNews:!0})))})),eK(this,"_endUpdatingNews",(()=>{this.setState((()=>({isUpdatingNews:!1})))})),eK(this,"_returnSecurityId",(()=>this.props.securityId)),eK(this,"_logNoNews",(()=>{const e={"Security ID":this._returnSecurityId()};this.props.actions.logMetricsTrackingEvent("No News Articles Available",e)})),eK(this,"_logInfiniteScrollTriggered",(()=>{const e={"Security ID":this._returnSecurityId()};this.props.actions.logMetricsTrackingEvent("Load Additional News Articles",e)})),this.state={isUpdatingNews:!1,isLoadingMoreNewsArticles:!1,noNewsLogSent:!1}}componentDidMount(){this._isNewsDataAlreadyAvailable()||this._fetchNews()}componentWillUnmount(){this.props.actions.clearNewsDataForSecurity(this._returnSecurityId())}componentDidUpdate(){this._isNoNews()&&!this.state.noNewsLogSent&&this._handleLoggingOfNoNews()}render(){return c.createElement("div",{className:"news-container"},this._renderNewsContainer())}}var nK=T((e=>({currentUser:e.currentUser,news:e.news})),(e=>({actions:I(WC,e)})))(tK),rK=Object.defineProperty,iK=(e,t,n)=>(((e,t,n)=>{t in e?rK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const aK=u.div``;class sK extends C.exports.Component{constructor(e){super(e),iK(this,"renderTabHeaders",(()=>{const e=this.props.userIsAuthenticated?["headlines","thoughts","ideas","compare"]:["headlines","thoughts","compare"],t=this.props.contentContainerWidth&&this.props.contentContainerWidth<625&&this.props.contentContainerWidth>200||$(window).width()<800;return e.map(((e,n)=>c.createElement(EG,{key:`security-card-tab-${e}`,iconOnly:t,tab:e,active:!this.props.activeTab&&this.props.defaultActiveTab===e||e===this.props.activeTab,hovering:this.state.hoveringTab===e,handleClick:this.props.handleTabClick,handleMouseOver:this.handleTabMouseOver,handleMouseOut:this.handleTabMouseOut})))})),iK(this,"renderTabContent",(e=>{const t={thoughts:()=>c.createElement(cq,{viewingContext:"Security Panel Thoughts List",security:this.props.security,isUserAuthed:this.props.userIsAuthenticated,showConnectionsThoughtsFilter:!0,scrollContainerSelector:this.props.isInPanel?".scroll-panel-container":window,useInfiniteScroll:!0}),compare:()=>c.createElement(CY,{securityId:this.props.securityId}),headlines:()=>c.createElement(nK,{securityId:this.props.securityId,viewingContext:this.props.isInPanel?"Security Panel":"Security Page",scrollContainerSelector:this.props.isInPanel?".scroll-panel-container":window,isInPanel:this.props.isInPanel})},n={ideas:()=>c.createElement(wG,{securityId:this.props.securityId,additionalTabData:this.props.additionalTabData,askingWhyFromNotif:this.props.askingWhyFromNotif,showCurrentUsersIdea:this.props.showCurrentUsersIdea},c.createElement(zq,{security:this.props.security,removeIdea:this.props.removeIdea,additionalTabData:this.props.additionalTabData,askingWhyFromNotif:this.props.askingWhyFromNotif,showCurrentUsersIdea:this.props.showCurrentUsersIdea,currentUserId:this.props.currentUserId}))},r=this.props.userIsAuthenticated?o(o({},t),n):t;if(e){const t=e&&e.toLowerCase();if(!t||!r[t]){console.error(`Tab ${t} is not valid, rendering default tab instead`);const e=this.props.defaultActiveTab&&this.props.defaultActiveTab.toLowerCase();return e?r[e]():r.thoughts()}return r[t]()}{const e=this.props.defaultActiveTab.toLowerCase();return e?r[e]():r.thoughts()}})),iK(this,"handleTabMouseOver",(e=>{this.setState((t=>({hoveringTab:e})))})),iK(this,"handleTabMouseOut",(()=>{this.setState((e=>({hoveringTab:null})))})),this.state={hoveringTab:""}}render(){return c.createElement(aK,{className:"security-card-body-container"},c.createElement("div",{className:"security-card-tab-headers"},this.renderTabHeaders(this.props.activeTab)),c.createElement("div",{className:"security-card-tab-content"},this.renderTabContent(this.props.activeTab)))}}const oK=e=>{const{property:t,security:n,hideIfNA:r}=e;if(Array.isArray(t)){const e=t.map((e=>"object"==typeof e?e.displayName:e)).join(" "),i=t.map((e=>`tooltip_${Qv("object"==typeof e?e.property:e,!0)}`));return c.createElement("tr",{className:"fin-data-row clearfix"},c.createElement("td",{className:"row-key"},c.createElement("span",{className:"info-icon-text-wrapper"},`${e}`,i&&c.createElement(iS,{word:i,symbol:(n||{}).symbol,style:{top:"auto",bottom:"-1px"}}))),c.createElement("td",{className:"row-data"},t.map(((e,t)=>c.createElement("div",{style:{display:"inline"},key:`fundamental-data-property-${"object"==typeof e?e.property:e}-${n.security_id}`},c.createElement(ej,{hideIfNA:r,securityId:n.security_id,property:"object"==typeof e?e.property:e}),0===t&&" (",1===t&&")")))))}const i="object"==typeof t?t.displayName:t,a="object"==typeof t?t.property:t;return c.createElement("tr",{className:"fin-data-row clearfix"},c.createElement("td",{className:"row-key"},c.createElement("span",{className:"info-icon-text-wrapper"},i,Qv(a,!0)&&c.createElement(iS,{word:`tooltip_${Qv(a,!0)}`,symbol:(n||{}).symbol,style:{top:"auto",bottom:"-1px"}}))),c.createElement("td",{className:"row-data"},c.createElement(ej,{hideIfNA:r,securityId:n.security_id,property:a})))};var lK=Object.defineProperty,cK=(e,t,n)=>(((e,t,n)=>{t in e?lK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class dK extends C.exports.Component{constructor(){super(...arguments),cK(this,"renderLoading",(()=>c.createElement(Dw,{pageName:"Fundamental Data",icon:"fading-3balls",size:"small",flatStyle:!0}))),cK(this,"renderTable",(e=>{const t=this[`return${e}TableProperties`]();return c.createElement("div",{className:`table-container ${e.toLowerCase()}-table-container`},c.createElement("table",{className:"financials-basic-summary-table scrollable"},c.createElement("tbody",null,t.map((e=>c.createElement(oK,{key:`fundamental-${"object"==typeof e?e.property:e}`,property:e,security:this.props.security}))))))})),cK(this,"isLoading",(()=>!this.didSecurityFundamentalDataLoad())),cK(this,"returnPropertiesToDisplay",(()=>[[{displayName:"Price/Earnings",property:"Price / Earnings"},{displayName:"(Fwd)",property:"Forward P/E"}],{displayName:"Price/Sales",property:"Price / Sales"},{displayName:"Proj. Rev. Growth",property:"Projected Revenue Growth"},"Dividend Yield","Market Cap","Net Debt",{displayName:"Fwd EPS (Curr Qtr)",property:"Forward EPS Curr Qtr"},{displayName:"Fwd EPS (Curr Yr)",property:"Forward EPS Curr Yr"}])),cK(this,"returnPropertiesAvailableOnSecurity",(()=>this.returnPropertiesToDisplay().filter((e=>this.isDataAvailableForProperty(e))))),cK(this,"returnLeftTableProperties",(()=>{const e=this.returnPropertiesAvailableOnSecurity(),t=Math.ceil(e.length/2);return e.slice(0,t)})),cK(this,"returnRightTableProperties",(()=>{const e=this.returnPropertiesAvailableOnSecurity(),t=Math.ceil(e.length/2);return e.slice(t,Math.ceil(e.length))})),cK(this,"returnSecurityId",(()=>this.props.security.security_id)),cK(this,"returnAllSecuritiesFundamentalData",(()=>this.props.fundamentalData.securities)),cK(this,"returnSecurityFundamentalData",(()=>{const e=this.returnSecurityId();return this.returnAllSecuritiesFundamentalData()[e]})),cK(this,"didSecurityFundamentalDataLoad",(()=>void 0!==this.returnSecurityFundamentalData())),cK(this,"isDataAvailableForProperty",(e=>{const t=this.returnSecurityFundamentalData();if(Array.isArray(e)){return e.map((e=>t["object"==typeof e?e.property:e])).every((e=>null!=e))}{const n=t["object"==typeof e?e.property:e];return null!=n}}))}render(){return this.isLoading()?this.renderLoading():c.createElement("div",{className:"basic-financials-container"},this.renderTable("Left"),this.renderTable("Right"))}}var uK=T((e=>({securities:e.securities,fundamentalData:e.fundamentalData})),(e=>({actions:I(WC,e)})))(dK),hK=Object.defineProperty,pK=(e,t,n)=>(((e,t,n)=>{t in e?hK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class mK extends C.exports.Component{constructor(e){super(e),pK(this,"handleClick",(()=>{this.props.handleClick(),this.setState((e=>({isOpen:!e.isOpen})))})),pK(this,"truncateText",(()=>{const{text:e,limit:t}=this.props;return e.slice(0,t)})),this.state={isOpen:!1}}render(){const{text:e}=this.props;return c.createElement("div",{className:"truncate-container",style:{padding:"5px 15px 5px 0px"}},this.state.isOpen?c.createElement("div",{className:"truncate-open-text-container component-bg",style:{padding:"5px 15px 5px 10px"}},c.createElement("span",{className:" "},e),c.createElement(Cc,{text:"Less...",customClass:"truncate-text-more-button link-btn",handleClick:this.handleClick}),c.createElement(aS,{customClass:"truncate-text-less-x-button",icon:"fa fa-times fa-times-thin",colorClassName:"secondary-text-color",size:"medium",background:"rgba(0,0,0,0)",handleClick:this.handleClick})):c.createElement("span",{className:this.props.textClassName||""},this.truncateText()+"..."),!this.state.isOpen&&c.createElement(Cc,{text:"More...",customClass:"truncate-text-more-button link-btn",handleClick:this.handleClick}))}}var gK=Object.defineProperty,yK=(e,t,n)=>(((e,t,n)=>{t in e?gK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const _K=u.div``,fK=u.div`
  font-size: 28px;
  line-height: 34px;
  font-weight: 600;
`,vK=u.div`
  font-size: 14px;
  line-height: 24px;
  max-width: 240px;

  p {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 540px) {
    max-width: 180px;
  }

  @media (max-width: 410px) {
    max-width: 110px;
  }
`,EK=u.div`
  font-size: 14px;
  line-height: 18px;
`,bK=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;

  p {
    margin: 0 !important;
  }
`,CK=({securityId:e})=>{const{symbol:t,name:n,sector:r}=IH(e);return c.createElement(_K,null,c.createElement(fK,null,c.createElement("p",null,t)),c.createElement(vK,null,c.createElement("p",null,c.createElement(Ei,null,n))),c.createElement(EK,null,c.createElement("p",null,c.createElement(Ci,{isLowContrast:!0},(null==r?void 0:r.description)||""))))},xK=({securityId:e})=>c.createElement(bK,null,c.createElement(CK,{securityId:e}),c.createElement(WH,{securityId:e}));class wK extends C.exports.Component{constructor(){super(...arguments),yK(this,"_renderFundamentalData",(()=>this._isSecurityFeatured()&&c.createElement("div",{className:"security-basic-financials"},c.createElement("div",{className:"security-basic-financials"},c.createElement(uK,{security:this._returnSecurity()})),c.createElement("div",{className:"security-heading-footer"},c.createElement("div",{className:"fundamental-data-provider secondary-text-color"},"Fundamental data provided by S&P Capital IQ"),c.createElement("div",{className:"sec-filing-link"},c.createElement("a",{href:`https://www.sec.gov/cgi-bin/browse-edgar?CIK=${this._returnSecuritySymbol()}`,target:"_blank",rel:"noopener noreferrer",onClick:this._logViewSECFilingEvent},"View latest SEC Filings")))))),yK(this,"_renderDescription",(()=>{const e=this._returnDescription();return c.createElement("div",{className:"security-description"},e&&e.length>0&&c.createElement(mK,{textClassName:"secondary-text-color",text:e,limit:225,handleClick:this.props.logEventForDescription}))})),yK(this,"_returnSecurityId",(()=>this.props.securityId)),yK(this,"_returnSecurity",(()=>this.props.security)),yK(this,"_returnSecuritySymbol",(()=>this._returnSecurity().symbol)),yK(this,"_isSecurityFeatured",(()=>this.props.isSecurityFeatured)),yK(this,"_returnDescription",(()=>"http://localhost:3000"===window.origin?"Apple Inc. designs, manufactures, and markets mobile communication and media devices, and personal computers to consumers, and small and mid-sized businesses; and education, enterprise, and government customers worldwide. The company also sells related software, services, accessories, networking solutions, and third-party digital content and applications. It offers iPhone, a line of smartphones; iPad, a line of multi-purpose tablets; and Mac, a line of desktop and portable personal computers, as well as operating systems comprising iOS, macOS, watchOS, and tvOS. The company also provides iWork, an integrated productivity suite that helps users create, present, and publish documents, presentations, and spreadsheets; and other application software, such as Final Cut Pro, Logic Pro X, and FileMaker Pro. In addition, it offers Apple TV that connects to consumers’ TV and enables them to access digital content directly for streaming high definition video, playing music and games, and viewing photos; Apple Watch, a personal electronic device; and iPod touch, a flash memory-based digital music and media player. Further, the company sells Apple-branded and third-party accessories, such as headphones, displays, storage devices, Beats products, and other connectivity and computing products and supplies. Additionally, it offers iCloud, a cloud service that stores music, photos, contacts, calendars, mail, documents, and others; AppleCare, which offers support options for its customers; and Apple Pay, a cashless payment service. The company sells and delivers digital content and applications through the iTunes Store, App Store, Mac App Store, TV App Store, iBooks Store, and Apple Music. It also sells its products through its retail and online stores, and direct sales force, as well as through third-party cellular network carriers, wholesalers, retailers, and value-added resellers. Apple Inc. was founded in 1977 and is headquartered in Cupertino, California.":this.props.description)),yK(this,"_logViewQuote",(()=>{const e={"From Email":"N/A","Stock Symbol":this._returnSecuritySymbol(),"Security ID":this._returnSecurityId(),User:this.props.currentUser.analytics_id||null,"HTTP Referrer":"N/A","Inbound HTTP Referrer:":"N/A","Promo Code":"N/A"};th.security.VIEW_QUOTE.send(e)})),yK(this,"_logViewSECFilingEvent",(()=>{const e={"Security Symbol":this._returnSecuritySymbol(),"Security ID":this._returnSecurityId()};TC("Clicked View SEC Filings Link",e)()}))}componentDidMount(){this._logViewQuote()}render(){return c.createElement("div",{className:"security-heading-container"},c.createElement(xK,{securityId:this._returnSecurityId()}),this._renderDescription(),this._renderFundamentalData())}}const SK=e=>{const{user:t,userId:n,idea:r,showNameTag:i,handleHover:a,handleHoverEnd:s,hideLabels:o}=e;return c.createElement("div",{className:"position-visualizer-idea-container"},c.createElement(gP,{userId:t?t.user_id:n},c.createElement(VP,{size:"small",ideaType:r&&r.idea_type&&r.idea_type.name,profileLinkQuery:`?context=${Qg}`,showNameTag:i,handleMouseOver:()=>a(r&&r.idea_id),handleMouseOut:s}),c.createElement(WL,{hide:o})))};class kK extends C.exports.Component{constructor(){super(),this.state={showAdditionalIdeas:!1}}handleClick(e){e.preventDefault(),this.setState({showAdditionalIdeas:!this.state.showAdditionalIdeas})}determineOffset(){const e=this.determineTooltipWidth.call(this);return"long"===this.props.position||"left"===this.props.expandDirection?-1*e+42:-18}determineTooltipWidth(){return 10+31*this.props.ideas.length+2}render(){const e=this.props.ideas,t=this.props.ideas.length,n=this.state.showAdditionalIdeas?"":"hidden",r="left"===this.props.expandDirection?"additional-ideas-expand-left":"additional-ideas-expand-right",i={width:`${this.determineTooltipWidth()}px`},a={left:`${this.determineOffset.call(this)}px`};return 0===t?c.createElement("div",null):c.createElement("div",{className:"position-visualizer-idea-container"},c.createElement("a",{className:"grouped-ideas-button main-bg-color-match border-accent",onClick:this.handleClick.bind(this)},c.createElement("span",{className:"no-select  "},`+${t}`)),c.createElement("div",{className:`tooltip-container ${r} ${n}`,style:o(o({},i),a)},c.createElement("div",{className:"tooltip-body main-bg-color-match border-accent"},e.map((e=>c.createElement(SK,{key:`idea-${e.user_id}`,userId:e.user_id,idea:this.props.showIdeaTypeShadow&&e,showNameTag:e.idea_id===this.props.ideaBeingHovered,hideLabels:this.props.hideLabels,handleHover:()=>{this.props.handleHover(e.idea_id)},handleHoverEnd:this.props.handleHoverEnd}))))))}}var TK=Object.defineProperty,IK=(e,t,n)=>(((e,t,n)=>{t in e?TK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class NK extends C.exports.Component{constructor(){super(),IK(this,"determineMaxProfilePics",(e=>e<401?2:e<481?3:e<581?4:5)),IK(this,"handleHover",(e=>{this.setState({ideaBeingHovered:e})})),IK(this,"handleHoverEnd",(()=>{this.setState({ideaBeingHovered:null})})),this.state={ideaBeingHovered:null}}render(){const e=this.determineMaxProfilePics(window.innerWidth),t=this.props.ideas;let n,r;t.length>e?(n=t.slice(0,e-1),r=t.slice(e-1,t.length)):(n=t.slice(0,e+1),r=[]),("short"===this.props.position&&!this.props.reverse||"long"===this.props.position&&this.props.reverse)&&(n=n.reverse());const i="responsive"===this.props.style?"responsive-ideas-list-container":"ideas-list-container",a="short"===this.props.position&&!this.props.reverse,s="long"===this.props.position||"short"===this.props.position&&this.props.reverse;return c.createElement("div",{className:i},a&&c.createElement(kK,{limit:e,ideas:r,position:this.props.position,ideaBeingHovered:this.state.ideaBeingHovered,hideLabels:this.props.hideLabels,handleHover:this.handleHover,handleHoverEnd:this.handleHoverEnd,expandDirection:this.props.expandDirection,showIdeaTypeShadow:this.props.showIdeaTypeShadow}),n.map((e=>c.createElement(SK,{key:`idea-${e.user_id}`,userId:e.user_id,idea:this.props.showIdeaTypeShadow&&e,hideLabels:this.props.hideLabels,showNameTag:e.idea_id===this.state.ideaBeingHovered,handleHover:this.handleHover,handleHoverEnd:this.handleHoverEnd}))),0===this.props.ideas.length&&c.createElement("div",{className:"position-visualizer-idea-container"}),s&&c.createElement(kK,{limit:e,ideas:r,position:this.props.position,hideLabels:this.props.hideLabels,ideaBeingHovered:this.state.ideaBeingHovered,handleHover:this.handleHover,handleHoverEnd:this.handleHoverEnd,expandDirection:this.props.expandDirection,showIdeaTypeShadow:this.props.showIdeaTypeShadow}))}}var AK=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(NK);class PK extends C.exports.Component{render(){const e=((e,t)=>Object.keys(t).filter((n=>AS(t[n]).toString()===e.toString())).map((e=>t[e])))(this.props.security.security_id,this.props.ideas.ideaList).filter((e=>"price_target"in e&&e.active)),t=e.filter((e=>!e.current_users_idea)),{long:n,short:r}=(e=>({long:e.filter((e=>0===e.idea_type.id)),short:e.filter((e=>1===e.idea_type.id))}))(t),i=e.filter((e=>e.current_users_idea))[0];i&&(0===i.idea_type.id?n:r).unshift(i);const a=r.length>0&&n.length>0?"float-left":"container-center";return this.props.isLoading?c.createElement("div",{className:"stacked-row",style:this.props.containerStyling||{}},c.createElement(Dw,{icon:"fading-3balls",size:"small",flatTransparent:!0,hideLoadingText:!0})):c.createElement("div",{className:"stacked-row",style:this.props.containerStyling||{}},n.length>0&&c.createElement("div",null,c.createElement("div",{className:"stacked-ideas-container"},c.createElement("div",{className:`column-container ${a}`},c.createElement("div",{className:"horizontal-heading secondary-text-color"},"Interested in Buying"),c.createElement(AK,{ideas:n,position:"long",style:"responsive",hideLabels:!0,showIdeaTypeShadow:!0})))),r.length>0&&c.createElement("div",null,c.createElement("div",{className:"stacked-ideas-container"},c.createElement("div",{className:`column-container ${a}`},c.createElement("div",{className:"horizontal-heading secondary-text-color"},"Interested in Selling"),c.createElement(AK,{ideas:r,position:"short",style:"responsive",expandDirection:"left",reverse:!0,hideLabels:!0,showIdeaTypeShadow:!0})))),c.createElement("div",{className:"clear-float"}))}}var DK=T((e=>({ideas:e.ideas,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(PK);const OK="#ff9c22",LK="#ff7666",RK="#d11976",FK="#f0e697",MK=[Nk("#3db735"),Nk(OK),Nk(FK),Nk(LK),Nk(RK)],UK=["one_day","two_days"],$K={lineTension:.1,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(61, 183, 53, 0)",pointBackgroundColor:"rgba(61, 183, 53, 0)",pointBorderWidth:1,pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointHitRadius:10,spanGaps:!0},BK=e=>yk(78).map(((t,n)=>e[n]||{price:null,time:null})),zK=e=>yk(156).map(((t,n)=>e[n]||{price:null,time:null})),VK=(e,t)=>e?`rgba( ${e.red}, ${e.green}, ${e.blue}, ${t})`:"rgba( 200, 255, 200, 0.8)",HK=e=>({maintainAspectRatio:e.maintainAspectRatio||!1,showXLabels:5,animation:{duration:220},scales:{xAxis:{grid:o({display:!1,color:e.xAxesGridLinesColor||"rgba(220, 220, 220, 0)"},e.xAxesGridLines||{}),ticks:{display:!1,font:{color:e.yAxesLabelFontColor||"#ccc",size:e.yAxesLabelFontSize||12,family:el.normal},autoSkip:!1,maxRotation:0,minRotation:0}},yAxis:{grid:o({drawBorder:!1,color:e.yAxesGridLinesColor||"rgba(235, 235, 235, 0.4)"},e.yAxesGridLines||{}),position:e.yAxesLabelPosition||"right",ticks:l(o({},e.yAxesTicks||{}),{font:{color:e.yAxesLabelFontColor||"#ccc",size:e.yAxesLabelFontSize||12,family:el.normal},callback:function(t,n,r){return e.yAxesAfterBuildTicks?0===n?e.yAxesAfterBuildTicks[1]:n===r.length-1?e.yAxesAfterBuildTicks[0]:void 0:(e=>hk(e,e<1e-4?{maximumFractionDigits:0,currency:"USD"}:e<.01||e<.1?{minimumFractionDigits:3,maximumFractionDigits:4,currency:"USD"}:e<1||e<10?{minimumFractionDigits:2,maximumFractionDigits:2,currency:"USD"}:{maximumFractionDigits:2,currency:"USD"}))(t)}})}},plugins:{legend:e.showLegend||!1,tooltip:{enabled:!e.disableTooltips,callbacks:{title:function(e){const t=e[0],{label:n,dataset:r}=t,{label:i}=r;return`${i} - ${n}`},label:function(e){return""},afterBody:function(e){const t=e[0],{raw:n}=t;return`Price: ${B_(n,"price")}`}}}}});class WK extends c.Component{render(){const{color:e,chartData:t,symbol:n,config:r}=this.props,i=(i=>{const{labels:a,prices:s,additionalDataset:l}=t,c={fill:!r.hideFill,lineTension:.1,borderWidth:2,borderCapStyle:"round",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointHoverBorderWidth:2,pointRadius:0,pointHitRadius:10,pointBorderWidth:1,pointHoverRadius:6,spanGaps:!0},d=[o({label:n,data:s,fill:!r.hideFill,backgroundColor:"rgba(36, 217, 121, 0.2)",borderColor:"rgba(36, 217, 121, 1.0)",pointBorderColor:"rgba(61, 183, 53, 0)",pointBackgroundColor:"rgba(61, 183, 53, 0)",pointHoverBackgroundColor:(u=e,h="0.75",`rgba( ${u.red}, ${u.green}, ${u.blue}, ${h})`),pointHoverBorderColor:"rgba(220, 220, 220, 1)"},c)];var u,h;return l&&d.push(o({label:"SPY",data:l,backgroundColor:"rgba(200, 200, 220, 0.25)",borderColor:r.customBorderColor||"rgba(200, 200, 220, 0.5)",pointBorderColor:"rgba(61, 183, 53, 0)",pointBackgroundColor:"rgba(61, 183, 53, 0)",pointHoverBackgroundColor:"rgba(200,200,220,.5)",pointHoverBorderColor:"rgba(220,220,220,1)"},c)),{labels:a,datasets:d}})(),a=HK(r);return i.datasets&&0!==i.datasets.length?c.createElement("div",{className:"fin-chart"},c.createElement(O,{type:"line",data:i,options:a,height:r.height,width:r.width}),r.xAxisLabel&&c.createElement("div",{className:"x-axis-label"},r.xAxisLabel)):c.createElement("div",{className:"fin-chart"})}}var jK=Object.defineProperty,GK=(e,t,n)=>(((e,t,n)=>{t in e?jK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const qK=u.div`
  &:hover .time-period-label {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  &.active .time-period-label {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
  &.active .time-period-underline {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
`,YK=[{name:"one_day",displayLabel:"1D",fullName:"1 Day"},{name:"two_days",displayLabel:"2D",fullName:"2 Days"},{name:"one_month",displayLabel:"1M",fullName:"1 Month"},{name:"one_year",displayLabel:"1Y",fullName:"1 Year"},{name:"five_years",displayLabel:"5Y",fullName:"5 Years"},{name:"max",displayLabel:"Max",fullName:"Max"}],KK=u.div`
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
`,QK=u.div`
  position: relative;
  width: 100%;
`,ZK=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 5px;
`;class XK extends C.exports.Component{constructor(e){var t;super(e),GK(this,"renderLoadingComponent",(()=>{const e={textAlign:"center",marginTop:"15px",marginLeft:"0",height:(this.props.userIsAuthenticated?150:200)+"px",width:"100%",paddingTop:"50px"};return c.createElement("div",{className:"loading-price-history-container",style:e},"Loading Price History",c.createElement("br",null),c.createElement(_e,{icon:"fading-3balls",size:"small",style:{}}))})),GK(this,"renderTimePeriodButton",(e=>{const t=e.displayLabel,n=e.name,r=e.name===this.state.timePeriod;return c.createElement(qK,{className:"time-period-button "+(r?"active ":""),onClick:()=>{this.handleTimePeriodChange(n)},key:`${n}-chart-button`},c.createElement("div",{className:"time-period-label"},t),c.createElement("div",{className:"time-period-underline "+(r?"active":"")}))})),GK(this,"_handleOverlaySpyCheckboxClick",(()=>{const e=!this.state.shouldOverlaySpy;this.logOverlaySpyCheckboxClick(e),this._persistCompareSpyValue(e),this.setState((t=>({shouldOverlaySpy:e})))})),GK(this,"_persistCompareSpyValue",(e=>this.props.actions.updateUserProperty({show_compare_spy_price_history:e}))),GK(this,"isAlreadyShowingSpy",(()=>this.props.securityId===this.state.spySecurityId)),GK(this,"isShowingSpyOverlay",(()=>this.state.shouldOverlaySpy&&!this.isAlreadyShowingSpy())),GK(this,"isSpyOverlayDataLoading",(()=>this.isShowingSpyOverlay()&&!this.returnAdditionalSecurityPriceTimePeriodData())),GK(this,"isChartDataLoading",(()=>!this.returnSecurityPriceTimePeriodData())),GK(this,"isUsingCompareSpyOption",(()=>this.props.compareToSpyOption&&"max"!==this.state.timePeriod)),GK(this,"isLoading",(()=>this.isChartDataLoading()||this.isUsingCompareSpyOption()&&this.isSpyOverlayDataLoading())),GK(this,"returnChartConfig",(()=>"minimal"===this.props.chartStyle?this.returnMinimalConfig():this.returnDefaultConfig())),GK(this,"returnDefaultConfig",(()=>({height:this.props.userIsAuthenticated?150:200,width:500,disableTooltips:!1,pointRadius:1,pointHoverRadius:5,xAxesGridLines:{drawBorder:!1,display:!1,zeroLineWidth:0}}))),GK(this,"returnMinimalConfig",(()=>{const e=this.generateChartPrices(),t=e[0]>25?.05:.075,n=this.props.applyPaddingToYAxisMinMax?Math.min(...e)*t:0,r=this.props.applyPaddingToYAxisMinMax?Math.max(...e)*t:0,i=Math.floor(Math.min(...e)-n),a=Math.ceil(Math.max(...e)+r);return{height:95,width:168,disableTooltips:!0,xAxisLabel:this.props.showXAxisLabel||"",yAxesLabelFontSize:8,yAxesLabelFontColor:"#ccc",yAxesTicks:{min:i,max:a},yAxesGridLines:{drawBorder:!this.props.hideAllAxes,zeroLineWidth:0},xAxesGridLines:{drawBorder:!1,display:!1,zeroLineWidth:0},borderWidth:2,hideFill:!0,borderCapStyle:"round",customBorderColor:e[0]<e[e.length-1]?"rgba(1, 205, 3, 1)":"rgba(255, 88, 82, 1)",pointRadius:0,hideYAxesTicks:!0,pointHoverRadius:0,yAxesAfterBuildTicks:[i,a]}})),GK(this,"isNoChartData",(()=>{const e=this.returnSecurityPriceTimePeriodData();return!e||0===e.length})),GK(this,"determineChartColor",(()=>{const e=this.returnSecurityPriceTimePeriodData();return e.length>0&&parseFloat(e[0].price)<parseFloat(e[e.length-1].price)?{red:"178",green:"255",blue:"172"}:{red:"255",green:"178",blue:"172"}})),GK(this,"handleTimePeriodChange",(e=>{if(0===YK.filter((t=>t.name===e)).length)return console.error("Attempted to switch chart to a time period that is not supported."),!1;const t={context:this.props.chartContext||console.error("No context specified for chart, tracking event will be missing that data")||"Undefined","Time Period":this.convertTimePeriodNameToFullName(e)};this.props.actions.logMetricsTrackingEvent("Change Chart Time Period",t),this.setState((t=>({timePeriod:e})))})),GK(this,"convertTimePeriodNameToFullName",(e=>YK.filter((t=>t.name===(e||this.state.timePeriod)))[0].fullName)),GK(this,"returnSecurityPriceTimePeriodData",((e=this.props)=>{const t=e.securityId,n=this.state.timePeriod,r=e.securitiesPriceHistory.securitiesList[t],i=r?r[n]:null;return"minimal"===this.props.chartStyle&&"one_year"===this.state.timePeriod&&i?i.filter(((e,t)=>t%5==0)):i})),GK(this,"returnAdditionalSecurityPriceTimePeriodData",((e=this.props)=>{const t=this.state.spySecurityId,n=this.state.timePeriod,r=e.securitiesPriceHistory.securitiesList[t],i=r?r[n]:null;return"minimal"===this.props.chartStyle&&"one_year"===this.state.timePeriod&&i?i.filter(((e,t)=>t%5==0)):i})),GK(this,"generateChartLabels",(()=>{const e=this.returnSecurityPriceTimePeriodData()||[];return(this._isIntraOrTwoDayTimePeriod()?this._isIntradayTimePeriod()?BK(e):zK(e):e).map((e=>{if(null===e.time)return null;const t=1e3*e.time,n=jl(t);return"one_day"===this.state.timePeriod||"two_days"===this.state.timePeriod?`${Yl("l",n)} ${Yl("LT",n)}`:`${Yl("l",n)}`}))})),GK(this,"generateChartPrices",(()=>{const e=this.returnSecurityPriceTimePeriodData()||[];return(this._isIntraOrTwoDayTimePeriod()?this._isIntradayTimePeriod()?BK(e):zK(e):e).map((e=>e.price))})),GK(this,"generateAdditionalDatasetChartData",(()=>{const e=this.returnAdditionalSecurityPriceTimePeriodData()||[],t=this._isIntraOrTwoDayTimePeriod()?this._isIntradayTimePeriod()?BK(e):zK(e):e,n=this.returnSecurityPriceTimePeriodData()[0].price/t[0].price;return t.map((e=>e.price)).map(((e,t)=>nk(e)?null:e*n))})),GK(this,"generateChartData",(()=>{const e=this.generateChartPrices();return{labels:this.generateChartLabels(),prices:e,additionalDataset:this.state.shouldOverlaySpy&&this.state.spySecurityId&&this.isUsingCompareSpyOption()?this.generateAdditionalDatasetChartData():null,xAxisTicks:[],yAxisTicks:this.buildYaxisTicks(e)}})),GK(this,"buildYaxisTicks",(e=>{e=e.map((e=>qk(e)));const t=[],n=Math.min(e),r=Math.max(e),i=r-n;t.push(n);for(var a=1;a<=3;a++)t.push((i/5-2)*a);return t.push(r),t})),GK(this,"onGetSPYSecurityId",(()=>{const e=this.state.spySecurityId;this.props.actions.fetchSecuritiesPriceHistoryData([e],"one_year"),this.props.actions.fetchSecuritiesPriceHistoryData([e],"one_day"),this.props.actions.fetchSecuritiesPriceHistoryData([e],"two_days"),this.props.actions.fetchSecuritiesPriceHistoryData([e],"five_years"),this.props.actions.fetchSecuritiesPriceHistoryData([e],"max")})),GK(this,"_getSPYSecurityId",(()=>{this.convertSecuritySymbolToSecurityId("SPY").then((e=>{e?this.setSpySecurityId(e):this.showCannotOverlaySPYError()}))})),GK(this,"showCannotOverlaySPYError",(()=>{const e={contentComponent:bS("Unable to show SPY prices at this time. Please try again later."),dismissable:!0,size:"wide"};this.props.actions.showModal(e)})),GK(this,"setSpySecurityId",(e=>this.setState((()=>({spySecurityId:e}))))),GK(this,"convertSecuritySymbolToSecurityId",(e=>this.props.actions.quickFetchSecuritiesData([e]).then((e=>e&&e.securities&&e.securities[0]?e.securities[0].security_id:null)))),GK(this,"_returnTimePeriod",(()=>this.state.timePeriod)),GK(this,"_isIntraOrTwoDayTimePeriod",(()=>{const e=this._returnTimePeriod();return t=e,UK.includes(t);var t})),GK(this,"_isIntradayTimePeriod",(()=>"one_day"===this._returnTimePeriod())),GK(this,"logOverlaySpyCheckboxClick",(e=>{const t={"Security ID":this.props.securityId,"Toggle On":e};this.props.actions.logMetricsTrackingEvent("Clicked Compare Price History To SPY",t)})),this.state={timePeriod:e.defaultTimePeriod||"one_year",shouldOverlaySpy:(t=e.currentUser,t.show_compare_spy_price_history),spySecurityId:null}}componentDidMount(){this.props.lockTimePeriod?"one_year"!==this.props.defaultTimePeriod&&this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],this.props.defaultTimePeriod):(this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],"one_year"),setTimeout((()=>{this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],"one_day"),this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],"two_days"),this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],"five_years"),this.props.actions.fetchSecuritiesPriceHistoryData([this.props.securityId],"max")}),1e3)),this.isUsingCompareSpyOption()&&this._getSPYSecurityId()}componentDidUpdate(e,t){!t.spySecurityId&&this.state.spySecurityId&&this.onGetSPYSecurityId()}render(){const{lockTimePeriod:e}=this.props;return this.isLoading()?this.renderLoadingComponent():this.isNoChartData()?c.createElement("div",{className:"fin-chart"}):c.createElement(QK,{className:"security-chart-container"},!e&&c.createElement(ZK,{className:"time-period-selection-container"},c.createElement(KK,null,YK.map((e=>this.renderTimePeriodButton(e))),this.isUsingCompareSpyOption()&&!this.isAlreadyShowingSpy()&&c.createElement("div",{className:"chart-option-selection-container"},c.createElement(eq,{name:"compare_to_spy",label:"Compare SPY",value:this.state.shouldOverlaySpy,handleClick:this._handleOverlaySpyCheckboxClick})))),c.createElement(WK,{securityId:this.props.securityId,symbol:this.props.symbol,config:this.returnChartConfig(),color:this.determineChartColor(),chartData:this.generateChartData(),userIsAuthenticated:this.props.userIsAuthenticated}))}}var JK=T((e=>({currentUser:e.currentUser,securitiesPriceHistory:e.securitiesPriceHistory})),(e=>({actions:I(WC,e)})))(XK);const eQ={"/":"Home","/about":"About Us","/faq":"FAQ","/legal":"Legal","/login":"Login","/404":"404 Error Page","/500":"500 Error Page","/enterprise":"Enterprise","/funding-bonus-rules":"Funding Bonus Rules","/margin_disclosure":"Margin Disclosure","/privacy_policy":"Privacy Policy","/referral_rules":"Referral Rules","/surveyrules":"Surveyrules","/terms_of_service":"Terms of Service","/viewpoint_guidelines":"Viewpoint Guidelines","/share/[id]":"Share","/ideas":"Ideas Screen"},tQ=e=>{const t=D((t=>((e,t)=>e.securitiesPrice.securities[t]||null)(t,e))),[n,r]=c.useState(t||{});return c.useEffect((()=>{n===t||nk(t)||r(t)}),[t,n]),n},nQ=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  max-width: 600px;
  margin: 0 auto;
  width: 100%;

  button {
    padding: 10px 16px;
  }

  #buy-button {
    border-color: ${({theme:e})=>e.themeColors.positive};
    color: ${({theme:e})=>e.themeColors.positive};

    * {
      color: ${({theme:e})=>e.themeColors.positive};
    }

    &:hover {
      border-color: ${({theme:e})=>e.themeColors.positive};
      background-color: ${({theme:e})=>e.themeColors.positive};
      color: ${({theme:e})=>e.themeColors.buttonText};

      * {
        color: ${({theme:e})=>e.themeColors.buttonText};
      }
    }
  }

  #sell-button {
    border-color: ${({theme:e})=>e.themeColors.negative};

    color: ${({theme:e})=>e.themeColors.negative};

    * {
      color: ${({theme:e})=>e.themeColors.negative};
    }

    &:hover {
      border-color: ${({theme:e})=>e.themeColors.negative};
      background-color: ${({theme:e})=>e.themeColors.negative};
      color: ${({theme:e})=>e.themeColors.buttonText};

      * {
        color: ${({theme:e})=>e.themeColors.buttonText};
      }
    }
  }

  .c,
  .d {
    button {
      width: 108px;
    }
  }

  @media (max-width: 700px) {
    display: grid;
    grid-gap: 8px;
    align-items: flex-start;
    justify-items: flex-start;
    width: 408px;
    margin: 0 auto;

    .a {
      grid-column: 1;
      grid-row: 1;
    }
    .b {
      grid-column: 2;
      grid-row: 1;
    }
    .c {
      grid-column: 1;
      grid-row: 2;
      justify-self: flex-end;
      text-align: right;
    }
    .d {
      grid-column: 2;
      grid-row: 2;
      text-align: left;
    }

    > div:first-child,
    > div:nth-child(2) {
      button {
        width: 200px;
      }
    }
  }

  @media (max-width: 540px) {
    display: grid;
    width: 100%;

    grid-gap: 8px;
    grid-template-columns: 1fr 1fr;
    align-items: flex-start;

    > div:first-child,
    > div:nth-child(2) {
      button {
        width: 225px;
      }
    }

    .a {
      width: 100%;
      grid-column: 1 / span 2;
      grid-row: 1;
      text-align: center;
    }
    .b {
      width: 100%;
      grid-column: 1 / span 2;
      grid-row: 2;
      text-align: center;
    }
    .c {
      grid-column: 1;
      grid-row: 3;
      text-align: right;
      button {
        width: 108px;
      }
    }
    .d {
      grid-column: 2;
      grid-row: 3;
      text-align: left;
      button {
        width: 108px;
      }
    }
  }
`,rQ=u.div`
  padding: 0 16px 24px 16px;
`,iQ=u.div``,aQ=({securityId:e,buttonWidth:t})=>{const n=b();return c.createElement(hx,{onClick:()=>{n(dn.build(e))}},"Trade Options")},sQ=({securityId:e})=>{const{isEnabled:t}=NI();return t?c.createElement(aQ,{securityId:e}):c.createElement(Oz,{viewingContext:"Security Panel",securityId:e})},oQ=({securityId:e,handleAddIdeas:t})=>{var n;const r=_(),i=eI(),a=D((e=>e.ideas)),{symbol:s}=IH(e),d=a.loadingCurrentUserIdeas,u=a.userCreatingIdeas[e],h=null==(n=RS(i,e,a.ideaList))?void 0:n.idea_id,p=!d&&((e,t,n)=>Object.keys(n).filter((e=>AS(n[e]).toString()===t.toString())).map((e=>n[e])).filter((t=>t.user_id===e)).length>0)(i,e,a.ideaList),m=()=>{const t=RS(i,e,a.ideaList);return(e=>{pl.viewed.IDEA_VIEWED.send(l(o({},e),{url:window.location.pathname,url_query:window.location.search}))})({idea_type:null==t?void 0:t.idea_type.name.toLowerCase(),ticker_symbol:null==t?void 0:t.security.symbol,context:eQ[r.pathname]||r.pathname}),m(null==t?void 0:t.idea_id)};return(()=>{const t=fe(r.search),n=RS(i,e,a.ideaList),s="ideas"===t.activeTab&&t.ideaId&&n&&t.ideaId.toString()===n.idea_id.toString(),o="ideas"===t.activeTab&&(nk(t.ideaId)||"null"===t.ideaId);return p&&(s||o)})()?c.createElement(hx,{disabled:!0,onClick:()=>!1},"Viewing Idea"):d||u?c.createElement(hx,{disabled:!0,onClick:()=>!1},"Loading"):c.createElement(hx,{onClick:h?m:t},h?"View My Idea":`Save ${s} to My Ideas`)},lQ=({securityId:e,handleAddIdeas:t,handleBuyClick:n,handleSellClick:r})=>{const i=dI(),{featured:a,symbol:s}=IH(e),{is_halted:o}=tQ(e),l=!i&&a&&!o;return c.createElement(rQ,null,c.createElement(nQ,null,c.createElement(iQ,{className:"a"},c.createElement(oQ,{securityId:e,handleAddIdeas:t})),c.createElement(iQ,{className:"b"},c.createElement(sQ,{securityId:e})),l&&c.createElement(iQ,{className:"c"},c.createElement(sx,{buttonProps:{id:"buy-button"},onClick:n},"Buy")),l&&c.createElement(iQ,{className:"d"},c.createElement(sx,{buttonProps:{id:"sell-button"},onClick:r},"Sell"))),o&&c.createElement("div",{className:"security-action-btn-group security-card-halted-msg"},"Trading in this security is currently halted by the exchange."))};var cQ=Object.defineProperty,dQ=(e,t,n)=>(((e,t,n)=>{t in e?cQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const uQ=u.div`
  .buy-bg-color {
    background-color: ${({theme:e})=>e.themeColors.positive};
  }

  .sell-bg-color {
    background-color: ${({theme:e})=>e.themeColors.negative};
  }
`;class hQ extends c.Component{constructor(){super(),dQ(this,"_isLoading",(()=>this.state._isLoading)),dQ(this,"_renderChart",((e,t)=>c.createElement("div",{className:"position-chart-container"},c.createElement("div",{className:`position-chart-label ${e}-position-type ${"long"===e.toLowerCase()?"buy":"sell"}-text-color`},this._returnLabelFrom(e)),c.createElement("div",{className:"position-chart-bar-container"},this._renderBar(e,t)),c.createElement("div",{className:"position-chart-value secondary-text-color"},this._returnDisplayValue(t))))),dQ(this,"_renderBar",((e,t)=>{let n=t>20?20:Math.ceil(t);n=0===n?1:n;const r=n/20,i=this._returnBarMaxWidth()*r;return c.createElement(uQ,{className:"position-bar-container"},c.createElement("div",{className:`position-bar border-accent ${e}-position-type ${"long"===e.toLowerCase()?"buy":"sell"}-bg-color`,style:{width:`${i}px`}}))})),dQ(this,"_returnDisplayValue",(e=>e<1?"< 1%":e>20?"> 20%":`~${Math.round(e)}%`)),dQ(this,"_returnLabelFrom",(e=>({long:"Long",short:"Short"}[e]))),dQ(this,"_returnValueFor",(e=>({long:this._returnCommunityPercentLong,short:this._returnCommunityPercentShort}[e]()))),dQ(this,"_returnBarWidthBasedOnValue",(e=>{const t=this._returnWindowWidth();return t>1200?16*e:t>920?12*e:t>800?20*e:t>700?16*e:t>500?12*e:6*e})),dQ(this,"_calcAndSetContentWidth",(()=>{const e=this._returnContentContainerWidth()-this._returnHeadingWidth();this._getContentWidth()===e||isNaN(this._getContentWidth())||this._setContentWidth(e)})),dQ(this,"_getCommunityIdeaData",(()=>this.props.actions.fetchCommunityIdeas())),dQ(this,"_handleGetCommunityIdeaDataResponse",(e=>{if(e&&e.data&&e.data.securities){let t=e.data.securities.filter((e=>e.security_id===this._returnSecurityId()))[0];if(!t){t={community_percent_long:0,community_percent_short:0}}this._saveCommunityPositionData(t),this._setLoadingComplete()}else this.props.actions.showModal(xS())})),dQ(this,"_setLoadingComplete",(()=>{this.setState((()=>({_isLoading:!1})))})),dQ(this,"_saveCommunityPositionData",(e=>{this.setState((()=>({_communityPositionData:e})))})),dQ(this,"_returnBarMaxWidth",(()=>this._getContentWidth()-100)),dQ(this,"_returnHeadingWidth",(()=>this._$returnHeadingNode().width()||120)),dQ(this,"_$returnHeadingNode",(()=>this._$returnContentContainerNode().find(".heading-container"))),dQ(this,"_returnContentContainerWidth",(()=>this._$returnContentContainerNode().width())),dQ(this,"_$returnContentContainerNode",(()=>window.$(this._returnContentContainerNode()))),dQ(this,"_returnContentContainerNode",(()=>this.ContentContainer)),dQ(this,"_getContentWidth",(()=>this.state._contentWidth)),dQ(this,"_setContentWidth",(e=>{this.setState((()=>({_contentWidth:e})))})),dQ(this,"_returnCommunityPercentLong",(()=>this._returnCommunityPositionData().community_percent_long)),dQ(this,"_returnCommunityPercentShort",(()=>this._returnCommunityPositionData().community_percent_short)),dQ(this,"_returnCommunityPositionData",(()=>this.state._communityPositionData)),dQ(this,"_returnSecurity",(()=>this.props.security)),dQ(this,"_returnSecurityId",(()=>this._returnSecurity().security_id)),dQ(this,"_returnWindowWidth",(()=>this.props.windowWidth)),this.state={_contentWidth:null,_isLoading:!0,_communityPositionData:{}}}componentDidMount(){this._calcAndSetContentWidth(),this._getCommunityIdeaData().then((e=>{this._handleGetCommunityIdeaDataResponse(e)}))}componentDidUpdate(){this._calcAndSetContentWidth()}render(){return this._isLoading()?c.createElement("div",{ref:e=>this.ContentContainer=e,className:"nvstr-community-position-chart-container"}):this._returnCommunityPositionData()&&this.state._contentWidth?c.createElement("div",{ref:e=>this.ContentContainer=e,className:"nvstr-community-position-chart-container"},c.createElement("div",{className:"heading-container"},c.createElement("p",{style:{position:"relative",whiteSpace:"nowrap"}},c.createElement("span",{className:"secondary-text-color"},`${Xo} Community`),c.createElement(iS,{word:"tooltip_nvstr_community_chart",style:{top:"1px",bottom:0,position:"relative",display:"inline-block",left:0,marginLeft:"4px"}}))),c.createElement("div",{className:"chart-container"},this._renderChart("long",this._returnValueFor("long")),this._renderChart("short",this._returnValueFor("short")))):null}}const pQ=Xk(hQ);var mQ=T(null,(e=>({actions:I(WC,e)})))(pQ),gQ=Object.defineProperty,yQ=(e,t,n)=>(((e,t,n)=>{t in e?gQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const _Q=u("div")`
  white-space: nowrap;
`,fQ=u("div")`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
`,vQ=u("div")`
  background-color: ${({theme:e})=>e.themeColors.appBackground};

  ${_Q} {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }

  .security-card-tab-content {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
  }

  .thought-container {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }

  & .thought-text-container {
    padding: 10px;
  }

  & .thought-container {
    max-width: 100%;
    margin: 0 auto 8px auto;
  }

  & .react-thoughts-container .thought-list {
    padding-top: 0;
  }

  & .thought-opinion-data-container {
    padding: 5px 0 10px 25px;
  }

  & .thought-actions-container {
    padding: 5px 0 5px 20px;
  }

  & .security-card-container-side-panel {
    padding: 20px;
  }

  & .security-card-container-side-panel.security-card-heading-panel {
    padding: 20px 40px 20px 20px;
  }

  & .security-card-heading-panel,
  & .security-card-fin-panel {
    margin: 0;
  }

  & .hr-standard.border-accent {
    display: none;
  }

  & .drop-shadow-container {
    display: none;
  }

  .flat-tab-color-style {
    color: ${({theme:e})=>e.themeColors.text};
    border-bottom: 2px solid transparent;
    border-radius: 0;

    &:hover {
      border-bottom: 2px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
      background: transparent;

      * {
        color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      }
    }
  }

  .flat-tab-color-style.active {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    background: transparent;
    border-bottom: 2px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  & .default-search-container .default-search-container {
    position: relative;
    top: 7px;
  }

  .idea-show-container {
    border-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }

  .page-loading.component-bg {
    background: transparent !important;
  }
`,EQ={headlines:"News",thoughts:"Pros/Cons",ideas:"Ideas",compare:"Compare"};class bQ extends c.PureComponent{constructor(e){super(e),yQ(this,"handleTabClick",((e,t)=>{this._logItlyTabClick(e),Cu("Click Stock Panel Tab",{themeTestGroups:jp(this.props.currentUser)});const n={"Is Initial Tab":"False",Tab:EQ[e]};this.props.actions.logMetricsTrackingEvent("View Stock Panel Tab",n),MG(e,this.props.navigate,t,this.props.location.pathname)})),yQ(this,"handleAddIdeas",(()=>{this._logAddIdeaClick();const e=[{security:{security_id:this._returnSecurityId()}}],t=this.props.navigate,n=location,r=fe(n.search);r.activeTab="ideas",r.ideaId="null";const i=ve(r);t(n.pathname+i);return this.props.actions.addIdeas(e).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Added Idea",e),th.ideas.ADD_IDEA.send()}}))})),yQ(this,"handleEditIdea",(e=>{this._logEditIdeaClick();const t=this.props.navigate,n=location,r=fe(n.search);r.activeTab="ideas",r.ideaId=e;const i=ve(r);t(n.pathname+i)})),yQ(this,"handleTradeClick",(e=>{const t=this.props.navigate;this.props.handleSecurityCardCollapse&&this.props.handleSecurityCardCollapse(),t(cn.build(e,this._returnSecurity().symbol,this._returnSecurity().id))})),yQ(this,"handleBuyClick",(()=>{this.handleTradeClick("buy"),this._logTradeButtonClick("Buy")})),yQ(this,"handleSellClick",(()=>{this.handleTradeClick("sell"),this._logTradeButtonClick("Sell")})),yQ(this,"_isLoading",(()=>this._isInitializing()||!(this._returnSecurityId()in this.props.securities.lookup)||!this._returnSecurityName())),yQ(this,"_isSecurityFeatured",(()=>!this._returnSecurity()||!("featured"in this._returnSecurity())||this._returnSecurity().featured)),yQ(this,"_returnSecurityIdentifier",(()=>this.props.securityIdentifier)),yQ(this,"_returnSecurityId",(()=>this.state.securityId)),yQ(this,"_returnSecurityName",(()=>this._returnSecurity()?this._returnSecurity().name:null)),yQ(this,"_returnSecurity",(()=>this.props.securities.lookup[this._returnSecurityId()])),yQ(this,"_isSecurityIdentifierAnId",(()=>"securityId"===Object.keys(this._returnSecurityIdentifier())[0])),yQ(this,"_doesCurrentUserHavePosition",(()=>Zp(this._returnSecurityId(),this._returnPortfolioStore()))),yQ(this,"_returnPortfolioStore",(()=>this.props.portfolio)),yQ(this,"_shouldDisplayThoughtRecordedMessage",(()=>{const e=fe(this.props.location.search).thought;return!this.state.didDisplayThoughtRecordedMessage&&e})),yQ(this,"_returnThoughtRecordedMessageModal",(()=>({contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},c.createElement("div",{className:"thought-recorded-message-container"},c.createElement(xc,{size:"large",icon:"fa-check-circle",colorClassName:"success-text-color"}),c.createElement("div",{className:"thought-recorded-message"},"Your response was saved."))),dismissable:!0,size:"wide"}))),yQ(this,"_displayThoughtRecordedMessage",(()=>{const e=this._returnThoughtRecordedMessageModal();this.props.actions.showModal(e),this.setState((()=>({didDisplayThoughtRecordedMessage:!0})))})),yQ(this,"_handleFromEmailNavigationUI",(()=>{if(this._shouldDisplayThoughtRecordedMessage()){this._displayThoughtRecordedMessage();const e={ignoreEventLog:!0};this.handleTabClick("thoughts",e)}this._isResponding()?this._openThoughtPanelOverlay():this._isEmailResponse()&&this._createAskWhyResponseSavedModal()})),yQ(this,"_createAskWhyResponseSavedModal",(()=>{const e=(e=>(e=e||{},{contentComponent:c.createElement("div",{className:"success-action-modal"},c.createElement("div",{className:"success-heading-container"},c.createElement(xc,{size:"xlarge",icon:"fa-check",colorClassName:"success-text-color"}),c.createElement("div",{style:{marginTop:"4px",marginLeft:"8px"}},e.successMessage||{containerClass:""}.successMessage)),e.additionalSuccessMessaging&&c.createElement("div",{className:"additional-success-messaging"},e.additionalSuccessMessaging)),dismissable:!0,size:"wide"}))({successMessage:"Response saved",additionalSuccessMessaging:"We will share your response with your connection."});return this.props.actions.showModal(e)})),yQ(this,"_openThoughtPanelOverlay",(()=>{this._isThoughtPanelOverlayOpen=!0;const e=(e=>(e=e||{},{className:"add-thought-modal",contentComponent:c.createElement("div",{className:"thought-action-modal"},c.createElement(mS,{securityId:e.securityId,thoughtPostSuccessAdditionalAction:e.thoughtPostSuccessAdditionalAction,customMessageWithSymbol:e.customMessageWithSymbol||null,viewingContext:ES,inModal:!0})),dismissable:!0,size:"wide"}))({securityId:parseInt(this._returnSecurityId(),10),hideModal:this.props.actions.hideModal,thoughtPostSuccessAdditionalAction:()=>{this.props.actions.hideModal(),this._isThoughtPanelOverlayOpen=!1,this._createAndShowAddAnotherThoughtModal()},customMessageWithSymbol:e=>`Respond by posting a Pro or Con for ${e}`});this.props.actions.showModal(e)})),yQ(this,"_handleThoughtOverlayPanelClose",(()=>{this.props.actions.hideModal(),this._isThoughtPanelOverlayOpen=!1,MG("thoughts",this.props.navigate)})),yQ(this,"_createAndShowAddAnotherThoughtModal",(()=>{const e=c.createElement("div",{className:""},c.createElement("h2",null,"Do you want to add another thought?"),c.createElement("div",{className:"modal-action-btn-container"},c.createElement(hx,{onClick:this._openThoughtPanelOverlay},"Yes")));this.props.actions.showModal({className:"add-another-thought-message-modal",contentComponent:e,dismissable:!0,size:"wide",overrideDismiss:this._handleThoughtOverlayPanelClose,overrideOverlayDismiss:this._handleThoughtOverlayPanelClose})})),yQ(this,"_isResponding",(()=>{const e=this.props.location.search,t=fe(e);return"auth_id"in t&&"token"in t&&"responding"in t})),yQ(this,"_isEmailResponse",(()=>{const e=this.props.location.search,t=fe(e);return"auth_id"in t&&"token"in t&&"responded"in t})),yQ(this,"getSecurity",(e=>(e||this.props).securities.lookup[this._returnSecurityId()])),yQ(this,"_fetchDataForSecurity",(e=>{this.props.actions.quickFetchSecuritiesData([e]),this.props.actions.fetchSecuritiesFundamentalsData([e]),this.props.actions.fetchSecuritiesPriceData([e]),this.props.actions.getIdeasForSecurity([e])})),yQ(this,"_convertSecurityIdentifierToSecurityId",(()=>{const e=this._returnSecurityIdentifier().symbol;return this.props.actions.quickFetchSecuritiesData([e]).then((e=>e&&e.securities&&e.securities[0]?e.securities[0].security_id:(this._handleConvertSecurityIdentifierToSecurityIdError(e),null)))})),yQ(this,"_handleConvertSecurityIdentifierToSecurityIdError",(e=>{const t={contentComponent:bS("Something went wrong. Please try again later."),dismissable:!0};this.props.actions.showModal(t)})),yQ(this,"_handleInitialization",(e=>{this.setState((()=>({_isInitializing:!1,securityId:e.securityId})))})),yQ(this,"_isInitializing",(()=>this.state._isInitializing)),yQ(this,"_didInitializeComplete",(e=>e._isInitializing&&!this.state._isInitializing)),yQ(this,"_onInitializeComplete",(()=>{this.setState((()=>({activeTab:this.props.activeTab,additionalTabData:this.props.additionalTabData}))),this._fetchDataForSecurity(this._returnSecurityId()),this._logViewSecurity()})),yQ(this,"_updateStateFromURLQuery",(e=>{const t={};this._returnUrlQueryChangeKeys(e).forEach((e=>{t[e]=this.props[e]})),this.setState((()=>o({},t)))})),yQ(this,"_logViewSecurity",(()=>{const e=Rp(this.props.currentUser);Cu("View Quote",{themeTestGroups:jp(this.props.currentUser)}),this._returnSecurityId()&&this.props.actions.viewSecurity(this._returnSecurityId()),e&&wu(1)})),yQ(this,"logEventForDescription",(()=>{const e=this.getSecurity(),t={"Stock Symbol":e.symbol,"Security ID":e.security_id};this.props.actions.logMetricsTrackingEvent("View More Stock Description",t)})),yQ(this,"_logTradeButtonClick",(e=>{const{symbol:t,security_id:n}=this.getSecurity(),r={"Stock Symbol":t,"Security ID":n,Context:"Security Panel","Order Type":e};this.props.actions.logMetricsTrackingEvent("Clicked Trade Button in Security Panel",r)})),yQ(this,"_logAddIdeaClick",(()=>{const{symbol:e,security_id:t}=this.getSecurity(),n={"Stock Symbol":e,"Security ID":t,Context:"Security Panel"};this.props.actions.logMetricsTrackingEvent("Clicked Add Idea",n)})),yQ(this,"_logEditIdeaClick",(()=>{const{symbol:e,security_id:t}=this.getSecurity(),n={"Stock Symbol":e,"Security ID":t,Context:"Security Panel"};this.props.actions.logMetricsTrackingEvent("Clicked Edit Idea",n)})),yQ(this,"_logItlyTabClick",((e="tabClicked")=>{const{location:t}=this.props,{elementPosition:n}=this.context,r={context:t.pathname,position:n||_t.node_location.body,platform:_t.platform.web,description:e,url:window.location.pathname,url_query:window.location.search};pl.generic.TAB_VIEWED.send(r)})),yQ(this,"_updateTitleWithTempTitle",(()=>{document.title=`${Xo} - Stock Quotes`})),yQ(this,"_updatePageTitle",(()=>{!this.updatedTitle&&this._returnSecurityName()&&(this.updatedTitle=!0,document.title=`${Xo} - Stock Quote - ${this._returnSecurityName()}`)})),yQ(this,"_didUrlQueryChange",(e=>this._returnUrlQueryChangeKeys(e).length>0)),yQ(this,"_returnUrlQueryChangeKeys",(e=>["activeTab","additionalTabData","securityId"].filter((t=>this.props[t]!==e[t])))),yQ(this,"_isInPanel",(()=>this.props.isPanel)),yQ(this,"handleResize",(()=>{"contentContainer"in this&&this.contentContainer&&this.setState((()=>({contentContainerWidth:this.contentContainer.offsetWidth})))})),this.state={_isInitializing:!0,securityId:null,contentContainerWidth:1065,activeTab:e.activeTab||e.defaultActiveTab||"thoughts",additionalTabData:e.additionalTabData||null,defaultActiveTab:e.defaultActiveTab||"thoughts",didDisplayThoughtRecordedMessage:!1}}componentDidMount(){this._updateTitleWithTempTitle(),this._initializeResizeListener(),this._initialize();const e={"Is Initial Tab":"True",Tab:EQ[this.state.activeTab]};this.props.actions.logMetricsTrackingEvent("View Stock Panel Tab",e)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e,t){this._updatePageTitle(),this._didUrlQueryChange(e)&&this._updateStateFromURLQuery(e),this._didInitializeComplete(t)&&(this._onInitializeComplete(),this._handleFromEmailNavigationUI()),!this._isSecurityFeatured()&&this._isThoughtPanelOverlayOpen&&(this._isThoughtPanelOverlayOpen=!1,this.props.actions.hideModal())}render(){if(this._isLoading())return c.createElement(vQ,null,c.createElement("div",{className:"security-card-container loading"},c.createElement(Dw,{style:{zIndex:1e4},flatTransparent:!0})));const e=this._isInPanel()?"panel":"page",t="user_id"in this.props.currentUser,n=this._returnSecurity(),r=!("featured"in n)||n.featured;return c.createElement(vQ,null,c.createElement("div",{id:this._returnSecurityId(),className:"security-card-container",ref:e=>this.contentContainer=e},"panel"===e&&c.createElement("div",{className:"security-panel-close-btn",onClick:this.props.handleSecurityCardCollapse},c.createElement("i",{className:"fa fa-times"})),c.createElement(_Q,null,c.createElement("div",{className:"security-card-container-side-panel security-card-heading-panel"},c.createElement(wK,{contentContainerWidth:this.state.contentContainerWidth,isSecurityFeatured:r,securityId:this._returnSecurityId(),security:n,symbol:n.symbol.toUpperCase(),name:n.name,sector:n.sector,description:n.description,userIsAuthenticated:t,currentUser:this.props.currentUser,logEventForDescription:this.logEventForDescription})),c.createElement("div",{className:"security-card-container-side-panel security-card-fin-panel"},!r&&c.createElement("div",{className:"security-unfeatured-message"},c.createElement(xc,{icon:"fa-exclamation-circle",color:"#eecc06",size:"large",style:{marginRight:"8px"}}),"This instrument is not currently available to trade"),!r&&this._doesCurrentUserHavePosition()&&c.createElement("div",{className:"security-unfeatured-trade-message"},c.createElement("p",null,c.createElement("span",{className:"inline-fragment"},"Contact support to exit this position at"),c.createElement("a",{href:"mailto:support@tornado.com"},"support@tornado.com"))),t&&r&&c.createElement(wG,{securityId:this._returnSecurityId(),security:n},c.createElement(DK,{security:n,containerStyling:{paddingTop:0},hideLabel:!0})),t&&r&&c.createElement(mQ,{security:n}),c.createElement("div",{className:"security-panel-heading-chart-container"},c.createElement(JK,{chartContext:"Security Card",securityId:this._returnSecurityId(),symbol:this._returnSecurity().symbol,userIsAuthenticated:t,compareToSpyOption:!0})))),t&&c.createElement(fQ,null,c.createElement(lQ,{securityId:this._returnSecurityId(),security:n,location:this.props.location,handleBuyClick:this.handleBuyClick,handleSellClick:this.handleSellClick,handleEditIdea:this.handleEditIdea,handleAddIdeas:this.handleAddIdeas})),c.createElement(sK,{security:n,securityId:this._returnSecurityId(),contentContainerWidth:this.state.contentContainerWidth,removeIdea:this.props.actions.removeIdea,currentUserId:this.props.currentUser.user_id,activeTab:this.state.activeTab,defaultActiveTab:this.state.defaultActiveTab,additionalTabData:this.state.additionalTabData,askingWhyFromNotif:this.props.askingWhyFromNotif,handleTabClick:this.handleTabClick,users:this.props.users,userIsAuthenticated:t,actions:this.props.actions,isInPanel:this._isInPanel()})))}_initializeResizeListener(){this.handleResize(),window.addEventListener("resize",this.handleResize)}_initialize(){this._isSecurityIdentifierAnId()?this._handleInitialization({securityId:this._returnSecurityIdentifier().securityId}):this._convertSecurityIdentifierToSecurityId().then((e=>{e&&this._handleInitialization({securityId:e})}))}}bQ.contextType=ml;const CQ=T((e=>({currentUser:e.currentUser,portfolio:e.portfolio,securities:e.securities})),(e=>({actions:I(WC,e)})))(bQ);var xQ=Object.defineProperty,wQ=(e,t,n)=>(((e,t,n)=>{t in e?xQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class SQ extends C.exports.Component{constructor(e){super(e),wQ(this,"filterQueryKeys",(e=>{const t=["panel","securityId","activeTab","ideaId"],n={};return Object.keys(e).filter((e=>!t.includes(e))).forEach((t=>{n[t]=e[t]})),n})),wQ(this,"createOpenPanelErrorMessage",(e=>{"User does not have permission to view Idea."===e&&(e="You do not have permission to view that idea.",(0,this.props.navigate)(location.pathname));const t="Idea no longer exists."===e,n=this.props.location.search,r=fe(n);if(t&&r.removedIdea)return!0;const i={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),dismissable:!0};this.props.actions.showModal(i)})),this.state={securityId:null,loadingSecurityId:!0,invalidIdea:!1,notConnectedToIdeaOwner:!1}}componentDidMount(){const e=this.props.ideaId;this.props.actions.fetchSecurityIdFromIdeaId(e).then((e=>{const t=e[0],n=null==t?void 0:t.security_id;null==t||t.id;const r=null==t?void 0:t.error,i={};n?(i.securityId=n,r&&this.createOpenPanelErrorMessage(r)):this.createOpenPanelErrorMessage(r),this.setState((e=>l(o({},i),{loadingSecurityId:!1})))}))}componentDidUpdate(){if(!this.state.loadingSecurityId){const e=this.props.location.search,t=fe(e);let n={panel:"security",securityId:this.state.securityId,activeTab:"ideas",ideaId:t.ideaId};n=o(o(o({},t),n),this.filterQueryKeys(t));const r=ve(n);this.props.navigate(this.props.location.pathname+r)}}render(){return this.state.loadingSecurityId?c.createElement("div",{className:"security-card-container loading"},c.createElement(Dw,{style:{zIndex:1e4},flatStyle:!0})):null}}T((e=>({ideas:e.ideas,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(SQ);const kQ=e=>{const t=yl(e),n=e.text,r=e.customClass?e.customClass:"";return c.createElement(hx,{buttonProps:{type:"submit"},className:r,onClick:t},n)};kQ.defaultProps={buttonType:_t.button_types.button};var TQ=Object.defineProperty,IQ=(e,t,n)=>(((e,t,n)=>{t in e?TQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const NQ=u.div`
  input {
    //border: none;
    line-height: 29px;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  select {
    //border: none;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`;class AQ extends C.exports.Component{constructor(e){super(),IQ(this,"handleUpdate",(()=>{vh.call(this)})),IQ(this,"_returnCurrentUser",(()=>this.props.currentUser)),this.state={inputs:[{type:$d,typeName:"TextField",name:"given_name",label:"First Name",required:!0,props:{}},{type:$d,typeName:"TextField",name:"family_name",label:"Last Name",required:!0,props:{}},{type:$d,typeName:"TextField",name:"contact_street_address",label:"Address",required:!0,props:{}},{type:$d,typeName:"TextField",name:"contact_apartment",label:"Apartment",props:{}},{type:$d,typeName:"TextField",name:"contact_city",label:"City",required:!0,props:{}},{type:Md,typeName:"TextField",name:"contact_state",label:"State",required:!0,props:{styling:"dropdown-inline-left",size:"small",values:["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],showArrowIcons:!0}},{type:$d,typeName:"TextField",name:"contact_postal_code",label:"Zip",required:!0,props:{size:"small"}},{type:Md,typeName:"Dropdown",name:"contact_country",label:"Country",required:!0,props:{styling:"dropdown-inline-left",values:["United States of America"],hideLabel:!0,showArrowIcons:!0}},{type:Bd,typeName:"TextNumberField",name:"phone_number",label:"Phone Number",required:!0,props:{}},{type:Md,typeName:"Dropdown",name:"total_investible_assets",label:"What are your total investible assets?",props:{showLabel:!0,styling:"dropdown-inline-left",values:["Less than $25k","$25k - $50k","$50k - $100k","$100k - $250k","$250k - $500k","$500k - $1M","More than $1M"],note:"Optional",center:!0,showArrowIcons:!0}},{type:Md,typeName:"Dropdown",name:"annual_income",label:"What is your total annual income?",props:{showLabel:!0,styling:"dropdown-inline-left",values:["Less than $25k","$25k - $50k","$50k - $100k","More than $100k"],note:"Optional",center:!0,showArrowIcons:!0}},{type:Bd,typeName:"TextNumberField",name:"social_security_number",label:"Social Security Number",required:!0,props:{style:{paddingTop:"20px"}}},{type:Md,typeName:"Dropdown",name:"citizenship_country",label:"Citizenship Country",required:!0,props:{showLabel:!0,styling:"dropdown-inline-left",center:!0,values:Fh(!0),showArrowIcons:!0}},{type:Ud,typeName:"YesNoToggleWithLabel",name:"is_control_person",label:"A director, 10% shareholder, or a senior officer of a <b>publicly traded company.</b>",required:!0,props:{values:["YES","NO"],toggleAdditionalInfoFieldsIf:"YES",additionalInfoFields:[{type:$d,typeName:"TextField",name:"company_symbols",label:"Stock Symbol of Company",required:!0,props:{}}]}},{type:Ud,typeName:"YesNoToggleWithLabel",name:"is_affiliated_exchange_or_finra",label:"Employed by or associated with a <b>member firm of</b> a <b>stock exchange</b> or <b>FINRA.</b>",required:!0,props:{values:["YES","NO"],toggleAdditionalInfoFieldsIf:"YES",additionalInfoFields:[{type:$d,typeName:"TextField",name:"firm_name",label:"Name of Firm",required:!0,props:{}}]}},{type:Ud,typeName:"YesNoToggleWithLabel",name:"is_politically_exposed",label:"A senior military, government, or political official in a <b>non-US country.</b>",required:!0,props:{values:["YES","NO"],toggleAdditionalInfoFieldsIf:"YES",additionalInfoFields:[{type:$d,typeName:"TextField",name:"immediate_family",label:"Full Name of Person",required:!0,props:{}},{type:$d,typeName:"TextField",name:"political_organization",label:"Name of Organization",required:!0,props:{}}]}}],formData:{},focusedField:null,updatingAccount:!1,accountUpdated:!1,focusNote:{contact_street_address:"Must be a residential address. P.O. boxes are not accepted.",contact_country:"Address must be in the USA."},errors:{},loading:!0,previouslyLoaded:!1,_showUnsubscribedMessage:!1,_isUnsubscribing:!1}}componentDidMount(){if(!this.props.currentUser.is_live_trading)return this.props.navigate("users/edit"),!1;Promise.all([this.props.actions.getLiveTradingAccount()]).then((()=>{this.setState((()=>({loading:!1})))}))}componentWillReceiveProps(e){e.liveAccount.liveTrading.loaded&&!this.state.previouslyLoaded&&(this.setState((()=>({previouslyLoaded:!0}))),Oh.call(this,e.liveAccount.liveTrading))}componentDidUpdate(e,t){t.updatingAccount&&!this.state.updatingAccount&&(this.setState({accountUpdated:!0}),setTimeout((()=>{this.setState({accountUpdated:!1})}),5e3))}returnInputDefaultProps(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),handleToggleClick:Nh.bind(this),handleChange:Sh.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this)}}render(){if("liveTrading"in this.props.liveAccount&&!this.props.liveAccount.liveTrading.loaded||this.state.loading)return c.createElement(Dw,{style:{zIndex:1e4},flatStyle:!0});const e=this.state.inputs.slice(0,2),t=this.state.inputs.slice(2,9),n=this.state.inputs.slice(9,11),r=this.state.inputs.slice(11,13),i=this.state.inputs.slice(13,16);return c.createElement(NQ,{className:"live-trading-edit-container"},c.createElement("div",{className:"live-trading-edit-account-heading"},c.createElement("h3",null,"Update Account Information")),c.createElement("div",{className:"sign-up-form-message"},c.createElement("div",{className:"icon-left-text-container"},c.createElement("div",null,c.createElement("i",{style:{lineHeight:"72px",marginRight:"-25px"},className:"fa fa-drivers-license-o fa-2x"})),c.createElement("div",null,c.createElement("p",{className:"secondary-heading-text-color"},"Your full legal name as it appears on your license or passport is required."))),c.createElement("div",{className:"icon-left-text-container"},c.createElement("div",null,c.createElement("i",{style:{lineHeight:"72px",marginRight:"-25px"},className:"fa fa-lock fa-2x"})),c.createElement("div",null,c.createElement("p",{className:"secondary-heading-text-color"},"This information will be kept private and it will never appear on your public profile.")))),c.createElement("div",{className:"live-trading-edit-contact-container"},c.createElement("div",{className:"live-trading-edit-account-sub-heading"},c.createElement("h4",{className:"secondary-heading-text-color"},"Contact")),c.createElement("div",{className:"live-trading-edit-account-form-container"},e.map(((e,t)=>Rh(e,this.returnInputDefaultProps.call(this),e.name))),t.map(((e,t)=>Rh(e,this.returnInputDefaultProps.call(this),e.name))))),c.createElement("div",{className:"live-trading-edit-investor-profile-container"},c.createElement("div",{className:"live-trading-edit-account-sub-heading"},c.createElement("h4",{className:"secondary-heading-text-color"},"Assets")),c.createElement("div",{className:"live-trading-edit-account-form-container"},n.map(((e,t)=>Rh(e,this.returnInputDefaultProps.call(this),e.name))))),c.createElement("div",{className:"live-trading-edit-identity-container"},c.createElement("div",{className:"live-trading-edit-account-sub-heading"},c.createElement("h4",{className:"secondary-heading-text-color"},"Identity")),c.createElement("div",{className:"live-trading-edit-account-form-container"},r.map(((e,t)=>Rh(e,this.returnInputDefaultProps.call(this),e.name))))),c.createElement("div",{className:"live-trading-edit-disclosures-container"},c.createElement("div",{className:"live-trading-edit-account-sub-heading"},c.createElement("h4",{className:"secondary-heading-text-color"},"Disclosures")),c.createElement("div",{className:"live-trading-edit-account-form-container"},c.createElement("div",{className:"sign-up-form-message"},c.createElement("p",{className:"secondary-text-color"},"I'm (or a member of my immediate family is)...")),c.createElement("div",{className:"disclosures-form-container"},Rh(i[0],this.returnInputDefaultProps.call(this),i[0].name),Rh(i[1],this.returnInputDefaultProps.call(this),i[1].name),Rh(i[2],this.returnInputDefaultProps.call(this),i[2].name)))),c.createElement("div",{className:"edit-account-update-btn-container"},this.state.updatingAccount?c.createElement(kQ,{customClass:"edit-account-update-btn btn-grey-disabled",text:"Save",onClick:()=>!1}):c.createElement(kQ,{customClass:"edit-account-update-btn",text:"Save",onClick:this.handleUpdate}),this.state.updatingAccount&&c.createElement("div",{className:"updating-account-message-container"},c.createElement("i",{className:"circle-loading-spinner circle-loading-spinner-small",style:{verticalAlign:"middle"}}),c.createElement("span",{style:{verticalAlign:"middle",marginLeft:"8px"}},"Updating Account...")),this.state.accountUpdated&&c.createElement("div",{className:"updating-account-message-container"},c.createElement("i",{className:`\n                    fa\n                    ${this.state.updateError?"fa-times-circle":"fa-check-square-o"}\n                    ${this.state.updateError?"failure-text-color":"success-text-color"}\n                  `,style:{verticalAlign:"middle"}}),c.createElement("span",{style:{verticalAlign:"middle",marginLeft:"8px"}},this.state.updateMessage))),c.createElement("div",{id:"bottom"}))}}var PQ=T((e=>({liveAccount:e.liveAccount,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(AQ);const DQ=u(J$)`
  background-color: ${({theme:e})=>e.themeColors.appBackground};

  .scroll-panel-container {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
  }
`,OQ=()=>{const e=P(),t=ZT(),n=b(),r=_(),i=()=>{const e=["tab"],t=r.pathname,i=r.search,a=fe(i),s=Object.keys(a).filter((t=>e.includes(t))),o={};s.forEach((e=>{o[e]=a[e]}));const l=ve(o);return n(`${t}${l}`)},a=e=>c.createElement("div",{className:"video-player-overlay-panel-container"},c.createElement(J$,{handleOverlayClick:()=>{TC("Dismissed Video",{"In Panel":!0})(),n(r.pathname)},childrenWithWindowSize:!0},((t,i)=>c.createElement(qw,{videoId:e.videoId,thoughtId:e.thoughtId,windowHeight:t,windowWidth:i,navigate:n,location:r,inPanel:!0,autoPlay:!0})))),s=e=>{const t=e.securityId,a=isNaN(t)?"symbol":"securityId",s="securityId"===a?parseInt(t,10):t.toUpperCase(),o=e.activeTab||null,l=e.ideaId?{ideaId:e.ideaId}:null;return c.createElement(DQ,{heightPercentage:.98,handleOverlayClick:i,className:"security-overlay"},c.createElement(CQ,{key:s,securityIdentifier:{[a]:s},activeTab:o,additionalTabData:l,navigate:n,location:r,askingWhyFromNotif:"true"===e.askingWhyFromNotif,handleSecurityCardCollapse:i,isPanel:!0}))},o=()=>c.createElement(J$,{handleOverlayClick:i,style:{maxWidth:"800px"}},c.createElement(PQ,{closePanel:i,navigate:n,location:r,isPanel:!0})),l=e=>{const t={security:s,editUserAccount:o,"video-player":a}[e.panel];return t&&t(e)||null},d=r.search,u=r.search&&r.search.length>0,h=["onboard","live_accounts","account_type","rewards_redemption","investing_experience","options-trading-experience","funding","about","legal","referrals","terms_of_service","privacy_policy","margin_disclosure","privacy_settings","faq","invites/gmail/contact_callback","portfolio/history","subscriptions","membership","almost-there","get-started","viewpoint_contributors","upload-required-documents","resubmit-address","live-account-submission-status"].some((e=>r.pathname.indexOf(e)>=0)),p=r.pathname.indexOf("users/edit")>=0;if(null===t.default_expected_return&&!h&&!p){return l({panel:"defaultExpectedReturn"})}if(!u)return null;const m=fe(d);if(1===m.optimizer||"1"===m.optimizer)return function(e){e({type:"OPEN_OPTIMIZER_PANEL"})}(e),null;if("/securities/"===r.pathname.slice(0,12)&&"security"===m.panel){console.error("Cannot display a security panel on top of the security page, update security id on page instead.");const e=m.securityId,t={};Object.keys(m).forEach((e=>{"securityId"!==e&&"panel"!==e&&(t[e]=m[e])}));const r=ve(t);return n(`/securities/${e}${r}`),null}return l(m)},LQ=e=>c.createElement("div",{className:`body-panel-section ${e.className||""}`,style:e.style||{}},e.children),RQ=e=>c.createElement("div",{className:`panel-section ${e.className||""}`},e.children);var FQ=Object.defineProperty,MQ=(e,t,n)=>(((e,t,n)=>{t in e?FQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class UQ extends C.exports.Component{constructor(){super(...arguments),MQ(this,"_shouldLogItemView",(()=>this.props.logItemView)),MQ(this,"customStyling",(()=>{const e=this.props.height+5;return l(o({},this.props.style||{}),{height:e})})),MQ(this,"renderLeftGradient",(()=>null)),MQ(this,"renderRightGradient",(()=>null)),MQ(this,"renderPrevArrow",(()=>this.isFirstPage()||this.isListLoading()?null:c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-left-arrow-container horizontal-list-arrow horizontal-list-arrow-left"},c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 5px 0 0"},icon:"fa-chevron-left",handleClick:this.gotoPrevPage,skinny:!0,showShadow:!0})))),MQ(this,"renderNextArrow",(()=>this.isLastPage()||this.isListLoading()?null:c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-right-arrow-container horizontal-list-arrow horizontal-list-arrow-right"},c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 0 0 4px"},icon:"fa-chevron-right",handleClick:this.gotoNextPage,skinny:!0,showShadow:!0})))),MQ(this,"renderListItem",((e,t)=>{const n=this.props.listItemProps,r=l(o({key:`suggested-connection-${e[tk(e)]||t}`,item:e},n),{position:this.determineItemPosition(t,this._returnCurrentPage()-1)});if(this.isListLoading()){const e=this.props.loadingCardComponent;return e?c.createElement(e,r):console.error("Custom loading card is required if passing in isLoading prop")}const{componentName:i,componentProps:a}=this.props,s=l(o({},r),{showHighlight:1===t&&this.isFirstPage()&&"Top Connections"===this.props.contextForTrackingOnPageChange});return c.createElement(i,s,null)})),MQ(this,"renderList",(()=>{const e=this.props.height+5;return c.createElement("div",{className:"horizontal-list"},this.renderLeftGradient(),this.renderPrevArrow(),c.createElement("div",{className:"horizontal-list-overflow-container",style:{height:`${e}px`}},this.returnListOfItems().map(((e,t)=>this.renderListItem(e,t)))),this.renderRightGradient(),this.renderNextArrow())})),MQ(this,"returnIdsInView",(()=>{const e=this.determineItemsPerPage(),t=this._returnCurrentPage()*e,n=t-e;return this.returnListOfItems().slice(n,t).map((e=>e[tk(e)]))})),MQ(this,"isListLoading",(e=>(e||this.props).isLoading)),MQ(this,"shouldShowArrowButton",(e=>("prev"!==e||!this.isFirstPage())&&("next"!==e||!this.isLastPage()))),MQ(this,"gotoPrevPage",(()=>{const e=this.props.contextForTrackingOnPageChange,t=this.props.customTrackingEvent;if(e||t){const n=t||`Clicked Previous ${e} Page`,r=this.props.logArrowDirectionClickInEvent?{Direction:"Prev"}:{};this.props.actions.logMetricsTrackingEvent(n,r)}this.changePage("prev")})),MQ(this,"gotoNextPage",(()=>{const e=this.props.contextForTrackingOnPageChange,t=this.props.customTrackingEvent;if(e||t){const n=t||`Clicked Next ${e} Page`,r=this.props.logArrowDirectionClickInEvent?{Direction:"Next"}:{};this.props.actions.logMetricsTrackingEvent(n,r)}this.changePage("next")})),MQ(this,"changePage",(e=>{if("prev"===e?this.props.actions.decrementHorizontalListPage():this.props.actions.incrementHorizontalListPage(),this.props.onPageChangeAction){const e=this.returnIdsInView();this.props.onPageChangeAction(e)}})),MQ(this,"determineItemsPerPage",(()=>{const e=this.props.itemWidth,t=void 0===this.props.paddingBetweenItems?25:this.props.paddingBetweenItems,n=void 0===this.props.paddingForArrows?50:this.props.paddingForArrows,r=this._returnContainerWidth()-2*n;return Math.floor((r+t)/(e+t))})),MQ(this,"determineItemPosition",((e,t)=>{const n=void 0===this.props.paddingBetweenItems?25:this.props.paddingBetweenItems,r=void 0===this.props.paddingForArrows?50:this.props.paddingForArrows,i=this.props.itemWidth+n,a=this.determineItemsPerPage(),s=this._returnContainerWidth()-2*r,o=this.returnListOfItems().length;return{top:"0px",left:i*e+((s-((o>a?a:o)*i-n))/2+2)-t*(i*a)+"px"}})),MQ(this,"_returnHorizontalListStore",(e=>(e||this.props).horizontalList)),MQ(this,"_returnCurrentPage",(e=>this._returnHorizontalListStore(e).page)),MQ(this,"isFirstPage",(()=>1===this._returnCurrentPage())),MQ(this,"isLastPage",(()=>this._returnCurrentPage()===this.determineTotalPages())),MQ(this,"determineTotalPages",(()=>{const e=this.props.items.length;return Math.ceil(e/this.determineItemsPerPage())})),MQ(this,"_returnContainerWidth",(()=>{let e=$(`#${this.props.id}`).width();return e||(e=this.props.windowWidth/2),e+100})),MQ(this,"returnArrayOfLoadingItems",(()=>{const e=this.determineItemsPerPage()+1,t=[];for(let n=0;n<e;n++)t.push({});return t})),MQ(this,"returnListOfItems",(e=>{e=e||this.props;const t=this.isListLoading(e)?this.returnArrayOfLoadingItems():e.items;return t?Array.isArray(t)?t:console.error("Items prop must be an array, received "+typeof t):console.error("Items prop is required")}))}componentDidMount(){this.props.id||throwError("Must provide unique id to HorizontalList")}componentWillUnmount(){this.props.actions.resetHorizontalListPage()}componentDidUpdate(e,t){const n=this.returnListOfItems(e),r=this.returnListOfItems(),i=this.returnIdsInView(),a=this._returnCurrentPage(e)!==this._returnCurrentPage(),s=this.isListLoading(e)&&!this.isListLoading(),o=!this.isListLoading(e)&&!this.isListLoading(),l=n.length-1===r.length,c=0===i.length,d=1===this._returnCurrentPage();if((a||s)&&this._shouldLogItemView()&&this.props.logItemView(i),o&&l&&this._shouldLogItemView()){const e=i[i.length-1];e&&this.props.logItemView([e])}!d&&c&&this.changePage("prev")}render(){return c.createElement("div",{id:this.props.id,className:"horizontal-list-container",style:this.customStyling()},this.renderList())}}const $Q=N(Xk,T((e=>({horizontalList:e.horizontalList})),(e=>({actions:I(WC,e)}))))(UQ),BQ=e=>{const t=e.performance;return c.createElement("div",{className:"top-connection-daily-idea-performance"},c.createElement(C$,{valueFormat:"percentage",value:t,coloredText:!0,showPlus:!0,hideIcon:!0}))},zQ=u.div``,VQ=e=>{const{item:t,position:n}=e,{performance:r}=t,i=t.user_id;return c.createElement(zQ,{key:`top-connection-performer-${i}`,className:"top-performer-container",style:l(o({},n),{position:"absolute",width:"75px"}),onClick:()=>{e.handleClick&&e.handleClick(i)}},e.showHighlight&&c.createElement(CT,{tourStep:1}),c.createElement(gP,{userId:i},c.createElement(VP,{size:"nav",profileLinkQuery:`?context=${qg}`}),c.createElement(BQ,{performance:r})))},HQ=e=>{const{position:t}=e,n={height:"40px",left:"0px",right:"70px"},r={height:"40px",left:"70px",right:"0px"},i={height:"7px",top:"38px",left:"0px",right:"0px"},a={height:"8px",top:"54px",left:"0px",right:"0px"},s={height:"60px",top:"0px",left:"0px",right:"50px"},l={height:"60px",top:"0px",left:"50px",right:"0px"};return c.createElement("div",{className:"loading-user-container component-bg",style:o({position:"absolute"},t)},c.createElement("div",{className:"animated-background"},c.createElement("div",{className:"loading-animation-covers",style:n}),c.createElement("div",{className:"loading-animation-covers",style:r}),c.createElement("div",{className:"loading-animation-covers",style:i}),c.createElement("div",{className:"loading-animation-covers",style:a}),c.createElement("div",{className:"loading-animation-covers",style:s}),c.createElement("div",{className:"loading-animation-covers",style:l})))};var WQ=Object.defineProperty,jQ=(e,t,n)=>(((e,t,n)=>{t in e?WQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const GQ=u.div`
  span {
    color: ${({theme:e})=>e.themeColors.component};
    &:hover {
      color: #222;
    }
  }

  .top-connections-container {
    margin: 5px auto 0 auto;
    padding: 16px 0;
    max-width: 825px;
  }
  .top-connections-container .heading {
    padding-bottom: 14px;
    font-size: 12px;
    opacity: var(--de-emphasized-text-opacity);
    margin: 0;
  }

  .top-connections-container .avatar-container.collective-user .profile-image {
    width: 14px !important;
    margin-left: 1px;
  }

  .top-connections-container .heading .react-info-icon {
    font-size: 14px;
  }
  .top-connections-container .heading .react-info-icon * {
    font-size: 14px;
  }
  .top-connections-container .user-container {
    text-align: center;
  }
  .top-connections-container .top-performer-container {
    transition: all 0.15s ease-out;
  }
  .top-connections-container .top-performer-container .stand-alone-arrow {
    top: -24px !important;
    right: auto !important;
    bottom: auto !important;
    left: -83px !important;
    -webkit-transform: rotate(120deg) !important;
    -moz-transform: rotate(120deg) !important;
    -o-transform: rotate(120deg) !important;
    -ms-transform: rotate(120deg) !important;
    transform: rotate(120deg) !important;
  }
  .top-connections-container .top-performer-container .user-name-container {
    padding: 0;
    padding-top: 4px;
    font-size: 12px;
    font-weight: 300;
  }
  .top-connections-container .top-performer-container .top-connection-daily-idea-performance {
    margin-top: -2px;
    padding: 3px 0 1px 0;
    line-height: 1;
  }
  .top-connections-container
    .top-performer-container
    .top-connection-daily-idea-performance
    .number-with-change-indicator-value {
    font-weight: 300;
  }
  .top-connections-container .top-connections-see-more-arrow-container {
    width: 40px;
  }
  .top-connections-container .top-connections-list {
    display: flex;
    align-items: center;
    justify-content: space-around;
    /* fallback for ie/edge */
    justify-content: space-evenly;
    justify-content: space-between;
    -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
    max-width: 583px;
    padding: 0 55px;
    margin: 0 auto;
  }
  .top-connections-container .top-connections-list .horizontal-list-container {
    width: 100%;
    margin-bottom: 10px;
  }
  .top-connections-container .top-connections-list .horizontal-list-container .horizontal-list-arrow {
    padding-bottom: 17px;
  }
  .top-connections-container
    .top-connections-list
    .horizontal-list-container
    .horizontal-list-arrow.horizontal-list-arrow-right {
    right: -50px;
  }
  .top-connections-container
    .top-connections-list
    .horizontal-list-container
    .horizontal-list-arrow.horizontal-list-arrow-left {
    left: -50px;
  }
  .top-connections-container .top-connections-list .horizontal-list-container .transparent-gradient {
    z-index: 2;
  }
  .top-connections-container.small {
    padding-bottom: 8px;
  }
  @media (max-width: 825px) {
    .top-connections-container {
      width: auto;
    }
  }
  @media (max-width: 600px) {
    .top-connections-container .top-connections-see-more-arrow-container {
      width: 10px;
    }
    .top-connection-daily-idea-performance {
      padding-top: 3px;
    }
  }
  @media (max-width: 500px) {
    .dashboard-container .top-connections-container .react-info-icon {
      top: -1px !important;
      right: -23px !important;
    }
    .dashboard-container .top-connections-container .user-name-container .react-info-icon {
      top: 0px !important;
      right: -17px !important;
    }
  }
  .top-connections-list .transparent-gradient.to-left {
    left: 0;
  }

  .dashboard-container & .top-connections-container {
    margin-top: 0;
  }
  .dashboard-container & .top-connections-container .user-name-container {
    opacity: var(--de-emphasized-text-opacity);
  }
  .dashboard-container & .top-connections-container .user-name-container .react-info-icon {
    top: 0px !important;
    right: -17px !important;
  }
  .dashboard-container & .top-connections-container div.horizontal-list-container {
    margin-bottom: 0;
  }
`,qQ=u.div`
  margin-bottom: 16px;

  border-bottom-width: 1.2px;
  border-bottom-style: solid;

  border-color: ${({theme:e})=>e.themeColors.appBackground};
`,YQ=u.div`
  background-color: ${({theme:e})=>e.themeColors.component};
`;class KQ extends c.PureComponent{constructor(){super(...arguments),jQ(this,"_renderScrollableTopConnectionsList",(()=>{const e=this._isLoading()?[]:this._returnListOfTopPerformers().filter((e=>e.user_id!=this.props.collectiveUserId));return c.createElement("div",{className:"top-connections-list"},c.createElement($Q,{id:"top_connections",height:89,itemWidth:75,paddingBetweenItems:this._returnPaddingBetweenItems(),isLoading:this._isLoading(),items:e,loadingCardComponent:HQ,componentName:VQ,listItemProps:this._returnListItemAdditionalProps(),contextForTrackingOnPageChange:"Top Connections",customTrackingEvent:"Clicked See More Connections' Performance",logArrowDirectionClickInEvent:!0}))})),jQ(this,"_handleSeeMoreConnectionPerformanceClick",(()=>{TC("Clicked See More Connections' Performance")(),window.location="/users/connections?sort=today"})),jQ(this,"_isLoading",(()=>{const e=this.props.users.connectionsPerformance.loading,t=this.props.currentUser&&!("user_id"in this.props.currentUser),n=this._isLoadingConnections(),r=this._returnCollectivesStore().loading;return e||t||n||r})),jQ(this,"_isLoadingConnections",(()=>GB(this._returnCurrentUserId(),this._returnUserConnectionsStore()))),jQ(this,"_returnCurrentUser",(()=>this.props.currentUser)),jQ(this,"_returnCurrentUserId",(()=>this._returnCurrentUser().user_id)),jQ(this,"_returnUserConnectionsStore",(()=>this.props.userConnections)),jQ(this,"_currentUserHasNoConnections",(()=>!this._isLoading()&&0===this._returnListOfTopPerformers().length)),jQ(this,"_returnListOfTopPerformers",(()=>this.props.users.connectionsPerformance)),jQ(this,"_returnPaddingBetweenItems",(()=>"small"===this.props.size?10:25)),jQ(this,"_returnListItemAdditionalProps",(()=>({handleClick:e=>{const t=this.props.currentUser.user_id===e?this.props.currentUser.analytics_id||null:this.props.users.userList[e]?this.props.users.userList[e].analytics_id:null;Cu("Clicked Performance Leader",{themeTestGroups:jp(this.props.currentUser)});const n={Context:"Webpage","Leader Id":t,"Is Collective User":this._isUserCollective(e),"User ID":e};TC("Performance Leader Clicked",n)()}}))),jQ(this,"_isUserCollective",(e=>e in this._returnCollectivesUserLookup())),jQ(this,"_returnCollectivesStore",(()=>this.props.collectives)),jQ(this,"_returnCollectivesUserLookup",(()=>this._returnCollectivesStore().lookup))}componentDidMount(){MC()(this.props.dispatch)}render(){return this._currentUserHasNoConnections()?null:c.createElement(GQ,null,c.createElement(YQ,{className:`\n        react-page-container\n        top-connections-container\n        ${this.props.size||""}\n      `},c.createElement("div",{className:"heading"},c.createElement("div",{className:"info-icon-text-wrapper"},"Top Performers",c.createElement(iS,{word:"performance_numbers",style:{top:"0.5px",right:"-20px"},position:"right"}))),c.createElement(qQ,null),this._renderScrollableTopConnectionsList()))}}var QQ=T((e=>({collectiveUserId:WI(e.collectives),collectives:e.collectives,currentUser:e.currentUser,userConnections:e.userConnections,users:e.users})))(KQ);const ZQ=e=>{const t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"20px",lineHeight:"24px"});return c.createElement(hi,l(o({fontSettings:t},e),{thin:!0}),e.children)},XQ=u.div`
  flex: 1;
  min-width: 0; /* or some value */

  span {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,JQ=e=>{const{children:t,width:n}=e,r=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"12px",lineHeight:"18px"});return c.createElement(XQ,{width:n},c.createElement(hi,l(o({fontSettings:r,isLowContrast:!0},e),{thin:!0}),t))},eZ=e=>{const t=gi({fontSize:"12px",lineHeight:"14px"},{fontSize:"12px",lineHeight:"14px"});return c.createElement(hi,o({fontSettings:t},e),e.children)},tZ=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-wrap: wrap;
  gap: 4px;

  opacity: ${({value:e})=>0===e?"0.6":"1"};
`,nZ=u.div``,rZ=u.div``,iZ="i",aZ=({securityId:e,type:t})=>{const{price:n,percentChange:r}=iM(e);return null===n||isNaN(n)?null:t===iZ?c.createElement(mi,{value:r},c.createElement(tZ,{value:r},c.createElement(nZ,null,c.createElement(eZ,null,B_(n,"float"))),c.createElement(rZ,null,c.createElement(eZ,null,B_(r,"percentChange"))))):null},sZ=e=>{const t=gi({fontSize:"12px",lineHeight:"14px"},{fontSize:"12px",lineHeight:"14px"});return c.createElement(hi,o({fontSettings:t,isLowContrast:!0},e),e.children)},oZ="utc",lZ="utotc",cZ="utatotc",dZ={todayChange:{},totalChange:{}};function uZ(e,t){switch(t.type){case oZ:case lZ:case cZ:return o(o({},e),t.payload);default:return console.error("missing case in usePosPerf reducer"),e}}const hZ=(e,t,n)=>{const{previous_close_price:r,unrealized_shares_transacted_today:i,cost_of_unrealized_shares_transacted_today:a,unrealized_shares_as_of_yesterday:s}=e,o=n||r,l=s*t-s*o+(i*t-a),c=Math.abs(s*o+a);return{value:l,percent:0===c?0:l/c*100}},pZ=(e,t)=>{const{shares:n,total_cost:r}=e,i=t*n-r,a=Math.abs(r);return{value:i,percent:0===a?0:i/a*100}},mZ=e=>{const t=p$(e),{price:n,previousClose:r}=iM(e),{isPreMarket:i}=GN(),[a,s]=c.useReducer(uZ,dZ,(()=>((e,t,n)=>({todayChange:hZ(e,t,n),totalChange:pZ(e,t)}))(t,n,r)));return c.useEffect((()=>{const e=hZ(t,n,r),a=pZ(t,n);s({type:cZ,payload:{todayChange:i?{value:0,percent:0}:e,totalChange:a}})}),[t,e,n,r]),a},gZ=e=>{const[t,n]=c.useState({isLoading:!0}),{price:r}=iM(e),{shares:i}=p$(e),{value:a,isLoading:s}=QN();return c.useEffect((()=>{if(0===i&&n({isLoading:!1,shares:0,allocationValue:0,allocationPercentage:0}),(s||null===r||isNaN(r))&&n({isLoading:!0}),!s){const e=r*i;n({shares:i,value:e,percentageOfPortfolio:e/a})}}),[i,r,a,s]),t},yZ=e=>{const t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"20px",lineHeight:"24px"}),n=e.value,r=B_(n,"price"),i=0===n?"":n>0?"+":"";return c.createElement(mi,{value:n},c.createElement(hi,l(o({fontSettings:t},e),{thin:!0}),i+r))},_Z=e=>{const t=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"12px",lineHeight:"18px"}),n=e.value,r=B_(n,"percent"),i=0===n?"":n>0?"+":"";return c.createElement(mi,{value:n},c.createElement(hi,o({fontSettings:t},e),i+r))},fZ=e=>{const t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"20px",lineHeight:"24px"}),n=e.value,r=B_(n,"price");return c.createElement(hi,l(o({fontSettings:t},e),{thin:!0}),r)},vZ=e=>{const t=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"12px",lineHeight:"18px"}),n=e.value,r=B_(n,"percent");return c.createElement(hi,o({fontSettings:t},e),r)},EZ=u.span`
  word-break: normal;
  white-space: nowrap;
`,bZ=e=>{const t=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"12px",lineHeight:"18px"}),n=e.value,r=B_(n,"shares");return c.createElement(EZ,null,c.createElement(hi,o({fontSettings:t},e),r))},CZ=e=>Object.keys(e),xZ=e=>e.symbol,wZ=u.div`
  position: relative;
`,SZ=u.div`
  border-radius: 5px;
  background: ${({theme:e})=>e.themeColors.component};
`,kZ=u.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;

  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
  box-sizing: border-box;

  * {
    box-sizing: border-box;
  }

  &:hover {
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-radius: 5px;
    transition: 200ms all;
  }
`,TZ=u.div`
  display: flex;
  justify-content: space-between;
  align-items: center;

  padding: 16px 0;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
`,IZ=u.div`
  flex: 1;
  min-width: ${({numofcolumns:e})=>4===e?"25%":"33.3%"};
  max-width: ${({numofcolumns:e})=>4===e?"25%":"33.3%"};

  text-align: left;
`,NZ=u(A)`
  flex: 1;
  min-width: ${({numofcolumns:e})=>4===e?"25%":"33.3%"};
  max-width: ${({numofcolumns:e})=>4===e?"25%":"33.3%"};

  text-align: left;
  cursor: pointer;

  &:hover {
    text-decoration: none;

    * {
      text-decoration: none;
    }
  }
`,AZ=u(NZ)`
  padding: 16px;
  cursor: pointer;
`,PZ=u(NZ)`
  padding: 16px 16px 16px 0;
`,DZ=u(NZ)`
  padding: 16px 16px 16px 0;
`,OZ=u(NZ)`
  padding: 16px 16px 16px 0;
`,LZ=u(IZ)`
  padding: 0 16px 0 0;
  text-align: left;
`,RZ=u(IZ)`
  text-align: left;
  padding: 0 16px 0 0;
`,FZ=u(IZ)`
  text-align: left;
  padding: 0 16px 0 0;
`,MZ=u(IZ)`
  padding: 0 16px 0 0;

  svg {
    opacity: 0.6;
  }
`,UZ=u.div`
  padding-top: 2px;

  &.de-emphasize {
    color: ${({theme:e})=>e.themeColors.text} !important;
    opacity: 0.6 !important;

    * {
      color: ${({theme:e})=>e.themeColors.text} !important;
    }
  }
`,$Z=u.div`
  text-align: left;
  opacity: ${({value:e})=>0===e?"0.6":"1"};
`,BZ=u.div`
  text-align: left;
  opacity: ${({value:e})=>0===e?"0.6":"1"};
`,zZ=u.div`
  text-align: left;
`,VZ=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-wrap: wrap;
`,HZ=u.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
`,WZ=u.div`
  padding: 16px;
`,jZ=u(IZ)`
  padding: 16px 16px 16px 0;
  text-align: left;
`,GZ=({securityId:e})=>{const{todayChange:{value:t,percent:n}}=mZ(e);return isNaN(t)?null:c.createElement($Z,{value:t},c.createElement("div",null,c.createElement(yZ,{value:t})),c.createElement("div",null,c.createElement(_Z,{value:n})))},qZ=({securityId:e})=>{const{totalChange:{value:t,percent:n}}=mZ(e);return isNaN(t)?null:c.createElement(BZ,{value:t},c.createElement("div",null,c.createElement(yZ,{value:t})),c.createElement("div",null,c.createElement(_Z,{value:n})))},YZ=({securityId:e})=>{const{shares:t,value:n,percentageOfPortfolio:r}=gZ(e);return isNaN(t)?null:c.createElement(zZ,null,c.createElement(fZ,{value:n}),c.createElement(VZ,null,c.createElement(bZ,{value:t}),c.createElement("div",{style:{paddingLeft:"4px"}},c.createElement(vZ,{value:r}))))},KZ=({numofcolumns:e})=>{const{value:t,percentageOfEquity:n}=XN();return c.createElement(HZ,null,c.createElement(WZ,null,c.createElement(Ei,null,"Cash")),c.createElement("div",null),c.createElement(jZ,{numofcolumns:e},c.createElement("div",null,c.createElement(Ei,null,ng(t,"price"))),c.createElement("div",null,c.createElement(Ei,null,ng(n,"percentage")))))},QZ=({position:e,numofcolumns:t,isTodayChangeShowing:n})=>{const r=_(),{security_id:i,symbol:a}=e,{name:s}=IH(i),o=CU({location:r,securityId:i,additionalProps:{}});return c.createElement(kZ,null,4===t?c.createElement(c.Fragment,null,c.createElement(AZ,{to:o,numofcolumns:t},c.createElement("div",null,c.createElement(ZQ,null,a)),c.createElement("div",null,c.createElement(JQ,null,s)),c.createElement(UZ,null,c.createElement(aZ,{securityId:i,type:iZ})),c.createElement($H,{securityId:i,ContainerProps:{top:3,style:{opacity:.6}}})),c.createElement(PZ,{to:o,numofcolumns:t},c.createElement(GZ,{securityId:i})),c.createElement(DZ,{to:o,numofcolumns:t},c.createElement(qZ,{securityId:i})),c.createElement(OZ,{to:o,numofcolumns:t},c.createElement(YZ,{securityId:i}))):c.createElement(c.Fragment,null,c.createElement(AZ,{to:o,numofcolumns:t},c.createElement("div",null,c.createElement(ZQ,null,a)),c.createElement("div",null,c.createElement(JQ,null,s)),c.createElement(UZ,null,c.createElement(aZ,{securityId:i,type:iZ})),c.createElement($H,{securityId:i,ContainerProps:{top:3,style:{opacity:.6}}})),n?c.createElement(PZ,{to:o,numofcolumns:t},c.createElement(GZ,{securityId:i})):c.createElement(DZ,{to:o,numofcolumns:t},c.createElement(qZ,{securityId:i})),c.createElement(OZ,{to:o,numofcolumns:t},c.createElement(YZ,{securityId:i}))))},ZZ=u.div`
  position: absolute;
  top: -24px;
  left: 0;
  right: 0;

  height: 24px;

  display: flex;
  align-items: flex-start;
  justify-content: flex-end;
  flex-direction: row;

  opacity: 0.4;
  * {
    font-size: 10px !important;
  }
`,XZ=({value:e,onToggle:t})=>c.createElement(ZZ,null,c.createElement(hx,{buttonProps:{style:{padding:"5px 16px"}},transparent:!0,onClick:()=>{t(e)}},"day"===e?"Show Total Change":"Show Today Change")),JZ=e=>{const{renderIfNoPositions:t,ContainerComponent:n}=e,r=P(),i=c.useRef(null),[a,s]=QO(),[o,l]=c.useState(3),[d,u]=c.useState(!0),h=c.useCallback((e=>{u("total"===e)}),[]);c.useEffect((()=>{a(i)}),[i]),c.useEffect((()=>{const e=s.width,t=isNaN(e)?3:e>555?4:3;l(t)}),[s]);const p=nI();if(c.useEffect((()=>{(e=>{mC(e)(r),yC(e)(r)})(CZ(CZ(p)))}),[p]),0===CZ(p).length){if(t){const e=t;return c.createElement(e,{container:n})}return null}const m=(e=>Object.values(e))(p).sort(((e,t)=>xZ(e)?xZ(t)?xZ(e)<xZ(t)?-1:xZ(e)>xZ(t)?1:0:(console.error("There was no symbol to sort by.",t),[]):(console.error("There was no symbol to sort by.",e),[])));return c.createElement(n,null,c.createElement(wZ,null,3===o&&c.createElement(XZ,{value:d?"day":"total",onToggle:h}),c.createElement(SZ,{ref:i},c.createElement(TZ,null,4===o?c.createElement(c.Fragment,null,c.createElement(LZ,{numofcolumns:o}),c.createElement(RZ,{numofcolumns:o},c.createElement(sZ,null,"Today Change")),c.createElement(FZ,{numofcolumns:o},c.createElement(sZ,null,"Total Change")),c.createElement(MZ,{numofcolumns:o},c.createElement("div",null,c.createElement("span",{style:{position:"relative"}},c.createElement(sZ,null,"Allocation"),c.createElement(iS,{word:"tooltip_allocation",style:{top:"3px",right:"-18px"},position:"default"}))))):c.createElement(c.Fragment,null,c.createElement(LZ,{numofcolumns:o}),d?c.createElement(RZ,{numofcolumns:o},c.createElement(sZ,null,"Today Change")):c.createElement(FZ,{numofcolumns:o},c.createElement(sZ,null,"Total Change")),c.createElement(MZ,{numofcolumns:o},c.createElement("div",null,c.createElement("span",{style:{position:"relative"}},c.createElement(sZ,null,"Allocation"),c.createElement(iS,{word:"tooltip_allocation",style:{top:"3px",right:"-18px"},position:"default"})))))),m.map(((e,t)=>c.createElement(QZ,{key:`${e.security_id}-${t}`,position:e,numofcolumns:o,isTodayChangeShowing:d}))),c.createElement(KZ,{numofcolumns:o,isTodayChangeShowing:d}))))},eX=e=>{const t=D((e=>e.userIdeaPerformance.userDict));return e in t?t[e]:null},tX=(e,t)=>{if(!e)return null;const n=Object.keys(e),r=[];for(let i=0;i<n.length;i++){let a=e[n[i]];a.user_id===t&&r.push(a)}return r},nX=e=>D((t=>qS(e,t.ideas))),rX=e=>e.sort(((e,t)=>PS(e)?PS(t)?PS(e)<PS(t)?-1:PS(e)>PS(t)?1:0:(console.error("There was no symbol to sort by.",t),[]):(console.error("There was no symbol to sort by.",e),[]))),iX=u.div`
  display: flex;
  justify-content: space-between;
  align-items: center;

  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};

  &:hover,
  &:active {
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-radius: 5px;
    transition: 200ms all;
    text-decoration: none;

    * {
      text-decoration: none;
    }
  }
`,aX=u(A)`
  flex: 1;
  min-width: 0; /* or some value */

  padding: 16px;
  cursor: pointer;

  &:hover,
  &:active {
    text-decoration: none;

    * {
      text-decoration: none;
    }
  }
`,sX=u.div`
  padding: 16px 16px 16px 0;
  text-align: right;
  width: 136px;

  button {
    padding: 8px 16px;
    width: 120px;
  }
`,oX=u.div`
  padding-top: 2px;

  &.de-emphasize {
    color: ${({theme:e})=>e.themeColors.text} !important;
    opacity: 0.6 !important;

    * {
      color: ${({theme:e})=>e.themeColors.text} !important;
    }
  }
`,lX=({ideaId:e})=>{const t=b(),n=_(),r=nX(e),i=AS(r),a=(e=>{var t;return e?0===(null==(t=null==e?void 0:e.idea_type)?void 0:t.id):null})(r),s=c.useCallback((()=>{}),[]),o=c.useCallback((()=>{t(`/orders?operation=buy&security_id=${i}`),th.ideas.CLICK_TRADE_BUTTON_DASHBOARD_IDEAS.send({"Order Type":"Buy","Security ID":parseInt(i,10)})}),[]),l=c.useCallback((()=>{t(`/orders?operation=sell&security_id=${i}`),th.ideas.CLICK_TRADE_BUTTON_DASHBOARD_IDEAS.send({"Order Type":"Sell","Security ID":parseInt(i,10)})}),[]);if(!r)return null;const d=CU({location:n,securityId:i,additionalProps:{}});return c.createElement(iX,null,c.createElement(aX,{to:d,onClick:s},c.createElement("div",null,c.createElement(ZQ,null,r.security.symbol)),c.createElement(JQ,null,r.security.name),c.createElement(oX,null,c.createElement(aZ,{securityId:i,type:iZ})),c.createElement($H,{securityId:i,ContainerProps:{top:3}})),c.createElement(sX,null,a?c.createElement(hx,{fullWidth:!0,onClick:o},"Buy"):c.createElement(hx,{fullWidth:!0,onClick:l},"Sell")))},cX=u.div`
  border-radius: 5px;
  background: ${({theme:e})=>e.themeColors.component};
`,dX=u.div`
  padding: 16px 0 16px 16px;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
`,uX=({ideas:e,positions:t})=>{const n=rX(Object.values(e)).map((e=>e.id)),[r,i]=c.useState(n);c.useEffect((()=>{const t=rX(Object.values(e)).map((e=>e.id));i(t)}),[e]);t&&Object.keys(t).length;return c.createElement(cX,null,c.createElement(dX,null,c.createElement(mw,null,"Watchlist")),r.map((e=>c.createElement(lX,{key:e,ideaId:e}))))},hX=()=>{const e=P(),[t,n]=c.useState(!1),[r]=c.useState(aI),i=oI(null,r),a=nI();return c.useEffect((()=>{const t=Object.keys(i);t.length>0&&(mC(t)(e),yC(t)(e))}),[i,a]),t?c.createElement(RQ,null,c.createElement(Dw,null)):i&&0!==i.length?c.createElement(RQ,null,c.createElement(uX,{ideas:i,positions:a})):null};var pX=Object.defineProperty,mX=(e,t,n)=>(((e,t,n)=>{t in e?pX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class gX extends c.Component{constructor(){super(...arguments),mX(this,"_navigateToPositionsPage",(()=>{this.props.navigate(Ln("positions"))})),mX(this,"_handleClick",(()=>{this._logClick(),this._navigateToPositionsPage()})),mX(this,"_logClick",(()=>{const e={Context:this.props.viewingContext};TC("Clicked See Full Positions",e)()}))}render(){return c.createElement("div",{className:"see-full-positions-action"},c.createElement(hx,{handleClick:this._handleClick},"View Position Details"))}}var yX=_c(gX),_X=Object.defineProperty,fX=(e,t,n)=>(((e,t,n)=>{t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const vX=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.text} !important;
  }

  .footer-body {
    margin: 0 auto;
    padding: 24px 24px;
    max-width: 1200px;
  }

  .footer-page-links {
    margin: 0 auto;
    max-width: 300px;
  }

  .footer-social-links {
    margin: 0 auto;
    padding: 16px 0;
    max-width: 160px;
  }

  .other-logos {
    margin: 0;
    padding: 16px 0;

    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    width: 100%;

    img {
      max-width: 76px;
    }
  }

  a:hover {
    text-decoration: none;
    opacity: 0.8;
  }
  li {
    list-style: none;
  }
  .social-icon {
    color: ${({theme:e})=>e.themeColors.appBackground};
  }

  .social-icon-bg {
    i {
      color: ${({theme:e})=>e.themeColors.appBackground} !important;
    }
    background-color: ${({theme:e})=>e.themeColors.text};
  }
  .footer-body a:hover,
  .footer-body a:active,
  .footer-body a:visited,
  .footer-body a:focus {
    color: ${({theme:e})=>e.themeColors.text};
  }

  .social-icon-bg {
    display: block;
    text-align: center;
    height: 32px;
    width: 32px;
    padding: 4px 6px;
    border-radius: 6px;
  }
  .social-icon {
    font-size: 24px;
  }
  .social-icon-lg {
    font-size: 36px;
  }
  .footer-provider-logo {
    background-repeat: no-repeat;
    background-size: contain;
    height: 25px;
    width: 125px;
  }
  .footer-react-container {
    position: relative;
  }
  .footer-react-container .new.grey-footer {
    padding-top: 35px;
  }
  .footer-react-container .footer-logo-container {
    display: none;
  }

  .dashboard-page footer {
    border-top: none !important;

    .footer-react-container {
      position: relative;
    }
    .footer-page-links ul {
      display: flex;
      flex-direction: column;
    }
    .footer-page-links li {
      width: 100%;
      text-align: left;
    }
    .footer-social-links {
      position: absolute;
      top: 20px;
      right: 0px;
      left: 0px;
      height: 75px;
    }
  }
  .logo {
    margin-bottom: 15px;
  }
  .logo img {
    max-width: 76px;
  }
  .links {
    margin-bottom: 5px;
    overflow: auto;
  }
  .links ul {
    list-style: none;
    -webkit-padding-start: 0px;
  }
  .links ul li {
    float: left;
    padding-right: 40px;
    padding-bottom: 15px;
  }
  .links ul li:last-child {
    padding-right: 0px;
  }
  .links ul li a {
    text-align: center;
    display: block;
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: 0.5px;
    font-weight: 400;
  }
  .text-copy {
    font-size: 10px;
    clear: both;
    margin-bottom: 15px;
  }
  .copyright {
    font-size: 10px;
    margin-bottom: 15px;
  }
  @media (max-width: 420px) {
    .other-logos img {
      max-width: 60px;
    }
  }
  @media (max-width: 320px) {
    .other-logos img {
      max-width: 55px;
    }
  }

  .s-and-p {
    //background-image: url(/app/assets/s_and_p_logo.png);
    background-image: url(/app/assets/s_and_p_logo_grey.png);
    height: 31px;
    width: 112px;
  }
  .xignite {
    //background-image: url(/app/assets/xignite_logo.png);
    background-image: url(/app/assets/xignite_logo_grey.png);
    height: 21px;
    width: 82px;
  }
  .nasdaq {
    //background-image: url(/app/assets/nasdaq_logo.png);
    background-image: url(/app/assets/nasdaq_logo_grey.png);
    height: 26px;
    width: 93px;
  }
  .sipc {
    //background-image: url(/app/assets/sipc_logo.png);
    background-image: url(/app/assets/sipc_logo_grey.png);
    height: 35px;
    width: 60px;
  }
  @media (max-width: 500px) {
    .s-and-p {
      height: 22px;
      width: 85px;
    }
    .xignite {
      height: 13px;
      width: 55px;
    }
    .nasdaq {
      height: 16px;
      width: 61px;
    }
    .sipc {
      height: 25px;
      width: 45px;
    }
  }
`;class EX extends c.Component{constructor(){super(...arguments),fX(this,"_renderFooterPartial",(()=>{const e={__html:this._returnFooterPartial()};return c.createElement("div",{dangerouslySetInnerHTML:e})})),fX(this,"_onAfterPartialRender",(()=>{this._callJSForPartial(),this._overwriteFooterLinkActions()})),fX(this,"_$returnFooterLinksContainer",(()=>$(".footer-page-links"))),fX(this,"_createEventListenerForPage",((e,t)=>{t.on("click",(t=>{t.preventDefault(),this.props.navigate(e)}))})),fX(this,"_overwriteFooterLinkActions",(()=>{this._$returnFooterLinksContainer().find('li[title*="About"] a').attr("href","http://tornado.com/about").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="Enterprise"]').hide(),this._$returnFooterLinksContainer().find('li[title*="Press Kit"]').hide(),this._$returnFooterLinksContainer().find('li[title*="Blog"] a').attr("href","http://blog.tornado.com").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="FAQ"] a').attr("href","http://tornado.com/faq").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="Legal"] a').attr("href","http://tornado.com/legal").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="Terms of Service"] a').attr("href","http://tornado.com/terms_of_service").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="Privacy Policy"] a').attr("href","http://tornado.com/privacy_policy").attr("target","_blank"),this._$returnFooterLinksContainer().find('li[title*="Margin Disclosure"] a').attr("href","http://tornado.com/margin_disclosure").attr("target","_blank")})),fX(this,"_callJSForPartial",(()=>{$("#blog_link").click((function(e){window.amplitude.getInstance("legacyEvents").logEvent("Blog Link Clicked",{"In App":!0})})),$("#press_link").click((function(e){window.amplitude.getInstance("legacyEvents").logEvent("Press Kit Link Clicked",{"In App":!0})})),$("#nvstr_footer_facebook").click((function(e){window.amplitude.getInstance("legacyEvents").logEvent("Footer - Click Social Link",{Network:"Facebook","In App":!0})})),$("#nvstr_footer_twitter").click((function(e){window.amplitude.getInstance("legacyEvents").logEvent("Footer - Click Social Link",{Network:"Twitter","In App":!0})})),$("#nvstr_footer_instagram").click((function(e){window.amplitude.getInstance("legacyEvents").logEvent("Footer - Click Social Link",{Network:"Instagram","In App":!0})}));if("/about"===window.location.pathname){const e=$("footer.new")[0];e&&e.classList.remove("grey-footer")}})),fX(this,"_isLoading",(()=>this._returnFooterStore().isLoading)),fX(this,"_returnFooterPartial",(()=>this._returnFooterStore().partial)),fX(this,"_returnFooterStore",(()=>this.props.footer))}componentDidMount(){!this.props.footer.isLoading&&this.props.footer.partial&&this._onAfterPartialRender()}componentDidUpdate(e){e.footer.isLoading&&!this.props.footer.isLoading&&this.props.footer.partial&&this._onAfterPartialRender()}render(){return this._isLoading()?null:c.createElement(ml.Provider,{value:{elementPosition:_t.node_location.footer}},c.createElement(vX,{className:"footer-react-container"},this._renderFooterPartial()))}}var bX=_c(T((e=>({footer:e.footer})))(EX));const CX=e=>c.createElement("div",{className:"dashboard-disclaimer-footer"},c.createElement(bX,null));u.div`
  background: ${({theme:e})=>e.themeColors.component};
  padding: 24px 0 0 0;

  table {
    width: 100%;
  }

  th {
    text-align: center;
  }

  td {
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
    padding: 16px 0;
  }

  td:first-child {
    padding-left: 24px;
    max-width: 160px;
  }
  td:last-child,
  th:last-child {
    text-align: center;
    padding-right: 24px;
  }
  td:nth-last-child(2),
  th:nth-last-child(2) {
    text-align: center;
  }

  td:nth-last-child(2) {
    text-align: center;

    * {
      color: ${vr.secondary.brightGreen};
    }
  }
`,u.div`
  button {
    padding: 4px 0px;

    * {
      color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`;const xX=()=>{const e=b(),t=oI(null,null),n=()=>{e(Tn.build())};return 0===Object.keys(t).length?c.createElement(RQ,null,c.createElement(Fx,null,c.createElement(Iw,{top:8,left:24},c.createElement(Iw,{bottom:8},c.createElement(Ei,null,"Stocks you own and stocks on your watchlist will appear here."),c.createElement(Iw,{top:24},c.createElement(Ei,null,"Not sure where to start?"),c.createElement(Iw,{top:24}),c.createElement(hx,{onClick:n},"Start Exploring Here")))))):c.createElement(c.Fragment,null,c.createElement(JZ,{renderIfNoPositions:null,ContainerComponent:RQ}),c.createElement(hX,{showHeading:!0}),c.createElement(RQ,null,c.createElement(yX,{viewingContext:"Dashboard"})))},wX=e=>{const{isMobileActivePanel:t,bodyPanelStyle:n,affixWrapperStyle:r,handleMutation:i}=e,a=ZT().hide_top_performers_test_group||0;return c.createElement(LQ,{className:"left-dashboard-body-panel "+(t?"active":""),style:n},c.createElement("div",{className:"affix-wrapper",style:r},c.createElement(cR,{onMutation:i,setInitialSize:!0,useThrottle:!0},!a&&c.createElement(RQ,null,c.createElement(QQ,{size:"small"})),c.createElement(xX,null),c.createElement(CX,null))))};var SX=Object.defineProperty,kX=(e,t,n)=>(((e,t,n)=>{t in e?SX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class TX extends c.Component{constructor(){super(...arguments),kX(this,"_getSecuritiesDataIfNeeded",(()=>{const e=this.returnAllSecuritiesInNotifications(),t=[];e.forEach((e=>{this._shouldGetSecurityData(e)&&t.push(e)})),t.length>0&&this.getDataForSecurities(t)})),kX(this,"_shouldGetSecurityData",(e=>!cg(e,this.returnSecuritiesStore())&&!((e,t)=>{const n=lg(e,t);return n&&Object.keys(n).length>0})(e,this.returnSecuritiesStore()))),kX(this,"returnAllSecuritiesInNotifications",(()=>{const e=this.returnAllNotifications().map((e=>(e=>e.data&&e.data.security&&e.data.security.security_id?e.data.security.security_id:e.data&&e.data.security_id?e.data.security_id:e.ideas&&e.ideas[0]&&AS(e.ideas[0])?AS(e.ideas[0]):null)(e))).filter((e=>null!==e));return e.filter(((t,n)=>e.indexOf(t)===n))})),kX(this,"getDataForSecurities",(e=>this.props.actions.quickFetchSecuritiesData(e))),kX(this,"returnAllNotifications",(()=>this.returnNotificationStore().notificationsList)),kX(this,"returnNotificationStore",(()=>this.props.notifications)),kX(this,"_isSecurityDataAvailable",(e=>this.returnSecurityFromSecurityId(e)&&this.returnSecurityFromSecurityId(e).name)),kX(this,"returnSecurityFromSecurityId",(e=>this.returnSecuritiesStoreLookup()[e])),kX(this,"returnSecuritiesStoreLookup",(()=>this.returnSecuritiesStore().lookup)),kX(this,"returnSecuritiesStore",(()=>this.props.securities))}componentDidMount(){this._getSecuritiesDataIfNeeded()}componentDidUpdate(){this._getSecuritiesDataIfNeeded()}render(){return null}}var IX=T((e=>({securities:e.securities,notifications:e.notifications})),(e=>({actions:I(WC,e)})))(TX);const NX=e=>{const t=(e=>{const t=e.length;let n=null,r=null;for(let i=0;i<t;i++)if(">"===e[i]){n=i+1;break}for(let i=t;i>0;i--)if("<"===e[i]){r=i;break}return e.slice(n,r)})(e.notification),n=df(t);return c.createElement("li",{className:"notification row",dangerouslySetInnerHTML:n})};var AX=Object.defineProperty,PX=(e,t,n)=>(((e,t,n)=>{t in e?AX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const DX=u.div``,OX=u.div``,LX=u.span`
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  &:hover {
    opacity: 0.8;
  }
`,RX=u.div`
  margin: 0 auto;
  padding: 16px 0;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  width: 142px;

  button {
    padding: 4px 12px;
    border: none !important;
    border-radius: 4px;
  }
  ${DX} {
    button {
      background-color: ${({theme:e})=>e.themeColors.proColor};
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
  ${OX} {
    button {
      background-color: ${({theme:e})=>e.themeColors.conColor};
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
`,FX=({to:e,onClick:t,text:n})=>{const r=b();return c.createElement(hx,{transparent:!0,onClick:()=>{r(e),t()}},n)};class MX extends C.exports.Component{constructor(e){super(e),PX(this,"_handleResize",(()=>{this.setState((()=>({componentWidth:window.$(this.NewsComponent).width()})))})),PX(this,"returnNewsId",(()=>this._returnNewsData().id)),PX(this,"_isLoadingOgo",(()=>!this._returnOgoFromStore()||this._returnOgoFromStore().loading)),PX(this,"_renderLoadingCustomImage",(()=>c.createElement("span",{className:"news-image-container loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),PX(this,"_renderLoadingSummary",(()=>c.createElement("span",{className:"news-container loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),PX(this,"_renderError",(()=>c.createElement("div",{className:"news-component error"},"There was an error getting the news. Please try again later."))),PX(this,"_renderCreatingNewsThought",(()=>c.createElement(PY,{securityId:this._returnSecurityId(),thoughtType:this.state.thoughtType,ogo:this._returnOgoFromStore(),isLoadingCustomImage:this._isLoadingOgo(),handleFinishCreatingThought:this._handleFinishCreatingThought,handleCancelCreatingThought:this._handleCancelCreatingThought,newsTrackingData:this.returnNewsTrackingData()}))),PX(this,"_renderNews",(()=>this.state.componentWidth<557||"small"===this.props.size?this._renderMobileSizedNews():this._renderDefaultSizeNews())),PX(this,"_renderDefaultSizeNews",(()=>c.createElement(LX,{onClick:this._logNewsArticleClick,className:`\n          news-component-container\n          news-component-container-${this.returnNewsId()}\n          news-article\n          ${this._alternativeDisplayClasses()}\n          ${this._displayAsSize()}\n        `},!this.props.ignoreImpressionTracking&&c.createElement(TY,{newsId:this.returnNewsId(),securityId:this._returnSecurityId(),notificationIndex:this.props.notificationIndex,metadata:this._returnNewsData().metadata,viewingContext:this.props.viewingContext,scrollContainerSelector:this.props.scrollContainerSelector,containerElementSelector:".news-component-container",recordImpressionOnMount:this.props.recordImpressionOnMount}),c.createElement("div",{className:"\n            news-component\n            news-article\n          ",ref:e=>this.NewsComponent=e},c.createElement("a",{href:this._returnArticleOriginalURL(),target:"_blank",rel:"no-follow noopener noreferrer",onClick:this._logNewsArticleClick},this._renderImage()),this._renderNewsBody())))),PX(this,"_renderMobileSizedNews",(()=>c.createElement(LX,{className:`\n          news-component-container\n          news-component-container-${this.returnNewsId()}\n          news-article\n          ${this._alternativeDisplayClasses()}\n          ${this._displayAsSize()}\n        `},!this.props.ignoreImpressionTracking&&c.createElement(TY,{newsId:this.returnNewsId(),securityId:this._returnSecurityId(),notificationIndex:this.props.notificationIndex,metadata:this._returnNewsData().metadata,viewingContext:this.props.viewingContext,scrollContainerSelector:this.props.scrollContainerSelector,containerElementSelector:".news-component-container",recordImpressionOnMount:this.props.recordImpressionOnMount}),c.createElement("div",{className:`\n            news-component\n            news-article\n            ${this._alternativeDisplayClasses()}\n            ${this._displayAsSize()}\n          `,ref:e=>this.NewsComponent=e},c.createElement("a",{href:this._returnArticleOriginalURL(),target:"_blank",rel:"no-follow noopener noreferrer",onClick:this._logNewsArticleClick},this._renderHeadline()),c.createElement("a",{href:this._returnArticleOriginalURL(),target:"_blank",rel:"no-follow noopener noreferrer",onClick:this._logNewsArticleClick},this._renderImage())),this._renderMobileNewsBody()))),PX(this,"_shouldDisplayAsInActivityPageFeed",(()=>this.props.inActivityPageFeed)),PX(this,"_shouldDisplayAsInFeed",(()=>this.props.inFeed)),PX(this,"_alternativeDisplayClasses",(()=>this._shouldDisplayAsInFeed()||this._shouldDisplayAsInActivityPageFeed()?"news-in-feed":"")),PX(this,"_displayAsSize",(()=>this.props.size||"")),PX(this,"_wasErrorGettingNews",(()=>!1)),PX(this,"_returnNewsData",(()=>{const e=this.props.newsData;return e||console.error("No news data was passed into NewsComponent"),e||{}})),PX(this,"_renderImage",(()=>{if(!this._isImageInNewsData()&&this._isLoadingOgo())return this._renderLoadingCustomImage();const e=this._returnNewsData(),t=this._returnOgoFromStore(),n=t?t.images_url||null:e.open_graph_object&&e.open_graph_object.image_link;return!n||this.state.didImageLoadFail?c.createElement(Ow,null):c.createElement("span",{className:"news-image-container",style:this._shouldDisplayAsInFeed()?{maxHeight:"auto",minHeight:"auto",width:"auto",maxWidth:"auto"}:{}},c.createElement(Fw,{src:n,handleImageLoadFailure:this.handleImageLoadFailure,parentClass:".news-image-container",maxHeight:this._shouldDisplayAsInFeed()?300:null,renderPlaceholder:!0}))})),PX(this,"_renderNewsBody",(()=>c.createElement("span",{className:"news-body"},c.createElement("a",{href:this._returnArticleOriginalURL(),target:"_blank",rel:"no-follow noopener noreferrer",onClick:this._logNewsArticleClick},this._renderNewsHeader(),this._renderHeadline(),this._renderSummary()),this._renderMoreNewsForTickerLink(),this._renderAddThoughtActionButtons()))),PX(this,"_renderMobileNewsBody",(()=>c.createElement("span",{className:"news-body"},c.createElement("a",{href:this._returnArticleOriginalURL(),target:"_blank",rel:"no-follow noopener noreferrer",onClick:this._logNewsArticleClick},this._renderNewsHeader()),this._renderAddThoughtActionButtons(),this._renderMoreNewsForTickerLink()))),PX(this,"_renderNewsHeader",(()=>c.createElement("span",{className:"news-header"},this._renderSource(),this._renderTimestamp()))),PX(this,"_renderSource",(()=>{const e=this._returnSource();return c.createElement("span",{className:"news-source"},e)})),PX(this,"_returnLinkToOpenSecurityPanel",(()=>{const e={panel:"security",securityId:this._returnSecurityId(),activeTab:"headlines"};return this.props.location.pathname+ve(e)})),PX(this,"_renderMoreNewsForTickerLink",(()=>this._shouldDisplayAsInFeed()||this._shouldDisplayAsInActivityPageFeed()?c.createElement("span",{className:"more-news-button-container"},c.createElement(FX,{to:this._returnLinkToOpenSecurityPanel(),onClick:this._logOpenSecurityPanelFromNewsInFeed,text:"More News On "+this._returnSecurity().symbol})):null)),PX(this,"_renderHeadline",(()=>c.createElement("span",{className:"news-headline"},this._returnDisplayHeadline()||""))),PX(this,"_renderSummary",(()=>this._isLoadingOgo()?c.createElement("span",{className:"news-summary loading"},c.createElement(_e,{icon:"fading-3balls",size:"small"})):c.createElement("span",{className:"news-summary"},this._returnDisplaySummary()))),PX(this,"_renderTimestamp",(()=>{const e=this._returnNewsData(),t=jl(),n=1e3*e.timestamp,r=jl(n),i=!r.isBefore(t,"day"),a=`${Yl("l",r)} ${Yl("LT",r)}`,s=r.fromNow(),o=i?s:a;return c.createElement("span",{className:"news-timestamp secondary-text-color border-accent"},o)})),PX(this,"_renderAddThoughtActionButtons",(()=>c.createElement(RX,{className:"post-thought-action-buttons"},c.createElement(DX,null,c.createElement(hx,{onClick:this._bindAddThoughtButtonToHandler("pro")},"+ Pro")),c.createElement(OX,null,c.createElement(hx,{onClick:this._bindAddThoughtButtonToHandler("con")},"+ Con"))))),PX(this,"_returnHeadline",(()=>this._returnNewsData().open_graph_object&&this._returnNewsData().open_graph_object.title)),PX(this,"_returnDisplayHeadline",(()=>{const e=this._returnHeadline();return XS(e,100)})),PX(this,"_returnSummary",(()=>this._returnOgoFromStore()&&this._returnOgoFromStore().description||"")),PX(this,"_returnSource",(()=>this._returnNewsData().source)),PX(this,"_returnDisplaySummary",(()=>{const e=this._returnSummary();return XS(e,250)})),PX(this,"_returnArticleOriginalURL",(()=>{const e=this._returnNewsData();return e.open_graph_object&&e.open_graph_object.url})),PX(this,"_returnOgoFromStore",(()=>this.props.news.ogoByUrl[this._returnArticleOriginalURL()]||null)),PX(this,"_getCustomPreviewImage",(()=>{const e=this._returnNewsData();this.props.actions.fetchNewsImage(e)})),PX(this,"handleImageLoadFailure",(()=>{this.setState((()=>({didImageLoadFail:!0})))})),PX(this,"_saveImageToStore",(()=>{const e=this._returnNewsData().open_graph_object,t=this._returnArticleOriginalURL(),n=this._returnDisplayHeadline(),r={description:this._returnDisplaySummary(),title:n,url:t,images:[e.image_link],favicon:null};this.props.actions.saveNewsOgo(t,r)})),PX(this,"_isImageInNewsData",(()=>{const e=this._returnNewsData();return!!(e.open_graph_object&&e.open_graph_object.image_link)&&!1})),PX(this,"_bindAddThoughtButtonToHandler",(e=>()=>(this.props.actions.sendNewsClickEvent(this._buildNewsClickTrackingData(e)),this.props.isCurrentUserAuthed?this._handleAddThoughtClick(e):cy.call(this)))),PX(this,"_handleAddThoughtClick",(e=>{const t="pro"===e.toLowerCase()?{id:0,name:"Pro"}:{id:1,name:"Con"};this.setState((()=>({isCreatingThought:!0,thoughtType:t})))})),PX(this,"_clearCreatingThought",(()=>{this.setState((()=>({isCreatingThought:!1,thoughtType:null})))})),PX(this,"_handleCancelCreatingThought",(()=>{this._clearCreatingThought()})),PX(this,"_handleFinishCreatingThought",(()=>{this._clearCreatingThought(),this.getUpdatedNotifications()})),PX(this,"_returnConfigForNotifRequest",(()=>({batch_index:0,page:1}))),PX(this,"getUpdatedNotifications",(()=>{const e=this._returnConfigForNotifRequest();this.props.actions.getUpdatedNotifications(e).then((e=>(this.props.actions.getUnseenNotificationsCount(),e)))})),PX(this,"_returnSecurityId",(()=>this._returnSecurity().id)),PX(this,"_returnSecurity",(()=>this._returnNewsData().security||this.props.security)),PX(this,"returnNewsTrackingData",(()=>({"Concernable Id":this._returnSecurityId(),"Concernable Type":"Security",Source:this._returnSource(),URL:this._returnArticleOriginalURL(),"Security ID":this._returnSecurityId(),"Stock Symbol":this._returnSecurity().symbol,Context:this.props.isNotification?"News Notification":"Security Panel"}))),PX(this,"_logOpenSecurityPanelFromNewsInFeed",(()=>{const e={Component:"News In Feed Component",Context:"Security Panel",Symbol:this._returnSecurity().symbol};this.props.actions.sendNewsClickEvent(this._buildNewsClickTrackingData("more")),this.props.actions.logMetricsTrackingEvent("Open Security Panel",e)})),PX(this,"_logNewsArticleClick",(()=>{Cu("Click News Article",{themeTestGroups:jp(this.props.currentUser)});const e=o({},this.returnNewsTrackingData());this.props.actions.sendNewsClickEvent(this._buildNewsClickTrackingData("link")),this.props.actions.logMetricsTrackingEvent("Clicked News Article",e)})),PX(this,"_buildNewsClickTrackingData",(e=>({id:this.returnNewsId(),securityId:this._returnSecurityId(),clickType:e,context:this.props.viewingContext,indexInFeed:this.props.notificationIndex,metadata:this._returnNewsData().metadata}))),this.state={componentWidth:null,isCreatingThought:!1,thoughtType:null,didImageLoadFail:!1}}componentDidMount(){window.addEventListener("resize",this._handleResize),this._handleResize();this._returnOgoFromStore()||(this._isImageInNewsData()?this._saveImageToStore():this._getCustomPreviewImage())}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){return this._wasErrorGettingNews()?this._renderError():this.state.isCreatingThought?this._renderCreatingNewsThought():this._renderNews()}}T((e=>({currentUser:e.currentUser,news:e.news})),(e=>({actions:I(WC,e)})))(MX);const UX=e=>{const{notification:t}=e,{adjective:n,start_phrase:r,end_phrase:i}=t,a="best"===n.toLowerCase()?"increase-change-text-color":"decrease-change-text-color",s="past week"===r.toLowerCase();return c.createElement("div",{className:"idea-perf-notif-header"},c.createElement("span",{style:{whiteSpace:"nowrap"}},c.createElement("span",{className:"bold",style:{display:"inline-block"}},r)," ",c.createElement("span",{className:a},n)," ",c.createElement("span",null,"Performers")," "),i&&i.length>0&&c.createElement("span",{style:{display:"inline-block"}},c.createElement("span",{className:s?"hide-mobile":""},"-"," "),i))};var $X=Object.defineProperty,BX=(e,t,n)=>(((e,t,n)=>{t in e?$X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class zX extends c.PureComponent{constructor(){super(),BX(this,"getLinkFromUserId",(e=>{const{performance:t}=this.props,{ideas_from:n}=t,r={};(n||[]).forEach((e=>{r[e.user.user_id]=e.idea.idea_id}));const i=r[e],a=window.location.search;return`${a.length>0?`${a}&`:"?"}panel=idea&ideaId=${i}`})),BX(this,"getTimePeriod",(()=>{const{notification:e}=this.props,{start_phrase:t}=e;let n=null;return"daily"===t.toLowerCase()&&(n="daily"),"past week"===t.toLowerCase()&&(n="weekly"),"monthly"===t.toLowerCase()&&(n="monthly"),n})),BX(this,"logEllipsisClick",(()=>{const e=this.getTimePeriod();TC("Clicked View Users List",{Context:QL,"Time Period":e})()})),this.MAX_SHOW_AVATAR_COUNT=2}render(){const{performance:e,notificationKeyString:t}=this.props,{security:n,percent_change:r,ideas_from:i}=e,a=i||[],s=a.map((e=>e.user.user_id)),o={};return a.forEach((e=>{o[e.user.user_id]=e.idea.idea_id})),c.createElement("div",{key:`${t}_${n.security_id}`,className:"idea-perf-row"},c.createElement("div",{className:"security-identifier-string-container security-identifier-symbol-string"},c.createElement(Fz,{securityId:n.security_id,symbol:n.symbol,showSymbol:!0,inFeed:!0})),c.createElement("div",{className:"security-identifier-string-container security-identifier-company-name-string"},c.createElement(Fz,{securityId:n.security_id,name:n.name,showName:!0,limitNameWidth:!0,inFeed:!0})),c.createElement(C$,{valueFormat:"percentageFloat",value:r,coloredText:!0,showPlus:!0,hideIcon:!0}),c.createElement(KL,{userIds:s,getLinkFromUserId:null,maxShowIdCount:this.MAX_SHOW_AVATAR_COUNT,logEllipsisClick:this.logEllipsisClick,showEllipsisUserListAfter:!0}))}}const VX=e=>{const{notification:t,performanceList:n,notificationKeyString:r,isExpanded:i,maxRowsCollapsed:a}=e,s=e=>e.map(((e,n)=>c.createElement(zX,{key:`notificationKeyString-${n}`,performance:e,notification:t,notificationKeyString:r}))),o=n.slice(0,a),l=n.slice(a);return c.createElement("div",null,c.createElement("div",{className:"idea-perf-list notification-indent"},s(o)),i&&c.createElement("div",{className:"idea-perf-list notification-indent"},s(l)))};var HX=Object.defineProperty,WX=(e,t,n)=>(((e,t,n)=>{t in e?HX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class jX extends C.exports.Component{constructor(){super(),WX(this,"returnMaxPerformanceRowsCollapsedCount",(()=>5)),WX(this,"returnIdeaPerformances",(()=>this.props.notification.performances)),WX(this,"isIdeaPerformanceListCollapsable",(()=>this.returnIdeaPerformances().length>this.returnMaxPerformanceRowsCollapsedCount())),WX(this,"isIdeaPerformanceListExpanded",(()=>this.state.isExpanded)),WX(this,"handleSeeMoreClick",(()=>{this.toggleSeeMore()})),WX(this,"handleSeeLessClick",(()=>{this.toggleSeeMore()})),WX(this,"toggleSeeMore",(()=>{this.setState((e=>({isExpanded:!e.isExpanded})))})),this.state={isExpanded:!1}}render(){return c.createElement("div",{className:"idea-perf-notif-container"},c.createElement(UX,{notification:this.props.notification}),c.createElement(VX,{notification:this.props.notification,performanceList:this.props.notification.performances,isExpanded:this.state.isExpanded,maxRowsCollapsed:this.returnMaxPerformanceRowsCollapsedCount(),notificationKeyString:`ideas-perf-notif-${this.props.notification.adjective}-${this.props.notification.start_phrase}-${this.props.notification.end_phrase}`}),this.isIdeaPerformanceListCollapsable()&&(this.isIdeaPerformanceListExpanded()?c.createElement("div",{className:"idea-perf-list see-more-less-button-container notification-indent"},c.createElement(hx,{transparent:!0,onClick:this.handleSeeLessClick},"LESS")):c.createElement("div",{className:"idea-perf-list see-more-less-button-container notification-indent"},c.createElement(hx,{transparent:!0,onClick:this.handleSeeMoreClick},"MORE"))))}}const GX=e=>{const{children:t}=e,n=c.Children.map(t,(t=>c.cloneElement(t,e)));return c.createElement("span",{className:"avatar-position-container"},n)},qX=e=>{const{className:t,style:n,elements:r}=e;return c.createElement("span",{className:t||"",style:n||{}},r.map(((t,n)=>c.cloneElement(t,l(o({},e),{key:n})))))},YX=e=>{const{key:t,userIds:n,additionalOthers:r,beAnonymous:i,pluralAnonymousMessage:a,singularAnonymousMessage:s,withAvatar:d,avatarProps:u,userNameProps:h,listLengthLimit:p,includePeriod:m,handleOtherClick:g,returnUserSpecificProps:y,profileLinkQuery:_,suffix:f}=e,v=!nk(f),E=!nk(p),b=n.length,C=0!==b&&E&&b>=p?b===p+1?r?p:p+1:p:b,x=n.slice(0,C),w=b-C+(r||0),S=(C||0)+(w||0),k=o({},u||{}),T=o({},h||{}),I=()=>{e.handleOtherClick&&e.handleOtherClick()};return 0===b&&0===w?null:i?c.createElement("span",{className:"inline-user-list-container"},1===S?s||"People":a||"Someone",v&&f):0===b&&w>0?c.createElement("span",{className:"inline-user-list-container"},1===w?"Someone":`${w} people`,v&&f):c.createElement("span",{className:"inline-user-list-container"},c.createElement("span",{className:""},x.map(((e,n)=>c.createElement("span",{key:`${t||"inline-user-list"}-user-${e}`,style:{display:"inline"}},((e,t,n)=>c.createElement("span",{className:`inline-user-list-item-container ${d?"with-avatars":"without-avatars"} border-accent`},c.createElement(gP,{userId:e},d&&c.createElement(GX,null,c.createElement(VP,o(o({profileLinkQuery:_},k),y?y(e):{}))),t?c.createElement(qX,{elements:[c.createElement(WL,o(o({profileLinkQuery:_},T),y?y(e):{})),t]}):c.createElement(WL,l(o(o({},T),y?y(e):{}),{punctuation:n})))))(e,(e=>e===C-2&&0===w?c.createElement(RL,{className:"inline-conjunction"},"and"):null)(n),(e=>1===b||e===C&&w>0?null:e===C-1&&0===w?m&&c.createElement(RL,{className:"inline-punctuation"},"."):c.createElement(RL,{className:"inline-punctuation"},","))(n)))))),w>0&&c.createElement("span",{onClick:I},`and ${w} other${1===w?"":"s"}${m?".":""}`),v&&f)};var KX=Object.defineProperty,QX=(e,t,n)=>(((e,t,n)=>{t in e?KX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ZX extends c.Component{constructor(){super(),QX(this,"_returnDefaultConfig",(()=>({defaultTimeoutLengthToDisappear:3e3}))),QX(this,"_returnTimeoutLengthToDisappear",(()=>this.props.timeoutLengthToDisappear||this._returnDefaultConfig().defaultTimeoutLengthToDisappear)),QX(this,"_setRenderNull",(()=>{this.setState((()=>({_shouldRenderNull:!0})))})),QX(this,"_saveRenderTimeout",(e=>{this.state._clearRenderTimeout&&this._clearTimeout(),this.setState((()=>({_clearRenderTimeout:e})))})),QX(this,"_clearTimeout",(()=>{clearTimeout(this.state._clearRenderTimeout)})),QX(this,"_createClearRenderTimeout",(()=>setTimeout(this._setRenderNull,this._returnTimeoutLengthToDisappear()))),QX(this,"_createAndSaveRenderTimeout",(()=>{this._saveRenderTimeout(this._createClearRenderTimeout())})),this.state={_clearRenderTimeout:null,_shouldRenderNull:!1}}componentDidMount(){this._createAndSaveRenderTimeout()}componentWillUnmount(){this._clearTimeout()}render(){return this.state._shouldRenderNull?null:this.props.children}}var XX=Object.defineProperty,JX=(e,t,n)=>(((e,t,n)=>{t in e?XX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const eJ=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  gap: 3px;
`,tJ=u.div`
  button {
    padding: 8px 8px 4px 0;
  }
`,nJ=u.div`
  button {
    padding: 4px 6px;
  }
`,rJ=u.div`
  button {
    padding: 4px 6px;
  }
`;class iJ extends C.exports.Component{constructor(){super(),JX(this,"_getSecuritiesData",(()=>this.props.actions.quickFetchSecuritiesData(this._returnNotificationSecurities().map((e=>e.security_id))))),JX(this,"_renderAskCurrentUser",(()=>c.createElement("div",{className:"ask-notification ask-current-user"},this._returnNotificationAsks().map((e=>c.createElement("div",{key:`ask_${e.id}_${this._returnNotificationTimestamp()}`},c.createElement(YX,{userIds:[e.asker.user_id],suffix:c.createElement("span",{className:"inline-punctuation"},c.createElement("span",{className:"inline-conjunction  "},"asked you about"),c.createElement(Fz,{securityId:e.security.security_id,symbol:e.security.symbol,inFeed:!0,showSymbol:!0})),profileLinkQuery:`?context=${Yg}`,withAvatar:!0}),c.createElement("div",{className:"ask-question-bubble-container"},c.createElement("div",{className:"ask-question-bubble main-bg-color-match  "},`${e.question}`)),e.thought&&c.createElement("div",{className:"was-asked-thought-container"},c.createElement(oB,{securityId:e.security.security_id,ignoreImpressionTracking:this.props.ignoreImpressionTracking},c.createElement(iV,{key:`ask-notification-thought-container-${e.thought.id}`,notificationIndex:this.props.notificationIndex,thoughtId:e.thought.id,securityId:e.security.security_id,viewingContext:yS("ASK_NOTIFICATION_IN_FEED"),scrollContainerSelector:window,ignoreImpressionTracking:this.props.ignoreImpressionTracking,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,showThoughtHeading:!0,showAlternateOpinionActionStyle:!0,isUserAuthed:!0,fetchThoughtData:!0,hideOpinionCounts:!0,withThoughtLink:!0,hideShareLink:!0}))),c.createElement("div",{className:"respond-container"},this._shouldRenderCreateThoughtForAsk(e)?this._renderCreateThoughtForAsk(e,!0):c.createElement("div",{className:""},c.createElement("div",{className:"respond-now-action-container"},c.createElement("p",{className:"ask-respond-heading"},c.createElement("span",{className:"inline-punctuation"},"Respond by posting a Pro or Con for"),c.createElement("span",{style:{display:"inline-block"}},c.createElement(Fz,{securityId:e.security.security_id,symbol:e.security.symbol,inFeed:!0,showSymbol:!0}),c.createElement("span",null,"."))),c.createElement(hx,{onClick:this._bindRespondNowActionToHandler(e)},"Respond Now")))),e.idea&&this._renderAskIdeaActionContainer(e),e.thought&&this._renderAskThoughtActionContainer(e),!e.thought&&!e.idea&&this._renderAskSecurityActionContainer(e))))))),JX(this,"_renderAskOtherUsers",(()=>c.createElement("div",{className:"ask-notification ask-others"},c.createElement("span",{className:" "},c.createElement(YX,{userIds:this._returnNotificationAskers().map((e=>e.user_id)),additionalOthers:this._returnNotification().community_asker_count,listLengthLimit:3,profileLinkQuery:`?context=${Yg}`,pluralAnonymousMessage:"People are asking about",singularAnonymousMessage:"Stocks being asked about",beAnonymous:!0,withAvatar:!0})),c.createElement("div",{className:"asked-securities-list-container"},this._isRespondingToASecurity()?this._renderPromptToAddSecurityThought(this._returnRespondingToSecurity()):this._areSecuritiesLoading()?this._renderLoading():this._renderSecuritiesAskList())))),JX(this,"_areSecuritiesLoading",(()=>this._returnNotificationSecurities().map((e=>e.security_id)).every((e=>{return t=e,n=this.props.securities,cg(t,n)&&!lg(t,n);var t,n})))),JX(this,"_renderLoading",(()=>c.createElement("div",{className:"loading-securities-for-ask-notif"},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),JX(this,"_renderPromptToAddSecurityThought",(e=>c.createElement("div",{className:""},this._renderAskedSecurityListItem(e),this._renderCreateThought(e)))),JX(this,"_renderAskedSecurityListItem",((e,t)=>{const{security_id:n,symbol:r,name:i}=e;return c.createElement("div",{key:`ask_security_${n}_${this._returnNotificationTimestamp()}`,className:"asked-security-list-item-container"},c.createElement("div",{className:"ask-security-identifier-container  "},c.createElement(Fz,{securityId:n,symbol:r,name:i,prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0,inFeed:!0})),t&&this._renderAskActionButtons(e))})),JX(this,"_renderSecuritiesAskList",(()=>{const e=this._returnNotificationSecurities();return c.createElement("div",null,e.slice(0,this.state.showAll?e.length:5).map((e=>this._renderAskedSecurityListItem(e,!0))),e.length>5&&c.createElement(tJ,null,c.createElement(hx,{transparent:!0,onClick:()=>this.setState(l(o({},this.state),{showAll:!this.state.showAll}))},"Show ",this.state.showAll?"Less":"More")))})),JX(this,"_renderAskIdeaActionContainer",(e=>this._hasRespondedWithIdeaAction(e)?this._renderAskActionSubmitted(e):this._renderIdeaActionPrompt(e))),JX(this,"_renderAskActionSubmitted",(e=>this.state.sentAskActionInCurrentRenderLifecycle&&c.createElement(ZX,{timeoutLengthToDisappear:5e3},c.createElement("div",{className:"success-action-message idea-updated-message-from-ask"},c.createElement("p",null,`We will send ${e.asker.first_name} an update.`))))),JX(this,"_renderIdeaActionPrompt",(e=>c.createElement("div",{className:"idea-action-container"},c.createElement("p",{className:"ask-respond-heading"},c.createElement("span",null,"Nothing more to say on"),c.createElement("span",null," "),c.createElement("span",null,c.createElement(Fz,{securityId:e.security.security_id,symbol:e.security.symbol,showSymbol:!0,inFeed:!0})),c.createElement("span",null," "),c.createElement("span",null,`right now? Then just let ${e.asker.first_name} know if you still like ${1===e.idea.idea_type.id?"shorting it.":"it."}`)),c.createElement(Iw,{className:"ask-action-buttons-container "+(1===e.idea.idea_type.id?"short-position":""),row:!0,verticallyCenter:!0,gap:4},c.createElement(sx,{small:!0,onClick:this._bindReaffirmIdeaButtonToHandler(e)},1===e.idea.idea_type.id?"Still Like Shorting It":"Still Like It"),c.createElement(sx,{small:!0,onClick:this._bindDeactivateIdeaButtonToHandler(e)},"Not Anymore"))))),JX(this,"_renderAskThoughtActionContainer",(e=>null)),JX(this,"_renderAskSecurityActionContainer",(e=>null)),JX(this,"_renderAskActionButtons",(e=>c.createElement(eJ,{className:"ask-notif-post-thought-action-buttons"},c.createElement(nJ,null,c.createElement(hx,{onClick:this._bindAddThoughtButtonToHandler(e,"pro")},"+ Pro")),c.createElement(rJ,null,c.createElement(hx,{onClick:this._bindAddThoughtButtonToHandler(e,"con")},"+ Con")),c.createElement(Oz,{viewingContext:"Ask Notif",securityId:e.security_id,customAskType:"askNotif",customAskTypeButtonRenderer:"_renderAskButtonWithIcon",customAskTypeDisabledButtonRenderer:"_renderAskButtonWithIcon",openFormInModal:!0})))),JX(this,"_renderCreateThoughtForAsk",((e,t)=>this._renderCreateThought(e.security,t))),JX(this,"_renderCreateThought",((e,t)=>c.createElement(mS,{key:`ask-thought-${e.security_id}`,customMessageWithSymbol:()=>`Respond with a Pro or Con for ${e.symbol}.`,securityId:e.security_id,thoughtType:this.state.addingThoughtType,handleFinishCreatingThought:this._handleFinishCreatingThought,handleCancelCreatingThought:this._handleCancelCreatingThought,viewingContext:vS,loadSecurityDataIfNecessary:!0}))),JX(this,"_bindReaffirmIdeaButtonToHandler",(e=>()=>this._handleReaffirmIdeaClickFromAsk(e))),JX(this,"_setSentAskActionInCurrentRenderLifecycle",(()=>{this.setState((()=>({sentAskActionInCurrentRenderLifecycle:!0})))})),JX(this,"_handleAdditionalIdeaActionInAsk",(()=>{this._setSentAskActionInCurrentRenderLifecycle()})),JX(this,"_handleReaffirmIdeaClickFromAsk",(e=>{this._handleAdditionalIdeaActionInAsk(),this.props.actions.reaffirmIdea(e.idea)})),JX(this,"_bindDeactivateIdeaButtonToHandler",(e=>()=>this._handleDeactivateIdeaClickFromAsk(e))),JX(this,"_handleDeactivateIdeaClickFromAsk",(e=>{this._handleAdditionalIdeaActionInAsk(),this.props.actions.deactivateIdea(e.idea)})),JX(this,"_bindAddThoughtButtonToHandler",((e,t)=>()=>this._handleAddThoughtClick(e,t))),JX(this,"_bindRespondNowActionToHandler",(e=>()=>this._handleRespondNowClick(e.security))),JX(this,"_handleRespondNowClick",(e=>{this._logRespondNowClick(e),this.setState((()=>({isCreatingThoughtForSecurityId:e.security_id})))})),JX(this,"_handleAddThoughtClick",((e,t)=>{this._logAskProConClick(e,t),this.setState((n=>({isCreatingThoughtForSecurityId:e.security_id,addingThoughtType:t})))})),JX(this,"_clearCreatingThought",(()=>{this.setState((e=>({isCreatingThoughtForSecurityId:null,addingThoughtType:null})))})),JX(this,"_handleCancelCreatingThought",(()=>{this._clearCreatingThought()})),JX(this,"_handleFinishCreatingThought",(()=>{this._clearCreatingThought(),this._getUpdatedNotifications()})),JX(this,"_getUpdatedNotifications",(()=>{this.props.actions.getUpdatedNotifications({batch_index:0,page:1}).then((e=>(this.props.actions.getUnseenNotificationsCount(),e)))})),JX(this,"_isRespondingToASecurity",(()=>!nk(this._returnRespondingToSecurityId()))),JX(this,"_returnRespondingToSecurity",(()=>this._returnNotificationSecurities().filter((e=>e.security_id===this._returnRespondingToSecurityId()))[0])),JX(this,"_returnRespondingToSecurityId",(()=>this.state.isCreatingThoughtForSecurityId)),JX(this,"_shouldRenderCreateThoughtForAsk",(e=>this._returnRespondingToSecurityId()===e.security.security_id)),JX(this,"_hasRespondedWithIdeaAction",(e=>{const t=1e3*this._returnStoreIdeaFromAsk(e).last_reaffirmed_at_timestamp,n=this._returnNotificationTimestamp(),r=!this._returnStoreIdeaFromAsk(e).active;return t>n||r})),JX(this,"_returnNotificationTimestamp",(()=>1e3*this.props.notification.timestamp)),JX(this,"_returnNotificationAsks",(()=>this._returnNotification().asks)),JX(this,"_returnNotificationAskers",(()=>this._returnNotification().askers)),JX(this,"_returnNotificationSecurities",(()=>this._returnNotification().securities||[this._returnNotification().asks[0].security])),JX(this,"_returnNotification",(()=>this.props.notification)),JX(this,"_isAskDirectedAtCurrentUser",(()=>this._returnNotificationAsks())),JX(this,"_returnStoreIdeaFromAsk",(e=>{const t=e.idea.idea_id;return LS(t,this._returnIdeaStore())})),JX(this,"_returnIdeaStore",(()=>this.props.ideas)),JX(this,"_logRespondNowClick",(e=>{const t=e.security_id,n={Context:"Ask Notification","Concernable Id":t,"Concernable Type":"Security","Security ID":t,"Stock Symbol":e.symbol,"Respond Now Click":!0};this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",n)})),JX(this,"_logAskProConClick",((e,t)=>{const n="pro"===t?"Pro":"Con",r=e.security_id,i={Context:"Ask Notification","Thought Type":n,"Concernable Id":r,"Concernable Type":"Security","Security ID":r,"Stock Symbol":e.symbol};this.props.actions.logMetricsTrackingEvent("Add Thought Panel Opened",i)})),this.state={showAll:!1,isCreatingThoughtForSecurityId:null,addingThoughtType:null,sentAskActionInCurrentRenderLifecycle:!1}}componentDidMount(){this._getSecuritiesData().then((e=>{this.props.onLoadComplete()}))}render(){return this._isAskDirectedAtCurrentUser()?this._renderAskCurrentUser():this._renderAskOtherUsers()}}const aJ=T((e=>({ideas:e.ideas,securities:e.securities})),(e=>({actions:I(WC,e)})))(iJ);class sJ extends c.PureComponent{render(){const{id:e,avatarImgSource:t,username:n,userInitials:r,isLoading:i,displayName:a,secondaryDisplayName:s,org:o,children:l}=this.props;return l(e,t,n,r,i,a,s,o)}}var oJ=T(((e,t)=>{const{id:n}=t;return{org:IP(e,n),avatarImgSource:LP(e,n),username:RP(e,n),userInitials:FP(e,n),isLoading:!1,displayName:RP(e,n),secondaryDisplayName:null}}))(sJ);const lJ=e=>{const{userId:t,viewpointOrgId:n,profileLinkQuery:r,avatarSize:i,displayNameStyle:a,withLink:s,useYou:o}=e;return n?c.createElement("div",{className:"user-avatar-and-name-container"},c.createElement(oJ,{id:n},((e,t,a,o,l,d,u,h)=>c.createElement("div",{className:"user-container"},c.createElement(VP,{viewpointOrgId:n,isViewpointOrg:!0,imageSrc:t,initials:o,profileLinkQuery:r,size:i||"small",withLink:s}),c.createElement(WL,{viewpointOrgId:n,isViewpointOrg:!0,profileLinkQuery:r,displayText:d,withLink:s}))))):c.createElement("div",{className:"user-avatar-and-name-container"},c.createElement(gP,{userId:t},c.createElement(VP,{size:i||"small",profileLinkQuery:r,withLink:s}),c.createElement(WL,{displayNameStyle:a||"fullName",profileLinkQuery:r,useYou:o,withLink:s})))};var cJ=Object.defineProperty,dJ=(e,t,n)=>(((e,t,n)=>{t in e?cJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const uJ=u.div`
  button {
    width: 80px;
    padding: 0px 0;
  }
`,hJ=u.div`
  button {
    width: 80px;
    padding: 4px 0;
  }
`;class pJ extends C.exports.Component{constructor(e){super(e),dJ(this,"_renderButtonMessage",(()=>this._shouldShowMessage()?c.createElement("span",{className:"button-message"},this._returnButtonMessage()):null)),dJ(this,"_renderButtonState",(()=>this._isUserSelf()||null===this._returnUser()?null:this._isAcceptingConnection()?this.renderAcceptingAnswerConnectionRequestButton():this._hasExpiredConnectionRequestSent()?this.renderRerequestConnectionRequestButton():this._hasRequestedConnection()?this.renderAnswerConnectionRequestButton():this._isRequestingConnection()?this.renderAlreadyRequestedButton():this._isAConnection()?this.renderAlreadyConnected():this.renderConnectionRequestButton())),dJ(this,"renderConnectionRequestButton",(()=>c.createElement(uJ,null,c.createElement(hx,{smallNoVert:!0,onClick:this._handleConnectionRequestClick},"Connect")))),dJ(this,"renderRerequestConnectionRequestButton",(()=>c.createElement(uJ,null,c.createElement(hx,{small:!0,onClick:this._handleConnectionRequestClick},"Resend")))),dJ(this,"renderAlreadyRequestedButton",(()=>c.createElement(hx,{transparent:!0,small:!0,onClick:this._ignoreClick},"Sent"))),dJ(this,"renderAlreadyConnected",(()=>c.createElement(hx,{transparent:!0,small:!0,onClick:this._ignoreClick},"Connected"))),dJ(this,"_returnButtonMessage",(()=>{if(this._hasRequestedConnection()){return`${this.props.userFirstName} has requested to connect with you.`}if(this._canRequestConnection())return"Do you want to send a connection request?";if(this._isRequestingConnection()){return`Connection request is awaiting ${this.props.userFirstNamePossessive} approval.`}return null})),dJ(this,"renderAnswerConnectionRequestButton",(()=>c.createElement("span",{className:"approve-connection-request-buttons-container"},c.createElement(uJ,null,c.createElement(hx,{onClick:this._handleApproveConnectionClick},"Connect")),!this.props.hideIgnoreBtn&&c.createElement(hJ,null,c.createElement(hx,{transparent:!0,onClick:this._handleIgnoreConnectionClick},"Ignore"))))),dJ(this,"renderAcceptingAnswerConnectionRequestButton",(()=>c.createElement("span",{className:"approve-connection-request-buttons-container"},c.createElement(uJ,null,c.createElement(hx,{transparent:!0,disabled:!0,onClick:this._ignoreClick},"Connecting")),!this.props.hideIgnoreBtn&&c.createElement(hJ,null,c.createElement(hx,{transparent:!0,onClick:this._handleIgnoreConnectionClick},"Ignore"))))),dJ(this,"_handleConnectionRequestClick",(()=>{this._sendConnectionRequestRequest(),this._logConnectionRequestEvent()})),dJ(this,"_sendConnectionRequestRequest",(()=>{const e=this._returnUserId();return this.props.actions.sendConnectionRequest(e).then((e=>{e&&e.data&&!("error"in e.data)||this.createConnectionRequestFailureMessage()}))})),dJ(this,"_startAcceptingConnectionRequest",(()=>{this.setState((()=>({isAcceptingConnectionRequest:!0})))})),dJ(this,"_endAcceptingConnectionRequest",(()=>{this.setState((()=>({isAcceptingConnectionRequest:!1})))})),dJ(this,"_handleApproveConnectionClick",(()=>{this._startAcceptingConnectionRequest();const e=this._returnCurrentUserId(),t=this._returnUserId();return this.props.actions.acceptConnectionRequest(t,"profile",e).then((e=>{const t=e&&e.data;this._endAcceptingConnectionRequest(),t||this.createConnectionRequestFailureMessage()}))})),dJ(this,"_handleIgnoreConnectionClick",(()=>{const e=this._returnUserId();return this.props.actions.ignoreConnectionRequest(e).then((e=>{e&&e.data&&"success"===e.data.status||this.createConnectionRequestFailureMessage()}))})),dJ(this,"_shouldShowMessage",(()=>this._returnButtonMessage()&&this.props.showMessage)),dJ(this,"_isAcceptingConnection",(()=>this.state.isAcceptingConnectionRequest)),dJ(this,"_returnBtnSizeClassName",(()=>this.props.btnSizeClassName||"btn-small-tall")),dJ(this,"_ignoreClick",(()=>!1)),dJ(this,"_hasExpiredConnectionRequestSent",(()=>up(this._returnUser()))),dJ(this,"_hasRequestedConnection",(()=>hp(this._returnUser()))),dJ(this,"_isRequestingConnection",(()=>pp(this._returnUser()))),dJ(this,"_canRequestConnection",(()=>cp(this._returnUser()))),dJ(this,"_isAConnection",(()=>lp(this._returnUser()))),dJ(this,"_returnUserId",(()=>this.props.userId)),dJ(this,"_returnUser",(()=>Kh(this._returnUserId(),this.props.users,this.props.currentUser))),dJ(this,"_returnCurrentUser",(()=>this.props.currentUser)),dJ(this,"_returnCurrentUserId",(()=>this._returnCurrentUser().user_id)),dJ(this,"_isUserSelf",(()=>this._returnCurrentUserId()===this._returnUserId())),dJ(this,"createConnectionRequestFailureMessage",(()=>{const e=c.createElement("span",{className:"modal-message",style:{paddingTop:"0px"}},"Could not request connection at this time. Please try again later.");this.props.actions.showModal({contentComponent:e,dismissable:!0,size:"wide"})})),dJ(this,"_logConnectionRequestEvent",(()=>{const e=this.props.viewingContext;e||console.error("Please supply a viewingContext prop to log where the click event is coming from.");const t={Context:e};this.props.actions.logMetricsTrackingEvent("Clicked Send Connection Request",t)})),this.state={isSendingConnectionRequest:!1}}render(){return c.createElement("span",{className:`\n        connection-request-container\n        ${this._hasRequestedConnection()?"waiting-approval":""}\n        ${this._canRequestConnection()?"can-request-connection":""}\n      `},this._renderButtonMessage(),this._renderButtonState())}}var mJ=T((e=>({users:e.users,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(pJ);const gJ=e=>{const{userId:t,showConnectionRequestBtn:n,hideIgnoreBtn:r}=e;return c.createElement("tr",{className:"new-connection-row"},c.createElement("td",{className:"new-connection-row-name-cell"},c.createElement(lJ,{avatarSize:"small",displayNameStyle:"fullName",profileLinkQuery:`?context=${Gg}`,userId:t,withLink:!0})),c.createElement("td",{className:"new-connection-row-connect-action-cell"},n&&c.createElement(mJ,{userId:t,viewingContext:"New Connection Notification",btnSizeClassName:"btn-small",hideIgnoreBtn:r})))},yJ=e=>{const{notification:t}=e,{users:n,timestamp:r}=t,i=n.map((e=>e.user_id));return c.createElement("div",{className:"connection-requested-notification-container"},c.createElement("div",{className:"new-connection-notification-message"},`You have ${1===n.length?"a":""} connection request${n.length>1?"s":""}`),c.createElement("div",{className:"new-connections-list notification-indent"},c.createElement("table",null,c.createElement("tbody",null,i.map((e=>c.createElement(gJ,{key:`new-connection-notif-row-${e}`,userId:e,showConnectionRequestBtn:!0,hideIgnoreBtn:!0})))))),c.createElement(gV,{className:"notification-timestamp",epochTime:r}))},_J=e=>{const{ids:t,containerStyles:n,children:r}=e,[i,a]=C.exports.useState(!1),s=t.length>5,o=s&&t.slice(0,5),l=s?i?t:o:t;return c.createElement("div",null,r(l),s&&c.createElement("div",{style:n},i?c.createElement(hx,{small:!0,transparent:!0,onClick:()=>a(!1)},"See Less"):c.createElement(hx,{small:!0,transparent:!0,onClick:()=>a(!0)},"See All")))},fJ=e=>{const{notification:t}=e,{users:n,timestamp:r}=t,i=n.map((e=>e.user_id));return c.createElement("div",{className:"connection-accepted-notification-container"},c.createElement("div",{className:"new-connection-notification-message"},`Your connection request${n.length>1?"s were":" was"} accepted`),c.createElement("div",{className:"new-connections-list notification-indent"},c.createElement(_J,{ids:i,containerStyles:{padding:"5px 23px"}},(e=>c.createElement("table",null,c.createElement("tbody",null,e.map((e=>c.createElement(gJ,{key:`new-connection-notif-row-${e}`,userId:e})))))))),c.createElement(gV,{className:"notification-timestamp",epochTime:r}))},vJ=e=>{const{notification:t}=e,{user:n,connections:r,timestamp:i}=t,a=n.user_id,s=r.map((e=>e.user_id));return c.createElement("div",{className:"connection-notification-container"},c.createElement("div",{className:"new-connection-notification-message"},c.createElement(lJ,{userId:a,profileLinkQuery:`?context=${Yg}`,withLink:!0}),c.createElement("div",{className:"message"},"has new connections")),c.createElement("div",{className:"new-connections-list notification-indent"},c.createElement(_J,{ids:s,containerStyles:{padding:"5px 23px"}},(e=>c.createElement("table",null,c.createElement("tbody",null,e.map((e=>c.createElement(gJ,{key:`new-connection-notif-row-${e}`,userId:e,showConnectionRequestBtn:!0,hideIgnoreBtn:!0})))))))),c.createElement(gV,{className:"notification-timestamp",epochTime:i}))},EJ=e=>{const{notification:t}=e,{action:n}=t;return"connection_requested"===n?c.createElement(yJ,{notification:t}):"connection_accepted"===n?c.createElement(fJ,{notification:t}):"friends_new_connection"===n?c.createElement(vJ,{notification:t}):(Uk("Missing action render for ConnectionNotification",!0,{notification:t}),null)};var bJ=Object.defineProperty,CJ=(e,t,n)=>(((e,t,n)=>{t in e?bJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const xJ=e=>({currentUser:e.currentUser});var wJ=Object.defineProperty,SJ=(e,t,n)=>(((e,t,n)=>{t in e?wJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class kJ extends c.Component{constructor(){super(...arguments),SJ(this,"_getSecurityData",(()=>{this.props.getBasicSecurityData&&this._getBasicSecurityData()})),SJ(this,"_getBasicSecurityData",(()=>{this.props.actions.quickFetchSecuritiesData(this.returnSecurityIdsList())})),SJ(this,"returnSecurityIdsList",(()=>this.props.securityIds))}componentDidMount(){this._getSecurityData()}render(){return null}}var TJ=T(null,(e=>({actions:I(WC,e)})))(kJ);const IJ=e=>{const{order:t,orderIndex:n,orders:r,position:i}=e,{before:a,after:s}=i,o=n+1===r.length,l=t.security_id,d=Kf(t),u=r.some((e=>(e=>"sell"===Kf(e))(e))),h=r.some((e=>(e=>"buy_to_cover"===Kf(e))(e))),p="flat"===s&&o,m=p?"exited":"",g="short"===a&&"long"===s||"long"===a&&"short"===s,y=g||("long"===a&&"long"===s&&u||"short"===a&&"short"===s&&h),_=g?"now":"still",f=s,v=zf[d];const E=(e=>["buy_to_cover","buy"].includes(e))(d)?"buy-text-color":"sell-text-color",b="long"===f?"buy-text-color":"sell-text-color";return c.createElement("tr",{className:"order-actions-list-item-container"},c.createElement("td",{className:""},c.createElement("span",{className:E},v)),c.createElement("td",{className:""},c.createElement("div",{className:"order-action-list-item-security-identifier-container"},c.createElement(oB,{securityId:l},c.createElement(Fz,{prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0,inFeed:!0})))),c.createElement("td",null,o&&(y||p)&&c.createElement("div",{className:"phrase"},c.createElement("span",null,"("),y&&c.createElement("span",null,c.createElement("span",null,`${_}`),c.createElement("span",null," "),c.createElement("span",{className:b},`${f}`)),p&&m,c.createElement("span",null,")"))))},NJ=e=>{const{orderActionsList:t}=e;return c.createElement("div",{className:"order-actions-list-container notification-indent"},c.createElement("table",null,c.createElement("tbody",null,t.map(((e,t)=>e.orders.map(((n,r)=>c.createElement(IJ,l(o({key:`order-action-item-${t}-${r}`},e),{orderIndex:r,order:n})))))))))},AJ=(e=>{const t=class extends c.Component{constructor(){super(...arguments),CJ(this,"returnCurrentUserId",((e=this.props)=>mp(e.currentUser)))}shouldComponentUpdate(e){return this.returnCurrentUserId(e)!==this.returnCurrentUserId()}render(){return c.createElement(e,l(o({},this.props),{currentUserId:this.returnCurrentUserId()}))}};return T(xJ)(t)})((e=>{const{notification:t,currentUserId:n}=e,{owner:r,live:i,order_actions:a,timestamp:s}=t,o=mp(r),l=[];a.forEach((e=>{e.orders.forEach((e=>{const t=e.security_id;l.includes(t)||l.push(t)}))}));const d=i?"traded "+(a.length>1?"these stocks":"this stock"):"placed simulated trades for "+(a.length>1?"these stocks":"this stock");return c.createElement("div",{className:"trade-notification-container"},c.createElement(TJ,{securityIds:l,getBasicSecurityData:!0}),c.createElement("div",{className:"new-connection-notification-message"},c.createElement(lJ,{userId:o,profileLinkQuery:`?context=${Yg}`,withLink:!0,useYou:!0}),c.createElement("div",{className:"message"},d)),c.createElement(NJ,{isLiveTrading:i,orderActionsList:a}),c.createElement(gV,{className:"notification-timestamp",epochTime:s}))}));var PJ=Object.defineProperty,DJ=(e,t,n)=>(((e,t,n)=>{t in e?PJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class OJ extends C.exports.Component{constructor(){super(...arguments),DJ(this,"_renderIdeaAction",(()=>c.createElement("div",{className:"idea-action-message-container"},c.createElement("div",{className:"idea-action-message"},this._renderInlineUserList(),this._renderIdeaActionPartOnePhrase(),this._renderIdeaActionPartTwoPhrase()),this._renderIdeasInRows(!0)))),DJ(this,"_renderIdeaActionPartOnePhrase",(()=>c.createElement("span",{className:"idea-action-phrase  "},this._returnPhrasePartOneJSXForIdeaActionType()))),DJ(this,"_renderIdeaActionPartTwoPhrase",(()=>c.createElement("span",{className:"idea-action-phrase  "},this._returnPhrasePartTwoJSXForIdeaActionType()))),DJ(this,"_returnPhrasePartOneJSXByIdeaActionTypeLookup",(()=>({create:c.createElement("span",{className:"inline-block-fragment-14px-font"},"added to"),update:c.createElement("span",null,`updated ${Ek("idea",this._returnNotificationIdeas())}.`),destroy:c.createElement("span",{className:"inline-block-fragment-14px-font"},`removed ${Ek("stock",this._returnNotificationIdeas())}`),reaffirm:c.createElement("span",{className:"inline-block-fragment-14px-font"},`reaffirmed their ${Ek("idea",this._returnNotificationIdeas(),{ignorePrefix:!0})}`),reactivate:c.createElement("span",{className:"inline-block-fragment-14px-font"},`is considering ${Ek("new stock",this._returnNotificationIdeas())}`),deactivate:c.createElement("span",{className:"inline-block-fragment-14px-font"},`is no longer considering ${Ek("stock",this._returnNotificationIdeas(),{pluralPrefix:"some "})}`)}))),DJ(this,"_returnPhrasePartTwoJSXByIdeaActionTypeLookup",(()=>({create:c.createElement("span",null,"their watchlist."),update:c.createElement("span",null),destroy:c.createElement("span",null,"from their watchlist."),reaffirm:c.createElement("span",null,`on ${Ek("stock",this._returnNotificationIdeas(),{pluralPrefix:"some "})}.`),reactivate:c.createElement("span",null,"for their portfolio."),deactivate:c.createElement("span",null,"for their portfolio.")}))),DJ(this,"_returnPhrasePartOneJSXForIdeaActionType",(()=>this._returnPhrasePartOneJSXByIdeaActionTypeLookup()[this._returnNotificationActionType()]||Uk(`Missing internal phrase for idea_action: ${this._returnNotificationActionType()}`,!0))),DJ(this,"_returnPhrasePartTwoJSXForIdeaActionType",(()=>this._returnPhrasePartTwoJSXByIdeaActionTypeLookup()[this._returnNotificationActionType()]||Uk(`Missing internal phrase for idea_action: ${this._returnNotificationActionType()}`,!0))),DJ(this,"_renderIdeaCreateNotification",(()=>c.createElement("div",{className:"idea-create-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderIdeaUpdateNotification",(()=>c.createElement("div",{className:"idea-update-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderIdeaDestroyNotification",(()=>c.createElement("div",{className:"idea-destroy-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderIdeaReaffirmNotification",(()=>c.createElement("div",{className:"idea-reaffirm-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderIdeaReactivateNotification",(()=>c.createElement("div",{className:"idea-reactivate-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderIdeaDeactivateNotification",(()=>c.createElement("div",{className:"idea-deactivate-notification idea-action-notification-body-container"},c.createElement("div",{className:"idea-action-notification-body"},this._renderIdeaAction()),c.createElement(gV,{className:"notification-timestamp",epochTime:this._returnNotificationTimestamp()})))),DJ(this,"_renderInlineUserList",((e={})=>{const t=[this._returnIdeaOwner().user_id];return c.createElement(YX,l(o({profileLinkQuery:`?context=${Yg}`,userIds:t},e),{withAvatar:!0}))})),DJ(this,"_renderIdeasInRows",(e=>c.createElement("ul",{className:"idea-list-in-notification notification-indent"},this._returnNotificationIdeas().map((t=>this._renderIdeaRow(t,e)))))),DJ(this,"_renderIdeaRow",((e,t)=>c.createElement("li",{key:`security-list-in-notification-row-idea-${e.idea_id}`,className:"security-list-in-notification-row",style:{justifyContent:"space-between"}},c.createElement(Fz,{securityId:AS(e),symbol:PS(e),name:DS(e)||"This should be a name",prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0,inFeed:!0}),t&&this._renderAskWhy(e)))),DJ(this,"_renderAskWhy",(e=>c.createElement(Oz,{viewingContext:`Ideas Action Notification - ${this._returnNotificationActionTypeDisplayString()}`,ideaId:e.idea_id,customAskType:"askBtnSmall",customAskTypeButtonRenderer:"_renderAskButtonSmall",customAskTypeDisabledButtonRenderer:"_renderAskButtonSmallDisabled",openFormInModal:!0}))),DJ(this,"_rendererForIdeaActionTypeLookup",(()=>({create:this._renderIdeaCreateNotification,update:this._renderIdeaUpdateNotification,destroy:this._renderIdeaDestroyNotification,reaffirm:this._renderIdeaReaffirmNotification,reactivate:this._renderIdeaReactivateNotification,deactivate:this._renderIdeaDeactivateNotification}))),DJ(this,"_returnRendererForIdeaActionType",(()=>this._rendererForIdeaActionTypeLookup()[this._returnNotificationActionType()]||Uk(`Missing internal render for idea_action: ${this._returnNotificationActionType()}`,!0))),DJ(this,"_returnNotification",(()=>this.props.notification)),DJ(this,"_returnNotificationActionType",(()=>this._returnNotification().action_type)),DJ(this,"_returnNotificationActionTypeDisplayString",(()=>({create:"Create",update:"Update",destroy:"Delete",reaffirm:"Reaffirm",reactivate:"Reactivate",deactivate:"Deactivate"}[this._returnNotificationActionType()]||Uk(`Missing internal _returnNotificationActionTypeDisplayString for idea_action: ${this._returnNotificationActionType()}`,!0)))),DJ(this,"_returnNotificationIdeas",(()=>this._returnNotification().ideas)),DJ(this,"_returnIdeaOwner",(()=>this._returnNotification().owner)),DJ(this,"_isMoreThanOneIdeaInAction",(()=>this._returnNotificationIdeas().length>0)),DJ(this,"_returnNotificationSecurityIds",(()=>this._returnNotificationIdeas().map((e=>AS(e))))),DJ(this,"_returnNotificationTimestamp",(()=>this._returnNotification().timestamp))}render(){const e=this._returnRendererForIdeaActionType();return c.createElement("div",{className:"idea-action-notif-container"},e())}}var LJ=Object.defineProperty,RJ=(e,t,n)=>(((e,t,n)=>{t in e?LJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class FJ extends c.PureComponent{constructor(){super(...arguments),RJ(this,"handleClick",(()=>{(0,this.props.dispatch)({type:"OPEN_REBALANCER_PANEL"}),this.log(),this.props.additionalClickAction&&this.props.additionalClickAction()})),RJ(this,"log",(()=>{const e={Context:this.props.viewingContext};TC("Clicked Open Rebalancer Button",e)()}))}render(){return null}}T()(FJ);var MJ=Object.defineProperty,UJ=(e,t,n)=>(((e,t,n)=>{t in e?MJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $J extends c.PureComponent{constructor(){super(...arguments),UJ(this,"handleClick",(()=>{(0,this.props.dispatch)({type:"OPEN_OPTIMIZER_PANEL"}),this.logViewOptimizerButtonClick(),this.props.additionalClickAction&&this.props.additionalClickAction()})),UJ(this,"logViewOptimizerButtonClick",(()=>{const e={Context:this.props.viewingContext};TC("Clicked Optimizer Button",e)()}))}render(){return c.createElement(hx,{small:!0,onClick:this.handleClick},"View Optimizer")}}T()($J);c.PureComponent;const BJ=e=>null;var zJ=_c((e=>{const{notification:t,navigate:n,location:r}=e,{forward_eps_change_infos:i,owner:a,timestamp:s}=t,o=[];i.forEach((e=>{const t=e.security.id;o.includes(t)||o.push(t)}));const l=jl(1e3*s),d=Yl("ls",l),u=e=>e.security.id,h=e=>!!e.idea,p=e=>e.forward_eps_delta,m=e=>e.forward_eps,g=e=>CU({securityId:u(e),additionalProps:{activeTab:"ideas",ideaId:h(e)?e.idea.id:null},navigate:n,location:r}),y=()=>{TC("Clicked View Idea",{Context:"Forward EPS Change Notification"})()};return c.createElement("div",{className:"forward-eps-change-notification-container"},c.createElement(TJ,{securityIds:o,getBasicSecurityData:!0}),c.createElement("div",{className:""},`Stocks with a recent change in consensus EPS - ${d}`),c.createElement("div",{className:"notification-indent"},c.createElement("table",null,c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"secondary-text-color"}),c.createElement("th",{className:"secondary-text-color"},"Forward EPS"),c.createElement("th",{className:"secondary-text-color"},"Change"),c.createElement("th",{className:"secondary-text-color"},"Period"))),c.createElement("tbody",null,i.map(((e,t)=>c.createElement("tr",{key:t},c.createElement("td",{className:"forward-eps-change-security-identifier-cell"},c.createElement(oB,{securityId:u(e)},c.createElement(Fz,{inFeed:!0,showSymbol:!0}))),c.createElement("td",{className:"curr-eps-cell eps-cell"},c.createElement(C$,{valueFormat:"price",value:m(e),hideIcon:!0})),c.createElement("td",{className:"eps-change-cell eps-cell"},c.createElement(C$,{valueFormat:"price",value:p(e),coloredText:!0,showPlus:!0,hideIcon:!0})),c.createElement("td",{className:"eps-cell"},(e=>e.time_period)(e)),h(e)&&c.createElement("td",{className:"view-idea-cell"},c.createElement(iT,{to:g(e),className:"link-btn",additionalClickAction:y,child:c.createElement("span",{className:""},"Edit Idea"),noTextDecoration:!0})))))))))})),VJ=Object.defineProperty,HJ=(e,t,n)=>(((e,t,n)=>{t in e?VJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class WJ extends c.PureComponent{constructor(){super(),HJ(this,"_renderNewsNotification",(()=>{const{notification:e,notificationIndex:t}=this.props;return c.createElement(ZY,{securityId:e.security_id,notificationIndex:t,newsData:e.data,viewingContext:"Feed",scrollContainerSelector:window,recordImpressionOnMount:this.props.recordImpressionOnMount,size:this.props.size,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,isCurrentUser:!0,isNotification:!0,isCurrentUserAuthed:!0})})),HJ(this,"_renderIdeaPerformanceNotification",(()=>{const{notification:e}=this.props;return c.createElement(jX,{notification:e})})),HJ(this,"_renderPerformanceRankingNotification",(()=>{const{notification:e}=this.props;return c.createElement(eR,{notification:e})})),HJ(this,"_renderIdeaPriceTargetNotification",(()=>{const{notification:e}=this.props;return c.createElement(BJ,{notification:e})})),HJ(this,"_renderForwardEPSChangeNotification",(()=>{const{notification:e}=this.props;return c.createElement(zJ,{notification:e})})),HJ(this,"_renderIdeaActionNotification",(()=>{const{notification:e}=this.props;return c.createElement(OJ,{notification:e})})),HJ(this,"_renderConnectionNotification",(()=>{const{notification:e}=this.props;return c.createElement(EJ,{notification:e})})),HJ(this,"_renderOrderNotification",(()=>{const{notification:e}=this.props;return c.createElement(AJ,{notification:e})})),HJ(this,"_renderThoughtNotification",(()=>{const{notification:e,notificationIndex:t}=this.props;return c.createElement(oB,{securityId:e.data.security.security_id,ignoreImpressionTracking:!this.props.isNotificationListVisible||!this.props.isNotificationBatchLoaded,onLoadComplete:this.props.onLoadComplete,key:`${e.data.thought.id}-${e.data.time}`},c.createElement(LV,{ignoreImpressionTracking:!this.props.isNotificationListVisible||!this.props.isNotificationBatchLoaded,startingList:[{notification:e}],viewingContext:yS("THOUGHT_CAROUSEL_IN_FEED"),inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,notificationIndex:t,showSeeAllThoughtsLink:!0,linkToSecurity:!0,withThoughtLink:!0}))})),HJ(this,"_renderSocialThoughtNotification",(()=>{const{notification:e,notificationIndex:t}=this.props;return c.createElement(oB,{securityId:e.data.security.security_id,ignoreImpressionTracking:!this.props.isNotificationListVisible||!this.props.isNotificationBatchLoaded,onLoadComplete:this.props.onLoadComplete,key:`${e.data.thought.id}-${e.data.time}`},c.createElement(LV,{ignoreImpressionTracking:!this.props.isNotificationListVisible||!this.props.isNotificationBatchLoaded,startingList:[{notification:e}],viewingContext:yS("THOUGHT_CAROUSEL_IN_FEED"),inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed,notificationIndex:t,thoughtCleanStyle:!0,linkToSecurity:!0,withThoughtLink:!0}))})),HJ(this,"_renderAskNotification",(()=>c.createElement(aJ,{notification:this.props.notification,ignoreImpressionTracking:!this.props.isNotificationListVisible||!this.props.isNotificationBatchLoaded,onLoadComplete:this.props.onLoadComplete,notificationIndex:this.props.notificationIndex,inActivityPageFeed:this.props.inActivityPageFeed,inFeed:this.props.inFeed}))),HJ(this,"_returnDefaultComponentRenderer",(()=>c.createElement("div",null))),HJ(this,"_convertNotificationTypeToRender",(()=>{const e=this._returnNotificationType(),t=this.RENDERER_LOOKUP_TABLE[e];return t||console.error(`Could not find renderer for notification type: ${e}`),t||this._returnDefaultComponentRenderer})),HJ(this,"_returnNotificationComponentToRender",(()=>this._convertNotificationTypeToRender()())),HJ(this,"_renderNonRailsNotification",(()=>c.createElement("li",{className:"notification "+(this.props.inFeed?"":"row")},this._returnNotificationComponentToRender(this._returnNotification())))),HJ(this,"_renderRailsNotification",(()=>c.createElement(NX,{notification:this._returnNotification().prerendered_html}))),HJ(this,"_returnNotification",(()=>this.props.notification)),HJ(this,"_returnNotificationType",(()=>this._returnNotification().type||"rails")),this.NOTIFICATION_KEYS_WITH_LOADING_EVENTS=["ask","thought","thought_clean_style"],this.RENDERER_LOOKUP_TABLE={ask:this._renderAskNotification,connection:this._renderConnectionNotification,forward_eps_change:this._renderForwardEPSChangeNotification,idea_action:this._renderIdeaActionNotification,idea_performance:this._renderIdeaPerformanceNotification,news:this._renderNewsNotification,order:this._renderOrderNotification,performance_ranking:this._renderPerformanceRankingNotification,price_target:this._renderIdeaPriceTargetNotification,thought:this._renderThoughtNotification,thought_clean_style:this._renderSocialThoughtNotification}}componentDidMount(){const e=this._returnNotificationType();this.NOTIFICATION_KEYS_WITH_LOADING_EVENTS.includes(e)||this.props.onLoadComplete()}render(){const e=this._returnNotification();return(e=>e&&"prerendered_html"in e)(e)?this._renderRailsNotification(e):this._renderNonRailsNotification(e)}}const jJ=u.svg`
  width: 40px;

  rect,
  circle {
    fill: ${({theme:e,color:t})=>t||e.themeColors.border};
  }
`,GJ="3balls",qJ="bars",YJ=({type:e,color:t})=>e===GJ?c.createElement(jJ,{version:"1.1",id:"L4",x:"0px",y:"0px",viewBox:"0 0 76 22",enableBackground:"new 0 0 0 0","xml:space":"preserve",color:t},c.createElement("circle",{stroke:"none",cx:"12",cy:"10",r:"10"},c.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),c.createElement("circle",{stroke:"none",cx:"38",cy:"10",r:"10"},c.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),c.createElement("circle",{stroke:"none",cx:"64",cy:"10",r:"10"},c.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"}))):e===qJ?c.createElement(jJ,{version:"1.1",id:"L9",x:"0px",y:"0px",viewBox:"0 0 30 30",enableBackground:"new 0 0 0 0","xml:space":"preserve",color:t},c.createElement("rect",{x:"5",y:"0",width:"4",height:"8"},c.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.7s",repeatCount:"indefinite"})),c.createElement("rect",{x:"13",y:"0",width:"4",height:"8"},c.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.7s",repeatCount:"indefinite"})),c.createElement("rect",{x:"21",y:"0",width:"4",height:"8"},c.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.7s",repeatCount:"indefinite"}))):null;var KJ=Object.defineProperty,QJ=(e,t,n)=>(((e,t,n)=>{t in e?KJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const ZJ=u.div`
  .notification:first-child {
    border-top-right-radius: 6px;
    border-top-left-radius: 6px;
  }

  .rails-notification-body-container {
    a,
    span {
      color: ${({theme:e})=>e.themeColors.text} !important;
    }
  }

  li.notification {
    border-bottom: 1px solid;
    border-color: ${({theme:e})=>e.themeColors.appBackground};

    margin: 0 0 5px 0;
    padding: 25px;

    .message {
      color: ${({theme:e})=>e.themeColors.text};
    }
    .message a {
      color: ${({theme:e})=>e.themeColors.text};
    }
    .when {
      color: ${({theme:e})=>e.themeColors.secondaryText};
    }
    .message .pro {
      color: ${({theme:e})=>e.themeColors.proColor};
    }
    .message .con {
      color: ${({theme:e})=>e.themeColors.conColor};
    }
  }
`;class XJ extends c.Component{constructor(){super(),QJ(this,"_returnNotificationKey",((e,t)=>{if(!e)return t;if(e.prerendered_html)return`${e.prerendered_html}-${t}`;if(!e.type)return t;if("news"===e.type){return`news-article-${t}-${e.security_id}-${e.data&&e.data.open_graph_object&&e.data.open_graph_object.url||JSON.stringify(e.data)}`}if("performance_ranking"===e.type)return`performance_ranking-notification-${t}-${e.timestamp}`;if("thought"===e.type||"thought_clean_style"===e.type)return`thought-notification-${t}-thought-id-${e.data.thought.id}-${e.data.time}`;if("ask"===e.type){return`ask-notification-${e.asks&&e.asks.length>0?e.asks.map((e=>e.id||"")).join("-"):""}-${e.timestamp}`}if("idea_action"===e.type){const t=e.ideas?e.ideas.map((e=>e.idea_id)).join("-"):"",n=e.owner?e.owner.user_id:"";return`idea-action-notification-${e.action_type}-${t}-${n}-${e.timestamp}`}return"idea_performance"===e.type?`idea-performance-notification-${t}-${e.adjective}-${e.start_phrase}-${e.end_phrase}}`:"price_target"===e.type?`price_target-notification-${t}-${e.owner.user_id}-${e.timestamp}}`:"forward_eps_change"===e.type?`forward_eps_change-${t}-${e.owner.user_id}-${e.timestamp}}`:"order"===e.type?`order-notification-${t}-${e.owner.user_id}-${e.timestamp}}`:"connection"===e.type?`order-notification-${t}-${e.action}-${e.timestamp}}`:(Mk("missing key definition for notification in NotificationList method _returnNotificationKey",{notification:e}),t)})),QJ(this,"_renderIsLoadingMoreNotifications",(()=>c.createElement("div",{className:"is-loading-more-notifications"},c.createElement(Iw,{centerAll:!0,height:36,width:80},c.createElement(YJ,{type:GJ}))))),QJ(this,"_renderIsNoMoreNotifications",(()=>c.createElement("div",{className:"is-no-more-notifications"},c.createElement("span",{className:"secondary-text-color"},"There are no more notifications.")))),QJ(this,"_isLoadingMoreNotifications",(()=>this.props.isLoadingMoreNotifications)),QJ(this,"_isNoMoreNotifications",(()=>this.props.isNoMoreNotifications)),QJ(this,"_returnNotificationsList",((e=this.props)=>e.notificationsList)),QJ(this,"_returnNotificationLoadTracker",(()=>this._notificationLoadTracker)),QJ(this,"_setNotificationLoadCompletedCount",(e=>this.setState((()=>({notificationLoadCompletedCount:e}))))),QJ(this,"onSingleNotificationLoadComplete",(()=>{this._returnNotificationLoadTracker().push("complete"),this._returnNotificationLoadTracker().length===this._returnNotificationsList().length&&this.onNotificationsLoadComplete(this._returnNotificationLoadTracker().length)})),QJ(this,"onNotificationsLoadComplete",(e=>{this._setNotificationLoadCompletedCount(e)})),QJ(this,"onNotificationsListChange",(()=>{this._getUpdatedSecurityDataForThoughtNotifications()})),QJ(this,"_getUpdatedSecurityDataForThoughtNotifications",(()=>{const e=[];this._returnNotificationsList().forEach((t=>{if(t&&t.type&&["thought","thought_clean_style"].includes(t.type)){const n=t&&t.data&&t.data.security&&t.data.security.security_id;e.push(n)}})),e.length>0&&this.props.actions.quickFetchSecuritiesData(e)})),QJ(this,"_logItlyTrackFeedLoaded",(()=>{pl.generic.FEED_LOADED.send({item_count:this.props.notificationsList.length,url:window.location.pathname,url_query:window.location.search})})),this.state={notificationLoadCompletedCount:0},this._notificationLoadTracker=[]}componentDidMount(){this._logItlyTrackFeedLoaded()}componentDidUpdate(e){this._returnNotificationsList()!==this._returnNotificationsList(e)&&this.onNotificationsListChange()}render(){return c.createElement(ZJ,{className:"notifications-list-container"},c.createElement(IX,null),c.createElement("ul",{className:`notifications-list ${this.props.size||"default"}`,style:{paddingTop:"8px"}},this._returnNotificationsList().map(((e,t)=>c.createElement(WJ,{key:this._returnNotificationKey(e,t),notificationIndex:t+1,notification:e,isNotificationListVisible:this.props.isVisible,isNotificationBatchLoaded:this.state.notificationLoadCompletedCount>t,onLoadComplete:this.onSingleNotificationLoadComplete,size:this.props.size,inFeed:this.props.inFeed,inActivityPageFeed:this.props.inActivityPageFeed})))),this._isLoadingMoreNotifications()&&this._renderIsLoadingMoreNotifications(),this._isNoMoreNotifications()&&this._renderIsNoMoreNotifications())}}const JJ=e=>{const{position:t}=e,n={height:"15px",top:"15px",left:"50px",right:"0px"},r={height:"15px",top:"45px",left:"50px",right:"0px"},i={height:"100px",top:"0px",left:"50px",width:"15px",right:"auto"};return c.createElement("div",{className:"notification loading-notification border-accent",style:t},c.createElement("div",{className:"animated-background"},c.createElement("div",{className:"loading-animation-covers",style:n}),c.createElement("div",{className:"loading-animation-covers",style:r}),c.createElement("div",{className:"loading-animation-covers",style:i})))},e0=u.div`
  font-size: 12px;
  line-height: 20px;
  opacity: var(--de-emphasized-text-opacity);
`,t0=()=>c.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"white"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint0_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint1_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint2_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint3_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint4_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint5_radial)"}),c.createElement("circle",{cx:"8",cy:"8",r:"7.5",stroke:"url(#paint6_radial)"}),c.createElement("defs",null,c.createElement("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16) rotate(90) scale(16)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:"1",stopColor:"#DCDBFF",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint1_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(11.4903 1.98481) rotate(90) scale(6.80506)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:"1",stopColor:"#DCDBFF",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint2_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-0.831024 13.6506) rotate(90) scale(11.5848 9.01688)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.53125",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint3_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8 16.6481) rotate(90) scale(6.64304 5.55912)"},c.createElement("stop",{stopColor:"#9FFBF5"}),c.createElement("stop",{offset:"1",stopColor:"#9FFBF5",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(3.77839 19.6456) scale(4.7867 15.9925)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint5_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.09695 -4.98228) rotate(90) scale(13.7722 10.5581)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint6_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-0.565097 7.00759) scale(5.27424 9.64051)"},c.createElement("stop",{stopColor:"#FCFF7D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#FCFF7D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#FCFF7D",stopOpacity:"0"})))),n0=e=>c.createElement(Jr,{vAlign:"center"},c.createElement(Jr,{vAlign:"center",style:{width:"24px"}},c.createElement(t0,o({},e))),c.createElement(e0,null,c.createElement("span",{className:" "},"Indicates member has a live trading account"))),r0=e=>{const{className:t,isWhiteBackground:n,innerBgClass:r}=e;return c.createElement("div",{className:`live-trading-indicator-disclaimer secondary-text-color ${t||""}`},c.createElement("span",{style:{whiteSpace:"nowrap",height:"13px",width:"3px"}},c.createElement("span",{style:{position:"relative"}},c.createElement("div",{className:"inline-halo-container"},c.createElement("span",{className:"live-trading-halo-indicator"},c.createElement("span",{className:`live-trading-halo-indicator-inner ${n?"white":""} ${r||""}`}))))),c.createElement("span",{className:"lt-d-last"},"Indicates a live trading account"))};var i0=Object.defineProperty,a0=(e,t,n)=>(((e,t,n)=>{t in e?i0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const s0=u("div")`
  max-width: 800px;
  margin: 0 auto;

  & > div {
    border-radius: 6px;
    padding: 20px;
  }

  .people-page-container & > div {
    margin: 20px;
  }
`;class o0 extends c.Component{constructor(){super(...arguments),a0(this,"_handleLinkClick",(()=>{this._logClickDetailsInInviteFriendsMessaging()})),a0(this,"_returnABTestGroupStyling",(()=>{const e={0:"default-style",1:"dark-theme-style",2:"card-light-theme-style",3:"gradient-theme-style"};return e[this._returnComponentStylingABTestGroup()]||e[0]})),a0(this,"_returnComponentStylingABTestGroup",(()=>this._returnCurrentUser().invite_friends_message_style_test_group)),a0(this,"_returnCurrentUser",(()=>this.props.currentUser)),a0(this,"_logClickDetailsInInviteFriendsMessaging",(()=>{const e={Context:this.props.viewingContext,"AB Test Group":this._returnComponentStylingABTestGroup()||0};this.props.actions.logMetricsTrackingEvent("Clicked See Details Invite Friends Messaging",e)}))}render(){return c.createElement(s0,null,c.createElement("div",{className:`\n          ${this.props.additionalClassNames||""}\n          ${this._returnABTestGroupStyling()}\n        `},c.createElement("span",null,Wc),c.createElement("span",{style:{marginLeft:"4px"}},c.createElement(iT,{to:Ln("referrals"),className:"link-btn link-btn-in-eye-catching-bg-color",additionalClickAction:this._handleLinkClick,text:"Learn more",scrollToTop:!0}))))}}var l0=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(o0);var c0=T((e=>({unseenCount:e.notifications.unseenCount||0})))((e=>{const{unseenCount:t,children:n}=e;return n(t,t>9?"9+":t,t>0)}));var d0=T((e=>({currentUser:e.currentUser})))((e=>(C.exports.useState(!1),c.createElement(c0,null,((e,t,n)=>n&&c.createElement("div",{style:{position:"absolute",top:"-11px",left:0,right:0,textAlign:"center",zIndex:2}}))))));const u0=u("div")`
  & button {
    text-transform: uppercase;
    box-shadow: none;
    padding: 5px 20px;
    border-radius: 6px;
    font-size: 12px;
    border: none !important;
    width: 110px !important;
  }

  svg {
    height: 14px;
    width: 14px;
    fill: ${({theme:e})=>e.themeColors.buttonText};
  }
`,h0=u("div")`
  & button {
    text-transform: uppercase;
    box-shadow: none;
    padding: 5px 20px;
    border-radius: 6px;
    font-size: 12px;
    border: none !important;
    width: 110px !important;
  }
  svg {
    height: 14px;
    width: 14px;
    fill: ${({theme:e})=>e.themeColors.buttonText};
  }
`,p0=u.div`
  position: absolute;
  top: -2px;
  left: 0;
  right: 0;
  bottom: 0;
`,m0=e=>{const{isUpdating:t,handleClick:n,isSolid:r}=e,i=r?h0:u0;return c.createElement(i,{className:"prominent-refresh-button-container"},t?c.createElement(hx,{onClick:()=>!1,disabled:!0},c.createElement(Iw,{centerAll:!0,relative:!0,height:14},c.createElement(p0,null,"..."))):c.createElement(hx,{onClick:n},c.createElement(Iw,{centerAll:!0},c.createElement(Iw,{centerAll:!0,right:4},c.createElement(xx,null)),c.createElement("span",null,"Refresh"))))};var g0=Object.defineProperty,y0=(e,t,n)=>(((e,t,n)=>{t in e?g0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const _0=u.div`
  position: relative;
`,f0=u.div`
  position: absolute;
  top: -12px;
  left: 0;
  right: 0;

  z-index: 2;
  text-align: center;

  .prominent-refresh-button-container {
    display: inline-block;
  }
`,v0=u.div`
  background: ${({theme:e})=>e.themeColors.componentBg};
`;class E0 extends C.exports.Component{constructor(e){super(e),y0(this,"isGettingMoreNotifications",(()=>this.state._isGettingMoreNotifications)),y0(this,"_setIsGettingMoreNotifications",(()=>{this.setState((()=>({_isGettingMoreNotifications:!0})))})),y0(this,"_clearIsGettingMoreNotifications",(()=>{this.setState((()=>({_isGettingMoreNotifications:!1})))})),y0(this,"handleInfiniteScroll",(()=>this.isGettingMoreNotifications()||this.isNoMoreNotifications()?new Promise((e=>e(!1))):(this._setIsGettingMoreNotifications(),this._logTriggeredInfiniteScroll(),this._getNotifications().then((e=>(this._clearIsGettingMoreNotifications(),e)))))),y0(this,"_shouldRenderRefreshButton",(()=>!0)),y0(this,"isRefreshingNotifications",(()=>this.state._isRefreshingNotifications)),y0(this,"_setIsRefreshingNotifications",(()=>{this.setState((()=>({_isRefreshingNotifications:!0})))})),y0(this,"_clearIsRefreshingNotifications",(()=>{this.setState((()=>({_isRefreshingNotifications:!1})))})),y0(this,"_forceRefreshGetUpdatedNotifications",(()=>this.props.actions.getUpdatedNotifications({batch_index:0,page:1,forceRefresh:!0}))),y0(this,"_getUnseenNotificationsCount",(()=>this.props.actions.getUnseenNotificationsCount())),y0(this,"_sendSeenNotificationsUpdate",(()=>this.props.actions.postUpdatedLastSeenNotificationTime())),y0(this,"handleRefreshData",(()=>(this._setIsRefreshingNotifications(),this._resetStateIsNoMoreData(),this._logRefreshClick(),this._forceRefreshGetUpdatedNotifications().then((()=>{this._clearIsRefreshingNotifications(),this._sendSeenNotificationsUpdate().then((()=>this._getUnseenNotificationsCount()))}))))),y0(this,"_renderLoading",(()=>[0,1,2,3,4].map((e=>c.createElement(JJ,{key:`loading-notification-${e+1}`}))))),y0(this,"_isInFeed",(()=>this.props.inFeed)),y0(this,"_inActivityPageFeed",(()=>this.props.inActivityPageFeed)),y0(this,"_shouldRenderNotificationsDisclaimer",(()=>!this.props.hideNotificationsDisclaimer)),y0(this,"_isLoadingNotifications",(()=>this.props.notifications.loading)),y0(this,"_returnInitialConfigForNotifRequest",(()=>({batch_index:0,page:1}))),y0(this,"_getInitialNotificationsList",(()=>{const e=this._returnInitialConfigForNotifRequest();this.props.actions.getUpdatedNotifications(e).then((()=>{this._setCompletedInitialDataGet()}))})),y0(this,"_shouldGetNotifications",(()=>{this.props.dontGetNotifsOnMount||this._getInitialNotificationsList()})),y0(this,"_isLoadingMoreNotifications",(()=>this.isGettingMoreNotifications()&&!this.isNoMoreNotifications())),y0(this,"isNoMoreNotifications",(()=>this.state._isNoMoreData)),y0(this,"returnNotificationsList",(e=>this._returnNotificationsStore(e).notificationsList)),y0(this,"_returnNotificationsStore",(()=>this.props.notifications)),y0(this,"_returnNextPage",(e=>{const t=this._returnCurrentPageAndBatchIndex().page;return this._didCurrentNotificationAPIRequestReturnNewNotifications()&&!e?null===t?1:t+1:1})),y0(this,"_returnNextBatchIndex",(e=>{const t=this._returnCurrentPageAndBatchIndex().batch_index;return this._didCurrentNotificationAPIRequestReturnNewNotifications()&&!e?t:t+1})),y0(this,"_returnConfigForNotifRequest",(e=>({batch_index:this._returnNextBatchIndex(e),page:this._returnNextPage(e)}))),y0(this,"_returnCurrentPageAndBatchIndex",(()=>{const{page:e,batch_index:t}=this._returnNotificationsStore();return{page:e,batch_index:t}})),y0(this,"_handleNotificationAPIResponse",(e=>{if(this._didNotificationAPIResponseReturnNewNotifications(e))return this._clearGettingData(),!0;return this._didLastNotificationAPIRequestReturnNewNotifications()?this._getNotifications(!0):(this._handleNoMoreNotifications(),!1)})),y0(this,"_handleNoMoreNotifications",(()=>this._updateStateIsNoMoreData())),y0(this,"_handleNotificationAPIError",(()=>{this.props.actions.showModal(xS())})),y0(this,"_wasErrorInRequest",(e=>!e||!e.data||"error"in e)),y0(this,"_didLastNotificationAPIRequestReturnNewNotifications",(()=>this._returnNotificationsStore().didLastReturnNotifications)),y0(this,"_didCurrentNotificationAPIRequestReturnNewNotifications",(()=>this._returnNotificationsStore().didReturnNotifications)),y0(this,"_didNotificationAPIResponseReturnNewNotifications",(e=>e.data.notifications.length>0)),y0(this,"_getNotifications",(e=>this._requestNotifications(e).then((e=>this._wasErrorInRequest(e)?(this._handleNotificationAPIError(e),!1):this._handleNotificationAPIResponse(e))).catch((e=>{console.error("Something went wrong",e)})))),y0(this,"_requestNotifications",(e=>{const t=this._returnConfigForNotifRequest(e);return this.props.actions.getNotifications(t)})),y0(this,"_setCompletedInitialDataGet",(()=>{this.setState((()=>({_gotInitialData:!0})))})),y0(this,"_setGettingData",(()=>{this.setState((()=>({_isGettingData:!0})))})),y0(this,"_clearGettingData",(()=>{this.setState((()=>({_isGettingData:!1})))})),y0(this,"_updateStateIsNoMoreData",(()=>{this.setState((()=>({_isNoMoreData:!0})))})),y0(this,"_resetStateIsNoMoreData",(()=>{this.setState((()=>({_isNoMoreData:!1})))})),y0(this,"_updatePageTitle",(()=>{document.title=`${Xo} - Notifications`})),y0(this,"_logRefreshClick",(()=>{Cu("Click Activity Page Refresh Button",{themeTestGroups:jp(this.props.currentUser)});this.props.actions.logMetricsTrackingEvent("Clicked Refresh On Notifications Page",{})})),y0(this,"_logViewPageEvent",(()=>{this.props.actions.logMetricsTrackingEvent("View Notifications Page",{"From React Router":!0})})),y0(this,"_logTriggeredInfiniteScroll",(()=>{const e={context:"Notifications - "+(this.props.inFeed?"Feed":"Activity Page")};this.props.actions.logMetricsTrackingEvent("Infinite Scroll Triggered",e)})),this.state={_gotInitialData:!1,_isGettingData:!1,_isNoMoreData:!1,_isGettingMoreNotifications:!1,_isRefreshingNotifications:!1}}componentDidMount(){this._isInFeed()?this._shouldGetNotifications():(this.props.actions.postUpdatedLastSeenNotificationTime(),this._updatePageTitle(),this._logViewPageEvent(),this._getInitialNotificationsList())}componentWillUnmount(){this.props.actions.clearNotifications()}render(){return c.createElement(BV,{id:"notifications-list-infinite-scroll",$scrollElement:$(window),onInfiniteScroll:this.handleInfiniteScroll,ignoreInfiniteScroll:this.props.ignoreInfiniteScroll||this.isNoMoreNotifications()||this._isLoadingNotifications()},c.createElement("div",{className:`\n            notifications-page-container\n            ${this._isLoadingNotifications()?"loading":" "}\n            ${this._inActivityPageFeed()?"standalone-page":" "}\n          `},this._isInFeed()&&!this._isLoadingNotifications()&&c.createElement(d0,null),!this._isInFeed()&&Hp(this.props.currentUser)&&wp(this.props.currentUser)&&c.createElement(l0,{additionalClassNames:"",viewingContext:"Activity Page"}),c.createElement("div",{className:"notifications-live-trading-users-wrapper react-page-alignment-container"},this._shouldRenderRefreshButton()&&c.createElement(_0,null,c.createElement(f0,null,c.createElement(m0,{isSolid:!0,className:"refresh-button-container",isUpdating:this.isRefreshingNotifications(),handleClick:this.handleRefreshData}))),this._shouldRenderNotificationsDisclaimer()&&c.createElement(r0,{className:"secondary-text-color",innerBgClass:"main-bg-color-match"})),this._isLoadingNotifications()?c.createElement(v0,{className:"notifications-page react-page-container component-bg"},this._renderLoading()):c.createElement("div",{className:"notifications-page react-page-container component-bg"},c.createElement(XJ,{isVisible:this.props.isVisible||this._inActivityPageFeed(),size:this.props.size||"default",inActivityPageFeed:this._inActivityPageFeed(),inFeed:this._isInFeed(),isLoadingMoreNotifications:this._isLoadingMoreNotifications(),isNoMoreNotifications:this.isNoMoreNotifications(),notificationsList:this.returnNotificationsList(),actions:this.props.actions}))))}}const b0=T((e=>({currentUser:e.currentUser,notifications:e.notifications})),(e=>({actions:I(WC,e)})))(E0),C0=e=>c.createElement("div",{className:"feed-container"},c.createElement(b0,l(o({},e),{size:"small",hideLoadingIndicator:!0,hideNotificationsDisclaimer:!0,inFeed:!0,dontGetNotifsOnMount:!0})));var x0=Object.defineProperty,w0=(e,t,n)=>(((e,t,n)=>{t in e?x0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class S0 extends C.exports.Component{constructor(e){super(e),w0(this,"_renderCreateThought",(()=>c.createElement(mS,{security:this._returnSecurity(),handleCreateThought:this.createThought,handleCancelCreatingThought:this.cancelCreatingThought,thoughtPreSuccessDelayAdditionalAction:this.getUpdateToDateNotifications,thoughtPostSuccessAdditionalAction:this._onPostThoughtSuccess,viewingContext:fS}))),w0(this,"_renderStockInput",(()=>c.createElement("div",{className:"default-flex input-form-as-panel-styling"},c.createElement(UA,{id:"add-thought-security-search",customIcon:"fa-commenting",autoFocus:!1,parentComponent:"Feed",placeholder:this._generateAddThoughtHeadingMessage(),handleSecurityQuerySelection:this._handleSecuritySelection,ignoreClearQueryAfterSelection:!0}),this._renderInviteFriendsButton()))),w0(this,"_renderInviteFriendsButton",(()=>c.createElement("div",{className:"invite-friends-from-feed"},c.createElement(iT,{to:Ln("referrals"),className:"link-btn",additionalClickAction:this._logInviteFriendsFromFeedClick,text:"Invite A Friend",scrollToTop:!0})))),w0(this,"_renderHeading",(()=>c.createElement("div",{className:"thought-heading-message  "},this._generateAddThoughtHeadingMessage()))),w0(this,"getUpdateToDateNotifications",(()=>{this.props.getUpdatedNotifications||console.error("AddThoughtFeed is missing getUpdatedNotifications prop"),this.props.sendUpdatedLastSeenNotifTime||console.warn("AddThoughtFeed is missing sendUpdatedLastSeenNotifTime prop"),this.props.getUpdatedNotifications().then((e=>(this.props.sendUpdatedLastSeenNotifTime&&this.props.sendUpdatedLastSeenNotifTime(),e)))})),w0(this,"_handleSecuritySelection",(e=>{this._selectSecurityForThought(e),this._openThoughtCreationComponent(),TC("Selected Security Above Feed",{})()})),w0(this,"createThought",(e=>this._createThought(e))),w0(this,"_createThought",(e=>{this._returnSecurity();const t=o({security_id:this._returnSecurityId()},e);return this.props.actions.createThought([t]).then((e=>(e.error?this._showCreateThoughtErrorModal(e):TC("Created Thought Above Feed",{})(),e)))})),w0(this,"_showCreateThoughtErrorModal",(e=>{const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Could not save thought. Please try again later."),n=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Cannot create a new thought for this security.  Security is currently unavailable."),r={contentComponent:e.thoughtsWithErrors&&"Can't create a thought for an un-featured security."===e.thoughtsWithErrors[0].error?n:t,dismissable:!0};this.props.actions.showModal(r)})),w0(this,"_onPostThoughtSuccess",(()=>{this._resetComponentToDefaultState()})),w0(this,"cancelCreatingThought",(()=>{this._logCancelCreateThoughtInFeed(),this._clearSecurity(),this._closeThoughtCreationComponent()})),w0(this,"_resetComponentToDefaultState",(()=>{this._clearSecurity(),this._closeThoughtCreationComponent()})),w0(this,"_clearSecurity",(()=>{this.setState((()=>({security:null})))})),w0(this,"_isThoughtComponentOpen",(()=>this.state.isOpen)),w0(this,"_selectSecurityForThought",(e=>{this.setState((()=>({security:e})))})),w0(this,"_openThoughtCreationComponent",(()=>{this.setState((()=>({isOpen:!0})))})),w0(this,"_closeThoughtCreationComponent",(()=>{this.setState((()=>({isOpen:!1})))})),w0(this,"_returnSearchQuerySecurity",(()=>this.state.security?this.state.security:{})),w0(this,"_returnSecurityId",(()=>this._returnSearchQuerySecurity().id)),w0(this,"_returnSecuritySymbol",(()=>this._returnSearchQuerySecurity().symbol)),w0(this,"_returnSecurity",(()=>l(o({},this._returnSearchQuerySecurity()),{security_id:this._returnSecurityId()}))),w0(this,"_generateAddThoughtHeadingMessage",(()=>"What stock is on your mind?")),w0(this,"_logCancelCreateThoughtInFeed",(()=>{const e={"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbol()};this.props.actions.logMetricsTrackingEvent("Cancel Create Thought In Feed",e)})),w0(this,"_logInviteFriendsFromFeedClick",(()=>{const e={Context:"Feed","With Invite Friends Messaging":this.props.showingInviteFriendsMessaging};this.props.actions.logMetricsTrackingEvent("Clicked Invite A Friend",e)})),this.state={isOpen:!1,security:null}}render(){return c.createElement("div",{className:"create-thought-in-feed-container",ref:e=>{this.addAnyThoughtFormContainer=e}},this._isThoughtComponentOpen()?this._renderCreateThought():this._renderStockInput())}}var k0=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(S0),T0=Object.defineProperty,I0=(e,t,n)=>(((e,t,n)=>{t in e?T0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class N0 extends c.Component{constructor(){super(...arguments),I0(this,"_handleLinkClick",(()=>{this._logClickDetailsInSubscriptionPlanMessaging()})),I0(this,"_returnCurrentUser",(()=>this.props.currentUser)),I0(this,"_logClickDetailsInSubscriptionPlanMessaging",(()=>{const e={Context:this.props.viewingContext};this.props.actions.logMetricsTrackingEvent("Clicked Learn More Subscription Plan Messaging",e)})),I0(this,"_returnMessageToDisplay",(()=>`Join ${Xo} ${Gp(this._returnCurrentUser())} and trade with $0 commissions.`))}render(){return c.createElement("div",{className:`\n          in-app-message-container\n          ${this.props.additionalClassNames||""}\n          primary-cta-bg\n        `},c.createElement("span",{className:""},this._returnMessageToDisplay()),c.createElement(iT,{to:Ln("subscriptions"),className:"link-btn link-btn-in-primary-cta-bg-color",additionalClickAction:this._handleLinkClick,text:"Learn more",styling:{marginLeft:"7px"},scrollToTop:!0}))}}T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(N0);const A0=u("div")`
  & div {
    border-radius: 6px;
    padding: 20px;
  }
`;T()((e=>{const{additionalClassNames:t,dispatch:n}=e,r=["Click a button, and get insights from Community Thought Leaders. They have a lot of experience - for example, one was an Institutional Investor-ranked analyst at Citi and Barclays, and another spent 15 years at a $2bn fund.","Learn more about any stock in a click. Just ask a Community Thought Leader. They have a lot of experience - for example, one was an Institutional Investor-ranked analyst at Citi and Barclays, and another spent 15 years at a $2bn fund.","Click a button, and get the Pros and Cons for any stock. Community Thought Leaders have a lot of experience - for example, one was an Institutional Investor-ranked analyst at Citi and Barclays, and another spent 15 years at a $2bn fund.","Click a button, and get the Pros and Cons for any stock."],[i,a]=C.exports.useState(null),[s,o]=C.exports.useState(null);if(C.exports.useEffect((()=>{const e=1===(t=0,n=1,Math.floor(Math.random()*(n-t+1)+t))?3:0;var t,n;a(e),(e=>{TC("View Ask CTL Messaging",{Context:"Feed","AB Group":e,Message:r[e]})()})(e)}),[]),nk(i))return null;const l=e=>{!function(e){e({type:"HIDE_MODAL"})}(n),o(e.id)},d=r[i],u=()=>{bb({contentComponent:c.createElement("div",null,c.createElement(yG,{className:" "},"Pick a stock to ask about"),c.createElement("div",{style:{padding:"25px 0 0 0"}},c.createElement(UA,{id:"ask_ctl_stock_search",icon:"fa-search",parentComponent:"Ask CTL",placeholder:"Search Stocks...",handleSecurityQuerySelection:l}))),size:"wide",className:"ask-someone-security-search-modal",dismissable:!0})(n)};return c.createElement(A0,null,c.createElement("div",{className:t||""},c.createElement("span",null,d),c.createElement("span",null,c.createElement(hx,{transparent:!0,smallNoVert:!0,onClick:()=>{u(),TC("Clicked Ask CTL Message",{"AB Group":i,Message:d})()}},"Ask Now")),c.createElement("div",{style:{display:"none"}},!nk(s)&&c.createElement(Oz,{containerClass:"ask-ctl-share-button",customAskType:"askCTL",customAskTypeButtonRenderer:"_renderAskCTLThoughtButton",customAskTypeDisabledButtonRenderer:"_renderAskCTLThoughtButtonDisabled",viewingContext:"Ask CTL Messaging",securityId:s,buttonWidth:50,handleAfterAction:()=>{o(null)},defaultAskingCTL:!0,openOnMount:!0,openFormInModal:!0}))))}));const P0=()=>c.createElement("svg",{viewBox:"0 0 1440 696"},c.createElement("path",{fill:"#fff",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint0_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint1_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint2_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint3_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint4_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint5_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint6_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("defs",null,c.createElement("radialGradient",{id:"prefix__paint0_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 696 -1444 0 1442 0)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:1,stopColor:"#DCDBFF",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint1_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 296.02 -614.157 0 1035 86.34)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:1,stopColor:"#DCDBFF",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint2_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 503.939 -813.773 0 -77 593.803)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.531,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint3_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 288.972 -501.711 0 720 724.192)"},c.createElement("stop",{stopColor:"#9FFBF5"}),c.createElement("stop",{offset:1,stopColor:"#9FFBF5",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint4_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(432 0 0 695.674 339 854.582)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.635,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint5_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 599.089 -952.867 0 819 -216.729)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.635,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint6_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(476 0 0 419.362 -53 304.83)"},c.createElement("stop",{stopColor:"#FCFF7D"}),c.createElement("stop",{offset:.635,stopColor:"#FCFF7D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#FCFF7D",stopOpacity:0})))),D0=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
`,O0=u.div`
  padding: 16px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  position: relative;
  z-index: 2;
`,L0=u.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  overflow: hidden;
  z-index: 0;

  svg {
    width: 220%;
  }
`,R0=u.div`
  padding-left: 16px;
`,F0=({onView:e,onCTAClick:t,ContainerComponent:n})=>{const r=b(),[i]=c.useState({isVerificationReady:!0}),a=II(i),s=c.useRef(),[o,l]=c.useState(0),[d,u]=c.useState(0),h=vr.primary.charcoal,[p]=c.useState(gi({fontSize:"12px",lineHeight:1.2},{fontSize:"12px",lineHeight:1.2}));c.useEffect((()=>{th.funding.VIEW_VERIFY_BANK_BANNER.send(),e()}),[]),c.useEffect((()=>{s.current&&(l(s.current.parentElement.clientHeight),u(s.current.parentElement.clientWidth))}),[s]);return a<1?null:c.createElement(n,null,c.createElement(D0,{ref:s},c.createElement(L0,null,c.createElement(P0,{height:o,width:d})),c.createElement(O0,null,c.createElement("div",null,c.createElement(bi,{bold:!0,color:h},"Bank Verification Ready"),c.createElement("div",{style:{paddingTop:4,lineHeight:1.2}},c.createElement(pw,{fontSettings:p},"Microdeposits were deposited and withdrawn from your bank account. Enter them now to finish linking."))),c.createElement(R0,null,c.createElement(hx,{color:h,textColor:vr.primary.oak,onClick:()=>{th.funding.CLICK_VERIFY_BANK_BANNER.send(),t(),r(bn.build())}},"Verify Now")))))},M0="ladder",U0="bestow",$0="lemonade",B0="wagmo",z0="vspdirect",V0="newConstructs",H0="upstart",W0="galat",j0="bankrate",G0="covered",q0=e=>{let t=e.toLowerCase().replace(". ","-");return t=t.replace(".",""),t=t.replace(".",""),t=t.replace(" - ","-"),t=t.replace(" - ","-"),t=t.replace(" & ","-"),t=t.replace(", ","-"),t=t.replace(", ","-"),t=t.replace(", ","-"),t=t.replace(",","-"),t=t.replace(",","-"),t=t.replace(",","-"),t=t.replace("&",""),t=t.replace(" ","-"),t=t.replace(" ","-"),t=t.replace(" ","-"),t=t.replace(" ","-"),t=t.replace(" ","-"),t},Y0=e=>{if(!e)return"";if("$!"===e.slice(0,2))return e.slice(2,e.length);const t=e.split(" ")[1],n=t&&"s"===t.slice(-1).toLowerCase();return`What ${"s"===e.split(" ")[0].slice(-1).toLowerCase()||n?"are":"is"} ${e}?`},K0=(e,t)=>"https://bestow.sjv.io/WDmAWe",Q0=(e,t)=>`https://www.ladderlife.com/tornado?lddr_source=tornado&lddr_name=${"LE"+t.toString()}&external_ID=${e}`,Z0=(e,t)=>`https://wagmo.4qxjn9.net/c/3467601/1424950/11106?subId1=${"LE"+t.toString()}&subId2=${e}`,X0=(e,t)=>`https://upstart.9c65.net/c/3467601/1249505/9083?subId1=${"LE"+t.toString()}&subId2=${e}`,J0=(e,t)=>`https://www.newconstructs.com/tornado-email-sign-up/?utm_source=Tornado&utm_medium=Tornado&utm_campaign=TornadoPromotion&utm_content=GoldMembershipInterest&subId1=${"LE"+t.toString()}&subId2=${e}`,e1=(e,t)=>`http://www.jdoqocy.com/click-100683298-13505679?subId1=${"LE"+t.toString()}&external_ID=${e}`,t1=(e,t)=>`https://imp.i146998.net/c/3467601/1033653/11498?subId1=${e}&sharedid=${t}`,n1=(e,t)=>`https://www.wealthfoundry.co/tornado?subId1=${e}&external_ID=${t}`,r1=(e,t)=>"https://oc.brcclx.com/t/?lid=26685425&cr=19410&last_updated=1465327559",i1=(e,t)=>`https://getquote.itscovered.com/tornado?utm_source=Auto&utm_medium=${300009===t?"Howmuch":"Typesof"}`,a1=[{type:yI},{body:[{text:"When you "},{text:"place a trade ",bold:!0},{text:"you can specify an order type. These are "},{text:"instructions",bold:!0},{text:" that affect when, and at what price, your trade will be executed."}]},{body:[{text:"The simplest order is a "},{text:"Market order",bold:!0},{text:". This means your buy or sell will occur as soon as possible at the "},{text:"prevailing market price",bold:!0},{text:", when the stock market is open."}]},{body:[{text:"With a Market order you have less control over the exact price you'll get - but "},{text:"there's more certainty that your trade will be executed."}]},{body:[{text:"A "},{text:"Limit order ",bold:!0},{text:"allows you to specify a price (the Limit price) where you want your trade to occur.  Your trade will be executed at the "},{text:"Limit price or better"},{text:" - or it won't be executed at all."}]},{body:[{text:"With a Limit order, you can protect yourself from getting a price you don't like.",bold:!0},{text:" But depending on where your Limit price is vs. available market prices, your trade may not end up happening."}]},{body:[{text:"There are other more advanced order types you can explore as well, to more finely specify how your trade will be executed."}]},{type:_I}],s1=[{body:[{text:"Learning from others can be a "},{text:"great way to grow ",bold:!0},{text:"especially in investing. Tornado's community includes leading voices called Viewpoint Contributors."}]},{body:[{text:'"The challenge is not to find information, but to filter the information. New investors need to '},{text:"experiment with different points of view",bold:!0},{text:'."'},{text:"- Daniel Martins, DM Martins",isNewLine:!0}]},{body:[{text:'"If the stock market closed for the next five years, '},{text:"would you be comfortable ",bold:!0},{text:'holding your stock?"'},{text:"- Richard Chu, Saga Partners",isNewLine:!0}]},{body:[{text:'"Don’t get so drawn into the story management is telling that you lose your objectivity. '},{text:"Share with friends and discuss",bold:!0},{text:", and then you can see whether you're objective or not.\""},{text:"- Erick Mokaya, The Transcript",isNewLine:!0}]},{body:[{text:'"If you stay open-minded, if you have that passion for learning more about companies and '},{text:"improving your knowledge about the world",bold:!0},{text:', that will take you far in investing."'},{text:"- Richard Chu, Saga Partners",isNewLine:!0}]},{body:[{text:"Insights from these, and more, Tornado Viewpoint Contributors can be a "},{text:"powerful way to deepen your perspective ",bold:!0},{text:"on investing."}]}],o1=[{body:[{text:"Retail stocks include companies that sell "},{text:"goods to individuals.",bold:!0}]},{body:[{text:"Retailers can sell goods for multipurpose use (Walmart, Macy's), home & garden (Home Depot, Lowe's), grocery (Kroger) and specialty - which includes apparel (Gap), electronics (Best Buy), sporting goods (Dicks Sporting Goods), etc."}]},{body:[{text:"Retailers offer "},{text:"key insight into demographic trends",bold:!0},{text:" - e.g., from luxury (Nordstrom) to budget (Dollar General), and from teen (Abercrombie & Fitch) to middle age (Chico's)."}]},{body:[{text:"One key metric for retailers is "},{text:'growth in "same store sales."',bold:!0},{text:" This measures how much sales grew in existing stores (i.e. excluding growth from just adding new stores)."}]},{body:[{text:"Investors also watch "},{text:"e-commerce growth and profitability",bold:!0},{text:'. A key metric is "e-commerce penetration," or how much of a retailer\'s total sales are from digital channels.'}]},{body:[{text:'"Omnichannel" strategies are also important. That\'s when retailers use '},{text:"digital to drive in-store sales, and vice versa.",bold:!0}]}],l1=[{type:yI},{body:[{text:"The Dow, the S&P 500, and the Nasdaq are market indices. "},{text:"A market index is a basket of stocks that can together represent the broader market.",bold:!0}]},{body:[{text:"Each index uses a different methodology to select and weight stocks. The goal is to "},{text:"provide a quick overview of the market’s performance.",bold:!0}]},{body:[{text:"The Nasdaq Composite ",bold:!0},{text:"includes almost all stocks that trade on the Nasdaq stock exchange. It provides good insight into how social media, e-commerce, retail, and Silicon Valley trendsetters are performing."}]},{body:[{text:"The "},{text:"Dow Jones Industrial Average",bold:!0},{text:" only tracks the performance of 30 large, U.S.-based companies. It gives investors a general idea of what's going on in U.S. markets."}]},{body:[{text:"The S&P 500",bold:!0},{text:" also tracks large, U.S.-based companies, but it includes 500 of them. As a result, many investors see it as a more complete view of what's happening in the overall U.S. market."}]},{body:[{text:"Market indices can be great tools for monitoring how the stock market is behaving. "},{text:"By understanding the specific focus of each index",bold:!0},{text:", you can deepen your understanding of the market’s performance."}]},{type:_I}],c1=[{type:yI},{body:[{text:"A stock is a financial asset that represents an economic interest in a business.",bold:!0},{text:" Stocks are the companies you invest in: Apple, Tesla, Amazon, General Electric."}]},{body:[{text:"Shares are individual pieces of stock; "},{text:"each share is a tiny fraction of ownership.",bold:!0},{text:" One share of Tesla, 10 shares of Apple. Stocks may have millions, even billions of shares."}]},{body:[{text:"The stock market is not a stock. "},{text:"The market is a large, representative group of stocks:",bold:!0},{text:" all the stocks in a given country, for example, or a big subset of those stocks."}]},{body:[{text:"In the U.S., stock markets include the New York Stock Exchange and Nasdaq. "},{text:"They're where stocks are registered and traded.",bold:!0}]},{body:[{text:"To measure their collective performance, stocks are often grouped into indices.",bold:!0},{text:" Indices share characteristics: they're stocks in the same industry; they're a group of large stocks or a group of small stocks."}]},{body:[{text:"The major U.S. indices include the "},{text:"Dow Jones Industrial Average",bold:!0},{text:" (DJIA); the "},{text:"Standard & Poor's 500",bold:!0},{text:" (S&P 500) and the "},{text:"NASDAQ Composite",bold:!0},{text:". These are often what commentators refer to when they talk about daily or weekly gains or declines in the stock market."}]},{type:_I}],d1=[{body:[{text:"Why should life insurance factor into my financial plan?",bold:!0},{text:"One way to think about life insurance in your personal financial portfolio is to consider it in terms of protecting your future earnings and your loved ones.",isNewLine:!0}]},{body:[{text:"Over time people invest in themselves by going to school, learning skills, and building on experiences.",bold:!0},{text:" This leads to better jobs and more money over time."},{text:"Then, they are able to borrow against those future earnings to get a mortgage, a car loan, or secure other personal loans.",isNewLine:!0}]},{body:[{text:"One of the things life insurance does is take that human capital—your potential future earnings—and protect those earnings for your loved ones.",bold:!0},{text:"Term life insurance protects the human capital risk in your family’s overall financial portfolio.",isNewLine:!0}]},{body:[{text:"Is life insurance through work enough?",bold:!0},{text:"One rule of thumb is 10x your salary. This may sound like a lot, but it could be used to cover quite a bit: a mortgage, debt, higher education, etc.",isNewLine:!0},{text:"Plus, if you leave your job you'll likely leave your coverage behind, too.",isNewLine:!0}]},{body:[{text:"When should I buy life insurance?",bold:!0},{text:"Unfortunately, you don’t have much control over when the unexpected will occur.",isNewLine:!0},{text:"And getting coverage early locks in your premium before your age and other factors increase the risk of insuring you.",isNewLine:!0}]},{body:[{text:"Is term life insurance expensive?",bold:!0},{text:"Term life insurance may be more affordable than you think.",isNewLine:!0},{text:"A healthy, non-smoking 30-year-old male would only pay an affordable $35–$40 a month for $1 million in coverage for a 20-year term.",isNewLine:!0}]},{body:[{text:"Taken as part of your overall financial plan, "},{text:"you can think of term life insurance as having some of the best bang for your buck.",bold:!0},{text:"Ensuring that the people you care about will be provided for when you’re gone is a true act of love, and something everyone should consider.",isNewLine:!0}]},{type:fI}],u1=[{body:[{text:"Why should life insurance factor into my financial plan?",bold:!0},{text:"One way to think about life insurance in your personal financial portfolio is to consider it in terms of protecting your future earnings and your loved ones.",isNewLine:!0}]},{body:[{text:"Over time people invest in themselves by going to school, learning skills, and building on experiences.",bold:!0},{text:" This leads to better jobs and more money over time."},{text:"Then, they are able to borrow against those future earnings to get a mortgage, a car loan, or secure other personal loans.",isNewLine:!0}]},{body:[{text:"One of the things life insurance does is take that human capital—your potential future earnings—and protect those earnings for your loved ones.",bold:!0},{text:"Term life insurance protects the human capital risk in your family’s overall financial portfolio.",isNewLine:!0}]},{body:[{text:"Is life insurance through work enough?",bold:!0},{text:"One rule of thumb is 10x your salary. This may sound like a lot, but it could be used to cover quite a bit: a mortgage, debt, higher education, etc.",isNewLine:!0},{text:"Plus, if you leave your job you'll likely leave your coverage behind, too.",isNewLine:!0}]},{body:[{text:"When should I buy life insurance?",bold:!0},{text:"Unfortunately, you don’t have much control over when the unexpected will occur.",isNewLine:!0},{text:"And getting coverage early locks in your premium before your age and other factors increase the risk of insuring you.",isNewLine:!0}]},{body:[{text:"Is term life insurance expensive?",bold:!0},{text:"Term life insurance may be more affordable than you think.",isNewLine:!0},{text:"A healthy, non-smoking 30-year-old male would only pay an affordable $35–$40 a month for $1 million in coverage for a 20-year term.",isNewLine:!0}]},{body:[{text:"Taken as part of your overall financial plan, "},{text:"you can think of term life insurance as having some of the best bang for your buck.",bold:!0},{text:"Ensuring that the people you care about will be provided for when you’re gone is a true act of love, and something everyone should consider.",isNewLine:!0}]},{type:vI}],h1=[{body:[{text:"What is life insurance?",bold:!0},{text:"At its basic level, it's an agreement between you and a life insurance company.",isNewLine:!0},{text:"In exchange for a premium, the insurer promises to pay a sum of money upon your death to those you designate as beneficiaries.",isNewLine:!0}]},{body:[{text:"Do I need life insurance?",bold:!0},{text:"To find out, ask yourself the following question: would your absence cause anyone financial strain? If so, the answer is yes. Let's take a look at the 5 top reasons you may need life insurance.",isNewLine:!0}]},{body:[{text:"1. You have a mortgage or other shared debt.",bold:!0},{text:"Consider life insurance if a parent has co-signed a student loan for you, for instance.",isNewLine:!0},{text:"Have you co-borrowed a mortgage, personal loan, or home equity line of credit with a spouse, partner, or sibling?",isNewLine:!0}]},{body:[{text:"2. Your life insurance through work isn't enough.",bold:!0},{text:"Group life insurance through an employer usually maxes out at a low fixed dollar amount or 1-2 times your annual salary.",isNewLine:!0},{text:"Financial experts recommend 10x your salary as a rule of thumb.",isNewLine:!0}]},{body:[{text:"3. You contribute a meaningful portion of your family's income.",bold:!0},{text:"If you support (or will support)",isNewLine:!0},{text:" a spouse, kids, parents, grandparents, siblings, or others and the loss of your income would affect them, you may need life insurance."}]},{body:[{text:"4. You have kids.",bold:!0},{text:"Even if you don't provide income your family relies on, you likely provide care that your family would have to pay for in your absence.",isNewLine:!0},{text:"Life insurance can also meaningfully contribute to college savings.",isNewLine:!0}]},{body:[{text:"5. You run a business.",bold:!0},{text:"Life insurance can be extra important for small business owners.",isNewLine:!0},{text:"You might have taken on business debt using personal assets, like your home, as collateral. In that case, life insurance can help.",isNewLine:!0}]},{type:fI}],p1=[{body:[{text:"What is life insurance?",bold:!0},{text:"At its basic level, it's an agreement between you and a life insurance company.",isNewLine:!0},{text:"In exchange for a premium, the insurer promises to pay a sum of money upon your death to those you designate as beneficiaries.",isNewLine:!0}]},{body:[{text:"Do I need life insurance?",bold:!0},{text:"To find out, ask yourself the following question: would your absence cause anyone financial strain? If so, the answer is yes. Let's take a look at the 5 top reasons you may need life insurance.",isNewLine:!0}]},{body:[{text:"1. You have a mortgage or other shared debt.",bold:!0},{text:"Consider life insurance if a parent has co-signed a student loan for you, for instance.",isNewLine:!0},{text:"Have you co-borrowed a mortgage, personal loan, or home equity line of credit with a spouse, partner, or sibling?",isNewLine:!0}]},{body:[{text:"2. Your life insurance through work isn't enough.",bold:!0},{text:"Group life insurance through an employer usually maxes out at a low fixed dollar amount or 1-2 times your annual salary.",isNewLine:!0},{text:"Financial experts recommend 10x your salary as a rule of thumb.",isNewLine:!0}]},{body:[{text:"3. You contribute a meaningful portion of your family's income.",bold:!0},{text:"If you support (or will support)",isNewLine:!0},{text:" a spouse, kids, parents, grandparents, siblings, or others and the loss of your income would affect them, you may need life insurance."}]},{body:[{text:"4. You have kids.",bold:!0},{text:"Even if you don't provide income your family relies on, you likely provide care that your family would have to pay for in your absence.",isNewLine:!0},{text:"Life insurance can also meaningfully contribute to college savings.",isNewLine:!0}]},{body:[{text:"5. You run a business.",bold:!0},{text:"Life insurance can be extra important for small business owners.",isNewLine:!0},{text:"You might have taken on business debt using personal assets, like your home, as collateral. In that case, life insurance can help.",isNewLine:!0}]},{type:vI}],m1=[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Stocks mentioned by members of the Tornado community may perform better or worse than other stocks. Not investment advice."}],g1=[{text:"Past performance of the stock market is not indicative of future results.  There is no guarantee that a portfolio of stocks will go up in value, appreciate more than inflation, or exhibit high or low volatility during any given period.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks."}],y1=[{text:"Check out our blog: ",link:"https://blog.tornado.com/"}],_1=[{text:"Stock investing may not be appropriate for all investors. Tornado does not recommend any specific stocks, ETFs, or investment strategies, or provide investment advice. Wealth Foundry is not affiliated with Tornado or its parent company. "}],f1=[{text:""}],v1={1:{id:1,name:"Risk",heading:"Risk",phraseDisplay:"risk",type:mI,content:[{body:[{text:"Since 1928, there's never been a "},{text:"16 year stretch where the S&P 500 hasn't gone up.",bold:!0},{text:"(Doesn't mean that'll always happen)",isNewLine:!0,small:!0}]},{body:[{text:"The biggest one year drop ",bold:!0},{text:"in the "},{text:"S&P 500 ",noWrap:!0,bold:!0},{text:"has been "},{text:"43%",bold:!0},{text:"."}]},{body:[{text:"On average, "},{text:"the S&P 500 has gone up around 9.8% per year.",bold:!0}]},{body:[{text:"Reducing risk often means reducing upside.  ",bold:!0},{text:"Decide how much you're willing to lose."}]},{body:[{text:"If you're diversified and have a long horizon, "},{text:"there's more time to make back short term losses.  ",bold:!0},{text:"Investing regularly helps too."}]}],disclaimers:[{text:"The source for all historical stock performance is the website of Dr. Aswath Damodaran at NYU Stern School of Business",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"},{slides:[1],text:"From 1928-2020, the largest one-year drop in the S&P 500 Index, including dividends, was 43.84% in 1931, and the largest one-year gain was 52.56% in 1954."},{slides:[2],text:"The geometric mean annual return of the S&P 500 Index from 1928-2020, including dividends, was 9.8%."},{slides:[3,4,5],text:"There is no guarantee that a portfolio that targets high or low risk, or high or low returns, will achieve these objectives.  Past performance does not indicate future results.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks."}],metadata:{isCoreContent:!0}},2:{id:2,name:"Investing vs. Saving",heading:"Investing vs. Saving",phraseDisplay:"investing vs. saving",type:mI,content:[{body:[{text:"Money sitting in your bank account may not buy as much in the future - because "},{text:"prices of things tend to go up ",bold:!0},{text:"(inflation)."}]},{body:[{text:"Banks' interest rates have recently been lower than inflation."}]},{body:[{text:"On average, the S&P 500 has gone up around "},{text:"9.8% per year.",bold:!0}]},{body:[{text:"However, investing in stocks means more risk. The stock market has "},{text:"tended to go up in the long run. ",bold:!0},{text:"But in the short term it may go up or down."}]},{body:[{text:"For money you won't need soon, investing can be a great way to build wealth - and beat inflation."}]}],disclaimers:[{text:"The source for all historical stock performance is the website of Dr. Aswath Damodaran at NYU Stern School of Business",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"},{text:"The source for inflation data is US Bureau of Labor Statistics: ",link:"https://data.bls.gov/cgi-bin/surveymost"},{text:"The source for historical bank interest rates (CDs) is Bankrate:",link:"https://www.bankrate.com/banking/cds/historical-cd-interest-rates/"},{slides:[1],text:"The average rate of inflation from 2009-2020 was 1.33% and the average interest rate on a bank savings account was 0.24%."},{slides:[1],text:"The source for inflation statistics is the BLS:",link:"https://www.bls.gov/bls/inflation.htm"},{slides:[1],text:"The source for bank savings account interest rates is the St. Louis Fed:",link:"https://fred.stlouisfed.org/series/CD6NRNJ"},{slides:[1],text:"Based on data from the BLS, since 2009, the average annual inflation rate was about 1.34%"},{slides:[1],text:"According to data from the Fed, since 2009, the average annual interest rate on savings deposit accounts was about 24 bps"},{slides:[2],text:"The geometric mean annual return of the S&P 500 Index from 1928-2020, including dividends, was 9.8%."},{slides:[3,4],text:"Past performance of the stock market is not indicative of future results.  There is no guarantee that a portfolio of stocks will go up in value, appreciate more than inflation, or exhibit high or low volatility during any given period.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks."}],metadata:{isCoreContent:!0}},3:{id:3,name:"Diversification",heading:"Diversification",phraseDisplay:"diversification",type:mI,content:[{body:[{text:"Diversification, or "},{text:"spreading out your investments, ",bold:!0},{text:"is a key to reducing risk."}]},{body:[{text:'It can be a "free lunch" -  '},{text:"reducing risk, ",bold:!0},{text:"without necessarily reducing upside."}]},{body:[{text:"Broad market indices ",bold:!0},{text:"like the S&P 500 can be a quick way to get diversification."}]},{body:[{text:"Diversification is most powerful ",bold:!0},{text:"when the new investments you add are different from ones you already have."}]},{body:[{text:"With "},{text:"20 to 30 stocks ",bold:!0},{text:"in your portfolio, you can also get much of the diversification benefit of broad market indices like the S&P 500."}]}],disclaimers:[{text:"There is no guarantee that a diversified portfolio will perform better or similar to, or exhibit volatility similar to or lower than, a concentrated portfolio over any given period."},{text:"Fisher and Lorie wrote a paper published in 1970 that suggested a 30-stock portfolio provides significant diversification:",link:"https://www.jstor.org/stable/2352105?seq=1#metadata_info_tab_contents"},{text:"Reilly and Brown (first edition published in 1979) suggest 12-18 stocks could provide 90% of the benefits of diversification:",link:"https://www.cengage.com/c/investment-analysis-and-portfolio-management-11e-reilly/9781305262997"},{text:"Prof. Haran Segram of NYU says 20-25 stocks are required to have a diversified portfolio, and holdings beyond that may offer only marginal diversification benefits:",link:"https://money.com/diversification-how-many-stocks/"},{text:"Fund manager Joel Greenblatt in his book You Can Be a Stock Market Genius claims that 93% of stock-specific risk is eliminated with a portfolio of 16 stocks, and 96% with 32 stocks:",link:"https://www.simonandschuster.com/books/You-Can-Be-a-Stock-Market-Genius/Joel-Greenblatt/9780684840079"}],metadata:{isCoreContent:!0}},4:{id:4,name:"Compounding",heading:"Compounding",phraseDisplay:"compounding",type:mI,content:[{body:[{text:'Some say Albert Einstein claimed, "'},{text:"Compound interest ",bold:!0},{text:'is the eighth wonder of the world."'}]},{body:[{text:'As Benjamin Franklin put it, "'},{text:"Money makes money. ",bold:!0},{text:' And the money that money makes, makes money."'}]},{body:[{text:"Since 1928, the S&P 500 has gone up about "},{text:"9.8% per year ",bold:!0},{text:"on average. "},{text:"At that rate, in "},{text:"40 years you'd have 42x",bold:!0},{text:" your original investment."}]},{body:[{text:"Investing just $100 per month for 40 years would result in over $500k."}]},{body:[{text:"Investing "},{text:"early and often ",bold:!0},{text:" is a key to building wealth due to the power of compounding."}]}],disclaimers:[{text:"The source for all historical stock performance is the website of Dr. Aswath Damodaran at NYU Stern School of Business: ",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"},{slides:[3,4,5],text:"There is no guarantee that a portfolio that targets high or low risk, or high or low returns, will achieve these objectives.  Past performance does not indicate future results.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks.",link:"https://www.investor.gov/financial-tools-calculators/calculators/compound-interest-calculator"},{slides:[3,4,5],text:"Past performance does not indicate future results.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks."}],metadata:{isCoreContent:!0}},5:{id:5,name:"Dividends",heading:"Dividends",phraseDisplay:"dividends",type:mI,content:[{body:[{text:"Dividends are "},{text:"cash payouts ",bold:!0},{text:"from stocks.  They offer a way to make money from stocks besides when prices go up."}]},{body:[{text:"Not all companies pay dividends, but historically they account for about "},{text:"a third of the returns ",bold:!0},{text:"for the stock market."}]},{body:[{text:'“The true investor will do better if he forgets about the market and pays attention to his dividend returns and the operating results of his companies." - Benjamin Graham'}]},{body:[{text:"There are "},{text:"thousands of stocks ",bold:!0},{text:"that pay dividends, and you can explore them on Tornado."}]}],disclaimers:[{text:"Tornado does not recommend any specific investment strategy or investing in stocks with any specific characteristics such as paying dividends.  Educational material and quotes are for informational purposes only and are not recommendations, investment advice, or solicitations to buy or sell securities.  Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates."},{text:"The source for all historical stock performance is the website of Dr. Aswath Damodaran at NYU Stern School of Business:",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"},{slides:[1],text:"The source for the claim that ⅓ of the total equity return for the S&P500 is from dividends is S&P Global:",link:"https://www.spglobal.com/spdji/en/documents/education/practice-essentials-the-importance-of-dividends.pdf"}],metadata:{isCoreContent:!0}},6:{id:6,name:"Optimization",heading:"Optimization",phraseDisplay:"optimization",type:mI,content:[{body:[{text:"How you "},{text:"size your positions ",bold:!0},{text:"can hugely impact the risk, and upside, of your portfolio."}]},{body:[{text:"For example, if a stock is really "},{text:"volatile",bold:!0},{text:", meaning the price moves a lot, a "},{text:"smaller position",bold:!0},{text:" may make sense."}]},{body:[{text:"If a stock is "},{text:"very different ",bold:!0},{text:"from the rest of your portfolio, that's a reason to have a "},{text:"larger position",bold:!0},{text:". It adds diversification."}]},{body:[{text:"And of course if you think there's a "},{text:"lot of upside ",bold:!0},{text:"in a stock (relative to the risk) that's a strong reason to have a "},{text:"larger position",bold:!0},{text:"."}]},{body:[{text:"A portfolio optimizer weighs all these together. In just 1 click, you can "},{text:"rebalance your portfolio",bold:!0},{text:". The tech is based on Modern Portfolio Theory, which won a Nobel Prize."}]},{body:[{text:"Studies suggest optimization can add "},{text:"up to 2% in additional returns",bold:!0},{text:" vs. market weightings. Compounded "},{text:"over 20+ years, that can amount to 150%+",bold:!0},{text:".  Check out the optimizer to learn more."}]}],disclaimers:[{text:"There is no guarantee that an optimized portfolio will exhibit higher returns, lower volatility, or other improved characteristics relative to a portfolio that has not been optimized.  Please see Section 8 of Tornado’s Terms of Service (link) for important information and disclosures regarding optimization and the Optimizer tool."},{slides:[4],text:" Tornado’s Optimizer is based in part on the concept of Modern Portfolio Theory, which was pioneered by the economist Harry Markowitz in 1952 and for which he was awarded a Nobel Prize in Economics."},{slides:[5],text:"One study in the Journal of Portfolio Management suggests that there could be as much as 2% annual out-performance vs. the market just from periodically adjusting position weightings to minimize portfolio volatility. Past performance does not indicate future results.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks.",link:"https://www.researchgate.net/publication/228318906_Minimum_Variance_Portfolio_Composition"}],metadata:{isCoreContent:!0}},7:{id:7,name:"Dollar Cost Averaging",heading:"Dollar Cost Averaging",phraseDisplay:"dollar cost averaging",type:mI,content:[{body:[{text:"One way to reduce the risk of "},{text:"buying a stock at the wrong time ",bold:!0},{text:"is Dollar Cost Averaging."}]},{body:[{text:"Dollar Cost Averaging involves making "},{text:"regular purchases over time.",bold:!0}]},{body:[{text:"It helps take the emotion out of investment decisions."}]},{body:[{text:'Dollar Cost Averaging guards against the temptation to “buy high" and "sell low” out of fear.'}]},{body:[{text:"As Warren Buffett put it, “I like buying "},{text:"quality merchandise when it is marked down.",bold:!0},{text:"”"}]},{body:[{text:"Staying disciplined about investing regularly is a great way to "},{text:"build long term wealth",bold:!0},{text:"."}]}],disclaimers:[{text:"There is no guarantee that dollar cost averaging, or any other investing strategy, will be profitable, outperform an index, or avoid losses that could be associated with a different investing strategy.  Past performance does not indicate future results.  Investing in stocks is inherently risky, and no investing strategy can completely predict or eliminate these risks."},{slides:[4],text:"Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates."}],metadata:{isCoreContent:!0}},8:{id:8,name:"Concentration",heading:"Concentration",phraseDisplay:"concentration",type:mI,content:[{body:[{text:'Warren Buffett once said, "Diversification may '},{text:"preserve wealth",bold:!0},{text:", but concentration "},{text:"builds wealth",bold:!0},{text:'".'}]},{body:[{text:"Charlie Munger believes that when it's hard to find good investments, concentrating on a few can be a good idea."}]},{body:[{text:"Concentrated positions come with "},{text:"more risk",bold:!0},{text:". It's important to understand each investment more deeply and "},{text:"be comfortable with the downside",bold:!0}]},{body:[{text:"With "},{text:"20 to 30 stocks ",bold:!0},{text:"in your portfolio, you can also get much of the diversification benefit of "},{text:"broad market indices",bold:!0},{text:" like the S&P 500."}]},{body:[{text:"You can control concentration risk by "},{text:"limiting how big each position is ",bold:!0},{text:"as a percentage of your portfolio."}]},{body:[{text:"As you explore and evaluate the pros and cons of more stocks, it becomes easier to "},{text:"build conviction in your investments",bold:!0},{text:"."}]}],disclaimers:[{text:"Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates.  There is no guarantee that a diversified portfolio will perform better or similar to, or exhibit volatility similar to or lower than, a concentrated portfolio over any given period."},{text:"Fisher and Lorie wrote a paper published in 1970 that suggested a 30-stock portfolio provides significant diversification:",link:"https://www.jstor.org/stable/2352105?seq=1#metadata_info_tab_contents"},{text:"Reilly and Brown (first edition published in 1979) suggest 12-18 stocks could provide 90% of the benefits of diversification:",link:"https://www.cengage.com/c/investment-analysis-and-portfolio-management-11e-reilly/9781305262997"},{text:"Prof. Haran Segram of NYU says 20-25 stocks are required to have a diversified portfolio, and holdings beyond that may offer only marginal diversification benefits:",link:"https://money.com/diversification-how-many-stocks/"},{text:"Fund manager Joel Greenblatt in his book You Can Be a Stock Market Genius claims that 93% of stock-specific risk is eliminated with a portfolio of 16 stocks, and 96% with 32 stocks:",link:"https://www.simonandschuster.com/books/You-Can-Be-a-Stock-Market-Genius/Joel-Greenblatt/9780684840079"}],metadata:{isCoreContent:!0}},9:{id:9,name:"ETFs",heading:"ETFs",phraseDisplay:"ETFs",type:mI,content:[{body:[{text:"Exchange Traded Funds (ETFs) are a "},{text:"quick and easy ",bold:!0},{text:"way to invest in the "},{text:"broad market",bold:!0},{text:", or a "},{text:"specific theme.",bold:!0}]},{body:[{text:"For example, SPY tracks the S&P 500 index, a basket of the largest public companies in the US."}]},{body:[{text:"Some ETFs focus on specific investment themes."}]},{body:[{text:"There are choices galore, from Electric Vehicles (DRIV, KARS) to Gold Miners (GDX), and more."}]},{body:[{text:"ETFs are designed to be "},{text:"easy to buy and sell,",bold:!0},{text:" and many have "},{text:"low fees",bold:!0},{text:"."}]},{body:[{text:"Tornado provides access to "},{text:"over 2,000 ETFs ",bold:!0},{text:"you can explore."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},10:{id:10,name:"Valuation",heading:"Valuation",phraseDisplay:"valuation",type:mI,content:[{body:[{text:"You wouldn't buy something without checking the price first. But for stocks, the "},{text:"price alone won't tell you if it's a good deal.",bold:!0}]},{body:[{text:"Depending on the stock, 1 share represents a "},{text:"different percentage ",bold:!0},{text:"of the underlying company."},{text:" So comparing one stock price to another is like comparing a gallon of milk to a half gallon of apple juice.",newLine:!0}]},{body:[{text:"A stock's valuation can help reveal "},{text:"whether a stock is a good deal",bold:!0},{text:". Ratios like P/E (price divided by earnings per share) allow you to "},{text:"compare one stock to another ",bold:!0},{text:"on a more apples-to-apples basis."}]},{body:[{text:"A low P/E doesn't always indicate that a stock is a good bargain - it can be appropriate if a company isn't growing.  Likewise, high growth can justify a high P/E."}]},{body:[{text:"No matter how strong the underlying company is, "},{text:"paying the right price for its stock is a key",bold:!0},{text:" to investing profitably. As Warren Buffett put it, “I like buying quality merchandise when it is marked down.”"}]},{body:[{text:"Ratios like P/E help reveal a stock's true pricing, which can diverge from its fair value. You can "},{text:"compare stocks' P/E and other metrics ",bold:!0},{text:"to gauge where there may be opportunity."}]}],disclaimers:[{text:"Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates.  Tornado does not recommend any specific stocks, ETFs, or investment strategies, such as buying “value” stocks.  Not investment advice."}],metadata:{isCoreContent:!0}},11:{id:11,name:"Earnings Reports",heading:"Earnings Reports",phraseDisplay:"earnings reports",type:mI,content:[{body:[{text:"Earnings reports provide a wealth of insight on a company's "},{text:"strategy, growth, and profitability",bold:!0},{text:". They typically happen once a quarter."}]},{body:[{text:"Companies reveal "},{text:"financial performance ",bold:!0},{text:"(sales, profits, etc.) and also discuss "},{text:"prospects for the future.",bold:!0}]},{body:[{text:"It's a front row seat to the strategic choices that will determine a company's success, or failure."}]},{body:[{text:"Companies often host a webcast after they report earnings, with Q&A from analysts. This can give you a sense for what "},{text:"issues other investors are focused on",bold:!0},{text:" as well."}]},{body:[{text:"Stocks can move a lot on earnings reports, so it helps to know "},{text:"what the investing community expects",bold:!0},{text:" (e.g., consensus estimates) versus actual performance."}]},{body:[{text:"Check out which companies are reporting in the coming weeks."}]}],disclaimers:[{text:"The source for all historical stock performance is the website of Dr. Aswath Damodaran at NYU Stern School of Business",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"}],metadata:{isCoreContent:!0}},13:{id:13,name:"Fractional Shares",heading:"Fractional Shares",phraseDisplay:"fractional shares",type:mI,content:[{body:[{text:"Stocks often have prices in the hundreds or even thousands of dollars per share, making it hard to invest if you have a smaller portfolio."}]},{body:[{text:"With fractional shares, you can "},{text:"buy or sell a smaller slice of a share ",bold:!0},{text:"with as little as $5."}]},{body:[{text:"Fractional shares offer a way to start "},{text:"building wealth ",bold:!0},{text:"today, with even "},{text:"small amounts of money.",bold:!0}]}],disclaimers:[{text:"Some securities available on Tornado are not eligible for fractional share trading.  Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},14:{id:14,name:"Getting Started",heading:"Getting Started",phraseDisplay:"$!How to get started",type:mI,content:[{body:[{text:"Anyone can invest ",bold:!0},{text:"- it's a great way to build wealth. "},{text:"Building your confidence ",bold:!0},{text:"is easy."}]},{body:[{text:"We'll help you "},{text:"learn the key concepts",bold:!0},{text:". And put them into practice."}]},{body:[{text:"There's an entire community on Tornado to help you understand "},{text:"the pros and cons ",bold:!0},{text:"of each investment."}]},{body:[{text:"And if you have "},{text:"questions about a stock",bold:!0},{text:", you can always ask a Community Thought Leader (CTL)."}]},{body:[{text:"You can "},{text:"start investing with as little as $5",bold:!0},{text:". A broad index fund like SPY, which tracks the S&P 500, can help you get started without choosing specific stocks."}]},{body:[{text:"Investing regularly",bold:!0},{text:", even in small amounts, is key to "},{text:"building long term wealth.",bold:!0},{text:"  It's simple to set up a recurring investment, so you never forget."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},15:{id:15,name:"When to Sell",heading:"When to Sell",phraseDisplay:"when to sell",type:mI,content:[{body:[{text:"There are at least "},{text:"3 good reasons",bold:!0},{text:" to sell a stock you own."}]},{body:[{text:"The first is when a better opportunity arises."}]},{body:[{text:"And the second is when the underlying "},{text:"fundamentals change",bold:!0},{text:". For example, a change in the competitive landscape."}]},{body:[{text:"A third reason to sell is when a "},{text:"stock appreciates",bold:!0},{text:" and approaches your price target - i.e., when you think there's "},{text:"limited upside going forward.",bold:!0}]},{body:[{text:"Staying up to date",bold:!0},{text:" on your stocks, and what other investment opportunities are available, can help you "},{text:"feel comfortable knowing when to sell.",bold:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},16:{id:16,name:"Business Risk",heading:"Business Risk",phraseDisplay:"business risk",type:mI,content:[{body:[{text:"When you buy a stock, you're buying an "},{text:"ownership stake in the company",bold:!0},{text:"."}]},{body:[{text:"Over the long term, the "},{text:"stock’s performance ",bold:!0},{text:"will be tied to issues that drive the underlying "},{text:"company's performance",bold:!0},{text:": its market, its strategy and the competitive landscape."}]},{body:[{text:'"We think of '},{text:"business risk ",bold:!0},{text:"in terms of what can happen — 5, 10, 15 years from now — that will "},{text:"destroy, or modify, or reduce the economic strengths ",bold:!0},{text:"that we perceive currently exist in a business.” - Warren Buffett"}]},{body:[{text:"Business risk can take many forms",bold:!0},{text:": excessive debt, high capital intensity, commoditization, obsolescence, inflation, and competition."}]},{body:[{text:"Understanding the factors that may "},{text:"impact a business ",bold:!0},{text:"over time is key."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-risky-is-my-stock-start-with-the-business-d41166383ae0",blogPostName:"How risky is my stock? Start with the business."}],metadata:{isCoreContent:!0}},17:{id:17,name:"Ratios",heading:"Ratios",phraseDisplay:"ratios",type:mI,content:[{body:[{text:"How do you tell if a "},{text:"stock is undervalued or overvalued",bold:!0},{text:"? Ratios like Price / Earnings (P/E) can help."}]},{body:[{text:'Investors often use price ratios, sometimes called "multiples", to evaluate a stock versus its '},{text:"historical valuation, or to compare different stocks.",bold:!0}]},{body:[{text:"The P/E ratio measures a company's "},{text:"stock price relative to its earnings",bold:!0},{text:". It's how much you’re paying for one dollar’s worth of earnings."}]},{body:[{text:"Price / Sales is another measure that takes into account total sales.  It's "},{text:"often used for growth companies ",bold:!0},{text:"that may not be profitable yet. That is, when earnings are negative, so a P/E ratio wouldn't make sense."}]},{body:[{text:"Price ratios are a starting point for asking other questions. "},{text:"There are often reasons why ratios may be high or low. ",bold:!0},{text:"For example, rapidly growing sales may justify a high multiple."}]},{body:[{text:"By comparing price ratios, and understanding why they vary, you can better "},{text:"assess where there may be opportunity.",bold:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Stocks with high or low multiples may perform better or worse than other stocks. Not investment advice."}],metadata:{isCoreContent:!0}},18:{id:18,name:"Community",heading:"Community",phraseDisplay:"community",type:mI,content:s1,disclaimers:m1,metadata:{isCoreContent:!0}},19:{id:19,name:"Market Capitalization",heading:"Market Capitalization",phraseDisplay:"market capitalization",type:mI,content:[{body:[{text:"What’s a company worth today? ",bold:!0},{text:"One measure investors use is market capitalization, or market cap."}]},{body:[{text:"Market cap is the "},{text:"total dollar value of a company’s stock",bold:!0},{text:": the hypothetical cost if you were to buy up all its outstanding shares at once, at their listed market price."}]},{body:[{text:"It's a simple formula: number of total outstanding shares x current price per share = market cap"}]},{body:[{text:"You can use it to "},{text:"compare the size of one company to another",bold:!0},{text:", based on how the market values them."}]},{body:[{text:"Market cap can also help reveal a company's risk profile. ",bold:!0},{text:" Often large-cap stocks (over $10 billion market cap) are less risky than small-cap stocks (less than $2 billion market cap)."}]},{body:[{text:"It can also lead to key questions.  For example, can an upstart with a large market cap grow enough to justify it?  A company's market cap "},{text:"provides insight into how other investors perceive that company.",bold:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."}],metadata:{isCoreContent:!0}},20:{id:20,name:"EPS",heading:"EPS",phraseDisplay:"EPS",type:mI,content:[{body:[{text:"Earnings per share, or EPS, indicates how much "},{text:"profit a company makes for each share",bold:!0},{text:" of stock."}]},{body:[{text:"EPS is calculated by taking a company's profit - its sales minus expenses - divided by the total shares of stock outstanding."}]},{body:[{text:"EPS can sometimes be negative - when a "},{text:"company is unprofitable.",bold:!0}]},{body:[{text:"Since EPS reflects profit for each share, you can compare it to a company's stock share price.  That can help you understand "},{text:"how much earnings power is behind each share",bold:!0},{text:" - and what you're paying for it when you buy a stock."}]},{body:[{text:"Companies typically report their EPS every quarter.",bold:!0},{text:"  Wall Street analysts often estimate what they think it will be. If EPS is higher than estimates, the stock price sometimes goes up.  If it's lower, the stock price sometimes goes down."}]},{body:[{text:"Understanding the "},{text:"drivers of EPS can help you understand how a stock may perform",bold:!0},{text:".  Are there one-time effects or ongoing trends? Do they reflect a company’s industry as a whole or only that company?"}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-is-eps-and-how-can-i-use-it-to-understand-stocks-1d08d9aa54ef",blogPostName:"What is EPS and how can i use it to understand stocks?"},{blogPost:"https://blog.tornado.com/what-are-consensus-estimates-and-why-are-they-important-348f89b2ecf7",blogPostName:"What are consensus estimates and why are they important?"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  EPS is just one of many factors that may affect stock prices.  Not investment advice."}],metadata:{isCoreContent:!0}},21:{id:21,name:"Growth Stocks",heading:"Growth Stocks",phraseDisplay:"growth stocks",type:mI,content:[{body:[{text:"Growth stocks have "},{text:"faster sales and/or earnings growth ",bold:!0},{text:"than the market average."}]},{body:[{text:"They’re often found in "},{text:"innovative sectors ",bold:!0},{text:"like tech, alternative energy, biotech, or financial technology."}]},{body:[{text:"They can be big, household-names like Netflix or Amazon with higher-than-average growth - and the potential to keep growing."}]},{body:[{text:"Growth stocks' prices often "},{text:"reflects investors' expectations that sales or earnings will be significantly higher ",bold:!0},{text:"in the near future. They often have higher Price / Earnings (P/E) and Price / Sales (P/S) ratios."}]},{body:[{text:"Growth stocks may have higher risk too. ",bold:!0},{text:"If growth doesn’t live up to expectations, their stock prices can take a hit."},{text:"Also when interest rates rise, that negatively impacts what many investors are willing to pay for these stocks.",isNewLine:!0}]},{body:[{text:"Keeping an eye on "},{text:"drivers of a company's revenue and earnings growth",bold:!0},{text:", and well as interest rates, can be helpful in assessing how growth stock may perform."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/growth-value-and-cyclical-stocks-deexport constructing-the-market-e08b31915442",blogPostName:"Growth value and cyclical stocks deexport constructing the market"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},22:{id:22,name:"TAM",heading:"TAM",phraseDisplay:"TAM",type:mI,content:[{body:[{text:"Total Addressable Market, or TAM, is the "},{text:"maximum amount of revenue",bold:!0},{text:" a company could possibly generate. It's a key to understanding the upside of fast-growing stocks."}]},{body:[{text:"A company's TAM can indicate "},{text:"how much further growth potential ",bold:!0},{text:"it has."}]},{body:[{text:"If a company had grown fast in the past, but revenue is approaching TAM, that may indicate that "},{text:"growth could slow",bold:!0},{text:" going forward."}]},{body:[{text:"Fast-growing companies with TAMs that are much larger than their current revenue may have "},{text:"significant room to keep growing.",bold:!0}]},{body:[{text:"A company's ability to "},{text:"grow its TAM",bold:!0},{text:" (with new products, use cases, or customers) is sometimes under-appreciated."}]},{body:[{text:"Understanding TAM - and a company's strategy for growing it - is an important way to assess "},{text:"a stock's potential upside.",bold:!0}]}],disclaimers:[{blogPostName:"What is TAM and why is it critical to understanding stocks?",blogPost:"https://blog.tornado.com/what-is-tam-and-why-is-it-critical-to-understanding-stocks-39c44384b436"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."}],metadata:{isCoreContent:!0}},23:{id:23,name:"Insider Transactions",heading:"Insider Transactions",phraseDisplay:"insider transactions",type:mI,content:[{body:[{text:"An insider is an executive, board member or owner of 10%+ of the company. "},{text:"It can be helpful to watch what they do.",bold:!0}]},{body:[{text:'Peter Lynch said, "Insiders might sell their shares for any number of reasons, but '},{text:"they buy for only one: they think the price will rise. ",bold:!0},{text:'"'}]},{body:[{text:'"Corporate insiders are a unique class of traders as they possess '},{text:"the most intimate information",bold:!0},{text:' about a firm," says Dave Pope, MD S&P Capital IQ.'}]},{body:[{text:"There are several ways to follow insider purchases. One is to click "},{text:'"Search Stocks" on Tornado and then "View latest SEC filings"',bold:!0},{text:" at the top of the stock page."}]},{body:[{text:"Keeping track of insider buying and selling ",bold:!0},{text:"can help you build conviction in your investment thesis, risk manage your positions and identify new investments."}]}],disclaimers:[{blogPostName:"Insider Buying: Pay Attention",blogPost:"https://blog.tornado.com/insider-buying-pay-attention-6d3ee3a7a08b"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Stocks bought or sold by insiders may perform better or worse than other stocks.  Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates.  Not investment advice."}],metadata:{isCoreContent:!0}},24:{id:24,name:"Retail",heading:"Retail",phraseDisplay:"retail",type:mI,content:o1,disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},25:{id:25,name:"Consensus Estimates",heading:"Consensus Estimates",phraseDisplay:"consensus estimates",type:mI,content:[{body:[{text:"Consensus estimates are an "},{text:"average of Wall Street analysts' predictions",bold:!0},{text:" of a company's sales or earnings."}]},{body:[{text:"Companies often provide guidance ",bold:!0},{text:"to help analysts arrive at their estimates. Analysts' individual estimates are averaged together to form a consensus estimate."},{text:"Consensus estimates are sometimes called ",isNewLine:!0},{text:'"forward" earnings (or forward sales).',bold:!0}]},{body:[{text:"Consensus estimates are widely published.",bold:!0},{text:" You can find them on company profiles on Tornado, and other sources like the Wall Street Journal and Yahoo Finance."}]},{body:[{text:"When a company reports earnings that exceeds consensus estimates, that can mean things are going "},{text:"better than planned. ",bold:!0},{text:"And falling short can indicate "},{text:"unexpected issues.",bold:!0}]},{body:[{text:"Beating (or missing) consensus estimates doesn't always mean a stock will go up (or down)."},{text:" Sometimes investors may be anticipating that in advance.",bold:!0}]},{body:[{text:"Understanding how and why reported earnings differ from consensus estimates is one key to "},{text:"understanding how a company's prospects are evolving.",bold:!0},{text:" It's a great starting point to ask questions and dig deeper."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-are-consensus-estimates-and-why-are-they-important-348f89b2ecf7",blogPostName:"What are consensus estimates and why are they important?"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Consensus estimates are predictions that may vary widely from realized results.  Stock prices of companies that outperform or underperform estimates may go up or down.  Consensus estimates are just one of many factors to consider when forming an opinion about a stock.  Not investment advice."}],metadata:{isCoreContent:!0}},26:{id:26,name:"Market Indices",heading:"Market Indices",phraseDisplay:"market indices",type:mI,content:l1,disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  It is not possible to invest directly in an index.  Past performance does not guarantee future results."},{text:"Check out the full article: ",link:"https://www.nasdaq.com/education/dow-nasdaq-sp-500%3A-what-does-it-all-mean"},{text:"Check out Nasdaq's Stock Screener",link:"https://www.nasdaq.com/market-activity/stocks/screener"}],metadata:{isCoreContent:!0},sponsorId:1,moreOnTopicUrl:"https://www.nasdaq.com/education/dow-nasdaq-sp-500%3A-what-does-it-all-mean"},27:{id:27,name:"Stocks, Markets & Indices",heading:"Stocks, Markets & Indices",phraseDisplay:"stocks, markets & indices",type:mI,content:c1,disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"Check out the full article: ",link:"https://www.nasdaq.com/education/the-stock-market%3A-where-buyers-and-sellers-meet"}],metadata:{isCoreContent:!0},sponsorId:1,moreOnTopicUrl:"https://www.nasdaq.com/education/the-stock-market%3A-where-buyers-and-sellers-meet"},12:{id:12,name:"Order Types",heading:"Order Types",phraseDisplay:"order types",type:mI,content:a1,disclaimers:[{text:"There is no guarantee that any order will be filled successfully.  For educational purposes only.  Not investment advice."}],metadata:{isCoreContent:!0},sponsorId:1,moreOnTopicUrl:"https://www.nasdaq.com/education/what-is-a-stock-order"},28:{id:28,name:"ESG",heading:"ESG",phraseDisplay:"ESG",type:mI,content:[{body:[{text:'ESG stands for "Environmental, Social, Governance." '},{text:"It's a way of evaluating companies based on principles that go beyond traditional financial considerations.",isNewLine:!0}]},{body:[{text:'The "E" centers on environmental challenges, such as '},{text:"climate change, natural resource erosion, pollution and waste.",bold:!0}]},{body:[{text:'The "S" covers '},{text:"social issues",bold:!0},{text:" - for example, product liability, human rights, stakeholder opposition to labor relations and diversity, equity, and inclusion."}]},{body:[{text:'The "G" relates to governance concerns such as '},{text:"corporate behavior",bold:!0},{text:", a board of directors or executive compensation."}]},{body:[{text:"ESG funds are one way to make investments that are aligned with these principles."}]},{body:[{text:'Many companies have also begun to outline ESG initiatives in annual "Sustainability" reports.'}]}],disclaimers:[{blogPost:"https://blog.tornado.com/esg-how-to-include-social-responsibility-in-your-portfolio-65359dba704",blogPostName:"ESG - How to include social responsibility in your portfolio"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Stocks with high or low ESG scores may perform better or worse than other stocks.  ESG scores are just one of many factors that may affect stock prices.  Not investment advice."}],metadata:{isCoreContent:!0}},29:{id:29,name:"Value Stocks",heading:"Value Stocks",phraseDisplay:"value stocks",type:mI,content:[{body:[{text:"Value stocks are companies that may be "},{text:"trading below what they're actually worth.",bold:!0}]},{body:[{text:"They can be in any industry, but they're often well-established companies versus upstart growth stocks."}]},{body:[{text:"They're sometimes "},{text:"companies that are out of favor",bold:!0},{text:" - for example, due to new competition, growing pains, a change in strategy, or uncertainty about future growth."}]},{body:[{text:"As a result, a value stock's P/E ratio and other valuation metrics tend to be lower than average."},{text:"In other words, ",isNewLine:!0},{text:"they look cheap.",bold:!0}]},{body:[{text:"It's important to understand why their valuations are discounted. "},{text:"Sometimes there are good reasons, which can persist or even worsen.",bold:!0}]},{body:[{text:"Value investors are bargain hunters.",bold:!0},{text:" If the stock recovers over time, it may reward patient investors with gains."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Value stocks may perform better or worse than other stocks.  Valuation metrics are just one of many factors that may affect stock prices.  Not investment advice."},{text:"Read our blog post for more information: ",link:"https://blog.tornado.com/growth-value-and-cyclical-stocks-deexport constructing-the-market-e08b31915442"}],metadata:{isCoreContent:!0}},30:{id:30,name:"Laterals",heading:"Laterals",phraseDisplay:"laterals",type:mI,content:[{body:[{text:"Laterals describe how a stock is affected when there's news about a different company."},{text:"They're ",isNewLine:!0},{text:"ripple effects.",bold:!0}]},{body:[{text:"Investors pay close attention to laterals. "},{text:"They often have ",isNewLine:!0},{text:"significant positive or negative impacts",bold:!0},{text:" on stock prices."}]},{body:[{text:"Lateral effects can be found in "},{text:"stocks that operate in the same business",bold:!0},{text:": for example, Home Depot and Lowe’s."}]},{body:[{text:"Other laterals are less obvious.",bold:!0},{text:" For example, what John Deere says about tractor sales may impact drug company Bayer - because it owns seed company Monsanto."}]},{body:[{text:"How do you identify laterals? Following "},{text:"competitors and companies with similar businesses",bold:!0},{text:" is a great place to start."}]},{body:[{text:"Understanding a company's suppliers and customers also helps.",bold:!0},{text:" They can provide valuable perspective on anticipated demand for a company's products."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/laterals-what-ifs-and-the-importance-of-ripple-effects-7de4c493053c",blogPostName:'Laterals - "What ifs," and the importance of ripple effects'},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Laterals are just one of many factors that may affect stock prices.  Past performance of laterals analysis does not guarantee future results.  Not investment advice."}],metadata:{isCoreContent:!0}},31:{id:31,name:"Investing vs. Trading",heading:"Investing vs. Trading",phraseDisplay:"investing vs. trading",type:mI,content:[{body:[{text:"Investing and trading are sometimes used interchangeably. But there are "},{text:"very important differences.",bold:!0}]},{body:[{text:"Investing involves a long-term focus",bold:!0},{text:", with an emphasis on fundamentals (e.g., sales, profits, valuation) that can drive the value of a company "},{text:"over time.",bold:!0}]},{body:[{text:"Investors focus on whether a company can succeed by "},{text:"growing its sales and/or profitability.",bold:!0},{text:" They may believe a "},{text:"stock's price does not reflect its long-term potential.",bold:!0}]},{body:[{text:"Traders apply a more short-term view.",bold:!0},{text:" They focus on near-term "},{text:"events and dynamics ",bold:!0},{text:"that could cause a stock to go up or down for a "},{text:"shorter period of time.",bold:!0}]},{body:[{text:"While both can be successful, there are studies that suggest "},{text:"excessive trading may lead to under performance",bold:!0},{text:" versus long-term investing."}]},{body:[{text:"Whether you're a trader or an investor there's "},{text:"always more to learn, and more to gain.",bold:!0}]}],disclaimers:[{blogPost:"https://blog.tornado.com/traders-vs-investors-fdb3c616ff7a",blogPostName:"Traders vs. Investors"},{text:"Article on excessive trading in the NY Times.",link:"https://www.nytimes.com/2015/10/03/your-money/a-tax-to-curb-excessive-trading-could-be-a-boon-to-returns.html"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Long-term investing strategies may perform better or worse than short-term trading strategies.  Past performance does not guarantee future results."}],metadata:{isCoreContent:!0}},32:{id:32,name:"S&P 500",heading:"S&P 500",phraseDisplay:"S&P 500",type:mI,content:[{body:[{text:"The "},{text:"S&P 500 ",bold:!0},{text:"is a widely followed index that tracks the performance of the broader US stock market."},{text:" It features 500 companies and covers 80% of the US stock market.",bold:!0}]},{body:[{text:"There are several ETFs, or exchange-traded funds, that follow the S&P 500. One of these is SPY."}]},{body:[{text:"There are "},{text:"11 sectors, or groups of similar stocks",bold:!0},{text:", included in the S&P 500: technology, healthcare, consumer discretionary, energy, utilities, real estate, etc. Technology has the highest representation, utilities and real estate the lowest."}]},{body:[{text:"The S&P 500 is a ‘go-to’ measure for many investors. It's used to "},{text:"understand how the overall market is performing.",bold:!0}]},{body:[{text:"Keeping an eye on the differences between your portfolio's performance and the S&P 500's "},{text:"helps you understand what you're doing well, and what you can do better.",bold:!0}]}],disclaimers:[{blogPost:"https://blog.tornado.com/whats-the-s-p-500-and-what-can-i-learn-from-it-71e99a6c5922",blogPostName:"What's the S&P500, and what can I learn from it?"},{text:"Check out the full fact sheet: ",link:"https://www.spglobal.com/spdji/en/idsenhancedfactsheet/file.pdf?calcFrequency=M&force_download=true&hostIdentifier=48190c8c-42c4-46af-8d1a-0cd5db894797&indexId=340"},{text:"See more on the S&P500 here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500/#overview"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  It is not possible to invest directly in an index.  ETF performance may diverge from that of the underlying index.  Past performance does not guarantee future results."}],metadata:{isCoreContent:!0}},33:{id:33,name:"Investment Goals",heading:"Investment Goals",phraseDisplay:"investment goals",type:mI,content:[{body:[{text:"Investing in stocks is one way to help "},{text:"grow your wealth ",bold:!0},{text:"over time. Yet different people have different needs. "},{text:"Your goals can often inform your investment strategy.",bold:!0}]},{body:[{text:"If your goal is to "},{text:"generate income",bold:!0},{text:", you might consider stocks that "},{text:"pay a dividend.",bold:!0},{text:" Some have grown dividends for 25 consecutive years or more. Dividend stocks can also "},{text:"provide a way for investors to earn during rocky market periods ",bold:!0},{text:"when stock prices may be under pressure."}]},{body:[{text:"If your goal is "},{text:"retirement",bold:!0},{text:", you might consider stocks with "},{text:"long-term growth potential.",bold:!0}]},{body:[{text:"If your goal is to "},{text:"purchase a house soon",bold:!0},{text:", you might consider"},{text:" conservative investments",bold:!0},{text:", which can hold their value. Numerous ETFs (exchange-traded funds) may be worth looking at."}]},{body:[{text:"If your goal is to "},{text:"participate in the overall stock market",bold:!0},{text:", you might consider an "},{text:"index fund such as SPY.",bold:!0}]},{body:[{text:"Exploring stocks on Tornado can help you find "},{text:"investments that can support your own personal goals. ",bold:!0},{text:"There's always more to learn, and always more to gain."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Stocks that pay dividends may perform better or worse than other stocks. Past performance does not guarantee future results.  Not investment advice."}],metadata:{isCoreContent:!0}},34:{id:34,name:"Market Timing",heading:"Market Timing",phraseDisplay:"market timing",type:mI,content:[{body:[{text:"Market timing ",bold:!0},{text:"is when investors try to "},{text:'"buy low and sell high" ',bold:!0},{text:"as a strategy."}]},{body:[{text:"Market timing has limitations.",bold:!0},{text:" Investor Bill Miller noted that, in each year since 1945, the "},{text:"US stock market has gone up approximately 70% of the time.",bold:!0}]},{body:[{text:"In fact, according to a study by the Capital Group, "},{text:"market timing can under perform the broad market by as much as 30% over long periods.",bold:!0}]},{body:[{text:"Given these challenges, experienced investors sometimes emphasize "},{text:'"time in the market, not timing the market"',bold:!0},{text:" as it relates to building long-term wealth."}]},{body:[{text:"Staying invested over the long term can "},{text:"reduce some of the risks related to market timing.",bold:!0}]}],disclaimers:[{blogPost:"https://blog.tornado.com/confused-by-market-swings-consider-dollar-cost-averaging-4b2ffe0fffda",blogPostName:"Confused by Market Swings? Consider Dollar Cost Averaging"},{text:"Bill Miller discussed market timing, including the claim that the US stock market has historically increased in value in 70% of calendar years since World War II, in a recent letter:",link:"https://millervalue.com/bill-miller-3q-2021-market-letter/"},{text:"Capital Group conducted additional studies of hypothetical market timing vs. long-term investing strategies:",link:"https://www.capitalgroup.com/individual/planning/investing-fundamentals/time-not-timing-is-what-matters.html"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Long-term investing strategies may perform better or worse than short-term trading strategies.  Past performance does not guarantee future results."}],metadata:{isCoreContent:!0}},35:{id:35,name:"Stocks and Wealth",heading:"Stocks and Wealth",phraseDisplay:"the relation of stocks and wealth",type:mI,content:[{body:[{text:"Stocks have driven "},{text:"superior wealth creation ",bold:!0},{text:"over time. Since 1928, the S&P 500 index of US stocks has returned 9.8% on average, annually."}]},{body:[{text:"There are "},{text:"multiple ways to invest in stocks",bold:!0},{text:". They include index funds, thematic ETFs and single stocks."}]},{body:[{text:"Index Funds hold portfolios of stocks that "},{text:"track the returns of indices",bold:!0},{text:", such as the S&P 500 or technology, for example. They have fees, though some are modest."}]},{body:[{text:"Thematic ETFs hold portfolios of stocks that might "},{text:"reflect a specific theme",bold:!0},{text:", energy exploration or certain segments related to banking or transportation."}]},{body:[{text:"Single stocks carry higher risk, but you can "},{text:"build a diversified portfolio ",bold:!0},{text:"that reflects your views and investment goals."}]},{body:[{text:"Mutual funds are "},{text:"portfolios of stocks that provide exposure to an industry or theme",bold:!0},{text:"; they have fees, and only 22% beat the S&P 500 over the ten years ending in 2019."}]},{body:[{text:"You can "},{text:"start investing with as little as $5",bold:!0},{text:". If you're not sure where to begin, index funds including the SPY offer broad diversification across US stocks."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Past performance does not guarantee future results."}],metadata:{isCoreContent:!0}},36:{id:36,name:"Comparing Stocks",heading:"Comparing Stocks",phraseDisplay:"ways to compare stocks",type:mI,content:[{body:[{text:"Stocks are stakes in businesses that "},{text:"operate within a large and diverse economy.",bold:!0}]},{body:[{text:"To "},{text:"help investors make sense of the market",bold:!0},{text:", stocks are grouped into "},{text:"11 sectors",bold:!0},{text:". Examples of sectors are Technology and Energy."}]},{body:[{text:"Each sector is made up of "},{text:"companies that share similarities",bold:!0},{text:" in how they drive sales and profits. Each sector also includes a number of sub-sectors."}]},{body:[{text:"What happens with one stock often impacts other stocks in its sector – think of a "},{text:'"domino effect".',bold:!0}]},{body:[{text:"When you look up a stock on Tornado you can see its sector and compare it "},{text:"with its peers",bold:!0},{text:" – it's a great way to understand how a company stacks up."}]},{body:[{text:"Looking at stocks vs their peers "},{text:"can yield valuable insight",bold:!0},{text:". Which is growing fastest? Which has better profitability?"}]}],disclaimers:[{text:"Read more on the Global Industry Classification Standard (GICS) here: ",link:"https://www.investopedia.com/terms/g/gics.asp"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},37:{id:37,name:"Big Tech",heading:"Big Tech",phraseDisplay:"big tech",type:mI,content:[{body:[{text:'"Big tech" refers to '},{text:"premiere technology companies",bold:!0},{text:" in the US and includes Apple (AAPL), Amazon (AMZN), Google (GOOG), and Microsoft (MSFT)."}]},{body:[{text:'Overall, the term "Big tech" can also include companies that are '},{text:"dominant in their field",bold:!0},{text:", such as Netflix (NFLX), Nvidia (NVDA), or Meta (FB)."}]},{body:[{text:"The common thread is the "},{text:"use of technology to drive innovation",bold:!0},{text:": FB and GOOG in ads, AAPL in consumer devices, MSFT in software, and AMZN in e-commerce."}]},{body:[{text:"Another common theme is "},{text:"large market values",bold:!0},{text:". Technology, the broad category or sector, accounts for over 20% of the S&P 500."}]},{body:[{text:'While each company in "big tech" has different drivers and risks, they tend to be at the '},{text:"forefront of trends",bold:!0},{text:" that impact the economy."}]},{body:[{text:'As a result, "Big tech" has also accounted for a large portion of the overall '},{text:"market's performance ",bold:!0},{text:"over the past decade."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},38:{id:38,name:"Interest Rates",heading:"Interest Rates",phraseDisplay:"the impact of interest rates on the market",type:mI,content:[{body:[{text:"Interest rates can have a "},{text:"big impact on economic growth and stock prices.",bold:!0}]},{body:[{text:"For the economy, "},{text:"rising interest rates ",bold:!0},{text:"can make it harder to borrow money, which can "},{text:"decrease business activity",bold:!0},{text:" and reduce economic growth. "},{text:"Falling rates ",bold:!0},{text:"can "},{text:"stimulate growth.",bold:!0}]},{body:[{text:"For investing, "},{text:"higher interest rates can make bonds attractive ",bold:!0},{text:"relative to stocks, causing investment managers to sell stocks and / or buy bonds."}]},{body:[{text:"For stocks, many investors base valuations (the price they're willing to pay today) on projections for future cash flow. "},{text:"Rising interest rates can reduce cash flow projections",bold:!0},{text:"; falling rates can increase cash flow forecasts."}]},{body:[{text:"What drives interest rates? Factors including "},{text:"consumer prices, producer prices, employment, government policy, and GDP",bold:!0},{text:" growth."}]},{body:[{text:"Interest rates can also be "},{text:"influenced by the Federal Reserve",bold:!0},{text:" as it engages in activity designed to raise rates or lower rates."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}],metadata:{isCoreContent:!0}},39:{id:39,name:"Margins",heading:"Margins",phraseDisplay:"margins",type:mI,content:[{body:[{text:"Profitability is a "},{text:"central concept ",bold:!0},{text:"in investing: investors use "},{text:"profit margins",bold:!0},{text:" - how much profit a company makes as a percent of sales - to measure a company's ability to generate earnings."}]},{body:[{text:"The most common measures include "},{text:"gross margin ",bold:!0},{text:"and "},{text:"operating margin; the latter ",bold:!0},{text:"is often referred to as "},{text:"EBIT margin ",bold:!0},{text:"(Earnings Before Interest and Taxes)."}]},{body:[{text:"Gross margin measures the "},{text:"profit the company makes on its core products or services",bold:!0},{text:". It's calculated by dividing gross profit by sales."}]},{body:[{text:"Operating, or EBIT margin, "},{text:"measures profit after adding additional expenses ",bold:!0},{text:"including salaries, marketing, rent and freight. It's found by dividing operating profit by sales."}]},{body:[{text:"Margins should be "},{text:"understood in the context of the business",bold:!0},{text:". Microsoft and Google will have much different margins than Wal-Mart and Target."}]},{body:[{text:"Investors use margins to find "},{text:"best in class operators",bold:!0},{text:", to determine if there's an "},{text:"opportunity to improve, and to identify risks",bold:!0},{text:" that could cause a decline."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Margins are just one of many factors that may affect stock prices.  "}],metadata:{isCoreContent:!0}},40:{id:40,name:"Valuation - Multiples",heading:"Valuation - Multiples",phraseDisplay:"valuation multiples",type:mI,content:[{body:[{text:"A multiple is a "},{text:"simple way",bold:!0},{text:" to assess "},{text:"a stock's valuation",bold:!0},{text:": is it "},{text:'"cheap" or "expensive"?',bold:!0}]},{body:[{text:"A multiple is a company's "},{text:"stock price divided by a metric related to the company",bold:!0},{text:", for example, earnings per share (EPS)."}]},{body:[{text:"Example: If the price of a stock is $20 and it has $2 in earnings per share (EPS), its "},{text:"EPS multiple is 10",bold:!0},{text:", ($20 divided by $2). Said another way, it "},{text:"trades at 10x EPS.",bold:!0}]},{body:[{text:"Another name for a multiple is a ratio",bold:!0},{text:".  An EPS multiple of 10 is the same as a price to earnings ratio (P/E ratio) of 10."}]},{body:[{text:"Multiples can be based on "},{text:"future earnings ",bold:!0},{text:'(sometimes referred to a "forward multiple"). They can also be based on '},{text:"actual historical earnings",bold:!0},{text:' (a "historical multiple").'}]},{body:[{text:"Multiples can be used to "},{text:"compare one stock to another stock",bold:!0},{text:". They can also be used to compare a stock's "},{text:"valuation today ",bold:!0},{text:"with its "},{text:"valuation at a prior period.",bold:!0}]},{body:[{text:"A stock's multiple can also reveal insight into "},{text:"investor perceptions about its growth",bold:!0},{text:". High multiples suggest optimism about growth; low multiples indicate investors may question growth prospects."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Valuation multiples are just one of many factors that may affect stock prices.  Past performance does not guarantee future results."}],metadata:{isCoreContent:!0}},41:{id:41,name:"ESG - Investing",heading:"ESG - Investing",phraseDisplay:"investing in ESG",pages:6,type:mI,content:[{body:[{text:"ESG is growing significantly, and so are the choices for "},{text:"investors who want to align with environmental and social considerations.",bold:!0}]},{body:[{text:"Some predict that "},{text:"ESG assets",bold:!0},{text:" could make up half of all professionally managed investments by 2025."}]},{body:[{text:"ETFs and ‘passive funds’ can be a "},{text:"good place to start",bold:!0},{text:". iShares and Vanguard offer low cost choices that are often "},{text:"widely diversified across stocks.",bold:!0}]},{body:[{text:"You can also "},{text:"target individual companies that have ESG characteristics",bold:!0},{text:", such as Tesla (TSLA), Apple (AAPL), or companies involved in solar energy and other ESG themes."}]},{body:[{text:"One key way to find suitable ESG investments is to review a company's "},{text:"Sustainability Report",bold:!0},{text:" to see if their priorities match your own. These can be found on company websites."}]},{body:[{text:"Independent "},{text:"ESG ratings",bold:!0},{text:" issued by MSCI, Refinitiv, Sustainalytics, and other firms can also help inform ESG selection."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/esg-how-to-include-social-responsibility-in-your-portfolio-65359dba704",blogPostName:"ESG - How to include social responsibility in your portfolio"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  ESG scores are just one of many factors that may affect stock prices.",link:""},{text:"Deloitte projects that half of all professionally managed assets in the US could have an ESG mandate by 2025: ",link:"https://www2.deloitte.com/us/en/insights/industry/financial-services/esg-investing-performance.html"}],metadata:{isCoreContent:!0}},42:{id:42,name:"ESG - Ratings",heading:"ESG - Ratings",phraseDisplay:"ESG ratings",type:mI,pages:7,metadata:{isCoreContent:!0},content:[{body:[{text:"ESG "},{text:"ratings score a company’s commitment",bold:!0},{text:" to three core aspects of ESG: the environment, social issues, and corporate governance."}]},{body:[{text:"Raters use a combination of "},{text:"public information ",bold:!0},{text:"(corporate filings, company updates) and "},{text:"third-party data",bold:!0},{text:" from media, academic, regulatory sources."}]},{body:[{text:"ESG ratings are available from a growing list of companies including MSCI, Refinitiv, Sustainalytics, and S&P."}]},{body:[{text:"ESG ratings have limitations.",bold:!0},{text:" One source may rate a company high on ESG, while another source may rate that same company lower."}]},{body:[{text:"Factors to consider for raters include "},{text:"broad coverage",bold:!0},{text:" across sectors and geographies, "},{text:"methodology, data quality and experience.",bold:!0}]},{body:[{text:"While ESG ratings are useful, they’re not a substitute for "},{text:"doing your own due diligence ",bold:!0},{text:"before you invest."}]},{body:[{text:"One key way to find suitable ESG investments is to review a company's "},{text:"Sustainability Report ",bold:!0},{text:"to see if their priorities match your own. These can be found on company websites."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/esg-how-to-include-social-responsibility-in-your-portfolio-65359dba704",blogPostName:"ESG - How to include social responsibility in your portfolio"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  ESG scores are just one of many factors that may affect stock prices."}]},43:{id:43,name:"Information Technology",heading:"Information Technology",phraseDisplay:"the information technology sector",pages:7,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"The "},{text:"Information Technology sector ",bold:!0},{text:"includes Apple (AAPL), Microsoft (MSFT), Nvidia (NVDA), Adobe (ADBE), Salesforce.com (CRM) and Cisco (CSCO)."}]},{body:[{text:"It also includes companies that "},{text:"rely heavily on technology ",bold:!0},{text:"to operate their businesses, such as Visa (V) and Mastercard (MA)."}]},{body:[{text:"The sector has the "},{text:"highest weighting in the S&P 500",bold:!0},{text:", accounting for 27.1% of the index as of May 31, 2022."}]},{body:[{text:"One reason for that is its breadth; the sector is driven by "},{text:"global corporate spending ",bold:!0},{text:"on information technology (IT), which is over $4.5 trillion/year."}]},{body:[{text:"Corporate IT spending includes a range of "},{text:"ongoing digital initiatives",bold:!0},{text:": e-commerce, connectivity, security, cloud."}]},{body:[{text:"The "},{text:"Nasdaq market ",bold:!0},{text:"features many technology companies, and there are some widely popular ETFs such as the "},{text:"QQQ",bold:!0},{text:" that feature technology stocks."}]},{body:[{text:"Check out IT by using the filters above the feed in-app and looking up "},{text:"specific tickers like XLK ",bold:!0},{text:"with the ticker look-up function (see the magnifying glass icon)."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"Information about the information technology sector and S&P indices is available here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-information-technology-sector"},{text:"Data on corporate IT spending is sourced from Gartner: ",link:"https://www.gartner.com/en/newsroom/press-releases/2022-01-18-gartner-forecasts-worldwide-it-spending-to-grow-five-point-1-percent-in-2022"}]},44:{id:44,name:"Health Care",heading:"Health Care",phraseDisplay:"the health care sector",pages:7,type:mI,metadata:{isCoreContent:!0},content:[{body:[{text:"The "},{text:"health care sector ",bold:!0},{text:"includes Johnson & Johnson (JNJ), UnitedHealth (UNH), Pfizer (PFE), Abbott Laboratories (ABT) and Merck (MRK)."}]},{body:[{text:"The sector has the "},{text:"second highest weighting in the S&P 500",bold:!0},{text:", at 14% as of May 2022; it accounts for a broad swath of economic activity, from hospitals to drugs to surgical procedures."}]},{body:[{text:"The industry is "},{text:"heavily regulated",bold:!0},{text:", so changes to government regulations from the FDA and other overseers can have an outsized impact in this sector."}]},{body:[{text:"Health care revenues are "},{text:"supported by insurance",bold:!0},{text:", so changes there can be a key factor in overall health care spend."}]},{body:[{text:"Another driver for the sector is development of "},{text:"new pharmaceutical treatments, often called pipelines",bold:!0},{text:"; these can be found in investor presentations and SEC filings."}]},{body:[{text:"Trends including "},{text:"telemedicine and remote care ",bold:!0},{text:"could also have broad implications for the sector."}]},{body:[{text:"Check out health care companies by using the ticker look up function (enter ticker like "},{text:"XLV",bold:!0},{text:"in the text field next to the magnifying glass) in Tornado"}]}],disclaimers:[{text:"Check out more info on S&P500 - Health Care Sector",link:" https://www.spglobal.com/spdji/en/indices/equity/sp-500-health-care-sector"},{text:"Check out more info on XLV - Health Care Select Sector SPDR Fund",link:"https://www.ssga.com/us/en/intermediary/etfs/funds/the-health-care-select-sector-spdr-fund-xlv"},{text:"Check out the fact sheet here: ",link:"https://www.spglobal.com/spdji/en/idsenhancedfactsheet/file.pdf?calcFrequency=M&force_download=true&hostIdentifier=48190c8c-42c4-46af-8d1a-0cd5db894797&indexId=340"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},45:{id:45,name:"Consumer Discretionary",heading:"Consumer Discretionary",phraseDisplay:"consumer discretionary",pages:7,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"The "},{text:"consumer discretionary sector ",bold:!0},{text:"includes Amazon (AMZN), Tesla (TSLA), Home Depot (HD), McDonald's (MCD), Nike (NKE), Starbucks (SBUX), Target (TGT), Booking Holdings (BKNG)."}]},{body:[{text:"It's "},{text:"geared to consumer spending",bold:!0},{text:" on US goods and services and comprised 11.8% of the S&P 500 as of February 2022."}]},{body:[{text:"Key drivers for the sector include "},{text:"macro-related factors ",bold:!0},{text:"like housing growth, income, and employment."}]},{body:[{text:"Key measures for the sector include "},{text:"same store sales, active users ",bold:!0},{text:"and e-commerce revenue / profitability."}]},{body:[{text:"Digital trends have "},{text:"reshaped the sector ",bold:!0},{text:"and may play an ongoing role in identifying winners and losers."}]},{body:[{text:"Check out consumer discretionary companies by using the ticker look up function (enter ticker like "},{text:"XLY ",bold:!0},{text:"in the text field next to the magnifying glass) in Tornado"}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "},{text:"Information about the consumer discretionary sector and S&P indices is available here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-consumer-discretionary-sector"},{text:"Check out the full fact sheet here: ",link:"https://www.spglobal.com/spdji/en/idsenhancedfactsheet/file.pdf?calcFrequency=M&force_download=true&hostIdentifier=48190c8c-42c4-46af-8d1a-0cd5db894797&indexId=340"},{text:"See more on S&P 500 Consumer Discretionary Sector here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-consumer-discretionary-sector"},{text:"See more on XLY - Consumer Discretionary Select Sector SPDR Fund here: ",link:"https://www.ssga.com/us/en/intermediary/etfs/funds/the-consumer-discretionary-select-sector-spdr-fund-xly"}]},46:{id:46,name:"Famous Female Investors",heading:"Famous Female Investors",phraseDisplay:"$!Who are some famous female investors",pages:6,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Women outearn men when they invest.",bold:!0},{text:"So why do we only ever hear about what Warren Buffet’s doing in the stock market?",isNewLine:!0},{text:"Here are five famous female investors you need to know.",isNewLine:!0}]},{body:[{text:"Geraldine Weiss",bold:!0},{text:"First female investment advisor, who founded Investment Quality Trends after being turned down for work as a stockbroker for being a woman.",isNewLine:!0},{text:"She was a top investment advisor for more than 60 years.",isNewLine:!0}]},{body:[{text:"Mellody Hobson",bold:!0},{text:"One of Forbes’ 100 Most Powerful Women and co-chair of Ariel Investments.",isNewLine:!0},{text:"She leads projects that teach financial literacy and increase diversity in finance and investing.",isNewLine:!0}]},{body:[{text:"Lubna Olayan",bold:!0},{text:"First Saudi Arabian woman to lead a national bank.",isNewLine:!0},{text:"She’s the CEO of Olayan Group, an investment bank that has helped diversify the Saudi economy and decrease reliance on oil.",isNewLine:!0}]},{body:[{text:"Amy Zhang",bold:!0},{text:"EVP at Alger, Zhang has been honored by The Wall Street Journal and many others for the strong performance of her stock portfolios and her role in business development.",isNewLine:!0}]},{body:[{text:"Lauren Simmons",bold:!0},{text:"Became the youngest woman New York Stock Exchange floor trader at age 22.",isNewLine:!0},{text:"She shares her spending advice on streaming series & at speaking engagements all over the world.",isNewLine:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},47:{id:47,name:"How much to invest",heading:"How much to invest",phraseDisplay:"factored into the decision of how much to invest",pages:6,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"How much should I invest?",bold:!0},{text:"The top question on your mind when you open your first brokerage account.",isNewLine:!0}]},{body:[{text:"15%",bold:!0},{text:"Standard advice is to invest 15% of your pre-tax income for long-term goals like retirement.",isNewLine:!0},{text:"Good news: Your employer’s 401(k) counts toward that amount!",isNewLine:!0}]},{body:[{text:"80%",bold:!0},{text:"Most people should aim to replace 80% of their pre-retirement income for retirement.",isNewLine:!0},{text:"How much you invest now depends on how much you want saved in the long run.",isNewLine:!0}]},{body:[{text:"What if you can't afford 15%?",bold:!0},{text:"Get started investing with any amount you can!",isNewLine:!0},{text:" The earlier the better,",bold:!0},{text:" because time is the best "},{text:"nutrient for growing investments."}]},{body:[{text:"Before investing, ",bold:!0},{text:"pay off high-interest credit card debt and build a three-month emergency fund."}]},{body:[{text:"Consistency is key.",bold:!0},{text:"Regular contributions, instead of occasional lump sum investments, could cost less and help your portfolio grow faster.",isNewLine:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},48:{id:48,name:"Choosing your first investment",heading:"Choosing your first investment",phraseDisplay:"things I should consider when choosing my first investment",pages:6,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Investing is a big milestone!"},{text:"Choosing your first investment doesn’t have to be stressful, so here are some ",isNewLine:!0},{text:"tips to make it easy.",bold:!0}]},{body:[{text:"Diversify",bold:!0},{text:"Consider multiple companies and industries.",isNewLine:!0},{text:"Staking all your money in one business or sector can make you overly vulnerable to crashes.",isNewLine:!0}]},{body:[{text:"Invest in ETFs"},{text:"Exchange-traded funds put your money into several companies at once, with the ease of one purchase.",isNewLine:!0},{text:"An ETF adds instant diversification to your portfolio.",isNewLine:!0,bold:!0}]},{body:[{text:"Track an index",bold:!0},{text:"An ETF or index fund that tracks an index like the S&P 500 puts your money in hundreds of top-performing stocks.",isNewLine:!0},{text:"The S&P 500 has averaged annual returns above 10% for the past 40 years.",isNewLine:!0,bold:!0}]},{body:[{text:"Choose companies you understand. ",bold:!0},{text:"Next, choose individual stocks."},{text:"Stick with companies or industries you know well, like the industry you work in.",isNewLine:!0}]},{body:[{text:"Invest in fractional shares.",bold:!0},{text:" You can invest with any amount of money and own a piece of a share of any company — even the ones with super-pricy shares, like Tesla!"},{text:"Just decide how much you want to invest, and pick your stock.",bold:!0}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},49:{id:49,name:"Portfolios",heading:"Portfolios",phraseDisplay:"portfolios",pages:5,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"What is a portfolio? ",bold:!0},{lineBreak:!0},{text:"An investment portfolio is a conceptual basket that represents the cash, stocks, bonds and other products you own."}]},{body:[{text:"Your portfolio doesn't live within a single product, account or even financial institution. "},{lineBreak:!0},{text:"It’s the total of all your investment products and accounts.",bold:!0}]},{body:[{text:"How do you get a portfolio? ",bold:!0},{lineBreak:!0},{text:"You have a portfolio as soon as you buy an investment. ",bold:!0},{text:"You don’t have to sign up or open an account — because your “portfolio” is just a term that refers to the investments you own."}]},{body:[{text:"Why are portfolios important? ",bold:!0},{text:"Your portfolio is "},{text:"a tool for seeing your full financial picture in one place",bold:!0},{text:" — and following your progress as the value grows!"}]},{body:[{text:"How do investors use portfolios? ",bold:!0},{text:"Check and "},{text:"adjust your portfolio a few times a year ",bold:!0},{text:"to keep its diversity and risk level in line with your goals."},{text:" (i.e. It helps you keep your investments safe and growing.)"}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},50:{id:50,name:"Market Downturns",heading:"Market Downturns",phraseDisplay:"market downturns",pages:6,metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"What is a down market? a.k.a. “bear market” "},{text:"It happens when stock prices broadly have dropped, continue to drop and are expected to continue to drop for some time. ",isNewLine:!0},{text:"Here’s how to weather a market downturn.",bold:!0}]},{body:[{text:"Don't panic. ",bold:!0},{lineBreak:!0},{text:"Investing is a long game. A temporary dip in prices doesn't have to ruin your plans."}]},{body:[{text:"Understand your goals. ",bold:!0},{lineBreak:!0},{text:"They can help you understand how the market dip will affect your plans. "},{lineBreak:!0},{text:"An advisor could help keep you on track for retirement and advise on stocks to help maintain short-term gains."}]},{body:[{text:"Assess your strategy. ",bold:!0},{lineBreak:!0},{text:"Pulling money out of your investment accounts in a down market is a formula for losses. "},{lineBreak:!0},{text:"When stock prices are low, contributing more could lead to benefits when prices go back up. ",bold:!0}]},{body:[{text:"Keep an eye on consumer staples. ",bold:!0},{lineBreak:!0},{text:"We’ll keep buying things like toothpaste, utilities and health care in a slow economy. "},{text:'Investing in these can stabilize your portfolio against volatility. "'}]},{body:[{text:"Look for comparative advantages. ",bold:!0},{lineBreak:!0},{text:"Pick companies that can withstand competition because of their unique brand, cost, user experience or other advantages."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},51:{id:51,name:"Pricing Power",heading:"Pricing Power",phraseDisplay:"pricing power",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Pricing power is a company's ability to "},{text:"raise prices without reducing its demand.",bold:!0},{text:" It's important when considering both "},{text:"competition ",bold:!0},{text:"and "},{text:"inflation.",bold:!0}]},{body:[{text:'Warren Buffett has called pricing power, "'},{text:"the single most important decision ",bold:!0},{text:'in evaluating a business."'}]},{body:[{text:"Pricing power can be reflected in "},{text:"stable and/or improving margins ",bold:!0},{text:"over time, even as new competition enters."}]},{body:[{text:"For example, Berkshire Hathaway's famous "},{text:"See's Candies ",bold:!0},{text:"was for decades (1972-2006) able to pass through an annual 5.8% price increase, even as the industry evolved."}]},{body:[{text:"In 2021, Chipotle raised prices by 8% for a chicken burrito "},{text:"without suffering a reduction in demand and said they could raise prices again.",bold:!0}]},{body:[{text:"Pricing power can also cushion the impact of inflation by allowing a company to offset rising costs as others may suffer margin pressure."}]},{body:[{text:"Check out "},{text:"earnings transcripts ",bold:!0},{text:"for management commentary on pricing, and keep an eye out for posts regarding pricing in pros/cons for specific tickers."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},52:{id:52,name:"10-K",heading:"10-K",phraseDisplay:"10-K",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"The 10-K is an "},{text:"annual report ",bold:!0},{text:"filed by publicly traded companies – it's required by the SEC."}]},{body:[{text:"While it can appear daunting, there's "},{text:"something for every level of investor ",bold:!0},{text:"in a 10-K, from basics on the company's strategy to finer points on cash flow and debt."}]},{body:[{text:"The report has five sections",bold:!0},{text:": Business, Risk Factors, Selected Financial Data, Management Discussion and Analysis, and Financial Statements and Supplementary Data."}]},{body:[{text:'The "Business" section explains '},{text:"what the company does",bold:!0},{text:": its markets, its opportunities, and, usually, its "},{text:"strategy to drive sales and profits.",bold:!0},{text:" It's a must-read."}]},{body:[{text:"The \"Risk Factors\" section lays out risks to the company's industry and business. Some of it's boilerplate, but there are often "},{text:"valuable insights into potential issues.",bold:!0}]},{body:[{text:'"Management Discussion and Analysis" explains '},{text:"what drove recent results ",bold:!0},{text:'and ties to the "Selected Financial Data" section. It\'s a great way to see '},{text:"how the company is executing against its priorities",bold:!0},{text:"."}]},{body:[{text:"Warren Buffett reportedly once said he read 500 pages like this every day, because "},{text:"“That’s how knowledge builds up, like compound interest.”",bold:!0}]}],disclaimers:[{text:"More information about 10-Ks is available from the SEC here: ",link:"https://www.investor.gov/introduction-investing/getting-started/researching-investments/how-read-10-k"},{text:"Warren Buffet quote source: ",link:"https://www.cnbc.com/2018/03/27/warren-buffetts-key-tip-for-success-read-500-pages-a-day.html"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Quotes do not necessarily represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates."}]},53:{id:53,name:"Guidance",heading:"Guidance",phraseDisplay:"guidance",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Company guidance, sometimes referred to as its "},{text:'"outlook,"',bold:!0},{text:" is a company's "},{text:"estimate of its future earnings.",bold:!0}]},{body:[{text:"It's usually provided for a full year and typically updated each quarter; the use of quarterly outlooks is decreasing as companies try to focus on long-term results."}]},{body:[{text:"Guidance can include commentary on "},{text:"projected revenues, profit margins, earnings per share, and capital plans ",bold:!0},{text:"(investments, dividends, and repurchases). Some or all of these may be provided."}]},{body:[{text:"Guidance has a "},{text:"direct impact on consensus earnings estimates",bold:!0},{text:", which play into analysts' price targets."}]},{body:[{text:"Guidance also "},{text:"influences investor perception",bold:!0},{text:" of a company. Can it generate favorable investment returns, or are there growing risks?"}]},{body:[{text:"Company guidance also has "},{text:"ripple effects",bold:!0},{text:": it may be interpreted as an indication of strength – or weakness – "},{text:"for competitors or related companies.",bold:!0}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-is-eps-and-how-can-i-use-it-to-understand-stocks-1d08d9aa54ef",blogPostName:"What is EPS and How Can I Use it to Understand Stocks?"},{blogPost:"https://blog.tornado.com/what-are-consensus-estimates-and-why-are-they-important-348f89b2ecf7",blogPostName:"What are Consensus Estimates and Why are they Important?"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},54:{id:54,name:"ROI",heading:"ROI",phraseDisplay:"ROI",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"How do you measure a stock's performance? One commonly used measure is "},{text:"Return on Investment",bold:!0},{text:", or ROI."}]},{body:[{text:"ROI takes the "},{text:"return ",bold:!0},{text:"of a particular investment and "},{text:"divides that by the cost ",bold:!0},{text:"of the investment."}]},{body:[{text:"If you bought a stock at $10 and it rises to $15, its ROI is 50%. That's "},{text:"how much it rose after you bought it, $5, divided by what it cost, $10",bold:!0},{text:". The calculation is ($15 - $10)/$10."}]},{body:[{text:"ROI does not account for time. ",bold:!0},{text:"So a stock with a 50% ROI over one year may be a better investment than a stock with a 50% ROI over 10 years."}]},{body:[{text:"In addition to "},{text:"measuring stocks",bold:!0},{text:", ROI can be used to compare bonds and/or real estate; it's also widely used by companies to "},{text:"measure investments to generate growth.",bold:!0}]},{body:[{text:"There are a number of "},{text:"profitability measures related to ROI",bold:!0},{text:": these include Return on Assets (ROA), Return on Capital (ROC), Return on Invested Capital (ROIC), Return on Capital Employed (ROCE), and return on equity (ROE)."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-makes-a-good-business-warren-buffett-on-return-on-capital-8763b0a1a858",blogPostName:"What Makes a Good Business? Warren Buffett on Return on Capital"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  ROI and other profitability measures are just one of many factors that may affect stock prices."}]},55:{id:55,name:"Earnings Calls",heading:"Earnings Calls",phraseDisplay:"earnings calls",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Earnings calls are a great way to "},{text:"stay on top of investments",bold:!0},{text:". They're "},{text:"open to everyone",bold:!0},{text:", and they offer key insight into a "},{text:"company's strategy",bold:!0},{text:" and how it's executing against its goals."}]},{body:[{text:"Earnings calls are "},{text:"held quarterly ",bold:!0},{text:"by public companies. The call will include management "},{text:"commentary on recent performance",bold:!0},{text:" as well as their "},{text:"outlook for the future.",bold:!0}]},{body:[{text:"Calls include industry jargon and measures that are specific to each sector, but "},{text:"these can be readily understood with some preparation",bold:!0},{text:" - 10K reports and past calls are useful supplements."}]},{body:[{text:"Company "},{text:"Investor Relations ",bold:!0},{text:"sites have the earnings calendar as well as links to past calls and company presentations. "},{text:"They are also great resources for preparation and ongoing updates.",bold:!0}]},{body:[{text:"Most calls include "},{text:"Q&A with analysts",bold:!0},{text:". This portion "},{text:"highlights key issues ",bold:!0},{text:"and sheds additional light on prospects for near-term and long-term earnings."}]},{body:[{text:"Stocks can be volatile around earnings, so it's important to "},{text:"keep the big picture in mind",bold:!0},{text:". How has "},{text:"the outlook ",bold:!0},{text:"for the business changed?"}]},{body:[{text:"Remember, too, that earnings are not reported in a vacuum. One company's call may have important "},{text:"implications for a related stock",bold:!0},{text:", and vice versa."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/7-ways-to-unlock-value-from-earnings-calls-e67e6c52b27b",blogPostName:"7 Ways to Unlock Value from Earnings Calls"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},56:{id:56,name:"QQQ",heading:"QQQ",phraseDisplay:"QQQ",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"QQQ is a popular exchange-traded fund (ETF) that tracks the "},{text:"technology-focused Nasdaq 100 index",bold:!0},{text:"."}]},{body:[{text:"The Nasdaq 100 includes the 100 "},{text:"largest companies listed on the Nasdaq stock market by market capitalization",bold:!0},{text:"."}]},{body:[{text:"Nearly 50% of QQQ holdings are in the "},{text:"technology sector (as of 9/12/2022)",bold:!0},{text:"; it also includes heavy weightings in "},{text:"consumer stocks ",bold:!0},{text:"(17%) and "},{text:"communications services",bold:!0},{text:" (17%)."}]},{body:[{text:"The QQQ's top holdings include many widely owned stocks, among them "},{text:"Apple, Microsoft, Amazon, and Tesla; ",bold:!0},{text:"as a result, it's often viewed as an ETF that's leveraged to innovation."}]},{body:[{text:"Like many other ETFs, the QQQ provides an "},{text:"effective way to diversify",bold:!0},{text:" across many companies; it also has a "},{text:"low relative cost ",bold:!0},{text:"of ownership versus mutual funds."}]},{body:[{text:"You can learn more about the "},{text:"pros and cons ",bold:!0},{text:"of the QQQ by entering the company ticker in the search field at the top of your dashboard."}]}],disclaimers:[{text:"More information about this topic is available here:",link:"https://www.invesco.com/us/financial-products/etfs/product-detail?productId=QQQ"},{text:"Tornado does not recommend QQQ or any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},57:{id:57,name:"Buying a Stock",heading:"Buying a Stock",phraseDisplay:"buying a stock",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Buying a stock - even a fractional share - can unlock "},{text:"valuable learning opportunities.",bold:!0}]},{body:[{text:"You’ll learn how your stock "},{text:"performs compared to the broad markets",bold:!0},{text:". Does it go up or down by a similar amount… or more?"}]},{body:[{text:"You’ll learn "},{text:"how it reacts to the news",bold:!0},{text:". Does it hold up when the economy is under stress? How does news about the sector impact your stock?"}]},{body:[{text:"You can learn "},{text:"what makes the company tick",bold:!0},{text:". What influences sales and profit? How is its strategy evolving over time?"}]},{body:[{text:"You’ll learn how other investors "},{text:"view the stock’s potential",bold:!0},{text:". How does it react when it reports earnings?"},{text:"What are the issues that drive that, and what was already factored into the stock's price?",isNewLine:!0}]},{body:[{text:"Importantly, "},{text:"you’ll also learn about yourself. Learning to manage emotions,",bold:!0},{text:" especially when the market is volatile, can be a major part of training yourself to make smart investing decisions."}]}],disclaimers:[{text:"Stock investing may not be appropriate for all investors.  Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},58:{id:58,name:"Portfolio Optimization",heading:"Portfolio Optimization",phraseDisplay:"portfolio optimization",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"The Optimizer is unique to Tornado and based on independent, Nobel Prize-winning research.",bold:!0},{text:" Today it’s available on desktop to all accounts with at least a $5 deposit balance. "}]},{body:[{text:"The Optimizer continually identifies allocations that seek out the highest projected returns. "},{text:"Think of it as an advanced co-pilot that can help you target optimal risk/reward.",bold:!0}]},{body:[{text:"In a single click, you can rebalance from your current portfolio to optimized allocations. ",bold:!0},{text:"It’s that simple."}]},{body:[{text:"To access the Optimizer, click the ‘Analysis’ tab on desktop. ",bold:!0},{text:"You’ll see your projected return based on the price targets and other information in your ideas."}]},{body:[{text:"It will not make any trades without your approval, so you are not tied to the results. "},{text:"You can simply view the list of optimized trades and, if you prefer, authorize all trades with one click.",bold:!0}]},{body:[{text:"The Portfolio Optimizer is one of many features designed to help you make more informed investing decisions. Enjoy more intelligent analysis at your fingertips!"}]}],disclaimers:[{text:"The projections or other information generated by the Optimizer function regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results. Information outputted from the Optimizer is not, and is not to be export construed as, a recommendation."},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Please see Tornado’s Terms of Service for more information."},{text:"Terms of Service",link:"https://www.tornado.com/tos"}]},59:{id:59,name:"Your Stock Watchlist",heading:"Your Stock Watchlist",phraseDisplay:"your stock watchlist",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"One way to keep an eye on the ever-fluctuating stock market is by "},{text:"creating your stock watchlist.",bold:!0}]},{body:[{text:"Start by looking up companies and industries that you’re keen to invest in, or want to observe, "},{text:"via the ‘Search’ magnifying icon at the top of your screen.",bold:!0}]},{body:[{text:"Once you’re on a stock ticker page in-app, click the three vertical dots to the right of Buy and Sell and select “Add to Watchlist.” ",bold:!0},{text:"At this point you can choose between “I think it’s going up,” “I think it’s going down,” or “Not sure.”"}]},{body:[{text:'If you\'re on desktop, click the purple "Save ticker to My Ideas" button below the price graph.'}]},{body:[{text:"Revisit your watchlist",bold:!0},{text:'In-app, click the "Portfolio" icon on the bottom bar ',isNewLine:!0,bold:!0},{text:"and scroll down to see your watchlist tickers with current price and daily change."}]},{body:[{text:"On desktop, click the “My Ideas” icon on the left-hand sidebar.",bold:!0},{text:" Here you can see the current price, daily change, your expected return, and the ability to include or exclude from the Portfolio Optimizer."}]},{body:[{text:"Tornado provides personalized news about the stocks you’re most interested in. It’s one of many features designed to help you make more informed investing decisions."}]}],disclaimers:[{text:"Stock investing may not be appropriate for all investors.  Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},60:{id:60,name:"Pros & Cons",heading:"Pros & Cons",phraseDisplay:"pros & cons",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Pros and Cons are a great way to give your connections feedback on their stock ideas, and to get their feedback on your ideas. ",bold:!0},{text:"They are short, 250-character comments that other users can agree or disagree with.",isNewLine:!0}]},{body:[{text:"The page for each stock has a section for Pros and Cons from the community. "},{text:"You can also read the latest thoughts from your network in your Activity feed.",bold:!0}]},{body:[{text:"You can write a simple text comment for a Pro or a Con, and you can also add in a specific source/link to discuss. "}]},{body:[{text:"You can let your connections and the Tornado community know about news, opinions, press releases, or any other information that you think might affect stock prices. ",bold:!0}]},{body:[{text:"Paste a link, along with your comment, directly in the text box when you’re adding the Pro or Con."}]},{body:[{text:"Who can see my Pro/Con? ",bold:!0},{text:"Your connections can see that you’ve posted a Pro/Con, and other members of the community will be able to see it, but they won’t see your name."}]}],disclaimers:[{text:"Pros and cons are not recommendations of any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},61:{id:61,name:"In-app Audio",heading:"In-app Audio",phraseDisplay:"in-app audio",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"As the stock market continues to shift, you can "},{text:"stay in the know with Tornado audio content! ",bold:!0},{text:"This commentary comes directly from Tornado’s Community Thought Leaders (CTLs)."}]},{body:[{text:"Our CTLs are Wall Street veterans with "},{text:"nearly 50 years of combined experience analyzing and investing in the markets.",bold:!0}]},{body:[{text:"You can also find interviews on a "},{text:"wide range of cool topics, ",bold:!0},{text:"from how to build a stock portfolio to what’s happening in China."}]},{body:[{text:"Level up your investing education with Tornado audio. You can find the latest audios next to the Learn & Earn icon in-app. "}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "}]},62:{id:62,name:"Women-led companies",heading:"Women-led companies you can invest in",phraseDisplay:"$!What are some women-led companies you can invest in?",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"There are several women-led companies you may be interested in adding to your portfolio. "},{text:"Let’s take a look at a few of the women steering companies that are doing big things.",bold:!0}]},{body:[{text:"CVS (CVS) Karen Lynch - President & CEO",bold:!0},{lineBreak:!0},{text:"Lynch has three decades of experience in the healthcare industry and has been named among Fortune’s Most Powerful Women in Business. "},{text:"She’s helping CVS work toward its mission to make healthcare simpler, more convenient, and more personalized.",bold:!0}]},{body:[{text:"United Parcel Service, Inc. (UPS) Carol Tome - CEO",bold:!0},{lineBreak:!0},{text:"Tome has been CEO and director of UPS since June, 2020. Prior to that, she served as Chief Financial Officer of Home Depot, Inc. from 2001 to 2019, and as Executive Vice President of Corporate Services from 2007 to 2019."}]},{body:[{text:"At UPS, Tome is driving a customer-first, people-led, innovation-driven strategy to transform nearly every aspect of its business over the next several years."}]},{body:[{text:"Walgreens Boots Alliance (WBA) Rosalind Brewer - CEO",bold:!0},{lineBreak:!0},{text:"Brewer was appointed CEO in March 2021, and "},{text:'USA Today referred to her as "one of corporate America\'s most prominent women and black female executives." ',bold:!0},{text:"She previously served as group president and COO of Starbucks, and CEO of Sam’s Club."}]},{body:[{text:"The Hershey Co. (HSY)  Michele Buck - CEO ",bold:!0},{lineBreak:!0},{text:"In March 2017, Buck became the first female Chairman, President, and CEO of The Hershey Company. Upon becoming CEO, Buck “saw an opportunity for us to dial up our agility and our risk-taking so that we could better seize opportunities.” "}]},{body:[{text:"Buck is focused on growing HSY’s portfolio of brands and investing in capabilities and its workforce to differentially capture growth opportunities in new and existing categories. "}]},{body:[{text:"Citibank (C) Jane Fraser - CEO",bold:!0},{lineBreak:!0},{text:"Fraser is the first female CEO in the firm’s history. In a volatile market, "},{text:"she steered Citi to ",bold:!0},{text:"first-quarter earnings (2022) of over $4 billion.",bold:!0}]},{body:[{text:"Fraser continues to lead Citi’s strategic business transformation, with a focus on digital upgrades and simplification."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"",link:"https://cabotwealth.com/daily/growth-stocks/public-companies-run-by-women-homage-ginsburg/"},{text:"",link:"https://www.cvshealth.com/news-and-insights/press-releases/meet-our-new-ceo-karen-s-lynch"},{text:"",link:"https://hbr.org/2022/04/hershey-ceo-michele-buck-on-empowering-internal-change-agents"},{text:"",link:"https://www.citigroup.com/citi/about/leaders/jane-fraser-bio.html"},{text:"",link:"https://www.usatoday.com/story/news/2019/02/04/amazon-names-starbucks-exec-rosalind-brewer-first-black-board-member/2769779002/"}]},63:{id:63,name:"Tornado’s Values",heading:"Tornado’s Values",phraseDisplay:"$!What are Tornado’s Values?",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Thank you for being part of the Tornado community. "},{text:"We’re here to support you with tools, education, and community",bold:!0},{text:" to help you make more informed investing decisions."},{lineBreak:!0},{text:"We have a few core values that underscore our commitment to helping you become a more confident investor. "}]},{body:[{text:"Money is deeply personal. ",bold:!0},{lineBreak:!0},{text:"Everyone’s investing story is unique. "},{text:"No one starts from the same place. ",bold:!0},{lineBreak:!0},{text:"We use the power of community and approachable content to meet every investor where they are now, and get them where they want to go. "}]},{body:[{text:"Learning to make smart, long-term investments is life-changing. ",bold:!0},{lineBreak:!0},{text:"With a focus on personalized investing education, Tornado helps investors of any background build confidence in their skills – and create the foundation for their financial future."}]},{body:[{text:"Everyone can achieve financial wellness.",bold:!0},{lineBreak:!0},{text:"You don’t have to be a genius to become an intelligent investor. "},{text:"With equitable resources and  a supportive community, everyone is capable of making smarter investing decisions. ",bold:!0}]},{body:[{text:"The investing revolution demands transparency.",bold:!0},{lineBreak:!0},{text:"Tornado’s "},{text:"business model supports investors by raising your financial acumen and sharpening your understanding of the concepts that drive long-term performance.",bold:!0}]},{body:[{text:"No matter where you’re starting from, Tornado is committed to helping you achieve your financial goals."},{text:" Invest in yourself and we will, too. ",bold:!0}]}],disclaimers:[{text:"Stock investing may not be appropriate for all investors. Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."}]},64:{id:64,name:"Exclusive Tornado Perks",heading:"Exclusive Tornado Perks",phraseDisplay:"$!What are the exclusive Tornado perks?",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Every Tornado member has access to powerful "},{text:"tools, personalized financial education, and an engaging community ",bold:!0},{text:"to help you make more informed investing decisions."},{lineBreak:!0},{text:"Let’s take a look at a few of your perks. "}]},{body:[{text:"Personalized Financial Education",bold:!0},{lineBreak:!0},{text:"You can earn cash to invest when you sharpen your financial skills through our Learn & Earn program. Apply your knowledge as you build your portfolio and receive new lessons daily!"}]},{body:[{text:"A direct line to former Wall Street Analysts ",bold:!0},{lineBreak:!0},{text:"Have a question about a particular stock? Touch base with one of our Community Thought Leaders (people who have worked for some of the biggest names on Wall Street) and tap into their perspective."}]},{body:[{text:"Portfolio Optimization ",bold:!0},{lineBreak:!0},{text:"Available on desktop to all accounts with at least a $5 deposit, Tornado’s Portfolio Optimizer is based on independent, Nobel Prize-winning research. In a single click, "},{text:"it identifies allocations that seek out higher projected returns. ",bold:!0}]},{body:[{text:"Pros and Cons from the Tornado Community",bold:!0},{lineBreak:!0},{text:"Use Tornado’s Pro/Con feature to get a temperature check on the latest stock news, or check out the “Collective Intelligence” tab to see what other Tornado investors are investing in. "}]},{body:[{text:"Wherever you are on your investing journey, we’re here to support you every step of the way."}]}],disclaimers:[{text:"There is no guarantee that an optimized portfolio will exhibit higher returns, lower volatility, or other improved characteristics relative to a portfolio that has not been optimized.  Please see Tornado’s Terms of Service for important information and disclosures regarding optimization and the Optimizer tool."},{text:"Tornado’s Optimizer is based in part on the concept of Modern Portfolio Theory, which was pioneered by the economist Harry Markowitz in 1952 and for which he was awarded a Nobel Prize in Economics."},{text:"Please read the Learn & Earn program rules for important information and disclosures."},{text:"Terms of Service",link:"https://www.tornado.com/tos"},{text:"Learn & Earn Program Rules",link:"https://www.tornado.com/learn-and-earn-rules"}]},65:{id:65,name:"Habits of Successful Investors",heading:"Habits of Successful Investors",phraseDisplay:"habits of successful investors",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Successful investors will tell you there’s always more to learn. Here are three things you can do to stay sharp."}]},{body:[{text:"Brush up on your knowledge. ",bold:!0},{lineBreak:!0},{text:"Tornado will give you cash to invest when you complete your daily Learn & Earn lessons. The content is tailored to your skill level — how cool is that?"}]},{body:[{text:"Gain high-quality wisdom.",bold:!0},{lineBreak:!0},{text:"On Tornado you can ask Community Thought Leaders (people who have worked with some of the biggest names on Wall Street) about any stock and tap into their perspective."}]},{body:[{text:"Engage with the right community. ",bold:!0},{lineBreak:!0},{text:"Use Tornado’s Pro/Con feature to get a temperature check on the latest stock news, or check out the “Collective Intelligence” tab to see what other Tornado investors are investing in. "}]},{body:[{text:"Start building a portfolio you believe in. Tornado is here to support you along the way."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."}]},66:{id:66,name:"How We Support Your Investing Journey",heading:"How We Support Your Investing Journey",phraseDisplay:"$!Let's get started!",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Excessive trading. Groupthink. Hoping to strike gold. "},{lineBreak:!0},{text:"While a small few may get lucky, informed "},{text:"long-term investing remains a tried and true method of building wealth.",bold:!0}]},{body:[{text:"Tornado’s sustainable business model allows us to deliver an experience that serves you for the long haul."},{text:" Here’s our promise to you:",bold:!0}]},{body:[{text:"We don’t encourage excessive trading. ",bold:!0},{lineBreak:!0},{text:"Instead, we’ll give you free cash to invest when you continue your financial education through our "},{text:"Learn & Earn ",bold:!0},{text:"program. "}]},{body:[{text:"You’ll have access to a community of engaged learners *and* Wall Street veterans. ",bold:!0},{lineBreak:!0},{text:"When you ask our professionals about a stock, "},{text:"you’ll gain wisdom informed by experience.",bold:!0}]},{body:[{text:"Your learning content is personalized to your skill level.",bold:!0},{lineBreak:!0},{text:"Daily financial lessons, audio interviews, and in-feed content meet you where you’re at, no matter where you’re starting from."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"Please read the Learn & Earn program rules for important information and disclosures."},{text:"Learn & Earn Program Rules",link:"https://www.tornado.com/learn-and-earn-rules"}]},67:{id:67,name:"Meet our CTLs",heading:"Meet our CTLs",phraseDisplay:"$!Who are the CTLs? (Community Thought Leaders)",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"CTL is an abbreviation for "},{text:'"Community Thought Leader." ',bold:!0},{text:"CTLs have "},{text:"professional investment experience, ",bold:!0},{text:"which means they've worked at "},{text:"investment banks, mutual funds and/or hedge funds. ",bold:!0}]},{body:[{text:"Tornado's CTLs bring "},{text:"over five decades of collective investing experience ",bold:!0},{text:"to the platform. You'll find their work in "},{text:"pro and con posts ",bold:!0},{text:"on specific stocks and in "},{text:"blogs, audios, and the Learn & Earn ",bold:!0},{text:"feature."}]},{body:[{text:"Meet Won",bold:!0},{lineBreak:!0},{text:"Won has over ten years of experience working for an "},{text:"asset manager ",bold:!0},{text:"that had $2 billion in AUM. While there, he covered the "},{text:"industrial and financial services sectors ",bold:!0},{text:"as well as "},{text:"macro-related topics.",bold:!0}]},{body:[{text:"Meet Jeff",bold:!0},{lineBreak:!0},{text:"Jeff is a former "},{text:"stock research analyst ",bold:!0},{text:"for Citigroup and Barclays who focused on the "},{text:"retail and consumer sectors. ",bold:!0},{text:"He's also served as a financial and "},{text:"investor relations consultant ",bold:!0},{text:"for US-listed companies."}]},{body:[{text:"Meet Tony",bold:!0},{lineBreak:!0},{text:"Tony has over twenty years of Wall Street investing experience. He has worked for investment banks in both "},{text:"equity research and trading ",bold:!0},{text:"as well as several long/short hedge funds as both an "},{text:"analyst and portfolio manager.",bold:!0}]},{body:[{text:'Posts on stocks are labeled "Community Thought Leader" and show up in the feed. You can '},{text:"find all CTL posts on a given stock ",bold:!0},{text:'by selecting a ticker and filtering Pro/Con results by "Show from Community Thought Leader." '}]},{body:[{text:"You can also get their "},{text:"most updated thoughts on stocks ",bold:!0},{text:"via our "},{text:'"Ask a CTL" feature ',bold:!0},{text:'which is available in two forms: in-app or desktop navigation or via the "Ask Someone" button (below the performance graph on a stock ticker page).'}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  CTL content is not a recommendation or investment advice."}]},68:{id:68,name:"Amazon",heading:"Amazon",phraseDisplay:"$!Let's take a closer look at the Amazon stock.",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Great investors do their homework, and that includes "},{text:"knowing what makes a company tick. ",bold:!0},{text:"Let's take a closer look at "},{text:"Amazon (AMZN)",bold:!0},{text:"."}]},{body:[{text:"In 2021, AMZN generated $469.8 billion in revenue. "},{text:"87% was from e-commerce",bold:!0},{text:": product sales, third-party seller fees, and Amazon Prime membership fees."}]},{body:[{text:"The other 13% of revenue was from "},{text:"Amazon Web Services ",bold:!0},{text:"or AWS; That's Amazon's cloud platform (businesses essentially rent computing power, databases, and analytical tools from Amazon)."}]},{body:[{text:"While its revenues are smaller, AWS is growing significantly faster (38% last year) than the e-commerce business, and it's more profitable."},{lineBreak:!0},{text:"In 2021, "},{text:"AWS accounted for approximately 75% ",bold:!0},{text:"of the company's overall "},{text:"operating income, despite being only 13% of revenue.",bold:!0}]},{body:[{text:"That's why it's important to "},{text:"monitor both AWS and e-commerce ",bold:!0},{text:"and how each may influence AMZN's earnings. You can learn more about AMZN on "},{text:"Tornado's Pros and Cons, ",bold:!0},{text:"as well as its investor presentations and SEC filings."}]}],disclaimers:[{text:"Tornado does not recommend AMZN or any other specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"Sources:"},{text:"",link:"https://s2.q4cdn.com/299287126/files/doc_financials/2021/q4/f965e5c3-fded-45d3-bbdb-f750f156dcc9.pdf "},{text:"",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/1018724/000101872422000005/amzn-20211231.htm"}]},69:{id:69,name:"Losses",heading:"Losses",phraseDisplay:"$!What you can do when your stock is down.",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"What can you do when a stock you own is "},{text:"down 10%, 20%, or even 50%?",bold:!0}]},{body:[{text:"When a stock index like the S&P 500 is down 10% that's called a correction. Historically this has happened "},{text:"about once every two years. ",bold:!0},{text:"Since the S&P is a broadly diversified measure that includes a subset of US stocks, corrections may occur more frequently for individual stocks."}]},{body:[{text:"The first thing to do is homework: "},{text:"is the company's strategy still sound, ",bold:!0},{text:"or are there "},{text:"new threats? ",bold:!0},{lineBreak:!0},{text:"Has its outlook changed? Are the "},{text:"issues fixable",bold:!0},{text:", or do you believe are they likely to "},{text:"persist",bold:!0},{text:"?"}]},{body:[{text:"If you still like the stock, it's okay to "},{text:"do nothing. ",bold:!0},{text:"You can also buy more shares, which can lower your cost per share. If the business is still sound, the stock may come back."}]},{body:[{text:"If you no longer like the stock, you can sell."},{text:" Losses are a normal part of investing. ",bold:!0},{text:"The goal is to make sure your portfolio always reflects what you think will happen going forward."}]},{body:[{text:"You may also want to consider alternatives. Is there "},{text:"another stock with a more favorable outlook ",bold:!0},{text:"(or an ETF that provides more diversification) that would be a "},{text:"better use of your capital?",bold:!0}]},{body:[{text:"Check out Tornado audio interviews, and in-feed content for more on how to think about losses, diversification, and ETFs. "}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"Source: ",link:"https://www.forbes.com/advisor/investing/stock-market-correction/"}]},70:{id:70,name:"What You Can Learn From Buying a Stock",heading:"What You Can Learn From Buying a Stock",phraseDisplay:"$!Let's get started!",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Let’s start with a basic question: "},{text:"what can I learn from buying a stock? ",bold:!0},{text:"For some, it’s a simple matter of profit or loss."},{lineBreak:!0},{text:"But, if you look deeper, there’s a whole world that can open up",bold:!0},{text:" – one that holds valuable lessons – lessons that build upon themselves. "}]},{body:[{text:"Consider this: "},{lineBreak:!0},{text:"You’ll learn how your stock relates to the broad markets. ",bold:!0},{text:"Does it go up or down a similar amount? More? "},{lineBreak:!0},{text:"You’ll learn how it reacts to the news. ",bold:!0},{text:"Does it hold up when there’s an oil shock? How about an interest rate hike? Or a broad market selloff?"}]},{body:[{text:"You’ll learn what makes the company tick. ",bold:!0},{text:"What influences its sales and profit? What’s its strategy…and how is that changing over time?"},{lineBreak:!0},{text:"You’ll learn about management. ",bold:!0},{text:"Do they set targets they can hit? Are they doing what they say they will?  "}]},{body:[{text:"You’ll learn how other investors view the stock’s potential. ",bold:!0},{text:"How does it react to earnings? What are the issues that drive that?"},{lineBreak:!0},{text:"You’ll learn about the competitive landscape. ",bold:!0},{text:"How does company X influence company Y? "}]},{body:[{text:"Finally, you’ll learn about yourself. ",bold:!0},{text:"How comfortable are you taking risk? How does a rise or fall in the price affect you emotionally? "}]},{body:[{text:"These aren’t abstract concepts. They’re cues and intel that investors use every day. "},{lineBreak:!0},{text:"And one stock can acquaint you with all of it.",bold:!0}]}],disclaimers:[{text:"Stock investing may not be appropriate for all investors.  Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},71:{id:71,name:"Moats",heading:"Moats",phraseDisplay:"Moats",metadata:{isCoreContent:!0},type:mI,content:[{body:[{text:"Long-term investors often look for 'moats' that can "},{text:"support sales and profit ",bold:!0},{text:"for long periods of time."}]},{body:[{text:"Moats are "},{text:"comparative advantages ",bold:!0},{text:"that in some way enable a company to withstand competition from its peers."}]},{body:[{text:"Warren Buffett has argued that, in his opinion, "},{text:"a good business must have a moat ",bold:!0},{text:'that can "protect a terrific economic castle." '}]},{body:[{text:"Moats can take a variety of forms, ranging from "},{text:"brand recognition ",bold:!0},{text:"(as with long-time Buffett investments AXP and KO) to "},{text:"low-cost leadership ",bold:!0},{text:"(as in Buffett's own business, Geico)."}]},{body:[{text:"Strong comparative advantages are "},{text:'"wide" ',bold:!0},{text:"– not easily overcome – and "},{text:'"long-lasting"',bold:!0},{text:" – durable for many years."}]},{body:[{text:"You "},{text:"can monitor a company’s fundamentals (profit margins and sales growth) ",bold:!0},{text:"in Tornado to determine its comparative advantage."}]}],disclaimers:[{text:"Quotes are for educational purposes only and may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates. Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."},{text:"Source: ",link:"https://blog.tornado.com/what-makes-a-good-business-warren-buffett-on-apple-inc-b6039e5b04ae"}]},72:{id:72,name:"Apple",heading:"Apple",phraseDisplay:"$!Let's take a closer look at the Apple Inc. stock.",metadata:{isCoreContent:!0,extraContent:{type:wI,id:286,message:"Check out the AAPL (Apple Inc.) stock page to see more pro/cons."}},type:mI,content:[{body:[{text:"Apple is famous for selling iPhones, Macs and iPads, so "},{text:"it would be easy to believe that Apple is essentially a hardware company",bold:!0},{text:" - a company that sells physical goods. "}]},{body:[{text:"However, "},{text:'Apple also has a "Services" business. ',bold:!0},{text:"It's largely comprised of the App store, but also includes advertising, AppleCare, cloud, digital content, payment, and other services."}]},{body:[{text:'The "Services" business comprises ~20% of revenue. That may not sound like a lot, but it is growing at over 20% each year. Meanwhile, its hardware business is growing at closer to 10% each year. '}]},{body:[{text:"That’s appealing to investors because services are more profitable than hardware. As Apple continues to shift its revenue more toward services, it is possible that that part of the business brings up the overall multiple that is paid for Apple stock. "},{lineBreak:!0},{text:"At the same time, Apple needs to fend off competitors such as Android phones."}]},{body:[{text:'Take a look at Pros and Cons regarding Apple stock by looking up AAPL in the search field. Want to know why Warren Buffett likes Apple? Check out our blog post in the "More Info" section below.'}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-makes-a-good-business-warren-buffett-on-apple-inc-b6039e5b04ae ",blogPostName:"What Makes a Good Business? Warren Buffett on Apple Inc."},{text:"Tornado does not recommend AAPL or any other specific stocks, ETFs, or investment strategies.  Not investment advice."}]},73:{id:73,name:"2022 Themes",heading:"2022 Themes",phraseDisplay:"$!Let's take a closer look at the themes from 2022.",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"As always, it’s important to monitor themes that emerge through "},{text:"corporate earnings cycles.",bold:!0},{lineBreak:!0},{text:"Some of these may have "},{text:"long-term ramifications for earnings",bold:!0},{text:", while others can reveal "},{text:"clues about future economic growth",bold:!0},{text:". Let’s look at a few from 2022."}]},{body:[{text:"Inflation",bold:!0},{lineBreak:!0},{text:"Many corporations "},{text:"expect inflation to last well into 2023",bold:!0},{text:". In third-quarter 2022, the CEO of retailer Tractor Supply (TSCO) said he could not envision a scenario in which the company could see deflation in 2023. "},{lineBreak:!0},{text:"The inflation issue is impacting a wide swath of industries.",bold:!0}]},{body:[{text:"Pricing",bold:!0},{lineBreak:!0},{text:"Some companies are generating "},{text:"sales growth that is largely dependent on higher pricing",bold:!0},{text:". Volumes have been lower for much of the "},{text:"industrial sector",bold:!0},{text:" and traffic and transactions have remained low for much of the "},{text:"consumer and retail sector. ",bold:!0}]},{body:[{text:"A drop in pricing power could be hard for volume/traffic to offset."}]},{body:[{text:"Europe",bold:!0},{lineBreak:!0},{text:"Amazon, Honeywell, and Caterpillar have discussed "},{text:"slowing growth in Europe",bold:!0},{text:" in the second half of 2022; Coca-Cola said it’s seen consumers adopt “recessionary behavior” in Europe, with growth in private labels and changes to mix preferences and channels."}]},{body:[{text:"Big Tech",bold:!0},{lineBreak:!0},{text:"The third quarter in particular has flipped the script on growth generals Meta, Amazon, Microsoft, and Google, all of which said"},{text:" revenue trends had slowed",bold:!0},{text:". That’s a stark difference with second-quarter 2022, and it’s fueling concern about a broader slowdown in tech."}]},{body:[{text:"Housing",bold:!0},{lineBreak:!0},{text:"Third-quarter data points have revealed a "},{text:"softer market as mortgage rates rise.",bold:!0},{lineBreak:!0},{text:"New home sales tumbled 11% month over month in September and pending home sales declined 10%. Homebuilder Pulte Homes (PHM) noted a slowdown in demand in October."}]},{body:[{text:"You can find more on these and other trends in the Pros and Cons in the Tornado Feed and in our weekly audios."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},74:{id:74,name:"Inflation Measure: PCE",heading:"Inflation Measure: PCE",phraseDisplay:"$!What is the inflation measure, PCE index?",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Keeping inflation under control is one of the key mandates of the "},{text:"US Federal Reserve",bold:!0},{text:", and inflation is closely followed by investors."}]},{body:[{text:"After the CPI (Consumer Price Index), a "},{text:"second commonly cited measure of inflation is the PCE index",bold:!0},{text:" (also known as the PCE deflator). It’s also the Fed’s preferred measure of inflation."}]},{body:[{text:"PCE stands for personal consumption expenditures and "},{text:"encompasses the things (aka, goods and services) you buy",bold:!0},{text:": cars, furniture, electronics, and clothing, among others. "},{lineBreak:!0},{text:"It’s significant because consumption comprises the largest portion of GDP. "}]},{body:[{text:"How is it different from CPI (Consumer Price Index)? One key difference is the data sources, as the two use different surveys. "},{lineBreak:!0},{text:"The"},{text:" CPI is based on a survey of what households are purchasing",bold:!0},{text:", while the "},{text:"PCE is based on what businesses are selling.",bold:!0}]},{body:[{text:"Another is that the two measures include different items in their respective baskets. The CPI only includes out-of-pocket expenditures on goods and services, while "},{text:"PCE includes expenditures that are not paid for directly",bold:!0},{text:"."},{lineBreak:!0},{text:"For example, medical care paid by Medicare or Medicaid."}]},{body:[{text:"Services comprise the largest portion of PCE and grew faster than its other main components from 1995–2020. "},{lineBreak:!0},{text:"Factors that could influence inflation in services, which include"},{text:" labor availability and wages",bold:!0},{text:", are important to monitor over time."}]},{body:[{text:'For a more in-depth discussion of the PCE, check out our blog post (link in the "MORE INFO" section below).'},{lineBreak:!0},{text:"You can also view Pros and Cons relating to inflation and the overall economy by looking up tickers like SPY on Tornado. "}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-to-assess-inflation-part-ii-pce-439fb02a845b",blogPostName:"How to Assess Inflation: Part II, PCE"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "},{text:"CPI and PCE data sources:",link:"https://www.bls.gov/cpi/"},{text:"",link:"https://www.bea.gov/data/personal-consumption-expenditures-price-index"}]},75:{id:75,name:"Google, Inc.",heading:"Google, Inc.",phraseDisplay:"$!Let's take a closer look at the Google, Inc. stock.",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Alphabet Inc. (GOOG), the parent company of Google, is a US technology company that "},{text:"operates a premiere search engine",bold:!0},{text:" as well as a range of businesses from cloud computing to YouTube to autonomous driving."}]},{body:[{text:"Alphabet generates the bulk of its revenue from Google Search, which gets money from ad sales. "},{lineBreak:!0},{text:"However, Search is 60% of overall revenue, which means "},{text:"Alphabet generates 40% of revenue from other sources",bold:!0},{text:"."}]},{body:[{text:"YouTube ",bold:!0},{text:"ads account for nearly 10% of revenue, while "},{text:"Google Network ",bold:!0},{text:"accounts for nearly 12% of revenue. Google Network includes revenue from AdMob, AdSense, and Google Ads Manager."}]},{body:[{text:"Perhaps less well-known is that Alphabet is generating a significant amount of revenue from its cloud business. "},{text:"Google Cloud accounts for 8.5% of revenue ",bold:!0},{text:"and is growing rapidly - at nearly 2X the growth rate of the overall company. "}]},{body:[{text:"Cloud is not profitable as of 2022, but over time, Google Cloud could comprise an increasingly larger part of Alphabet's overall revenue mix and ultimately, its profit mix. "},{lineBreak:!0},{text:"Meanwhile, other businesses that currently do not generate profit, such as "},{text:"autonomous driving",bold:!0},{text:", could ultimately be important."}]},{body:[{text:"Given its prominence in search, "},{text:"regulatory issues are important to monitor",bold:!0},{text:", and Alphabet has faced a number of challenges from US and European regulators related to its search practices."},{lineBreak:!0},{text:"Its involvement across many other businesses also makes "},{text:"monitoring the competitive landscape ",bold:!0},{text:"important.  "}]},{body:[{text:"Check out community Pros and Cons of Alphabet in Tornado. Just enter the ticker "},{text:"GOOG",bold:!0},{text:" in the text field next to the magnifying glass. "}]}],disclaimers:[{text:"Tornado does not recommend GOOG, GOOGL or any specific stocks, ETFs, or investment strategies.  Not investment advice. "},{text:"Alphabet revenue data source (Alphabet 2021 10-K report):",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/1652044/000165204422000019/goog-20211231.html"}]},76:{id:76,name:"Inflation Measure: CPI",heading:"Inflation Measure: CPI",phraseDisplay:"$!What is the inflation measure, CPI index?",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Inflation is an "},{text:"increase in the price of goods and services",bold:!0},{text:" that can erode company cash flows and consumers' standard of living over time. "},{lineBreak:!0},{text:"One of the "},{text:"mandates of the US Federal Reserve",bold:!0},{text:" is to keep inflation under control."}]},{body:[{text:"The CPI, aka the Consumer Price Index, is "},{text:"one of two key measures ",bold:!0},{text:"of inflation. The other is the Fed's preferred measure, which is called the PCE (personal consumption expenditures) index."}]},{body:[{text:"The CPI is a price index, which means it’s a weighted average of prices for a market basket of goods and services bought by households. "},{lineBreak:!0},{text:"This basket of goods includes food, energy, shelter, medical care services, and transportation."}]},{body:[{text:"The CPI is compiled by the "},{text:"Bureau of Labor Statistics",bold:!0},{text:", a unit of the US Department of Labor, and "},{text:"released on a monthly basis",bold:!0},{text:", usually during the second week of each month. It’s widely followed by investors."}]},{body:[{text:"Housing, food, and energy ",bold:!0},{text:" make up the largest portions of the CPI. You can find a full breakdown in the attached Tornado blog. "}]},{body:[{text:"Given that "},{text:"housing has the largest weight at over 30%",bold:!0},{text:", it has the most significant impact on the CPI."},{lineBreak:!0},{text:"Housing is also prone to longer cycles than some of the CPI’s other constituents, so factors influencing its prices are important to understand."}]},{body:[{text:"Professional analysts caution against making projections for individual categories, as numerous variables impact the direction and magnitude of price changes. "},{lineBreak:!0},{text:"That said, "},{text:"breaking up the index by category ",bold:!0},{text:"can give one a sense of what is driving inflation over time."},{lineBreak:!0},{text:'Find a fuller discussion on our blog post (link in the "MORE INFO" section).'},{lineBreak:!0},{text:"And check out Pros and Cons that impact the economy in tickers like SPY, or impacting housing in tickers like XHB."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. "},{text:"Source for CPI data:",link:"https://www.bls.gov/news.release/archives/cpi_03102022.htm"}]},77:{id:77,name:"Inflation",heading:"Inflation",phraseDisplay:"inflation",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Inflation is an "},{text:"increase in the prices of goods and services",bold:!0},{text:" in an economy."},{lineBreak:!0},{text:"Inflation "},{text:"erodes the value of cash over time",bold:!0},{text:"."}]},{body:[{text:"In that sense, the level of inflation plays an important role in the "},{text:"value investors are willing to assign ",bold:!0},{text:"to cash that companies are expected to "},{text:"generate in the future",bold:!0},{text:"."},{lineBreak:!0},{text:"Generally speaking, the lower the inflation the higher the value of future cash flows. "}]},{body:[{text:"Inflation can also "},{text:"erode consumers’ standard of living",bold:!0},{text:", especially to the extent that wages don’t keep pace with the rate of growth for inflation."}]},{body:[{text:"The "},{text:"Federal Reserve targets 2% inflation ",bold:!0},{text:"as part of its overall mandate."},{lineBreak:!0},{text:"Suppose inflation is above that target for extended periods of time. In that case, the Fed may use various tools to restrict the level of liquidity in financial markets, "},{text:"which can raise interest rates and make it harder for companies and consumers to borrow money.",bold:!0}]},{body:[{text:"Investors pay close attention to measures including the "},{text:"CPI (Consumer Price Index)",bold:!0},{text:", as well as the "},{text:"PCE (Personal Consumption Expenditures)",bold:!0},{text:", which is the Fed's preferred measure."}]},{body:[{text:"During periods of inflation, famous investor Warren Buffett has focused on identifying companies that have "},{text:"pricing power ",bold:!0},{text:"and more "},{text:"flexible cost structures ",bold:!0},{text:"that enable them to weather inflation better than others."}]},{body:[{text:"Check out various factors impacting inflation by looking up pros and cons in tickers like SPY."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Warren Buffett may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."},{text:"Source for CPI inflation data:",link:"https://www.bls.gov/data/"},{text:"Source for PCE inflation data:",link:"https://www.bea.gov/data/personal-consumption-expenditures-price-index"},{text:"Source for views of Warren Buffett:",link:"https://www.cnbc.com/2018/02/12/warren-buffett-explains-how-to-invest-in-stocks-when-inflation-rises.html"}]},78:{id:78,name:"Know the Competition",heading:"Know the Competition",phraseDisplay:"$!How much should you know about your stocks competition?",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"As you gain experience with investing, it's important to "},{text:"monitor each stock’s ecosystem;",bold:!0},{text:" one of the most important parts of that includes "},{text:"its competitors",bold:!0},{text:"."}]},{body:[{text:"Competitors can provide useful insights about "},{text:"overall industry trends ",bold:!0},{text:"and "},{text:"market share shifts ",bold:!0},{text:"for particular sectors. In addition, they may have "},{text:"implications for revenue growth and profit ",bold:!0},{text:"for the companies that operate in each."}]},{body:[{text:"Developments at one competitor may also impact another: most "},{text:"investors are highly attuned to these ripple effects ",bold:!0},{text:"across sectors. Some of them are short-term while others may signal longer-term changes."}]},{body:[{text:"Some competitors are clear-cut",bold:!0},{text:", such as Home Depot (HD) and Lowe’s (LOW). "},{text:"Others are less clear.",bold:!0},{text:" For example, what Deere (DE) might say about tractor sales in various regions might impact German drug company Bayer AG, which owns seed-focused Monsanto."}]},{body:[{text:"Among other things to consider are whether an industry is "},{text:"fragmented (many competitors) or consolidated (few competitors) ",bold:!0},{text:"as well as regulatory issues. These may bear on pricing power and barriers to entry."}]},{body:[{text:"Competitors can be found by checking out the "},{text:'"Compare" tab ',bold:!0},{text:"in the desktop version of Tornado, as well as in "},{text:"10-Ks",bold:!0},{text:". You can also find useful information on company peers in the "},{text:"Proxy Filings ",bold:!0},{text:"(14A) with the Securities and Exchange Commission."}]},{body:[{text:'We also have a resource on competitive dynamics (link in the "MORE INFO" section). '}]}],disclaimers:[{blogPost:"https://blog.tornado.com/laterals-what-ifs-and-the-importance-of-ripple-effects-7de4c493053c",blogPostName:"Laterals, “What Ifs,” and the Importance of Ripple Effects"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Competitor performance is just one of many factors that may affect stock prices."}]},79:{id:79,name:"Capital Intensity and Stock Risk",heading:"Capital Intensity and Stock Risk",phraseDisplay:"$!How does capital intensity relate to stock risk?",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"Capital intensity refers to the level of investment in "},{text:"property, plants, and equipment ",bold:!0},{text:"a company needs to produce its products. Generally speaking, "},{text:"high capital intensity ",bold:!0},{text:"indicates a company may have to make "},{text:"big investments relative to earnings ",bold:!0},{text:"to run its business."}]},{body:[{text:"Warren Buffett's partner Charlie Munger has highlighted "},{text:"airline manufacturing ",bold:!0},{text:"as a capital intensive business. Boeing (BA) is one example. Other industries could include "},{text:"auto, oil and gas, mining, and manufacturing.",bold:!0}]},{body:[{text:"One risk for a company with high capital intensity is the "},{text:"inability to grow earnings fast enough ",bold:!0},{text:'to support its capital expenditures. As Buffett observed, "There are certain businesses that inherently, because of long lead times and heavy capital investment, basically '},{text:'have a lot of risk."',bold:!0}]},{body:[{text:"High capital intensity can "},{text:"threaten a company’s existence",bold:!0},{text:". High capital investment can be financed with high levels of debt, which can be challenging to pay off during economic downturns. "}]},{body:[{text:"So how do you identify a capital-intensive business? One simple measure of capital intensity is the "},{text:"ratio of assets to revenue (assets divided by revenue)",bold:!0},{text:"."}]},{body:[{text:"For example, in 2021, "},{text:"Boeing had a ratio of 2.2 ",bold:!0},{text:"($138.5b in total assets and $62.2b in revenue). By contrast, "},{text:"Google had a much lower ratio of 1.4 ",bold:!0},{text:"($359.26b in assets and $257.6b in revenue)."},{lineBreak:!0},{text:"So as you evaluate a business, try out that simple calculation to gauge risk."}]},{body:[{text:'Check our our blog post for more commentary (link in the "MORE INFO" section).'}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-risky-is-my-stock-start-with-the-business-d41166383ae0 ",blogPostName:"How Risky is My Stock? Start with the Business."},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Capital intensity is just one of many factors that may affect stock prices. Views expressed by Warren Buffett and Charlie Munger may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."},{text:"More information on business risk can be found on Tornado’s blog here:",link:"https://blog.tornado.com/how-risky-is-my-stock-start-with-the-business-d41166383ae0"},{text:"Source of data for Boeing (2021 10-K report): ",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/12927/000001292722000010/ba-20211231.htm"},{text:"Source of data for Google (2021 10-K report): ",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/1652044/000165204422000019/goog-20211231.htm"},{text:"More information on capital intensity can be found here:",link:"https://www.investopedia.com/terms/c/capitalintensive.asp"}]},80:{id:80,name:"Invest in the Future, not the Present",heading:"Invest in the Future, not the Present",phraseDisplay:"$!Let's take a closer look at what causes stock prices to change.",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Famous investor Stanley Druckenmiller has cautioned investors: \"Don't invest in the present. "},{text:"The present is not what moves stock prices.",bold:!0},{text:"\" That's because prices today may already reflect what's known by investors."}]},{body:[{text:"According to Druckenmiller, investors should instead "},{text:"focus on what earnings might look like 18-24 months from now",bold:!0},{text:". Some of those developments, if they occur, may not be reflected in a stock's price now."}]},{body:[{text:"To illustrate, Druckenmiller uses chemical companies. If you invest when earnings are great, he argues, it could mean capacity is low or demand is high. As that changes – capacity increases or demand falls – "},{text:"profit margins could drop ",bold:!0},{text:"and cause earnings to sink."}]},{body:[{text:"The reverse may also be true. When chemical companies are losing money, demand may be falling, which may necessitate a cut in production. So three or four years later, "},{text:"profit margins – and earnings – may be way up.",bold:!0}]},{body:[{text:"Many investors follow these principles, such that some version of the future may already be reflected in present prices. That's what investors mean when they describe something as "},{text:'"already discounted"',bold:!0},{text:" in a stock's price."}]},{body:[{text:"While some things are reflected, others may not be: consider a "},{text:"new product, new competition,",bold:!0},{text:" or developments that might result in "},{text:"economic growth ",bold:!0},{text:"or an "},{text:"economic slowdown.",bold:!0}]},{body:[{text:"The goal for investors is to figure out what's reflected in a stock's price today, and "},{text:"what the market may be overlooking ",bold:!0},{text:"that could cause the price to rise or fall in the future."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Stanley Druckenmiller may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."},{text:"Source for Stanley Druckenmiller quote:",link:"https://finance.yahoo.com/news/stanley-druckenmillers-no-1-piece-of-advice-for-novice-investors-173232751.html"},{text:"More information about stock price discounting can be found here:",link:"https://www.investopedia.com/terms/d/discounting-mechanism.asp"}]},81:{id:81,name:"Banks",heading:"Banks",phraseDisplay:"$!Let's take a closer look at bank stocks.",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"Banks are a "},{text:"core part of the Financials sector (XLF) ",bold:!0},{text:"and a key component of the US economy. They make nearly "},{text:"2/3 of their revenue in interest from loans ",bold:!0},{text:"and nearly "},{text:"1/3 from fees.",bold:!0},{lineBreak:!0},{text:"For larger banks, fees can be tied to investment banking and stock and bond trading, as well as late payment, mortgage, and servicing fees."}]},{body:[{text:"The largest banks, also referred to as "},{text:"money centers",bold:!0},{text:", include JP Morgan (JPM), Citigroup (C), Bank of America (BAC), and Wells Fargo (WFC). Another type of bank is the "},{text:"regional bank",bold:!0},{text:", which includes US Bank (USB), Truist (TFC), and PNC Financial Services (PNC)."}]},{body:[{text:"An important factor to consider when investing in banks is "},{text:"interest rate sensitivity",bold:!0},{text:": the degree to which earnings are influenced by "},{text:"changes in interest rates.",bold:!0}]},{body:[{text:"Banks' earnings are driven by the "},{text:"direction of interest rates (up or down) ",bold:!0},{text:"and the shape of the so-called "},{text:"yield curve",bold:!0},{text:", which refers to the relationship between short-term and long-term rates."},{lineBreak:!0},{text:"Generally, the steeper the curve (lower rates for the short term, higher rates for the long term), the better, though not always."}]},{body:[{text:"Bank earnings are "},{text:"also driven by the credit cycle",bold:!0},{text:", which pertains to the ease or difficulty for companies and consumers to borrow money."}]},{body:[{text:"Earnings for banks may be "},{text:"under pressure when credit deteriorates",bold:!0},{text:", as companies and people increasingly have difficulty making their debt payments. The reverse is also true."}]},{body:[{text:"Loan growth ",bold:!0},{text:"also comes into play for bank earnings. Generally, loan growth is correlated with economic growth."}]},{body:[{text:"As always, it's important to "},{text:"monitor competition",bold:!0},{text:", not only from other banks but particularly from so-called "},{text:"fintechs",bold:!0},{text:": keep an eye out for which of these may be granted bank charters. "}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."},{text:"More information on sources of bank income can be found here:",link:"https://www.clevelandfed.org/publications/economic-commentary/2019/ec-201914-trends-in-the-noninterest-income-of-banks"}]},82:{id:82,name:"Financial Sector",heading:"Financial Sector",phraseDisplay:"$!Let's take a closer look at the financial sector.",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"The "},{text:"financial sector ",bold:!0},{text:"includes JPMorgan Chase (JPM), Bank of America (BAC), Wells Fargo (WFC), Citigroup (C), and Goldman Sachs (GS) as well as MetLife (MET), Berkshire Hathway (BRK.B), and others. "},{lineBreak:!0},{text:"It's a "},{text:"broad category ",bold:!0},{text:"that has a "},{text:"sector weight ",bold:!0},{text:"in the S&P 500 of "},{text:"~11.2% ",bold:!0},{text:"(5/31/2022)."}]},{body:[{text:"Banks are the largest constituent ",bold:!0},{text:"of the sector, while the rest is comprised of life insurers, property & casualty insurers, asset managers, as well as a variety of other financial service companies including payday lenders."}]},{body:[{text:"Many financials - particularly banks and insurers – are "},{text:"interest rate sensitive ",bold:!0},{text:"– meaning earnings are significantly influenced by prevailing interest rates."}]},{body:[{text:"You can find the impact of interest rates on earnings (sometimes referred to as sensitivities) in their filings with the SEC, namely the 10-K annual filing."}]},{body:[{text:"Another thing to monitor for financials is the "},{text:"market share impact from competing technology companies ",bold:!0},{text:"known as fintechs – the latter include startups and publicly traded firms like Square (SQ) and Paypal (PYPL)."}]},{body:[{text:"Use Tornado to track the broad sector by using the ticker lookup function (enter "},{text:"ticker XLF ",bold:!0},{text:"in the text field next to the magnifying glass). Also, check out financials by using the filters above the feed in the app."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."},{text:"More information about financials in the S&P 500 can be found here:",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-financials-sector"},{text:"",link:"https://www.spglobal.com/spdji/en/idsenhancedfactsheet/file.pdf?calcFrequency=M&force_download=true&hostIdentifier=48190c8c-42c4-46af-8d1a-0cd5db894797&indexId=340 "},{text:"Information about the S&P 500 financials ETF (XLF) can be found here:",link:"https://www.ssga.com/us/en/intermediary/etfs/funds/the-financial-select-sector-spdr-fund-xlf"}]},83:{id:83,name:"Stocks Aren’t the Economy",heading:"Stocks Aren’t the Economy",phraseDisplay:"$!It's important to understand that the stock market and the economy are two distinct entities, let's look at why.",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"While the two are "},{text:"interrelated",bold:!0},{text:", it's important to understand that the stock market and the economy are "},{text:"two distinct entities",bold:!0},{text:"."}]},{body:[{text:"What’s happening in stocks can often serve as a signal for what may happen in the economy six months to a year down the road. Yet it’s "},{text:"not necessarily correct ",bold:!0},{text:"to assume that when the stock market is up, the economy is doing better or vice versa. "}]},{body:[{text:"One key reason is the "},{text:"number of companies each represents",bold:!0},{text:". Fewer than 6,000 domestic companies are listed on major US exchanges. "},{lineBreak:!0},{text:"Yet, in the overall economy, there are over 30M companies (8M sole proprietorships). In addition, the overall "},{text:"economy includes both the private *and* public sectors.",bold:!0}]},{body:[{text:"Another key difference is the number of employees represented by the market versus the economy: the "},{text:"US economy overall employs over 155M people",bold:!0},{text:", while the companies in the stock market employ only about 1/6 of that number."}]},{body:[{text:"A third difference is the size of the market vs the economy: the US economy as of 3Q22 is estimated at over $25T. The aggregate revenue of the companies in the S&P 500 is under 60% of GDP or approximately $15T. "}]},{body:[{text:"In the view of some investors, the "},{text:"stock market actually serves as a leading indicator for the economy. ",bold:!0},{lineBreak:!0},{text:"So, just as you do with earnings reports and individual companies, look to macro-related headlines to provide clues about the *future* of the overall economy."}]},{body:[{text:'For a deeper dive into the differences, check out our blog post (line in the "MORE INFO" section below).'},{lineBreak:!0},{text:"And track factors impacting both the economy and the stock market by checking out Pros and Cons for tickers like SPY."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/the-stock-market-is-not-the-economy-4ea9b349aaf6",blogPostName:"The Stock Market is Not the Economy"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."},{text:"Source for GDP data:",link:"https://www.bea.gov/news/2022/gross-domestic-product-third-quarter-2022-advance-estimate"},{text:"Source for company revenue data:",link:"https://www.yardeni.com/pub/stmktbriefrev.pdf"}]},84:{id:84,name:"The Communications Services Sector",heading:"Communications Services Sector",phraseDisplay:"$!Let's take a closer look at the communications services sector.",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"The communications services sector includes "},{text:"companies that provide consumer services ",bold:!0},{text:"via fixed-line, cellular, wireless, high bandwidth and/or fiber optic cable networks. Holdings include Meta Platforms (FB), Alphabet (GOOGL/GOOG), Netflix (NFLX), Verizon (VZ), AT&T (T), T-Mobile (TMUS) and Comcast (CMCSA)."}]},{body:[{text:"The sector "},{text:"also includes Disney (DIS), Live Nation (LYV), Match (MTCH) ",bold:!0},{text:"and some gaming companies. The Communication Services sector weight in the S&P 500 is ~8.8% (5/31/2022)"}]},{body:[{text:"The sector was reconstituted in "},{text:"2018 to reflect the evolving nature of the US economy ",bold:!0},{text:"and a broader focus from just telecommunications services. At that time, changes were also made to the consumer discretionary sector, which now includes more technology companies."}]},{body:[{text:"Positive drivers for the Communications Services sector include "},{text:"long-term growth in digital advertising and streaming",bold:!0},{text:", though these can be closely tied to overall economic growth and contraction.   "}]},{body:[{text:"Negative drivers for the sector include "},{text:"cord cutting and the potential for slowing wireless growth. ",bold:!0},{text:"Changing competitive landscapes for streaming/gaming and costs of content development are additional issues. "}]},{body:[{text:"Check out communication services companies by using the ticker lookup function (enter tickers including "},{text:"XLC ",bold:!0},{text:"in the text field next to the magnifying glass) in Tornado."},{lineBreak:!0},{text:"Also check out communications services by using the filters above the feed in the app."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies. Not investment advice."},{text:"More information about communications companies in the S&P 500 can be found here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-communication-services-sector "},{link:"https://www.spglobal.com/spdji/en/idsenhancedfactsheet/file.pdf?calcFrequency=M&force_download=true&hostIdentifier=48190c8c-42c4-46af-8d1a-0cd5db894797&indexId=340"},{text:"Information about the S&P 500 Communications ETF can be found here:",link:"https://www.ssga.com/us/en/intermediary/etfs/funds/the-communication-services-select-sector-spdr-fund-xlc "},{text:"More information about this sector can be found here:",link:"https://www.baronfunds.com/sites/default/files/Baron%20Insight%20-%20An%20Overview%20of%20the%20New%20Communication%20Services%20GICS%20Sector_0.pdf"},{link:"https://www.cnbc.com/2022/11/03/charter-ceo-tom-rutlege-says-pain-to-come-as-tv-gives-way-to-streaming.html "},{link:"https://www.lightreading.com/5g/wireless-customer-growth-to-remain-strong-in-q3---analysts/d/d-id/780959"}]},85:{id:85,name:"EBITDA",heading:"EBITDA",phraseDisplay:"$!What is EBITDA?",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"EBITDA refers to "},{text:"Earnings Before Interest, Taxes, Depreciation and Amortization",bold:!0},{text:". It focuses on the "},{text:"core operations of a business ",bold:!0},{text:"- what it’s engaged in on a day-to-day basis. How? By removing from its calculation interest and taxes."}]},{body:[{text:"Calculating interest and taxes relates to financing decisions, while depreciation and amortization relate to a company’s investment decisions. "}]},{body:[{text:"Many investors use "},{text:"EBITDA margin ",bold:!0},{text:"(EBITDA as a percent of total revenues) as a way to evaluate a business over time; it’s also used to "},{text:"compare its core operations with other companies.",bold:!0}]},{body:[{text:"One easy way to understand EBITDA is to break it down into its "},{text:"two main components, EBIT and DA.",bold:!0}]},{body:[{text:"The first part of the calculation, EBIT, is what a company earns before it pays interest on its debt and taxes to various governments. "},{text:"EBIT is often referred to as operating income",bold:!0},{text:", and it’s reported by most companies on their income statements each quarter."}]},{body:[{text:"The DA in EBITDA refers to "},{text:"depreciation and amortization. ",bold:!0},{text:"Depreciation and amortization are accounting principles that seek to spread out the cost and benefit of assets over their useful lives."}]},{body:[{text:"EBITDA won’t reveal if company A has a higher "},{text:"debt burden ",bold:!0},{text:"than company B, or whether it "},{text:"uses its capital ",bold:!0},{text:"for subpar equipment or overpaid for an acquisition: these things definitely matter over the long term."}]},{body:[{text:"That said, EBITDA can sharpen your financial skill set and "},{text:"help you identify important differences among companies ",bold:!0},{text:"as well as "},{text:"opportunities for improvement/pitfalls ",bold:!0},{text:"that may be reflected in stock price performance. "},{lineBreak:!0},{text:'You can learn more in our blog post (link in the "MORE INFO" section below).'}]}],disclaimers:[{blogPost:"https://blog.tornado.com/what-is-ebitda-and-how-can-i-use-it-d96d7792a209",blogPostName:"What is EBITDA, and How Can I Use It?"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. EBITDA is just one of many factors that may affect stock prices. "}]},86:{id:86,name:"Rule of 72",heading:"Rule of 72",phraseDisplay:"$!What is the Rule of 72?",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"The Rule of 72 is a "},{text:"useful shortcut ",bold:!0},{text:"to quickly determine how many years it might take an investment to double. It demonstrates "},{text:"the power of compound interest",bold:!0},{text:"."}]},{body:[{text:'According to famed investor Peter Lynch, "The Rule of 72 is useful in determining how fast money will grow. Take the '},{text:"annual return ",bold:!0},{text:"from any investment, expressed as a percentage, and "},{text:"divide it into 72. ",bold:!0},{text:"The result is the "},{text:'number of years it will take to double your money."',bold:!0}]},{body:[{text:"The formula is this: 72 / annual growth rate % = years to double.  "}]},{body:[{text:"For example, if the stock market is projected to appreciate 9% each year (its historical average), then divide 72 by 9 and you get 8 years to potentially double. That means if you invested $1,000 in the S&P 500 today, that investment "},{text:"could be worth $2,000 in 8 years.",bold:!0}]},{body:[{text:"One important "},{text:"caveat is the projected growth rate. ",bold:!0},{text:"Projections are typically based on historical growth rates, but it’s important to consider how these might change over time."}]},{body:[{text:"If interest rates increase 500 bps (basis points), that would likely change the return profile for a stock, as well as the stock market. In that scenario, the stock market may return less - say, only 4%/year, which means it "},{text:"could take 18 years for your investment to double. ",bold:!0},{text:"Big difference."}]},{body:[{text:"Projected returns aren’t fixed and can change over time, so the Rule of 72 is "},{text:"more of a guide than a certainty",bold:!0},{text:". You can find historical and projected revenue growth, as well as various other metrics that factor into projections, by looking up tickers in the search field."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Past performance does not guarantee future results.  Views expressed by Peter Lynch may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."},{text:"Source for Peter Lynch quote:",link:"https://libquotes.com/peter-lynch/quote/lbd5n9m"}]},87:{id:87,name:"Books for Investors",heading:"Books for Investors",phraseDisplay:"some books for investors to read",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"No matter where you are on your investing journey, there’s always more to learn."},{lineBreak:!0},{text:"Here are three books to add to your list.",bold:!0}]},{body:[{text:"The Snowball: Warren Buffett and the Business of Life"},{lineBreak:!0},{text:"By Alice Schroeder"}]},{body:[{text:"The Intelligent Investor"},{lineBreak:!0},{text:"By Benjamin Graham"}]},{body:[{text:"Stocks for the Long Run"},{lineBreak:!0},{text:"By Jeremy Siegel"}]},{body:[{text:"“The best protection against risk is knowing what you are doing.” - Seth Klarman"},{lineBreak:!0},{text:"Check back daily to continue Learning & Earning."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Opinions expressed in these books do not necessarily reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},88:{id:88,name:"Share Classes - GOOG vs GOOGL",heading:"Share Classes - GOOG vs GOOGL",phraseDisplay:"share classes (e.g. GOOG vs GOOGL)",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Unlike most companies, which have only one ticker, "},{text:"there are two different ways to purchase shares in Google’s parent company Alphabet",bold:!0},{text:": GOOG and GOOGL."}]},{body:[{text:"GOOGL is classified as a Class A share",bold:!0},{text:". Class A shares provide voting rights, with one vote corresponding to each share. Voting rights are the rights of a shareholder to vote for various corporate decision."},{lineBreak:!0},{text:"These could include choosing members of the board of directors, issuing stock, pursuing mergers and acquisitions, and other actions."}]},{body:[{text:"GOOG is classified as a Class C share",bold:!0},{text:". Unlike Class A shares, Class C shares do "},{text:"not",bold:!0},{text:" provide voting rights."}]},{body:[{text:"Non-voting shares are not common; they may be created when company founders or directors seek to raise new capital via share offerings without "},{text:"diluting their control.",bold:!0}]},{body:[{text:"Alphabet’s two different classes of shares exist because, in 2014, the company issued additional shares - the GOOG Class C shares - but wanted to "},{text:"preserve control for the company’s founders",bold:!0},{text:"."},{lineBreak:!0}]},{body:[{text:"Why choose GOOG? "},{text:"GOOG, in principle, could trade at a discount to GOOGL",bold:!0},{text:" due to its lack of voting rights. But if you want a say in Google’s business affairs, then buying GOOGL could present that opportunity."},{lineBreak:!0}]},{body:[{text:"Check out Google parent Alphabet’s 10-K for more information about Google’s different classes of shares (link in the More Info section below): "}]}],disclaimers:[{text:"",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/1652044/000165204422000019/goog-20211231.htm "},{text:"Tornado does not recommend GOOG, GOOGL, or any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},89:{id:89,name:"Potential Risks of Leveraged ETFs",heading:"Potential Risks of Leveraged ETFs",phraseDisplay:"the potential risks of leveraged ETFs",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"Leveraged ETFs seek to deliver several times (often 2-3x) the performance of the index they track. According to the Securities and Exchange Commission, "},{text:"they carry extra risks",bold:!0},{text:"."}]},{body:[{text:"One of the reasons for amplified risk is the way they are constructed: many use "},{text:"financial derivatives and/or debt",bold:!0},{text:" to increase their potential returns."}]},{body:[{text:"In addition, most leveraged ETFs"},{text:" “reset” daily",bold:!0},{text:", meaning they are designed to achieve their return objectives on a daily basis only (sometimes at the expense of long-term performance)."}]},{body:[{text:"Importantly, this could result in leveraged ETFs being "},{text:'forced to "buy high" and "sell low" ',bold:!0},{text:"daily to maintain their target exposure."}]},{body:[{text:"As a result of all of the above, "},{text:"performance can differ significantly from the underlying index ",bold:!0},{text:"over long time frames. This effect can be magnified in a volatile market. Leveraged ETFs often charge higher fees too."}]},{body:[{text:"In summary, while they may potentially be useful in some situations, leveraged ETFs may be "},{text:"better suited to short-term, daily trading strategies",bold:!0},{text:" versus long-term investments."}]}],disclaimers:[{text:"More information on this topic is available from the SEC:",link:"https://www.sec.gov/investor/pubs/leveragedetfs-alert "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},90:{id:90,name:"Inverse ETFs",heading:"Inverse ETFs",phraseDisplay:"Inverse ETFs",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Inverse ETFs (exchange-traded funds) seek to deliver the "},{text:"opposite of the performance of the index",bold:!0},{text:" they track. They increase in price when the index they track declines in price, and vice versa."}]},{body:[{text:"In general, inverse ETFs provide a "},{text:"way to benefit from a bearish, or negative, view of an index",bold:!0},{text:", whether that’s the broad S&P 500 index or industry-specific indices including the semiconductor index or the US dollar index. Indeed, many of these ETFs have the word “bear” in their names."}]},{body:[{text:"An inverse ETF "},{text:"can also be used as a hedge to offset a long-term holding",bold:!0},{text:". This might come into play if an investor is bullish about a sector for the long term but believes that the sector may decline for a period of time."},{lineBreak:!0},{text:"Inverse ETFs are also "},{text:"used by traders",bold:!0},{text:" to make money on days when the market declines."}]},{body:[{text:"While inverse ETFs can increase returns and/or reduce losses in declining markets, there are "},{text:"significant risks, particularly over longer time horizons",bold:!0},{text:". They can lead to losses if the market goes up - and they often charge higher fees."}]},{body:[{text:"They're also often constructed using financial derivatives that may carry additional risks in extended downturns or abnormal markets."},{lineBreak:!0},{text:"Since their managers buy and sell derivative contacts daily, there is "},{text:"no way to guarantee that the inverse ETF will mirror the performance",bold:!0},{text:" of the index or stocks it is tracking."}]},{body:[{text:"Over longer timeframes, their performance can differ dramatically from their index."}]},{body:[{text:"The frequent trading to maintain inverse ETFs often "},{text:"increases fund expenses ",bold:!0},{text:"and some inverse ETFs can carry expense ratios of 1% or more."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},91:{id:91,name:"Amazon & Competitive Landscape",heading:"Amazon & Competitive Landscape",phraseDisplay:"the competitive landscape of Amazon (AMZN)",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"Part of understanding a company is "},{text:"understanding its industry",bold:!0},{text:", and an important facet of that is knowing its competitors. Remember that Amazon’s "},{text:"key businesses are cloud services and retail",bold:!0},{text:"."}]},{body:[{text:"Its burgeoning ad business and Prime services business (which includes streaming) are also important. A "},{text:"full revenue breakdown for 2021",bold:!0},{text:" is "},{text:"here."},{text:" Let’s look at some major competitors in each business."}]},{body:[{text:"In "},{text:"cloud services"},{text:", key competitors include Google (GOOG), Microsoft (MSFT), Oracle (ORCL), IBM (IBM), and Alibaba (BABA).  "}]},{body:[{text:"In "},{text:"retail"},{text:", Amazon has numerous competitors, notably well-capitalized "},{text:"brick & mortar retailers ",bold:!0},{text:"including Walmart (WMT), Costco (COST), and Dollar General (DG), and also "},{text:"pure play e-commerce platforms",bold:!0},{text:" including Shopify (SHOP), Wayfair (W), and Etsy (ETSY). "}]},{body:[{text:"In "},{text:"advertising"},{text:", Amazon is increasingly competing with mega caps including "},{text:"Google (GOOG) and Meta (META)",bold:!0},{text:", as well as the Trade Desk (TTD)."}]},{body:[{text:"In subscription services, which offer a bundle of digital services including Prime Video, Prime Music, and Prime Reading, competitors include "},{text:"Netflix (NFLX), Disney (DIS), and Apple (AAPL). ",bold:!0}]},{body:[{text:"Make sure to continually check out the ticker profile for Amazon (AMZN), but also monitor each of the competitors."}]},{body:[{text:"To identify competitors independently, one source for competitors is the “Compare tab” in the ticker profiles. In addition, companies often list specific competitors in their "},{text:"10-Ks",bold:!0},{text:", in "},{text:"proxy filings",bold:!0},{text:" (14-A), and in "},{text:"earnings calls ",bold:!0},{text:"and other "},{text:"investor events",bold:!0},{text:"."},{lineBreak:!0},{text:"You can check out Amazon’s 2021 10-K ",bold:!0},{text:"(Link in More Info section below)"},{text:":",bold:!0}]}],disclaimers:[{text:"",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/1018724/000101872422000005/amzn-20211231.htm"},{text:"Tornado does not recommend AMZN or any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},92:{id:92,name:"Learn about Industrials",heading:"Learn about Industrials",phraseDisplay:"$!What is the Industrials Sector?",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"The "},{text:"industrial sector",bold:!0},{text:" includes Honeywell (HON), United Parcel Service (UPS), Raytheon (RTX), Union Pacific (UNP), Boeing (BA), General Electric (GE), Caterpillar (CAT), 3M (MMM) and others."}]},{body:[{text:"Industrial companies account for "},{text:"~7.8% of the S&P 500 ",bold:!0},{text:"(5/31/2022)."}]},{body:[{text:"Industrials are often thought of as highly "},{text:"cyclical",bold:!0},{text:", with earnings that can be "},{text:"tied to stages of the economic cycle - early, mid or late",bold:!0},{text:". Different industrials have different exposures to these parts of the cycle, and these are related to end markets."}]},{body:[{text:"End markets",bold:!0},{text:" are as "},{text:"varied as the overall economy",bold:!0},{text:" and include aerospace, auto, construction, defense, semiconductors, electronic components, healthcare, HVAC, oil & gas, telecom, and trucking."}]},{body:[{text:"Industrials can have exposure to "},{text:"multiple end markets,",bold:!0},{text:" not just one, which can "},{text:"help reduce cyclicality",bold:!0},{text:" and smooth earnings over time."}]},{body:[{text:"Another key driver for industrials is "},{text:"incremental margin,",bold:!0},{text:" which is essentially how much profit a company generates from additional sales. If you generate $10 profit from $100 additional revenue, the incremental margin is 10%. The higher, the better in general."}]},{body:[{text:"International exposure",bold:!0},{text:" can also be a driver, as a multi-industrial company may want to be exposed to faster-growing economies. "},{text:"Currency movements",bold:!0},{text:" and "},{text:"economic cycles in various countries",bold:!0},{text:" are important to monitor."}]},{body:[{text:"Check out industrials by using the ticker lookup function (enter a ticker like "},{text:"XLI ",bold:!0},{text:"in the text field next to the magnifying glass) in Tornado."},{lineBreak:!0},{text:"You can also view industrials by using the filters above the feed in-app."}]}],disclaimers:[{text:"Information about the industrials sector and S&P indices is available here: ",link:"https://www.spglobal.com/spdji/en/indices/equity/sp-500-industrials-sector "},{text:"Information about the XLI ETF is available here:",link:"https://www.ssga.com/us/en/intermediary/etfs/funds/the-industrial-select-sector-spdr-fund-xli "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},93:{id:93,name:"Dividends and Stock Returns",heading:"Dividends and Stock Returns",phraseDisplay:"dividends and stock returns",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"The bedrock of a long-term portfolio often includes "},{text:"stocks with financial strength",bold:!0},{text:". One indication of that is a company’s ability to pay dividends year in and year out."}]},{body:[{text:"Dividends are "},{text:"payments a company makes to return capital to its stockholders",bold:!0},{text:"."},{lineBreak:!0},{text:"They're generally paid on a regular basis (often quarterly), usually from operating cash flow, and they are one of the primary ways, in addition to stock price appreciation, that investors earn returns from stocks."}]},{body:[{text:"In fact, according to one theory, "},{text:"dividend growth",bold:!0},{text:" can "},{text:"drive long-term stock price appreciation",bold:!0},{text:". The "},{text:"dividend discount model/Gordon growth model",bold:!0},{text:" shows the relationship between the two."}]},{body:[{text:"With dividend stocks, you actually "},{text:"get paid",bold:!0},{text:" cash (or more shares) as an owner of the company "},{text:"while you hold your stock",bold:!0},{text:". If they are reinvested, dividends are also a way to dollar cost average over time."}]},{body:[{text:"How important are dividends to shareholder returns? According to CFRA Research, since 1945, dividends paid and reinvested "},{text:"have contributed 33% ",bold:!0},{text:"of the total return in the S&P 500."}]},{body:[{text:"Not all companies pay dividends. Dividends are "},{text:"more likely to be paid by well-established companies",bold:!0},{text:" that no longer need to invest as much money back into their business or that generate high amounts of excess cash."},{lineBreak:!0},{text:"Many high-growth companies do not pay dividends until later in their maturity cycle."}]},{body:[{text:"It’s important to recognize that a stock with an "},{text:"unusually high dividend yield ",bold:!0},{text:"can indicate that a company may have issues that could result in a cut to its dividend. Dividends "},{text:"may also be suspended and/or reduced",bold:!0},{text:" in times of financial stress for companies."}]},{body:[{text:"Finally, a "},{text:"change in policy",bold:!0},{text:" to add or eliminate a dividend may result in a change in the shareholder base with coincident selling and/or buying."}]}],disclaimers:[{text:"Source for statistics about dividend contributions to stock returns:",link:"https://www.cnbc.com/2022/09/09/how-dividends-work-add-to-stock-returns-chief-investment-strategist.html"},{text:"More information on the dividend discount model is available here:",link:"https://pages.stern.nyu.edu/~adamodar/pdfiles/valn2ed/ch13.pdf"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Past performance does not guarantee future results."}]},94:{id:94,name:"Dividends: Dynamics & Types",heading:"Dividends: Dynamics & Types",phraseDisplay:"the dynamics of the different dividend types",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"While growth stocks play a central role in many investment strategies, it may be important to "},{text:"guard against concentration",bold:!0},{text:" in volatile stocks."}]},{body:[{text:"Buying quality, dividend-paying stocks can be a great way to "},{text:"generate quarterly or annual income",bold:!0},{text:" and "},{text:"benefit from dollar cost averaging",bold:!0},{text:" for your investment portfolio while helping you "},{text:"diversify your holdings",bold:!0},{text:"."}]},{body:[{text:"There are important "},{text:"dynamics to keep in mind",bold:!0},{text:" when buying and selling stocks that pay dividends."}]},{body:[{text:"First is the type of dividend. The most common is the "},{text:"cash dividend,",bold:!0},{text:" where shareholders receive cash in their brokerage account based on the number of shares they own."}]},{body:[{text:"You may also have the option to collect a dividend in additional shares of stock, also called a "},{text:"stock dividend",bold:!0},{text:"."}]},{body:[{text:"Some companies elect to pay “"},{text:"Special dividends",bold:!0},{text:"” which are usually non-recurring, one-time payments, perhaps due to a spin-off, sale of a division, or excess cash on a company’s balance sheet."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},95:{id:95,name:"Dividends: Important Dates",heading:"Dividends: Important Dates",phraseDisplay:"important dates to consider around dividend stocks",metadata:{isCoreContent:!0},pages:9,type:mI,content:[{body:[{text:"There are "},{text:"key dates",bold:!0},{text:" that come into play with all dividends: the declaration date, the ex-dividend date, the record date, and the payment date."}]},{body:[{text:"The most important of the four is the "},{text:"ex-dividend date. ",bold:!0},{text:"This is the date by which investors must have purchased the stock to receive a dividend."}]},{body:[{text:"Investors who "},{text:"purchase the stock",bold:!0},{text:" ",bold:!0},{text:"on or after the ex-dividend date will not be eligible to receive that particular dividend."},{lineBreak:!0},{text:"Investors who "},{text:"sell the stock",bold:!0},{text:" after the ex-dividend date are still entitled to receive the dividend."}]},{body:[{text:"Let’s look at a real-world example. Let’s say you bought 100 shares of IBM on April 1, 2022, and continue to hold them. IBM currently "},{text:"pays a quarterly dividend",bold:!0},{text:"."}]},{body:[{text:"The "},{text:"declaration date",bold:!0},{text:" for IBM’s third-quarter dividend was July 25, 2022. This is the day IBM’s Board of Directors announced the dividend. It’s largely a book-keeping date for the company."}]},{body:[{text:"The ex-dividend date was August 9, 2022. You must have "},{text:"purchased the shares before this date",bold:!0},{text:" to be eligible to receive the dividend. The IBM shares you purchased in April qualified for this dividend."},{lineBreak:!0},{text:"If you wanted to add more shares, however, you must have purchased them prior to the ex-date to have them qualify for the third-quarter dividend. "}]},{body:[{text:"Similarly, if you wanted to sell some of your IBM shares, "},{text:"you could still receive the dividend by waiting to sell until after the ex-dividend date.",bold:!0},{lineBreak:!0},{text:"The price will adjust by the amount of the dividend, but you’d get the latest dividend even if you no longer want to own a portion (or all) of your IBM shares. "}]},{body:[{text:"As you can see, "},{text:"being aware of the ex-date when buying and selling shares ",bold:!0},{text:"can be important."}]},{body:[{text:"The "},{text:"payment date ",bold:!0},{text:"was September 10, 2022. This is the day the company sent the money to you, either as a check or directly to your brokerage account."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},96:{id:96,name:"General Electric: Overview",heading:"General Electric: Overview",phraseDisplay:"$!Let's take a look at the General Electric (GE) stock.",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"General Electric (GE) has historically been a "},{text:"conglomerate",bold:!0},{text:", a corporation made up of many different businesses. At one time, it sold appliances and had a large finance segment."}]},{body:[{text:"Currently, it has "},{text:"four divisions",bold:!0},{text:": Aviation, Healthcare, Renewable Energy, and Power."}]},{body:[{text:"As of March 2022, Aviation comprised 34% of revenue, Healthcare 16%, Renewable Energy 17%, and Power 21%."}]},{body:[{text:"Under new management that took the helm in 2018, GE is undergoing a transition that now includes a strategy to break itself apart."},{lineBreak:!0},{text:"The plan is to "},{text:"spin off two major divisions",bold:!0},{text:" – healthcare (in 2023) and renewable energy/power (in 2024) – and "},{text:"focus on aviation.",bold:!0}]},{body:[{text:"In the interim, analysts are focused on whether GE will attain its goal of "},{text:"$7B in free cash flow in 2023",bold:!0},{text:" (up from $5.5-6.5B in 2022) as well as continue reducing its debt."}]},{body:[{text:"Increasingly, attention will likely be more focused on "},{text:"dynamics relating to the aerospace ",bold:!0},{text:"sector, including companies like Boeing and Airbus, as GE recasts itself as an aerospace-focused company."}]},{body:[{text:"Check out community Pros and Cons relating to "},{text:"GE and Boeing",bold:!0},{text:" by searching GE in the ticker lookup."}]}],disclaimers:[{text:"Information on GE’s results and corporate strategy is available here:",link:"https://www.ge.com/sites/default/files/ge_webcast_presentation_04262022.pdf"},{text:"Tornado does not recommend GE or any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},97:{id:97,name:"GE: Bull and Bear Cases",heading:"GE: Bull and Bear Cases",phraseDisplay:"$! Let's look at the bull and bear cases for General Electric (GE).",metadata:{isCoreContent:!0},pages:8,type:mI,content:[{body:[{text:"When deciding whether to buy a stock, it’s important to thoroughly "},{text:"consider *both* the positives and the negatives.",bold:!0}]},{body:[{text:"The positives comprise what’s called a "},{text:"“bull” argument for a stock",bold:!0},{text:" – why it might rise in price over time; negatives comprise a "},{text:"“bear” argument",bold:!0},{text:" – why it might fall in pride over time."}]},{body:[{text:"Even after buying a stock, it’s important to "},{text:"continuously monitor",bold:!0},{text:" potentially new and emerging negative factors."}]},{body:[{text:"GE bulls argue that "},{text:"planned spin-offs could unlock value",bold:!0},{text:" for all three of the divisions, which may trade at discounts to peers. GE Aviation has been compared to Safran and Raytheon ("},{text:"RTX"},{text:"), GE Healthcare to Philips ("},{text:"PHG"},{text:") and Siemens Healthineers, and GE Renewable Energy and Power to Mitsubishi Heavy Industries and Siemens Gamesa Renewable Energy."}]},{body:[{text:"If each of these divisions were to re-rate in line with their peers, analysts have estimated that the sum-of-the-parts could significantly exceed GE’s valuation."}]},{body:[{text:"Meanwhile, a persistent bear, JP Morgan’s Stephen Tusa, argues otherwise. In the past, he argued that the power division, in particular, is overvalued."}]},{body:[{text:"In JP Morgan’s view, that division could still be "},{text:"saddled with bad deals",bold:!0},{text:" made in years past, and "},{text:"profitability overall may be challenged",bold:!0},{text:" as the renewable sector evolves; thus it may not yet merit a re-rating."}]},{body:[{text:"Regardless, as GE goes through with the spin-offs, tracking dynamics relating to Boeing ("},{text:"BA"},{text:") and Airbus will grow in importance as GE "},{text:"recasts itself as an aerospace-focused company",bold:!0},{text:"."}]}],disclaimers:[{text:"",link:"https://www.marketwatch.com/articles/general-electric-breakup-stock-larry-culp-51636741225?mod=mw_quote_news_seemore "},{text:"",link:"https://www.marketwatch.com/articles/general-electric-breakup-stock-larry-culp-51636741225?mod=mw_quote_news_seemore "},{text:"",link:"https://www.wsj.com/articles/ges-nemesis-an-eerily-prescient-bear-11559905201 "},{text:"",link:"https://www.marketwatch.com/articles/this-ge-bear-says-the-companys-power-unit-is-overvalued-51637083222?mod=mw_quote_news_seemore "},{text:"",link:"https://www.marketwatch.com/articles/general-electric-breakup-stock-larry-culp-51636741225?mod=mw_quote_news_seemore"},{text:"",link:"https://www.marketwatch.com/articles/general-electric-breakup-stock-larry-culp-51636741225?mod=mw_quote_news_seemore"},{text:"",link:"https://www.wsj.com/articles/ges-nemesis-an-eerily-prescient-bear-11559905201"},{text:"",link:"https://www.marketwatch.com/articles/this-ge-bear-says-the-companys-power-unit-is-overvalued-51637083222?mod=mw_quote_news_seemore"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},98:{id:98,name:"GE’s competitors",heading:"GE’s competitors",phraseDisplay:"GE’s competitors",metadata:{isCoreContent:!0},pages:5,type:mI,content:[{body:[{text:"GE has"},{text:" three primary divisions:",bold:!0},{text:" GE Aviation, GE Healthcare, and GE Renewable Energy."}]},{body:[{text:"GE Aviation "},{text:"manufactures and services jet engines",bold:!0},{text:". Its competitors include Boeing ("},{text:"BA"},{text:"), Safran, and Raytheon ("},{text:"RTX"},{text:") (via its Pratt & Whitney subsidiary) – a complicating dynamic is that GE has joint ventures with Pratt & Whitney."}]},{body:[{text:"GE Healthcare provides "},{text:"medical technology and digitization",bold:!0},{text:" and competes with Philips ("},{text:"PHG"},{text:") and Siemens Healthineers, among others."}]},{body:[{text:"GE Renewable Energy and Power specializes in "},{text:"wind, solar, and hydroelectric solutions",bold:!0},{text:" for power generation. It competes with Mitsubishi Heavy Industries and Siemens Gamesa Renewable Energy."}]},{body:[{text:"As GE goes through with the spin-offs, though, "},{text:"tracking dynamics relating to Boeing and Airbus ",bold:!0},{text:"will grow in importance as GE recasts itself as an aerospace-focused company."}]}],disclaimers:[{text:"",link:"https://www.sec.gov/ix?doc=/Archives/edgar/data/40545/000004054522000008/ge-20211231.htm"},{text:"",link:"https://www.marketwatch.com/articles/general-electric-breakup-stock-larry-culp-51636741225?mod=mw_quote_news_seemore "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},99:{id:99,name:"Stock and Market Catalysts",heading:"Stock and Market Catalysts",phraseDisplay:"$!What are some concepts behind stock and market catalysts?",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"Catalysts are important concepts in stocks as they can "},{text:"signal ",bold:!0},{text:"long-term and/or sudden "},{text:"changes in trends",bold:!0},{text:"."}]},{body:[{text:"In science, a catalyst refers to a substance that can "},{text:"increase the rate of a chemical reaction.",bold:!0},{text:""},{lineBreak:!0},{text:"As it relates to investing, a catalyst is used to describe "},{text:"an event or development that can impact a stock’s price",bold:!0},{text:", either positively or negatively."}]},{body:[{text:"Some catalysts are "},{text:"company-specific",bold:!0},{text:". One example could be an "},{text:"earnings report.",bold:!0},{lineBreak:!0},{text:"If a company exceeds earnings expectations on a change that was "},{text:"underappreciated or a surprise ",bold:!0},{text:"to investors, that catalyst could cause a stock to go up."}]},{body:[{text:"Some catalysts can impact "},{text:"markets more broadly",bold:!0},{text:". For example, an "},{text:"unexpected Federal Reserve announcement ",bold:!0},{text:"or a move by producers to expand or contract oil production can move large segments of stocks or even an entire market."}]},{body:[{text:"Many investors "},{text:"seek to identify potential catalysts in advance",bold:!0},{text:". They take positions that may benefit if the catalyst occurs."}]},{body:[{text:"The thinking is: "},{text:"this could ultimately happen",bold:!0},{text:", and if it does, it will impact the stock’s valuation (price) as other investors realize it. Finding potential catalysts is a bedrock principle for many institutional investors.    "}]},{body:[{text:"Some catalysts are relatively simple to identify: a failed product launch negatively impacts earnings. Some take a deeper understanding of a company’s ecosystem. You can"},{text:" start to identify catalysts by diving into the pros and cons",bold:!0},{text:" of tickers on Tornado.com."}]}],disclaimers:[{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},100:{id:100,name:"Company Debt",heading:"Company Debt",phraseDisplay:"company debt",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"Investor Warren Buffett has identified "},{text:"debt as a top issue for assessing risk",bold:!0},{text:". If a company has too much debt, in an economic downturn it could have trouble making debt payments and risk bankruptcy."}]},{body:[{text:"Key measures of debt are "},{text:"how much debt",bold:!0},{text:" a company has and "},{text:"whether it’s short-term",bold:!0},{text:" (has to be paid within a year) "},{text:"or long-term",bold:!0},{text:" (paid over multiple years)."},{lineBreak:!0},{text:"The "},{text:"interest rate ",bold:!0},{text:"on the debt is also important as this impacts the "},{text:"interest expense",bold:!0},{text:" a company has to pay."}]},{body:[{text:"Information on debt and interest expense can be found in "},{text:"annual (form 10-K) and quarterly (form 10-Q) filings with the SEC",bold:!0},{text:". These include discussions on overall "},{text:"liquidity",bold:!0},{text:" (money the company has to finance its operations), total debt levels, and interest expense."}]},{body:[{text:"Investors use a number of "},{text:"financial ratios",bold:!0},{text:" to assess debt. These include the "},{text:"interest coverage ratio",bold:!0},{text:", which helps determine a company’s ability to pay down its debt, and the "},{text:"debt-to-capitalization",bold:!0},{text:" ratio, which tells how much debt a company has relative to its total market value."}]},{body:[{text:"There are "},{text:"many caveats. ",bold:!0},{text:"For example, many companies have debt-to-cap ratios of over 100x. Even Home Depot is over 30x. There are also companies with very little or even no debt. The company’s "},{text:"business and strategy are key factors",bold:!0},{text:"."}]},{body:[{text:"Overall, understanding debt – and a "},{text:"company’s ability to generate cash to pay for it",bold:!0},{text:" – is a key concept as you assess companies. Find more by checking out stock ticker profiles on Tornado."}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-risky-is-my-stock-start-with-the-business-d41166383ae0",blogPostName:"How Risky is My Stock? Start with the Business."},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Warren Buffett may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},101:{id:101,name:"Cash Flow",heading:"Cash Flow",phraseDisplay:"cash flow",metadata:{isCoreContent:!0},pages:7,type:mI,content:[{body:[{text:"As Professor Damodaran of New York University says: traders focus on measures such as P/E (Price-earnings ratio), while "},{text:"investors focus on cash flows",bold:!0},{text:"."}]},{body:[{text:"Why? As Warren Buffett explains, "},{text:"cash flows are critical to determining a business's worth",bold:!0},{text:', or its "intrinsic value." Buying shares in a business for less than intrinsic value is a key to his style of investing.'}]},{body:[{text:"One commonly used measure is "},{text:"Free Cash Flow (FCF)",bold:!0},{text:". It’s what a business generates from its operations after investments to run and grow its business. It’s calculated by taking operating earnings and subtracting capital expenditures."}]},{body:[{text:"Investors are highly attuned to Free Cash Flow. It can be "},{text:"used to enhance shareholder returns",bold:!0},{text:" via stock repurchases or increasing dividends."},{lineBreak:!0},{text:"Improvements in FCF can also "},{text:"signal a company is getting more efficient",bold:!0},{text:" at running its business; declines can imply the opposite."}]},{body:[{text:"However, "},{text:"cash flow declines are not always negative.",bold:!0},{text:" A company could be undergoing reinvestment that will ultimately compound. So it’s crucial to go beyond the metrics and understand what the company is actually doing."}]},{body:[{text:"You can "},{text:"follow trends in cash flow",bold:!0},{text:" in a company's "},{text:"financial statements",bold:!0},{text:"."},{lineBreak:!0},{text:"In addition, "},{text:"company earnings calls ",bold:!0},{text:"will often discuss cash generation and what a company intends to do with its cash."}]},{body:[{text:"You can also "},{text:"forecast FCF",bold:!0},{text:" to determine "},{text:"what a business might be worth",bold:!0},{text:". Remember that inflation makes future cash flows worth less, so they have to be discounted. "}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-to-think-like-warren-buffett-about-the-intrinsic-value-of-a-stock-87656ef75dc7",blogPostName:"How to Think Like Warren Buffett About the Intrinsic Value of a Stock"},{text:"For more thoughts from Professor Damodaran:",link:"https://www.barrons.com/podcasts/streetwise/the-dean-of-valuation-talks-tesla-and-college-tuition/82941c53-68b8-48a2-8536-3bfcc580701b?page=1 "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Warren Buffett may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},102:{id:102,name:"Cash Flow & Valuation",heading:"Cash Flow & Valuation",phraseDisplay:"cash flow and valuation",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"What’s a business really worth? As Warren Buffett has explained, one way to determine that is to estimate its"},{text:" intrinsic value",bold:!0},{text:"."}]},{body:[{text:"According to Buffett, “If we could see, in looking at any business, "},{text:"what its future cash flows would be",bold:!0},{text:", and discount that back at an appropriate interest rate, that would give us a number for intrinsic value.”"}]},{body:[{text:"How to arrive at intrinsic value? The "},{text:"first step is to estimate cash flow generation",bold:!0},{text:" over the long term. You can use financial statements to calculate annual free cash flow (operating earnings minus capital expenditures) and then extrapolate a reasonable annual growth rate."}]},{body:[{text:"The "},{text:"next step is to discount the total cash ",bold:!0},{text:"that may be generated over the time frame you want to work with – 10 years, 30 years, or even forever. Remember that inflation reduces the value of future cash flows."}]},{body:[{text:"The process is referred to as "},{text:"Discounted Cash Flow (DCF) valuation",bold:!0},{text:". The results can vary widely, depending on your assumptions for the variables - including the number of years you’re discounting and the rate you’re applying."},{lineBreak:!0},{text:"DCF is a common yet "},{text:"highly nuanced concept ",bold:!0},{text:"for professional investors."}]},{body:[{text:"While DCF valuation can seem arcane, the process can help you assess a company’s ability to generate cash, as well as whether future growth is "},{text:"underappreciated, fully appreciated,",bold:!0},{text:" "},{text:"or too expensive. ",bold:!0}]}],disclaimers:[{blogPost:"https://blog.tornado.com/how-to-think-like-warren-buffett-about-the-intrinsic-value-of-a-stock-87656ef75dc7",blogPostName:"How to Think Like Warren Buffett About the Intrinsic Value of a Stock"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Warren Buffett may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},103:{id:103,name:"Market Crashes",heading:"Market Crashes",phraseDisplay:"market crashes",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"A stock market “crash” is typically defined as a "},{text:"sudden and dramatic decline",bold:!0},{text:" in the stock market – it could be a double-digit decline in just a few days. "},{text:"Think 1929",bold:!0},{text:"."}]},{body:[{text:"A crash differs from both a "},{text:"correction, defined as a 10-20% decline",bold:!0},{text:" and a "},{text:"bear market",bold:!0},{text:", typically defined as a"},{text:" decline of 20% or more",bold:!0},{text:". The primary difference is in a crash’s short duration and ferocity."}]},{body:[{text:"After the Crash of 1929, sustained stock market declines ranged from a "},{text:"few months to a couple of years",bold:!0},{text:". The biggest one-year drop in the S&P 500 was 43% in 1931. The biggest one-year gain was 52% in 1954."}]},{body:[{text:"The unpredictability of crashes in particular is an argument against market timing. As famed investor Bill Miller has noted, in the post-war period, the US stock market has "},{text:"gone up in approximately 70% of years",bold:!0},{text:"."}]},{body:[{text:"That's why there's an expression, \"Time in the market, not timing the market.\" Said another way, for most investors, it may be "},{text:"better to stay invested",bold:!0},{text:" than to try to move in and out ahead of crashes and corrections."}]},{body:[{text:"You can check out "},{text:"historical returns",bold:!0},{text:" by looking up tickers like SPY in the search field on Tornado."}]}],disclaimers:[{text:"Source of Bill Miller quote:",link:"https://millervalue.com/bill-miller-3q-2021-market-letter/ "},{text:"Source for S&P 500 return data:",link:"https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Past performance does not guarantee future results. Views expressed by Bill Miller may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},104:{id:104,name:"Expense Ratios",heading:"Expense Ratios",phraseDisplay:"expense ratios",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"While "},{text:"ETFs and index funds do not require cash outlays",bold:!0},{text:", they do "},{text:"include fees",bold:!0},{text:" known as expense ratios."}]},{body:[{text:"Expense ratios reflect "},{text:"costs and expenses to manage the fund or ETF",bold:!0},{text:" including marketing and paying staff. They can be found on provider websites and in investor materials including"},{text:" filings with the Securities and Exchange Commission.",bold:!0}]},{body:[{text:"For index funds, expense ratios can be modest. Near the low end of the range is SPY, an index fund that tracks the S&P 500, which charges 9 basis points (bps), or just under 0.1%. Most expense ratios are higher."},{lineBreak:!0},{text:"Though rare, some ETFs can charge 1000 bps (10%) per year or more in expenses."}]},{body:[{text:"The key thing to consider: while you don’t pay an expense ratio in cash, it "},{text:"reduces your annual return.",bold:!0},{text:" For example, over 10 years, at a 10% annualized return, an ETF may generate a 259% return."},{lineBreak:!0},{text:"A 100 bps expense ratio (1%) would reduce the return to 236%, or ~10% over 10 years."}]},{body:[{text:"Aside: “bps” is an abbreviation for “basis points.” "},{text:"One basis point is equivalent to 1/100th of 1% ",bold:!0},{text:"or a percentage point."}]},{body:[{text:"The bottom line? "},{text:"Pay attention to ETF expense ratios.",bold:!0},{text:" Tornado can help you identify expense ratios for ETFs and index funds."},{text:" Check out Pros and Cons posted by Community Thought Leaders (CTLs) in your feed. "}]}],disclaimers:[{text:"Source for ETF expense ratio data:",link:"https://etfdb.com/compare/highest-expense-ratio/ "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice."}]},105:{id:105,name:"Capital Gains & Taxes",heading:"Capital Gains & Taxes",phraseDisplay:"capital gains and taxes",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"A capital gain is the "},{text:"profit earned on the sale",bold:!0},{text:" of an asset that has increased in value."}]},{body:[{text:"If you own and subsequently sell a stock, the "},{text:"amount by which the sale proceeds exceed how much you paid",bold:!0},{text:" is the capital gain."}]},{body:[{text:"Capital gains are "},{text:"subject to tax",bold:!0},{text:". If you hold a stock for under a year and sell it, you will generally pay higher taxes than if you held it for over a year. The capital gain will be taxed as ordinary income for such short-term gains."}]},{body:[{text:"If you have "},{text:"losses",bold:!0},{text:" on a stock, they "},{text:"can be used to offset capital gains",bold:!0},{text:' in a given year. Some investors intentionally sell investments at a loss in order to lower taxes, a concept known as "tax-loss harvesting."'}]},{body:[{text:"If you have more losses than gains, you can sell more than your gains to reduce ordinary income. The limit: only "},{text:"$3,000 in net losses",bold:!0},{text:" can be used to offset ordinary income each year."}]},{body:[{text:"Note that"},{text:" frequent trading",bold:!0},{text:" may incur "},{text:"higher taxes ",bold:!0},{text:"and could "},{text:"drive underperformance",bold:!0},{text:". In addition, it "},{text:"may result in “wash sales”",bold:!0},{text:" which are losses that do not qualify for capital gains offsets."},{lineBreak:!0},{text:"Learn more about companies by checking out Pros and Cons for specific tickers."}]}],disclaimers:[{text:"More information on tax loss harvesting is available here:",link:"https://investor.vanguard.com/investor-resources-education/taxes/offset-gains-loss-harvesting"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment or tax advice."}]},106:{id:106,name:"Risk Tolerance",heading:"Risk Tolerance",phraseDisplay:"risk tolerance",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"Risk tolerance is a fancy way of saying "},{text:"“what’s your stomach for losses?”",bold:!0},{text:" It’s a really good question – and a uniquely personal one – as you start investing in stocks."}]},{body:[{text:"Risk tolerance also gets to "},{text:"how you feel about volatility",bold:!0},{text:". Do you have a trader or an investor mindset? How will you react if a stock goes down 10% or 20% after you buy it – even if you have no intention to sell? "},{text:"Will it affect your mood? ",bold:!0},{text:"Ruin your week?"}]},{body:[{text:"As Warren Buffett’s partner Charlie Munger said, “If you’re not willing to react with equanimity to a "},{text:"market price decline of 50%",bold:!0},{text:" two or three times a century, you’re "},{text:"not fit to be a common shareholder",bold:!0},{text:".”"}]},{body:[{text:"While that may seem extreme, it’s wise to ask yourself and"},{text:" see how you react to changes",bold:!0},{text:" in stock prices. A quick look at any 2-year stock chart will illustrate how much stocks move up / down, even if they ascend over time."}]},{body:[{text:"Once you’re clear about your tolerance for risk, you "},{text:"can address it in many ways:",bold:!0},{text:" you can keep your stock investments small as a percent of your net worth; you can gear your investments to large, stable companies vs. small, untested companies."}]},{body:[{text:"You can also "},{text:"use diversification ",bold:!0},{text:"by spreading your exposure over a wide range of stocks. "},{text:"Market ETFs",bold:!0},{text:" such as the SPY and QQQ can help accomplish this, for example. You can learn more about investment choices and risk on the Tornado blog and in the feed. "}]}],disclaimers:[{blogPost:"https://blog.tornado.com/traders-vs-investors-fdb3c616ff7a ",blogPostName:"Traders vs. Investors"},{text:"Source for Charlies Munger quote: ",link:"https://chipublib.bibliocommons.com/v2/record/S126C1870101/quotations "},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice.  Views expressed by Charlie Munger and Warren Buffett may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]},107:{id:107,name:"Sizing Stock Positions",heading:"Sizing Stock Positions",phraseDisplay:"$!How do investors size their stock positions?",metadata:{isCoreContent:!0},pages:6,type:mI,content:[{body:[{text:"Position sizing refers to the "},{text:"amount you’re willing to put into a single investment",bold:!0},{text:" in the context of a broader portfolio."}]},{body:[{text:"Famous investor Stanley Druckenmiller argues, “Sizing is"},{text:" 70% to 80% of the equation",bold:!0},{text:". It’s not whether you’re right or wrong, it’s "},{text:"how much you make when you’re right…",bold:!0},{text:"and "},{text:"how much you lose when you’re wrong",bold:!0},{text:".”"}]},{body:[{text:"Sizing is often associated with "},{text:"trading strategies",bold:!0},{text:", where investors may take large positions on high-conviction ideas for short- or intermediate-term gains. It also has "},{text:"practical applications for long-term investing",bold:!0},{text:"."}]},{body:[{text:"For example, sizing can "},{text:"smooth performance across economic cycles",bold:!0},{text:". During periods of economic weakness, some investors prefer to own larger-sized positions in things that consumers need: utilities, consumer staples, and health care."}]},{body:[{text:"Sizing can"},{text:" ",bold:!0},{text:"be used to "},{text:"manage risk within a portfolio. ",bold:!0},{text:"Investor David Rolfe  that any stock in a larger portfolio, say 15-25 stocks, should not exceed 8%-10% of the total."},{lineBreak:!0},{text:"That "},{text:"can minimize losses",bold:!0},{text:" if a single investment experiences a significant decline."},{lineBreak:!0}]},{body:[{text:"Sizing can be also used to "},{text:"optimize returns. ",bold:!0},{text:"Investors can keep positions small in difficult markets (potentially losing less) or take larger positions in more favorable markets (potentially making more)."},{lineBreak:!0},{text:"Many famous investors including Warren Buffett run highly concentrated portfolios that focus on their top ideas. "}]}],disclaimers:[{text:"Source for Stanley Druckenmiller quote:",link:"https://moneyweek.com/investments/investment-strategy/605020/stan-druckenmiller-position-size-really-matters"},{text:"Source for David Rolfe quote:",link:"http://mastersinvest.com/positionsizingquotes"},{text:"Tornado does not recommend any specific stocks, ETFs, or investment strategies.  Not investment advice. Views expressed by third parties may not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates."}]}},E1={1e5:{id:1e5,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,componentType:hI,componentData:{textBodyData:[{text:'As Benjamin Franklin put it, "'},{text:"Money makes money. ",bold:!0},{text:' And the money that money makes, makes money."'}]}},100001:{id:100001,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,componentType:hI,componentData:{textBodyData:[{text:"If there was an eighth wonder of the world, what would it be?"},{text:"Some say Albert Einstein believed it was this critical investing concept:",isNewLine:!0},{text:" compound interest",bold:!0}]}},100002:{id:100002,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,componentType:hI,componentData:{textBodyData:[{text:"Compound interest is a key concept",bold:!0},{text:" in investing that may not be talked about enough. Simplistically, this is the idea that "},{text:"your gains can snowball over time",bold:!0},{text:", growing exponentially."}]}},100003:{id:100003,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{inLibrary:!0,enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:'As Benjamin Franklin put it, "'},{text:"Money makes money. ",bold:!0},{text:' And the money that money makes, makes money."'}]}},100004:{id:100004,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"If there was an eighth wonder of the world, what would it be?"},{text:"Some say Albert Einstein believed it was this critical investing concept:",isNewLine:!0},{text:" compound interest",bold:!0}]}},100005:{id:100005,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"Compound interest is a key concept",bold:!0},{text:" in investing that may not be talked about enough. Simplistically, this is the idea that "},{text:"your gains can snowball over time",bold:!0},{text:", growing exponentially."}]}},100006:{id:100006,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"“My wealth has come from a combination of living in America, some lucky genes, and "},{text:"compound interest",bold:!0},{text:".”"},{text:" — Warren Buffett",isNewLine:!0,rightAlign:!0}]}},100007:{id:100007,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"“The elementary mathematics of "},{text:"compound interest is one of the most important models there is on earth",bold:!0},{text:".”"},{text:"- Charlie Munger",isNewLine:!0,rightAlign:!0}]}},100008:{id:100008,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"Warren Buffett and Charlie Munger describe "},{text:"compound interest",bold:!0},{text:' as "being at the top of a very large hill ... with '},{text:"a snowball and getting it rolling downhill",bold:!0},{text:".”"}]}},100009:{id:100009,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:'"The '},{text:"effects of compounding",bold:!0},{text:" even moderate returns over many years are compelling, if not "},{text:"downright mind-boggling",bold:!0},{text:'."'},{text:"- Seth Klarman",isNewLine:!0,rightAlign:!0}]}},100010:{id:100010,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"\"Good investing isn't necessarily about earning the highest returns. It's about earning pretty good returns that you can stick with for a long period of time. "},{text:"That's when compounding runs wild",bold:!0},{text:'."'},{text:"- Morgan Housel",isNewLine:!0,rightAlign:!0}]}},100011:{id:100011,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:'"Over a sufficiently long time, compound growth at a small rate will '},{text:"vastly exceed",bold:!0},{text:' any rate of arithmetic growth, no matter how large!"'},{text:"- Ed Thorp",isNewLine:!0,rightAlign:!0}]}},100012:{id:100012,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:'"But 200 years of continuous compounding has produced a return of more than a million times. '},{text:"Compounding truly is astonishing",bold:!0},{text:".”"},{text:"- Li Lu",isNewLine:!0,rightAlign:!0}]}},100013:{id:100013,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:"“Enjoy the magic of compounding returns. Even modest investments made in one’s early 20s are likely to "},{text:"grow to staggering amounts over the course of an investment lifetime",bold:!0},{text:".”"},{text:"- John C. Bogle",isNewLine:!0,rightAlign:!0}]}},100014:{id:100014,name:"Compounding Returns Lesson",heading:"Investing",phraseDisplay:"investing",type:gI,content:void 0,disclaimers:g1,metadata:{enableRecurringDeposit:!0},componentType:hI,componentData:{textBodyData:[{text:'As Benjamin Franklin put it, "'},{text:"Money makes money. ",bold:!0},{text:' And the money that money makes, makes money."'}]}}},b1={100100:{id:100100,name:"Refer A Friend",heading:"Community",phraseDisplay:"community",type:gI,content:void 0,disclaimers:m1,metadata:{useDefaultPromo:!0},componentType:pI},100101:{id:100101,name:"Refer A Friend",heading:"Community",phraseDisplay:"community",type:gI,content:void 0,disclaimers:m1,metadata:{},componentType:pI},101100:{id:101100,name:"Refer A Friend",heading:"Refer A Friend",phraseDisplay:"the reward for referring a friend",type:mI,content:[{body:[{text:"Invite your friends, "},{text:"earn up to"},{text:" $1,000 to invest",bold:!0}]},{body:[{text:"Successful investors know the value of exchanging and debating ideas.",bold:!0},{text:"",isNewLine:!0},{text:"On Tornado, you can use Pros and Cons (found on every stock page) to give your connections feedback on their stock ideas, and get their feedback on yours.",isNewLine:!0}]},{body:[{text:"You can also read the latest thoughts from your network in your Activity feed, which is full of "},{text:"high-caliber investing commentary, news, and conversations.",bold:!0}]},{body:[{text:"Investors on Tornado grow together.",isNewLine:!0,bold:!0},{text:"",isNewLine:!0},{text:"For a limited time, invite a friend and you can earn up to $1,000 to invest.",isNewLine:!0},{text:"",isNewLine:!0},{text:"You’re guaranteed to receive at least $5 to invest.",isNewLine:!0},{text:"",isNewLine:!0},{text:"No catch.",bold:!0}]}],disclaimers:m1,metadata:{useDefaultPromo:!0,useReferralCTA:!0}},101101:{id:101101,name:"Refer A Friend",heading:"Refer A Friend",phraseDisplay:"the reward for referring a friend",type:mI,content:[{body:[{text:"Invite your friends, "},{text:"earn up to"},{text:" $1,000 to invest",bold:!0}]},{body:[{text:"Successful investors know the value of exchanging and debating ideas.",bold:!0},{text:"",isNewLine:!0},{text:"On Tornado, you can use Pros and Cons (found on every stock page) to give your connections feedback on their stock ideas, and get their feedback on yours.",isNewLine:!0}]},{body:[{text:"You can also read the latest thoughts from your network in your Activity feed, which is full of "},{text:"high-caliber investing commentary, news, and conversations.",bold:!0}]},{body:[{text:"Investors on Tornado grow together.",isNewLine:!0,bold:!0},{text:"",isNewLine:!0},{text:"For a limited time, invite a friend and when they sign up, and deposit money you will earn ",isNewLine:!0},{text:"$50 per friend, to invest.",bold:!0}]}],disclaimers:m1,metadata:{useReferralCTA:!0}}},C1={3e5:{id:3e5,name:"Wagmo",heading:"Pet Insurance",phraseDisplay:"Pet Insurance",type:mI,content:[{body:[{text:""}]},{body:[{text:"Looking strictly at the health costs associated with a pet, we see that pets need a lot of care in a year. "},{text:"Between vaccines and basic care, ",isNewLine:!0},{text:"health costs associated with owning a dog or cat can cost up to $750 annually. ",bold:!0}]},{body:[{text:"This is just for basic care and doesn't include accidents or critical illness.",bold:!0},{text:"For those emergencies, it is recommended that pet owners keep $1,000-$4,000 on hand.",isNewLine:!0}]},{body:[{text:"Of course, the health benefits of pet ownership are well documented. ",bold:!0},{text:"A pet can reduce anxiety and stress and ease loneliness and depression. ",isNewLine:!0},{text:"They can also encourage fun and exercise.",isNewLine:!0}]},{body:[{text:"Pet insurance plans can make keeping your pet healthy and happy more accessible. ",bold:!0},{text:"Plans provide financial protection in case your pet should ever need medical care for unexpecting injuries or illness.",isNewLine:!0}]},{body:[{text:"Wagmo offers coverage designed for modern-day pet parents, with a hassle-free digital experience. "},{text:"Unlike other pet insurance companies, Wagmo also offers pet wellness separate from pet insurance.",isNewLine:!0}]},{type:fI,extra:{body:[{text:"Emergency vet coverage in case your pet is in a jam...or ate a container of it."},{text:"Create a plan based on your family's needs, and you can always add on later."}]}}],disclaimers:{},metadata:{disabled:!0,partnerName:B0,moreInfoOverride:{url:"https://wagmo.4qxjn9.net/c/3467601/1424950/11106?subId1=300000%253D&subId2=external_ID%253D&u=https%3A%2F%2Fwagmo.io%2Fblog%2Frising-cost-of-pet-ownership"}}},300001:{id:300001,name:"Lemonade",heading:"Renters Insurance",phraseDisplay:"$!What is Renters Insurance",type:mI,content:[{body:[{text:"",bold:!0}]},{body:[{text:"Maybe you’ve got questions about renters insurance.",bold:!0},{text:"Do you need it? How much does it cost? When should you get it?",bold:!0,isNewLine:!0},{text:"Let’s unpack renters insurance.",isNewLine:!0}]},{body:[{text:"Renters insurance can protect your personal property from damage or loss—inside or outside your home.",bold:!0},{text:"Plus, you can also protect yourself against damages from someone else’s accidents if they happen in your home.",isNewLine:!0}]},{body:[{text:"Do you need renters insurance? A couple of things to consider:",isNewLine:!0},{text:"1. Your landlord’s insurance covers the building but doesn’t cover your personal property. You likely have more stuff than you realize—and it might be worth more than you think.",isNewLine:!0}]},{body:[{text:"2. Renters insurance is affordable.",bold:!0},{text:"You can get a renters insurance policy for as low as $5 per month—and you'll enjoy priceless peace of mind.",isNewLine:!0}]},{body:[{text:"When should I buy renters insurance?",bold:!0},{text:"Consider doing it now.",isNewLine:!0},{text:"If you wait, and your bathroom floods, or your bike is stolen, you won’t be able to quickly purchase renters insurance and have it retroactively cover those damages.",isNewLine:!0}]},{body:[{text:"Getting renters insurance is actually pretty simple.",bold:!0},{text:"When signing up for a policy, you’re able to choose different coverage limits for personal liability, personal property, and so on. ",isNewLine:!0}]},{body:[{text:"To apply for a renters policy, you won’t need much beyond:"},{text:"    1. Your address",isNewLine:!0},{text:"    2. A sense of how much coverage ",isNewLine:!0},{text:"        you’ll need",isNewLine:!0}]},{type:fI}],disclaimers:{},metadata:{partnerName:$0,moreInfoOverride:{hidden:!0}}},300002:{id:300002,name:"VSP Direct",heading:"Vision Insurance",phraseDisplay:"Vision Insurance",type:mI,content:[{body:[{text:""}]},{body:[{text:"When it comes to your health–eye care can be easily overlooked.",bold:!0},{text:"Whether or not you wear glasses or contacts, a comprehensive eye exam is often considered essential to your overall health.",isNewLine:!0}]},{body:[{text:"What is vision insurance?",bold:!0},{text:"Vision insurance plans help you take care of your eyes and save you money at the same time.",isNewLine:!0},{text:"A vision plan helps cover the cost of an annual eye exam, frames or contacts, and lens enhancements like progressive and scratch resistance.",isNewLine:!0}]},{body:[{text:"How does vision insurance work?",bold:!0},{text:"Once enrolled in a vision plan, it covers vision-related expenses when you visit an eye doctor.",isNewLine:!0},{text:"Visiting an in-network doctor offers the most savings. Vision plans give you defined costs on things like an annual eye exam, frames, lenses, and more.",isNewLine:!0}]},{body:[{text:"How much is vision insurance?",bold:!0},{text:"Vision insurance costs can vary depending on your vision needs and rate in your state.",isNewLine:!0},{text:"You can find plans as low as $13 a month. Typical annual savings with a vision plan is more than $200.",isNewLine:!0}]},{body:[{text:"VSP® Individual Vision Plans offer personalized coverage with multiple plan options and flexible monthly payments."},{text:"They also offer member savings like an Extra $40 to spend on select frame brands.",isNewLine:!0}]},{type:fI}],disclaimers:{},metadata:{partnerName:z0,moreInfoOverride:{url:"https://www.vspdirect.com/faq/vision-plan-use"}}},300003:{id:300003,name:"New Constructs",heading:"Return on Invested Capital",phraseDisplay:"Return on Invested Capital",type:mI,content:[{body:[{text:"Profitability ",bold:!0},{text:"is a key driver of long-term stock performance."}]},{body:[{text:"How do you tell if a company is "},{text:"effective at generating profit",bold:!0},{text:"? One measure is Return on Invested Capital, or "},{text:"ROIC.",bold:!0}]},{body:[{text:"ROIC takes the "},{text:"profits ",bold:!0},{text:"generated by a company and "},{text:"divides them by the capital ",bold:!0},{text:"put into the company."}]},{body:[{text:"There are important distinctions. Companies "},{text:"use different methods of accounting that can make it difficult to get ROIC right.",bold:!0}]},{body:[{text:"You can calculate ROIC on your own, and some companies go into detail on their "},{text:"website and investor presentations.",bold:!0}]},{body:[{text:"In addition, there are some firms such as "},{text:"New Constructs ",bold:!0},{text:"that "},{text:"analyze financial statements and footnotes ",bold:!0},{text:"and make adjustments so investors can use ROIC to compare stocks."}]},{type:fI}],disclaimers:[{text:"Tornado does not recommend any specific investment strategy.  Educational material and quotes are for informational purposes only and are not recommendations, investment advice, or solicitations to buy or sell securities.  Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates."}],metadata:{partnerName:V0}},300004:{id:300004,name:"Upstart",heading:"Tackling Debt",phraseDisplay:"Tackling Debt",type:mI,content:[{body:[{text:"If you have debt, you’re not alone. ",bold:!0},{text:"Credit cards, student loans, and car loans can feel impossible to pay off."},{text:"With some preparation and focus, you can make your debt a thing of the past. Here are ",isNewLine:!0},{text:"four strategies to help you tackle your debt",bold:!0},{text:", one dollar at a time."}]},{body:[{text:"Review your spending habits.",bold:!0},{text:"To help avoid overspending in the future, it’s important to understand how your debt accumulated in the first place.",isNewLine:!0},{text:"Study your credit card statements, identify patterns, and create a budget for an emergency fund. Think strategically.",isNewLine:!0}]},{body:[{text:"Pay a little extra.",bold:!0},{text:"Interest compounds daily on unpaid debts, so when it comes to paying down your total, every little bit helps.",isNewLine:!0},{text:"If you can comfortably do so, pay more than the minimum, make an extra monthly payment, or both!",isNewLine:!0}]},{body:[{text:"Consolidate your debt.",bold:!0},{text:"Consolidating your debt can give you the chance to combine high-interest balances together into a single loan at a lower rate.",isNewLine:!0},{text:"This can help you decrease your debt faster, and can help you do it without increasing your payment amount.",isNewLine:!0}]},{body:[{text:"Focus on one debt at a time.",bold:!0},{text:"With the debt avalanche method",isNewLine:!0,bold:!0},{text:", you focus on settling the debts with the highest interest rates first."},{text:"Alternatively, the ",isNewLine:!0},{text:"snowball method",bold:!0},{text:" tackles the lowest balance first. When you pay off the first “easy” debt in full, then you target the next smallest."}]},{body:[{text:"Upstart",bold:!0},{text:" is an online lending marketplace that partners with banks to provide personal loans from $1,000-$50,000."},{text:"Upstart’s unique model goes beyond traditional metrics to consider your education and experience. ",isNewLine:!0}]},{type:fI}],disclaimers:[{text:"Tornado does not recommend any specific investment strategy.  Educational material and quotes are for informational purposes only and are not recommendations, investment advice, or solicitations to buy or sell securities.  Quotes may not represent the views of Nvstr Financial LLC dba Tornado (“Tornado”) or its affiliates."}],metadata:{partnerName:H0,moreInfoOverride:{hidden:!0}}},300005:{id:300005,name:"Wealth Foundry - Planning",heading:"Making a Plan",phraseDisplay:"Making a Plan",type:mI,content:[{body:[{text:"Investing is part of "},{text:"a broad set of decisions about how you manage your money",bold:!0},{text:", from near-term budgeting to saving or funding school and ultimately, retirement."}]},{body:[{text:"While stocks may play a central role in any or all of those plans, "},{text:" the first step is simply getting a handle on your money.",bold:!0}]},{body:[{text:"Define what you want to accomplish.",bold:!0},{text:" Purchasing a home? Going on a dream vacation? Getting out of debt?"}]},{body:[{text:"Take stock of where you are today. "},{text:"How much money comes in - and how much money goes out?",bold:!0},{text:" Establish a mile marker."},{lineBreak:!0},{text:"Financial planning is the process of "},{text:"mapping from the present to where you need to be to achieve your goals.",bold:!0}]},{body:[{text:"Ultimately, the process will help "},{text:"ensure that you support necessities while funding near and longer-term goals.",bold:!0}]},{body:[{text:"Need help with a plan to connect the dots? George Galat is a financial planner and the owner of Wealth Foundry. He specializes in employment compensation and real estate."}]},{type:fI}],disclaimers:_1,metadata:{partnerName:W0}},300006:{id:300006,name:"Wealth Foundry - Selecting Stocks",heading:"Selecting Stocks For Your Plan",phraseDisplay:"Selecting Stocks For Your Plan",type:mI,content:[{body:[{text:"How do you add stocks as part of a comprehensive financial plan?",bold:!0},{text:" Here are some tips from an experienced advisor."}]},{body:[{text:"Find a "},{text:"handful of companies you're interested in ",bold:!0},{text:"and see "},{text:"what drives their performance over time.",bold:!0},{text:" It's a great way to learn about their businesses."}]},{body:[{text:"Consider keeping "},{text:"concentration ",bold:!0},{text:"on any one company to "},{text:"no more than 5% ",bold:!0},{text:"of a portfolio, and "},{text:"take a long-term view ",bold:!0},{text:"of the market."}]},{body:[{text:"Remember that when you invest can make as much of an impact as what you're investing in. ",bold:!0},{text:"Returns during one period may not match returns in another period. "}]},{body:[{text:"Consider the investment axiom: "},{text:"time in the market, not timing the market. ",bold:!0},{text:"Stocks are inherently volatile but they've generated attractive returns over time. "}]},{body:[{text:"George Galat is a financial planner and the owner of Wealth Foundry. He specializes in equity compensation and real estate."},{lineBreak:!0},{text:"George offers personal financial planning exclusive to Tornado users."}]},{type:fI}],disclaimers:_1,metadata:{partnerName:W0}},300007:{id:300007,name:"Bankrate",heading:"Credit Card Types",phraseDisplay:"credit card types",type:mI,content:[{body:[{text:"There are so many credit card types, it’s easy to become overwhelmed by the sheer number of choices."},{lineBreak:!0},{text:"So, how do you choose the best credit card? ",bold:!0},{text:"Let’s take a look at a few different types, and how they might work for your financial goals."}]},{body:[{text:"Rewards Credit Cards",bold:!0},{lineBreak:!0},{text:"Rewards credit cards typically give you points or cash back based on a percentage of your spending."},{lineBreak:!0},{text:"If you use a rewards credit card to cover basic purchases like groceries, you can earn rewards for purchases you needed to make anyway."}]},{body:[{bold:!0},{lineBreak:!0},{text:"Some credit cards offer 0 percent intro APR on purchases for a limited time, usually up to 18 months."},{lineBreak:!0},{text:"These credit cards can help if you need to make a large purchase and want to pay it back over time without interest."}]},{body:[{text:"Student Credit Cards",bold:!0},{lineBreak:!0},{text:"Student credit cards are “starter credit cards” geared toward young people with a limited credit history."},{lineBreak:!0},{text:"If used responsibly, signing up for a student credit card can help you build credit and start creating good financial habits."}]},{body:[{text:"Travel Credit Cards",bold:!0},{lineBreak:!0},{text:"Travel credit cards offer the opportunity to earn rewards such as flexible travel credits for any travel purchase, or points you can transfer to airline or hotel programs."},{lineBreak:!0},{text:"With some cards you can earn these perks by making non-travel-related purchases."}]},{body:[{text:"There are also several other types of credit cards that may suit your needs."},{lineBreak:!0},{text:"If you’re in the market for a credit card, "},{text:"Bankrate’s CardMatch is a great tool to use in your search.",bold:!0}]},{type:fI}],disclaimers:[{text:"This site is part of an affiliate sales network and receives compensation for sending traffic to partner sites, such as CreditCards.com. This compensation may impact how and where links appear on this site. This site does not include all financial companies or all available financial offers."},{text:"Going to CardMatch and applying to CardMatch will not earn you anything on Tornado, including cash for investing or XP."}],metadata:{partnerName:j0},pages:7},300008:{id:300008,name:"Covered - Types of Car Insurance",heading:"Types of Car Insurance",phraseDisplay:"all the types of car insurance",type:mI,content:[{body:[{text:"There are six primary types of car insurance.",bold:!0},{lineBreak:!0},{text:"Each state requires different types of coverage. Car accidents can happen, and the best time to learn about your policy is before you need to use it."}]},{body:[{text:"Liability Coverage",bold:!0},{lineBreak:!0},{text:"Liability coverage applies to situations in which "},{text:"you are at fault for an accident.",bold:!0},{lineBreak:!0},{text:"This coverage is required in most states and "},{text:"helps you meet your legal obligations to others in these situations.",bold:!0}]},{body:[{text:"Uninsured/Underinsured Motorist",bold:!0},{lineBreak:!0},{text:"Uninsured/underinsured coverage applies to situations in which "},{text:"you’re hit by a driver who either doesn’t have auto insurance or has insufficient auto insurance ",bold:!0},{text:"to pay the costs resulting from the accident."}]},{body:[{text:"Medical Payments",bold:!0},{lineBreak:!0},{text:"Medical payments coverage "},{text:"can pay for your or your passengers’ medical expenses ",bold:!0},{text:"due to an auto accident. This coverage can come into play no matter who’s at fault."},{lineBreak:!0},{text:"It is not available in all states; when it is, it is almost always optional."}]},{body:[{text:"Personal Injury Protection",bold:!0},{lineBreak:!0},{text:"Personal injury protection (PIP) coverage — optional in some states; required in others — "},{text:"can pay for your or your passengers’ medical expenses AND other costs ",bold:!0},{text:"(e.g., lost wages, rehabilitation services, funeral costs) due to an auto accident, no matter who’s at fault."}]},{body:[{text:"Collision",bold:!0},{lineBreak:!0},{text:"Collision coverage may pay for damages to your car when you’re at fault for a collision."},{lineBreak:!0},{text:"Basically, this "},{text:"covers collision-related property damage that is not covered by liability.",bold:!0}]},{body:[{text:"Comprehensive",bold:!0},{lineBreak:!0},{text:"Comprehensive coverage "},{text:"may pay for damages to your car that aren’t the result of a collision.",bold:!0},{lineBreak:!0},{text:"Make sure you understand whether your car is insured for actual cash value (ACV) or replacement cost."}]},{type:fI}],disclaimers:f1,pages:9,metadata:{partnerName:G0,moreInfoOverride:{url:"https://www.iii.org/fact-statistic/facts-statistics-uninsured-motorists "}}},300009:{id:300009,name:"Covered - How much car insurance you need",heading:"How Much Car Insurance You Need",phraseDisplay:"how much car insurance you need",type:mI,content:[{body:[{text:""}]},{body:[{text:"Car insurance numbers can seem nebulous and confusing.",bold:!0},{lineBreak:!0},{text:"What will they mean if you get in an accident? How much is enough?"},{lineBreak:!0},{text:"Lower numbers come alongside lower premiums, but it’s important to make sure you have enough coverage."}]},{body:[{text:"So how much car insurance do you need? What will protect you from the majority of situations?"},{lineBreak:!0},{text:"Everyone’s situation is different.",bold:!0},{lineBreak:!0},{text:"Let’s look at a few things to keep in mind when figuring out your needs."}]},{body:[{text:"What’s mandated where you live?",bold:!0},{lineBreak:!0},{text:"The easiest way to begin? Find out the minimum car insurance required by your state."},{lineBreak:!0},{text:"Note that these limits are simply your starting point. In most states, you should consider more than the minimum."}]},{body:[{text:"Who’s driving your car?",bold:!0},{lineBreak:!0},{text:"The ages, experience levels, and driving records of your car’s drivers should absolutely inform your coverage choices."},{lineBreak:!0},{text:"The greater the risk profile, the more coverage you should consider."}]},{body:[{text:"How many miles do you put on your car?",bold:!0},{lineBreak:!0},{text:"The more miles you put on the car, the longer you’re on the road and the greater the likelihood you could be involved in an accident."},{lineBreak:!0},{text:"In that case, you should consider more coverage."}]},{body:[{text:"What’s the weather like?",bold:!0},{lineBreak:!0},{text:"Think about where you drive."},{lineBreak:!0},{text:"If you live in an area where severe, volatile, or low-visibility weather patterns are common, you should consider buying more insurance."}]},{body:[{text:"Do you have health insurance?",bold:!0},{lineBreak:!0},{text:"Even if your state doesn’t require uninsured/underinsured motorist coverage, you should still consider purchasing it."},{lineBreak:!0},{text:"According to info from the Insurance Information Institute, about 1 in 8 drivers are uninsured."}]},{type:fI}],disclaimers:f1,pages:9,metadata:{partnerName:G0,moreInfoOverride:{url:"https://www.iii.org/fact-statistic/facts-statistics-uninsured-motorists "}}},300010:{id:300010,name:"Ladder Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:h1,disclaimers:y1,metadata:{partnerName:M0}},300011:{id:300011,name:"Bestow Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:[{body:[{text:"What is life insurance?",bold:!0},{lineBreak:!0},{text:"At its basic level, it's an agreement between you and a life insurance company."},{lineBreak:!0},{text:"In exchange for a premium, the insurer promises to pay a sum of money upon your death to those you designate as beneficiaries."}]},{body:[{text:"Do I need life insurance?",bold:!0},{lineBreak:!0},{text:"To find out, ask yourself the following question: would your absence cause anyone financial strain?"},{lineBreak:!0},{text:"If so, the answer is yes. Let's take a look at the 5 top reasons you may need life insurance."}]},{body:[{text:"1. You have a mortgage or other shared debt.",bold:!0},{lineBreak:!0},{text:"Consider life insurance if a parent has co-signed a student loan for you, for instance."},{lineBreak:!0},{text:"Have you co-borrowed a mortgage, personal loan, or home equity line of credit with a spouse, partner, or sibling?"}]},{body:[{text:"2. Your life insurance through work isn't enough.",bold:!0},{lineBreak:!0},{text:"Group life insurance through an employer usually maxes out at a low fixed dollar amount or 1-2 times your annual salary."},{lineBreak:!0},{text:"Financial experts recommend 10x your salary as a rule of thumb."}]},{body:[{text:"3. You contribute a meaningful portion of your family's income.",bold:!0},{lineBreak:!0},{text:"If you support (or will support)"},{lineBreak:!0},{text:" a spouse, kids, parents, grandparents, siblings, or others and the loss of your income would affect them, you may need life insurance."}]},{body:[{text:"4. You have kids.",bold:!0},{lineBreak:!0},{text:"Even if you don't provide income your family relies on, you likely provide care that your family would have to pay for in your absence."},{lineBreak:!0},{text:"Life insurance can also meaningfully contribute to college savings."}]},{body:[{text:"5. You run a business.",bold:!0},{lineBreak:!0},{text:"Life insurance can be extra important for small business owners."},{lineBreak:!0},{text:"You might have taken on business debt using personal assets, like your home, as collateral. In that case, life insurance can help."}]},{type:fI}],disclaimers:[{text:"Check out our blog: ",link:"https://blog.tornado.com/"}],metadata:{partnerName:U0}}},x1={2e5:{id:2e5,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:d1,disclaimers:y1,metadata:{partnerName:M0}},200001:{id:200001,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:[{body:[{text:"Why should life insurance factor into my financial plan?",bold:!0},{text:"One way to think about life insurance in your personal financial portfolio is to consider it in terms of protecting your future earnings and your loved ones.",isNewLine:!0}]},{body:[{text:"Over time people invest in themselves by going to school, learning skills, and building on experiences.",bold:!0},{text:" This leads to better jobs and more money over time."},{text:"Then, they are able to borrow against those future earnings to get a mortgage, a car loan, or secure other personal loans.",isNewLine:!0}]},{body:[{text:"One of the things life insurance does is take that human capital—your potential future earnings—and protect those earnings for your loved ones.",bold:!0},{text:"Term life insurance protects the human capital risk in your family’s overall financial portfolio.",isNewLine:!0}]},{body:[{text:"Is life insurance through work enough?",bold:!0},{text:"One rule of thumb is 10x your salary. This may sound like a lot, but it could be used to cover quite a bit: a mortgage, debt, higher education, etc.",isNewLine:!0},{text:"Plus, if you leave your job you'll likely leave your coverage behind, too.",isNewLine:!0}]},{body:[{text:"When should I buy life insurance?",bold:!0},{text:"Unfortunately, you don’t have much control over when the unexpected will occur.",isNewLine:!0},{text:"And getting coverage early locks in your premium before your age and other factors increase the risk of insuring you.",isNewLine:!0}]},{body:[{text:"Is term life insurance expensive?",bold:!0},{text:"Term life insurance may be more affordable than you think.",isNewLine:!0},{text:"A healthy, non-smoking 30-year-old male would only pay an affordable $35–$40 a month for $1 million in coverage for a 20-year term.",isNewLine:!0}]},{body:[{text:"Taken as part of your overall financial plan, "},{text:"you can think of term life insurance as having some of the best bang for your buck.",bold:!0},{text:"Ensuring that the people you care about will be provided for when you’re gone is a true act of love, and something everyone should consider.",isNewLine:!0}]}],disclaimers:y1,metadata:{partnerName:M0,inShowPartnerCalloutTestGroup:!0,disabled:!0}},200002:{id:200002,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:h1,disclaimers:y1,metadata:{partnerName:M0}},200003:{id:200003,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:[{body:[{text:"What is life insurance?",bold:!0},{text:"At its basic level, it's an agreement between you and a life insurance company.",isNewLine:!0},{text:"In exchange for a premium, the insurer promises to pay a sum of money upon your death to those you designate as beneficiaries.",isNewLine:!0}]},{body:[{text:"Do I need life insurance?",bold:!0},{text:"To find out, ask yourself the following question: would your absence cause anyone financial strain? If so, the answer is yes. Let's take a look at the 5 top reasons you may need life insurance.",isNewLine:!0}]},{body:[{text:"1. You have a mortgage or other shared debt.",bold:!0},{text:"Consider life insurance if a parent has co-signed a student loan for you, for instance.",isNewLine:!0},{text:"Have you co-borrowed a mortgage, personal loan, or home equity line of credit with a spouse, partner, or sibling?",isNewLine:!0}]},{body:[{text:"2. Your life insurance through work isn't enough.",bold:!0},{text:"Group life insurance through an employer usually maxes out at a low fixed dollar amount or 1-2 times your annual salary.",isNewLine:!0},{text:"Financial experts recommend 10x your salary as a rule of thumb.",isNewLine:!0}]},{body:[{text:"3. You contribute a meaningful portion of your family's income.",bold:!0},{text:"If you support (or will support)",isNewLine:!0},{text:" a spouse, kids, parents, grandparents, siblings, or others and the loss of your income would affect them, you may need life insurance."}]},{body:[{text:"4. You have kids.",bold:!0},{text:"Even if you don't provide income your family relies on, you likely provide care that your family would have to pay for in your absence.",isNewLine:!0},{text:"Life insurance can also meaningfully contribute to college savings.",isNewLine:!0}]},{body:[{text:"5. You run a business.",bold:!0},{text:"Life insurance can be extra important for small business owners.",isNewLine:!0},{text:"You might have taken on business debt using personal assets, like your home, as collateral. In that case, life insurance can help.",isNewLine:!0}]}],disclaimers:y1,metadata:{partnerName:M0,inShowPartnerCalloutTestGroup:!0,disabled:!0}},200004:{id:200004,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:u1,disclaimers:y1,metadata:{partnerName:M0,appOnly:!0,usingLadderQuoteTool:!0}},200005:{id:200005,name:"Term Life Insurance",heading:"Term Life Insurance",phraseDisplay:"term life insurance",type:mI,content:p1,disclaimers:y1,metadata:{partnerName:M0,appOnly:!0,usingLadderQuoteTool:!0}}},w1=o(o(o(o({},E1),b1),C1),x1),S1=o(o(o(o(o({},v1),E1),b1),C1),x1),k1={};Object.values(S1).forEach((e=>{const{id:t,name:n}=e;k1[q0(n)]=t}));const T1=k1,I1=e=>{if(!e)return null;return D((e=>e.learn.lookup))[e]},N1=(e,t)=>{const n=P(),[r,i]=c.useState(e),a=(e=>e<1e5?null:S1[e]||null)(e),s=D((e=>e.learn.lessonData)),d=D((e=>e.learn.previewLesson)),u=s[e]||null,[h,p]=c.useState(!a&&!u),[m,g]=c.useState(!1),y=async e=>{const{errorMessage:t}=await tb(e)(n);if(!t)return p(!1),g(!1),null;g(!0),p(!1)};c.useEffect((()=>{t&&y(e)}),[]),c.useEffect((()=>{e!==r&&(i(e),t&&y(e))}),[e]);if("preview"===r){const{blogDisclaimers:e,disclaimers:t,contents:n}=d,r=[...Object.values(e),...Object.values(t)];return{isLoading:!1,lesson:l(o({},d),{lessonContents:Array.isArray(n)&&0===n.length?null:n?JSON.parse(n):null,disclaimers:r})}}return{isLoading:h,wasError:m,lesson:(()=>{if(a){const{name:e,heading:t,phraseDisplay:n,type:r,content:i,sponsorId:s,moreOnTopicUrl:o,componentType:l,componentData:c,metadata:d,disclaimers:u}=a;return{name:e,heading:t,phraseDisplay:n,lessonType:r,lessonContents:i,sponsorId:s,disclaimers:u,metadata:d||{},moreOnTopicUrl:o,componentType:l,componentData:c}}{if(!u)return null;const{content_type:e,description:t,heading:n,is_core_content:r,preview_phrase:i,sponsor_id:a,json_lesson_content:s,json_disclaimers_content:o}=u;return{name:t,heading:n||t,phraseDisplay:i,lessonType:e||mI,sponsorId:a,metadata:{isCoreContent:r},lessonContents:s,disclaimers:o}}})()}},A1=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
  // border: 1px solid ${({theme:e})=>e.themeColors.border};
`,P1=u.div`
  padding: 16px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  position: relative;
  z-index: 2;
`,D1=u.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  overflow: hidden;
  z-index: 0;

  svg {
    width: 220%;
  }
`,O1=u.div`
  padding-left: 16px;
`,L1=({onView:e,onCTAClick:t,ContainerComponent:n})=>{const r=b(),{nextLessonId:i,completedLessonCount:a,isGettingNextLesson:s,areNoMoreLessons:o}=SI(),{preview_phrase:l}=I1(i),d=c.useRef(),[u,h]=c.useState(0),[p,m]=c.useState(0),g=vr.primary.charcoal;c.useEffect((()=>{th.learn.VIEW_LEARN_GET_STARTED_BANNER.send(),e()}),[]),c.useEffect((()=>{d.current&&(h(d.current.parentElement.clientHeight),m(d.current.parentElement.clientWidth))}),[d]);return i?c.createElement(n,null,c.createElement(A1,{ref:d},c.createElement(D1,null,c.createElement(P0,{height:u,width:p})),c.createElement(P1,null,c.createElement("div",null,c.createElement(bi,{bold:!0,color:g},"LEARN & EARN"),c.createElement("div",{style:{paddingTop:4}},0===a?c.createElement(Ei,{color:g},"Start learning about investing and earn rewards."):c.createElement(Ei,{color:g},l?`${Y0(l)} Start learning and earning rewards.`:"Start learning and earning rewards."))),c.createElement(O1,null,c.createElement(hx,{color:g,textColor:vr.primary.oak,onClick:()=>{th.learn.CLICK_LEARN_GET_STARTED_BANNER.send(),t(),r(Pn.build())}},"Get Started"))))):null},R1=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
  border: 1px solid ${({theme:e})=>e.themeColors.text};

  ${bi} {
    color: ${({theme:e})=>e.themeColors.text};
  }
`,F1=u.div`
  padding: 16px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  position: relative;
  z-index: 2;
`,M1=u.div`
  padding-left: 16px;
`,U1=({onView:e,onCTAClick:t,ContainerComponent:n})=>{const r=b(),i=ZT(),a=Jp(i),s=vr.primary.charcoal;c.useEffect((()=>{th.banners.VIEW_SELECT_VPC_BANNER.send(),e()}),[]);return a?c.createElement(n,null,c.createElement(R1,null,c.createElement(F1,null,c.createElement("div",null,c.createElement(bi,{bold:!0},"Select Your Free VPC"),c.createElement("div",{style:{paddingTop:4}},c.createElement(Ei,{isSmall:!0},"You have a free premium Viewpoint Contributor (VPC) subscription available with your membership."))),c.createElement(M1,null,c.createElement(hx,{color:s,textColor:vr.primary.oak,onClick:()=>{th.banners.CLICK_SELECT_VPC_BANNER.send(),t(),r(In.build())}},"Select Now"))))):null};var $1=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"}));const B1=u.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,z1=()=>c.createElement(B1,null,c.createElement("svg",{viewBox:"0 0 700 700"},c.createElement("path",{fill:"#fff",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint0_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint1_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint2_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint3_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint4_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint5_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("path",{fill:"url(#prefix__paint6_radial)",d:"M-2 0h1444v696H-2z"}),c.createElement("defs",null,c.createElement("radialGradient",{id:"prefix__paint0_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 696 -1444 0 1442 0)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:1,stopColor:"#DCDBFF",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint1_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 296.02 -614.157 0 1035 86.34)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:1,stopColor:"#DCDBFF",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint2_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 503.939 -813.773 0 -77 593.803)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.531,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint3_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 288.972 -501.711 0 720 724.192)"},c.createElement("stop",{stopColor:"#9FFBF5"}),c.createElement("stop",{offset:1,stopColor:"#9FFBF5",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint4_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(432 0 0 695.674 339 854.582)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.635,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint5_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 599.089 -952.867 0 819 -216.729)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:.635,stopColor:"#F5665D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#F5665D",stopOpacity:0})),c.createElement("radialGradient",{id:"prefix__paint6_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(476 0 0 419.362 -53 304.83)"},c.createElement("stop",{stopColor:"#FCFF7D"}),c.createElement("stop",{offset:.635,stopColor:"#FCFF7D",stopOpacity:.2}),c.createElement("stop",{offset:1,stopColor:"#FCFF7D",stopOpacity:0}))))),V1=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
  border: 1px solid ${({theme:e})=>e.themeColors.text};
`,H1=u.div`
  padding: 16px;
  position: relative;
  z-index: 2;
`,W1=u.div``,j1=u.div``,G1=u.div`
  padding-top: 16px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,q1=u.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
`,Y1=u.div`
  flex-shrink: 0;
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  height: 72px;
  width: 72px;
  border-radius: 5px;

  margin-right: 16px;
`,K1=u.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`,Q1=u.div`
  position: relative;
  z-index: 2;

  svg {
    height: 28px;
    width: 28px;

    path {
      fill: ${e=>vr.primary.charcoal};
    }
  }
`,Z1=({children:e})=>c.createElement(Y1,null,c.createElement(K1,null,c.createElement(z1,null)),c.createElement(Q1,null,e)),X1=({headingText:e,message:t,subMessage:n,ctaButtonText:r,onView:i,onCTAClick:a,onDismiss:s,Icon:o,ContainerComponent:l})=>{const d=c.useContext(m),u=d.themeColors.text,h=d.themeColors.appBackground;return c.useEffect((()=>{i()}),[]),c.createElement(l,null,c.createElement(V1,null,c.createElement(H1,null,c.createElement(q1,null,c.createElement(Z1,null,o),c.createElement(j1,null,e&&c.createElement(bi,{bold:!0},e),t&&c.createElement("div",{style:{paddingTop:e?4:0}},c.createElement(Ei,{isSmall:!0},t)),n&&c.createElement("div",{style:{paddingTop:t?4:0}},c.createElement(Ei,{isSmall:!0},n)))),c.createElement(G1,null,c.createElement(W1,null,c.createElement(hx,{color:h,textColor:u,onClick:a},r)),c.createElement(W1,null,c.createElement(hx,{color:h,textColor:u,onClick:s},"Dismiss"))))))},J1=[{id:1,message:"See what your friends are trading. For a limited time, invite a friend and you'll both get up to $1,000 to invest.",ctaButtonText:"Invite Connections",route:pn.build()},{id:2,message:"Successful investors know the value of debating ideas. For a limited time, invite a friend and you'll both get up to $1,000 to invest.",ctaButtonText:"Invite Friends",route:pn.build()}],e2=e=>{const t=b(),[n]=c.useState(_l(J1));return c.useEffect((()=>{const t={"Test Group Id":n.id};e.onView(t)}),[]),c.createElement(X1,l(o({},e),{Icon:c.createElement($1,null),message:n.message,onCTAClick:()=>{const r={"Test Group Id":n.id};t(n.route),e.onCTAClick(r)},ctaButtonText:n.ctaButtonText}))},t2=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
`,n2=u.div`
  padding: 16px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  position: relative;
  z-index: 2;
`,r2=u.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  overflow: hidden;
  z-index: 0;

  svg {
    width: 220%;
  }
`,i2=u.div`
  padding-left: 16px;
`,a2=({onView:e,onCTAClick:t,ContainerComponent:n})=>{const r=b(),{nextLessonId:i}=SI(),a=I1(i),s=c.useRef(),[o,l]=c.useState(0),[d,u]=c.useState(0),h=vr.primary.charcoal;c.useEffect((()=>{th.learn.VIEW_LEARN_GET_STARTED_BANNER.send(),e()}),[]),c.useEffect((()=>{s.current&&(l(s.current.parentElement.clientHeight),u(s.current.parentElement.clientWidth))}),[s]);if(!i)return null;const p=(null==a?void 0:a.preview_phrase)||null;return c.createElement(n,null,c.createElement(t2,{ref:s},c.createElement(r2,null,c.createElement(P0,{height:o,width:d})),c.createElement(n2,null,c.createElement("div",null,c.createElement(bi,{bold:!0,color:h},"LEARN & EARN"),c.createElement("div",{style:{paddingTop:4}},c.createElement(Ei,{color:h},p?(e=>`${Y0(e)} Find out more and earn rewards.`)(p):""))),c.createElement(i2,null,c.createElement(hx,{color:h,textColor:vr.primary.oak,onClick:()=>{t(),r(Pn.build())}},"Start")))))},s2=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
  border: 1px solid ${({theme:e})=>e.themeColors.text};
`,o2=u.div`
  padding: 16px;
  position: relative;
  z-index: 2;
`,l2=u.div``,c2=u.div``,d2=u.div`
  padding-top: 16px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,u2=({headingText:e,message:t,subMessage:n,ctaButtonText:r,onCTAClick:i,onDismiss:a,ContainerComponent:s,children:o})=>{const l=c.useContext(m),d=l.themeColors.text,u=l.themeColors.appBackground;return c.createElement(s,null,c.createElement(s2,null,c.createElement(o2,null,c.createElement(c2,null,e&&c.createElement(bi,{bold:!0},e),t&&c.createElement("div",{style:{paddingTop:e?4:0}},c.createElement(Ei,{isSmall:!0},t)),n&&c.createElement("div",{style:{paddingTop:t?4:0}},c.createElement(Ei,{isSmall:!0},n))),o,c.createElement(d2,null,c.createElement(l2,null,c.createElement(hx,{color:u,textColor:d,onClick:i},r)),c.createElement(l2,null,c.createElement(hx,{color:u,textColor:d,onClick:a},"Dismiss"))))))},h2={id:1,message:"For a limited time, get a funding bonus (Up to $1,000) when you make your first deposit",subMessage:"Rules apply, press Continue for details.",ctaButtonText:"Continue",route:Sn.build()},p2={id:2,message:"For a limited time, get a funding bonus (Up to $1,000) when you open a live trading account and make your first deposit",subMessage:"Rules apply, press Get Started for details.",ctaButtonText:"Get Started",route:un.build()},m2=e=>{const t=b(),n=QT(),[r]=c.useState(n?h2:p2);return c.createElement(X1,l(o({},e),{Icon:c.createElement(Gi,null),message:r.message,subMessage:r.subMessage,onCTAClick:()=>{const n={"Test Group Id":r.id};t(r.route),e.onCTAClick(n)},ctaButtonText:r.ctaButtonText}))};var g2=Object.defineProperty,y2=(e,t,n)=>(((e,t,n)=>{t in e?g2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class _2{constructor(){y2(this,"add",((e,t)=>{this._addToQueryString(e,t)})),y2(this,"addParamsList",(e=>{e.forEach((e=>this.add(e.key,e.value)))})),y2(this,"getQueryString",(()=>{const e=this._queryString;return e.length>0?`?${e}`:""})),y2(this,"_addToQueryString",((e,t)=>{""===this._queryString?this._queryString=`${e}=${t}`:this._queryString+=`&${e}=${t}`})),this._queryString=""}}const f2="r",v2="f",E2="g",b2="l",C2="s",x2=(e,t)=>{const{encoded_share_url:n,share_url:r}=e,i=((e={})=>{const{context:t,channel:n}=e,r=new _2;return t&&r.add("cn",t),n&&r.add("ch",n),r.getQueryString()})(t);return{encodedInviteLink:`${n}${i}`,inviteLink:`${r}${i}`}},w2=(e,t)=>{const n=D((e=>WT(e))),[r,i]=c.useState(x2(n,{context:e,channel:t}));return c.useEffect((()=>{i(x2(n,{context:e,channel:t}))}),[n,e,t]),r},S2=[{id:1,message:"Successful investors know the value of debating ideas. For a limited time, invite a friend and you'll both get up to $1,000 to invest.",ctaButtonText:null},{id:2,message:"See what your friends are trading. For a limited time, invite a friend and you'll both get up to $1,000 to invest.",ctaButtonText:null}],k2=[{id:4,message:"Investing is for everyone. Refer a friend and you’ll both get up to $1,000 to invest! Limited time only.",ctaButtonText:null},{id:5,message:`Get up to $1,000 to invest when you refer a friend to ${Jo}! Limited time only.`,ctaButtonText:null},{id:6,message:"Limited time only! Refer a friend and you’ll both get up to $1,000 to invest.",ctaButtonText:null},{id:7,message:`Invite a friend to join ${Jo} and you’ll both get up to $1,000 to invest. Limited time only!`,ctaButtonText:null}],T2=()=>{return e=.5,Math.random()<=e?_l(S2):_l(k2);var e},I2=u.div`
  padding-top: 16px;

  display: flex;
  align-items: center;
  justify-content: space-around;
`,N2=u.div`
  padding-top: 6px;
  padding-bottom: 2px;

  .social-button {
    display: inline-block;
  }
`,A2="Facebook",P2="Twitter",D2="LinkedIn",O2=e=>{const{encodedInviteLink:t}=w2(v2,C2),n=b(),[r]=c.useState(T2),i=e=>{TC("Referrals - Click Social Share",{Network:e,Context:"Rewards Page"})();const t={Facebook:Zu,Twitter:Xu,LinkedIn:Ju}[e];th.referral.USE_REFERRAL_ACTION.send(t)};return c.useEffect((()=>{const t={"Test Group Id":r.id};e.onView(t)}),[]),c.createElement(u2,l(o({},e),{message:r.message,onCTAClick:()=>{const t={"Test Group Id":r.id};n(pn.build()),e.onCTAClick(t)},ctaButtonText:"Invite Friends"}),c.createElement(I2,null,c.createElement("div",{style:{textAlign:"center"}},c.createElement(N2,null,c.createElement(lz,{url:t,additionalActionOnClick:()=>i(A2)}))),c.createElement("div",{style:{textAlign:"center"}},c.createElement(N2,null,c.createElement(cz,{url:t,message:".@tornadoinvest is a new, collaborative way to #invest. Plus they will give you up to $1,000 #free cash to invest when you join. #InvestBetterTogether.",additionalActionOnClick:()=>i(P2)}))),c.createElement("div",{style:{textAlign:"center"}},c.createElement(N2,null,c.createElement(dz,{url:t,additionalActionOnClick:()=>i(D2)})))))};const L2=u.div`
  flex-grow: 0;
  height: 50px;
  width: 50px;
  border-radius: 5px;
  overflow: hidden;

  img {
    height: 50px;
    width: 50px;
  }
`,R2=()=>c.createElement(L2,null,c.createElement("img",{src:"/app/assets/tornado-app-icon.56c2d65e.png",alt:"tornado-app-icon"})),F2=u.div`
  position: relative;
  border-radius: 5px;
  overflow: hidden;
  max-width: 600px;
  margin: 0 auto;
  border: 1px solid ${({theme:e})=>e.themeColors.text};
`,M2=u.div`
  padding: 16px;
  position: relative;
  z-index: 2;
`,U2=u.div`
  padding-top: 24px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,$2=u.div`
  width: calc(100% - 50px);
`,B2=[{id:1,message:`Unlock more features by downloading the ${Jo} app.`},{id:2,message:"Download the mobile app to get access to more features and a seamless mobile experience."},{id:3,message:`Download the mobile app for even faster access to the ${Jo} features you love.`}],z2=e=>{const t=c.useContext(m),n=t.themeColors.text,r=t.themeColors.appBackground,{testGroupId:i,message:a}=(()=>{const{id:e,message:t}=_l(B2),[n]=c.useState({testGroupId:e,message:t});return n})(),{ContainerComponent:s,onCTAClick:o,onDismiss:l}=e;c.useEffect((()=>{const t={"Test Group Id":i,Message:a};e.onView(t)}),[]);const d=()=>{const e={"Test Group Id":i,Message:a};xl()?null==window||window.open("https://share.tornado.com/YLzlSsPIYub","_blank").focus():DC(),o(e)},u=xl();return c.createElement(s,null,c.createElement(F2,null,c.createElement(M2,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(R2,null),c.createElement($2,null,c.createElement(Tw,{left:16},c.createElement(yi,null,a)))),c.createElement(U2,null,c.createElement(Iw,null,u?c.createElement(hx,{onClick:d},"Get the mobile app"):c.createElement(hx,{onClick:d},"Email me a Download Link")),c.createElement(Iw,null,c.createElement(hx,{color:r,textColor:n,onClick:l},"Dismiss"))))))};var V2=Object.defineProperty,H2=(e,t,n)=>(((e,t,n)=>{t in e?V2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const W2="Start Learn & Earn",j2="Verify Bank Account",G2="Select Free VPC",q2="Learn",Y2="Referral",K2="Funding Bonus",Q2="Referral Action",Z2="Download App",X2=u.div`
  margin-bottom: 24px;
`;const J2=new class{constructor(){H2(this,"isBannerDismissed",(e=>{var t;return null==(t=this.getDismissedBannerData()[e])?void 0:t.is})),H2(this,"setDismissedBanner",((e,t={})=>{if(!e)return void console.error("Cannot dismiss banner",e);const n=this.getDismissedBannerData(),r=l(o({},n),{[e]:{is:!0,metadata:t}});window.localStorage.setItem(this.storageKey,JSON.stringify(r))})),H2(this,"getDismissedBannerData",(()=>{try{const e=window.localStorage.getItem(this.storageKey);return JSON.parse(e)||{}}catch(Gs){return console.error(Gs),{}}})),this.storageKey="dafb"}},e5=e=>{const{bannerType:t}=e;let n=null;switch(t){case Z2:n=c.createElement(z2,l(o({},e),{ContainerComponent:X2}));break;case Q2:n=c.createElement(O2,l(o({},e),{ContainerComponent:X2}));break;case K2:n=c.createElement(m2,l(o({},e),{ContainerComponent:X2}));break;case q2:n=c.createElement(a2,l(o({},e),{ContainerComponent:X2}));break;case Y2:n=c.createElement(e2,l(o({},e),{ContainerComponent:X2}));break;case j2:n=c.createElement(F0,l(o({},e),{ContainerComponent:X2}));break;case W2:n=c.createElement(L1,l(o({},e),{ContainerComponent:X2}));break;case G2:n=c.createElement(U1,l(o({},e),{ContainerComponent:X2}));break;default:n=null}return n},t5=()=>{const[e,t]=c.useState(!1),n=ZT(),[r]=c.useState({isVerificationReady:!0}),i=II(r),{completedLessonCount:a,nextLessonId:s}=SI();Jp(n),c.useEffect((()=>{t(!0)}),[]);return{isReady:e,selectBanner:c.useCallback((()=>_l((()=>{const e=[],t=[Y2,Q2];return n.has_downloaded_app||t.push(Z2),Fp(n)&&t.push(K2),0===a?[W2]:El(s)?i.length>0?[j2]:(t.forEach((t=>{J2.isBannerDismissed(t)||e.push(t)})),e):[q2]})())),[])}},n5=e=>{const[t,n]=c.useState(null),[r,i]=c.useState(!1),{isReady:a,selectBanner:s}=t5();c.useEffect((()=>{if(a&&!t&&!r){const e=s();null!==e&&n(e)}}),[a,t]);const d=c.useCallback(((e={})=>{th.banners.VIEW_BANNER.send(o({"Is Above Feed":!0,"Banner Type":t},e))}),[t]),u=c.useCallback(((e={})=>{th.banners.CLICK_BANNER_CTA.send(o({"Is Above Feed":!0,"Banner Type":t},e))}),[t]),h=c.useCallback(((e={})=>{i(!0),n(null),J2.setDismissedBanner(t),th.banners.DISMISS_BANNER_CTA.send(o({"Is Above Feed":!0,"Banner Type":t},e))}),[t]);return c.createElement(e5,l(o({},e),{onView:d,onCTAClick:u,onDismiss:h,bannerType:t}))};class r5 extends c.PureComponent{render(){return c.createElement(n5,o({},this.props))}}var i5=Object.defineProperty,a5=(e,t,n)=>(((e,t,n)=>{t in e?i5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class s5 extends c.Component{constructor(){super(),a5(this,"_returnDashboardContainerWidth",(()=>{const e=$(".dashboard-container").width(),t=$(window).width(),n=t-185-62,r=t;return e&&e>0?e-8:this._shouldShowDesktopDashboard()?n:r})),a5(this,"_returnLeftBodyPanelWidth",(()=>Math.floor(.55*this._returnDashboardContainerWidth()))),a5(this,"_returnRightBodyPanelWidth",(()=>{const e=Math.floor(.45*this._returnDashboardContainerWidth())-25-2;return e>499?499:e})),a5(this,"_returnAffixTopOffset",(()=>150-this._returnAffixTriggerOffset())),a5(this,"_returnAffixTriggerOffset",(()=>350)),a5(this,"_returnManualLeftPanelHeightOffset",(()=>0)),a5(this,"returnActiveTabPanelName",(()=>this.props.tabNameToPanelNameLookup[this._returnActiveTab()])),a5(this,"returnActiveTabPanelHeight",(()=>{const e=this.returnActiveTabPanelName(),t="leftPanel"===e?this._returnManualLeftPanelHeightOffset():0;return this.returnPanelNameHeight(e)-this._returnAffixPanelOffsetTop()-t})),a5(this,"_isFeedTabShowing",(()=>this._shouldShowDesktopDashboard()||!this._shouldShowDesktopDashboard()&&"feed"===this._returnActiveTab())),a5(this,"_shouldShowDesktopDashboard",(()=>"desktop"===this.props.layoutType)),a5(this,"_returnActiveTab",(()=>this.props.activeTab)),a5(this,"_isMobileTabActive",(e=>e===this._returnActiveTab())),a5(this,"_returnAffixStyle",(e=>this._shouldShowDesktopDashboard()&&this.returnAffixedPanelName()===e?{position:"fixed",transform:"translateZ(0)",margin:"auto",top:`${this.props.windowHeight-this.returnPanelNameHeight(e)+this._returnAffixTopOffset()}px`}:{})),a5(this,"handleScroll",(e=>{this.mounted&&0!==this.state.leftPanelHeight&&0!==this.state.rightPanelHeight&&(this._didTriggerAffix(e)&&this._setAffixedPanel(this._returnTriggeredAffixPanelName(e)),this._didTriggerUnaffix(e)&&this._setAffixedPanel(null))})),a5(this,"_didTriggerAffix",(e=>{const t=this._returnTriggeredAffixPanelName(e);return!nk(t)&&this.returnAffixedPanelName()!==t})),a5(this,"_returnTriggeredAffixPanelName",(e=>{e&&"scrollDistance"in e||console.error("Invalid scroll data provided to _returnTriggeredAffixPanelName");let t=null;const n=this._returnPanelDataForAffix(),r=n.name,i=n.height+this._returnAffixTriggerOffset();return e.scrollDistance>=i&&(t=r),t})),a5(this,"_didTriggerUnaffix",(e=>{e&&"scrollDistance"in e||console.error("Invalid scroll data provided to _didTriggerUnaffix");let t=!1;const n=this._returnPanelDataForAffix().height+this._returnAffixTriggerOffset();return e.scrollDistance<n&&(t=!0),t&&!nk(this.returnAffixedPanelName())})),a5(this,"returnPanelNameHeight",(e=>this.state[`${e}Height`])),a5(this,"_returnPanelDataForAffix",(()=>this._returnLeftPanelDataForAffix().height<=this._returnRightPanelDataForAffix().height?this._returnLeftPanelDataForAffix():this._returnRightPanelDataForAffix())),a5(this,"_bindNameToHeightChangeHandler",(e=>t=>this._handlePanelHeightChange(e,t))),a5(this,"_handlePanelHeightChange",((e,t)=>{this._setPanelHeight(e,t.height)})),a5(this,"_returnAffixPanelOffsetTop",(()=>this._$returnDashboardAffixScrollNode()[0]&&$(".affix-scroll-container")?(this._$returnDashboardAffixScrollNode()[0]?this._$returnDashboardAffixScrollNode():$(".affix-scroll-container")).offset().top:0)),a5(this,"_setPanelHeight",((e,t)=>{const n=this._returnAffixPanelOffsetTop(),r="leftPanel"===e?this._returnManualLeftPanelHeightOffset():0;this.setState((()=>({[`${e}Height`]:t+n+r})))})),a5(this,"returnAffixedPanelName",(()=>this.state._affixedPanelName)),a5(this,"_setAffixedPanel",(e=>{this.setState((()=>({_affixedPanelName:e})))})),a5(this,"returnLeftPanelHeight",(()=>this.state.leftPanelHeight)),a5(this,"returnRightPanelHeight",(()=>this.state.rightPanelHeight)),a5(this,"_returnLeftPanelDataForAffix",(()=>({name:"leftPanel",height:this.returnLeftPanelHeight()}))),a5(this,"_returnRightPanelDataForAffix",(()=>({name:"rightPanel",height:this.returnRightPanelHeight()}))),a5(this,"_returnAffixContainerStyle",(()=>this._shouldShowDesktopDashboard()?{}:{height:`${this.returnActiveTabPanelHeight()+60}px`})),a5(this,"_returnBaseScrollContainerStyle",(()=>this._shouldShowDesktopDashboard()?{}:{height:`${this.returnActiveTabPanelHeight()+60}px`})),a5(this,"_returnLeftPanelStyle",(()=>o(o({},this._returnPanelContainerStyle()),this._returnLeftPanelStyleWidth()))),a5(this,"_returnRightPanelStyle",(()=>o(o({},this._returnPanelContainerStyle()),this._returnRightPanelStyleWidth()))),a5(this,"_returnLeftPanelStyleWidth",(()=>this._shouldShowDesktopDashboard()?{width:`${this._returnLeftBodyPanelWidth()}px`}:{width:"100%",float:"none"})),a5(this,"_returnRightPanelStyleWidth",(()=>this._shouldShowDesktopDashboard()?{width:`${this._returnRightBodyPanelWidth()}px`}:{width:"100%",float:"none"})),a5(this,"_returnPanelContainerStyle",(()=>this._shouldShowDesktopDashboard()?{}:{height:`${this.returnActiveTabPanelHeight()}px`})),a5(this,"_returnDashboardAffixScrollNode",(()=>this.DashboardAffixScroll)),a5(this,"_$returnDashboardAffixScrollNode",(()=>(this.$DashboardAffixScroll||(this.$DashboardAffixScroll=$(this._returnDashboardAffixScrollNode())),this.$DashboardAffixScroll))),this.state={leftPanelHeight:0,rightPanelHeight:0,_affixedPanelName:null}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{className:e,layoutType:t,shouldShowInviteFriendsMessaging:n,shouldShowSubscriptionPlanMessaging:r,shouldShowAskCTLMessaging:i,getUpdatedNotifications:a,sendUpdatedLastSeenNotifTime:s,tabsRenderer:l}=this.props;return c.createElement("div",{ref:e=>this.DashboardAffixScroll=e,className:`affix-scroll-container ${e||""} ${t}`,style:this._returnAffixContainerStyle()},!this._shouldShowDesktopDashboard()&&l(),c.createElement(MV,{$scrollElement:$(window),onScroll:this.handleScroll,style:this._returnBaseScrollContainerStyle()},c.createElement(wX,{isMobileActivePanel:this._isMobileTabActive("positions"),bodyPanelStyle:this._returnLeftPanelStyle(),affixWrapperStyle:o(o({},this._returnAffixStyle("leftPanel")),this._returnLeftPanelStyleWidth()),handleMutation:this._bindNameToHeightChangeHandler("leftPanel")}),c.createElement(LQ,{className:"right-dashboard-body-panel "+(this._isMobileTabActive("feed")?"active":""),style:this._returnRightPanelStyle()},c.createElement("div",{className:"affix-wrapper",style:o(o({},this._returnAffixStyle("rightPanel")),this._returnRightPanelStyleWidth())},c.createElement(cR,{onMutation:this._bindNameToHeightChangeHandler("rightPanel"),setInitialSize:!0,useThrottle:!0},c.createElement(r5,null),c.createElement(RQ,null,c.createElement(k0,{getUpdatedNotifications:a,sendUpdatedLastSeenNotifTime:s,showingInviteFriendsMessaging:n})),c.createElement(RQ,null,c.createElement(C0,{isVisible:this._isFeedTabShowing(),ignoreInfiniteScroll:!this._isFeedTabShowing(),dontGetNotifsOnMount:!0})))))))}}var o5=Object.defineProperty,l5=(e,t,n)=>(((e,t,n)=>{t in e?o5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class c5 extends c.Component{constructor(){super(...arguments),l5(this,"_onNewNotificationsCountChangeFromZero",(()=>{this._updateTabIconToShowNewNotifications()})),l5(this,"_onNewNotificationsCountIncrement",(()=>{this._handleUpdateTabTitle()})),l5(this,"_onNotificationsCountClear",(()=>{this._handleUpdateTabTitle(),this._updateTabIconToShowNoNotifications()})),l5(this,"_handleUpdateIconAndTitleForNotification",(()=>{this._handleUpdateTabTitle(),this._areNewNotifications()?this._updateTabIconToShowNewNotifications():this._updateTabIconToShowNoNotifications()})),l5(this,"_handleUpdateTabTitle",(()=>{this._isTitleUpToDate()||this._updateTabTitle(`${this._returnNotificationTitlePrefix()}${this._returnTitleWithoutNotificationCount()}`)})),l5(this,"_updateTabIconToShowNewNotifications",(()=>{})),l5(this,"_updateTabIconToShowNoNotifications",(()=>{})),l5(this,"_updateTabTitle",(e=>{document.title=e})),l5(this,"_isTitleUpToDate",(()=>(e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(" "===r)break;t+=r}return t})(document.title)===this._returnNotificationTitlePrefix().split(" ")[0])),l5(this,"_returnTitleWithoutNotificationCount",(()=>{const e=document.title;if(this._isNotificationCountInTitle()){const t=e.split(" ")[0];return e.split(`${t} `)[1]}return e})),l5(this,"_isNotificationCountInTitle",(()=>/^[(][\d]/.test(document.title))),l5(this,"_didNotificationCountChange",(e=>this._returnNewNotificationsCount(e)!==this._returnNewNotificationsCount())),l5(this,"_didNotificationCountChangeFromZero",(e=>0===this._returnNewNotificationsCount(e)&&this._returnNewNotificationsCount()>0)),l5(this,"_didNotificationCountIncrement",(e=>this._returnNewNotificationsCount(e)<this._returnNewNotificationsCount())),l5(this,"_didNotificationCountClear",(e=>0!==this._returnNewNotificationsCount(e)&&0===this._returnNewNotificationsCount())),l5(this,"_areNewNotifications",(()=>this._returnNewNotificationsCount()>0)),l5(this,"_returnNotificationTitlePrefix",(()=>this._returnNewNotificationsCount()>0?`(${this._returnNotificationCountForDisplay()}) `:"")),l5(this,"_returnNotificationCountForDisplay",(()=>this._returnNewNotificationsCount()>9?"9+":this._returnNewNotificationsCount())),l5(this,"_returnNewNotificationsCount",(e=>this._returnNotificationsStore(e).unseenCount)),l5(this,"_returnNotificationsStore",(e=>(e||this.props).notifications))}componentDidMount(){this.props.useToUpdateTitleAndTabIcon&&this._handleUpdateIconAndTitleForNotification()}componentDidUpdate(e,t){this.props.useToUpdateTitleAndTabIcon&&(this._didNotificationCountChangeFromZero(e)&&this._onNewNotificationsCountChangeFromZero(),this._didNotificationCountIncrement(e)&&this._onNewNotificationsCountIncrement(),this._didNotificationCountClear(e)&&this._onNotificationsCountClear())}render(){return c.createElement(AT,{count:this._returnNewNotificationsCount(),className:this.props.className})}}var d5=T((e=>({notifications:e.notifications})))(c5);const u5=({value:e})=>"$"+Vk(e),h5=u(Jr)`
  justify-content: space-between;
`,p5=u.div``,m5=u.div``,g5=u(Jr)`
  justify-content: space-between;
`,y5=u.span`
  display: inline-block;

  * {
    color: ${({theme:e})=>e.themeColors.text};
  }

  @media (max-width: 408px) {
    font-size: 10px !important;
    line-height: 14px;
  }
`,_5=u.span`
  display: inline-block;
  min-width: 76px;
  text-align: right;

  i {
    font-size: 18px !important;
    line-height: 22px;
  }

  .number-with-change-indicator-value {
    display: inline-block;
    min-width: 46px;
  }

  @media (max-width: 408px) {
    min-width: 58px;

    .number-with-change-indicator-value {
      display: inline-block;
      min-width: 34px;
    }

    * {
      font-size: 10px !important;
      line-height: 14px;
    }
    i {
      font-size: 16px !important;
      line-height: 22px;
    }
  }
`;const f5=({securityId:e})=>{const t=IH(e),{percentChange:n}=iM(e),r=b(),i=_(),{symbol:a}=t;return c.createElement(m5,{key:e},c.createElement(iT,{key:`general-market-ticker-${e}`,to:(s=e,CU({securityId:s,navigate:r,location:i})),additionalClickAction:()=>(TC("Open Security Panel",{Context:"Market Monitor","Security Id":e,"Security Symbol":a})(),null),noTextDecoration:!0},c.createElement(g5,null,c.createElement(y5,null,c.createElement(hw,{fontSettings:{small:"10px",normal:"12px"}},`${function({symbol:e,name:t}){return{SPY:"S&P 500",QQQ:"NASDAQ 100"}[e]||t}(t)} (${t.symbol})`)),c.createElement(_5,null,c.createElement(C$,{customClass:"dashboard",valueFormat:"percentage",displayValue:eg(n,"percentage"),value:n,coloredText:!0,showPlus:!0})))));var s},v5=({inline:e})=>{const t=P(),n=D((e=>e.marketMonitor.securities));return c.useEffect((()=>{(async()=>{const e=["SPY","QQQ"],n=await _C(e,"symbol")(t),r=[],{status:i,data:a}=n;if(200===i){const{securities:n}=a,i=[];e.forEach((e=>{const t=n.filter((t=>t.symbol===e))[0],{symbol:a,id:s}=t;i.push(s),r.push({symbol:a,id:s})})),py.addSecurities(r),LE(r)(t),await mC(i)(t)}})()}),[]),!n||n.length<1?null:e?c.createElement(Iw,null,c.createElement(h5,null,n.map((e=>c.createElement(f5,{key:e.id,securityId:e.id}))))):c.createElement(Iw,null,c.createElement(p5,null,n.map((e=>c.createElement(f5,{key:e.id,securityId:e.id})))))},E5=u.div`
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  font-size: 18px;
  border-radius: 4px;

  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
`,b5=u.div`
  padding: 16px;
`,C5=u.div`
  border: 1.2px solid ${({theme:e})=>e.themeColors.appBackground};
`,x5=u.span`
  display: block;
  font-size: 12px;
  line-height: 14px;
  letter-spacing: 0.02em;
  opacity: var(--de-emphasized-text-opacity);
  font-family: 'Bolton-Bold', sans-serif;
`,w5=u.span`
  font-size: 28px;
  line-height: 32px;
  letter-spacing: 0.02em;

  @media (max-width: 365px) {
    font-size: 24px;
    line-height: 28px;
  }
`,S5=u.div`
  font-size: 12px;
  line-height: 14px;
  letter-spacing: 0.02em;

  padding-top: 8px;
`,k5=u.div`
  display: inline-block;
  min-width: 180px;
`,T5=u(Jr)`
  justify-content: space-between;
`,I5=u.div`
  text-align: right;
  * {
    text-align: right;
  }

  i {
    font-size: 16px;
    line-height: 22px;
  }

  span {
    font-size: 12px;
    line-height: 20px;
  }

  .value-wrapper {
    font-weight: 600;
  }

  .fa-minus {
    top: -2px !important;
  }
`,N5=u.div`
  padding: 16px;

  span {
    font-size: 12px;
    line-height: 20px;
  }
`,A5=u.div`
  padding-right: 16px;
  padding-bottom: 16px;
`,P5=u.div`
  font-size: 12px;
  line-height: 20px;
  opacity: var(--de-emphasized-text-opacity);

  .lt-d-last {
    font-size: 12px;
    line-height: 20px;
    opacity: var(--de-emphasized-text-opacity);
  }
`;u.div`
  font-size: 12px;
  line-height: 20px;
  padding-top: 8px;
`,u.div`
  * {
    font-weight: 200;
  }
`;const D5=u.div`
  font-size: 12px;
  line-height: 18px;
  font-weight: 200;

  opacity: 0.6;
`;u.div`
  font-size: 12px;
  line-height: 18px;
  font-weight: 200;

  opacity: 0.6;
`;const O5=({isPortfolioLoading:e,portfolioValue:t,pendingEquityValue:n,pendingEquityReasons:r,dayChange:i,isOpen:a,isInExtendedTrading:s,isExtendedPricingEnabled:o,extendedTradingPrefix:l,extendedHoursValue:d,extendedHoursValueAsOfTimeDisplay:u,pricingAsOfTimeDisplay:h,isLiveTradingApproved:p,isLiveTrading:m})=>{const g=h&&(!a&&!o);return c.createElement("div",null,c.createElement(E5,null,c.createElement(b5,null,c.createElement(T5,null,c.createElement(k5,null,c.createElement(x5,null,"Portfolio Value"),c.createElement(Iw,{top:8},e?c.createElement(Iw,{centerAll:!0,height:36,width:80},c.createElement(YJ,{type:GJ})):c.createElement(w5,null,c.createElement(u5,{value:t}))),g&&c.createElement(A5,null,c.createElement(P5,null,h)),!m&&c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),n>0&&c.createElement(S5,null,c.createElement(ai,{style:{display:"inline-block"}},c.createElement("span",null,p?"Pending: ":"Pending account approval: "),c.createElement(u5,{value:n}),c.createElement(iS,{customMessage:r,style:{top:"0px",right:"-18px"},trackingMessage:"Pending Equity Reasons"})))),c.createElement(Jr,null,c.createElement(I5,null,c.createElement(x5,null,"Day Change"),c.createElement(Jr,{vAlign:"center",hAlign:"right",style:{paddingTop:"2px"}},e||i&&(null===i.value||isNaN(i.value))?c.createElement(Jr,{vAlign:"center",padding:"0 28px 0 0px"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{}})):c.createElement(c.Fragment,null,c.createElement(C$,{valueFormat:"price",value:i.value,customDisplayValue:`${Hk(i.value)}$${Zm.float(Math.abs(i.value))}`,coloredText:!0}),c.createElement("div",{style:{paddingLeft:"6px"}}),c.createElement(C$,{valueFormat:"percentage",value:i.percentage,customDisplayValue:`${Hk(i.percentage)}${Zm.float(Math.abs(i.percentage))}%`,coloredText:!0,hideIcon:!0})))))),o&&s&&null!==d&&c.createElement(D5,null,c.createElement(Iw,{top:8,row:!0,verticallyCentered:!0,flexWrap:!0},l,": ",c.createElement(u5,{value:d})," ",c.createElement(C$,{valueFormat:"percentage",value:i.extended.percentage,customDisplayValue:`${Hk(i.extended.percentage)}${Zm.float(Math.abs(i.extended.percentage))}%`,hideIcon:!0}),c.createElement(Tw,{left:6}),u))),c.createElement(C5,null),c.createElement(N5,null,c.createElement(v5,{inline:!0}))))},L5=u.div`
  width: 100%;
  font-size: 18px;
  border-radius: 4px;

  background-color: ${({theme:e})=>e.themeColors.component};
`,R5=u.div`
  padding: 16px 24px;
`,F5=u.div`
  border: 1.2px solid ${({theme:e})=>e.themeColors.appBackground};
`,M5=u.span`
  display: block;
  font-size: 12px;
  line-height: 14px;
  letter-spacing: 0.02em;
  opacity: var(--de-emphasized-text-opacity);
`,U5=u.div`
  line-height: 36px;
`,$5=u.span`
  font-size: 32px;
  line-height: 36px;
  letter-spacing: 0.02em;
  font-weight: 500;
`,B5=u.div`
  font-size: 12px;
  line-height: 14px;
  letter-spacing: 0.02em;

  padding-top: 8px;
`,z5=u.div`
  display: inline-block;
  min-width: 210px;
`,V5=u(Jr)`
  justify-content: space-between;
`,H5=u.div`
  min-width: 160px;

  span {
    font-size: 12px;
    line-height: 20px;
  }

  .value-wrapper {
    font-weight: 600;
  }
`,W5=u.div`
  /* padding-top: 10px; */
  min-width: 200px;

  span {
    font-size: 12px;
    line-height: 20px;
  }
`,j5=u.div`
  padding-right: 24px;
`;u.div`
  font-size: 12px;
  line-height: 18px;
  font-weight: 200;

  * {
    font-size: 12px;
    line-height: 18px;
    font-weight: 200;
  }
`;const G5=u.div`
  font-size: 12px;
  line-height: 18px;
  font-weight: 200;

  opacity: 0.6;
`,q5=u.div`
  font-size: 12px;
  line-height: 18px;
  font-weight: 200;
`,Y5=u.div`
  font-size: 12px;
  line-height: 20px;
  padding-top: 8px;
`,K5=u.div`
  font-size: 12px;
  line-height: 20px;
  //opacity: var(--de-emphasized-text-opacity);

  .lt-d-last {
    font-size: 12px;
    line-height: 20px;
    opacity: var(--de-emphasized-text-opacity);
  }
`,Q5=({isPortfolioLoading:e,portfolioValue:t,pendingEquityValue:n,pendingEquityReasons:r,dayChange:i,cashBalance:a,extendedTradingPrefix:s,isOpen:o,isInExtendedTrading:l,isExtendedPricingEnabled:d,extendedHoursValue:u,extendedHoursValueAsOfTimeDisplay:h,showRefreshButton:p,pricingAsOfTimeDisplay:m,isRefreshing:g,handleRefresh:y,isLiveTrading:_,isLiveTradingApproved:f})=>{const v=m&&(!o&&!d);return c.createElement(L5,null,c.createElement(R5,null,c.createElement(V5,null,c.createElement(z5,null,c.createElement(M5,null,"Portfolio Value"),c.createElement(Iw,{top:8},c.createElement(U5,null,e?c.createElement(Iw,{centerAll:!0,height:36,width:80},c.createElement(YJ,{type:GJ})):c.createElement($5,null,c.createElement(u5,{value:t})))),v&&c.createElement(Iw,{top:0},c.createElement(K5,null,m)),d&&l&&null!==u&&c.createElement(Iw,{top:4},c.createElement(G5,null,c.createElement(Iw,{row:!0,verticallyCentered:!0,flexWrap:!0},s,": ",c.createElement(u5,{value:u})," ",c.createElement(C$,{valueFormat:"percentage",value:i.extended.percentage,customDisplayValue:`${Hk(i.extended.percentage)}${Zm.float(Math.abs(i.extended.percentage))}%`,hideIcon:!0}),c.createElement(Tw,{left:6}),c.createElement(q5,null,h)))),!_&&c.createElement(Iw,{top:4},c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),n>0&&c.createElement(B5,null,c.createElement(ai,{style:{display:"inline-block"}},c.createElement("span",null,f?"Pending: ":"Pending account approval: "),c.createElement(u5,{value:n}),c.createElement(iS,{customMessage:r,style:{top:"0px",right:"-18px"},trackingMessage:"Pending Equity Reasons"})))),c.createElement(Jr,null,c.createElement(H5,null,c.createElement(M5,null,"Day Change"),c.createElement(Y5,null,e||i&&(null===i.value||isNaN(i.value))?c.createElement(Iw,{centerAll:!0,height:36,width:80},c.createElement(YJ,{type:GJ})):c.createElement(Iw,null,c.createElement(Iw,{row:!0,verticallyCentered:!0},c.createElement(C$,{valueFormat:"price",value:i.value,customDisplayValue:`${Hk(i.value)}$${Zm.float(Math.abs(i.value))}`,coloredText:!0}),c.createElement(Tw,{left:6}),c.createElement(C$,{valueFormat:"percentage",value:i.percentage,customDisplayValue:`${Hk(i.percentage)}${Zm.float(Math.abs(i.percentage))}%`,coloredText:!0,hideIcon:!0}))))),c.createElement(H5,null,c.createElement(M5,{className:" "},"Cash Balance"),c.createElement("div",{style:{fontSize:"12px",lineHeight:"20px",paddingTop:"8px"}},c.createElement("span",null,!isNaN(a)&&c.createElement(u5,{value:a})))),c.createElement(W5,null,c.createElement(M5,{className:" "},"Market"),c.createElement("div",{style:{fontSize:"12px",lineHeight:"20px",paddingTop:"8px"}},c.createElement(v5,null)))))),p&&c.createElement(c.Fragment,null,c.createElement(F5,null),c.createElement(R5,null,c.createElement(Jr,{vAlign:"center"},c.createElement(j5,null,c.createElement(ex,{isRefreshing:g,onClick:y}))))))},Z5=e=>{const t=P(),[n,r]=c.useState(!1),i=eI(),a=ZT(),s=D((e=>e.ideas)),l=(e=>1===e.prominent_refresh_buttons_test_group)(a),d=jp(a),u=(n={})=>{const r=o({batch_index:0,page:1},n);return Pb(r)(t).then((n=>(e?Db()(t).then((()=>{Ab()(t)})):Ab()(t),n)))},h=()=>{const e=((e,t)=>t&&"ideaList"in t?qp(e,t).map((e=>AS(e))):(console.error("Invalid idea store provided to doesCurrentUserHaveIdeas"),!1))(i,s);return yC(e)(t)};return{isRefreshing:n,handleRefresh:async()=>{n||(r(!0),Cu("Click Portfolio Refresh Button",{themeTestGroups:d}),TC("Clicked Refresh Dashboard Data",{"Button Style":l?"Prominent":"Default"})(),Xb()(t),await Promise.all([ME()(t).then((e=>(e&&e.error&&e.error.response&&e.error.response.status&&401===e.error.response.status&&(window.location="/?sessionExpired=true"),e))),dC()(t),MC()(t),h(),void _C(["SPY","QQQ"],"symbol")(t),u({forceRefresh:!0})]),r(!1))}}},X5=({isUpdating:e,handleRefreshData:t,hideRefresh:n})=>{const r=XO(),i=!r,a=ZT(),s=(()=>{const e=ZT();return Wp(e)})(),o=XT(),{extendedTradingPrefix:l}=GN(),{isRefreshing:d,handleRefresh:u}=Z5(i),h=e||d,p=t||u,{value:m}=XN(),{value:g,isLoading:y,pricingAsOfTimeDisplay:_,extendedHoursValue:f,extendedHoursValueAsOfTimeDisplay:v}=QN(),E=ZN(),{pendingEquityValue:b,pendingEquityReasons:C}=JN(),{isOpen:x,isInExtendedTrading:w}=WN(),S=!n&&!s;return r?c.createElement(O5,{isPortfolioLoading:y,isOpen:x,isInExtendedTrading:w,isExtendedPricingEnabled:o,extendedHoursValue:f,extendedHoursValueAsOfTimeDisplay:v,portfolioValue:g,pendingEquityValue:b,pendingEquityReasons:C,extendedTradingPrefix:l,dayChange:E,cashBalance:m,isStreamingPrices:s,showRefreshButton:S,pricingAsOfTimeDisplay:_,isRefreshing:h,isLiveTrading:null==a?void 0:a.is_live_trading,isLiveTradingApproved:null==a?void 0:a.is_live_trading_approved,handleRefresh:p}):c.createElement(Q5,{isPortfolioLoading:y,isOpen:x,isInExtendedTrading:w,isExtendedPricingEnabled:o,extendedHoursValue:f,extendedHoursValueAsOfTimeDisplay:v,portfolioValue:g,pendingEquityValue:b,pendingEquityReasons:C,dayChange:E,extendedTradingPrefix:l,cashBalance:m,isStreamingPrices:s,showRefreshButton:S,pricingAsOfTimeDisplay:_,isRefreshing:h,isLiveTrading:null==a?void 0:a.is_live_trading,isLiveTradingApproved:null==a?void 0:a.is_live_trading_approved,handleRefresh:p})};var J5=Object.defineProperty,e3=(e,t,n)=>(((e,t,n)=>{t in e?J5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const t3=u.div`
  padding: 8px 0 24px 0;

  .panel-selection-tab {
    margin: 0;
    text-transform: uppercase;
    font-weight: bold;
    letter-spacing: 0.4px;
    width: 160px;
    cursor: pointer;
    height: 40px;

    border: 2px solid;
    border-color: ${({theme:e})=>e.themeColors.border};
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};

    &:first-child {
      border-top-left-radius: 5px;

      border-bottom-left-radius: 5px;
      border-top-right-radius: 0px;
      border-bottom-right-radius: 0px;
    }
    &:nth-child(2) {
      border-top-left-radius: 0px;
      border-bottom-left-radius: 0px;

      border-top-right-radius: 5px;
      border-bottom-right-radius: 5px;
    }

    &:hover {
      border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      color: ${({theme:e})=>e.themeColors.buttonText};
    }

    &.active {
      border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
      color: ${({theme:e})=>e.themeColors.buttonText};

      &:hover {
        border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
        background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
        color: ${({theme:e})=>e.themeColors.buttonText};
      }
    }
  }
`,n3=u.div`
  @media (max-width: 1133px) {
    max-width: 600px;
    margin: 0 auto;
  }
`;class r3 extends C.exports.Component{constructor(){super(),e3(this,"_removeTabFromURLWhenBeingIgnored",(()=>{const{pathname:e,search:t}=window.location,n=e.split("/app")[1],r=fe(t);if(this._shouldShowDesktopDashboard()&&r.tab){const e=((e,t)=>{const n={};return Object.keys(n).filter((e=>e!==t)).forEach((t=>n[t]=e[t])),n})(r,"tab"),t=ve(e);this.props.navigate(`${n}${t}`)}})),e3(this,"_returnDesktopToMobileBreakPoint",(()=>1125)),e3(this,"_shouldShowInviteFriendsMessaging",(()=>this.state._shouldShowInviteFriendsMessaging)),e3(this,"_shouldShowSubscriptionPlanMessaging",(()=>this.state._shouldShowSubscriptionPlanMessaging)),e3(this,"_shouldShowAskCTLMessaging",(()=>this.state._shouldShowAskCTLMessaging)),e3(this,"_setShowInviteFriendsMessaging",(()=>{this.setState((()=>({_shouldShowInviteFriendsMessaging:!0})))})),e3(this,"_setHideShowInviteFriendsMessaging",(()=>{this.setState((()=>({_shouldShowInviteFriendsMessaging:!1})))})),e3(this,"_setShowSubscriptionPlanMessaging",(()=>{this.setState((()=>({_shouldShowSubscriptionPlanMessaging:!0})))})),e3(this,"_setHideSubscriptionPlanMessaging",(()=>{this.setState((()=>({_shouldShowSubscriptionPlanMessaging:!1})))})),e3(this,"_setShowAskCTLMessaging",(()=>{this.setState((()=>({_shouldShowAskCTLMessaging:!0})))})),e3(this,"_setHideAskCTLMessaging",(()=>{this.setState((()=>({_shouldShowAskCTLMessaging:!1})))})),e3(this,"_checkIfShouldShowMessaging",(()=>{if(Hp(this.props.currentUser)){const r=Math.random(),i=kp(this.props.currentUser),a=wp(this.props.currentUser),s=(e,t)=>!!t&&(t[0]<=e&&e<=t[1]);var e=!1,t=!1,n=!1;a&&i?(e=s(r,[0,.3333]),t=s(r,[.3333,.6666]),n=s(r,[.6666,1])):a&&!i?(e=s(r,[0,.5]),t=s(r,[.5,1])):!a&&i?(n=s(r,[0,.5]),t=s(r,[.5,1])):t=!0,e?(this._setShowInviteFriendsMessaging(),this._logSeenInviteFriendsMessaging()):n?(this._setShowSubscriptionPlanMessaging(),this._logSeenSubscriptionPlanMessaging()):t&&this._setShowAskCTLMessaging()}})),e3(this,"getUpdatedNotifications",((e={})=>{const t=this._returnConfigForNotifRequest(e);return this.props.actions.getUpdatedNotifications(t).then((e=>(this._isFeedShowing()?this.sendUpdatedLastSeenNotifTime().then((e=>{this._getUnseenNotifsCount()})):this._getUnseenNotifsCount(),e)))})),e3(this,"sendUpdatedLastSeenNotifTime",(()=>this.props.actions.postUpdatedLastSeenNotificationTime())),e3(this,"_returnConfigForNotifRequest",((e={})=>o({batch_index:0,page:1},e))),e3(this,"_getUnseenNotifsCount",(()=>this.props.actions.getUnseenNotificationsCount())),e3(this,"returnTabNameToPanelNameLookup",(()=>({positions:"leftPanel",feed:"rightPanel"}))),e3(this,"returnTabNames",(()=>["positions","feed"])),e3(this,"returnRendererPanelSelectionComponent",(()=>c.createElement(t3,{className:"panel-selection-container"},this.returnTabNames().map((e=>this._renderPanelSelectionTab(e)))))),e3(this,"_renderPanelSelectionTab",(e=>{const t=this._isMobileTabActive(e)?"active":"";return c.createElement("div",{key:`panel-selection-tab-${e}`,className:`panel-selection-tab panel-selection-tab-positioning ${e} ${t}`,onClick:this._bindTabKeyToMakePanelActive(e)},this._panelTabKeyToDisplayName(e))})),e3(this,"_renderAdditionalTabComponent",(e=>"feed"===e?c.createElement(d5,null):null)),e3(this,"_panelTabKeyToDisplayName",(e=>({positions:"Positions",feed:"Activity"}[e]))),e3(this,"_createUrlForPanel",(e=>{const t=this._returnLocationPathname(),n=this._returnLocationSearch(),r=fe(n);r.tab=e;return t+ve(r)})),e3(this,"_makePanelActive",(e=>{const t=this._createUrlForPanel(e);this.props.navigate(t)})),e3(this,"_bindTabKeyToMakePanelActive",(e=>()=>{this._logDashboardTabClick(e),this._makePanelActive(e)})),e3(this,"_isMobileTabActive",(e=>e===this.returnActiveTab())),e3(this,"_returnDefaultTab",(()=>this._shouldDefaultToPositionsTab()?"positions":"feed")),e3(this,"_shouldShowFeed",(()=>"feed"===this.returnActiveTab())),e3(this,"_isFeedShowing",(()=>this._shouldShowDesktopDashboard()||!this._shouldShowDesktopDashboard()&&"feed"===this.returnActiveTab())),e3(this,"_convertTabKeyToEventName",(e=>({positions:"Positions",feed:"Activity"}[e]||console.error(`Tabkey: ${e} -> did not match any event names`)))),e3(this,"_didTabChange",(()=>this.activeTab!==this.returnActiveTab())),e3(this,"_getLocalTabTracking",(()=>this.activeTab)),e3(this,"_updateLocalTabTracking",(e=>this.activeTab=e)),e3(this,"_shouldDefaultToPositionsTab",(()=>0===this._returnCurrentUser().default_activity_tab_test_group)),e3(this,"returnActiveTab",(()=>this._parseTabFromSearchQuery()||this._returnDefaultTab())),e3(this,"_parseTabFromSearchQuery",(()=>fe(this._returnLocationSearch()).tab||null)),e3(this,"_returnLocationSearch",(()=>this._returnLocation().search||"")),e3(this,"_returnLocationPathname",(()=>this._returnLocation().pathname)),e3(this,"_returnLocation",(()=>this.props.location)),e3(this,"_shouldShowDesktopDashboard",(()=>this.props.windowWidth>=this._returnDesktopToMobileBreakPoint())),e3(this,"_returnCurrentUserId",(()=>yp(this.props.currentUser))),e3(this,"_returnCurrentUser",(()=>this.props.currentUser)),e3(this,"_forceRefreshGetUpdatedNotifications",(()=>this.getUpdatedNotifications({forceRefresh:!0}))),e3(this,"_refreshCurrentUserData",(()=>this.props.actions.fetchCurrentUserQuickInfo().then((e=>(e&&e.error&&e.error.response&&e.error.response.status&&401===e.error.response.status&&(window.location="/?sessionExpired=true"),e))))),e3(this,"_updatePageTitle",(()=>{document.title=`${Xo} - Dashboard`})),e3(this,"_logDashboardView",(()=>{this.props.actions.logMetricsTrackingEvent("View Dashboard")})),e3(this,"_logPanelViews",(()=>{this._shouldShowDesktopDashboard()?(this._logDashboardFeedView(),this._logDashboardTableView()):"positions"===this.returnActiveTab()?this._logDashboardTableView():this._logDashboardFeedView()})),e3(this,"_logDashboardTableView",(()=>{this.props.actions.logMetricsTrackingEvent("View Dashboard Positions Table")})),e3(this,"_logDashboardFeedView",(()=>{this.props.actions.logMetricsTrackingEvent("View Dashboard Activity Feed")})),e3(this,"_logDashboardTabClick",(e=>{const t={Tab:this._convertTabKeyToEventName(e)};this.props.actions.logMetricsTrackingEvent("Clicked Dashboard Tab",t)})),e3(this,"_logSeenInviteFriendsMessaging",(()=>{this.props.actions.logMetricsTrackingEvent("View Invite Friends Messaging",{Context:"Feed"})})),e3(this,"_logSeenSubscriptionPlanMessaging",(()=>{this.props.actions.logMetricsTrackingEvent("View Subscription Plan Messaging",{Context:"Feed"})})),this.state={_shouldShowInviteFriendsMessaging:!1,_shouldShowSubscriptionPlanMessaging:!1,_shouldShowAskCTLMessaging:!1,_isInfiniteScrollTriggered:!1}}componentDidMount(){this._updateLocalTabTracking(this.returnActiveTab()),this._updatePageTitle(),this._logDashboardView(),this._logPanelViews(),this._removeTabFromURLWhenBeingIgnored(),this._refreshCurrentUserData(),this._forceRefreshGetUpdatedNotifications()}componentDidUpdate(){this._didTabChange()&&(this._updateLocalTabTracking(this.returnActiveTab()),"positions"===this.returnActiveTab()?this._logDashboardTableView():this._logDashboardFeedView()),this._removeTabFromURLWhenBeingIgnored()}render(){return c.createElement("div",{className:"dashboard-page-container"},c.createElement("div",{className:"dashboard-page"},c.createElement("div",{className:"dashboard-container "+(this._shouldShowDesktopDashboard()?"desktop":"mobile")},c.createElement(n3,null,c.createElement(X5,null)),c.createElement(s5,{className:"dashboard-body",layoutType:this._shouldShowDesktopDashboard()?"desktop":"mobile",windowHeight:this.props.windowHeight,shouldShowInviteFriendsMessaging:this._shouldShowInviteFriendsMessaging(),shouldShowSubscriptionPlanMessaging:this._shouldShowSubscriptionPlanMessaging(),shouldShowAskCTLMessaging:this._shouldShowAskCTLMessaging(),getUpdatedNotifications:this.getUpdatedNotifications,sendUpdatedLastSeenNotifTime:this.sendUpdatedLastSeenNotifTime,activeTab:this.returnActiveTab(),tabsRenderer:this.returnRendererPanelSelectionComponent,tabNameToPanelNameLookup:this.returnTabNameToPanelNameLookup()}))))}}const i3=N(Xk,T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(r3),a3={a:{heading:"Two Heads Are Better Than One. Especially in Investing.",subtext:c.createElement("div",{className:"rewards-sub-heading-container"},c.createElement("p",null,"Invest better with help from your friends."),c.createElement("p",null,"When you bounce ideas off people you trust, everyone gets smarter."))},b:{heading:"Two Heads Are Better Than One. Especially in Investing.",subtext:c.createElement("div",{className:"rewards-sub-heading-container"},c.createElement("p",null,"When you bounce ideas off people you trust, everyone gets smarter."),c.createElement("p",null,"That's what the pros do."))},c:{heading:"Invest better with help from your friends.",subtext:c.createElement("div",{className:"rewards-sub-heading-container"},c.createElement("p",null,"Two heads are better than one. Especially in investing."),c.createElement("p",null,"When you bounce ideas off people you trust, everyone gets smarter."))},d:{heading:"You and a friend can both get up to $1,000 to invest free.",subtext:c.createElement("div",{className:"rewards-sub-heading-container"},c.createElement("p",null,"Two heads are better than one. Especially in investing."),c.createElement("p",null,"When you bounce ideas off people you trust, everyone gets smarter."))}};var s3=Object.defineProperty,o3=(e,t,n)=>(((e,t,n)=>{t in e?s3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class l3 extends c.PureComponent{constructor(){super(...arguments),o3(this,"_returnFundingRewardTrackingEarnedMessage",(()=>{const{fundingRewardsTotalRedeemed:e,fundingRewardsTotalApproved:t,rewardsRequireACHLink:n}=this.props;return 0===e?null:0===t?c.createElement("div",{className:"rewards-earned-container"},c.createElement("span",{className:"success-text-color"},"You'll get the funding reward of "),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},this._formatRewardValueForDisplay(e)),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},`once your account is approved${n?" and you link a valid bank account":""}.`)):c.createElement("div",{className:"rewards-earned-container"},c.createElement("span",{className:"success-text-color"},"You've earned"),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},this._formatRewardValueForDisplay(t)),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},"in funding rewards so far."))})),o3(this,"_returnRewardTrackingEarnedMessage",(()=>{const{redeemedRewardsTotal:e,approvedRewardsTotal:t,didReachMaxPrizeLimit:n,rewardsRequireACHLink:r}=this.props;return 0===e?null:0===t?c.createElement("div",{className:"rewards-earned-container"},c.createElement("span",{className:"success-text-color"},"You'll get"),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},this._formatRewardValueForDisplay(e)),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},`once your account is approved${r?" and you link a valid bank account":""}.`)):c.createElement("div",{className:"rewards-earned-container"},c.createElement("span",{className:"success-text-color"},"You've earned"),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},`${this._formatRewardValueForDisplay(t)}`),c.createElement(zz,null),c.createElement("span",{className:"success-text-color"},n?".":"so far."))})),o3(this,"_formatRewardValueForDisplay",(e=>$k(e)?B_(e,"priceInt"):B_(e,"price"))),o3(this,"_returnRewardTrackingUnearnedMessage",(()=>{const{totalCashToKeep:e,nextRewardExpirationDateFormattedMMDDYY:t,rewardsRequiringTradeToKeep:n}=this.props;return e>0?c.createElement("div",null,c.createElement("div",{className:"rewards-unearned-container"},c.createElement("span",{className:"secondary-text-color"},`${this._formatRewardValueForDisplay(e)} is yours to keep.`)),c.createElement("div",{className:"rewards-unearned-container"},c.createElement("span",{className:"secondary-text-color"},`You'll just need to place a trade by ${t} to keep the remaining $${n}.`))):c.createElement("div",{className:"rewards-unearned-container"},c.createElement("span",{className:"secondary-text-color"},`You'll just need to place a trade by ${t} to keep it.`))}))}render(){const{hasUnearnedRewards:e}=this.props;return c.createElement("div",null,this._returnRewardTrackingEarnedMessage(),e&&this._returnRewardTrackingUnearnedMessage(),this._returnFundingRewardTrackingEarnedMessage())}}var c3=T((e=>{const t=e.currentUser,n=e.rewards,r=n.referral_reward_total_redeemed,i=n.referral_reward_total_approved,a=n.cash_requiring_trade_to_keep,s=i-a,o=n.next_cash_expiration_date,l=$p(t);return{hasUnearnedRewards:!nk(a)&&a>0,fundingRewardsTotalRedeemed:n.funding_reward_total_redeemed,fundingRewardsTotalApproved:n.funding_reward_total_approved,redeemedRewardsTotal:r,approvedRewardsTotal:i,rewardsRequiringTradeToKeep:a,totalCashToKeep:s,nextRewardExpirationDateFormattedMMDDYY:o,rewardsRequireACHLink:zp(t),didReachMaxPrizeLimit:r>=l}}))(l3);class d3 extends c.PureComponent{render(){const{rewardPrizeLimit:e}=this.props;return c.createElement("div",{className:"max-prize-limit-message-container on-rewards-page  "},c.createElement("div",{className:"text-wrapper-container"},`You've reached the maximum total cash reward of $${e}. You are no longer eligible to receive additional cash rewards.`),c.createElement("div",{className:"text-wrapper-container"},"Thank you for helping share intelligent investing."))}}var u3=T((e=>{const t=e.currentUser;return{rewardPrizeLimit:$p(t)}}))(d3);const h3=e=>e.rewards,p3=e=>h3(e).referral_reward_total_redeemed,m3=u.div`
  position: relative;
  width: 250px;
  height: 175px;
  margin: 0 auto;
  border-radius: 8px;
  -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  cursor: pointer;

  &:hover {
    opacity: 0.7;
  }

  * {
    color: ${vr.primary.charcoal};
  }
`,g3=u.div`
  position: absolute;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;

  border-radius: 8px;
  overflow: hidden;

  svg {
    width: 220%;
  }
`,y3=u.div`
  position: absolute;
  top: -32px;
  left: 14px;

  pointer-events: none;

  img {
    width: 225px;
  }
`,_3=u.div`
  position: absolute;
  bottom: 6px;
  left: 0px;
  right: 0px;

  text-align: center;
  font-size: 10px;
  text-transform: uppercase;
`,f3=u.div`
  position: absolute;
  top: 12px;
  left: 12px;

  svg {
    width: 26px;

    g {
      fill: ${vr.primary.charcoal};
    }
  }
`,v3=u.div`
  position: absolute;
  top: 9px;
  right: 14px;

  span {
    line-height: 30px;
  }
`,E3=()=>c.createElement(c.Fragment,null,c.createElement(g3,null,c.createElement(P0,null)),c.createElement(f3,null,c.createElement(Oi,null)),c.createElement(v3,null,c.createElement("span",null,"Reward")),c.createElement(y3,{hAlign:"center",vAlign:"center"},c.createElement("img",{src:"/app/assets/Gift_700px_TB_noshadow.abd25344.png"})),c.createElement(_3,null,c.createElement("span",null,"Click to claim"))),b3=({prize:e,bonusPercentage:t,baseReward:n})=>c.createElement("div",{className:"rewards-card-face prize card-back selected"},c.createElement("div",{className:"card-icon-container"},c.createElement(xc,{icon:"fa-money",size:"xlarge",colorClassName:"success-text-color"})),c.createElement("div",{className:"prize-amount success-text-color"},`$${isNaN(e)||null===e?"":e&&!Number.isInteger(e)?e.toFixed(2):e}`),null!==t&&c.createElement("div",{className:"sub-prize-amount success-text-color text-center"},`$${Number.isInteger(n)?n:n.toFixed(2)} + ${t}% Bonus`)),C3=e=>{const{onClick:t,isFlippable:n,shouldShowPrize:r}=e,i=`rewards-card flippable-card ${r?"flipped":""} selected`;return c.createElement(m3,{className:n?i:"",onClick:t},n?c.createElement("div",{className:"rewards-card-face card-front"},c.createElement(E3,null)):c.createElement(E3,null),n&&c.createElement(b3,o({},e)))},x3=({TEST_GROUP_TRACKING_DATA:e})=>{const t=D(qT),n=D(GT),r=D(p3);if(n||!t)return null;return c.createElement("div",{className:"open-live-account-rewards-message"},c.createElement("span",null,0===r?"Open your live trading account to access referral rewards.":"Open your live trading account to access it."),c.createElement("div",{className:"open-live-account-btn-container"},c.createElement(rT,{text:"Get Started",to:Ln("registerLiveAccountFormStart"),className:"btn btn-primary-color btn-small-tall",additionalClickAction:()=>{const t=o({Context:"Referrals Page"},e||{});TC("Clicked Open Live Account",t)()},scrollToTop:!0})))};var w3=_c((({TEST_GROUP_TRACKING_DATA:e,isUserEligibleForRewards:t,unredeemedRewardsCount:n,hasReachedRewardLimit:r,navigate:i})=>t?r?c.createElement("div",null,c.createElement(u3,null),c.createElement(x3,{TEST_GROUP_TRACKING_DATA:e})):n>0?c.createElement("div",null,c.createElement("div",{className:"rewards-available-message"},`You have ${n} new cash ${Ek("reward",n)}!`),c.createElement("div",{className:"rewards-card-container"},c.createElement(C3,{onClick:()=>{i(gn.build()),(()=>{const t=o({"Redeemable Count":n},e||{});TC("Clicked Redeem Rewards",t)()})()}})),c.createElement(c3,null),c.createElement(x3,{TEST_GROUP_TRACKING_DATA:e})):c.createElement("div",null,c.createElement(c3,null),c.createElement(x3,{TEST_GROUP_TRACKING_DATA:e})):c.createElement("div",{className:"ineligible-for-referral-program-container"},"Sorry, you're not eligible to receive rewards."))),S3=Object.defineProperty,k3=(e,t,n)=>(((e,t,n)=>{t in e?S3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class T3 extends c.PureComponent{constructor(){super(...arguments),k3(this,"_renderOptionCard",((e,t,n)=>c.createElement("div",{key:`option-card-${n}`,className:"nvstr-option-card "+(5e3===e?"white-out":""),style:{background:t}},c.createElement("div",{className:"card-shine "+(5e3===e||500===e||10===e?"lighter-streak":"")}),c.createElement("div",{className:"value top"},c.createElement("div",null,e)),c.createElement("div",{className:"value bottom"},c.createElement("div",null,e)),c.createElement("div",{className:"card-container"},c.createElement("div",{className:"option-card-logo"},c.createElement("img",{src:5e3===e?"/app/assets/n_logo_alpha_white.32e4be8a.png":"/app/assets/n_logo_alpha.4f3f1a80.png",className:"",alt:"nvstr-logo"})))))),k3(this,"_renderOptionCardsEarned",(()=>c.createElement("div",{className:"options-earned-container"},this._createOptionCards()))),k3(this,"_returnHighestValueSubtrahend",((e,t)=>{let n=null;return e.forEach((e=>{null===n&&t-e>=0&&(n=e)})),n})),k3(this,"_returnOptionCardValues",(()=>[5e3,1e3,500,100,50,10])),k3(this,"_createCard",((e,t)=>{let n;n=50===e?"#D2FBFF":100===e?"#DCFFD2":500===e?"#ddd":1e3===e?"#FFE319":5e3===e?"#040404":"#fff";const r={value:e,bg:n};return this._renderOptionCard(r.value,r.bg,t)})),k3(this,"_createOptionCards",(()=>{const e=[],{nvstrOptionsEarnedTotal:t}=this.props;let n=t;for(;n>0;){const t=this._returnHighestValueSubtrahend(this._returnOptionCardValues(),n);n-=t;const r=this._createCard(t,e.length+1);e.push(r)}return e}))}render(){const{hasNvstrOptionsEarned:e}=this.props;return e?c.createElement("div",{className:"options-earned-section-container"},c.createElement("div",{className:"options-earned-heading"},`${Xo} stock options* earned`),this._renderOptionCardsEarned()):null}}var I3=T((e=>{const t=e.rewards.options_total_redeemed;return{nvstrOptionsEarnedTotal:t,hasNvstrOptionsEarned:t>0}}))(T3);const N3=u.span`
  * {
    color: ${({theme:e})=>e.themeColors.text};
  }
`;class A3 extends c.PureComponent{render(){const e=Ln("referralRules"),{requiresTrade:t,requiresACHLink:n,rewardLimit:r}=this.props;return c.createElement("div",null,c.createElement("div",{className:"referral-rewards-disclaimer disclaimer"},c.createElement(Ei,{isSmall:!0,isLowContrast:!0},`Free cash in your ${Xo} brokerage account. `),t&&c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Must place a trade within 1 month to keep sign up/referral rewards."," "),n&&c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Must link a valid bank account to receive rewards."," "),c.createElement(Ei,{isSmall:!0,isLowContrast:!0},`Limit ${B_(r,"priceInt")} per person. Only valid for live trading accounts. `),c.createElement(Ei,{isSmall:!0,isLowContrast:!0},c.createElement("span",null,"See the"),c.createElement(N3,null,c.createElement(rT,{text:" Referral Program Rules ",to:e,scrollToTop:!0})),c.createElement("span",null,"for details. "))))}}var P3=T((e=>{const t=e.currentUser;return{requiresTrade:Bp(t),requiresACHLink:zp(t),rewardLimit:$p(t)}}))(A3);const D3=e=>(e.id,e.height,e.width,c.createElement("svg",{version:"1.2",baseProfile:"tiny",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 64 64",overflow:"scroll",xmlSpace:"preserve"},c.createElement("path",{fill:"#EAEAEA",d:"M53,50H11c-1.657,0-3-1.343-3-3V17c0-1.657,1.343-3,3-3h42c1.657,0,3,1.343,3,3v30\n        C56,48.657,54.657,50,53,50z"}),c.createElement("path",{fill:"#D54C3F",d:"M14,50h-3c-1.657,0-3-1.343-3-3V17c0-1.657,1.343-3,3-3h0c1.657,0,3,1.343,3,3V50z"}),c.createElement("path",{fill:"#B63524",d:"M50,50h3c1.657,0,3-1.343,3-3V17c0-1.657-1.343-3-3-3h0c-1.657,0-3,1.343-3,3V50z"}),c.createElement("path",{fill:"#DE5145",d:"M54.718,19.46C55.493,18.917,56,18.018,56,17c0-1.657-1.343-3-3-3c-0.639,0-1.232,0.2-1.718,0.54\n        c0,0-19.28,14.037-19.28,14.037L32,28.578l-0.002-0.001L12.718,14.54C12.232,14.2,11.639,14,11,14c-1.657,0-3,1.343-3,3\n        c0,1.018,0.507,1.917,1.282,2.46l-0.08-0.059L32,36"}),c.createElement("line",{fill:"#DE5145",x1:"54.799",y1:"19.401",x2:"32",y2:"36"}),c.createElement("path",{fill:"#EFEFEF",d:"M53,14c-0.639,0-1.232,0.2-1.718,0.54c0,0-19.28,14.037-19.28,14.037L32,28.578l-0.002-0.001L12.718,14.54\n        C12.232,14.2,11.639,14,11,14L53,14z"}),c.createElement("path",{fill:"#C64132",d:"M14.001,24.188L8.945,19.18l-0.002,0.004c0.106,0.1,0.219,0.192,0.339,0.276l-0.08-0.059l4.8,3.495\n        l-0.001,1.328"}),c.createElement("polyline",{fill:"#E3E3E3",points:"28.668,38.591 14,50 14.001,24.063 28.665,38.587 "}),c.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"14.0005",y1:"30.7436",x2:"32",y2:"30.7436"},c.createElement("stop",{offset:"0",style:{stopColor:"#C8C8C8"}}),c.createElement("stop",{offset:"1",style:{stopColor:"#CDCDCD"}})),c.createElement("polygon",{fill:"url(#SVGID_1_)",points:"28.668,38.591 32,36 14.001,22.896 14.001,24.063 28.665,38.587 "}),c.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"28.6645",y1:"36.4474",x2:"50",y2:"36.4474"},c.createElement("stop",{offset:"0",style:{stopColor:"#D9D9D9"}}),c.createElement("stop",{offset:"1",style:{stopColor:"#E2E2E2"}})),c.createElement("polygon",{fill:"url(#SVGID_2_)",points:"40.061,50 50,50 50,22.895 32,36 28.665,38.587 "}))),O3=e=>(e.id,e.height,e.width,c.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 266.893 266.895",enableBackground:"new 0 0 266.893 266.895",xmlSpace:"preserve"},c.createElement("path",{id:"Blue_1_",fill:"#3C5A99",d:"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812\n      c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225\n      H248.082z"}),c.createElement("path",{id:"f",fill:"#FFFFFF",d:"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935\n      l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585\n      v99.803H182.409z"}))),L3=e=>c.createElement("div",{className:"faq-disclaimer"},c.createElement(Ei,null,c.createElement("span",{className:""},"Still have questions? We're here to help! Check the"," "),e.openInNewTab?c.createElement("a",{href:Ln("faq"),target:"_blank",className:""},"FAQ"):c.createElement(rT,{to:Ln("faq"),className:"",child:"FAQ"}),c.createElement("span",{className:""}," ","or contact us anytime at"," "),c.createElement("a",{href:"mailto:support@tornado.com"},"support@tornado.com"))),R3=e=>{const t=ad+e.link_to_path;return()=>{return e=t,void(window.location=e);var e}},F3=u.div`
  margin: 0 auto;
  max-width: 400px;

  * {
    color: ${({theme:e})=>e.themeColors.text} !important;
  }
`,M3=u.div`
  display: flex;
  flex: 1;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-start;
  width: 400px;
  max-width: 100%;

  padding-bottom: 16px;

  &:last-child {
    padding-bottom: 0;
  }
`,U3=u.div`
  padding-top: 2px;
  margin-right: 10px;

  svg {
    width: 16px;
    height: 16px;
  }

  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,$3=({text:e})=>c.createElement(M3,null,c.createElement(U3,null,c.createElement($i,{width:18})),"string"==typeof e?c.createElement(Ei,null,e):e),B3=u.div`
  padding: 16px 0;
  margin: 0 auto;
  max-width: 376px;
`,z3=e=>{const t=e.network;return c.createElement("div",{className:"data-security-message-container"},c.createElement("div",{className:"secure-padlock"},c.createElement("i",{className:"fa fa-lock fa-3"})),c.createElement("div",{className:"heading"},"Your privacy is important to us."),c.createElement(B3,null,c.createElement($3,{text:`Your ${t} login credentials are never made available to ${Xo}`}),c.createElement($3,{text:"We will never contact anyone without your consent"}),c.createElement($3,{text:"Transfer of your information is encrypted end-to-end"})),c.createElement(F3,null,c.createElement(L3,{openInNewTab:!0})),c.createElement("div",{className:"continue-button"},c.createElement(hx,{fullWidth:!0,onClick:R3(e)},"Continue")))},V3=(e,t)=>{t.showModal((e=>({className:"import-interstitial-modal",contentComponent:z3(e),dismissable:!0,size:"wide",overrideDismiss:R3(e)}))(e))},H3=(e,t)=>{const n=e.network;V3(e,t),(e=>{TC("View Import Connections InterstitialModal",{Network:e})()})(n)};var W3=Object.defineProperty,j3=(e,t,n)=>(((e,t,n)=>{t in e?W3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class G3 extends c.Component{constructor(){super(...arguments),j3(this,"_renderGmailImportButton",(()=>c.createElement("span",{className:"btn btn-primary-color",onClick:this._bindNetworkDataToClickHandler(this._returnGmailImportNetwork())},c.createElement("span",{className:"gmail-import-btn-icon"},c.createElement(D3,null)),c.createElement("span",{className:"gmail-import-btn-text"},"Gmail Import")))),j3(this,"_bindNetworkDataToClickHandler",(e=>()=>H3(e,this.props.actions))),j3(this,"_returnGmailImportNetwork",(()=>this._returnImportNetworks().filter((e=>"Gmail"===e.network))[0])),j3(this,"_returnImportNetworks",(e=>this._returnImportConnectionsStore(e).networks)),j3(this,"_returnImportConnectionsStore",(e=>(e||this.props).importConnections))}render(){return this._returnGmailImportNetwork()?this.props.contactsImport?c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:this._bindNetworkDataToClickHandler(this._returnGmailImportNetwork())},"Invite Contacts")):c.createElement("div",{className:"gmail-import-button-container"},this._renderGmailImportButton(),c.createElement("div",{className:"import-messaging secondary-text-color"},"Choose who to invite from your Gmail contacts")):null}}var q3=T((e=>({importConnections:e.importConnections})),(e=>({actions:I(WC,e)})))(G3),Y3=Object.defineProperty,K3=(e,t,n)=>(((e,t,n)=>{t in e?Y3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Q3=u.div`
  .input-form-input-container {
    position: relative;
  }
  .input-form-input-container .rounded-edge-button {
    position: absolute;
    top: 9px;
    right: 12px;
    height: 28px;
    width: 28px;
    border-radius: 4px;
  }
  .input-form-input-container .rounded-edge-button i {
    position: absolute;
    top: 5px;
    left: 4px;
  }
  .input-form-input-container .rounded-edge-button:hover {
    background: #ddd !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    box-shadow: none !important;
  }
  .input-form-input-container .invite-friends-icon i {
    top: 8px;
    left: 8px;
  }
  .input-form-input-container .find-friends-icon i {
    top: 8px;
    left: 8px;
  }
  input {
    position: relative;
    display: block;
    box-sizing: border-box;
    width: 100%;
    font-size: 14px;
    font-weight: 300;
    padding: 12px 10px 13px 25px;
    border-width: 1px;
    border-style: solid;
    border-radius: 8px;
    line-height: 1;
    outline: none;
  }
  .input-form-input-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    border-radius: 8px;
    background: #eee;
    opacity: 0.6;
    z-index: 1;
  }
`;class Z3 extends C.exports.Component{constructor(e){super(e),K3(this,"_renderLoadingState",(()=>c.createElement("div",{className:"input-form-input-loading"},c.createElement(_e,{size:"small",style:{marginRight:"8px"}}),c.createElement("span",null,this._returnLoadingText())))),K3(this,"handleChange",(e=>{const t=e.target.value;this._setValue(t)})),K3(this,"handleSubmit",(e=>{if(e&&e.preventDefault&&e.preventDefault(),$("input").blur(),this._isSubmitting())return console.error("Already submitting form"),!1;const t=this.state.inputValue;if(""===t)return!1;this.startSubmitting();const n=this.props.handleSubmit(t);return this.props.clearAfterSubmit&&this.clearInput(),this.props.ignoreAfterSubmitActions||n.then((e=>{this.stopSubmitting(),e&&this.clearInput()})),n})),K3(this,"clearInput",(()=>{this.setState({inputValue:""})})),K3(this,"_setValue",(e=>{this.setState((t=>({inputValue:e})))})),K3(this,"startSubmitting",(()=>{this._shouldIgnoreLoadingStates()||this.setState((e=>({submitting:!0})))})),K3(this,"stopSubmitting",(()=>{this._shouldIgnoreLoadingStates()||this.setState((e=>({submitting:!1})))})),K3(this,"_isSubmitting",(()=>this.state.submitting)),K3(this,"_returnLoadingText",(()=>this.props.loadingText||"Submitting")),K3(this,"_shouldIgnoreLoadingStates",(()=>this.props.ignoreLoadingStates)),this.state={inputValue:"",submitting:!1}}componentDidMount(){this.props.defaultValue&&this._setValue(this.props.defaultValue)}render(){return c.createElement(Q3,null,c.createElement("form",{onSubmit:this.handleSubmit},c.createElement("div",{className:`input-form-input-container ${this.props.className||""}`},this._isSubmitting()&&this._renderLoadingState(),c.createElement("input",{type:"text",value:this.state.inputValue,placeholder:this.props.placeholder||"",onChange:this.handleChange}),this.props.icon&&c.createElement(aS,l(o({},this.props.icon),{handleClick:this.handleSubmit})))))}}var X3=T(null,(e=>({actions:I(WC,e)})))(Z3),J3=Object.defineProperty,e4=(e,t,n)=>(((e,t,n)=>{t in e?J3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class t4 extends C.exports.Component{constructor(e){super(e),e4(this,"_isSubmitting",(()=>this.state.submitting)),e4(this,"_returnLoadingText",(()=>this.props.loadingText||"Submitting")),e4(this,"_renderLoadingState",(()=>c.createElement(oS,{spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:this._returnLoadingText(),show:!0}))),e4(this,"handleChange",(e=>{const t=e.target.value;this._setValue(t)})),e4(this,"handleSubmit",(e=>{if(e.preventDefault(),$("input").blur(),this.state.submitting)return console.error("Already submitting form"),!1;const t=this.state.inputValue;return(""!==t||!this.props.requireUserToEnterValueBeforeSubmit)&&(this.startSubmitting(),this.props.handleSubmit(t).then((e=>{this._isMounted&&this.stopSubmitting(),e&&this._isMounted&&this.clearInput()})))})),e4(this,"_setValue",(e=>{this.setState((t=>({inputValue:e})))})),e4(this,"clearInput",(()=>{this._setValue("")})),e4(this,"startSubmitting",(()=>{this.setState((e=>({submitting:!0})))})),e4(this,"stopSubmitting",(()=>{this.setState((e=>({submitting:!1})))})),this.state={inputValue:"",submitting:!1}}componentDidMount(){this._isMounted=!0,this.props.defaultValue&&this._setValue(this.props.defaultValue)}componentWillUnmount(){this._isMounted=!1}render(){return c.createElement("div",{className:"textarea-form-container"},c.createElement("form",{onSubmit:this.handleSubmit},c.createElement("div",{className:"textarea-form-textarea-container"},this._isSubmitting()&&this._renderLoadingState(),c.createElement("textarea",{type:"text",value:this.state.inputValue,placeholder:this.props.placeholder||"",onChange:this.handleChange,autoFocus:this.props.autoFocus}),this.props.icon&&c.createElement(aS,l(o({},this.props.icon),{handleClick:this.handleSubmit})),this.props.renderSubmitButton&&c.createElement("div",{className:"textarea-form-submit-container"},c.createElement(tW,{className:"textarea-form-submit",type:"submit",value:"Send",fullWidth:!0})))))}}var n4=T(null,(e=>({actions:I(WC,e)})))(t4),r4=Object.defineProperty,i4=(e,t,n)=>(((e,t,n)=>{t in e?r4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const a4=u.div`
  .textarea-form-submit {
  }
`,s4=u.div`
  input {
    background: transparent !important;
    border-radius: 5px !important;
    border: 1px solid ${({theme:e})=>e.themeColors.text} !important;
  }
`;class o4 extends C.exports.Component{constructor(){super(),i4(this,"_renderInviteForm",(()=>this._shouldShowPersonalizeInviteModal()?c.createElement(X3,{className:"input-form-as-panel-styling",placeholder:this._returnPlaceholder(),icon:this._returnInviteFriendIcon(),loadingText:"Inviting",handleSubmit:this._handleEmailFormSubmit,ignoreAfterSubmitActions:!0,ignoreLoadingStates:!0,clearAfterSubmit:!0}):c.createElement(X3,{className:"input-form-as-panel-styling",placeholder:this._returnPlaceholder(),icon:this._returnInviteFriendIcon(),loadingText:"Inviting",handleSubmit:this._submitInviteWithOnlyEmail}))),i4(this,"_openModalToEnterPersonalMessage",(()=>{this.props.actions.showModal({className:"edit-personal-message-modal",contentComponent:this._createPersonalMessageForm(),dismissable:!0,size:"wide",overrideDismiss:this._handlePersonalMessageModalDismiss,overrideOverlayDismiss:this._handlePersonalMessageModalDismiss})})),i4(this,"_createPersonalMessageForm",(()=>c.createElement(a4,{className:"personal-message-form-modal"},c.createElement("div",{className:"page-heading"},c.createElement("h2",null,"Personalize your invitation")),c.createElement(n4,{defaultValue:this._returnDefaultPersonalInviteMessage(),handleSubmit:this._handlePersonalMessageSubmit,renderSubmitButton:!0,autoFocus:!0})))),i4(this,"_handleEmailFormSubmit",(e=>{this._setEmail(e),this._logEmailInviteFormSubmit(),this._openModalToEnterPersonalMessage()})),i4(this,"_handlePersonalMessageSubmit",(e=>this._submitInvite(this._getEmail(),e))),i4(this,"_handlePersonalMessageModalDismiss",(()=>{this.props.actions.hideModal(),this._logDismissedPersonalInviteMessageModal()})),i4(this,"_submitInviteWithDefaultMessage",(()=>this._submitInvite(this._getEmail(),this._returnDefaultPersonalInviteMessage()))),i4(this,"_submitInviteWithOnlyEmail",(e=>this._submitInvite(e,null))),i4(this,"_submitInvite",((e,t)=>{th.referral.USE_REFERRAL_ACTION.send(qu);const n=this.props.shareLinkContext;return this.props.actions.sendUserInvite(e,t,n).then((e=>{const t=e&&e.data&&"Invite Friend - Invite Send"===e.data.status,n=e&&e.data&&e.data.message?e.data.message:"Something went wrong. Please try again later.";if(this.props.actions.showModal({contentComponent:this._returnAfterInviteModalComponent(t,n),dismissable:!0,size:"wide"}),e&&e.data){const t=n===this._returnDefaultPersonalInviteMessage();this._logInvite(e.data.status,e.data.additional_metrics,t)}return t}))})),i4(this,"_returnAfterInviteModalComponent",((e,t)=>e?c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},c.createElement("div",{className:"invite-sent-container"},c.createElement(xc,{icon:"fa-check-circle",colorClassName:"success-text-color",size:"xlarge"}),"Sent"),c.createElement("div",{className:"invite-sent-message"},"You can let your friend know that an invite is on the way!")):c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},t||"Something went wrong. Please try again later."))),i4(this,"_returnInviteFriendIcon",(()=>({icon:"fa-paper-plane",color:"#2d3e55",size:"x-small",customClass:"rounded-edge-button invite-friends-icon",background:"#F7F4F2"}))),i4(this,"_returnCurrentUser",(()=>this.props.currentUser)),i4(this,"_returnCurrentUserInviteTestGroup",(()=>1)),i4(this,"_shouldShowPersonalizeInviteModal",(()=>1===this._returnCurrentUserInviteTestGroup())),i4(this,"_returnPlaceholder",(()=>this.props.placeholder||"Email address to invite")),i4(this,"_returnDefaultPersonalInviteMessage",(()=>{const{apiCopy:e}=this.props;return e||`Join me on ${Xo}, the next-generation stock brokerage, and experience the power of investing with technology and collective intelligence.`})),i4(this,"_isSendingInvite",(()=>this.state._isSendingInvite)),i4(this,"_getEmail",(()=>this.state._email)),i4(this,"_setEmail",(e=>{this.setState((()=>({_email:e})))})),i4(this,"_returnAdditionalLogProperties",(()=>o({},this.props.additionalPropertiesForEventLogging||{}))),i4(this,"_logInvite",((e,t,n)=>{if(this.props.inviteContext){const r=`${e}`,i=l(o(o({Context:this.props.inviteContext},this._returnAdditionalLogProperties()),t),{"Default Message":n});this.props.actions.logMetricsTrackingEvent(r,i)}else console.error("Missing inviteContext in InviteFriends for sending email invite")})),i4(this,"_logEmailInviteFormSubmit",(()=>{this.props.actions.logMetricsTrackingEvent("Submitted Invite Email Form",{})})),i4(this,"_logDismissedPersonalInviteMessageModal",(()=>{this.props.actions.logMetricsTrackingEvent("Dismissed Personal Invite Message Modal",{})})),this.state={_isSendingInvite:!1,_email:null}}render(){return this.props.inputOnly?this._renderInviteForm():c.createElement(s4,{className:"invite-friends-container"},c.createElement("div",{className:"connection-cell"},!this.props.hideHeading&&c.createElement("h5",null,"Invite Friends"),this._renderInviteForm()))}}var l4=T((e=>({currentUser:e.currentUser,apiCopy:e.application.emailInviteCopy})),(e=>({actions:I(WC,e)})))(o4);const c4=e=>c.createElement("div",{className:"social-button email"},c.createElement("a",{id:"email_share",className:`${e.className||""}`,href:`mailto:${e.to||""}?subject=${e.subject||""}&body=${e.body||""}`,onClick:()=>{e.additionalActionOnClick&&e.additionalActionOnClick()}},c.createElement(xc,{icon:"fa fa-envelope"}))),d4=[{id:1,buildMessageWithLink:e=>`Tornado is a modern investing platform backed by A-Rod and Marc Lore. It was designed by ex-hedge fund pros to empower anyone who wants to become a better investor, no matter where you're starting from. \n\nRight now they're giving people up to $1,000 cash to invest when you join (selected at random, but you're guaranteed at least $5).\n\nHere's my invite link:\n${e}\n\nThis link could stop working anytime since they're always updating the signup bonus. See the site for details. Just let me know once you're signed up!`},{id:2,buildMessageWithLink:e=>`Hey! I’m using Tornado, a modern investing platform designed by ex-hedge fund pros that helps everyone become a better investor, no matter your experience level.\n\nIt’s backed by A-Rod and Marc Lore, and right now you can receive up to $1,000 cash to invest when you join (selected at random, but you’re guaranteed a minimum of $5).\n\nHere's my invite link:\n${e} \n\nThis link could stop working anytime since they're always updating the signup bonus. See the site for details. Let me know once you're signed up!`},{id:3,buildMessageWithLink:e=>`Hey! I thought you might be interested in trying out Tornado, a modern investment app that I’m really enjoying using.\n\nRight now they’re giving people up to $1,000 cash to invest when you join (selected at random, but you’re guaranteed a minimum of $5).\n\nIt was designed by ex-hedge fund pros to help everyone become a better investor, no matter your experience level.\n\nHere's my invite link:\n${e} \n\nThis link could stop working anytime since they're always updating the sign up bonus. See the site for details. Let me know once you're signed up!`}],u4=({shareLinkContext:e,shareContext:t,additionalPropertiesForEventLogging:n})=>{const{inviteLink:r}=w2(e,b2),{message:i,testGroupId:a}=(e=>{const[t,n]=c.useState(""),[r,i]=c.useState(null);return c.useEffect((()=>{const t=_l(d4),{id:r,buildMessageWithLink:a}=t,s=a(e);n(s),i(r)}),[]),{message:t,testGroupId:r}})(r);return c.createElement("div",null,c.createElement("textarea",{id:"share_link_field",readOnly:1,onClick:()=>{TC("Referrals - Click Share Link",{"Test Group Id":a})();Cu("Social Share",{network:"Share Link"}),th.referral.USE_REFERRAL_ACTION.send(Ku)},value:i}),c.createElement("div",{className:"flex-space-between"},c.createElement("div",{className:"copy-button-container",style:{display:"inline-block"}},c.createElement(_z,{elementId:"share_link_button",targetTextAreaElementId:"#share_link_field",textAreaId:"share_link_field",eventName:"Clicked Share Link Copy",additionalPropertiesForEventLogging:{"Test Group Id":a},onCopyEffect:()=>{th.referral.USE_REFERRAL_ACTION.send(Ku)}},c.createElement("div",{className:"copy-button"},c.createElement("div",{id:"share_link_button",className:"btn share-link-copy-btn rewards-copy-btn-color",style:{padding:"8px 15px 8px 13px"}},c.createElement(xc,{id:"share_link_button_icon",icon:"fa fa-files-o",size:"nav"}),c.createElement("span",{style:{marginLeft:"5px"}},"Copy"))))),c.createElement(m4,{message:i,testGroupId:a,shareContext:t,additionalPropertiesForEventLogging:n})))},h4=({message:e,testGroupId:t})=>c.createElement(c4,{to:"",subject:"A new, collaborative way to invest",body:e,additionalActionOnClick:()=>{const e="Email";TC("Referrals - Click Social Share",{Network:e,"Test Group Id":t})();Cu("Social Share",{network:e}),th.referral.USE_REFERRAL_ACTION.send(Qu)}}),p4=({shareContext:e,additionalPropertiesForEventLogging:t})=>c.createElement("div",{className:"share-link-container"},c.createElement(u4,{shareLinkContext:f2,shareContext:e,additionalPropertiesForEventLogging:t}),c.createElement("div",{className:"clearfix"})),m4=({message:e,testGroupId:t,shareContext:n,additionalPropertiesForEventLogging:r})=>{const i=ZT().encoded_share_url;let a={};a=o(n?{Context:n}:{},r||{});return c.createElement("div",{className:"share-link-social-links social-links-new"},c.createElement(lz,{url:i,additionalActionOnClick:()=>{const e="Facebook",t=o({Network:e},a);TC("Referrals - Click Social Share",t)();Cu("Social Share",{network:e}),th.referral.USE_REFERRAL_ACTION.send(Zu)}}),c.createElement(cz,{url:i,message:".@tornadoinvest is a new, collaborative way to #invest. Plus they will give you up to $1,000 cash to invest when you join. #InvestBetterTogether.",additionalActionOnClick:()=>{const e="Twitter",t=o({Network:e},a);TC("Referrals - Click Social Share",t)();Cu("Social Share",{network:e}),th.referral.USE_REFERRAL_ACTION.send(Xu)}}),c.createElement(dz,{url:i,additionalActionOnClick:()=>{const e="LinkedIn",t=o({Network:e},a);TC("Referrals - Click Social Share",t)();Cu("Social Share",{network:e}),th.referral.USE_REFERRAL_ACTION.send(Ju)}}),c.createElement(h4,{message:e,testGroupId:t}))};class g4 extends c.PureComponent{render(){const e=(e,t)=>1===t?c.createElement("div",{className:"reward-opportunity-container"},c.createElement("div",{className:"reward-value guaranteed-value'"},"100%"),c.createElement("div",{className:"reward-chance"},`chance of at least $${e}`)):c.createElement("div",{className:"reward-opportunity-container"},c.createElement("div",{className:"reward-value"},`$${e}`),c.createElement("div",{className:"reward-chance"},`1 in ${t.toString()} chance`));return c.createElement("div",{className:"rewards-available-container"},this.props.isIneligible||this.props.reachedMaxReward?(()=>this.props.showHeading?this.props.customHeadingText?c.createElement("div",{className:"rewards-available-heading"},c.createElement("span",null,this.props.customHeadingText)):c.createElement("div",{className:"rewards-available-heading"},c.createElement("span",{className:"bold-text",style:{margin:"0 7px 0 0"}},"They"),c.createElement("span",{className:""},"get free cash to invest")):null)():(()=>this.props.showHeading?this.props.customHeadingText?c.createElement("div",{className:"rewards-available-heading"},c.createElement("span",null,this.props.customHeadingText)):c.createElement("div",{className:"rewards-available-heading"},c.createElement("span",{className:"",style:{margin:"0 7px 0 0"}},"You"),c.createElement("span",{className:"bold-text",style:{margin:"0 7px 0 0"}},"both"),c.createElement("span",{className:""},"get free cash to invest")):null)(),!this.props.hideOdds&&c.createElement("div",{className:"rewards-available"},c.createElement("div",{className:"reward-available-row"},e(20,20),e(500,2500),e(1e3,5e3)),c.createElement("div",{className:"reward-available-row"},e(5,1)),this.props.hasDoubleRewards&&c.createElement("div",{className:"reward-doubled"},"Your reward values are doubled through February 12, 2019!")))}}var y4=T((e=>{const t=e.currentUser;return{hasDoubleRewards:Up(t)}}))(g4);const _4=e=>{const t=()=>c.createElement("div",{className:"reload-message-container"},c.createElement("p",null,"Something went wrong. Please reload the page."),c.createElement(iU,null));return e.renderComponentOnly?t():c.createElement(sR,{customClass:"priority-z-index"},c.createElement(J$,{className:"reload-message-panel component-bg",withoutOverlay:!0},t()))},f4=u.div`
  overflow: hidden;

  border: 1px solid ${({theme:e})=>e.themeColors.border};

  //box-shadow: inset 0px 1px 2px 0px ${({theme:e})=>e.themeColors.border},
  //  0px 1px 0px -1px ${({theme:e})=>e.themeColors.border};
  //box-shadow: inset 0px 1px 2px 0px rgba(255, 255, 255, 0.5), 0px 1px 0px 0px #cccccc;
`,v4=u.div`
  background-color: ${({theme:e,color:t})=>t||e.themeColors.primaryCtaButton};

  min-width: 6px; // min fill prevents border radius overflow at start
  margin-left: -1px;
`,E4=({completedCount:e,totalCount:t,LabelComponent:n})=>{const r=e/t*100,i=Math.min(100,Math.max(1,r));return c.createElement("div",{className:"ui-progress-bar-container"},c.createElement(f4,{className:"ui-progress-bar",style:{}},c.createElement(v4,{className:"fill",style:{width:`${i}%`,borderTopRightRadius:i<100?"4px":"20px",borderBottomRightRadius:i<100?"4px":"20px"}})),c.createElement("div",{className:"label-container"},n),c.createElement("div",{className:"ui-progress-bar-count"},`${e} / ${t}`))},b4=u.div`
  color: ${({theme:e,success:t})=>t?e.themeColors.positive:e.themeColors.border};
`,C4=e=>{const{success:t,text:n,hide:r}=e;if(r)return null;return c.createElement(c.Fragment,null,c.createElement("span",{style:{display:"inline-block",margin:"0 0 2px 0"}},c.createElement(b4,{success:t,style:{display:"inline-block",textAlign:"center",width:"18px"}},c.createElement(xc,{icon:"fa-check",size:"medium"})),c.createElement("span",{className:"  bold-text",style:{display:"inline-block",padding:"0px 0px 1px 4px",verticalAlign:"bottom"}},n)),c.createElement("br",null))},x4=({hideHeading:e})=>{const t=D((e=>e.rewards)),{completed_referral_count:n,live_trading_approved_connections:r,live_trading_approved_referral_count:i,referral_count:a,requiring_ach_link_referral_count:s,requiring_live_approval_referral_count:o,requiring_trade_referral_count:l}=t;return a>0?c.createElement("div",{className:"rewards-progress-container"},c.createElement("div",{className:"referrals-progress-message"},!e&&c.createElement(c.Fragment,null,c.createElement("span",{className:"  bold-text",style:{display:"inline-block",margin:"0 0 2px 0"}},"Your rewards progress"),c.createElement("br",null)),c.createElement(C4,{text:`${a} ${1===a?"friend":"friends"} signed up`,success:!0}),c.createElement(C4,{text:`${o} ${1===o?"needs":"need"} a live trading account`,hide:0===o}),c.createElement(C4,{text:`${s} ${1===s?"needs":"need"} to link a bank account`,hide:0===s}),c.createElement(C4,{text:`${l} ${1===l?"needs":"need"} to place a trade`,hide:0===l}),c.createElement(C4,{text:`${n} ${1===n?"has":"have"} completed everything`,success:a>0&&a===n})),c.createElement("div",{className:""},c.createElement("div",{className:"rewards-progress-requirement-message secondary-text-color text-center"},n===a?"Invite more friends to earn more rewards!":"For you to earn your rewards, friends need to do the above"),c.createElement("div",{className:"rewards-progress-progress-bar-container"},c.createElement(E4,{completedCount:n,totalCount:a,LabelComponent:c.createElement("span",{className:"success-text-color bold-text",style:{display:"block",position:"absolute",top:0,left:0,width:"125px",textAlign:"left"}},"You've earned ",n.toString()," ",1===n?"reward":"rewards"," so far")})))):c.createElement("div",{className:"rewards-progress-container text-center"},c.createElement("span",{className:"secondary-text-color"},"So far no friends have begun signing up."))};var w4=Object.defineProperty,S4=(e,t,n)=>(((e,t,n)=>{t in e?w4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class k4 extends c.PureComponent{constructor(e){super(),S4(this,"_handleResize",(()=>{const e=window.$(this.Heading).width();this.props.setGradientWidth(e)})),S4(this,"_returnHeadingText",(()=>{const{didReachReferralRewardLimit:e,isRewardProgramActive:t}=this.props;return e?"Congrats! You reached the maximum reward.":t?this.HEADING_COPY.heading:"Redeem your rewards."})),S4(this,"_buildSubHeadingTextComponent",(()=>this.HEADING_COPY.subtext));const{headingCopyTestGroup:t}=e;this.HEADING_COPY=a3[t]}componentDidMount(){window.addEventListener("resize",this._handleResize)}componentDidUpdate(){this._handleResize()}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){const{isIneligibleForReferralProgram:e,showSubHeading:t,gradientWidth:n}=this.props;return e?null:c.createElement("div",{className:"rewards-page-heading"},c.createElement("h2",{ref:e=>this.Heading=e},this._returnHeadingText()),t&&c.createElement(c.Fragment,null,c.createElement(eB,{width:n}),this._buildSubHeadingTextComponent()))}}class T4 extends c.PureComponent{constructor(e){super(e),S4(this,"_renderUserReferralSection",(()=>this._isReferralProgramActive()?c.createElement("div",{className:"referral-section"},c.createElement("div",{className:"referral-section-heading"},c.createElement("div",{className:"referral-section-heading-number secondary-heading-text-color"},"1."),c.createElement("div",null,"Share your invite link:")),c.createElement("div",{className:"referrals-share-link-container"},c.createElement(p4,{shareContext:"Rewards Page",additionalPropertiesForEventLogging:this.TEST_GROUP_TRACKING_DATA,shareLinkMessageABTestGroup:this.SHARE_LINK_MESSAGE_TEST_GROUP})),c.createElement("div",null,c.createElement(q3,null)),c.createElement("div",null,c.createElement(l4,{placeholder:"Or enter a friend's email to invite",inviteContext:"Rewards Page",shareLinkContext:f2,additionalPropertiesForEventLogging:this.TEST_GROUP_TRACKING_DATA,hideHeading:!0})),c.createElement("div",{style:{paddingBottom:"12px"}}),!this._isUserIneligibleForReferralProgram()&&!this._didUserReachReferralRewardLimit()&&c.createElement(x4,null)):null)),S4(this,"setGradientWidth",(e=>{e!==this.state.gradientWidth&&e>0&&this.setState((()=>({gradientWidth:e})))})),S4(this,"_isLoaded",(()=>this._returnRewardsData().loaded)),S4(this,"_isLoading",(e=>this._returnRewardsData(e).loading)),S4(this,"_wasError",(()=>this._returnRewardsData().wasError||this.state._wasError)),S4(this,"_shouldShowMidPageBreak",(()=>this._didUserReachReferralRewardLimit()||this._hasRedeemableRewards()||this._returnRedeemedRewardsTotal()>0)),S4(this,"_returnMaxPrizeLimit",(()=>$p(this._returnCurrentUser()))),S4(this,"_didUserReachReferralRewardLimit",(()=>this._returnRedeemedRewardsTotal()>=this._returnMaxPrizeLimit())),S4(this,"_returnRewardsData",((e=this.props)=>e.rewards)),S4(this,"_returnRedeemableReferralRewardsCount",(()=>this._returnRewardsData().referral_rewards_not_redeemed_count||0)),S4(this,"_returnRedeemableFundingRewardsCount",(()=>this._returnRewardsData().funding_rewards_not_redeemed_count||0)),S4(this,"_returnRedeemableRewardsCount",(()=>this._returnRedeemableReferralRewardsCount()+this._returnRedeemableFundingRewardsCount())),S4(this,"_hasRedeemableRewards",(()=>this._returnRedeemableRewardsCount()>0)),S4(this,"_returnRedeemedRewardsTotal",(()=>this._returnRewardsData().referral_reward_total_redeemed)),S4(this,"_returnCurrentUser",(()=>this.props.currentUser)),S4(this,"_isReferralProgramActive",(()=>wp(this._returnCurrentUser()))),S4(this,"_isUserIneligibleForReferralProgram",(()=>!this._returnCurrentUser().is_eligible_for_referral_program)),S4(this,"_doesUserGetFixedReferralRewardAmount",(()=>!Vp(this._returnCurrentUser()))),S4(this,"_logPageView",(()=>{const e=o({},this.TEST_GROUP_TRACKING_DATA);this.props.actions.logMetricsTrackingEvent("View Referral Program",e)})),this.state={gradientWidth:750};this.SHARE_LINK_MESSAGE_TEST_GROUP="c",this.NO_PAGE_SUBHEADING_TEST_GROUP=Math.random()<.5?"a":"b",this.HEADING_COPY_TEST_GROUP="a",this.TEST_GROUP_TRACKING_DATA={"AB Test Group":this.HEADING_COPY_TEST_GROUP,"Share Link Message AB Test Group":this.SHARE_LINK_MESSAGE_TEST_GROUP,"No Subheading AB Test Group":this.NO_PAGE_SUBHEADING_TEST_GROUP}}componentDidMount(){if(!this._isReferralProgramActive()&&!this._hasRedeemableRewards()){const e=Ln("home");this.props.navigate(e)}document.title=`${Xo} - Referral Rewards`,this.props.actions.getRewardsData(),this._logPageView()}render(){const{isAuthed:e}=this.props;return e?this._isLoading()?c.createElement("div",null,c.createElement(Dw,{loadingMessage:"Getting Your Latest Rewards"})):this._isLoaded()?this._wasError()?c.createElement(_4,null):c.createElement(OF,{className:"rewards-page "+(this._didUserReachReferralRewardLimit()?"reached-max-reward":"")},c.createElement(k4,{isIneligibleForReferralProgram:this._isUserIneligibleForReferralProgram(),showSubHeading:"a"===this.NO_PAGE_SUBHEADING_TEST_GROUP,headingCopyTestGroup:this.HEADING_COPY_TEST_GROUP,didReachReferralRewardLimit:this._didUserReachReferralRewardLimit(),isRewardProgramActive:this._isReferralProgramActive(),gradientWidth:this.state.gradientWidth,setGradientWidth:this.setGradientWidth}),c.createElement(w3,{isUserEligibleForRewards:!this._isUserIneligibleForReferralProgram(),hasReachedRewardLimit:this._didUserReachReferralRewardLimit(),unredeemedRewardsCount:this._returnRedeemableRewardsCount(),redeemedRewardsTotal:this._returnRedeemedRewardsTotal(),TEST_GROUP_TRACKING_DATA:this.TEST_GROUP_TRACKING_DATA}),this._shouldShowMidPageBreak()&&c.createElement("div",{className:"mid-page-break"},c.createElement(eB,{width:this.state.gradientWidth})),c.createElement("div",{className:"referral-invite-section"},this._renderUserReferralSection(),c.createElement("div",{className:"referral-section referral-last-section"},this._isReferralProgramActive()&&c.createElement("div",{className:"referral-section-heading-number secondary-heading-text-color"},"2."),c.createElement(y4,{customHeadingText:this._isReferralProgramActive()?null:"Reward Chances",showHeading:this._isReferralProgramActive(),isIneligible:this._isUserIneligibleForReferralProgram(),reachedMaxReward:this._didUserReachReferralRewardLimit(),hideOdds:this._doesUserGetFixedReferralRewardAmount()})),c.createElement(I3,null),c.createElement(P3,null))):null:null}}var I4=T((e=>{const t=e.currentUser;return{isAuthed:"user_id"in t,currentUser:t,rewards:e.rewards}}),(e=>({actions:I(WC,e)})))(T4);const N4=e=>{const{prizeData:t,prizeResponseData:n,didMakePrizeCardSelection:r,showPrize:i}=e,a=t.chosen,s=()=>e.handleClick(t),o=i&&a;let l=null,d=null,u=null,h=null;n&&(l=n.reward_amount,d=n.amount_base,u=n.amount_multiplier,h=nk(u)?null:Math.round(100*u)-100);return r?a?c.createElement("div",{className:"rewards-card-wrapper"},c.createElement(C3,{isFlippable:!0,shouldShowPrize:o,prize:l,baseReward:d,bonusPercentage:h})):void 0:c.createElement(C3,{onClick:s})};var A4=Object.defineProperty,P4=(e,t,n)=>(((e,t,n)=>{t in e?A4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const D4=()=>c.createElement("div",{className:"reward-redemption-heading"},c.createElement(Ii,null,"Redeem your reward"));class O4 extends C.exports.Component{constructor(e){super(e),P4(this,"_renderRewardsRemainingMessage",(()=>this._shouldShowPrize()?this._hasRedeemableRewards()&&!this._didUserReachReferralRewardLimit()?c.createElement(Iw,{top:16,fullWidth:!0,centerAll:!0},c.createElement(hx,{onClick:this._handleRedeemAnother},"Redeem Another")):c.createElement(Iw,{top:16,fullWidth:!0,centerAll:!0},c.createElement(hx,{onClick:this._handleDismissRedeemingRewardsReferralModal},"Continue")):c.createElement("div",{className:"after-redemption-action-container"}))),P4(this,"_renderGettingPrizeMessage",(()=>this._isGettingPrize()&&c.createElement("div",{className:"getting-reward-message"},c.createElement(_e,{size:"small",style:{marginRight:"8px"}}),c.createElement("span",{className:"text"},"Getting Prize")))),P4(this,"_renderRedemptionFooterSectionFocusedOnReferral",(()=>c.createElement("div",{className:"show-available-rewards-container"},c.createElement(y4,{hideOdds:this._doesUserGetFixedReferralRewardAmount()}),c.createElement(P3,{rewardLimit:this._returnMaxPrizeLimit(),requiresTrade:this._referralRewardRequiresTrade(),requiresACHLink:this._referralRewardRequiresACHLink()})))),P4(this,"_renderRewardWonMessage",(()=>this._didPrizeExceedLimit(this._returnPrizeAmount())||this._didUserReachReferralRewardLimit()?null:this._shouldShowPrize()?c.createElement("div",{className:"reward-won-message fade-in-up-slow success-text-color"},`You'll get $${Number.isInteger(this._returnPrizeAmount())?this._returnPrizeAmount():this._returnPrizeAmount().toFixed(2)} free!`):c.createElement("div",{className:"reward-won-message"}))),P4(this,"_renderDismiss",(()=>this.props.inPage?null:c.createElement("div",{className:"modal-dismiss",onClick:this.handleContinue},c.createElement(xc,{icon:"fa-times-thin",colorClassName:"secondary-text-color"})))),P4(this,"_renderPrizes",(()=>c.createElement("div",{className:"rewards-selection-container"},this._returnPrizes().map((e=>c.createElement(N4,{key:`reward-card-${e.id}`,prizeData:e,didMakePrizeCardSelection:this.didMakePrizeCardSelection(),handleClick:this._handlePrizeCardSelection,prizes:this._returnPrizeAmounts(),prizeResponseData:this._returnPrizeResponseData(),showPrize:this._shouldShowPrize(),isSingleCardSelection:!0})))))),P4(this,"_renderMaxPrizeLimitMessage",(()=>this._shouldRenderMaxPrizeLimitMessage()?c.createElement("div",{className:"max-prize-limit-message-container in-redemption"},c.createElement("div",{className:"text-wrapper-container"},this._returnMaxPrizeLimitMessage()),c.createElement("div",{className:"text-wrapper-container"},this._returnMaxPrizeLimitThankYouMessage())):null)),P4(this,"_renderOnboardingReferMessagingModal",(()=>c.createElement("div",{className:"onboarding-referral-redemption-message-container"},this._renderDismiss(),c.createElement("div",{className:"reward-redemption-heading"},c.createElement("span",{className:"heading-text"},"Invite a friend. You'll both get up to $1,000 cash.")),c.createElement("div",{className:"onboarding-referral-message-content-container"},c.createElement("div",{className:"message"},"Have friends sign up with your link:"),c.createElement(p4,{shareContext:"Rewards Redemption"}),c.createElement(l4,{shareLinkContext:f2,placeholder:"Or enter a friend's email to invite",inviteContext:"Rewards Redemption",hideHeading:!0})),c.createElement(hx,{onClick:this._handleDismissRedeemingRewardsReferralModal},"Continue")))),P4(this,"_returnMaxPrizeLimitMessage",(()=>`You've reached the maximum total cash reward of $${this._returnMaxPrizeLimit()}. You are no longer eligible to receive additional cash rewards.`)),P4(this,"_returnMaxPrizeLimitThankYouMessage",(()=>"Thank you for helping share intelligent investing.")),P4(this,"handleContinue",(()=>{this.props.handleContinue()})),P4(this,"_handleDismissRedeemingRewardsReferralModal",(()=>{this.handleContinue()})),P4(this,"_handleRedeemAnother",(()=>{this._prepareRewardRedemption(),this.setState((()=>({_showAvailableRewards:!0,_showPrize:!1,_showMissedPrizes:!1,_prizes:this.INITIAL_PRIZES,_prizeResponseData:null,_isAnimationFinished:!1,_showMissedPrizesTimeout:null,_selectingPrizeAnimationTimeout:null}))),this._logRedeemAnother()})),P4(this,"_handlePrizeCardSelection",(()=>{const e=this._returnPrizes()[0];this._logPrizeCardSelection(e),this._setSelection(e),this._createAnimationEndCheckForPrizeData(),this._redeemReward().then((e=>this._handleRedeemRewardResponse(e)))})),P4(this,"_showPrize",(()=>{this.setState((()=>({_showPrize:!0})))})),P4(this,"_handleRedemptionError",(()=>(this._setWasError(),Promise.resolve({error:!0})))),P4(this,"_handleRedeemRewardResponse",(e=>{if(!e||!e.data||"success"!==e.data.status)return this._handleRedemptionError();const t=e.data;this._savePrizeDataForAfterAnimation(t),this.state._isAnimationFinished&&this._showPrize(),this._updateRewardsData()})),P4(this,"_setSelection",(e=>{const t=l(o({},e),{chosen:!0}),n=this.state._prizes,r=[];if(1===n.length)r.push(t);else for(let i=0;i<n.length;i++){const e=n[i];e.id===t.id?r.push(t):r.push(e)}this.setState((()=>({_prizes:r})))})),P4(this,"_savePrizeDataForAfterAnimation",(e=>{this._setPrizeResponseData(e)})),P4(this,"_createAnimationEndCheckForPrizeData",(()=>{window.setTimeout((()=>{this._setAnimationFinished(),this._isPrizeAvailable()&&this._showPrize()}),this.ANIMATION_LENGTH)})),P4(this,"_updateRewardsData",(()=>this.props.actions.getRewardsData(!0).then((e=>{if(!e.ok){const e="Something went wrong. Reloading page.";this._displayErrorMessageAndReload(e)}})))),P4(this,"_displayErrorMessageAndReload",(e=>{const t={contentComponent:bS(e),size:"wide",dismissable:!1};this.props.actions.showModal(t),setTimeout((function(){window.location.reload()}),3e3)})),P4(this,"_prepareRewardRedemption",(()=>{const e=this._returnRedeemableReferralRewardsCount();this._returnRedeemableFundingRewardsCount()>0?uC().then((e=>this._handlePrepareRewardResponse(e))):e>0?hC().then((e=>this._handlePrepareRewardResponse(e))):this.handleContinue()})),P4(this,"_redeemReward",(()=>{const e=this._returnRedeemableReferralRewardsCount();return this._returnRedeemableFundingRewardsCount()>0?this.props.actions.redeemFundingReward():e>0?this.props.actions.redeemReferralReward():this._handleRedemptionError()})),P4(this,"_handlePrepareRewardResponse",(e=>{const{error:t}=e;if("No rewards to redeem"===t)this.handleContinue();else{if("Already prepared"===t)return null;if(t)return this._handleRedemptionError()}})),P4(this,"_isLoaded",(()=>this._returnRewardsData().loaded)),P4(this,"_isLoading",(()=>this._returnRewardsData().loading||this.state.isReloadingRewardsData)),P4(this,"_wasError",(()=>this._returnRewardsData().wasError||this.state._wasError)),P4(this,"_returnPrizes",(()=>this.state._prizes)),P4(this,"_returnPrizeAmount",(()=>this._returnPrizeResponseData()?this._returnPrizeResponseData().reward_amount:0)),P4(this,"_returnPrizeAmounts",(()=>this._returnPrizeResponseData()?this._returnPrizeResponseData().possible_amounts:[])),P4(this,"_isGettingPrize",(()=>this.didMakePrizeCardSelection()&&this.state._isAnimationFinished&&!this._isPrizeAvailable())),P4(this,"_returnPrizeResponseData",(()=>this.state._prizeResponseData)),P4(this,"_isPrizeAvailable",(()=>!!this._returnPrizeResponseData())),P4(this,"didMakePrizeCardSelection",(()=>this._returnPrizes().some((e=>this._wasPrizeChosen(e))))),P4(this,"_wasPrizeChosen",(e=>this._returnPrizes()[e.id].chosen)),P4(this,"_shouldShowPrize",(()=>this.state._showPrize)),P4(this,"_returnRewardRedemptionCTAFocusGroup",(()=>this._returnCurrentUser().sign_up_bonus_panel_follow_up_test_group)),P4(this,"_shouldRenderMaxPrizeLimitMessage",(()=>this._didPrizeExceedLimit(this._returnPrizeAmount()))),P4(this,"_returnMaxPrizeLimit",(()=>$p(this._returnCurrentUser())||1e3)),P4(this,"_referralRewardRequiresTrade",(()=>Bp(this._returnCurrentUser()))),P4(this,"_referralRewardRequiresACHLink",(()=>zp(this._returnCurrentUser()))),P4(this,"_didPrizeExceedLimit",(()=>this._returnRedeemedRewardsTotal()>=this._returnMaxPrizeLimit())),P4(this,"_didUserReachReferralRewardLimit",(()=>this._returnRedeemedRewardsTotal()>=this._returnMaxPrizeLimit())),P4(this,"_returnRewardsData",(()=>this.props.rewards)),P4(this,"_returnRedeemableReferralRewardsCount",(()=>this._returnRewardsData().referral_rewards_not_redeemed_count||0)),P4(this,"_returnRedeemableFundingRewardsCount",(()=>this._returnRewardsData().funding_rewards_not_redeemed_count||0)),P4(this,"_returnRedeemableRewardsCount",(()=>this._returnRedeemableReferralRewardsCount()+this._returnRedeemableFundingRewardsCount())),P4(this,"_hasRedeemableRewards",(()=>this._returnRedeemableRewardsCount()>0)),P4(this,"_returnRedeemedRewardsTotal",(()=>this._returnRewardsData().referral_reward_total_redeemed)),P4(this,"_returnCurrentUser",(()=>this.props.currentUser)),P4(this,"_doesUserGetFixedReferralRewardAmount",(()=>!Vp(this._returnCurrentUser()))),P4(this,"_setWasError",(()=>{this.setState((()=>({_wasError:!0})))})),P4(this,"_setAnimationFinished",(()=>{this.setState((()=>({_isAnimationFinished:!0})))})),P4(this,"_setPrizeResponseData",(e=>{this.setState((()=>({_prizeResponseData:e})))})),P4(this,"_logPrizeCardSelection",(e=>{const t={Index:e.id,Type:"Card","Count of Selection Options":1};this.props.actions.logMetricsTrackingEvent("Selected Reward Prize",t)})),P4(this,"_logRedeemAnother",(()=>{const e={"Redeemable Count":this._returnRedeemableRewardsCount()};this.props.actions.logMetricsTrackingEvent("Clicked Redeem Another Reward",e)}));const t=[{id:0,chosen:!1}];this.INITIAL_PRIZES=t,this.ANIMATION_LENGTH=800;const{location:n}=e,{search:r}=n;let i=!1;"1"===fe(r).rr&&(i=!0),this.state={isReloadingRewardsData:i,_showAvailableRewards:!0,_showPrize:!1,_showMissedPrizes:!1,_showOnboardingReferMessagingModal:!1,_prizes:t,_prizeResponseData:null,_isAnimationFinished:!1,_showMissedPrizesTimeout:null,_selectingPrizeAnimationTimeout:null,_wasError:!1}}componentDidMount(){document.title=`${Xo} - Referral Rewards`;const{location:e}=this.props,{search:t}=e;"1"===fe(t).rr?this.props.actions.getRewardsData().then((e=>{if(this._prepareRewardRedemption(),this.setState((()=>({isReloadingRewardsData:!1}))),!e.ok){const e="Something went wrong. Reloading page.";this._displayErrorMessageAndReload(e)}})):this._prepareRewardRedemption()}render(){return this._isLoading()?c.createElement(Dw,{flatStyle:!0}):this._isLoaded()?this._wasError()?c.createElement(_4,{renderComponentOnly:!0}):this.state._showOnboardingReferMessagingModal?this._renderOnboardingReferMessagingModal():c.createElement("div",null,this._renderDismiss(),c.createElement(D4,null),this._renderRewardWonMessage(),this._renderMaxPrizeLimitMessage(),this._renderPrizes(),this._renderGettingPrizeMessage(),this._renderRewardsRemainingMessage(),this._renderRedemptionFooterSectionFocusedOnReferral()):null}}var L4=_c(T((e=>({currentUser:e.currentUser,rewards:e.rewards})),(e=>({actions:I(WC,e)})))(O4)),R4=Object.defineProperty,F4=(e,t,n)=>(((e,t,n)=>{t in e?R4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const M4="AFTER_FUNDING";class U4 extends c.PureComponent{constructor(e){super(e),F4(this,"handleContinue",(()=>{const{isOnboarding:e,navigate:t}=this.props;this.CONTEXT_STATE?this.CONTEXT_STATE===M4&&t(en.build()):t(e?Sn.build():pn.build())})),this.DEFAULT_PAGE_STYLE={maxWidth:700};const{location:t}=e,{search:n}=t;"1"===fe(n).dash&&(this.CONTEXT_STATE=M4)}componentWillUnmount(){TC("Dismiss Rewards Modal",{Context:"Onboarding"})()}render(){return c.createElement(OF,{overrideStyle:this.DEFAULT_PAGE_STYLE},c.createElement(L4,{handleContinue:this.handleContinue,inPage:!0}))}}var $4=_c(T((e=>{const t=e.currentUser;return{isOnboarding:Sp(t)}}))(U4)),B4=Object.defineProperty,z4=(e,t,n)=>(((e,t,n)=>{t in e?B4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class V4 extends C.exports.Component{constructor(){super(...arguments),z4(this,"_showMobileCardStyling",(()=>this.props.showMobileCardStyling?"mobile-page-card":""))}render(){return c.createElement("div",{className:`full-page-card component-bg ${this.props.className||""} ${this._showMobileCardStyling()}`},this.props.children)}}var H4=Object.defineProperty,W4=(e,t,n)=>(((e,t,n)=>{t in e?H4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class j4 extends c.PureComponent{constructor(){super(),W4(this,"_renderInput",(e=>iF.call(this,e))),W4(this,"_renderPrivacyDropdown",(()=>{const e=this._createPrivacyDropdownInputData();return this._renderInput(e)})),W4(this,"handleDropdownChange",((e,t)=>{this._setPrivacyDropdownFormValue(t)})),W4(this,"handleContinuePress",(()=>{const e=this.state.formData.privacy;this.handleSubmit(e)})),W4(this,"handleSubmit",(e=>{this.setState((()=>({_isSaving:!0})));const t={Value:e.name};TC("Submit Onboarding Privacy Selection",t)(),this._savePrivacyPreference(e.name).then((e=>{this.setState((()=>({_isSaving:!1}))),e&&this.handleAfterNavigation()}))})),W4(this,"handleAfterNavigation",(()=>{const{navigate:e}=this.props;e(en.build())})),W4(this,"_setFormDataValue",((e,t)=>{this.setState((n=>({formData:l(o({},this.state.formData),{[e]:t})})))})),W4(this,"_setPrivacyDropdownFormValue",(e=>{this._setFormDataValue("privacy",e)})),W4(this,"_savePrivacyPreference",(e=>this.props.actions.updateUserProperty({privacy:e}).then((e=>(e||this._showSaveFailedErrorMessage(),e))))),W4(this,"_showSaveFailedErrorMessage",(()=>{const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Unable to save. Please reload page and try again."),size:"wide",dismissable:!0};this.props.actions.showModal(e)})),W4(this,"_createPrivacyDropdownInputData",(()=>({type:vH,typeName:"Dropdown",name:"privacy",label:"Privacy",required:!0,props:{handleChange:this.handleDropdownChange,styling:"dropdown-centered",values:this._returnPrivacyTypes(),includeLabelAsSelection:!1,forceShowLabel:!0,showArrowIcons:!0}}))),W4(this,"_returnPrivacyTypes",(()=>[{id:2,name:"public_privacy",displayName:"Public",isEnabled:()=>!0,disabledReason:()=>null},{id:1,name:"connections_privacy",displayName:"Connections",isEnabled:()=>!0,disabledReason:()=>null},{id:0,name:"private_privacy",displayName:"Private",isEnabled:()=>!0,disabledReason:()=>null}])),this.state={_didInit:!1,_isSaving:!1,formData:{privacy:this._returnPrivacyTypes()[0]},focusedField:null,focusNote:{},errors:{}}}componentDidMount(){TC("View Onboarding Privacy Selection")()}render(){const{_isSaving:e}=this.state;return c.createElement(V4,{showMobileCardStyling:!0},c.createElement("div",{className:"privacy-settings-page"},c.createElement("div",{className:"text-center",style:{margin:"0 auto"}},c.createElement(rB,{text:"Choose your privacy setting",additionalClasses:"full-page-card-heading"})),c.createElement("div",{style:{margin:"0 auto",maxWidth:"300px",textAlign:"center"}},c.createElement("div",{style:{marginTop:"25px"}},c.createElement("span",null,"Protecting your data is important to us.")),c.createElement("div",{style:{marginTop:"15px"}},c.createElement("span",null,"Choose which setting is best for you for sharing information with the ",Jo," ","community."))),c.createElement("div",{style:{marginTop:"25px"}},this._renderPrivacyDropdown()),c.createElement("div",{className:"text-center",style:{margin:"15px auto 0 auto",maxWidth:"300px",textAlign:"center",fontSize:"12px"}},c.createElement("span",{className:"secondary-text-color"},"When public is enabled, the ",Jo," community can see positions and allocation percentages, but never your position dollar or share amounts.")),c.createElement("div",{className:"text-center",style:{margin:"35px auto 0 auto",maxWidth:"300px",textAlign:"center"}},e?c.createElement("div",{className:"saving-form-message-container"},c.createElement("div",{className:"centered-loading-icon"},c.createElement(_e,{icon:"fading-3balls",size:"small"}),c.createElement("div",{className:"secondary-text-color",style:{paddingLeft:"22px",lineHeight:"22px",fontSize:"13px",fontWeight:"300"}},"Updating..."))):c.createElement("div",null,c.createElement("div",null,c.createElement(hx,{stopPropagation:!0,onClick:this.handleContinuePress},"Continue"))))))}}var G4=_c(T(null,(e=>({actions:I(WC,e)})))(j4));const q4=e=>{const{columns:t}=e;return c.createElement("div",{className:"charge-header-container border-accent"},c.createElement("div",{className:"single-charge-info"},c.createElement("p",null,t[0])),c.createElement("div",{className:"single-charge-value"},c.createElement("p",null,t[1])))},Y4=e=>{const{chargeData:t}=e,{title:n,description:r,value:i,discountedValue:a}=t;return c.createElement("div",{className:"charge-row-container"},c.createElement("div",{className:"single-charge-info"},c.createElement("p",{className:"title  "},n),c.createElement("p",{className:"description  secondary-text-color"},r)),c.createElement("div",{className:"single-charge-value"},c.createElement("p",{className:"charge-value  "},B_(i,"price")),!nk(a)&&c.createElement("p",{className:"charge-value secondary-text-color"},`First month ${B_(a,"price")}`)))},K4=e=>{const{columns:t,charges:n}=e;return c.createElement("div",{className:"charge-summary-container"},c.createElement(q4,{columns:t}),n.map(((e,t)=>c.createElement(Y4,{key:t,chargeData:e}))),c.createElement("div",{className:"line-break"}))},Q4=e=>{const{name:t,label:n,value:r,errorMessage:i,type:a,placeholder:s,autoFocus:o,isFloatingStyle:l,holdSpaceForError:d,fieldSetClassName:u,containerClassName:h,renderAdditionalComponentWhenNoValOrFocus:p}=e,[m,g]=C.exports.useState(!1);if(nk(r))return console.error(`Input: ${t} is missing a value, hiding input, received value: ${r}`),null;const y=r.length>0;return c.createElement("div",{className:`\n        ${h||""}\n        stand-alone-input-container\n        ${l?"floating-text-label":""}\n        ${y?"has-value":""}\n        ${m?"has-focus":""}\n        ${i?"has-error":""}\n      `},c.createElement("fieldset",{className:`${u||""}`},n&&c.createElement("label",{htmlFor:t,className:`label-${t}`},n),c.createElement("input",{type:a||"text",name:t,onFocus:()=>{e.handleFocus&&e.handleFocus(t),g(!0)},onBlur:(n,i)=>{if(e.saveOnChange){const n={[`${e.objectType}_id`]:e.getObjectId(e.objectType),[t]:r};e.saveOnChange(n)}e.handleBlur&&e.handleBlur(r,t),"additionalBlurAction"in e&&e.additionalBlurAction(),g(!1)},onChange:n=>{const r=n.target.value;e.handleChange(t,r)},placeholder:l?"":s||"",value:r,autoFocus:o}),!y&&!m&&p,c.createElement("div",{className:"underline"}),(d||i)&&c.createElement("p",{className:"text-field-error-message error-text-color"},i||"")))};var Z4=e=>c.createElement("div",{className:"credit-card-logo-card"},c.createElement("svg",{width:"780",height:"500",enableBackground:"new 0 0 780 500",version:"1.1",viewBox:"0 0 780 500",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"m409.41 197.26c30.938 0 56.02 23.58 56.02 52.709v0.033c0 29.129-25.082 52.742-56.02 52.742-30.941 0-56.022-23.613-56.022-52.742v-0.033c0-29.129 25.081-52.709 56.022-52.709z",fill:"#F47216"}),c.createElement("path",{d:"m321.43 197.94c8.836 0 16.247 1.785 25.27 6.09v22.753c-8.544-7.863-15.955-11.154-25.757-11.154-19.265 0-34.413 15.015-34.413 34.051 0 20.074 14.681 34.195 35.368 34.195 9.312 0 16.586-3.12 24.802-10.856v22.764c-9.343 4.142-16.912 5.775-25.757 5.775-31.277 0-55.581-22.597-55.581-51.736-2e-3 -28.83 24.949-51.882 56.068-51.882zm-97.113 0.626c11.546 0 22.109 3.721 30.942 10.994l-10.748 13.248c-5.351-5.646-10.411-8.027-16.563-8.027-8.854 0-15.301 4.744-15.301 10.988 0 5.354 3.618 8.188 15.944 12.481 23.364 8.043 30.289 15.176 30.289 30.926 0 19.193-14.976 32.554-36.319 32.554-15.631 0-26.993-5.795-36.457-18.871l13.268-12.03c4.73 8.608 12.622 13.223 22.42 13.223 9.163 0 15.947-5.95 15.947-13.983 0-4.164-2.056-7.733-6.158-10.258-2.066-1.195-6.158-2.978-14.199-5.646-19.292-6.538-25.91-13.527-25.91-27.186-1e-3 -16.227 14.213-28.413 32.845-28.413zm234.72 1.729h22.436l28.084 66.592 28.447-66.592h22.267l-45.493 101.69h-11.054l-44.687-101.69zm-301.21 0.152h20.541v99.143h-20.541v-99.143zm411.73 0h58.253v16.799h-37.726v22.006h36.336v16.791h-36.336v26.762h37.726v16.785h-58.253v-99.143zm115.59 57.377c15.471-2.965 23.983-12.926 23.983-28.105 0-18.562-13.575-29.271-37.266-29.271h-30.454v99.144h20.516v-39.83h2.681l28.43 39.828h25.26l-33.15-41.766zm-17.218-11.736h-6.002v-30.025h6.326c12.791 0 19.744 5.049 19.744 14.697 2e-3 9.967-6.951 15.328-20.068 15.328zm-576.09-45.641h-30.149v99.143h29.992c15.946 0 27.465-3.543 37.573-11.445 12.014-9.359 19.117-23.467 19.117-38.057 1e-3 -29.259-23.221-49.641-56.533-49.641zm23.997 74.479c-6.454 5.484-14.837 7.879-28.108 7.879h-5.514v-65.559h5.513c13.271 0 21.323 2.238 28.108 8.018 7.104 5.956 11.377 15.184 11.377 24.682 1e-3 9.513-4.273 19.024-11.376 24.98z"}))),X4=e=>c.createElement("div",{className:"credit-card-logo-card"},c.createElement("svg",{width:"780",height:"500",enableBackground:"new 0 0 780 500",version:"1.1",viewBox:"0 0 780 500",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"m449.01 250c0 99.143-80.371 179.5-179.51 179.5s-179.5-80.361-179.5-179.5c0-99.133 80.362-179.5 179.5-179.5 99.137 0 179.51 80.371 179.51 179.5",fill:"#D9222A"}),c.createElement("path",{d:"m510.49 70.496c-46.379 0-88.643 17.596-120.5 46.467-6.49 5.889-12.548 12.237-18.125 18.996h36.267c4.965 6.037 9.536 12.387 13.685 19.012h-63.635c-3.827 6.122-7.281 12.469-10.342 19.008h84.313c2.894 6.185 5.431 12.53 7.601 19.004h-99.513c-2.09 6.234-3.832 12.58-5.217 19.008h109.94c2.689 12.49 4.045 25.231 4.042 38.008 0 19.935-3.254 39.112-9.254 57.021h-99.513c2.164 6.477 4.7 12.824 7.596 19.008h84.316c-3.063 6.541-6.519 12.889-10.347 19.013h-63.625c4.147 6.62 8.719 12.966 13.685 18.996h36.259c-5.57 6.772-11.63 13.127-18.13 19.013 31.857 28.866 74.117 46.454 120.5 46.454 99.139 0 179.51-80.361 179.51-179.5 0-99.129-80.371-179.5-179.51-179.5",fill:"#EE9F2D"}),c.createElement("path",{d:"m666.07 350.06c0-3.199 2.592-5.801 5.796-5.801s5.796 2.602 5.796 5.801-2.592 5.801-5.796 5.801-5.796-2.602-5.796-5.801zm5.796 4.408c2.434-1e-3 4.407-1.974 4.408-4.408 0-2.432-1.971-4.402-4.402-4.404h-6e-3c-2.429-3e-3 -4.4 1.963-4.404 4.391v0.014c-2e-3 2.433 1.968 4.406 4.4 4.408 1e-3 -1e-3 3e-3 -1e-3 4e-3 -1e-3zm-0.783-1.86h-1.187v-5.096h2.149c0.45 0 0.908 0 1.305 0.254 0.413 0.279 0.646 0.771 0.646 1.279 0 0.571-0.338 1.104-0.884 1.312l0.938 2.25h-1.315l-0.779-2.017h-0.871l-2e-3 2.018zm0-2.89h0.658c0.246 0 0.505 0.021 0.726-0.1 0.195-0.125 0.296-0.359 0.296-0.584-5e-3 -0.209-0.112-0.402-0.288-0.518-0.207-0.129-0.536-0.101-0.758-0.101h-0.634v1.303zm-443.5-80.063c-2.046-0.238-2.945-0.301-4.35-0.301-11.046 0-16.638 3.787-16.638 11.268 0 4.611 2.729 7.545 6.987 7.545 7.939 0 13.659-7.559 14.001-18.512zm14.171 32.996h-16.146l0.371-7.676c-4.926 6.065-11.496 8.949-20.426 8.949-10.563 0-17.804-8.25-17.804-20.229 0-18.024 12.596-28.541 34.217-28.541 2.208 0 5.042 0.199 7.941 0.57 0.604-2.441 0.763-3.488 0.763-4.801 0-4.908-3.396-6.737-12.5-6.737-9.533-0.108-17.396 2.271-20.625 3.333 0.204-1.229 2.7-16.659 2.7-16.659 9.712-2.846 16.116-3.917 23.325-3.917 16.732 0 25.596 7.513 25.579 21.712 0.033 3.805-0.597 8.5-1.579 14.671-1.691 10.734-5.32 33.721-5.816 39.325zm-62.158 0h-19.487l11.162-69.997-24.925 69.997h-13.279l-1.642-69.597-11.733 69.597h-18.242l15.237-91.056h28.021l1.7 50.968 17.092-50.968h31.167l-15.071 91.056m354.97-32.996c-2.037-0.238-2.941-0.301-4.342-0.301-11.041 0-16.634 3.787-16.634 11.268 0 4.611 2.726 7.545 6.983 7.545 7.94 0 13.664-7.559 13.993-18.512zm14.184 32.996h-16.146l0.366-7.676c-4.926 6.065-11.5 8.949-20.422 8.949-10.565 0-17.8-8.25-17.8-20.229 0-18.024 12.588-28.541 34.213-28.541 2.208 0 5.037 0.199 7.934 0.57 0.604-2.441 0.763-3.488 0.763-4.801 0-4.908-3.392-6.737-12.496-6.737-9.533-0.108-17.387 2.271-20.629 3.333 0.204-1.229 2.709-16.659 2.709-16.659 9.712-2.846 16.112-3.917 23.313-3.917 16.74 0 25.604 7.513 25.587 21.712 0.032 3.805-0.597 8.5-1.579 14.671-1.684 10.734-5.321 33.721-5.813 39.325zm-220.39-1.125c-5.333 1.679-9.491 2.398-14 2.398-9.962 0-15.399-5.725-15.399-16.267-0.142-3.271 1.433-11.88 2.671-19.737 1.125-6.917 8.449-50.529 8.449-50.529h19.371l-2.263 11.208h11.699l-2.642 17.796h-11.742c-2.25 14.083-5.454 31.625-5.491 33.95 0 3.816 2.037 5.483 6.671 5.483 2.221 0 3.94-0.227 5.254-0.7l-2.578 16.398m59.392-0.6c-6.654 2.034-13.075 3.017-19.879 3-21.684-0.021-32.987-11.346-32.987-33.032 0-25.313 14.38-43.947 33.899-43.947 15.971 0 26.171 10.433 26.171 26.796 0 5.429-0.7 10.729-2.388 18.212h-38.574c-1.305 10.741 5.57 15.217 16.837 15.217 6.935 0 13.188-1.429 20.142-4.663l-3.221 18.417zm-10.888-43.9c0.107-1.543 2.055-13.217-9.013-13.217-6.171 0-10.583 4.704-12.38 13.217h21.393zm-123.42-5.017c0 9.367 4.542 15.826 14.842 20.676 7.892 3.709 9.112 4.81 9.112 8.17 0 4.617-3.479 6.701-11.191 6.701-5.813 0-11.221-0.908-17.458-2.922 0 0-2.563 16.321-2.68 17.102 4.43 0.967 8.38 1.861 20.279 2.19 20.563 0 30.059-7.829 30.059-24.75 0-10.175-3.976-16.146-13.737-20.634-8.171-3.75-9.108-4.587-9.108-8.045 0-4.004 3.237-6.046 9.537-6.046 3.825 0 9.05 0.408 14 1.112l2.775-17.175c-5.046-0.8-12.696-1.442-17.15-1.442-21.801 1e-3 -29.347 11.388-29.28 25.063m229.09-23.116c5.412 0 10.458 1.421 17.412 4.921l3.188-19.763c-2.854-1.121-12.904-7.7-21.417-7.7-13.041 0-24.065 6.471-31.82 17.15-11.309-3.746-15.958 3.825-21.657 11.367l-5.063 1.179c0.383-2.483 0.729-4.95 0.612-7.446h-17.896c-2.445 22.917-6.778 46.128-10.171 69.075l-0.884 4.976h19.496c3.254-21.143 5.037-34.68 6.121-43.842l7.341-4.084c1.097-4.078 4.529-5.458 11.417-5.291-0.926 5.008-1.389 10.091-1.383 15.184 0 24.225 13.07 39.308 34.05 39.308 5.404 0 10.041-0.712 17.221-2.658l3.43-20.759c-6.458 3.181-11.759 4.677-16.559 4.677-11.329 0-18.184-8.363-18.184-22.185 0-20.051 10.196-34.109 24.746-34.109"}),c.createElement("path",{d:"m185.21 297.24h-19.491l11.171-69.988-24.926 69.988h-13.283l-1.642-69.588-11.733 69.588h-18.241l15.237-91.042h28.021l0.788 56.362 18.904-56.362h30.267l-15.072 91.042",fill:"#fff"}),c.createElement("path",{d:"m647.52 211.6l-4.321 26.309c-5.329-7.013-11.054-12.088-18.612-12.088-9.833 0-18.783 7.455-24.642 18.425-8.158-1.692-16.597-4.563-16.597-4.563l-4e-3 0.067c0.658-6.134 0.921-9.875 0.862-11.146h-17.9c-2.438 22.917-6.771 46.128-10.157 69.075l-0.893 4.976h19.492c2.633-17.096 4.648-31.291 6.133-42.551 6.658-6.016 9.992-11.266 16.721-10.916-2.979 7.205-4.725 15.503-4.725 24.017 0 18.513 9.366 30.725 23.533 30.725 7.142 0 12.621-2.462 17.967-8.171l-0.913 6.884h18.435l14.842-91.042-19.221-1e-3zm-24.371 73.941c-6.634 0-9.983-4.908-9.983-14.596 0-14.555 6.271-24.875 15.112-24.875 6.695 0 10.32 5.104 10.32 14.509 1e-3 14.679-6.37 24.962-15.449 24.962z"}),c.createElement("path",{d:"m233.19 264.26c-2.042-0.236-2.946-0.299-4.346-0.299-11.046 0-16.634 3.787-16.634 11.266 0 4.604 2.729 7.547 6.979 7.547 7.947-1e-3 13.668-7.559 14.001-18.514zm14.178 32.984h-16.146l0.367-7.663c-4.921 6.054-11.5 8.95-20.421 8.95-10.567 0-17.805-8.25-17.805-20.229 0-18.032 12.592-28.542 34.217-28.542 2.208 0 5.042 0.2 7.938 0.571 0.604-2.441 0.763-3.487 0.763-4.808 0-4.909-3.392-6.729-12.496-6.729-9.537-0.108-17.396 2.271-20.629 3.321 0.204-1.225 2.7-16.637 2.7-16.637 9.708-2.858 16.12-3.929 23.32-3.929 16.737 0 25.604 7.517 25.588 21.704 0.029 3.821-0.604 8.513-1.584 14.675-1.687 10.724-5.319 33.724-5.812 39.316zm261.38-88.592l-3.191 19.767c-6.95-3.496-12-4.92-17.407-4.92-14.551 0-24.75 14.058-24.75 34.106 0 13.821 6.857 22.181 18.184 22.181 4.8 0 10.096-1.492 16.554-4.675l-3.421 20.75c-7.184 1.957-11.816 2.67-17.225 2.67-20.977 0-34.051-15.084-34.051-39.309 0-32.55 18.059-55.3 43.888-55.3 8.507 1e-3 18.561 3.609 21.419 4.73m31.443 55.608c-2.041-0.236-2.941-0.299-4.347-0.299-11.041 0-16.633 3.787-16.633 11.266 0 4.604 2.729 7.547 6.983 7.547 7.938-1e-3 13.663-7.559 13.997-18.514zm14.178 32.984h-16.15l0.371-7.663c-4.925 6.054-11.5 8.95-20.421 8.95-10.563 0-17.804-8.25-17.804-20.229 0-18.032 12.596-28.542 34.212-28.542 2.213 0 5.042 0.2 7.941 0.571 0.601-2.441 0.763-3.487 0.763-4.808 0-4.909-3.393-6.729-12.495-6.729-9.533-0.108-17.396 2.271-20.63 3.321 0.204-1.225 2.704-16.637 2.704-16.637 9.709-2.858 16.116-3.929 23.316-3.929 16.741 0 25.604 7.517 25.583 21.704 0.033 3.821-0.596 8.513-1.579 14.675-1.682 10.724-5.323 33.724-5.811 39.316zm-220.39-1.121c-5.338 1.679-9.496 2.408-14 2.408-9.962 0-15.399-5.726-15.399-16.268-0.138-3.279 1.438-11.88 2.675-19.736 1.12-6.926 8.445-50.534 8.445-50.534h19.368l-2.26 11.212h9.941l-2.646 17.788h-9.975c-2.25 14.092-5.463 31.62-5.496 33.95 0 3.83 2.041 5.482 6.671 5.482 2.221 0 3.938-0.216 5.254-0.691l-2.578 16.389m59.391-0.592c-6.65 2.033-13.079 3.012-19.879 3-21.685-0.021-32.987-11.346-32.987-33.033 0-25.321 14.379-43.95 33.899-43.95 15.971 0 26.171 10.429 26.171 26.8 0 5.434-0.7 10.733-2.384 18.212h-38.574c-1.306 10.741 5.569 15.222 16.837 15.222 6.93 0 13.188-1.435 20.138-4.677l-3.221 18.426zm-10.891-43.912c0.116-1.538 2.06-13.217-9.013-13.217-6.167 0-10.579 4.717-12.375 13.217h21.388zm-123.42-5.005c0 9.367 4.542 15.818 14.842 20.675 7.892 3.709 9.112 4.812 9.112 8.172 0 4.616-3.483 6.699-11.188 6.699-5.816 0-11.225-0.908-17.467-2.921 0 0-2.554 16.321-2.671 17.101 4.421 0.967 8.375 1.85 20.275 2.191 20.566 0 30.059-7.829 30.059-24.746 0-10.18-3.971-16.15-13.737-20.637-8.167-3.759-9.113-4.584-9.113-8.046 0-4 3.246-6.059 9.542-6.059 3.821 0 9.046 0.421 14.004 1.125l2.771-17.179c-5.042-0.8-12.692-1.441-17.146-1.441-21.804 0-29.346 11.379-29.283 25.066m398.45 50.63h-18.438l0.917-6.893c-5.347 5.717-10.825 8.18-17.968 8.18-14.166 0-23.528-12.213-23.528-30.726 0-24.63 14.521-45.392 31.708-45.392 7.559 0 13.279 3.087 18.604 10.096l4.325-26.308h19.221l-14.841 91.043zm-28.746-17.109c9.075 0 15.45-10.283 15.45-24.953 0-9.405-3.629-14.509-10.325-14.509-8.837 0-15.115 10.315-15.115 24.875-1e-3 9.686 3.357 14.587 9.99 14.587zm-56.842-56.929c-2.441 22.917-6.773 46.13-10.162 69.063l-0.892 4.976h19.491c6.972-45.275 8.658-54.117 19.588-53.009 1.742-9.267 4.982-17.383 7.399-21.479-8.163-1.7-12.721 2.913-18.688 11.675 0.471-3.788 1.333-7.467 1.162-11.225l-17.898-1e-3m-160.42 0c-2.446 22.917-6.779 46.13-10.167 69.063l-0.888 4.976h19.5c6.963-45.275 8.646-54.117 19.57-53.009 1.75-9.267 4.991-17.383 7.399-21.479-8.154-1.7-12.717 2.913-18.679 11.675 0.471-3.788 1.324-7.467 1.162-11.225l-17.897-1e-3m254.57 68.241c-4e-3 -3.199 2.586-5.795 5.784-5.799h0.012c3.197-4e-3 5.793 2.586 5.796 5.783v0.016c-1e-3 3.201-2.595 5.795-5.796 5.797-3.201-2e-3 -5.795-2.596-5.796-5.797zm5.796 4.405c2.431 2e-3 4.402-1.969 4.403-4.399v-4e-3c3e-3 -2.433-1.968-4.406-4.399-4.408h-4e-3c-2.435 1e-3 -4.407 1.974-4.408 4.408 2e-3 2.432 1.975 4.403 4.408 4.403zm-0.784-1.871h-1.188v-5.082h2.153c0.446 0 0.909 9e-3 1.296 0.254 0.417 0.283 0.654 0.767 0.654 1.274 0 0.575-0.337 1.112-0.888 1.317l0.941 2.236h-1.32l-0.779-2.009h-0.87l1e-3 2.01zm0-2.879h0.653c0.246 0 0.513 0.019 0.729-0.1 0.196-0.125 0.296-0.361 0.296-0.588-9e-3 -0.21-0.114-0.404-0.287-0.523-0.204-0.117-0.542-0.084-0.763-0.084h-0.629l1e-3 1.295z",fill:"#fff"}))),J4=e=>c.createElement("div",{className:"credit-card-logo-card"},c.createElement("svg",{width:"780",height:"500",enableBackground:"new 0 0 780 500",version:"1.1",viewBox:"0 0 780 500",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"m293.2 348.73l33.359-195.76h53.358l-33.384 195.76h-53.333zm246.11-191.54c-10.569-3.966-27.135-8.222-47.821-8.222-52.726 0-89.863 26.551-90.181 64.604-0.297 28.129 26.515 43.822 46.754 53.185 20.771 9.598 27.752 15.716 27.652 24.283-0.133 13.123-16.586 19.115-31.924 19.115-21.355 0-32.701-2.967-50.225-10.273l-6.878-3.111-7.487 43.822c12.463 5.467 35.508 10.199 59.438 10.445 56.09 0 92.502-26.248 92.916-66.885 0.199-22.27-14.016-39.215-44.801-53.188-18.65-9.056-30.072-15.099-29.951-24.269 0-8.137 9.668-16.838 30.56-16.838 17.446-0.271 30.088 3.534 39.936 7.5l4.781 2.259 7.231-42.427m137.31-4.223h-41.23c-12.772 0-22.332 3.486-27.94 16.234l-79.245 179.4h56.031s9.159-24.121 11.231-29.418c6.123 0 60.555 0.084 68.336 0.084 1.596 6.854 6.492 29.334 6.492 29.334h49.512l-43.187-195.64zm-65.417 126.41c4.414-11.279 21.26-54.724 21.26-54.724-0.314 0.521 4.381-11.334 7.074-18.684l3.606 16.878s10.217 46.729 12.353 56.527h-44.293v3e-3zm-363.3-126.41l-52.239 133.5-5.565-27.129c-9.726-31.274-40.025-65.157-73.898-82.12l47.767 171.2 56.455-0.063 84.004-195.39-56.524-1e-3",fill:"#0E4595"}),c.createElement("path",{d:"m146.92 152.96h-86.041l-0.682 4.073c66.939 16.204 111.23 55.363 129.62 102.42l-18.709-89.96c-3.229-12.396-12.597-16.096-24.186-16.528",fill:"#F2AE14"}))),e6=e=>c.createElement("div",{className:"credit-card-logo-card"},c.createElement("svg",{width:"780",height:"500",enableBackground:"new 0 0 780 500",version:"1.1",viewBox:"0 0 780 500",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",style:{background:"#2557D6"}},c.createElement("path",{d:"m575.61 145.11l-15.092 35.039h30.266l-15.174-35.039zm-174.15 21.713c2.845-1.422 4.52-4.515 4.52-8.356 0-3.764-1.76-6.49-4.604-7.771-2.591-1.42-6.577-1.584-10.399-1.584h-27v19.523h26.638c4.266 1e-3 7.831-0.059 10.845-1.812zm-345.97-21.713l-14.921 35.039h29.932l-15.011-35.039zm694.7 224.47h-42.344v-18.852h42.173c4.181 0 7.109-0.525 8.872-2.178 1.667-1.473 2.609-3.555 2.592-5.732 0-2.562-1.062-4.596-2.68-5.813-1.588-1.342-3.907-1.953-7.726-1.953-20.588-0.67-46.273 0.609-46.273-27.211 0-12.75 8.451-26.172 31.461-26.172h43.677v-17.492h-40.58c-12.246 0-21.144 2.81-27.443 7.181v-7.181h-60.022c-9.597 0-20.863 2.279-26.191 7.181v-7.181h-107.19v7.181c-8.529-5.897-22.925-7.181-29.565-7.181h-70.702v7.181c-6.747-6.262-21.758-7.181-30.902-7.181h-79.127l-18.104 18.775-16.959-18.775h-118.2v122.68h115.97l18.655-19.076 17.575 19.076 71.484 0.06v-28.859h7.03c9.484 0.146 20.67-0.223 30.542-4.311v33.106h58.962v-31.976h2.844c3.628 0 3.988 0.146 3.988 3.621v28.348h179.12c11.372 0 23.26-2.786 29.841-7.853v7.853h56.817c11.822 0 23.369-1.588 32.154-5.653v-22.853c-5.324 7.462-15.707 11.245-29.751 11.245zm-363.58-28.967h-27.36v29.488h-42.618l-27-29.102-28.058 29.102h-86.854v-87.914h88.19l26.976 28.818 27.89-28.818h70.064c17.401 0 36.952 4.617 36.952 28.963 0 24.422-19.016 29.463-38.182 29.463zm131.56-3.986c3.097 4.291 3.544 8.297 3.634 16.047v17.428h-22.016v-10.998c0-5.289 0.533-13.121-3.544-17.209-3.2-3.148-8.086-3.9-16.088-3.9h-23.432v32.107h-22.031v-87.914h50.62c11.105 0 19.188 0.473 26.384 4.148 6.92 4.006 11.275 9.494 11.275 19.523-2e-3 14.031-9.769 21.189-15.541 23.389 4.878 1.725 8.866 4.818 10.739 7.379zm90.575-36.258h-51.346v15.982h50.091v17.938h-50.091v17.492l51.346 0.078v18.242h-73.182v-87.914h73.182v18.182zm56.344 69.731h-42.705v-18.852h42.535c4.16 0 7.109-0.527 8.957-2.178 1.507-1.359 2.591-3.336 2.591-5.73 0-2.564-1.174-4.598-2.676-5.818-1.678-1.34-3.993-1.947-7.809-1.947-20.506-0.674-46.186 0.605-46.186-27.213 0-12.752 8.363-26.174 31.35-26.174h43.96v18.709h-40.225c-3.987 0-6.579 0.146-8.783 1.592-2.405 1.424-3.295 3.535-3.295 6.322 0 3.316 2.04 5.574 4.797 6.549 2.314 0.771 4.797 0.996 8.533 0.996l11.805 0.309c11.899 0.273 20.073 2.25 25.04 7.068 4.266 4.232 6.559 9.578 6.559 18.625-2e-3 18.913-12.335 27.742-34.448 27.742zm-170.06-68.313c-2.649-1.508-6.559-1.588-10.461-1.588h-27.001v19.744h26.64c4.265 0 7.892-0.145 10.822-1.812 2.842-1.646 4.543-4.678 4.543-8.438s-1.701-6.482-4.543-7.906zm244.99-1.59c-3.988 0-6.641 0.145-8.873 1.588-2.314 1.426-3.202 3.537-3.202 6.326 0 3.314 1.953 5.572 4.794 6.549 2.315 0.771 4.796 0.996 8.448 0.996l11.887 0.303c11.99 0.285 19.998 2.262 24.879 7.08 0.889 0.668 1.423 1.42 2.034 2.174v-25.014h-39.965l-2e-3 -2e-3zm-352.65 0h-28.59v22.391h28.336c8.424 0 13.663-4.006 13.667-11.611-4e-3 -7.688-5.497-10.78-13.413-10.78zm-190.81 0v15.984h48.136v17.938h-48.136v17.49h53.909l25.047-25.791-23.983-25.621h-54.973zm140.77 61.479v-70.482l-33.664 34.674 33.664 35.808zm-138.93-141.15v15.148h183.19l-0.085-32.046h3.545c2.483 0.083 3.205 0.302 3.205 4.229v27.818h94.748v-7.461c7.642 3.924 19.527 7.461 35.168 7.461h39.86l8.531-19.522h18.913l8.342 19.522h76.811v-18.544l11.629 18.543h61.555v-122.58h-60.915v14.477l-8.53-14.477h-62.507v14.477l-7.833-14.477h-84.434c-14.135 0-26.555 1.89-36.591 7.158v-7.158h-58.268v7.158c-6.387-5.43-15.089-7.158-24.762-7.158h-212.87l-14.282 31.662-14.668-31.662h-67.047v14.477l-7.367-14.477h-57.18l-26.553 58.284v46.621l39.264-87.894h32.579l37.29 83.217v-83.217h35.789l28.695 59.625 26.362-59.625h36.507v87.894h-22.475l-0.082-68.837-31.796 68.837h-19.252l-31.877-68.898v68.898h-44.6l-8.425-19.605h-45.654l-8.512 19.605h-23.814v17.682h37.466l8.447-19.523h18.914l8.425 19.523h73.713v-14.927l6.579 14.989h38.266l6.58-15.214zm288.67-80.176c7.085-7.015 18.188-10.25 33.298-10.25h21.227v18.833h-20.782c-7.998 0-12.521 1.14-16.871 5.208-3.74 3.7-6.304 10.696-6.304 19.908 0 9.417 1.955 16.206 6.028 20.641 3.376 3.478 9.513 4.533 15.283 4.533h9.851l30.902-69.12h32.853l37.124 83.134v-83.133h33.386l38.543 61.213v-61.213h22.46v87.891h-31.072l-41.562-65.968v65.968h-44.656l-8.532-19.605h-45.55l-8.278 19.605h-25.66c-10.657 0-24.151-2.258-31.793-9.722-7.707-7.462-11.713-17.571-11.713-33.553-4e-3 -13.037 2.389-24.953 11.818-34.37zm-45.101-10.249h22.372v87.894h-22.372v-87.894zm-100.87 0h50.432c11.203 0 19.464 0.285 26.553 4.21 6.936 3.926 11.095 9.658 11.095 19.46 0 14.015-9.763 21.254-15.448 23.429 4.796 1.75 8.896 4.841 10.849 7.401 3.096 4.372 3.629 8.277 3.629 16.126v17.267h-22.115l-0.083-11.084c0-5.29 0.528-12.896-3.461-17.122-3.203-3.09-8.088-3.763-15.983-3.763h-23.538v31.97h-21.927l-3e-3 -87.894zm-88.393 0h73.249v18.303h-51.32v15.843h50.088v18.017h-50.088v17.553h51.32v18.177h-73.249v-87.893z",fill:"#fff"}))),t6=e=>c.createElement("div",{className:"ccs-accepted-list"},c.createElement(J4,null),c.createElement(X4,null),c.createElement(e6,null),c.createElement(Z4,null));const n6=e=>e.currentUser&&e.currentUser.subscription_ending_at;var r6=Object.defineProperty,i6=(e,t,n)=>(((e,t,n)=>{t in e?r6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class a6 extends c.Component{constructor(e){super(e),i6(this,"_returnAllFieldNames",(()=>["cardNumber","expMonth","expYear","cardCode","cardHolderFirstName","cardHolderLastName","street","city","state","zip","country"])),i6(this,"_isFieldRequired",(e=>{const t=["cardNumber","expMonth","expYear","cardCode","cardHolderFirstName","cardHolderLastName"],n=["street","city","state","zip","country"];return this._shouldUseLiveAccountAddress()?t.includes(e):t.includes(e)||n.includes(e)})),i6(this,"_setErrorForField",((e,t)=>{this.setState((n=>({errors:l(o({},n.errors),{[e]:t})})))})),i6(this,"_clearErrorForField",(e=>{this.setState((t=>({errors:l(o({},t.errors),{[e]:null})})))})),i6(this,"_isFieldMissingValue",(e=>""===e)),i6(this,"_returnRequiredFieldErrorMessage",(()=>"Field is required")),i6(this,"_returnMaskedCardNumberErrorMessage",(()=>"Please re-enter card number")),i6(this,"_validateField",((e,t)=>this._isFieldRequired(e)&&this._isFieldMissingValue(t)?(this._setErrorForField(e,this._returnRequiredFieldErrorMessage()),!1):"cardNumber"!==e||!this.returnCardNumberValue().includes("*")||(this._setErrorForField(e,this._returnMaskedCardNumberErrorMessage()),!1))),i6(this,"_validateForm",(()=>{let e=!0;return this._returnAllFieldNames().forEach((t=>{this._validateField(t,this.returnValueForFieldName(t))||(e=!1)})),e})),i6(this,"_doesFieldHaveError",(e=>!!this.returnFieldError(e))),i6(this,"renderBillingAddressForm",(()=>c.createElement("div",{className:"credit-card-billing-address-inputs"},c.createElement(Q4,{containerClassName:"credit-card-input street-address",type:"text",name:"street",label:"Street Address",value:this.returnStreetAddressValue(),errorMessage:this.returnFieldError("street"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input city-input",type:"text",name:"city",label:"City",value:this.returnCityValue(),errorMessage:this.returnFieldError("city"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement("div",{className:"credit-card-input state-input"},c.createElement(qG,{type:"text",name:"state",label:"State",value:this.returnStateValue(),options:this.returnStateDropdownOptions(),errorMessage:this.returnFieldError("state"),handleSelection:this.handleDropdownSelection,handleBlur:this.handleInputBlur,includeLabelAsSelection:!0,showArrowIcons:!0})),c.createElement(Q4,{containerClassName:"credit-card-input zip-input",type:"number",name:"zip",label:"Postal Code",value:this.returnZipValue(),errorMessage:this.returnFieldError("zip"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement("div",{className:"credit-card-input country-input"},c.createElement(qG,{type:"number",name:"country",label:"Country",value:this.returnCountryValue(),options:this.returnCountryDropdownOptions(),errorMessage:this.returnFieldError("country"),handleSelection:this.handleDropdownSelection,handleBlur:this.handleInputBlur,includeLabelAsSelection:!0,showArrowIcons:!0}))))),i6(this,"renderBillingAddressData",(()=>{const e=this._returnBillingInformation(),{street:t,city:n,state:r,zip:i,country:a}=e;return c.createElement("div",{className:"credit-card-billing-address-inputs"},c.createElement("div",{className:"billing-address-row"},t),c.createElement("div",{className:"billing-address-row"},`${n}, ${r} ${i}`),c.createElement("div",{className:"billing-address-row"},a))})),i6(this,"returnFormData",(()=>this.state.formData)),i6(this,"returnFormErrorMessageLookup",(()=>this.state.errors)),i6(this,"returnValueForFieldName",(e=>this.returnFormData()[e])),i6(this,"returnFieldError",(e=>this.returnFormErrorMessageLookup()[e])),i6(this,"returnStateDropdownOptions",(()=>["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"])),i6(this,"returnCountryDropdownOptions",(()=>Fh())),i6(this,"handleDropdownSelection",((e,t)=>{this._setInputValue(e,t),this._validateField(e,t)&&this._doesFieldHaveError(e)&&this._clearErrorForField(e)})),i6(this,"handleInputChange",((e,t)=>{if(this._doesFieldHaveError(e)&&this._validateField(e,t)&&this._clearErrorForField(e),"expYear"===e&&t.length>2)return!1;this._setInputValue(e,t)})),i6(this,"handleInputBlur",((e,t)=>{this._validateField(t,e)})),i6(this,"_setInputValue",((e,t)=>{this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})))})),i6(this,"getUseLiveAccountAddressValue",(()=>this._shouldUseLiveAccountAddress())),i6(this,"handleToggleUseLiveAccountAddress",(()=>{this._toggleUseLiveAccountAddress()})),i6(this,"handleSubmit",(()=>{if(this._validateForm()){const e=o(o({},this._returnCreditCardFormDataForSubmission()),this._returnBillingInformation());this.props.handleSubmit(e)}})),i6(this,"_returnCreditCardFormDataForSubmission",(()=>({cardNumber:this.returnValueForFieldName("cardNumber"),expMonth:this.returnValueForFieldName("expMonth"),expYear:this.returnValueForFieldName("expYear"),cardCode:this.returnValueForFieldName("cardCode"),cardHolderFirstName:this.returnValueForFieldName("cardHolderFirstName"),cardHolderLastName:this.returnValueForFieldName("cardHolderLastName")}))),i6(this,"_returnBillingInformation",(()=>this._shouldUseLiveAccountAddress()?this.returnLiveAccountAddress():{street:this.returnValueForFieldName("street"),city:this.returnValueForFieldName("city"),state:this.returnValueForFieldName("state"),zip:this.returnValueForFieldName("zip"),country:this.returnValueForFieldName("country")})),i6(this,"_shouldUseLiveAccountAddress",(()=>this.state.useLiveAccountAddress)),i6(this,"_toggleUseLiveAccountAddress",(()=>{this.setState((e=>({useLiveAccountAddress:!e.useLiveAccountAddress})))})),i6(this,"returnLiveAccountAddress",(()=>{const{contact_street_address:e,contact_apartment:t,contact_city:n,contact_state:r,contact_postal_code:i,contact_country:a}=this.returnLiveAccountData();return{street:e,apartment:t,city:n,state:r,zip:i,country:a}})),i6(this,"returnCardHolderFirstNameValue",(()=>this.returnFormData().cardHolderFirstName)),i6(this,"returnCardHolderLastNameValue",(()=>this.returnFormData().cardHolderLastName)),i6(this,"returnCardNumberValue",(()=>this.returnFormData().cardNumber)),i6(this,"returnCardExpiryMonthValue",(()=>this.returnFormData().expMonth)),i6(this,"returnCardExpiryYearValue",(()=>this.returnFormData().expYear)),i6(this,"returnCardCodeValue",(()=>this.returnFormData().cardCode)),i6(this,"returnStreetAddressValue",(()=>this.returnFormData().street)),i6(this,"returnCityValue",(()=>this.returnFormData().city)),i6(this,"returnStateValue",(()=>this.returnFormData().state)),i6(this,"returnZipValue",(()=>this.returnFormData().zip)),i6(this,"returnCountryValue",(()=>this.returnFormData().country)),i6(this,"returnLiveAccountData",(()=>this.props.liveAccountData)),this.state={formData:{cardNumber:"",expMonth:"",expYear:"",cardCode:"",cardHolderFirstName:"",cardHolderLastName:"",street:"",city:"",state:"",zip:"",country:""},useLiveAccountAddress:!e.hideUseAccountAddress,errors:{}}}componentDidMount(){this.props.actions.getLiveTradingAccount(),this.props.startingFormData&&this.setState((e=>({formData:o(o({},e.formData),this.props.startingFormData)})))}render(){return c.createElement("div",{className:"credit-card-form-container"},c.createElement("div",{className:"credit-card-payment-inputs"},c.createElement(Q4,{containerClassName:"credit-card-input card-holder-first-name",type:"text",name:"cardHolderFirstName",label:"First Name",value:this.returnCardHolderFirstNameValue(),errorMessage:this.returnFieldError("cardHolderFirstName"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input card-holder-last-name",type:"text",name:"cardHolderLastName",label:"Last Name",value:this.returnCardHolderLastNameValue(),errorMessage:this.returnFieldError("cardHolderLastName"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input card-number",type:this.returnCardNumberValue().includes("*")?"text":"number",name:"cardNumber",label:"Card Number",value:this.returnCardNumberValue(),errorMessage:this.returnFieldError("cardNumber"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0,renderAdditionalComponentWhenNoValOrFocus:c.createElement(t6,null)}),c.createElement(Q4,{containerClassName:"credit-card-input expiry-month",type:"number",name:"expMonth",label:"Expiry Month",value:this.returnCardExpiryMonthValue(),errorMessage:this.returnFieldError("expMonth"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input expiry-year",type:"number",name:"expYear",label:"Expiry Year",value:this.returnCardExpiryYearValue(),errorMessage:this.returnFieldError("expYear"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input cvc-code",type:"number",name:"cardCode",label:"CVC",value:this.returnCardCodeValue(),errorMessage:this.returnFieldError("cardCode"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),!this.props.hideUseAccountAddress&&c.createElement(eq,{name:"use-live-account-address",label:"Use Account Address For My Billing Address",value:this.getUseLiveAccountAddressValue(),handleClick:this.handleToggleUseLiveAccountAddress})),!this._shouldUseLiveAccountAddress()&&this.renderBillingAddressForm(),c.createElement("div",{className:"form-action-container"},c.createElement(Cc,{customClass:"btn btn-primary-color btn-small-tall btn-fixed-width-95",text:this.props.useIsSubmittingBtn&&this.props.isSubmitting?"Loading":this.props.submitBtnText||"Submit",handleClick:this.handleSubmit}),!this.props.hideCancelBtn&&c.createElement(Cc,{customClass:"btn-flat btn-flat-grey btn-small-tall cancel-btn",text:"Cancel",handleClick:this.props.handleCancel})))}}const s6=T((e=>{return{liveAccountData:(t=e.liveAccount,t.liveTrading)};var t}),(e=>({actions:I(WC,e)})))(a6);var o6=Object.defineProperty,l6=(e,t,n)=>(((e,t,n)=>{t in e?o6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class c6 extends c.Component{constructor(){super(),l6(this,"returnANetLibraryURI",(()=>{return"production"==("https://tornado.com"===(null==(e=null==window?void 0:window.location)?void 0:e.origin)?"production":"development")&&"https://d1-forerunner.nvstr.com"!==window.origin?"https://js.authorize.net/v1/Accept.js":"https://jstest.authorize.net/v1/Accept.js";var e})),l6(this,"handleANetLibraryLoad",(()=>{this._loadedANetLib=!0,dispatchEvent(new Event("load"))})),l6(this,"handleANetLibraryLoadFailure",(()=>{console.error("failed to load ANet Library"),this._setANetScriptLoadFail()})),l6(this,"_setANetScriptLoadFail",(()=>{this.setState((()=>({_aNetScriptLoadFailure:!0})))})),l6(this,"_didANetScriptLoadFail",(()=>this.state._aNetScriptLoadFailure)),l6(this,"handleAnetResponse",((e,t)=>{const{messages:n,opaqueData:r}=e;if(r&&r.dataValue)return this.props.submitTokenAction(r.dataValue,t);{const e="Something went wrong. Please try again later.",t=n&&n.message&&n.message[0]&&n.message[0].text?n.message[0].text:e;return this.onPaymentFailure(t)}})),l6(this,"_setANetKeys",(e=>{this.setState((()=>({clientKey:e.clientKey,apiLoginID:e.apiLoginID})))})),l6(this,"_returnANetKeys",(()=>({clientKey:this.state.clientKey,apiLoginID:this.state.apiLoginID}))),l6(this,"submitPaymentToANet",(e=>{this.props.onPaymentSubmitStart();const t=this._returnANetKeys(),n={cardNumber:e.cardNumber,month:e.expMonth,year:e.expYear,cardCode:e.cardCode},r={first_name:e.cardHolderFirstName,last_name:e.cardHolderLastName,street:e.street,city:e.city,state:e.state,zip:e.zip,country:e.country},i={authData:t,cardData:n};Accept.dispatchData(i,(e=>{try{this.handleAnetResponse(e,r)}catch(t){Uk("Error caught in ANet handler",!0,{error:t})}}))})),l6(this,"handleSubmit",(e=>{this._loadedANetLib&&this._loadedANetApiKeys&&this.submitPaymentToANet(e)})),l6(this,"onPaymentFailure",(e=>{this.props.onPaymentFailure?this.props.onPaymentFailure(e):this.showErrorModal(e)})),l6(this,"showErrorModal",(e=>{bb(CS(e))(this.props.dispatch)})),l6(this,"init",(()=>{nC().then((e=>{if(e&&e.ok){const t={clientKey:e.client_key,apiLoginID:e.login_id};this._loadedANetApiKeys=!0,this._setANetKeys(t)}else this._setANetScriptLoadFail()}))})),this.state={_aNetScriptLoadFailure:!1,clientKey:null,apiLoginID:null}}componentDidMount(){this.init()}render(){return c.createElement(c.Fragment,null,c.createElement(Vw,{uri:this.returnANetLibraryURI(),onLoad:this.handleANetLibraryLoad,onLoadFail:this.handleANetLibraryLoadFailure}),this._didANetScriptLoadFail()?c.createElement("div",null,c.createElement(_4,null)):c.createElement(s6,l(o({},this.props),{handleSubmit:this.handleSubmit})))}}var d6=T()(c6);const u6=e=>c.createElement("div",{className:"success-check-container"},c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 1200"},c.createElement("path",{className:"primary-circle",d:"M400 850c-138.071 0-250-111.929-250-250s111.929-250 250-250 250 111.929 250 250-111.929 250-250 250z"}),c.createElement("path",{className:"ripple-circle",d:"M400 850c-138.071 0-250-111.929-250-250s111.929-250 250-250 250 111.929 250 250-111.929 250-250 250z"}),c.createElement("path",{className:"check-mark",d:"M269.5 592.875l92.5 89.5 169.5-163.75",stroke:"#FFF",strokeWidth:"40",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})),c.createElement("p",{className:"payment-complete-message"},"Card Linked Successfully")),h6=e=>{const{className:t}=e,n="support@tornado.com",r=c.createElement("a",{href:`mailto:${n}`},n);return c.createElement("div",{className:`nvstr-company-info-container ${t}`},c.createElement("p",null,"135 Madison Avenue"),c.createElement("p",null,"New York, NY 10016"),c.createElement("p",null,r))};var p6=Object.defineProperty,m6=(e,t,n)=>(((e,t,n)=>{t in e?p6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class g6 extends C.exports.Component{constructor(){super(),m6(this,"_renderComponent",(()=>this._isTextFieldOpen()?this._renderExpandedField():this._renderCollapsedField())),m6(this,"_returnAdditionalClasses",(()=>this._isTextFieldOpen()?"expanded":"")),m6(this,"_renderOpenLink",(()=>c.createElement("div",{className:"action-btn-container"},c.createElement("span",{onClick:this._handleOpen,className:`${this.props.linkClassName||"link-btn"} open-text-field-button`},this._returnOpenLinkText())))),m6(this,"_renderCloseLink",(()=>c.createElement("div",{className:"action-btn-container"},c.createElement("span",{onClick:this._handleClose,className:"link-btn link-btn-low-contrast collapse-text-field-button"},"Close")))),m6(this,"_renderCollapsedField",(()=>this._renderOpenLink())),m6(this,"_renderExpandedField",(()=>c.createElement("div",{className:""},this._renderText(),this._renderCloseLink()))),m6(this,"_handleOpen",(()=>{this._logOpenTextField(),this._openTextField()})),m6(this,"_handleClose",(()=>{this._closeTextField()})),m6(this,"_isTextFieldOpen",(()=>this.state.isOpen)),m6(this,"_isTextAString",(()=>this._returnText()&&"string"==typeof this._returnText())),m6(this,"_renderText",(()=>this._isTextAString()?c.createElement("p",{className:"eye-catching-standalone-text-color"},this._returnText()):this._returnText())),m6(this,"_returnOpenLinkText",(()=>this.props.openLinkText)),m6(this,"_returnText",(()=>this.props.text)),m6(this,"_returnLabel",(()=>this.props.label)),m6(this,"_openTextField",(()=>{this.setState((()=>({isOpen:!0})))})),m6(this,"_closeTextField",(()=>{this.setState((()=>({isOpen:!1})))})),m6(this,"_logOpenTextField",(()=>{const e=`Opened ${this._returnLabel()} Text Field`;ly(e,{})()})),m6(this,"_validateProps",(()=>{this._returnLabel()||console.error("ExpandableTextField requires a label prop to record tracking"),this._returnText()||console.error("ExpandableTextField requires a text prop to render"),this._returnOpenLinkText()||console.error("ExpandableTextField requires a openLinkText prop to render")})),this.state={isOpen:!1}}componentDidMount(){this._validateProps()}render(){return c.createElement("div",{className:`expand-text-field-container ${this._returnAdditionalClasses()}`},this._renderComponent())}}var y6=Object.defineProperty,_6=(e,t,n)=>(((e,t,n)=>{t in e?y6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class f6 extends c.Component{constructor(){super(),_6(this,"submitPaymentTokenForProcessing",((e,t)=>{oC(e,t).then((e=>{if((e=>e&&e.data&&e.data.status&&"success"===e.data.status)(e))this.handlePurchaseComplete();else{const t=md(e);this.handlePurchaseFailure(t,e)}}))})),_6(this,"returnRefundPolicyText",(()=>"Full refund available if you cancel within the first 7 days and haven't placed any live trades during that time.")),_6(this,"renderPaymentSuccessModal",(()=>c.createElement("div",{className:"payment-modal-overlay was-success component-bg"},c.createElement(u6,null),c.createElement("div",{className:"continue-btn-container"},c.createElement(hx,{onClick:this.handleContinueClick},"Continue"))))),_6(this,"renderSendingPaymentError",(()=>c.createElement("div",{className:"error-message-container"},c.createElement("p",{className:"error-message"},this.returnErrorSendingPayment()),c.createElement("p",{className:"contact-support-message"},"If issue persists, contact ",c.createElement("a",{href:"mailto:support@tornado.com"},"support")," for more information.")))),_6(this,"isSendingPayment",(()=>this.state._isSendingPayment)),_6(this,"wasPaymentSuccessful",(()=>this.state._wasPaymentSuccessful)),_6(this,"wasErrorSendingPayment",(()=>this.state._paymentError)),_6(this,"returnErrorSendingPayment",(()=>this.state._paymentError)),_6(this,"handlePurchaseComplete",(()=>{this._setPaymentComplete(),this.props.onPaymentComplete()})),_6(this,"handlePurchaseFailure",((e,t)=>{this._setPaymentError(e),this._logSubmitPaymentError(e,t)})),_6(this,"handleContinueClick",(()=>{this.props.handleContinue()})),_6(this,"handleDismissErrorClick",(()=>{this._clearErrorMessage()})),_6(this,"handleStartSendingPayment",(()=>{this._setStartSendingPayment()})),_6(this,"_clearErrorMessage",(()=>{this.setState((()=>({_paymentError:null})))})),_6(this,"_setStartSendingPayment",(()=>{this.setState((()=>({_isSendingPayment:!0})))})),_6(this,"_setStopSendingPayment",(()=>{this.setState((()=>({_isSendingPayment:!1})))})),_6(this,"_setPaymentComplete",(()=>{this.setState((()=>({_isSendingPayment:!1,_wasPaymentSuccessful:!0})))})),_6(this,"_setPaymentError",(e=>{this.setState((()=>({_isSendingPayment:!1,_paymentError:e})))})),_6(this,"_logSubmitPayment",(()=>{const e={Context:this.props.viewingContext};TC("Submitted Payment",e)()})),_6(this,"_logSubmitPaymentError",((e,t)=>{const n={Context:this.props.viewingContext,"Error Message":t&&t.message?t.message:e};TC("Received Error Processing Payment",n)()})),this.state={_isSendingPayment:!1,_wasPaymentSuccessful:!1,_paymentError:null}}render(){return this.wasPaymentSuccessful()?c.createElement("div",{className:"checkout-form-container"},this.renderPaymentSuccessModal()):c.createElement("div",{className:"checkout-form-container"},c.createElement(oS,{show:this.isSendingPayment(),spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:"Processing Payment"}),this.props.charges&&c.createElement(K4,{columns:["Plan","Price"],charges:this.props.charges}),c.createElement("div",{className:"subscription-form-container"},c.createElement("p",{className:"payment-options  "},"Pay by Credit Card"),c.createElement("p",{className:"payment-security secondary-text-color"},c.createElement("span",{className:""},c.createElement(xc,{icon:"fa-lock",size:"small",className:""})),c.createElement("span",{className:"text"},"Secured with SSL Encryption")),c.createElement(d6,{charges:this.props.charges,onPaymentFailure:this.handlePurchaseFailure,onPaymentSubmitStart:this.handleStartSendingPayment,submitTokenAction:this.submitPaymentTokenForProcessing,handleCancel:this.props.handleCancel,hideUseAccountAddress:this.props.hideUseAccountAddress})),this.wasErrorSendingPayment()&&this.renderSendingPaymentError(),c.createElement("div",{className:"return-refund-policy-container"},c.createElement(g6,{linkClassName:"link-btn link-btn-low-contrast",openLinkText:"View Return/Refund Policy",text:this.returnRefundPolicyText(),label:"Subscription Return/Refund Policy"})),c.createElement(h6,{className:"secondary-text-color"}))}}const v6=e=>{const{charges:t,onPaymentComplete:n,handleContinue:r,handleCancel:i}=e;return c.createElement("div",{className:"subscription-payment-container"},c.createElement(f6,{viewingContext:`${Xo} Subscription`,handleContinue:r,handleCancel:i,onPaymentComplete:n,charges:t}))},E6=e=>{const{contentHeight:t,additionalClassName:n,btnClassName:r,primaryColor:i,renderFeatures:a,headingText:s,feature:o,featurePrice:l,featurePaymentMethod:d,featurePaymentMethodExplanation:u,handleContinueClick:h}=e;return c.createElement("div",{className:`plan-card ${n||""} center-all-list-items`,style:{flexWrap:"wrap"}},c.createElement("div",{style:{height:t,width:"100%"}},c.createElement("div",{className:"plan-card-heading"},c.createElement("h2",{style:{color:i}},s)),c.createElement("div",{className:"plan-features-container"},a?a():c.createElement(c.Fragment,null,c.createElement("p",{className:"plan-feature"},o),c.createElement("p",{className:"plan-feature-explanation"},l),d&&c.createElement("p",{className:"plan-feature-payment"},d),u&&c.createElement("p",{className:"plan-feature-payment-explanation",style:{marginTop:"1px"}},u)))),c.createElement("div",{className:"continue-container"},c.createElement(Cc,{customClass:r,text:"Continue",handleClick:h})))};var b6=Object.defineProperty,C6=(e,t,n)=>(((e,t,n)=>{t in e?b6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class x6 extends c.Component{constructor(){var e;super(),C6(this,"onInitComplete",(()=>{const e=this._returnCurrentUser();kp(e)&&!Tp(e)&&this._logViewSubscriptionSelectionScreen()})),C6(this,"returnPlanCardContentHeight",(()=>this.isInShowExtraFeaturesABTestGroup()?"110px":"95px")),C6(this,"isInShowExtraFeaturesABTestGroup",(()=>this.state._extraFeaturesABTestGroup)),C6(this,"renderSubscriptionPaymentModal",(()=>{const e={description:"<credit card entry form>",className:"subscription-payment-modal",contentComponent:c.createElement(dR,{heightOffsetBuffer:20,screenHeight:!0},c.createElement(v6,{handleContinue:this.handlePaymentComplete,handleCancel:this.handleCancelPayment,onPaymentComplete:this.onPaymentComplete,charges:[{title:this._returnSubscriptionChargeTitle(),description:"Monthly",value:this._returnSubscriptionCost(),discountedValue:this._isDiscountedFirstMonthAvailable()?this._returnSubscriptionDiscountedCost():null}]})),dismissable:!1};this.props.actions.showModal(e)})),C6(this,"handleNvstrOneClick",(()=>{this.renderSubscriptionPaymentModal(),this._logChoosePlan("Subscription")})),C6(this,"onPaymentComplete",(()=>{this._setCurrentUserSubscriber(),this._logSubmitPaymentComplete()})),C6(this,"_setCurrentUserSubscriber",(()=>{this.props.actions.setCurrentUserSubscriber()})),C6(this,"_returnSubscriptionChargeTitle",(()=>`${Xo} ${this.returnNvstrPremiumSubscriptionName()}`)),C6(this,"handleDismissRedeemingRewardsModal",(()=>{this._setDismissRewardsModal(),this._logDismissRewardsModal()})),C6(this,"handleNvstrBasicClick",(()=>{this._logChoosePlan("Basic"),this.props.navigate(Ln("funding"))})),C6(this,"handleCancelPayment",(()=>{this.props.actions.hideModal(),this._logCancelSubscriptionPayment()})),C6(this,"handlePaymentComplete",(()=>{this.props.actions.hideModal(),this.props.navigate(Ln("funding"))})),C6(this,"handleAlreadySubscriberRedirect",(()=>{this._isOnboarding()?this.props.navigate(Ln("funding")):this.props.navigate(Ln("dashboard"))})),C6(this,"_isInitializing",((e=this.state)=>this._isInitializingPlanPrice(e)||this._isInitializingCurrentUserData(e))),C6(this,"_isInitializingPlanPrice",((e=this.state)=>e._isInitializingPlanPrice)),C6(this,"_isInitializingCurrentUserData",((e=this.state)=>e._isInitializingCurrentUserData)),C6(this,"_returnSubscriptionCost",(()=>this.state._subscriptionCost)),C6(this,"_returnSubscriptionDiscountedCost",(()=>this.state._subscriptionDiscountedCost)),C6(this,"_isDiscountedFirstMonthAvailable",(()=>!nk(this._returnSubscriptionDiscountedCost()))),C6(this,"_returnSubscriptionPlanId",(()=>this.state._planId)),C6(this,"_shouldShowOnboardingRewardRedemptionModal",(()=>this._isOnboarding()&&this._hasRewardAwaitingRedemption()&&!this._isRedeemingRewardsModalDismissed())),C6(this,"_isOnboarding",(()=>Sp(this._returnCurrentUser()))),C6(this,"_isCurrentUserSubscriber",(()=>Tp(this._returnCurrentUser()))),C6(this,"_returnCurrentUser",(()=>this.props.currentUser)),C6(this,"_hasRewardAwaitingRedemption",(()=>this._returnCurrentUser().referral_rewards_not_redeemed_count>0)),C6(this,"_isRedeemingRewardsModalDismissed",(()=>this.state._isRewardsModalDismissed)),C6(this,"_setDismissRewardsModal",(()=>{this.setState((()=>({_isRewardsModalDismissed:!0})))})),C6(this,"returnNvstrPremiumSubscriptionName",(()=>Gp(this._returnCurrentUser()))),C6(this,"returnNvstrPrimeDisplayPrice",(()=>B_(this._returnSubscriptionCost(),"price"))),C6(this,"returnNvstrPrimeDiscountedDisplayPrice",(()=>B_(this._returnSubscriptionDiscountedCost(),"price"))),C6(this,"getNvstrPrimePrice",(()=>{rC().then((e=>{e.ok?this._handleInitComplete(e):this._setErrorWhileInitializing(e.error)}))})),C6(this,"_handleInitComplete",(e=>{if(!e.available_plans)return this._setErrorWhileInitializing("Something went wrong, please try again."),Uk("Received invalid subscription config",!0,{response:e});const t=e.available_plans[0],n=t.plan_id,r=t.subscription_cost,i=t.first_month_cost;this._setPlanId(n),this._setSubscriptionCost(r),this._setSubscriptionDiscountedCost(i),this._setInitPlanPriceComplete()})),C6(this,"_setInitPlanPriceComplete",(()=>{this.setState((()=>({_isInitializingPlanPrice:!1})))})),C6(this,"_setInitCurrentUserDataComplete",(()=>{this.setState((()=>({_isInitializingCurrentUserData:!1})))})),C6(this,"_setErrorWhileInitializing",(e=>{this._logErrorDuringInit(e),this.setState((()=>({_initError:e})))})),C6(this,"_setSubscriptionDiscountedCost",(e=>{this.setState((()=>({_subscriptionDiscountedCost:e})))})),C6(this,"_setSubscriptionCost",(e=>{this.setState((()=>({_subscriptionCost:e})))})),C6(this,"_setPlanId",(e=>{this.setState((()=>({_planId:e})))})),C6(this,"refreshCurrentUserData",(()=>this.props.actions.fetchCurrentUserQuickInfo())),C6(this,"_logErrorDuringInit",(e=>{const t={Error:e};this.props.actions.logMetricsTrackingEvent("Error occurred during Tornado Subscription Decision Initial Load",t)})),C6(this,"_logDismissRewardsModal",(()=>{this.props.actions.logMetricsTrackingEvent("Dismiss Rewards Modal",{Context:"Onboarding"})})),C6(this,"_logCancelSubscriptionPayment",(()=>{const e={"Subscription Name":this.returnNvstrPremiumSubscriptionName(),"Plan ID":this._returnSubscriptionPlanId(),"Shown Extra Payment Details":this.isInShowExtraFeaturesABTestGroup()};this.props.actions.logMetricsTrackingEvent("Cancel Subscription Signup",e)})),C6(this,"_logSubmitPaymentComplete",(()=>{const e={"Plan ID":this._returnSubscriptionPlanId(),"Subscription Name":this.returnNvstrPremiumSubscriptionName(),"Shown Extra Payment Details":this.isInShowExtraFeaturesABTestGroup()};Cu("Completed Initial Subscription Payment",{themeTestGroups:jp(this._returnCurrentUser()),subscriptionType:this._returnSubscriptionPlanId(),subscriptionValue:this._returnSubscriptionCost()}),this.props.actions.logMetricsTrackingEvent("Completed Payment",e),this._logChoosePlan("Subscription")})),C6(this,"_logViewSubscriptionSelectionScreen",(()=>{const e={"Subscription Name":this.returnNvstrPremiumSubscriptionName(),"Plan ID":this._returnSubscriptionPlanId(),"Shown Extra Payment Details":this.isInShowExtraFeaturesABTestGroup()};this.props.actions.logMetricsTrackingEvent("Viewed Subscription Selection",e)})),C6(this,"_logChoosePlan",(e=>{const t={"Plan Chosen":e,"Subscription Name":this.returnNvstrPremiumSubscriptionName(),"Shown Extra Payment Details":this.isInShowExtraFeaturesABTestGroup(),"Plan ID":this._returnSubscriptionPlanId()};Cu("Select Subscription Plan",{themeTestGroups:jp(this._returnCurrentUser()),subscriptionType:"Basic"===e?"Basic":this._returnSubscriptionPlanId(),subscriptionValue:"Subscription"===e?this._returnSubscriptionCost():0}),this.props.actions.logMetricsTrackingEvent("Selected Subscription Plan",t)})),this.state={_isRewardsModalDismissed:!1,_isInitializingPlanPrice:!0,_isInitializingCurrentUserData:!0,_subscriptionCost:null,_subscriptionDiscountedCost:null,_planId:null,_extraFeaturesABTestGroup:1===(e=2,Math.floor(Math.random()*Math.floor(e)))}}componentDidMount(){this.getNvstrPrimePrice(),this.refreshCurrentUserData().then((e=>{if(!e||!("user_id"in e))return this._setErrorWhileInitializing("Something went wrong, please try again.");{const t=e;this._setInitCurrentUserDataComplete(),kp(t)||this.handleAlreadySubscriberRedirect(),Tp(t)&&this.handleAlreadySubscriberRedirect()}}))}componentDidUpdate(e,t){this._isInitializing(t)&&!this._isInitializing()&&this.onInitComplete()}render(){return this._isInitializing()?c.createElement(Dw,null):c.createElement("div",{className:"nvstr-x-sign-up-container"},c.createElement(OF,null,c.createElement("div",{className:"heading-container"},c.createElement(rB,{text:"Choose a plan"})),c.createElement("div",{className:"plans-container"},c.createElement(E6,l(o({contentHeight:this.returnPlanCardContentHeight(),additionalClassName:"box-border-accent",btnClassName:"btn btn-small-tall btn-primary-color",headingText:"Basic",feature:"$4.50 per trade",featurePrice:"No monthly fee"},this.isInShowExtraFeaturesABTestGroup()?{featurePaymentMethod:c.createElement("span",null," "),featurePaymentMethodExplanation:c.createElement("span",null," ")}:{}),{handleContinueClick:this.handleNvstrBasicClick})),c.createElement(E6,l(o({contentHeight:this.returnPlanCardContentHeight(),additionalClassName:"box-border-accent",btnClassName:"btn btn-small-tall btn-secondary-color",headingText:this.returnNvstrPremiumSubscriptionName()},this._isDiscountedFirstMonthAvailable()?{renderFeatures:()=>c.createElement(c.Fragment,null,c.createElement("p",{className:"plan-feature",style:{fontWeight:500}},"Unlimited commission-free trades"),c.createElement("p",{className:"plan-feature-explanation",style:{fontWeight:400}},c.createElement("span",{className:""},`${this.returnNvstrPrimeDiscountedDisplayPrice()}`),c.createElement("span",null," "),c.createElement("span",null,"for first month")),c.createElement("p",{className:"plan-feature-explanation secondary-text-color",style:{fontSize:"10px",fontWeight:400,marginTop:"2px"}},`Just ${this.returnNvstrPrimeDisplayPrice()} per month after`),this.isInShowExtraFeaturesABTestGroup()?c.createElement(c.Fragment,null,c.createElement("p",{className:"plan-feature-payment secondary-text-color"},"Pay by credit card, cancel anytime"),c.createElement("p",{className:"plan-feature-payment-explanation secondary-text-color"})):null)}:o({feature:`${this.returnNvstrPrimeDisplayPrice()} per month`,featurePrice:"Unlimited commission-free trades"},this.isInShowExtraFeaturesABTestGroup()?{featurePaymentMethod:"Pay by credit card, cancel anytime",featurePaymentMethodExplanation:""}:{})),{handleContinueClick:this.handleNvstrOneClick})))))}}var w6=_c(T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(x6));class S6 extends c.PureComponent{render(){const e=this.props.iconLeft,t=!e,n=this.props.infoIcon;return c.createElement("div",{className:"icon-bullet-container clearfix"},e&&c.createElement("div",{className:"icon-bullet-icon-position-container"},c.createElement("div",{className:"icon-bullet-icon-container"},c.createElement(xc,{icon:this.props.icon,size:this.props.iconSize,iconSkinny:this.props.iconSkinny,customClass:this.props.iconClassName,color:this.props.color,style:this.props.iconContainerStyle||{}}))),c.createElement("div",{className:"icon-bullet-text"},this.props.text,n&&c.createElement("span",{style:{position:"relative"}},c.createElement(iS,{word:n,style:{top:"2px"}}))),t&&c.createElement("div",{className:"icon-bullet-icon-container"},c.createElement(xc,{icon:this.props.icon,size:this.props.iconSize,customClass:this.props.iconClassName,iconSkinny:this.props.iconSkinny,color:this.props.color,style:this.props.iconContainerStyle||{}})))}}var k6=Object.defineProperty,T6=(e,t,n)=>(((e,t,n)=>{t in e?k6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class I6 extends c.Component{constructor(){super(),T6(this,"renderPaymentModal",(()=>{const e={description:"<credit card entry form>",className:"subscription-payment-modal",contentComponent:c.createElement(dR,{heightOffsetBuffer:20,screenHeight:!0},c.createElement("div",{className:"subscription-payment-container"},c.createElement(f6,{viewingContext:`${Xo} Subscription`,handleContinue:this.handlePaymentComplete,handleCancel:this.handleCancelPayment,onPaymentComplete:this.onPaymentComplete,charges:[{title:this._membershipTitle(),description:this._membershipDescription(),value:this._currentUserMembershipMonthlyFeeAmount()}],hideUseAccountAddress:this.props.hideUseAccountAddress}))),dismissable:!1};this._logViewCardPaymentForm(),this.props.actions.showModal(e)})),T6(this,"onPaymentComplete",(()=>{this._logSubmitPaymentComplete()})),T6(this,"handleCancelPayment",(()=>{this.props.actions.hideModal(),this._logCancelPayment()})),T6(this,"handlePaymentComplete",(()=>{this.props.actions.hideModal(),this.setState((()=>({cardLinked:!0}))),this.props.onSuccess?this.props.onSuccess():this._defaultOnSuccess()})),T6(this,"_returnCurrentUser",(()=>this.props.currentUser)),T6(this,"_currentUserMembershipMonthlyFeeAmount",(()=>this.props.paperTrading?this._returnCurrentUser().membership_monthly_fee_amount_paper_trading:Np(this._returnCurrentUser()))),T6(this,"_currentUserMembershipMonthlyFreeTradeLimit",(()=>this.props.paperTrading?null:Ap(this._returnCurrentUser()))),T6(this,"_currentUserMembershipWaiveFeeMinEquity",(()=>this.props.paperTrading?null:Pp(this._returnCurrentUser()))),T6(this,"_returnCurrentUserOnboardingTestGroup",(()=>fp(this._returnCurrentUser()))),T6(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),T6(this,"_returnUserIdeaCount",(()=>FS(this._returnCurrentUserId(),this.props.ideas.ideaList).length)),T6(this,"_isUserOnLivePath",(()=>Rp(this._returnCurrentUser()))),T6(this,"_membershipTitle",(()=>this.props.paperTrading?"Risk-Free Simulated Trading":`Up to ${this._currentUserMembershipMonthlyFreeTradeLimit()} commission-free trades`)),T6(this,"_membershipDescription",(()=>this.props.paperTrading?"Monthly (first week free)":this._currentUserMembershipWaiveFeeMinEquity()?`Monthly (waived for accounts with $${Gk(this._currentUserMembershipWaiveFeeMinEquity(),!0)}+)`:"Monthly")),T6(this,"_logCancelPayment",(()=>{const e={"Membership Waive Fee Min Equity":this._currentUserMembershipWaiveFeeMinEquity(),"Membership Monthly Free Trades":this._currentUserMembershipMonthlyFreeTradeLimit(),"Membership Monthly Fee Amount":this._currentUserMembershipMonthlyFeeAmount(),"Paper Trading":this.props.paperTrading};this.props.actions.logMetricsTrackingEvent("Cancel Card Payments Form",e)})),T6(this,"_logSubmitPaymentComplete",(()=>{const e={"Membership Waive Fee Min Equity":this._currentUserMembershipWaiveFeeMinEquity(),"Membership Monthly Free Trades":this._currentUserMembershipMonthlyFreeTradeLimit(),"Membership Monthly Fee Amount":this._currentUserMembershipMonthlyFeeAmount(),"Paper Trading":this.props.paperTrading};Cu("Completed Card Payment Link",{themeTestGroups:jp(this._returnCurrentUser()),"Membership Waive Fee Min Equity":this._currentUserMembershipWaiveFeeMinEquity(),"Membership Monthly Free Trades":this._currentUserMembershipMonthlyFreeTradeLimit(),"Membership Monthly Fee Amount":this._currentUserMembershipMonthlyFeeAmount(),"Paper Trading":this.props.paperTrading}),this.props.actions.logMetricsTrackingEvent("Completed Card Payment Link",e)})),T6(this,"_logViewCardPaymentForm",(()=>{const e={"Membership Waive Fee Min Equity":this._currentUserMembershipWaiveFeeMinEquity(),"Membership Monthly Free Trades":this._currentUserMembershipMonthlyFreeTradeLimit(),"Membership Monthly Fee Amount":this._currentUserMembershipMonthlyFeeAmount(),"Paper Trading":this.props.paperTrading};this.props.actions.logMetricsTrackingEvent("Viewed Card Payment Form",e)})),T6(this,"_defaultOnSuccess",(()=>{this._navigateToInvestingExperience("paper")})),T6(this,"_handleSkipClick",(()=>{const e={"Membership Waive Fee Min Equity":this._currentUserMembershipWaiveFeeMinEquity(),"Membership Monthly Free Trades":this._currentUserMembershipMonthlyFreeTradeLimit(),"Membership Monthly Fee Amount":this._currentUserMembershipMonthlyFeeAmount(),"Paper Trading":this.props.paperTrading};this.props.actions.logMetricsTrackingEvent("Clicked Skip Card Payment",e),this._navigateToInvestingExperience("paper")})),T6(this,"_navigateTo",(e=>this.props.navigate(e))),T6(this,"_navigateToInvestingExperience",(e=>this._navigateTo(Ln("investingExperience")+`?${e.toLowerCase()}_account=true`))),this.state={loading:!0,cardLinked:!1}}componentDidMount(){Promise.all([this.props.actions.getPaymentSourcesData({ignoreError:!0})]).then((e=>{e[0]&&e[0].payment_sources&&e[0].payment_sources.length>0&&(this.setState((()=>({cardLinked:!0}))),this.setState((()=>({linkedCreditCardInfo:o({},e[0].payment_sources[0])})))),this.setState((()=>({loading:!1})))}))}componentDidUpdate(e,t){}render(){if(!Ip(this._returnCurrentUser()))return null;if(this.state.loading)return null;if(this.state.cardLinked)return this.state.linkedCreditCardInfo?c.createElement("div",{className:"link-credit-card-msg-container"},`Membership will be paid with your card ending in ${this.state.linkedCreditCardInfo.card_number_ending}.`):c.createElement("div",{className:"link-credit-card-msg-container"},"Your card was linked successfully.");if(this.props.fullPage&&this.props.paperTrading){const e=[`Access insights from the ${Xo} Community`,"Ask Wall Street veterans about any stock","Powerful portfolio optimization tools and data from Capital IQ",`Try it free for 1 week. Then just $${this._currentUserMembershipMonthlyFeeAmount()} per month`];return c.createElement("div",{className:"account-type-container"},c.createElement(V4,{showMobileCardStyling:!0},c.createElement("div",{className:"full-page-card-heading  "},"Explore ",Xo," With Simulated Trading"),c.createElement("div",{className:"gradient-border-container"},c.createElement("div",{className:"gradient-border"})),c.createElement("div",{className:"sim-account-features-container"},e.map(((e,t)=>c.createElement("div",{key:`feature-${t}`,className:"account-feature"},c.createElement(S6,{iconLeft:!0,text:e,color:"#028fea",icon:"fa-check-circle",iconSize:"large"}))))),c.createElement("div",{className:"link-credit-card-btn-container"},c.createElement(Cc,{text:this.props.buttonText,customClass:"btn btn-primary-color btn-small-tall",handleClick:this.renderPaymentModal})),c.createElement("div",{className:"link-credit-card-btn-container"},c.createElement("div",{className:"link-btn link-btn-low-contrast btn-small",onClick:this._handleSkipClick},"Skip and enter payment details later"))))}return c.createElement("div",{className:"link-credit-card-btn-container"},c.createElement(Cc,{text:this.props.buttonText,className:"link-btn btn-small",handleClick:this.renderPaymentModal}))}}var N6=_c(T((e=>({currentUser:e.currentUser,ideas:e.ideas})),(e=>({actions:I(WC,e)})))(I6));const A6=u.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 40px;
  border-radius: 5px;
  padding: 8px 16px;
  background: ${({theme:e})=>e.themeColors.primaryCtaButton};

  * {
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`,P6=e=>{const{onChange:t,documentType:n,selectedDocument:r,isFront:i,isBack:a}=e,s=`${n}_upload_document_${a?"back":"front"}`;return c.createElement("div",null,c.createElement("label",{for:s,htmlFor:s},c.createElement(A6,null,c.createElement(xc,{icon:"fa fa-upload"}),c.createElement("div",{style:{paddingLeft:"8px"}},c.createElement(Ei,{isSmall:!0},"Choose File/ Take Photo")))),c.createElement("div",{style:{paddingTop:"8px",display:"none"}},c.createElement("input",{id:s,name:s,type:"file",onChange:e=>{t(e,{selectedDocument:r,documentType:n,isFront:i,isBack:a})},multiple:!1})))};class D6 extends c.PureComponent{render(){const{onPress:e}=this.props;return c.createElement("div",{className:"delete-button-container"},c.createElement(aS,{icon:"fa-times fa-times-thin",customClass:"circle-fill-button error-button-color",colorClassName:"",size:"medium",handleClick:e}))}}const O6=u.div`
  padding-bottom: 8px;

  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,L6=u.div`
  padding-top: 36px;
  text-align: center;
`,R6=u.div`
  padding-top: 24px;
  text-align: center;
`,F6=u.div`
  padding-top: 24px;
  margin: 0 16px 24px 16px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,M6=u.div`
  padding-top: 24px;
`,U6=u.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
`,$6=u.div`
  position: relative;
  padding-top: 24px;

  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,B6=u.div`
  cursor: pointer;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
`,z6=u.div`
  position: absolute;
  top: -12px;
  right: -24px;
`,V6=u.div`
  text-align: center;
  max-width: 100px;
  margin: 0 auto;
`,H6=u.div`
  * {
    font-size: 10px !important;
    line-height: 12px !important;
  }
`,W6=u.div`
  display: inline-block;
  position: relative;
  padding-bottom: 8px;
`,j6=({blobUrl:e,fileName:t,onDelete:n})=>c.createElement(V6,{onClick:()=>{window.open(e,"_blank")}},c.createElement(W6,null,c.createElement(xc,{icon:"fa-file",size:"xlarge"}),c.createElement(z6,null,c.createElement(D6,{onPress:n}))),c.createElement(H6,{style:{margin:"0 auto",maxWidth:"100px"}},c.createElement(Ei,{isSmall:!0},t))),G6=({blobUrl:e,fileName:t,onDelete:n})=>c.createElement(B6,null,c.createElement(j6,{blobUrl:e,fileName:t,onDelete:n})),q6=e=>["Driver's License","State ID Card"].includes(e),Y6=({selectedDocument:e,documentType:t,isFront:n,isBack:r,onImageSelect:i,onDeleteFile:a,file:s})=>{const o=()=>{a({file:s,documentType:t,isFront:n,isBack:r})};return s?c.createElement(G6,{blobUrl:s.documentBlob,fileName:s.document.name,onDelete:o}):c.createElement("div",{style:{width:"100%"}},c.createElement("div",{style:{textAlign:"center"}},c.createElement(Ei,null,"Document "+(n?"Front":"Back"))),c.createElement(R6,null,c.createElement(P6,{selectedDocument:e,documentType:t,isFront:n,isBack:r,onChange:i,disableFileUploadMechanism:!1})))},K6=({documentType:e,values:t,showLine:n,onDocumentSelect:r,onDocumentDelete:i})=>{const[a,s]=c.useState(""),o=t[e],l=q6(a),d=Ll[e],u=[so({text:"Please select...",value:""}),so({text:"--",value:"--"}),...d.map((e=>so({text:e,value:e})))],h=e=>{i(e)};return c.createElement($6,null,n&&c.createElement(F6,{className:"sc-row-line-separator"}),c.createElement(Io,{name:e,value:a,label:"headshot"===e?"Headshot Image":`${dk(e)} Document`,items:u,onChange:e=>e=>{s(e)},error:null}),"identity"===e&&c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Some documents require front and back.")),""!==a&&"--"!==a&&c.createElement(M6,null,l?c.createElement(U6,null,c.createElement(Y6,{selectedDocument:a,documentType:e,isFront:!0,onImageSelect:r,onDeleteFile:h,file:null==o?void 0:o.front}),c.createElement(Y6,{selectedDocument:a,documentType:e,isBack:!0,onImageSelect:r,onDeleteFile:h,file:null==o?void 0:o.back})):c.createElement(Y6,{selectedDocument:a,documentType:e,isFront:!0,onImageSelect:r,onDeleteFile:h,file:null==o?void 0:o.front})))},Q6={},Z6="add",X6="delete";function J6(e,t){switch(t.type){case Z6:{const{file:n,isFront:r,isBack:i,documentType:a,selectedDocument:s}=t.payload,l=e[a]?{[a]:e[a]}:{[a]:{front:null,back:null,selectedDocument:s}};return l[a][r?"front":"back"]=n,o(o({},e),l)}case X6:{const{file:n,isFront:r,isBack:i,documentType:a}=t.payload,s=e[a]?{[a]:e[a]}:{[a]:{front:null,back:null}};return s[a][r?"front":"back"]=null,o(o({},e),s)}default:throw new Error}}const e8=({requiredDocs:e})=>{const{search:t}=_(),[n,r]=c.useState(!0),[i,a]=c.useState(!1),[s,o]=c.useState(null),[l,d]=c.useState(!1),[u,h]=c.useState(e||[]),[p,m]=c.useReducer(J6,Q6,(()=>Q6));c.useEffect((()=>{e||(()=>{const e=decodeURIComponent(t),n=fe(e),r=Object.keys(n),i=Object.keys(Ll),a=[];r.forEach((e=>{i.includes(e)&&a.push(e)})),a.length>0&&h(a)})()}),[]);const g=({file:e,isFront:t,isBack:n,documentType:r})=>{m({type:X6,payload:{file:e,isFront:t,isBack:n,documentType:r}})},y=(e,t)=>{const n=e=>{const n=new FileReader;n.onloadend=()=>{const{url:r,documentBlob:i}=((e,t)=>{const n=t.result,r=n,i=n.split("data:")[1].split(";")[0],a=atob(r.substr(`data:${i};base64,`.length)),s=[];for(let l=0;l<a.length;l+=1024){const e=a.slice(l,l+1024),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);const n=new Uint8Array(t);s.push(n)}const o=new Blob(s,{type:i});return{file:e,reader:t,url:n,blob:o,documentBlob:URL.createObjectURL(o)}})(e,n),a={document:e,documentUrl:r,documentBlob:i},{isFront:s,isBack:o,documentType:l,selectedDocument:c}=t;m({type:Z6,payload:{file:a,isFront:s,isBack:o,documentType:l,selectedDocument:c}})},n.readAsDataURL(e)};e.preventDefault();Array.from(e.target.files).forEach((e=>{n(e)}))};return n?i?c.createElement("div",null,c.createElement(Ii,null,"Document Upload Helper"),c.createElement("div",{style:{padding:"36px 0",textAlign:"center"}},c.createElement(_w,null),c.createElement("div",{style:{padding:"16px 0 0 0",textAlign:"center"}},c.createElement(Ei,null,"Submitting...")))):l?c.createElement("div",null,c.createElement(Ii,null,"Document Upload Helper"),c.createElement("div",{style:{padding:"36px 0",textAlign:"center"}},c.createElement(fx,{textColor:!0}),c.createElement("div",{style:{padding:"16px 0 0 0",textAlign:"center"}},c.createElement(Ei,null,"Completed")))):c.createElement("div",null,c.createElement("div",null,c.createElement(Ii,null,"Document Upload Helper"),c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0,thin:!0},"The required documents are listed below.")),c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0,thin:!0},'For each, use the dropdown to select the acceptable document you are uploading, and click the button to select the file from your device. Once completed, click the "Complete Upload" button to securely send your documents for review.'))),u.map(((e,t)=>c.createElement("div",{key:e},c.createElement(K6,{documentType:e,values:p,showLine:0!==t,onDocumentSelect:y,onDocumentDelete:g})))),c.createElement(L6,null,s&&c.createElement(O6,null,c.createElement(Ei,null,s)),c.createElement(hx,{onClick:async()=>{if(!u.every((e=>{const{front:t,back:n,selectedDocument:r}=p[e]||{};return q6(r)?!!t&&!!n:!!t})))return void o("Missing required documents");a(!0);(await Promise.all(u.map((e=>(async e=>{const{front:t,back:n,selectedDocument:r}=p[e],i=[t];n&&i.push(n);const a=i.map((e=>e.document)),s=new FormData;s.append("documentation_type",r.toLowerCase()),a.forEach((e=>{s.append("images[]",e)}));const{ok:o}=await vb(s);return o})(e))))).every((e=>e))?d(!0):o("Something went wrong. Please try again later."),a(!1)}},"Complete Upload"))):c.createElement("div",null,c.createElement(_e,null))},t8=()=>c.createElement("div",{className:"support-actions-container",style:{marginTop:"10px"}},c.createElement("div",{className:"get-support-action"},c.createElement(Ei,{isSmall:!0},c.createElement("span",{className:"secondary-text-color"},"Have any questions? "),c.createElement("a",{href:"mailto:support@tornado"},"Email Support"))));var n8=Object.defineProperty,r8=(e,t,n)=>(((e,t,n)=>{t in e?n8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class i8 extends c.PureComponent{constructor(){super(),r8(this,"_attemptRedirectToProperSubmissionPage",(()=>{const{decisionStatus:e}=this.state;if(null===e)return this._fetchLiveAccountDocumentationRequirementsAndRedirect();this._redirectForLiveAccountSubmissionStatus(e)})),r8(this,"_redirectForLiveAccountSubmissionStatus",(e=>{const{navigate:t}=this.props,{decisionStatus:n}=this.state;n===z_.FURTHER_DOCUMENTS_REQUIRED?t(xn.build()):n===z_.ADDRESS_RESUBMIT?t(wn.build()):t(en.build())})),r8(this,"_fetchLiveAccountDocumentationRequirementsAndRedirect",(async()=>{this.setState((()=>({isLoading:!0})));const{decisionStatus:e,wasNetworkError:t}=await Eb();t?setTimeout((()=>{this._fetchLiveAccountDocumentationRequirementsAndRedirect()}),1e3):this._redirectForLiveAccountSubmissionStatus(e)}));const{isInitialized:e,data:t}=F_.getItemFromStorage(R_.SOCURE_REVIEW_STATUS);this.state={isLoading:!0,decisionStatus:e&&(null==t?void 0:t.decisionStatus)||null}}componentDidMount(){this._attemptRedirectToProperSubmissionPage()}render(){const{isLoading:e}=this.state;return e?c.createElement(Dw,null):c.createElement(OF,{className:"upload-document-verification-page"},c.createElement(t8,null))}}var a8=_c(i8),s8=Object.defineProperty,o8=(e,t,n)=>(((e,t,n)=>{t in e?s8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class l8 extends c.Component{constructor(e){super(e),o8(this,"getSecurityIdForAsk",(()=>this.state._securityId)),o8(this,"renderPickAStock",(()=>nk(this.getSecurityIdForAsk())?c.createElement(c.Fragment,null,c.createElement(yG,{className:" "},"Pick a stock to ask about"),c.createElement("div",{style:{maxWidth:"400px",margin:"0 auto",padding:"25px 0 0 0"}},c.createElement(UA,{id:"ask_ctl_stock_search",icon:"fa-search",parentComponent:"Ask CTL",placeholder:"Search Stocks...",handleSecurityQuerySelection:this.handleStockSelection}))):null)),o8(this,"renderAskAboutStock",(()=>nk(this.getSecurityIdForAsk())?null:c.createElement(c.Fragment,null,c.createElement(yG,{className:" "},"Enter your question"),c.createElement("div",{style:{padding:"10px 0",textAlign:"center"}},c.createElement(hx,{transparent:!0,onClick:this.handleChangeSelectedStock},"Choose a different stock")),c.createElement("div",{className:"ask-in-page-container"},c.createElement(Oz,{containerClass:"ask-ctl-share-button",viewingContext:"Ask CTL Page",securityId:this.getSecurityIdForAsk(),handleAfterAction:this.handleAskAnyoneCompleted,onCancel:this.handleAskAnyoneCancel,defaultAskingCTL:!0,openOnMount:!0,hideButton:!0}))))),o8(this,"handleStockSelection",(e=>{const{id:t}=e;this.setState((()=>({_securityId:t}))),this._logAskStockSelection(t)})),o8(this,"handleAskAnyoneCompleted",(()=>{setTimeout((()=>{this.setState((()=>({_securityId:null})))}),1900)})),o8(this,"handleChangeSelectedStock",(()=>{this.handleAskAnyoneCancel(),this._logAskStockChange()})),o8(this,"handleAskAnyoneCancel",(()=>{this.setState((()=>({_securityId:null})))})),o8(this,"_logPageView",(()=>{const e={"Test Group":this.props.testGroup};TC("View Ask A CTL Page",e)()})),o8(this,"_logAskStockSelection",(e=>{const t={Component:"Ask Page","Test Group":this.props.testGroup,"Security ID":e};TC("Clicked Stock Search Selection",t)()})),o8(this,"_logAskStockChange",(()=>{const e={"Test Group":this.props.testGroup};TC("Clicked Change Asking Stock",e)()})),this.state={_securityId:null}}componentDidMount(){document.title=`${Xo} - Ask a Community Thought Leader`,this._logPageView()}render(){return c.createElement("div",{className:"ask-page-container"},c.createElement("div",{className:"ask-page-ctl-explanation"},c.createElement("p",null,c.createElement("span",{className:"bold  ",style:{fontSize:"16px"}},"Community Thought Leaders (CTL)"),c.createElement("span",{className:" "}," ","are select members of the ",Xo," community who are compensated for their contributions.")),c.createElement("p",null,c.createElement("span",{className:" "},"They include former Wall Street pros - for example, one spent 10+ years at a $2 billion fund. Another was formerly an Institutional Investor-ranked analyst at Citigroup and Barclays.")),c.createElement("p",null,c.createElement("a",{href:"/faq?section=community-thought-leaders",target:"_blank"},"See here"),c.createElement("span",{className:" "}," for details, including how you can become one."))),c.createElement(OF,{className:"ask-page"},this.renderPickAStock(),this.renderAskAboutStock()))}}var c8=T((e=>{const t=WT(e);return{testGroup:vp(t)}}))(l8),d8=Object.defineProperty,u8=(e,t,n)=>(((e,t,n)=>{t in e?d8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const h8=u.li`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,p8=u.div`
  select {
    border-top: none;
    border-left: none;
    border-right: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`;class m8 extends c.Component{constructor(){super(),u8(this,"_renderNoDocumentsWithUserAccountTypeMessage",(()=>c.createElement("div",{style:{padding:"50px 0",textAlign:"center"}},"Documents are not available for simulated accounts"))),u8(this,"_renderForm",(()=>c.createElement("div",{className:"document-search-form-container"},this._renderFormInputs(),this._wasErrorGettingDocuments()&&this._renderErrorMessage(),c.createElement("div",{className:"document-search-submit"},c.createElement(hx,{handleClick:this._handleSubmit},"Search"))))),u8(this,"_renderFormInputs",(()=>c.createElement("div",{className:"document-search-form-inputs"},c.createElement("div",{className:"document-type-dropdown-container"},c.createElement(qG,{name:"document_type",label:"Document Type",defaultValue:"Please select...",value:this._returnDocumentTypeValue(),options:this._returnDocumentTypeSelectionOptions(),handleSelection:this._handleDropdownSelection})),c.createElement("div",{className:"document-type-dropdown-container"},c.createElement("div",{className:"document-date-range-label form-label"},"Date Range"),c.createElement("div",{className:"date-range-form-container"},c.createElement("div",{className:"from-date-range-inputs-container"},c.createElement("div",{className:"date-range-container"},c.createElement(qG,{name:"from-month",value:this._returnFromMonthValue(),options:this._returnMonthSelectionOptions(),handleSelection:this._handleDropdownSelection}),c.createElement(qG,{name:"from-year",value:this._returnFromYearValue(),options:this._returnYearSelectionOptions(),handleSelection:this._handleDropdownSelection}))),c.createElement("div",{className:"date-range-separator"},"-"),c.createElement("div",{className:"to-date-range-inputs-container"},c.createElement("div",{className:"date-range-container"},c.createElement(qG,{name:"to-month",value:this._returnToMonthValue(),options:this._returnMonthSelectionOptions(),handleSelection:this._handleDropdownSelection}),c.createElement(qG,{name:"to-year",value:this._returnToYearValue(),options:this._returnYearSelectionOptions(),handleSelection:this._handleDropdownSelection})))))))),u8(this,"_renderDocumentResults",(()=>c.createElement("div",{className:"document-results-container"},c.createElement("ul",{className:"document-results-list"},this._returnDocumentResults().map(((e,t)=>this._renderDocument(e,t))))))),u8(this,"_renderDocument",((e,t)=>{const{date:n,url:r}=e;return c.createElement(h8,{key:`document-result-${n}-${t}`,className:"document-result",onMouseOver:this._bindIndexToHandleMouseOver(t)},c.createElement("a",{className:"download-link border-accent",href:r,target:"_blank",rel:"noopener noreferrer"},c.createElement(xc,{icon:"fa-file-text-o",size:"medium",colorClassName:"secondary-text-color"}),c.createElement("span",{className:"file-description-container"},c.createElement("span",{className:"file-name  "},n),c.createElement("span",{className:"file-type secondary-text-color"},`PDF - ${this._returnDocumentResultType()}`))),this._isMousedOver(t)&&c.createElement("span",{className:"download-button-container fade-in-up-quick"},c.createElement(hx,{onClick:()=>{window.open(r,"_blank")}},"Download")))})),u8(this,"_renderErrorMessage",(()=>c.createElement("div",{className:"form-error-message-container"},c.createElement("span",{className:"warning-icon-container"},c.createElement(xc,{icon:"fa-exclamation-circle",colorClassName:"error-text-color",size:"small"})),c.createElement("p",null,this._returnErrorMessage())))),u8(this,"_renderNoDocumentResults",(()=>c.createElement("div",{className:"document-results-container"},c.createElement("p",{className:"no-documents-found-message"},"There are no documents available meeting the search criteria.")))),u8(this,"_returnCurrentUser",(()=>this.props.currentUser)),u8(this,"_returnDocumentResultType",(()=>this.state._documentResultType)),u8(this,"_convertDocumentTypeToFileType",(e=>({statements:"Statement",confirms:"Confirm"}[e.toLowerCase()]||e))),u8(this,"_setDocumentResultType",(e=>{this.setState((()=>({_documentResultType:this._convertDocumentTypeToFileType(e)})))})),u8(this,"_isGettingDocuments",(()=>this.state._isGettingDocuments)),u8(this,"_convertAPIErrorMessageToDisplayString",(e=>("No current user"===e&&setTimeout((()=>{window.location.reload()}),2e3),{"document_type is a required parameter":"Please select a Document Type","Missing live trading account":"Documents are not available. Your live account is not currently active","Documents are not available for simulated accounts":"Documents are not available for simulated accounts","No current user":"Session timed out. Please login to continue"}[e]||"Something went wrong. Please try again later."))),u8(this,"_returnErrorMessage",(()=>this._wasErrorGettingDocuments())),u8(this,"_wasErrorGettingDocuments",(()=>this.state._wasErrorGettingDocuments)),u8(this,"_clearWasErrorGettingDocuments",(()=>{this.setState((()=>({_wasErrorGettingDocuments:!1})))})),u8(this,"_setDocumentResults",(e=>{this.setState((()=>({_documentResults:e})))})),u8(this,"_clearDocumentResults",(()=>{this.setState((()=>({_documentResults:null,_documentResultType:null})))})),u8(this,"_bindIndexToHandleMouseOver",(e=>()=>this._handleMouseOver(e))),u8(this,"_handleMouseOver",(e=>{this._setMouseOver(e)})),u8(this,"_returnMousedOverDocumentResultIndex",(()=>this.state._mousedOverDocumentResultIndex)),u8(this,"_isMousedOver",(e=>this._returnMousedOverDocumentResultIndex()===e&&!nk(this._returnMousedOverDocumentResultIndex()))),u8(this,"_setMouseOver",(e=>{this.setState((()=>({_mousedOverDocumentResultIndex:e})))})),u8(this,"_returnDocumentResults",(()=>this.state._documentResults)),u8(this,"_areDocumentResults",(()=>this._isDocumentSearchComplete()&&this._returnDocumentResults().length>0)),u8(this,"_isDocumentSearchComplete",(()=>!nk(this._returnDocumentResults())&&Array.isArray(this._returnDocumentResults()))),u8(this,"_returnYearSelectionOptions",(()=>{var e=parseInt(Yl("YYYY",jl()),10),t=[];for(let n=2018;n<=e;n++)t.push(n.toString());return t})),u8(this,"_convertMonthStrToNum",(e=>({Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[e]))),u8(this,"_returnMonthSelectionOptions",(()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])),u8(this,"_returnDocumentSearchRequestBodyData",(()=>({document_type:this._returnDocumentTypeValue().toLowerCase(),start_date:`${this._convertMonthStrToNum(this._returnFromMonthValue())}-${this._returnFromYearValue()}`,end_date:`${this._convertMonthStrToNum(this._returnToMonthValue())}-${this._returnToYearValue()}`}))),u8(this,"_returnDocumentTypeSelectionOptions",(()=>["Statements","Confirms","Tax"])),u8(this,"_returnFormData",(()=>this.state.formData)),u8(this,"_returnFromDateRangeData",(()=>this._returnFormData().from_date)),u8(this,"_returnToDateRangeData",(()=>this._returnFormData().to_date)),u8(this,"_returnDocumentTypeValue",(()=>this._returnFormData().document_type)),u8(this,"_returnFromMonthValue",(()=>this._returnFromDateRangeData().month)),u8(this,"_returnFromYearValue",(()=>this._returnFromDateRangeData().year)),u8(this,"_returnToMonthValue",(()=>this._returnToDateRangeData().month)),u8(this,"_returnToYearValue",(()=>this._returnToDateRangeData().year)),u8(this,"_handleDropdownSelection",((e,t)=>{this._updateFormDataValue(e,t),this._clearWasErrorGettingDocuments()})),u8(this,"_isValidDocumentType",(e=>this._returnDocumentTypeSelectionOptions().includes(e))),u8(this,"_updateFormDataValue",((e,t)=>{if("document_type"===e)this._isValidDocumentType(t)&&this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})));else{const n=e.split("-")[0],r=e.split("-")[1];["to","from"].includes(n)&&this.setState((e=>({formData:l(o({},e.formData),{[`${n}_date`]:l(o({},e.formData[`${n}_date`]),{[r]:t})})})))}})),u8(this,"_handleStartSearch",(()=>{this._clearWasErrorGettingDocuments(),this._clearDocumentResults(),this.setState((()=>({_isGettingDocuments:!0}))),this._setDocumentResultType(this._returnDocumentTypeValue())})),u8(this,"_handleSubmit",(async()=>{this._handleStartSearch(),this._logSubmitDocumentsSearch();const e=await this.props.actions.getDocuments(this._returnDocumentSearchRequestBodyData());this.setState((()=>({_isGettingDocuments:!1})));const{error:t,documents:n}=e;t?("Documents are not available for simulated accounts"!==t&&"Missing live trading account"!==t||this.setState((()=>({noDocumentsWithUserAccountType:!0}))),this.setState((()=>({_wasErrorGettingDocuments:this._convertAPIErrorMessageToDisplayString(t)}))),this._logErrorGettingDocuments(t)):this._setDocumentResults(n)})),u8(this,"_setPageTitle",(()=>document.title=`${Xo} - Documents`)),u8(this,"_logSubmitDocumentsSearch",(()=>{const e={"Document Type":this._returnDocumentTypeValue(),"Start Date":`${this._returnFromMonthValue()}-${this._returnFromYearValue()}`,"End Date":`${this._returnToMonthValue()}-${this._returnToYearValue()}`};this.props.actions.logMetricsTrackingEvent("Submitted Documents Search",e)})),u8(this,"_logErrorGettingDocuments",(e=>{const t={"Error Message":e,"Document Type":this._returnDocumentTypeValue(),"Start Date":`${this._returnFromMonthValue()}-${this._returnFromYearValue()}`,"End Date":`${this._returnToMonthValue()}-${this._returnToYearValue()}`};this.props.actions.logMetricsTrackingEvent("Received Error Using Documents Search",t)})),u8(this,"_logPageView",(()=>{this.props.actions.logMetricsTrackingEvent("View Documents Page",{})})),this.state={formData:{document_type:"",from_date:{month:"Dec",year:"2018"},to_date:{month:Ql()||"Jan",year:Kl()||""}},_isGettingDocuments:!1,_wasErrorGettingDocuments:!1,_documentResults:null,noDocumentsWithUserAccountType:!1,_mousedOverDocumentResultIndex:null}}componentDidMount(){this._logPageView(),this._setPageTitle()}render(){const{noDocumentsWithUserAccountType:e}=this.state;return c.createElement(p8,null,c.createElement(OF,{className:"react-documents-page"},c.createElement("div",{style:{paddingBottom:"24px"}},this._returnCurrentUser().is_account_closed&&c.createElement("div",{className:"account-closed"},"This account is closed"),!this._returnCurrentUser().is_account_closed&&this._returnCurrentUser().is_live_trading_account_closed&&c.createElement("div",{className:"account-closed"},"This brokerage account is closed"),c.createElement("div",{style:{textAlign:"left"}},c.createElement("h2",null,"E-Documents"))),e?this._renderNoDocumentsWithUserAccountTypeMessage():this._renderForm(),this._isGettingDocuments()&&c.createElement(oS,{show:this._isGettingDocuments(),spinner:{iconClass:"circle-loading-spinner circle-loading-spinner-medium",style:{marginBottom:"-7px"}},message:"Getting Documents"}),this._isDocumentSearchComplete()&&(this._areDocumentResults()?this._renderDocumentResults():this._renderNoDocumentResults())))}}var g8=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(m8),y8=Object.defineProperty,_8=(e,t,n)=>(((e,t,n)=>{t in e?y8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class f8 extends C.exports.Component{constructor(e){super(e),_8(this,"handleContinueClick",(()=>this.state.canContinue?this.handleContinue():()=>{this.setState((()=>({errorMessage:"You must click the checkbox to confirm you have read and agree to the Terms of Service and Privacy Policy before continuing."})))})),_8(this,"handleContinue",(()=>{this.submitAgreeToBDTerms(),this._logAgreeToBDTermsSubmit()})),_8(this,"_navigateBackToOriginalDestination",(()=>{const e=this.returnAppStorage().destinationURL;e?(this.props.navigate(e),this.props.actions.removeKeyAppStorage("destinationURL")):this.props.navigate(Ln("root"))})),_8(this,"submitAgreeToBDTerms",(()=>{this.props.actions.postAgreedToBDTerms().then((e=>{e.success?this._navigateBackToOriginalDestination():this._displayErrorMessage(e.error)}))})),_8(this,"_displayErrorMessage",(e=>{const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e);this.props.actions.showModal({contentComponent:t,size:"wide",dismissable:!0})})),_8(this,"renderCheckbox",(e=>Rh(e,this.returnInputDefaultProps.call(this),e.name))),_8(this,"returnAppStorage",(()=>this.props.appStorage)),_8(this,"hasCurrentUserAgreedToBDTerms",(()=>_p(this.returnCurrentUser()))),_8(this,"returnCurrentUser",(()=>this.props.currentUser)),_8(this,"_logAgreeToBDTermsSubmit",(()=>{this.props.actions.logMetricsTrackingEvent("Submitted Accept BD Terms",{})})),this.state={inputs:[{type:zd,typeName:"Checkbox",name:"bd_terms",required:!0,props:{values:[!0,!1]}}],formData:{bd_terms:!1},errors:{},canContinue:!1,errorMessage:null}}componentDidMount(){this.hasCurrentUserAgreedToBDTerms()&&this.props.navigate(Ln("root"))}render(){const{errorMessage:e}=this.state,t=this.state.inputs[0];return c.createElement("div",{className:"bd-terms-container"},c.createElement(V4,null,c.createElement("div",{className:"full-page-card-heading"},"Welcome to ",Xo),c.createElement("div",{className:"full-page-card-content"},c.createElement("div",{className:"bd-terms-acknowledgement"},c.createElement("div",{className:"bd-terms-checkbox"},this.renderCheckbox(t)),c.createElement("div",{className:"bd-terms-statement"},"I have read and agree to the"," ",c.createElement("a",{href:"/terms_of_service",target:"_blank"},"Terms of Service")," ","and"," ",c.createElement("a",{href:"/privacy_policy",target:"_blank"},"Privacy Policy"),"."))),c.createElement("div",{className:"full-page-card-action-button"},c.createElement(hx,{onClick:this.handleContinueClick},"Continue")),e&&c.createElement("div",{style:{paddingTop:"25px"}},c.createElement("span",{className:"error-text-color"},e))))}componentDidUpdate(e,t){!t.formData.bd_terms&&this.state.formData.bd_terms&&this.setState((()=>({canContinue:!0}))),t.formData.bd_terms&&!this.state.formData.bd_terms&&this.setState((()=>({canContinue:!1})))}returnInputDefaultProps(){return{handleToggleClick:Nh.bind(this),isChecked:function(e){return this.state.formData[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this)}}}var v8=T((e=>({appStorage:e.appStorage,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(f8);const E8=u.div`
  height: 3px;
  width: 10px;
  background: ${vr.primary.charcoal};
  opacity: ${({isActive:e})=>e?1:.2};
`,b8=u.div`
  display: flex;
  height: 30px;
  align-items: center;
  justify-content: center;
`,C8=u.div`
  padding: 0 4px;
`,x8=u.div`
  opacity: 0.2;
  margin-left: 4px;
`,w8=({activeIndex:e,itemsTotal:t,lessonReward:n})=>{const r=(e,t)=>e===t,i=[...new Array(t)];return c.createElement(b8,null,i.map(((t,n)=>c.createElement(C8,{key:n},c.createElement(E8,{isActive:r(n,e)})))),n>0&&c.createElement(x8,null,c.createElement("b",null,`$${n}`)))};var S8="/app/assets/nasdaq.7a1cda09.png";const k8=u.svg`
  path {
    fill: #1a1a1a;
  }
`,T8=()=>c.createElement(k8,{viewBox:"0 0 561 170",fill:"none"},c.createElement("path",{d:"M187.826 53.4091H205.502V115.591H243.811V130.046H187.826V53.4091Z"}),c.createElement("path",{d:"M297.76 76.7779C302.638 81.1177 305.066 87.6699 305.066 96.4239V130.036H289.129V122.707C285.927 128.174 279.958 130.919 271.231 130.919C266.714 130.919 262.812 130.153 259.504 128.621C256.196 127.089 253.662 124.973 251.923 122.271C250.173 119.569 249.304 116.506 249.304 113.07C249.304 107.592 251.361 103.295 255.464 100.157C259.578 97.0195 265.919 95.4453 274.508 95.4453H288.037C288.037 91.7225 286.903 88.8612 284.655 86.8509C282.396 84.8405 279.014 83.8407 274.508 83.8407C271.38 83.8407 268.305 84.33 265.283 85.3192C262.261 86.3084 259.695 87.638 257.585 89.3186L251.477 77.3842C254.679 75.1186 258.518 73.3742 262.992 72.1297C267.467 70.8852 272.069 70.2683 276.798 70.2683C285.906 70.2683 292.883 72.4382 297.76 76.7779ZM283.245 117.399C285.492 116.049 287.094 114.06 288.048 111.432V105.412H276.374C269.386 105.412 265.898 107.709 265.898 112.304C265.898 114.496 266.746 116.229 268.464 117.506C270.171 118.782 272.514 119.42 275.504 119.42C278.409 119.42 280.997 118.75 283.245 117.399Z"}),c.createElement("path",{d:"M376.553 48.8141V130.046H360.288V123.26C356.068 128.366 349.96 130.919 341.955 130.919C336.43 130.919 331.426 129.674 326.951 127.196C322.477 124.718 318.967 121.175 316.422 116.58C313.877 111.985 312.605 106.656 312.605 100.593C312.605 94.5306 313.877 89.2016 316.422 84.6065C318.967 80.0115 322.477 76.4695 326.951 73.9911C331.426 71.5128 336.43 70.2683 341.955 70.2683C349.451 70.2683 355.304 72.6402 359.524 77.3842V48.8141H376.553ZM355.601 112.475C358.443 109.518 359.853 105.561 359.853 100.593C359.853 95.6261 358.432 91.6693 355.601 88.7123C352.77 85.7553 349.197 84.2768 344.902 84.2768C340.534 84.2768 336.939 85.7553 334.098 88.7123C331.267 91.6693 329.846 95.6261 329.846 100.593C329.846 105.561 331.267 109.518 334.098 112.475C336.939 115.432 340.534 116.91 344.902 116.91C349.197 116.91 352.759 115.432 355.601 112.475Z"}),c.createElement("path",{d:"M447.701 48.8141V130.046H431.446V123.26C427.226 128.366 421.119 130.919 413.113 130.919C407.589 130.919 402.584 129.674 398.11 127.196C393.635 124.718 390.125 121.175 387.581 116.58C385.036 111.985 383.763 106.656 383.763 100.593C383.763 94.5306 385.036 89.2016 387.581 84.6065C390.125 80.0115 393.635 76.4695 398.11 73.9911C402.584 71.5128 407.589 70.2683 413.113 70.2683C420.61 70.2683 426.463 72.6402 430.683 77.3842V48.8141H447.701ZM426.749 112.475C429.591 109.518 431.001 105.561 431.001 100.593C431.001 95.6261 429.58 91.6693 426.749 88.7123C423.918 85.7553 420.345 84.2768 416.05 84.2768C411.682 84.2768 408.087 85.7553 405.246 88.7123C402.414 91.6693 400.994 95.6261 400.994 100.593C400.994 105.561 402.414 109.518 405.246 112.475C408.087 115.432 411.682 116.91 416.05 116.91C420.345 116.91 423.918 115.432 426.749 112.475Z"}),c.createElement("path",{d:"M516.24 105.412H471.823C472.619 109.06 474.517 111.943 477.496 114.06C480.476 116.176 484.187 117.24 488.629 117.24C491.683 117.24 494.398 116.783 496.762 115.868C499.127 114.953 501.332 113.517 503.368 111.539L512.423 121.388C506.888 127.738 498.819 130.908 488.195 130.908C481.578 130.908 475.715 129.61 470.625 127.026C465.525 124.43 461.602 120.835 458.834 116.24C456.067 111.645 454.688 106.422 454.688 100.583C454.688 94.8178 456.056 89.6164 458.781 84.9788C461.506 80.3412 465.26 76.7354 470.021 74.14C474.782 71.5447 480.115 70.2576 486.01 70.2576C491.757 70.2576 496.964 71.5021 501.618 73.9805C506.273 76.4588 509.931 80.0221 512.582 84.6491C515.233 89.2867 516.569 94.6688 516.569 100.796C516.569 101.03 516.452 102.561 516.24 105.412ZM476.404 86.468C473.785 88.6591 472.184 91.648 471.601 95.4453H500.516C499.933 91.7225 498.331 88.7548 495.712 86.5211C493.093 84.2981 489.891 83.1812 486.106 83.1812C482.257 83.1918 479.023 84.2768 476.404 86.468Z"}),c.createElement("path",{d:"M548.05 72.4594C551.507 71.0022 555.483 70.2683 560 70.2683V86.0318C558.102 85.8829 556.84 85.8085 556.183 85.8085C551.305 85.8085 547.488 87.1806 544.721 89.9142C541.953 92.6479 540.575 96.7536 540.575 102.232V130.036H523.546V71.1405H539.811V78.9159C541.847 76.0653 544.593 73.9167 548.05 72.4594Z"}),c.createElement("path",{d:"M89.8413 72.7147L93.966 68.577C96.2351 66.3008 96.2351 62.5886 93.966 60.3123C92.8315 59.1742 91.3364 58.5998 89.8413 58.5998C88.3463 58.5998 86.8618 59.1742 85.7167 60.3123C84.6139 61.4185 84.0096 62.8864 84.0096 64.45C84.0096 66.0136 84.6139 67.4814 85.7167 68.577L89.8413 72.7147Z"}),c.createElement("path",{d:"M70.4056 105.742L66.2809 109.879C64.0118 112.156 64.0118 115.868 66.2809 118.144C68.55 120.42 72.2505 120.42 74.5196 118.144C76.7887 115.868 76.7887 112.156 74.5196 109.879L70.4056 105.742Z"}),c.createElement("path",{d:"M55.0945 60.3123C53.9599 59.1742 52.4649 58.5998 50.9698 58.5998C49.4748 58.5998 47.9903 59.1742 46.8452 60.3123C45.7424 61.4185 45.138 62.8864 45.138 64.45C45.138 66.0136 45.7424 67.4814 46.8452 68.577L50.9698 72.7147L55.0945 68.577C57.3742 66.3008 57.3742 62.5886 55.0945 60.3123Z"}),c.createElement("path",{d:"M70.2783 15C31.4598 15 0 46.5591 0 85.5C0 124.441 31.4598 156 70.2783 156C109.097 156 140.557 124.441 140.557 85.5C140.557 46.5591 109.086 15 70.2783 15ZM105.895 102.359L89.8307 86.2552L77.1492 98.9767L81.2739 103.114C87.2647 109.124 87.2647 118.91 81.2739 124.92C78.2732 127.93 74.3394 129.43 70.4056 129.43C66.4718 129.43 62.538 127.93 59.5372 124.92C53.5464 118.91 53.5464 109.124 59.5372 103.114L63.6619 98.9767L50.9804 86.2552L34.9165 102.359L28.1728 95.5942L44.2262 79.4903L40.1015 75.3526C37.1962 72.4381 35.5951 68.5664 35.5951 64.45C35.5951 60.3336 37.1962 56.4618 40.1015 53.5474C46.0923 47.5376 55.8473 47.5376 61.8381 53.5474C67.829 59.5571 67.829 69.3429 61.8381 75.3526L57.7135 79.4903L70.4056 92.2011L83.0871 79.4796L78.9624 75.342C76.0571 72.4275 74.456 68.5557 74.456 64.4393C74.456 60.3229 76.0571 56.4512 78.9624 53.5367C84.9532 47.527 94.7082 47.527 100.699 53.5367C106.69 59.5465 106.69 69.3322 100.699 75.342L96.5744 79.4796L112.628 95.5836L105.895 102.359Z"})),I8=u.div`
  padding-bottom: 10px;
  img {
    height: 70px;
  }
`,N8=u.img`
  height: 52px;
`,A8=u.img`
  height: 68px;
`,P8=u.div`
  padding: 24px 0 8px 0;

  svg {
    width: 240px;
  }

  @media (max-width: 740px) {
    padding: 8px 0;
  }
`,D8=u.div`
  padding: 8px 0 0 0;
  margin: 0 auto;

  @media (max-width: 740px) {
    max-width: 262px;
    padding: 0 16px;
  }
`,O8=u.div`
  margin: 16px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 5px;
  text-align: center;
`,L8=u.div`
  margin: 16px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 5px;
  text-align: center;

  @media (max-width: 740px) {
    margin: 0 auto;
    max-width: 382px;
  }
`,R8=u.a`
  cursor: pointer;
  text-decoration: underline;
  color: ${vr.primary.charcoal} !important;

  &:hover {
    opacity: 0.8;
  }
`,F8=u.a`
  text-decoration: none;
  cursor: pointer;
  opacity: 0.6;
  color: ${vr.primary.charcoal} !important;

  &:hover {
    opacity: 1;
    text-decoration: none;
  }
`,M8=u.div`
  padding-bottom: 0px;
  img {
    height: 100px;
  }
`,U8=()=>c.createElement("svg",{viewBox:"0 0 139.289 26.97",fill:"none"},c.createElement("path",{d:"M982.212 11191.928l1.742-2.11a9.969 9.969 0 0 0 7.337 2.389c4.119 0 7.429-3.1 7.429-5.83v-1.363a8.74 8.74 0 0 1-7.092 3.13c-5.482 0-9.076-3.315-9.076-8.8 0-5.513 3.594-8.828 9.076-8.828a8.577 8.577 0 0 1 7.092 3.13v-2.509h6.134v14.122c0 7.528-7.227 11.1-12.617 11.1-6.158.003-9.437-3.464-10.025-4.431zm6.193-12.583c0 2.664 1.737 4.367 4.957 4.367a6.317 6.317 0 0 0 3.779-1.158 4.032 4.032 0 0 0 0-6.445 6.305 6.305 0 0 0-3.782-1.133c-3.217 0-4.954 1.674-4.954 4.369zm55.221.31c0-5.761 4.336-9.262 11.242-9.262 6.876 0 11.214 3.5 11.214 9.262 0 5.729-4.339 9.292-11.214 9.292-6.907-.001-11.242-3.563-11.242-9.293zm5.853 0c0 3 2.262 4.583 5.389 4.583s5.389-1.579 5.389-4.583c0-3.035-2.259-4.586-5.389-4.586s-5.389 1.55-5.389 4.585zm-90.063 3.439c0-4.4 4.617-5.825 8.242-5.825a9.2 9.2 0 0 1 6.721 2.447v-1.115c0-2.6-1.922-3.841-5.67-3.841a13.24 13.24 0 0 0-6.162 1.331l-1.394-3.869a22.322 22.322 0 0 1 8.826-1.768c6.536 0 10.439 2.914 10.439 8.208v4.541a8.656 8.656 0 0 0 1.461 5.092h-6.912a3.425 3.425 0 0 1-.587-1.765v-.031a9.32 9.32 0 0 1-6.721 2.417c-3.627 0-8.244-1.425-8.244-5.822zm5.918 0c0 1.826 2.324 2.259 4.058 2.259 1.765 0 3.934-.433 5.111-2.1v-.343c-1.177-1.641-3.347-2.073-5.111-2.073-1.735-.005-4.059.428-4.059 2.257zm70.5 5.142v-9.759c0-2.138-1.115-3.47-3.377-3.47-1.95 0-3.467 1.054-4.583 3.068v6.969l.031 3.191h-6.1v-9.759c0-2.138-1.116-3.47-3.375-3.47-1.953 0-3.439 1.022-4.555 3.007v10.222h-6.1v-17.16h6.1v2.788a7.548 7.548 0 0 1 6.69-3.409c3.594 0 5.825 1.734 6.783 4.367a7.591 7.591 0 0 1 7.25-4.367c4.954 0 7.309 3.285 7.309 7.683v10.1zm-88.071 0l-3.9-11.4-3.934 11.4h-5.853l-6.072-17.16h5.884l3.563 10.965 3.748-10.965h5.389l3.748 10.965 3.56-10.965h5.794l-6.1 17.16z",transform:"translate(-927.293 -11169.893)",fill:vr.primary.charcoal})),$8=()=>c.createElement(M8,null,c.createElement("img",{src:"/app/assets/wealthfoundrylogo.ca2bae3a.png",alt:"new-constructs-logo"})),B8=()=>c.createElement("svg",{viewBox:"0 0 197 45",fill:"none"},c.createElement("g",{fill:vr.primary.charcoal,stroke:"none","stroke-width":"1","fill-rule":"evenodd"},c.createElement("path",{d:"M182.319321,31.617896 L182.182854,30.4727798 C182.153568,30.2815083 181.507467,25.7685695 184.571317,22.5942169 C185.462877,21.6680108 186.538908,21.1375387 187.522552,21.1375387 C188.360975,21.1375387 189.050553,21.5034356 189.400172,22.2013095 C191.092415,25.5788684 182.319321,31.617896 182.319321,31.617896 L182.319321,31.617896 Z M168.982756,24.5059894 L168.865914,22.6004984 L168.848403,22.3611735 C168.84478,22.3014994 168.419984,16.2734644 168.798587,11.9828905 C169.214024,7.31668327 170.577782,4.30219469 172.270931,4.30219469 C172.617531,4.30219469 172.949639,4.48027502 173.209287,4.80534229 C174.05405,5.860005 174.30132,8.67317173 173.772362,11.2077542 C172.920957,15.2552344 171.571993,18.4647633 170.58382,20.814984 C170.304245,21.479566 170.056674,22.0675137 169.862239,22.5785132 L168.982756,24.5059894 Z M159.730822,37.2147064 C157.568797,37.2147064 156.547715,35.1393011 156.547715,33.1882693 C156.547715,23.1218624 162.093018,21.1375387 164.517711,21.9107905 C164.517711,21.9107905 164.597417,23.822877 164.792757,26.283652 C164.962736,28.420616 165.115808,30.9501733 165.152038,31.1684551 C165.152038,31.1684551 163.137348,37.2147064 159.730822,37.2147064 L159.730822,37.2147064 Z M142.106739,22.3021275 C142.106739,22.3021275 141.490226,37.2147064 135.876387,37.2147064 C133.186914,37.2147064 132.978289,34.209326 132.978289,33.2872028 C132.978289,22.6516926 141.02618,20.7581365 142.106739,22.3021275 L142.106739,22.3021275 Z M90.168017,37.5711812 C86.947472,37.5711812 85.8007926,34.3666774 85.8007926,31.3675785 C85.8007926,25.9039357 88.9757481,21.6654982 91.7056785,21.6654982 C94.3649604,21.6654982 95.3307918,25.3291791 95.3307918,27.7908963 C95.3307918,33.275268 93.062492,37.5711812 90.168017,37.5711812 L90.168017,37.5711812 Z M38.9194761,24.8875901 C37.0732558,27.7670266 32.8681606,30.6156837 31.6463039,31.0695216 C31.6463039,31.0695216 30.7689341,25.429683 35.3601807,22.1362961 C38.724136,19.7232605 40.2539477,22.8065314 38.9194761,24.8875901 Z M179.341215,38.1129599 C180.652439,40.1858527 182.988066,41.1956027 186.289827,41.1956027 C189.920072,41.1956027 193.676218,38.4574999 195.825864,35.9072136 C197.102972,34.3946301 197.241249,33.5255855 196.703838,33.0507046 C196.215337,32.619166 195.135381,33.1838722 194.146604,34.0818117 C192.813038,35.2922554 189.988306,37.0325431 187.516212,37.0325431 C184.519387,37.0325431 183.153516,35.0774284 183.153516,35.0774284 C189.257064,31.3408821 193.752603,27.0993039 193.752603,23.4588645 C193.752603,19.3790347 190.737965,17.554575 187.750197,17.554575 C182.405367,17.554575 176.635438,22.4563382 176.635438,30.3763589 C176.635438,32.9938571 177.513411,35.2178197 177.513411,35.2178197 C177.513411,35.2178197 176.45308,36.8726791 173.082784,36.5931527 C169.500543,36.2963521 169.727585,29.7968911 169.727585,29.7968911 C169.727585,29.7968911 170.823542,27.7469258 171.237168,26.9834103 C173.661861,22.5134998 176.980528,16.3931269 177.516732,9.05414429 C177.815328,4.94196477 176.655062,2.73370584 175.628546,1.60460744 C174.71555,0.599254451 173.495806,-2.13162821e-14 172.36543,-2.13162821e-14 C168.221926,-2.13162821e-14 165.347076,4.26701833 164.650252,8.48190026 C163.968826,12.6151228 164.243269,18.7634483 164.243269,18.7634483 C164.243269,18.7634483 160.520636,17.8394407 156.784418,20.3837595 C153.366117,22.7113668 151.84959,27.3697221 151.37226,29.720885 C151.15488,30.7730352 151.081212,31.8773217 151.15186,33.0010808 C151.184769,33.5252714 151.344785,34.5347074 151.344785,34.5347074 C151.344785,34.5347074 150.115682,37.1343033 147.931617,37.1343033 C144.413081,37.1343033 146.735726,20.7612772 146.870682,19.8404103 C146.979372,19.0988801 147.430436,17.5162578 144.948379,17.4053895 C143.448457,17.3384916 142.822886,17.9006852 142.707855,18.6343636 L142.607015,19.3649013 C142.607015,19.3649013 137.519116,15.8896652 131.75915,22.148545 C128.690469,25.4774223 127.576396,30.2946994 127.525976,34.1597022 L127.523259,34.4031101 C127.523259,34.4031101 126.261247,38.0661628 123.324202,37.5177885 C121.368688,37.1528337 121.122626,33.6603235 121.122626,32.3104306 C121.122626,29.720885 121.716798,26.8351671 122.195034,24.5163539 C122.496951,23.0467985 122.758712,21.7798213 122.758712,21.0866586 C122.758712,18.610494 122.067323,17.554575 120.448748,17.554575 C118.245964,17.554575 116.268712,19.3067975 114.078307,22.0119225 C111.28286,25.4642312 109.203258,30.8581494 109.203258,30.8581494 C109.203258,30.8581494 109.294739,29.8939402 109.439055,28.9642792 C109.532649,28.3631403 109.786863,25.5788684 110.256042,23.0505674 C110.516294,21.6510507 110.611096,20.5053064 110.627701,20.381875 C110.709822,19.6965641 110.555543,19.1048475 110.182676,18.6704822 C109.815847,18.2436548 109.254584,17.9980484 108.643807,17.9980484 C107.664993,17.9980484 106.405699,18.6547785 105.807602,20.4977686 C105.534367,21.3300664 105.377672,21.9437683 105.182936,22.9321613 L104.999673,23.8492593 L104.319153,23.2261352 C101.623339,20.7512268 97.8889316,17.8017517 92.5338359,17.8017517 C84.9925617,17.8017517 80.9224232,24.8103277 80.9224232,31.4065237 C80.9224232,32.219349 80.9728433,32.9944852 81.0703624,33.7124599 L81.1084039,33.9957552 C81.1084039,33.9957552 79.5342104,37.8224409 76.7710692,37.1251951 C75.5612892,36.8199146 74.8161589,35.5246707 74.8161589,32.4404575 C74.8161589,29.8744676 75.3297191,26.3876107 75.6367683,24.2952453 C75.7406277,23.5851225 75.8239567,23.0244992 75.8469023,22.7631891 L75.9151355,21.9893091 C76.1261752,19.6601315 76.1856528,18.6079814 75.416973,18.1007508 C74.851785,17.7326553 74.2561035,17.554575 73.598529,17.554575 C72.9663155,17.554575 72.468153,17.8485488 72.0243355,18.1657642 C71.341702,18.6560348 69.1084245,21.6406863 64.8903469,28.5518992 C64.8221137,28.6637097 64.7828645,28.7233839 64.7789396,28.7287232 L64.3188186,29.6181826 L63.2122941,32.0645102 L63.8155236,28.5101272 L63.8535651,28.2773979 C63.9519899,27.6793998 64.1264977,26.6256793 64.1986558,26.2902475 L64.375579,25.5188802 C64.6602864,24.2807979 65.2532507,21.7056997 65.331749,21.2506055 C65.5856609,19.742105 65.4857265,18.7342394 65.0256055,18.1711035 C64.6853455,17.7562109 64.1165345,17.554575 63.2856598,17.554575 C61.7555462,17.554575 60.5240282,18.7223045 58.4009503,22.1830932 C58.0697477,22.7242439 56.8294741,24.7892847 55.8494526,26.4240433 C54.5798931,28.542791 53.428081,30.1100235 53.428081,30.1100235 L53.6958811,27.2773842 C53.9008825,26.0053818 54.6683546,20.1632791 54.6786198,19.8890919 C54.6759026,18.6572911 54.0690501,18.0837908 52.7677893,18.0837908 C52.2382275,18.0837908 50.9469299,18.2009406 50.4058953,19.2854404 C49.9101481,20.27666 48.5343139,24.7663573 47.8652666,31.6323434 C47.8652666,31.6323434 42.5406645,36.8064094 36.8480259,36.8064094 C34.750309,36.8064094 33.0900693,35.9822775 32.4883494,34.3723308 C32.4883494,34.3723308 35.5337827,32.774947 36.9799635,31.7642548 C40.6832732,29.1762796 43.3772755,26.5389947 43.3772755,23.1523276 C43.3772755,19.0087406 39.5948637,17.1428231 36.4700263,17.554575 C31.1037596,18.261557 26.5680657,23.9359439 26.5680657,30.5271147 C26.5680657,36.7272626 29.9908948,41.1956027 35.9477105,41.1956027 C42.8471099,41.1956027 47.6095432,35.4530617 47.6095432,35.4530617 L47.4661328,38.0743288 C47.3773693,39.4405535 47.9353113,41.1956027 50.2072341,41.1956027 C50.8104636,41.1956027 51.9118556,41.0018187 52.497272,39.7040622 C56.0315084,31.9112417 59.7327046,25.7308806 59.7692366,25.6699501 L59.8957396,25.459206 L60.5379164,24.2157844 L61.4940864,22.6058377 L60.7278219,26.0612871 C60.5886384,26.8496145 59.3698008,33.8607031 59.195293,36.95214 C59.1053218,38.512777 59.1041142,40.0486021 59.7085513,40.7065885 C60.0146948,41.041078 60.506517,41.1956027 61.2549684,41.1956027 C62.9278886,41.1956027 63.9658781,40.6117379 64.3402547,39.459398 C67.0638449,31.1555781 69.9987767,25.5528002 70.1225625,25.3175583 L70.2375928,25.1002187 L71.7776696,22.06877 C71.7776696,22.06877 70.562757,28.98438 70.562757,33.7005251 C70.562757,35.9546389 71.0023477,40.0583384 74.185455,40.8378717 C79.0852604,42.038265 82.0956714,36.9219888 82.0956714,36.9219888 L82.4144953,37.8183579 C83.8129733,40.1864809 86.1371277,41.4390106 89.1363678,41.4390106 C95.3510202,41.4390106 99.3671156,36.5683408 99.3671156,29.0292926 C99.3671156,24.3517787 97.2301495,21.6720937 97.2301495,21.6720937 C97.2301495,21.6720937 99.6020067,22.5119294 101.343764,23.7701125 C103.230743,25.1328824 104.570951,26.5763696 104.570951,26.5763696 L104.524154,26.8844768 C104.468299,27.2434641 104.417879,27.6049641 104.367157,27.970547 C104.171213,29.4168608 103.998215,30.9332132 103.851484,32.4794028 C103.716225,33.9203773 103.646482,35.2234731 103.646482,36.3513152 C103.646482,37.0366261 103.683316,37.6685443 103.761513,38.2850729 C103.829746,38.8598295 103.970137,39.3840201 104.176346,39.8391143 C104.242164,39.9782494 104.860489,41.1956027 106.42321,41.1956027 C107.466332,41.1956027 108.135983,40.8152583 108.629919,39.6572651 C113.459377,28.3301625 117.328137,24.7000875 117.668096,24.3392158 C118.564486,23.3878836 118.159918,25.1586365 118.159918,25.1586365 L118.124594,25.3916799 C118.118253,25.4293689 117.521364,29.2657909 117.387313,30.4325782 C117.252054,31.5833478 117.183821,32.682295 117.183821,33.7005251 C117.183821,36.8557191 117.883664,40.4515599 121.546517,41.0197209 C126.553503,41.7967416 128.288316,37.8532202 128.288316,37.8532202 C128.288316,37.8532202 130.099816,41.1956027 134.377069,41.1956027 C140.649086,41.1956027 142.590712,36.3695315 142.590712,36.3695315 C143.251305,39.2731517 144.426969,40.8378717 147.255022,40.8378717 C150.316155,40.8378717 152.442554,37.3764549 152.442554,37.3764549 C152.442554,37.3764549 154.213295,41.1956027 158.540365,41.1956027 C163.54886,41.1956027 166.109415,37.3459896 166.214482,37.1848693 L166.795672,36.270598 C166.795672,36.270598 168.426324,40.4236072 172.631721,40.662304 C176.608869,40.8878096 179.341215,38.1129599 179.341215,38.1129599 Z M7.49750014,39.5966486 C3.07532687,39.4320735 2.83137822,35.9813352 6.89276107,35.0903054 C10.6039206,34.2762239 13.6991702,35.5793197 13.6991702,35.5793197 C13.6991702,35.5793197 12.7626247,39.7929453 7.49750014,39.5966486 L7.49750014,39.5966486 Z M27.1350652,4.71363249 C29.6901859,4.92437659 29.4981669,8.49195065 28.8028528,10.7287904 C26.7652173,17.2860411 21.8913767,17.4817096 21.8913767,17.4817096 C21.8913767,17.4817096 23.4332651,4.40835192 27.1350652,4.71363249 L27.1350652,4.71363249 Z M21.4596359,20.6152325 C21.4596359,20.6152325 29.6521444,20.6698815 32.4424581,10.9709419 C34.0661659,5.32639215 31.7667686,0.515710591 26.9723321,0.413950401 C22.1310985,0.311247988 18.3806898,4.61344268 16.623233,17.4716592 C16.623233,17.4716592 11.9438267,16.8519899 9.87660339,13.1481075 C8.89869534,11.3955709 7.42322864,12.2112228 7.88334962,13.8767607 C9.43882423,19.5087475 16.3282604,20.415481 16.3282604,20.415481 C16.3282604,20.415481 16.0429492,22.9086057 15.6169448,25.9604691 C15.2036209,28.921251 14.4941167,32.6464905 14.4941167,32.6464905 C14.4941167,32.6464905 10.1474226,31.2670746 5.52266329,32.2366231 C-1.5844548,33.7269073 -2.36641893,42.5712497 6.32998843,43.4446914 C16.5281292,44.4685748 18.4537537,37.3912164 18.4537537,37.3912164 C18.4537537,37.3912164 20.4572726,38.3679886 23.3004217,40.9195311 C26.451224,43.7471453 27.8910645,45.5009382 28.5444121,44.8724748 C29.2605585,44.183395 27.6830439,41.777269 24.7626041,38.7090737 C21.4578244,35.2369783 19.1705038,34.3409233 19.1705038,34.3409233 C19.1705038,34.3409233 19.7172749,32.0440953 20.3132584,28.3172854 C20.9442642,24.3725077 21.4596359,20.6152325 21.4596359,20.6152325 Z"}))),z8=()=>c.createElement(I8,null,c.createElement("img",{src:"/app/assets/new-constructs-blog-logo.5cfdae6f.png",alt:"new-constructs-logo"})),V8=()=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 132 25",version:"1.1"},c.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"Auto-LP-Opt-2-Copy-2",transform:"translate(-34.000000, -32.000000)",fillRule:"nonzero"},c.createElement("g",{id:"Upstart-|-Logos-|-Standard",transform:"translate(34.000000, 32.000000)"},c.createElement("g",{id:"Group",transform:"translate(34.869727, 0.000000)",fill:"#222929"},c.createElement("path",{d:"M17.0909429,11.5769231 C17.0909429,17.4230769 13.8141439,20.3605769 8.72698511,20.3605769 C3.66848635,20.3605769 0.449007444,17.4230769 0.449007444,11.7451923 L0.449007444,0.475961538 L3.86433002,0.475961538 L3.86433002,11.6057692 C3.86433002,15.2403846 5.72723325,17.1971154 8.78430521,17.1971154 C11.8127171,17.1971154 13.6756203,15.3509615 13.6756203,11.7451923 L13.6756203,0.475961538 L17.0909429,0.475961538 L17.0909429,11.5769231 Z",id:"path"}),c.createElement("path",{d:"M28.4880893,20.3605769 C26.0710918,20.3605769 24.5425558,19.1298077 23.5155707,17.7596154 L23.5155707,24.5288462 L20.1527916,24.5288462 L20.1527916,5.28365385 L23.5155707,5.28365385 L23.5155707,7.74519231 C24.5998759,6.20673077 26.1284119,4.97596154 28.4880893,4.97596154 C31.960732,4.97596154 35.3235112,7.74519231 35.3235112,12.6682692 C35.3235112,17.5913462 31.9893921,20.3605769 28.4880893,20.3605769 Z M27.7094913,7.91346154 C25.4310174,7.91346154 23.4295906,9.78846154 23.4295906,12.6682692 C23.4295906,15.5480769 25.4310174,17.4230769 27.7094913,17.4230769 C30.0166253,17.4230769 31.9034119,15.6057692 31.9034119,12.6682692 C31.9034119,9.75961538 29.9879653,7.91346154 27.7094913,7.91346154 Z",id:"Shape"}),c.createElement("path",{d:"M43.1954715,20.3317308 C41.1128412,20.3317308 38.8057072,19.5769231 36.971464,18.125 L38.47134,15.8317308 C40.057196,17.0336538 41.776799,17.6490385 43.2766749,17.6490385 C44.7240074,17.6490385 45.5551489,17.0336538 45.5551489,16.0528846 L45.5551489,15.9951923 C45.5551489,14.8509615 43.9979529,14.4567308 42.2783499,13.9278846 C40.1097395,13.3125 37.6927419,12.4182692 37.6927419,9.59134615 L37.6927419,9.53365385 C37.6927419,6.73557692 39.9998759,5.03365385 42.9136476,5.03365385 C44.7478908,5.03365385 46.7493176,5.67788462 48.301737,6.71153846 L46.9690447,9.11538462 C45.5551489,8.25 44.0504963,7.71634615 42.8276675,7.71634615 C41.5236352,7.71634615 40.7736973,8.33173077 40.7736973,9.19711538 L40.7736973,9.25480769 C40.7736973,10.3173077 42.3595533,10.7644231 44.0791563,11.3221154 C46.2191067,11.9951923 48.6361114,12.9711538 48.6361114,15.6298077 L48.6361114,15.6875 C48.6408809,18.7932692 46.2525434,20.3317308 43.1954715,20.3317308 Z",id:"path"}),c.createElement("path",{d:"M55.4237593,15.4375 C55.4237593,16.75 56.0924938,17.2836538 57.2293424,17.2836538 C57.9792804,17.2836538 58.6480149,17.1153846 59.3119727,16.7788462 L59.3119727,19.5480769 C58.4760546,20.0240385 57.5350496,20.3028846 56.2835608,20.3028846 C53.8092432,20.3028846 52.0609801,19.2115385 52.0609801,15.9663462 L52.0609801,8.19230769 L50.1980769,8.19230769 L50.1980769,5.28365385 L52.0609801,5.28365385 L52.0609801,1.23076923 L55.4237593,1.23076923 L55.4237593,5.28365385 L59.3692928,5.28365385 L59.3692928,8.19230769 L55.4237593,8.19230769 L55.4237593,15.4375 Z",id:"path"}),c.createElement("path",{d:"M71.3969603,20.0528846 L71.3969603,18.2355769 C70.3986352,19.4375 68.8700993,20.3605769 66.6441687,20.3605769 C63.8641439,20.3605769 61.423263,18.7644231 61.423263,15.8028846 L61.423263,15.7451923 C61.423263,12.5576923 63.9501241,10.9903846 67.3702233,10.9903846 C69.1471464,10.9903846 70.2887717,11.2403846 71.4256203,11.6057692 L71.4256203,11.2403846 C71.4256203,9.19711538 70.1454715,8.08173077 67.8144541,8.08173077 C66.1760546,8.08173077 64.9532258,8.44711538 63.6205335,9.00480769 L62.7034119,6.29326923 C64.3131514,5.56730769 65.8990074,5.0625 68.2873449,5.0625 C72.6245658,5.0625 74.7358561,7.35576923 74.7358561,11.2980769 L74.7358561,20.0528846 L71.3969603,20.0528846 L71.3969603,20.0528846 Z M71.4829404,13.7884615 C70.623139,13.4519231 69.4289702,13.2019231 68.1201613,13.2019231 C66.008871,13.2019231 64.7573821,14.0673077 64.7573821,15.5769231 L64.7573821,15.6346154 C64.7573821,17.0336538 66.008871,17.8173077 67.5899504,17.8173077 C69.8111042,17.8173077 71.4781638,16.5576923 71.4781638,14.7115385 L71.4781638,13.7884615 L71.4829404,13.7884615 Z",id:"Shape"}),c.createElement("path",{d:"M80.5729529,20.0528846 L77.2101737,20.0528846 L77.2101737,5.28365385 L80.5729529,5.28365385 L80.5729529,8.61057692 C81.4900744,6.39903846 83.185794,4.88942308 85.7699752,5.00480769 L85.7699752,8.58653846 L85.5741315,8.58653846 C82.6269231,8.58653846 80.5729529,10.5144231 80.5729529,14.4326923 L80.5729529,20.0528846 Z",id:"path"}),c.createElement("path",{d:"M92.9397643,15.4375 C92.9397643,16.75 93.6084988,17.2836538 94.7453474,17.2836538 C95.4952854,17.2836538 96.1640199,17.1153846 96.8279777,16.7788462 L96.8279777,19.5480769 C95.9920596,20.0240385 95.0510546,20.3028846 93.7995658,20.3028846 C91.3252481,20.3028846 89.5769851,19.2115385 89.5769851,15.9663462 L89.5769851,8.19230769 L87.7140819,8.19230769 L87.7140819,5.28365385 L89.5769851,5.28365385 L89.5769851,1.23076923 L92.9397643,1.23076923 L92.9397643,5.28365385 L96.8852978,5.28365385 L96.8852978,8.19230769 L92.9397643,8.19230769 L92.9397643,15.4375 L92.9397643,15.4375 Z",id:"path"})),c.createElement("g",{id:"Group",transform:"translate(0.000000, 0.357143)"},c.createElement("path",{d:"M3.85,8.81112637 L3.85,8.81112637 L1.57630273,11.0947802 C-0.41557072,13.0995879 -0.41557072,16.3784341 1.57630273,18.3784341 L1.57630273,18.3832418 C3.56817618,20.3832418 6.82586849,20.3832418 8.81296526,18.3832418 L13.8762407,13.2870879 L13.8762407,13.2967033 C14.076861,13.1332418 14.3300248,13.0370879 14.607072,13.0370879 C14.8841191,13.0370879 15.1372829,13.1332418 15.3379032,13.2967033 L15.3474566,13.2967033 L10.9863524,8.90728022 C9.01836228,6.93131868 5.8514268,6.89766484 3.85,8.81112637",id:"path",fill:"#00807B"}),c.createElement("path",{d:"M27.6378412,11.0947802 L18.2325682,1.62843407 L18.2277916,1.62362637 C18.103598,1.49862637 17.9746278,1.38324176 17.8408809,1.27266484 C15.8346774,-0.376373626 12.8540323,-0.256181319 10.9863524,1.61881868 C10.9529156,1.65247253 10.9242556,1.68612637 10.8908189,1.71978022 L10.608995,2.00343407 L3.84522333,8.81112637 L3.84522333,8.81112637 C5.8514268,6.89766484 9.01836228,6.93131868 10.9815757,8.91208791 L15.3426799,13.301511 L20.396402,18.3832418 C22.3882754,20.3880495 25.6459677,20.3880495 27.6378412,18.3832418 C29.6297146,16.3784341 29.6297146,13.0995879 27.6378412,11.0947802",id:"path",fill:"#00B1AC"})))))),H8=()=>c.createElement("svg",{id:"VSP_Vision_Care",x:"0px",y:"0px",viewBox:"0 0 668.2 221.7",fill:"none"},c.createElement("g",{fill:"#3A60FF"},c.createElement("path",{id:"TM_00000062168008045926408170000005505219325502819259_",d:"M258.2,134.7h1.8l0-5.3l2.7,3.4h0.4    c0.4-0.5,2.4-2.9,2.7-3.4l0,5.3h1.8v-8h-1.7l-3,3.8l-2.9-3.8h-1.7V134.7z M251.9,134.7h1.8v-6.5h3v-1.5H249v1.5h3V134.7z"}),c.createElement("path",{id:"VSP_00000116233474645588113830000002825210516642209442_",d:"M217.7,61.1c-8.6,0-16.9,3.3-21.7,10.5    l-0.3-1.9c-0.6-4.2-3.7-6.9-9.1-6.9h-19.1v95H189c5.4,0,8.3-3.5,8.3-8.4v-20c4.9,5.1,13,6.9,19.5,6.9c18.9,0,33.3-14.1,33.3-37.5    C250.1,74.9,236.6,61.1,217.7,61.1z M208.3,112.5c-7.6,0-12.8-5.6-12.8-13.7c0-8.3,5.2-13.6,12.8-13.6c7.6,0,13.2,5.3,13.2,13.6    C221.5,106.9,215.9,112.5,208.3,112.5z M129.9,86.4c-0.8-0.1-5.3-0.6-7.5-0.9c-2.3-0.3-4.4-0.6-4.4-2.4c0-1.7,2.3-2.2,5.2-2.2    c5,0,10.4,0.6,17.8,2.3c5.1,1.2,8.8-1,9.9-5.2l3.5-13.7c-8.6-2.9-19.1-4.4-29.6-4.4c-23.5,0-36.1,10.4-36.1,25.5    c0,13.4,8,21.6,26.9,24.2c0.8,0.1,4.2,0.5,5,0.6c6,0.6,7.9,1.1,7.9,2.9c0,1.6-1.8,2.2-6.3,2.2c-6.5,0-13.4-1.3-20.2-3.2    c-5.8-1.6-9.1,0.3-10.7,4.2l-4.9,14.3c9.7,4.1,25.1,6.6,35.8,6.6c23.1,0,35.9-8.2,35.9-26.1C158.3,97.6,150.2,88.9,129.9,86.4z     M49.9,95.4c0-0.1,0-0.2,0-0.2c0.1-0.1,0.2-0.1,0.3,0c3.4,2.7,7.8,4.4,12.5,4.4c11,0,19.9-8.8,19.9-19.6s-8.9-19.6-19.9-19.6    S42.9,69.2,42.9,80c0,2.1,0.3,4.2,1,6.1c0,0.1,0,0.2-0.1,0.2c-0.1,0-0.2,0-0.2-0.1L31.7,69.4c-3.3-4.7-7.6-8.5-15.4-8.3    C7.1,61.2,0.9,68.3,1,76.5c0.1,3.7,1.8,7.6,4.1,10.9L36,131.5c3.3,4.7,9.1,4.7,12.4,0l13.4-19.2L49.9,95.4z"})),c.createElement("g",{fill:"#595959"},c.createElement("path",{d:"M289.9,52.1c0,4.9-7.5,4.9-7.5-0.1C282.4,47.1,289.9,47.1,289.9,52.1z M283.2,97h5.7V62.4h-5.7V97z"}),c.createElement("path",{d:"M299.4,62.5h5.2l0.3,5.5c3-4.1,7.2-6,11.8-6c8.7,0,15.1,5.9,15.1,16v19h-5.7V78c0-6.6-3.9-10.7-10.5-10.7     c-6.3,0.1-10.6,5-10.6,11.2V97h-5.6V62.5L299.4,62.5z"}),c.createElement("path",{d:"M375.6,48.1v48.8h-5.4l-0.3-6.3c-2.8,4.7-7.8,7-12.9,7c-9.8,0-17.4-6.5-17.4-17.8c0-11.6,7.6-17.8,17.4-17.8     c4.9,0,10.5,2.2,12.9,6.9V48.2L375.6,48.1L375.6,48.1z M357.5,67.2c-6.7,0-12.1,4.4-12.1,12.5c0,7.9,5.4,12.5,12.1,12.5     c6.8,0,12.2-5,12.2-12.5C369.7,72.2,364.3,67.2,357.5,67.2L357.5,67.2z"}),c.createElement("path",{d:"M392.8,52.1c0,4.9-7.5,4.9-7.5-0.1C385.3,47.1,392.8,47.1,392.8,52.1z M386.1,97h5.7V62.4h-5.7V97z"}),c.createElement("path",{d:"M405.2,62.6l5.6,13.5l5.9,14.9l5.8-14.8l5.6-13.5h6.3l-14.5,34.5h-6.3l-14.6-34.5H405.2z"}),c.createElement("path",{d:"M448.1,52.1c0,4.9-7.5,4.9-7.5-0.1C440.5,47.1,448.1,47.1,448.1,52.1z M441.4,97h5.7V62.4h-5.7V97z"}),c.createElement("path",{d:"M491.4,48.1v48.8H486l-0.3-6.3c-2.8,4.7-7.8,7-12.9,7c-9.8,0-17.4-6.5-17.4-17.8c0-11.6,7.6-17.8,17.4-17.8     c4.9,0,10.5,2.2,12.9,6.9V48.2L491.4,48.1L491.4,48.1z M473.3,67.2c-6.7,0-12.1,4.4-12.1,12.5c0,7.9,5.4,12.5,12.1,12.5     c6.8,0,12.2-5,12.2-12.5C485.5,72.2,480.1,67.2,473.3,67.2L473.3,67.2z"}),c.createElement("path",{d:"M528.6,97l-0.3-5.5c-3.1,4.2-7.2,6-12,6.1c-8.8,0-15-5.9-15-16v-19h5.7v19c0,6.6,3.9,10.7,10.5,10.7     c6.3-0.1,10.6-5,10.6-11.2V62.6h5.7V97H528.6L528.6,97z"}),c.createElement("path",{d:"M567.9,91.5c-2.9,4.1-7.9,6.1-12.7,6.1c-6.9,0-13.7-3.4-13.7-11.4c0-7.7,6.8-11.1,13.8-11     c4.1,0,8.6,0.9,12.1,2.9v-2.7c0-6.3-5.5-8.2-11.2-8.2c-3.8,0-8.3,1.2-11.2,2.6l-1-4.8c4-1.8,8.1-2.9,12.3-2.9     c9.2,0,16.7,3.3,16.7,13.5V97h-4.8L567.9,91.5L567.9,91.5z M556.2,79.9c-4.5,0-9,1.7-9,6.3c0,4.7,4.9,6.3,8.9,6.3     c5.9,0,11.4-3.8,11.6-9.8C564.5,81,559.7,79.9,556.2,79.9z"}),c.createElement("path",{d:"M589.3,97h-5.7V48.2h5.7V97z"}),c.createElement("path",{d:"M286.1,123.2l5.6,13.5l5.9,14.9l5.8-14.8l5.6-13.5h6.3l-14.5,34.5h-6.3l-14.6-34.5H286.1z"}),c.createElement("path",{d:"M329,112.7c0,4.9-7.5,4.9-7.5-0.1C321.5,107.7,329,107.7,329,112.7z M322.3,157.6h5.7V123h-5.7V157.6z"}),c.createElement("path",{d:"M360.6,130.8c-3-2.7-6.1-3.3-9.7-3.3c-4.7-0.1-8.6,1.6-8.5,5c0.1,3.6,4.3,4.6,8.6,5.1     c6.3,0.8,14.6,2,14.5,10.5c-0.1,6.9-6.7,10.3-14.4,10.3c-5.8,0-11.5-1.6-15.4-6.5l3.3-4c3.1,3.8,8,5.3,12.3,5.3     c3.8,0,8.6-1.2,8.7-5.4c0.1-3.8-4-4.9-9.3-5.5c-6.6-0.8-13.7-2.6-13.7-9.9c-0.1-7.3,7.3-10.2,13.9-10.1c5.2,0,9.4,1.3,13.1,4.6     L360.6,130.8L360.6,130.8z"}),c.createElement("path",{d:"M380,112.7c0,4.9-7.5,4.9-7.5-0.1C372.4,107.7,380,107.7,380,112.7z M373.3,157.6h5.7V123h-5.7V157.6z"}),c.createElement("path",{d:"M405.1,122.4c10.5,0,17.9,7.4,17.9,18.1c0,10.5-7.5,17.8-17.9,17.8c-10.3,0-17.8-7.3-17.8-17.8     C387.2,129.8,394.8,122.4,405.1,122.4z M405.1,127.6c-7,0-12.2,5.2-12.2,12.8c0,7.2,5.1,12.4,12.1,12.4c7.1,0,12.2-5.2,12.3-12.4     C417.3,132.8,412,127.6,405.1,127.6z"}),c.createElement("path",{d:"M431.2,123.1h5.2l0.3,5.5c3-4.1,7.2-6,11.8-6c8.7,0,15.1,5.9,15.1,16v19h-5.7v-19c0-6.6-3.9-10.7-10.5-10.7     c-6.3,0.1-10.6,5-10.6,11.2v18.5h-5.6V123.1L431.2,123.1z"}),c.createElement("path",{d:"M491.4,123.3h5.4l0.3,6.6c2.7-4.6,7.8-7.2,13.2-7.2c9.9,0.2,17.1,7.2,17.1,17.8c0,10.9-7.2,17.9-17.5,17.9     c-4.9,0-10.3-2.1-13-7v22.4h-5.6V123.3z M521.8,140.6c0-7.7-5.1-12.3-12.1-12.3c-7.2,0-12.1,5.3-12.1,12.3s5.1,12.3,12.1,12.4     C516.6,153,521.8,148.3,521.8,140.6z"}),c.createElement("path",{d:"M542,157.6h-5.7v-48.8h5.7V157.6z"}),c.createElement("path",{d:"M576.4,152.1c-2.9,4.1-7.9,6.1-12.7,6.1c-6.9,0-13.7-3.4-13.7-11.4c0-7.7,6.8-11.1,13.8-11     c4.1,0,8.6,0.9,12.1,2.9v-2.7c0-6.3-5.5-8.2-11.2-8.2c-3.8,0-8.3,1.2-11.2,2.6l-1-4.8c4-1.8,8.1-2.9,12.3-2.9     c9.2,0,16.7,3.3,16.7,13.5v21.7h-4.8L576.4,152.1L576.4,152.1z M564.7,140.5c-4.5,0-9,1.7-9,6.3c0,4.7,4.9,6.3,8.9,6.3     c5.9,0,11.4-3.8,11.6-9.8C573,141.6,568.2,140.5,564.7,140.5z"}),c.createElement("path",{d:"M591.7,123.1h5.2l0.3,5.5c3-4.1,7.2-6,11.8-6c8.7,0,15.1,5.9,15.1,16v19h-5.7v-19c0-6.6-3.9-10.7-10.5-10.7     c-6.3,0.1-10.6,5-10.6,11.2v18.5h-5.6V123.1L591.7,123.1z"}),c.createElement("path",{d:"M656.1,130.8c-3-2.7-6.1-3.3-9.7-3.3c-4.7-0.1-8.6,1.6-8.5,5c0.1,3.6,4.3,4.6,8.6,5.1     c6.3,0.8,14.6,2,14.5,10.5c-0.1,6.9-6.7,10.3-14.4,10.3c-5.8,0-11.5-1.6-15.4-6.5l3.3-4c3.1,3.8,8,5.3,12.3,5.3     c3.8,0,8.6-1.2,8.7-5.4c0.1-3.8-4-4.9-9.3-5.5c-6.6-0.8-13.7-2.6-13.7-9.9c-0.1-7.3,7.3-10.2,13.9-10.1c5.2,0,9.4,1.3,13.1,4.6     L656.1,130.8L656.1,130.8z"}))),W8=()=>c.createElement("svg",{height:"40",viewBox:"0 0 400 80",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},c.createElement("g",{fill:"#151515"},c.createElement("path",{d:"m100.16 78.16v-8.16h-.16c-3.75 6.26-10.42 9.5-18 9.5-15.45 0-28-11.63-28-26.88 0-16.87 12.12-28.7 27.65-28.7 7.72 0 14.21 2.86 18.31 8.87h.19v-7.44h9.91v52.81zm.19-26.31c0-10.29-7.44-18.85-18.41-18.85-9.91 0-18 8.49-18 18.87 0 9.92 8.11 18.6 18 18.6a18.58 18.58 0 0 0 18.41-18.62z"}),c.createElement("path",{d:"m155.19 78.16v-28.78c0-11.16-4.38-16.4-13.16-16.4s-13.92 6.39-13.92 16.31v28.89h-9.92v-52.83h9.25v5.65h.19c3.9-5 9.35-7 15.45-7 12.68 0 22 8 22 22.6v31.58h-9.9z"}),c.createElement("path",{d:"m300.12 78.16v-8.16h-.18c-3.72 6.29-10.4 9.53-17.93 9.53-15.45 0-28-11.63-28-26.88 0-16.87 12.1-28.7 27.65-28.7 7.72 0 14.21 2.86 18.31 8.87h.18v-7.47h9.85v52.81zm.19-26.31c0-10.29-7.44-18.87-18.4-18.87-9.92 0-18 8.49-18 18.87 0 9.92 8.11 18.6 18 18.6a18.57 18.57 0 0 0 18.4-18.6z"}),c.createElement("path",{d:"m325.11 78.16v-43.75h-7.11v-9.06h7.15v-17.73h9.85v17.73h8.68v9.06h-8.68v43.75z"}),c.createElement("path",{d:"m356 56.05c2.29 8.76 9.25 14.4 17.36 14.4a17 17 0 0 0 15.06-8.87h9.91a27.08 27.08 0 0 1 -25.41 17.92c-14.87 0-26.92-13.16-26.92-27.27 0-16.68 12.58-28.32 26.6-28.32a26.9 26.9 0 0 1 27.4 27.17 29.4 29.4 0 0 1 -.29 5h-43.71zm34.13-7.62c-.75-9-8.67-15.45-17.16-15.45-8.11 0-16.21 6.39-17 15.45z"}),c.createElement("path",{d:"m42 39.88a22.68 22.68 0 0 0 -4.89-3.79 18.39 18.39 0 0 0 1.73-2 21 21 0 0 0 4-14 21.57 21.57 0 0 0 -6.2-13.85 22 22 0 0 0 -15.96-6.24h-20.68v79.5h24.34c9.13 0 14.75-4 17.87-7.39a23.6 23.6 0 0 0 6.18-16.11 22.89 22.89 0 0 0 -6.39-16.12zm-21.32-30.61c8.37 0 12.5 5.75 12.88 11.43a11.49 11.49 0 0 1 -9.71 11.93h-14.58v-23.36zm3.65 61h-15.06v-28.37h13.73c11.89 0 16.1 7.6 16.1 14.11-.01 6.84-4.62 14.22-14.77 14.22z"}),c.createElement("path",{d:"m245.87 25.39c-9.38-.7-13 4-13 4v-4h-9.87v52.77h9.91v-29.64a20.28 20.28 0 0 1 1-6.37c2.14-6.48 9.16-8.56 16-6l4.09-8.7a22.74 22.74 0 0 0 -8.13-2.06z"}),c.createElement("path",{d:"m173.07 7.62h9.92v70.55h-9.92z"}),c.createElement("path",{d:"m205.26 78.16-21.88-26.43 19.62-26.38h11.21l-19.31 26.38 22.05 26.43z"}))),j8=()=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"40",viewBox:"0 0 166 30",fill:"none"},c.createElement("path",{d:"M17.9404 14.1901C19.8604 13.0501 21.0004 10.8301 21.0004 8.19012C21.0004 4.11012 18.0604 0.870117 13.0804 0.870117H0.360352V29.0701H13.8004C18.9004 29.0701 22.0804 25.6501 22.0804 21.0901C22.1142 19.6661 21.7431 18.2616 21.0103 17.0402C20.2774 15.8187 19.2128 14.8304 17.9404 14.1901ZM5.40035 5.73012H12.4204C14.9404 5.73012 16.2004 7.17012 16.2004 8.91012C16.2004 10.9501 14.9404 12.2101 12.4804 12.2101H5.40035V5.73012ZM5.40035 24.2101V17.0701H12.7804C15.4204 17.0701 16.8604 18.6301 16.8604 20.6701C16.8604 22.7101 15.4804 24.2701 12.7804 24.2701L5.40035 24.2101Z",fill:"#0B3541"}),c.createElement("path",{d:"M112.2 0.150391C103.56 0.150391 97.6201 6.75039 97.6201 15.0904C97.6201 23.4304 103.56 29.8504 112.2 29.8504C120.84 29.8504 126.72 23.3704 126.72 15.0904C126.72 6.69039 120.78 0.150391 112.2 0.150391ZM112.2 24.9304C106.56 24.9304 102.72 20.7304 102.72 15.0304C102.72 9.33039 106.68 5.01039 112.2 5.01039C117.72 5.01039 121.68 9.27039 121.68 15.0304C121.68 20.7904 117.72 24.9304 112.2 24.9304Z",fill:"#0B3541"}),c.createElement("path",{d:"M27 29.0701H41.4L48 24.2101H32.04V17.0701H45.3V12.2101H32.04V5.73012H46.92V0.870117H27V29.0701Z",fill:"#0B3541"}),c.createElement("path",{d:"M73.3799 5.73012H83.1599V29.0701H88.1999V5.73012H96.7799V0.870117H79.9799L73.3799 5.73012Z",fill:"#0B3541"}),c.createElement("path",{d:"M160.02 0.870117L154.8 21.2101L149.52 0.870117H144.12L138.78 21.1501L133.62 0.870117H128.4L135.66 29.0701H141.66L146.82 9.39012L151.92 29.0701H157.98L165.24 0.870117H160.02Z",fill:"#0B3541"}),c.createElement("path",{d:"M65.8199 13.4698C65.8199 13.4698 64.4399 12.8698 61.8599 11.7898C59.3999 10.7098 56.8799 9.38979 56.8799 7.82979C56.8799 6.14979 58.9799 5.00979 61.6799 5.00979C64.1567 4.97736 66.5552 5.8768 68.3999 7.52979L72.3599 4.64979C72.3599 4.64979 71.8199 3.80979 69.7199 2.42979C67.3993 0.922404 64.6871 0.129612 61.9199 0.14979C56.1599 0.14979 51.5399 3.38979 51.5399 8.12979C51.5399 11.5498 53.6399 14.0698 57.6599 15.8098L62.3999 17.8498C64.9199 18.9298 66.5999 19.5898 66.5999 21.9298C66.5999 23.7898 64.7399 25.0498 61.6799 25.0498C60.2282 25.0781 58.7854 24.8168 57.4358 24.2811C56.0863 23.7454 54.857 22.946 53.8199 21.9298L49.9199 24.6898C50.1322 25.0106 50.3957 25.2943 50.6999 25.5298L50.7599 25.5898C53.6362 28.2906 57.4344 29.7927 61.3799 29.7898C67.6199 29.7898 71.9999 26.2498 71.9999 21.2098C72.0599 17.5498 70.1399 15.2698 65.8199 13.4698Z",fill:"#0B3541"})),G8=u.div`
  position: relative;
  height: 38px;
  width: 200px;
`,q8=u.div`
  position: absolute;
  top: 0;
  left: 20px;
`,Y8=u.div`
  position: absolute;
  top: 0;
  left: 130px;
`,K8=()=>c.createElement(G8,null,c.createElement(q8,null,c.createElement("svg",{width:"27",height:"38",viewBox:"0 0 27 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.4492 22.1291L26.9001 34.9896L23.7519 38L13.4492 28.1482L3.14821 38L0 34.9896L13.4492 22.1291ZM13.9613 0C18.5812 0 22.3393 3.54508 22.3393 7.90145C22.3393 10.9303 20.5241 13.5664 17.8659 14.8928L26.9001 23.7465L23.7519 26.832L13.4492 16.7361L3.14821 26.832L0 23.7465L9.40364 14.5296C7.10686 13.1187 5.58509 10.6747 5.58509 7.90145C5.58509 3.54508 9.34316 0 13.9613 0ZM13.9613 4.39798C11.9141 4.39798 10.2473 5.97029 10.2473 7.90145C10.2473 9.83434 11.9141 11.4049 13.9613 11.4049C16.0103 11.4049 17.6752 9.83434 17.6752 7.90145C17.6752 5.97029 16.0103 4.39798 13.9613 4.39798Z",fill:"#44D3A9"}))),c.createElement(Y8,null,c.createElement("svg",{width:"158",height:"35",viewBox:"0 0 158 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3991 9.85346C41.7424 9.85172 43.8262 10.4104 45.5456 11.5644L45.877 11.7946C47.3986 12.8938 48.5658 14.3403 49.333 16.0773C50.1462 17.9086 50.5476 19.9163 50.5476 22.0636C50.5476 24.2337 50.1462 26.2606 49.3347 28.1041C48.5127 29.9774 47.2316 31.5137 45.5456 32.6397C43.8262 33.7937 41.7424 34.3524 39.3991 34.3506C37.0331 34.3524 34.9422 33.8112 33.2211 32.6851C31.5298 31.587 30.2452 30.0664 29.4232 28.2054C28.6082 26.3706 28.2069 24.3367 28.2086 22.1405C28.2069 19.9198 28.6064 17.8702 29.4214 16.0197C30.2434 14.1464 31.5281 12.6188 33.2194 11.519C34.9422 10.3929 37.0331 9.85172 39.3991 9.85346ZM57.9109 10.6437L63.3325 25.9801L68.754 10.6437H74.4821L65.5834 34.3506H61.0436L52.1432 10.6437H57.9109ZM85.3771 9.85346C87.0056 9.85173 88.5195 10.1939 89.8672 10.8888C91.2304 11.5889 92.3264 12.6435 93.085 13.9896C93.8557 15.3462 94.2273 16.9332 94.2255 18.6774C94.2255 19.3845 94.1245 20.2208 93.9378 21.23L93.782 22.0698H79.9793C79.9793 23.2919 80.1094 24.3674 80.3543 25.298C80.6009 26.2303 80.9605 27.016 81.4297 27.6794C81.887 28.3254 82.4196 28.7794 83.0635 29.0919C83.7074 29.4044 84.4814 29.5738 85.4165 29.5738C86.5553 29.572 87.5297 29.3241 88.4048 28.8352C89.3329 28.315 90.2457 27.5939 91.1396 26.6581L92.049 25.7048L94.4276 29.696L93.931 30.2652C92.8264 31.5327 91.5712 32.5384 90.1755 33.2559C88.7473 33.9927 87.1307 34.3524 85.3771 34.3506C83.0635 34.3524 81.0239 33.8042 79.3525 32.6606C77.717 31.5484 76.4721 30.026 75.6689 28.1665C74.8743 26.3333 74.4821 24.3133 74.4821 22.1413C74.4821 19.9205 74.8726 17.869 75.6689 16.0201C76.4703 14.145 77.7273 12.6173 79.3799 11.5174C81.0598 10.393 83.0892 9.84999 85.3771 9.85346ZM125.268 9.85346C126.897 9.85173 128.41 10.1939 129.758 10.8888C131.121 11.5889 132.217 12.6435 132.976 13.9896C133.747 15.3462 134.118 16.9332 134.117 18.6774C134.117 19.3845 134.014 20.2208 133.829 21.23L133.673 22.0698H119.87C119.87 23.2919 119.999 24.3674 120.245 25.298C120.492 26.2303 120.851 27.016 121.321 27.6794C121.778 28.3254 122.311 28.7794 122.954 29.0919C123.598 29.4044 124.371 29.5738 125.307 29.5738C126.446 29.572 127.421 29.3241 128.296 28.8352C129.224 28.315 130.137 27.5939 131.031 26.6581L131.94 25.7048L134.319 29.696L133.822 30.2652C132.717 31.5327 131.462 32.5384 130.066 33.2559C128.638 33.9927 127.022 34.3524 125.268 34.3506C122.954 34.3524 120.915 33.8042 119.243 32.6606C117.608 31.5484 116.363 30.026 115.56 28.1665C114.765 26.3333 114.373 24.3133 114.373 22.1413C114.373 19.9205 114.764 17.869 115.56 16.0201C116.361 14.145 117.618 12.6173 119.271 11.5174C120.951 10.393 122.98 9.84999 125.268 9.85346ZM157.346 0.486816V33.5837H152.89L152.669 32.5727C152.046 32.9861 151.403 33.3357 150.735 33.5992C149.59 34.0539 148.383 34.2813 147.14 34.2813C145.311 34.2847 143.622 33.8093 142.167 32.8586C140.699 31.9045 139.563 30.506 138.785 28.751C137.996 26.984 137.622 24.9086 137.622 22.5474C137.622 20.572 137.87 18.8066 138.391 17.2531C138.908 15.6996 139.704 14.3597 140.775 13.285C141.826 12.2275 143.066 11.425 144.463 10.8979C145.861 10.3709 147.41 10.116 149.094 10.116C150.094 10.116 151.04 10.2194 151.926 10.426V0.486816H157.346ZM15.2881 4.32184C17.1544 4.32184 18.9281 4.61693 20.583 5.2105C22.2346 5.80236 23.6678 6.65008 24.8532 7.75194L25.4625 8.31652L22.8246 12.4528L21.9081 11.5283C21.1836 10.8 20.2444 10.203 19.045 9.74587C17.8527 9.29216 16.6079 9.06531 15.2881 9.06531C13.2316 9.06701 11.5661 9.50366 10.2062 10.3343C8.81827 11.1889 7.79176 12.318 7.06726 13.7985C6.33927 15.291 5.96742 16.9796 5.96742 18.9036C5.96742 20.889 6.32355 22.61 7.01663 24.1008C7.70621 25.5847 8.68734 26.7121 10.0071 27.5599C11.3008 28.3854 12.872 28.8152 14.815 28.8169C16.2989 28.8169 17.6536 28.5423 18.9158 27.9999C20.178 27.4541 21.3547 26.6354 22.4545 25.5131L23.4112 24.5357L25.8151 28.6788L25.274 29.2212C24.0013 30.4902 22.4772 31.5307 20.7227 32.3323C18.9263 33.1545 16.9414 33.5621 14.815 33.5604C11.7285 33.5621 9.03649 32.8969 6.82285 31.5187C4.64936 30.1712 2.98738 28.3445 1.89976 26.1032C0.820874 23.8876 0.283175 21.4604 0.284916 18.8644C0.283175 16.2649 0.843566 13.8412 1.96785 11.646C3.10085 9.4252 4.83092 7.62743 7.08297 6.31065C9.36994 4.96829 12.1283 4.32014 15.2881 4.32184ZM112.777 9.85346V15.1724H111.703C110.512 15.1724 109.395 15.3659 108.328 15.7528C107.392 16.0909 106.274 16.727 105.017 17.6646V33.5604H99.2145V10.521H103.984L104.427 12.4293C105.369 11.6938 106.316 11.1205 107.275 10.7231C108.68 10.1445 110.166 9.85173 111.703 9.85346H112.777ZM39.3588 14.63C38.4299 14.6317 37.6623 14.7993 37.0155 15.1101C36.3706 15.4208 35.829 15.8748 35.3576 16.5242C34.8773 17.1894 34.5093 17.9715 34.2569 18.8985C34.0045 19.822 33.8731 20.8905 33.8731 22.1021C33.8731 23.3276 34.0045 24.403 34.2569 25.3318C34.5093 26.2606 34.8773 27.0409 35.354 27.6956C35.8255 28.3381 36.3671 28.7885 37.0138 29.0975C37.6605 29.4065 38.4282 29.5724 39.3588 29.5724C40.2877 29.5724 41.0571 29.4065 41.7091 29.0975C42.361 28.7867 42.9079 28.3346 43.3846 27.6904C43.8683 27.0357 44.2398 26.2553 44.494 25.3283C44.7499 24.4013 44.8831 23.3259 44.8831 22.1021C44.8831 20.8922 44.7499 19.8255 44.4957 18.902C44.2399 17.9767 43.8683 17.1928 43.3828 16.5294C42.9044 15.8782 42.3575 15.4226 41.7073 15.1101C41.0553 14.7993 40.2859 14.6317 39.3588 14.63ZM149.247 14.8282C148.153 14.8282 147.245 15.0056 146.502 15.3311C145.759 15.66 145.168 16.1268 144.679 16.7761C144.175 17.4478 143.787 18.2486 143.524 19.2062C143.258 20.1638 143.119 21.2781 143.119 22.5474C143.119 23.8839 143.241 25.012 143.468 25.9213C143.694 26.8324 144.02 27.5161 144.412 28.0053C144.842 28.5461 145.294 28.9198 145.772 29.1626C146.254 29.4055 146.769 29.5295 147.369 29.5312C148.34 29.5312 149.153 29.3779 149.829 29.1006C150.434 28.8526 151.143 28.4427 151.926 27.8864V15.1967C151.136 14.9573 150.25 14.8282 149.247 14.8282ZM85.2623 14.5116C84.5979 14.5116 84.0208 14.6094 83.5139 14.7892C83.007 14.9708 82.5651 15.2327 82.1661 15.5924L81.9402 15.8094C81.5002 16.2588 81.1318 16.8005 80.8338 17.45H88.7592C88.7164 17.1043 88.6445 16.7936 88.5435 16.5282C88.3739 16.0899 88.1393 15.7477 87.8157 15.4544C87.4595 15.1349 87.0844 14.9045 86.6666 14.7491C86.2487 14.5937 85.7881 14.5116 85.2623 14.5116ZM125.152 14.5116C124.489 14.5116 123.912 14.6094 123.405 14.7892C122.898 14.9708 122.456 15.2327 122.057 15.5924L121.831 15.8094C121.391 16.2588 121.023 16.8005 120.725 17.45H128.65C128.607 17.1043 128.535 16.7936 128.433 16.5282C128.265 16.0899 128.03 15.7477 127.707 15.4544C127.35 15.1349 126.975 14.9045 126.558 14.7491C126.14 14.5937 125.677 14.5116 125.152 14.5116Z",fill:"#424242"})))),Q8=({textLines:e,Logo:t,logoTextLines:n,textColor:r})=>{const i=gi({fontSize:"14px",lineHeight:"18px"},{fontSize:"14px",lineHeight:"18px"});return c.createElement("div",null,c.createElement(Wx,{bottom:16},e.map(((e,t)=>c.createElement(Wx,{key:e,top:0===t?0:16},c.createElement(pw,{fontSettings:i,color:r},e))))),c.createElement(L8,null,c.createElement("div",null,c.createElement(pw,{fontSettings:i,color:r},"TRUSTED PARTNER")),c.createElement(P8,null,t),c.createElement("div",{style:{textAlign:"center"}},c.createElement(D8,null,n.map(((e,t)=>c.createElement(Wx,{key:e,top:0===t?0:4,center:!0},c.createElement(pw,{center:!0,fontSettings:i,color:r},e))))))))};function Z8({lessonId:e,textColor:t}){const{lesson:n}=N1(e),{metadata:r}=n,{partnerName:i}=r;return i===U0?c.createElement(Q8,{textColor:t,textLines:["Bestow makes it easy to get an online term life insurance quote in seconds.","Apply online in as little as 5 minutes"],Logo:c.createElement(j8,null),logoTextLines:["Fast, affordable, trusted.","Get a free, no-obligation quote today."]}):i===M0?c.createElement(Q8,{textColor:t,textLines:["Ladder makes it easy to apply for term life insurance.","Apply in 5 minutes to find out if you’re instantly approved."],Logo:c.createElement(T8,null),logoTextLines:["100% digital – no doctors, needles, or paperwork – when you apply for $3 million in coverage or less."]}):i===V0?c.createElement(Q8,{textColor:t,textLines:["Every investor deserves access to diligence on fundamentals."],Logo:c.createElement(z8,null),logoTextLines:["Comprehensive fundamental research."]}):i===H0?c.createElement(Q8,{textColor:t,textLines:["Upstart’s frictionless online experience enables business day funding for many borrowers and access to better, smarter rates."],Logo:c.createElement(V8,null),logoTextLines:["Flexible loan amounts.","Fixed rates and terms.","No repayment fees."]}):i===B0?c.createElement(Q8,{textColor:t,textLines:["Emergency vet coverage in case your pet is in a jam...or ate a container of it.","Create a plan based on your family's needs, and you can always add on later."],Logo:c.createElement(U8,null),logoTextLines:["Flexible coverage options.","Choose your own providers.","Quick reimbursements."]}):i===$0?c.createElement(Q8,{textColor:t,textLines:["Lemonade makes insurance easy, fast, and delightful.","Apply and receive a quote in less than two minutes. It’s that simple."],Logo:c.createElement(B8,null),logoTextLines:["Get covered in 90 seconds.","Lemonade’s AI can activate your policy and protect your stuff instantly."]}):i===z0?c.createElement(Q8,{textColor:t,textLines:["From eye doctors’ offices to retail locations to online, you can get your vision needs met on your terms."],Logo:c.createElement(H8,null),logoTextLines:["Easy same-day enrollment.","Predictable premiums.","Personalized coverage for as low as $13/month."]}):i===z0?c.createElement(Q8,{textColor:t,textLines:["Emergency vet coverage in case your pet is in a jam...or ate a container of it.","Create a plan based on your family's needs, and you can always add on later."],Logo:c.createElement(U8,null),logoTextLines:["Flexible coverage options.","Choose your own providers.","Quick reimbursements."]}):i===W0?c.createElement(Q8,{textColor:t,textLines:[`George offers personal financial planning exclusive to ${Jo} users.`,"Book your session with George today!"],Logo:c.createElement($8,null),logoTextLines:["Connect the dots.","Get a handle on your money."]}):i===j0?c.createElement(Q8,{textColor:t,textLines:["Bankrate helps you unlock special credit card offers and find what cards you may be pre-approved for."],Logo:c.createElement(W8,null),logoTextLines:["Safeguard your information.","View your matched offers.","No impact to your credit score."]}):i===G0?c.createElement(Q8,{textColor:t,textLines:["It’s time to get smart about car insurance coverage.","Covered is a digital insurance marketplace that helps you get competitive insurance rates for your auto."],Logo:c.createElement(K8,null),logoTextLines:["Get customized coverage that meets your needs and your budget.","We take care of the shopping for you."]}):null}const X8=({item:e,textColor:t})=>{const{contents:n,metadata:r}=e;if(!n)return null;const{type:i,body:a}=n,{lessonId:s,sponsorId:o}=r;if(i===yI){const e=gi({fontSize:"12px",lineHeight:"14px"},{fontSize:"14px",lineHeight:"18px"});return c.createElement(Iw,{flex:1,column:!0},c.createElement("div",null,c.createElement(pw,{fontSettings:e,color:t},"SPONSORED BY")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(N8,{src:S8,alt:"nasdaq_logo"})))}if(i===_I){const e=gi({fontSize:"12px",lineHeight:"14px"},{fontSize:"14px",lineHeight:"18px"}),n=()=>{th.learn.PRESS_SPONSOR_CALLOUT_LINK.send({"Lesson ID":s,"Sponsor ID":o})},r=()=>{th.learn.PRESS_SEE_LEARN_SPONSOR_RULES_AND_DISCLAIMERS.send({"Lesson ID":s,"Sponsor ID":o})};return c.createElement(Iw,{flex:1,column:!0},c.createElement(O8,null,c.createElement("div",null,c.createElement(pw,{fontSettings:e,color:t},"SPONSORED BY")),c.createElement("div",{style:{paddingTop:"24px",paddingBottom:"24px"}},c.createElement(A8,{src:S8,alt:"nasdaq_logo"})),c.createElement("div",{style:{paddingTop:"0"}},c.createElement(pw,{fontSettings:e,color:t},"Brought to you by"," ",c.createElement(R8,{href:"https://www.nasdaq.com/smart-investing",target:"_blank",onClick:n},"Nasdaq Smart Investing"),".")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(pw,{fontSettings:e,color:t},"Nasdaq is an educational content partner of the ",Zo," Learn & Earn program.")),c.createElement("div",{style:{paddingTop:"24px"}},c.createElement(F8,{href:"/learn-and-earn-rules",target:"_blank",onClick:r},c.createElement(pw,{fontSettings:e,color:t},"See here for rules & disclaimers.")))))}return i===fI||i===vI?c.createElement(Iw,{flex:1,column:!0},c.createElement(Z8,{lessonId:s,textColor:t})):c.createElement(Iw,{flex:1,column:!0},c.createElement(J8,{data:a,textColor:t}))},J8=({textColor:e,data:t})=>(e=>{const t=[[]];return e.forEach((e=>{const{isNewLine:n,isPaddedNewLine:r}=e;n||r?t.push([e]):t[t.length-1].push(e)})),t})(t).map(((t,n)=>c.createElement(E7,{key:n,paragraph:t,textColor:e}))),e7=u.div`
  width: 100%;
  padding-top: 24px;

  @media (max-width: 450px) {
    padding-top: 16px;
  }
  @media (max-width: 358px) {
    padding-top: 8px;
  }
`,t7=u.div`
  padding-top: 4px;
  .base-text {
    font-size: ${({isSmall:e})=>e?"48px":"72px"};
    line-height: ${({isSmall:e})=>e?"54px":"80px"};
    * {
      line-height: ${({isSmall:e})=>e?"54px":"80px"};
    }
  }

  @media (max-width: 550px) {
    .base-text {
      font-size: ${({isSmall:e})=>e?"36px":"48px"};
      line-height: ${({isSmall:e})=>e?"40px":"58px"};
      * {
        line-height: ${({isSmall:e})=>e?"40px":"58px"};
      }
    }
  }
  @media (max-width: 358px) {
    .base-text {
      font-size: ${({isSmall:e})=>e?"24px":"36px"};
      line-height: ${({isSmall:e})=>e?"28px":"48px"};
      * {
        line-height: ${({isSmall:e})=>e?"28px":"48px"};
      }
    }
  }
`,n7=u.div`
  padding-top: 8px;
  .base-text {
    font-size: ${({isSmall:e})=>e?"16px":"24px"};
    line-height: ${({isSmall:e})=>e?"24px":"36px"};
    * {
      line-height: ${({isSmall:e})=>e?"24px":"36px"};
    }
  }

  @media (max-width: 550px) {
    padding-top: 8px;
    .base-text {
      font-size: ${({isSmall:e})=>e?"16px":"24px"};
      line-height: ${({isSmall:e})=>e?"24px":"36px"};
      * {
        line-height: ${({isSmall:e})=>e?"24px":"36px"};
      }
    }
  }
  @media (max-width: 358px) {
    .base-text {
      font-size: 14px;
      line-height: 18px;
      * {
        line-height: 18px;
      }
    }
  }
`,r7=({activeScreenIndex:e,lessonHeading:t,lessonReward:n})=>{const r=vr.primary.charcoal,i=0===e,a=t.length>8,s=gi({fontSize:"16px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"});return c.createElement(e7,null,i?c.createElement(c.Fragment,null,c.createElement(n7,{isSmall:a},c.createElement(hi,{letterSpacing:.8,color:r,thin:!0,uppercase:!0},"Learn about")),c.createElement(t7,{isSmall:a},c.createElement(hi,{bold:!0,uppercase:!0,color:r},t)),n>0&&c.createElement(Iw,{top:8},c.createElement(yi,{color:r},`EARN $${n}`))):c.createElement(c.Fragment,null,c.createElement(pw,{isSmall:a,fontSettings:s,letterSpacing:.8,color:r,thin:!0,uppercase:!0},"Learn about "),c.createElement(pw,{isSmall:a,fontSettings:s,letterSpacing:.8,color:r,bold:!0,uppercase:!0},t)))},i7=u.a`
  color: ${({color:e})=>e} !important;
  text-decoration: none;

  &:hover {
    opacity: 0.6;
    text-decoration: none;
  }
`,a7=u.span`
  text-decoration: underline;
`,s7=({lessonId:e,isLastScreen:t,onComplete:n,advanceScreen:r})=>{const{analytics_id:i}=ZT(),{lesson:a}=N1(e),{sponsorId:s,metadata:o}=a||{},{partnerName:l}=o||{},d=(null==o?void 0:o.inShowPartnerCalloutTestGroup)||!1,u=!!l&&!d;if(t&&s)return c.createElement(Iw,{fullWidth:!0,top:2,bottom:8,centerAll:!0,style:{textAlign:"center"}},c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:n,buttonProps:{overrideContext:"Lesson Completed"},fullWidth:!0},"CLAIM REWARD"));if(t&&u){const t=()=>{th.learn.PRESS_PRODUCT_PARTNER_CALLOUT_LINK.send({"Lesson ID":e,Partner:l}),n();const t=((e,t,n)=>n===M0?Q0(e,t):n===B0?Z0(e,t):n===z0?e1(e,t):n===H0?X0(e,t):n===V0?J0(e,t):n===$0?t1(e,t):n===W0?n1(e,t):n===G0?i1(e,t):n===j0?r1():n===U0?K0():null)(i,e,l);null==window||window.open(t,"_blank").focus()};return c.createElement(Iw,{fullWidth:!0,top:2,bottom:8,centerAll:!0,style:{textAlign:"center"}},c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:t,buttonProps:{overrideContext:"Lesson Completed"},fullWidth:!0},(e=>e===M0||e===U0||e===B0||e===z0?"SEE MY QUOTE":e===H0?"CHECK MY RATE":e===V0?"GET ACCESS NOW":e===$0?"SEE MY QUOTE":e===j0?"SEE MY OFFERS":e===$0?"SEE MY QUOTE":e===G0?"GET MY QUOTE":"SEE MY QUOTE")(l)))}return t?c.createElement(Iw,{fullWidth:!0,top:2,bottom:8,centerAll:!0,style:{textAlign:"center"}},c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:n,buttonProps:{overrideContext:"Lesson Completed"},fullWidth:!0},"COMPLETE")):c.createElement(Iw,{fullWidth:!0,top:2,bottom:8,centerAll:!0,style:{textAlign:"center"}},c.createElement(sx,{color:vr.primary.charcoal,hoverTextColor:vr.primary.oak,onClick:r,fullWidth:!0},"CONTINUE"))},o7=({lessonId:e,textColor:t,isLastScreen:n,onComplete:r})=>{const[i,a]=F();_();const{lesson:s}=N1(e),{sponsorId:d,moreOnTopicUrl:u,metadata:h}=s||{},p=(null==h?void 0:h.partnerName)||null,m=(null==h?void 0:h.moreInfoOverride)||!1,g=(null==h?void 0:h.inShowPartnerCalloutTestGroup)||!1,y=!!p&&!g,f=()=>{th.learn.PRESS_SEE_MORE_ON_LEARN_TOPIC.send({"Lesson ID":e,"Sponsor ID":d})};if(n&&u)return c.createElement(Iw,{centerAll:!0,vertical:8},c.createElement(i7,{href:u,target:"_blank",onClick:f,color:t},c.createElement("span",null,"Read More About This Topic At "),c.createElement(a7,null,"Nasdaq.com")));if(n&&y)return c.createElement(Iw,{centerAll:!0,bottom:8},c.createElement(hx,{transparent:!0,height:20,onClick:r,fullWidth:!0,color:t},"No, thanks"));if(m){const{url:n,hidden:r}=m,i=()=>{th.learn.PRESS_CUSTOM_MORE_INFO_LINK.send({"Lesson ID":e,Partner:p}),n?null==window||window.open(n,"_blank").focus():console.log("no url",n)};return r?c.createElement(Wx,{top:0,bottom:0}):c.createElement(Iw,{centerAll:!0,bottom:8},c.createElement(hx,{transparent:!0,height:20,onClick:i,fullWidth:!0,color:t},"MORE INFO"))}return c.createElement(Iw,{centerAll:!0,bottom:8},c.createElement(hx,{transparent:!0,height:20,onClick:()=>{const e=Object.fromEntries(new URLSearchParams(i));a(l(o({},e),{showMoreInfo:"1"}))},fullWidth:!0,color:t},"MORE INFO"))},l7=({lessonId:e,isLastScreen:t,onComplete:n,advanceScreen:r})=>{const i=vr.primary.charcoal;return c.createElement("div",{style:{width:"100%"}},c.createElement(s7,{lessonId:e,textColor:i,isLastScreen:t,onComplete:n,advanceScreen:r}),c.createElement(o7,{lessonId:e,textColor:i,isLastScreen:t,onComplete:n,advanceScreen:r}))},c7=u.div`
  position: absolute;
  top: 0;
  bottom: 56px;
  left: -16px;

  width: 60px;
  opacity: 0.2;
  cursor: pointer;

  z-index: 4;
`,d7=u.div`
  position: absolute;
  top: 0;
  bottom: 56px;
  right: -16px;

  width: 60px;
  opacity: 0.2;
  cursor: pointer;

  z-index: 4;
`,u7=u.div`
  display: flex;
  flex: 1 1 0%;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  min-height: ${({minHeight:e})=>e};
  padding: 24px 0 24px 0;
  width: 100%;
`,h7=u.div`
  position: relative;
  display: table-cell;
  vertical-align: middle;
  width: 100%;
`,p7=u.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
`,m7=u.div`
  padding-right: 16px;
  color: ${vr.primary.charcoal};
`,g7=u.div`
  padding-left: 16px;
  color: ${vr.primary.charcoal};
  text-align: right;
`,y7=u.div`
  .base-text {
    font-size: 20px;
    line-height: 28px;
  }

  @media (max-width: 1000px) {
    .base-text {
      font-size: 18px;
      line-height: 26px;
    }
  }
  @media (max-width: 480px) {
    .base-text {
      font-size: 16px;
      line-height: 24px;
    }
  }
  @media (max-width: 358px) {
    .base-text {
      font-size: 15px;
      line-height: 22px;
    }
  }
`,_7=({items:e,activeScreenIndex:t,previousScreen:n,advanceScreen:r,hideTapPanels:i,children:a})=>{const s=t>0,o=t<e.length-1;return c.createElement(Iw,{name:"LearnCarouselContent",flex:1,column:!0,relative:!0,fullWidth:!0},i?null:c.createElement(C7,{previousScreen:n}),c.createElement(u7,null,c.createElement(h7,null,c.createElement(p7,null,s&&!i?c.createElement(m7,null,c.createElement(xc,{icon:"fa-chevron-left"})):null,c.createElement("div",{style:{width:"100%"}},a),o&&!i?c.createElement(g7,null,c.createElement(xc,{icon:"fa-chevron-right"})):null))),i?null:c.createElement(b7,{advanceScreen:r}))},f7=({text:e})=>{const t=e.split(" ");return t.map(((e,n)=>t.length===n+1?c.createElement("span",{key:n},e):c.createElement("span",{key:n},e," ")))},v7=({data:e,textColor:t})=>{const{text:n,small:r,bold:i,noWrap:a,isPaddedNewLine:s,lineBreak:o}=e;return o?c.createElement("div",{style:{padding:"16px 0 0 0"}}):s?c.createElement("p",{style:{margin:"16px 0 0 0"}},c.createElement(pw,{fontSettings:fontSettings,isSmall:r,thin:!i,bold:i,color:t},a?c.createElement(f7,{text:n}):n)):c.createElement(hi,{isSmall:r,thin:!i,bold:i,color:t},a?c.createElement(f7,{text:n}):n)},E7=({paragraph:e,textColor:t})=>c.createElement(y7,null,e.map(((e,n)=>c.createElement(v7,{key:n,data:e,textColor:t})))),b7=({advanceScreen:e})=>c.createElement(d7,{onClick:e}),C7=({previousScreen:e})=>c.createElement(c7,{onClick:e}),x7=({lessonId:e,onComplete:t,lessonReward:n})=>{const r=vr.primary.charcoal,i=P(),{lesson:a}=N1(e),{name:s,heading:o,lessonContents:l,sponsorId:d,moreOnTopicUrl:u}=a,[h,p]=c.useState(0),m=c.useMemo((()=>({lessonId:e,lessonName:s,lessonHeading:o,sponsorId:d,moreOnLessonTopicUrl:u})),[e,s,o,d,u]),g=c.useMemo((()=>l.map((e=>({contents:e,metadata:m})))),[l,d,m]),y=g.length,_=()=>{const e=Math.min(y-1,h+1);p(e)};return c.useEffect((()=>{const t=h+1;th.learn.VIEW_LEARN_LESSON_SCREEN.send({"Sponsor ID":d,"Lesson ID":e,Subject:s,Slide:t}),pl.learn.LEARN_LESSON_VIEWED.send({lesson_id:e,lesson_name:s,xp_possible:200});JE({lesson_id:e,page_number:t,completed:!1})(i)}),[h]),c.createElement(Iw,{flex:1,column:!0,style:{position:"relative"},fullWidth:!0},c.createElement(r7,{metadata:m,lessonHeading:o,lessonReward:n,activeScreenIndex:h}),c.createElement(_7,{items:g,metadata:m,lessonReward:n,activeScreenIndex:h,advanceScreen:_,previousScreen:()=>{const e=Math.max(0,h-1);p(e)}},c.createElement(X8,{item:g[h],textColor:r})),c.createElement(w8,{lessonReward:n,activeIndex:h,itemsTotal:y}),c.createElement(l7,{lessonId:e,metadata:m,onComplete:t,advanceScreen:_,isLastScreen:y===h+1}))},w7=()=>c.createElement("svg",{viewBox:"0 0 375 812",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"white"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint0_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint1_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint2_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint3_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint4_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint5_radial_93:199)"}),c.createElement("rect",{x:"-9",y:"-2",width:"640",height:"814",fill:"url(#paint6_radial_93:199)"}),c.createElement("defs",null,c.createElement("radialGradient",{id:"paint0_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(631 -1.99998) rotate(90) scale(814 640)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:"1",stopColor:"#DCDBFF",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint1_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(450.612 98.9772) rotate(90) scale(346.208 272.203)"},c.createElement("stop",{stopColor:"#DCDBFF"}),c.createElement("stop",{offset:"1",stopColor:"#DCDBFF",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint2_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-42.241 692.476) rotate(90) scale(589.377 360.675)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.53125",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint3_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(487.5 918.649) rotate(123.736) scale(317.805 474.343)"},c.createElement("stop",{stopColor:"#9FFBF5"}),c.createElement("stop",{offset:"1",stopColor:"#9FFBF5",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint4_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(129.667 1217.49) rotate(-47.173) scale(300.002 723.228)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint5_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(354.878 -255.473) rotate(90) scale(700.658 422.323)"},c.createElement("stop",{stopColor:"#F5665D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#F5665D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#F5665D",stopOpacity:"0"})),c.createElement("radialGradient",{id:"paint6_radial_93:199",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-31.6038 354.511) rotate(-61.0324) scale(600.032 536.046)"},c.createElement("stop",{stopColor:"#FCFF7D"}),c.createElement("stop",{offset:"0.635417",stopColor:"#FCFF7D",stopOpacity:"0.2"}),c.createElement("stop",{offset:"1",stopColor:"#FCFF7D",stopOpacity:"0"})))),S7=u.div`
  padding: 16px;
  margin: 0 auto;
  max-width: 400px;
  background: ${Fk(vr.primary.oak,.6)};
  border-radius: 6px;
`,k7=u.div`
  //width: 268px;
  * {
    color: ${vr.primary.charcoal} !important;
  }

  padding-bottom: 16px;
`,T7=u.div`
  button {
    width: 268px;
  }
`,I7=()=>{const e=b(),t=`Share your invite link with a friend and you'll both get up to $1,000 to invest when they join and start using ${Jo}.`;return c.createElement(S7,null,c.createElement(k7,null,c.createElement(fi,null,t," ",c.createElement("a",{href:mn.build(),target:"_blank"},"See Details."))),c.createElement(T7,null,c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:()=>{th.referral.PRESS_REFERRAL_CTA.send({Context:"Learn and Earn Lesson Completion"}),e(yn.build())}},"SHARE")))},N7=u.div`
  position: relative;
  overflow: auto;

  display: flex;
  flex: 1;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;

  padding: 16px 24px;

  @media (max-width: 340px) {
    padding: 8px;
  }
`;const A7=({children:e,onDismiss:t})=>{const n=function(e){if(e.width<600)return Math.min(e.height,1e3)-wl;const t=e.width>614?24:0;return e.height>1e3?1e3:e.height-wl-t}(jx());return c.createElement(Lx,{noPadding:!0,height:`${n}px`,width:"600px",style:{position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}},t&&c.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",zIndex:4}},c.createElement(kx,{onClick:t})),c.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,minWidth:"475px"}},c.createElement(w7,null)),c.createElement(N7,{flex:1,columnCenter:!0,style:{position:"relative"}},e))};const P7=e=>{const t=b(),n=_(),r=CU({securityId:e,navigate:t,location:n});return()=>{t(r)}},D7=gi({fontSize:"12px",lineHeight:"18px"},{fontSize:"12px",lineHeight:"18px"}),O7=u.span`
  ${jC} {
    padding: 8px 16px;
    @media (max-width: 350px) {
      padding: 8px 8px;
    }
  }
  * {
    white-space: unset !important;
    word-break: break-word;
  }
`,L7=u.span`
  line-height: 1;
  svg {
    margin-top: 2.25px;
    height: 20px;
    width: 20px;

    path {
      fill: ${sD.primary.charcoal};
    }
  }
`,R7=({lessonId:e,textColor:t})=>{const{lesson:n}=N1(e),{metadata:r}=n,{extraContent:i}=r,{id:a,type:s,message:o}=i||{},l=P7(a);if(!i)return null;const d=()=>{th.learn.PRESS_EXTRA_CONTENT_LINK.send({"Lesson ID":e}),l()};return s===wI?c.createElement(O7,null,c.createElement(sx,{color:t,hoverTextColor:sD.primary.oak,onClick:d,fullWidth:!0},c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(L7,null,c.createElement(vx,null)),c.createElement(Iw,{left:16},c.createElement(di,{fontSettings:D7,color:t},o))))):null},F7=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"}),M7=gi({fontSize:"36px",lineHeight:"44px"},{fontSize:"64px",lineHeight:"70px"}),U7=u.div`
  text-align: center;
  height: 140px;
  margin-top: 0px;

  img {
    margin-top: -48px;
    width: 260px;
  }

  @media (max-width: 600px) {
    height: 120px;
    margin-top: 0px;
    img {
      width: 200px;
    }
  }
  @media (max-width: 420px) {
    height: 88px;
    img {
      width: 180px;
    }
  }
`,$7=u.div`
  display: flex;
  justify-content: center;

  button {
    width: 268px;
  }
`,B7=u.div`
  padding-top: 36px;
  text-align: center;
  g {
    fill: ${vr.primary.charcoal};
  }
`,z7=()=>{const e=vr.primary.charcoal,t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"36px",lineHeight:"42px"});return c.createElement("div",null,c.createElement(B7,null,c.createElement(fx,null)),c.createElement(Iw,{top:16,centerAll:!0},c.createElement(pw,{fontSettings:t,bold:!0,center:!0,color:e},"Lesson complete")))},V7=({lockedRewardsAmount:e})=>{const t=vr.primary.charcoal,n=b(),r=e>0?`Finish setting up your account to access your ${B_(e,"rewardAmount")} in rewards.`:"Finish setting up your account to access your rewards.";c.useEffect((()=>{th.learn.VIEW_ACCESS_REWARDS_WITH_DEPOSIT_CTA.send({"Locked Rewards":e})}),[]);return c.createElement(c.Fragment,null,c.createElement("div",{style:{margin:"0 auto",padding:"16px 0 0 0",maxWidth:"350px",textAlign:"center"}},c.createElement(_i,{color:t,bold:!0},r),c.createElement("div",{style:{margin:"0 auto",padding:"8px 0 0 0"}},c.createElement(yi,{color:t},"Invest in yourself, and we will too."))),c.createElement("div",{style:{textAlign:"center",padding:"0"}},c.createElement("div",{style:{margin:"0 auto",padding:"16px 0 0 0"}},c.createElement($7,null,c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:()=>{th.learn.PRESS_ACCESS_REWARDS_WITH_DEPOSIT_CTA.send({"Locked Rewards":e}),n(Sn.build())}},"Deposit Now")))))},H7=()=>{const e=vr.primary.charcoal,t=b();c.useEffect((()=>{th.learn.VIEW_DOUBLE_REWARD_WITH_DEPOSIT_CTA.send()}),[]);return c.createElement(c.Fragment,null,c.createElement("div",{style:{margin:"0 auto",padding:"16px 0 0 0",maxWidth:"350px",textAlign:"center"}},c.createElement(_i,{color:e,bold:!0},"Want to double your reward?"),c.createElement("div",{style:{margin:"0 auto",padding:"8px 0 0 0"}},c.createElement(yi,{color:e},"For a limited time, double this reward with a deposit of at least $5.")),c.createElement("div",{style:{margin:"0 auto",padding:"8px 0 0 0"}},c.createElement(yi,{color:e},"Invest in yourself, and we will too."))),c.createElement("div",{style:{textAlign:"center",padding:"0"}},c.createElement("div",{style:{margin:"0 auto",padding:"16px 0 0 0"}},c.createElement($7,null,c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:()=>{th.learn.PRESS_DOUBLE_REWARD_WITH_DEPOSIT_CTA.send(),t(Sn.build())}},"Deposit Now")))))},W7=({lessonId:e,rewardAmount:t,lockedRewardsAmount:n,hasRewardScreenPartnerCallout:r})=>{const i=vr.primary.charcoal;SI();const a=`You'll see ${B_(t,"price")} added to your account in two business days`;return c.createElement("div",{style:{margin:"0 auto",padding:"16px 0 0 0",maxWidth:"250px",textAlign:"center"}},c.createElement(yi,{color:i,thin:!0},a))},j7=({lessonId:e,rewardAmount:t,lockedRewardsAmount:n,completedLessonCount:r,hasRewardScreenPartnerCallout:i})=>{const a=QT(),{messagingStates:s}=SI();return s.should_see_learn_and_earn_doubled_with_deposit&&a&&5===r?c.createElement(H7,{lockedRewardsAmount:n}):s.should_see_learn_and_earn_payout_requires_deposit&&a&&r>=5?c.createElement(V7,{lockedRewardsAmount:n}):c.createElement(W7,{hasRewardScreenPartnerCallout:i,lockedRewardsAmount:n,rewardAmount:t,lessonId:e})},G7=()=>{const e=b(),t=vr.primary.charcoal,n=vr.primary.oak;return c.createElement(hx,{color:t,textColor:n,onClick:()=>{e(en.build()),setTimeout((()=>{e(Pn.build())}),200)},fullWidth:!0},"NEXT LESSON")},q7=({textColor:e,lockedRewardsAmount:t})=>{const n=b(),r=ZT(),i=Op(r),a=t>0?`Open a live brokerage account with us to access the ${B_(t,"rewardAmount")} you have in rewards`:"Open a live brokerage account with us to access the rewards";return i?c.createElement(c.Fragment,null,c.createElement("div",{style:{margin:"0 auto",padding:"0 0 16px 0",maxWidth:"250px",textAlign:"center"}},c.createElement(yi,{color:e,thin:!0},a)),c.createElement($7,null,c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:()=>{n(un.build())},fullWidth:!0},"Open Live Brokerage Account"))):null},Y7=({rewardAmount:e,textColor:t})=>c.createElement(c.Fragment,null,c.createElement(U7,null,c.createElement("img",{src:"/app/assets/Gift_700px.439e5d04.png",alt:"gift image"})),c.createElement(Iw,{top:24,style:{textAlign:"center"}},c.createElement(pw,{fontSettings:F7,bold:!0,center:!0,color:t},"You earned"),c.createElement(Iw,{top:16,centerAll:!0},c.createElement(pw,{fontSettings:M7,color:t},`$${e}`)))),K7=e=>{const{lessonId:t,rewardAmount:n,lockedRewardsAmount:r,completedLessonCount:i}=e,{lesson:a}=N1(t),{name:s,sponsorId:d}=a,{nextLessonId:u}=SI(),h=!El(u),p=b(),m=vr.primary.charcoal,g=ZT(),y=g.has_funded,_=g.is_live_trading_approved;c.useEffect((()=>{th.learn.VIEW_LEARN_REWARD_SCREEN.send({"Sponsor ID":d,"Lesson ID":t,Subject:s,Amount:n,"XP Amount":200,"Locked Rewards":r}),pl.learn.LEARN_LESSON_REWARD_VIEWED.send({lesson_id:t,lesson_name:s,xp_possible:200})}),[]);const f=c.createElement(q7,{lockedRewardsAmount:r,textColor:m}),v=c.createElement(R7,{textColor:m,lessonId:t});return c.createElement(A7,{onDismiss:()=>{!y&&i>3&&_?setTimeout((()=>{p(tn.build())}),200):p(en.build())}},c.createElement(Iw,{flex:1,columnCenter:!0},n>0?c.createElement("div",null,c.createElement(Y7,{rewardAmount:n,textColor:m}),c.createElement(j7,l(o({},e),{lessonId:t}))):c.createElement("div",null,c.createElement(z7,null)),!!f&&c.createElement(Iw,{top:24},f)),c.createElement(Iw,{columnCenter:!0,fullWidth:!0,top:8},!!v&&c.createElement(Iw,{top:16,centerAll:!0,fullWidth:!0},v),c.createElement(Iw,{top:16,centerAll:!0,fullWidth:!0,style:{textAlign:"center"}},h?c.createElement(G7,null):c.createElement(I7,{textColor:m}))))},Q7=()=>{const{nextLessonReward:e,nextLessonCompletionXP:t,nextLessonRewardAtXP:n}=SI(),{karmaTotal:r}={karmaTotal:D((e=>e.karma.karmaTotal)),hsReachedDailyMax:D((e=>e.karma.reachedDailyMax))},[i,a]=c.useState(!1),[s,o]=c.useState(!1),l=i?e:0,d=QT(),u=ZT(),h=Op(u);return c.useEffect((()=>{const e=n<=r+t;e!==i&&a(e);const l=Math.ceil((n-r)/t);l!==s&&o(l)}),[]),{lessonReward:l,willLessonCompletionGrantReward:i,lessonsAwayFromNextReward:d||h?s:null}},Z7=({textBodyData:e})=>{const t=vr.primary.charcoal;return c.createElement(J8,{data:e,textColor:t})},X7=u.div`
  padding: 24px 8px;
`,J7=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-bottom: 8px;
`,e9=u.div`
  width: 100px;
`,t9=u.div`
  width: 20px;
`,n9=u.div`
  position: absolute;
  top: 0;
  right: 0;
  text-align: right;
`,r9=u.div`
  position: relative;
`,i9=u.div`
  opacity: 0;
`,a9=gi({fontSize:"14px",lineHeight:"24px"},{fontSize:"18px",lineHeight:"24px"}),s9=({investmentTimeHorizon:e,largestValue:t,time:n,value:r,color:i})=>{const a=e-n,s=0===a?"NOW:":`${a} years:`;return c.createElement(J7,null,c.createElement(e9,null,c.createElement(pw,{fontSettings:a9,color:i,bold:!0},s)),c.createElement(t9,null,c.createElement(pw,{fontSettings:a9,color:i,bold:!0},"$")),c.createElement(r9,null,c.createElement(i9,null,c.createElement(pw,{fontSettings:a9,color:i,bold:!0},B_(t,"price").split("$")[1])),c.createElement(n9,null,c.createElement(pw,{fontSettings:a9,color:i,bold:!0},B_(r,"price").split("$")[1]))))},o9=({data:e,color:t})=>e.map((n=>c.createElement(s9,{key:n.time,investmentTimeHorizon:e[0].time,largestValue:e[0].value,time:n.time,value:n.value,color:t}))),l9=({defaultInputs:e})=>{const{startingValue:t,recurringDepositAmount:n,recurringRate:r,horizonYears:i,returnRate:a}=e,s=vr.primary.charcoal,[o,l]=c.useState([]);c.useEffect((()=>{const{timeStepCalculator:e}=$l({startingValue:t,recurringDepositAmount:n,recurringRate:r,horizonYears:i,returnRate:a}),s=(t=>{const n=[t];return bl(3,(e=>{const r=t-5*(e+1);r>0&&n.push(r)})),n.map((t=>({time:t,value:qk(e(t).toFixed(2))})))})(i);l(s)}),[e]);return c.createElement(X7,null,c.createElement(J8,{data:[{text:"The longer you wait to start investing, the less you may make."}],textColor:s}),c.createElement(Wx,{top:24},c.createElement(pw,{fontSettings:a9,color:s,bold:!0},"If you start:")),c.createElement(Wx,{top:24},c.createElement(o9,{data:o,color:s})),c.createElement(Wx,{top:24},c.createElement(Ei,{color:s},`Calculated with an initial investment of $${t} and a ${r===Sl?"monthly":"yearly"} recurring investment of $${n} with an average yearly return of ${100*a}% over ${i} years `)))},c9=u.div`
  padding: 24px;
  text-align: center;
`,d9=u.div`
  text-align: center;
`,u9=u.div`
  padding-top: 8px;
  text-align: center;
`,h9=({message:e,pageProps:t})=>c.createElement(qx,null,c.createElement(Lx,o({height:"160px"},t),c.createElement(c9,null,c.createElement(d9,null,c.createElement(_w,null)),c.createElement(u9,null,c.createElement(Ei,null,e||"Loading..."))))),p9=u.div`
  padding: 16px 0 0 0;
  display: flex;
  justify-content: center;
`,m9=({message:e,width:t,onContinue:n})=>c.createElement(Lx,{width:t},c.createElement("div",{style:{padding:"36px 0",textAlign:"center"}},c.createElement(fx,{textColor:!0}),c.createElement("div",{style:{padding:"16px 0 0 0",textAlign:"center"}},c.createElement(Ii,null,e))),c.createElement(p9,null,c.createElement(hx,{fullWidth:!0,onClick:n},"Continue"))),g9=u.div`
  padding: 16px 0 0 0;
  display: flex;
  justify-content: center;
`,y9=({message:e,width:t,onRetry:n})=>c.createElement(Lx,{width:t},c.createElement("div",{style:{padding:"36px 0",textAlign:"center"}},c.createElement("div",{style:{padding:"16px 0 0 0",textAlign:"center"}},c.createElement(bi,null,e))),c.createElement(g9,null,c.createElement(hx,{fullWidth:!0,onClick:n},"Retry"))),_9=u.div`
  padding-bottom: 8px;

  * {
    color: ${vr.secondary.red};
  }
`,f9=u.div`
  padding-bottom: 8px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
`,v9=u.div`
  margin-right: 8px;

  div,
  svg {
    margin: 0;
    height: 18px;
    width: 18px;
  }
`,E9=({isSubmitting:e,error:t})=>c.createElement("div",null,t&&c.createElement(_9,null,c.createElement(Ei,null,t)),e&&c.createElement(f9,null,c.createElement(v9,null,c.createElement(_w,null)),c.createElement(Ei,null,"Sending..."))),b9=u.div`
  padding-top: 24px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: flex-start;
  justify-content: center;
`,C9=u.div`
  transition: all 0.2s;

  text-align: center;
  margin: 0 0 16px 16px;

  height: 66px;
  width: 124px;
  border: 2px solid ${({theme:e})=>e.themeColors.text};
  border-radius: 5px;

  flex-grow: 1;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  ${({theme:e,isSelected:t})=>t?`\n        transform: scale(1.05);\n\n        background: ${e.themeColors.primaryCtaButton};\n        border: 2px solid ${e.themeColors.primaryCtaButton};\n        * {\n          color: ${e.themeColors.buttonText};\n        }\n      `:""}

  &:hover {
    transform: scale(1.05);

    background: ${({theme:e})=>e.themeColors.primaryCtaButton};
    border: 2px solid ${({theme:e})=>br(e.themeColors.primaryCtaButton,1)};
    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
`,x9=u.div``,w9=u.div`
  * {
    font-size: 12px;
  }
`,S9=u.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  padding-top: 16px;
  padding-left: 16px;

  svg {
    height: 24px;
    width: 24px;
  }
`,k9=[50,100,500,1e3],T9=({amount:e,bonusReward:t,isSelected:n,onSelect:r})=>c.createElement(C9,{className:n?"is-selected":"",isSelected:n,onClick:()=>r(e.toString())},c.createElement("div",null,c.createElement(x9,null,c.createElement(bi,{bold:!0},"$"+hk(e))),t>0&&c.createElement(w9,null,c.createElement(Ei,null,"+ $"+hk(t)+" Bonus")))),I9=(e,t)=>{let n=0;return t.forEach((t=>{t.amount===e&&(n=t.reward)})),n},N9=({amounts:e,bankAccountId:t,value:n,onSelect:r})=>{const i=P(),[a,s]=c.useState({}),[o,l]=c.useState(e||k9);c.useState(!0);const[d,u]=c.useState(!!e||!1),[h,p]=c.useState([]);return c.useEffect((()=>{e||(async()=>{const e=await ib()(i),{ok:t,accounts:n}=e;if(t){const e={};n.forEach((t=>{const{account_id:n,deposit_amounts:r}=t;r.length>0&&(e[n]=r)})),s(e)}u(!0)})()}),[]),c.useEffect((()=>{a[t]&&!e&&l(a[t])}),[t,a]),c.useEffect((()=>{const e=async t=>{const{ok:n,data:r}=await _b(t);if(n){const{eligible:e,rewards:t}=r;p(e?t:[])}else setTimeout((()=>{e(t)}),1e3)};o&&e(o)}),[o,i]),d?c.createElement(b9,null,o.map((e=>c.createElement(T9,{key:e,amount:e,bonusReward:I9(e,h),isSelected:B_(e,"price").split("$")[1]===n,onSelect:r})))):c.createElement(S9,null,c.createElement(_w,null))},A9={},P9="u";function D9(e,t){switch(t.type){case P9:return o(o({},e),t.payload);default:throw new Error("missing actiontype")}}const O9=(e,t)=>{const n=e[t];return isNaN(n)?null:n};let L9=!1;const R9=e=>{const t=P(),[n]=c.useState("deposit");return{submitDeposit:c.useCallback((async r=>{if(L9)return console.error("Already submitting deposit");const{bankAccountId:i,amount:a}=r,s=l(o({},c={amount:a,account_id:i,funding_operation:n}),{amount:qk(c.amount)});var c;L9=!0;const d=await gb(s,e)(t);return L9=!1,d}),[])}},F9=({children:e})=>c.createElement("div",null,c.createElement(TL,{forceEmptyNav:!0}),e),M9=u.div`
  padding: 24px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,U9=u.div`
  padding: 24px;

  input {
    background: transparent !important;
    width: 100%;
    border: none !important;
  }
`,$9=u.div`
  h5 {
    margin: 0;
  }
`,B9=u.div`
  padding-top: 24px;
  text-align: center;
`,z9=u.div`
  padding-top: 36px;
  text-align: center;
  svg {
    height: 36px;
    width: 36px;
  }
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,V9=()=>{const e=P(),t=b(),[n]=c.useState((()=>{const e=localStorage.getItem("plaid_link_reinit_metadata");return null!==e?JSON.parse(e):null})()),[r,i]=c.useState(!1),[a,s]=c.useState(!1),[l,d]=c.useState(null),u=()=>{const e=null==n?void 0:n.pathname;t("/app/get-started"===e?"/get-started":"/funding/deposit")},h=()=>{const e=null==n?void 0:n.pathname;t("/app/get-started"===e?"/get-started":"/")},p=c.useCallback((async(t,r)=>{i(!0);const a={Type:"On Success","Link Session Id":null==r?void 0:r.link_session_id,"Request Id":null==r?void 0:r.request_id};let l;TC("Plaid Event",a)();const c={public_token:t,account_id:null==r?void 0:r.account_id};if(null==n?void 0:n.wasReauth)return l=await hb(o({tornadoBankAccountId:null==n?void 0:n.bankAccountId},c))(e),void s(!0);l=await ub(c)(e);const{ok:u,error:h,account:p}=l;if(u){const e=p.available_balance_scale;if(!nk(e)){const t=xu(e);wu(t)}th.liveTradingSignUp.COMPLETED_BANK_ACCOUNT_LINK.send(),s(!0)}else{let e="Something went wrong. Unable to link bank account at this time. Please try again later.";"The selected account is already linked. Please try a different account."===h&&(e=h),d(e),th.liveTradingSignUp.LINK_PLAID_ACCOUNT_REQUEST_FAILURE.send({"Error Message":l.error||"unknown"}),i(!1)}}),[]),m={token:null==n?void 0:n.linkToken,receivedRedirectUri:window.location.href,onSuccess:p,onExit:(e,t)=>{i(!1),t.link_session_id,t.request_id,h()}},{open:g,ready:y,error:_}=M(m);return c.useEffect((()=>{(null==n?void 0:n.linkToken)&&y&&g()}),[y,g]),l||_?c.createElement(F9,null,c.createElement(Lx,{noPadding:!0},c.createElement(M9,null,c.createElement(yi,{thin:!0},"Something went wrong. We could not link your bank account. If problem persists, please contact support@","tornado",".com")))):a?c.createElement(F9,null,c.createElement(Lx,{width:"600px"},c.createElement($9,null,c.createElement(z9,null,c.createElement(fx,null),c.createElement(Ii,null,"Bank Link Completed")),c.createElement(Iw,{bottom:24},c.createElement(B9,null,c.createElement(hx,{fullWidth:!0,onClick:u},"Continue")))))):r?c.createElement(F9,null,c.createElement(h9,{message:"Linking Bank Account..."})):n&&(null==n?void 0:n.linkToken)?c.createElement(F9,null):c.createElement(F9,null,c.createElement(Lx,{noPadding:!0},c.createElement(M9,null,c.createElement(yi,{thin:!0},"We could not link your bank account.")),c.createElement(U9,null,c.createElement(Iw,null,c.createElement(Ii,null,"Two ways to link your account:"),c.createElement(Iw,{top:24},c.createElement(vi,null,"Download our mobile app and follow the in-app instructions to link your bank account.")),c.createElement(Iw,{top:16},c.createElement(Ei,null,"OR")),c.createElement(Iw,{top:16},c.createElement(vi,null,"This page might have been opened in a different browser than the bank link attempt was first made, paste this URL below into the original browser to complete the bank link."),c.createElement(Iw,{top:12},c.createElement("input",{value:window.location.href})),c.createElement(Iw,{top:24},c.createElement(B9,null,c.createElement(sx,{fullWidth:!0,onClick:h},"Go Back"))))))))},H9=u.div`
  max-width: 416px;
  margin: 0 auto;
`,W9=u.div`
  padding-top: 24px;
`,j9=u.div`
  padding-top: 8px;
  text-align: center;
`,G9=u.div`
  h5 {
    margin: 0;
  }
`,q9=u.div`
  padding-top: 24px;
  text-align: center;
`,Y9=u.div`
  padding-top: 36px;
  text-align: center;
  svg {
    height: 36px;
    width: 36px;
  }
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,K9=()=>{let e=window.origin;e||(e=window.location.origin);return e+"/plaid_webhook"},Q9=e=>{const{inline:t,onMissingLiveAccount:n,reauthToken:r}=e,[i,a]=c.useState(!1),[s,d]=c.useState(!1),[u,h]=c.useState(null),[p,m]=c.useState(null),[g,y]=c.useState(null),[_,f]=c.useState(null);if(c.useEffect((()=>{(async()=>{try{const e=["auth","identity"];let t=null;const{ok:i,environment:s,public_key:o,error:l}=await lC()();if("User does not have a live trading account"===l)return TC("Paper account was in live account onboarding path")(),void n();if(!r){const{ok:e,link_token:n}=await mv();if(!e)return void d(!0);t=n}const c=r||t;i&&!l&&c?(m(c),h(s),y(o),f(e),a(!0)):d(!0)}catch(Gs){console.error("Plaid Init Failure catch",Gs)}})(),TC("View Link Bank Account")()}),[]),t){if(s)return null;if(!i)return c.createElement(Sw,null)}return s?c.createElement(Lx,{width:"376px"},c.createElement(H9,null,c.createElement(W9,null,c.createElement(Ei,null,"Something went wrong. The page did not fully load. Try reloading the page.")),c.createElement(j9,null,c.createElement(hx,{fullWidth:!0,onClick:()=>window.location.reload()},"Reload Page")))):i?c.createElement(Z9,l(o({},e),{environment:u,plaidAccountToken:p,publicKey:g,products:_})):c.createElement(h9,null)},Z9=({inline:e,onPlaidCancel:t,onPlaidContinue:n,onPlaidLinkSuccess:r,onPlaidLinkFailure:i,bankAccountId:a,reauthToken:s,environment:l,plaidAccountToken:d,publicKey:u,products:h})=>{const p=P(),[m,g]=c.useState(!1),[y,_]=c.useState(null),[f,v]=c.useState(!1),E=c.useCallback((e=>{const t={contentComponent:bS(e),dismissable:!0,size:"wide"};bb(t)(p)}),[]),b=c.useCallback((()=>n(!0)),[]),C=c.useCallback((()=>(t&&t(),n(!1))),[]),x=c.useCallback((e=>{i(e)}),[]),[w]=c.useState({clientName:"Tornado",env:l,key:u,selectAccount:!0,product:h,token:d,webhook:K9(),receivedRedirectUri:null,onSuccess:async(e,t)=>{_(!0),g(!0);const n={Type:"On Success","Link Session Id":t.link_session_id,"Request Id":t.request_id};let i;TC("Plaid Event",n)();const l={public_token:e,account_id:t.account_id};if(s){i=await hb(o({tornadoBankAccountId:a},l))(p);const{bankAccountId:e}=i;return r&&r(e),void v(!0)}i=await ub(l)(p);const{ok:c,error:d,account:u}=i;if(c){const e=u.available_balance_scale;if(r&&r(u.id),!nk(e)){const t=xu(e);wu(t)}th.liveTradingSignUp.COMPLETED_BANK_ACCOUNT_LINK.send(),v(!0)}else{let e="Something went wrong. Unable to link bank account at this time. Please try again later.";"The selected account is already linked. Please try a different account."===d&&(e=d),E(e),th.liveTradingSignUp.LINK_PLAID_ACCOUNT_REQUEST_FAILURE.send({"Error Message":i.error||"unknown"}),x(e),_(!1)}},onExit:async(e,t)=>{_(!1),t.link_session_id,t.request_id,C()},onEvent:async(e,t)=>{const{link_session_id:n,request_id:r,error_type:i,error_code:a,error_message:s}=t;TC("Plaid Event",{Type:e,"Link Session Id":n,"Request Id":r,"Error Type":i,"Error Code":a,"Error Message":s})()}}),{open:S,exit:k,ready:T,error:I}=M(w);return c.useEffect((()=>{m&&k()}),[m]),c.useEffect((()=>{const e={wasReauth:!!s,linkToken:d,bankAccountId:a,pathname:window.location.pathname,search:window.location.search};return localStorage.setItem("plaid_link_reinit_metadata",JSON.stringify(e)),T&&S(),()=>{k()}}),[T,S]),e?f||I?null:y?c.createElement(Sw,{message:"Linking Bank Account..."}):null:I?c.createElement(Lx,{width:"376px"},c.createElement(H9,null,c.createElement(W9,null,c.createElement(Ei,null,"Something went wrong. The page did not fully load. Try reloading the page.")),c.createElement(j9,null,c.createElement(hx,{fullWidth:!0,onClick:()=>window.location.reload()},"Reload Page")))):f?c.createElement(Lx,{width:"600px"},c.createElement(G9,null,c.createElement(Y9,null,c.createElement(fx,null),c.createElement(Ii,null,"Bank Link Completed")),c.createElement(q9,null,c.createElement(hx,{fullWidth:!0,onClick:b},"Continue")))):y?c.createElement(h9,{message:"Linking Bank Account..."}):c.createElement(qx,null)},X9=u.div`
  padding-top: 24px;
  text-align: center;
`,J9=u.div`
  max-width: 400px;
`,eee=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,tee=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,nee=u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,ree=u.div`
  input {
    line-height: 24px;
  }
`,iee=u.div`
  position: relative;
`,aee=u.div`
  position: absolute;
  top: 0;
  right: -8px;
  z-index: 10;

  svg {
    g {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,see=u.div`
  padding: 16px 30px 16px 0;
`,oee=u.div`
  border-radius: 1px;
  border-width: 1px;
  border-style: solid;
  border-color: ${({theme:e})=>e.themeColors.border};
  opacity: 0.6;
`,lee=u.div`
  height: 24px;
  width: 22px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;

  svg {
    height: 22px;
    width: 22px;

    g {
      fill: ${({theme:e})=>e.themeColors.error};
    }
  }
`,cee=u.div`
  height: 24px;
  width: 22px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;

  svg {
    height: 18px;
    width: 18px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,dee=null,uee="is",hee="s",pee="err",mee="depositForm",gee="if",yee=u.div`
  width: 100%;
`,_ee=u.div`
  display: flex;
  justify-content: center;
  text-align: center;
`,fee=u.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-top: 8px;
  button {
    width: 326px;
  }
`;function vee({amount:e,recurringAmount:t,recurringDepositSuccessful:n,serverMessage:r}){const i=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"18px",lineHeight:"24px"}),a=gi({fontSize:"20px",lineHeight:"28px"},{fontSize:"20px",lineHeight:"28px"}),s=gi({fontSize:"14px",lineHeight:"28px"},{fontSize:"14px",lineHeight:"28px"}),o=gi({fontSize:"14px",lineHeight:"18px"},{fontSize:"14px",lineHeight:"18px"});return n?c.createElement(Iw,{top:36},c.createElement(pw,{fontSettings:i,bold:!0},"Transfers Requested Summary:"),c.createElement(Iw,{top:24,horizontal:8},c.createElement(Iw,{row:!0},c.createElement(pw,{fontSettings:s},"One time deposit amount:"),c.createElement(pw,{fontSettings:a},` $${e}`)),c.createElement(Iw,{top:8},c.createElement(pw,{fontSettings:s},`Status: ${r}`))),c.createElement(Iw,{top:24},c.createElement(oee,null)),c.createElement(Iw,{row:!0,top:16,horizontal:8},c.createElement(pw,{fontSettings:s},"Monthly recurring deposit amount:"),c.createElement(pw,{fontSettings:a,bold:!0},` $${t}`))):c.createElement(Iw,{top:16},c.createElement(Iw,{row:!0},c.createElement(pw,{fontSettings:s},"One time deposit amount:"),c.createElement(pw,{fontSettings:a,bold:!0},` $${e}`)),c.createElement(Iw,{top:8},c.createElement(pw,{fontSettings:o},`Status: ${r}`)))}const Eee=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})));function bee({text:e}){const t=gi({fontSize:"14px",lineHeight:"22px"},{fontSize:"14px",lineHeight:"22px"});return c.createElement(tee,null,c.createElement(lee,null,c.createElement(Eee,null)),c.createElement(Iw,{left:16},c.createElement(pw,{fontSettings:t},e)))}const Cee=({data:e,trackingMetadata:t,recurringAmount:n,modalState:r,errorMessage:i,onDepositComplete:a,onContinue:s,onDismiss:o})=>{if(r===uee)return c.createElement("div",null,c.createElement(Cw,{message:"Submitting Deposit"}));if(r===hee){const{amount:t,recurringAmount:n,recurringDepositSuccessful:r,serverMessage:i}=e,a=gi({fontSize:"14px",lineHeight:"28px"},{fontSize:"14px",lineHeight:"28px"}),o=gi({fontSize:"20px",lineHeight:"28px"},{fontSize:"20px",lineHeight:"28px"}),l=r?a:o,d=r?"Your deposit is being processed, and your recurring deposit has been scheduled successfully.":"Your deposit is being processed.";return c.createElement(J9,null,c.createElement(eee,null,c.createElement(nee,null,c.createElement(fx,null)),c.createElement(Iw,{verticallyCenter:!0,row:!0,left:16},c.createElement(pw,{fontSettings:l},d))),c.createElement(vee,{amount:t,recurringAmount:n,recurringDepositSuccessful:r,serverMessage:i}),c.createElement(X9,null,c.createElement(Iw,{top:r?24:0},c.createElement(hx,{onClick:s},"Continue"))))}if(r===pee){const{amount:t,recurringAmount:n,recurringDepositSuccessful:r,serverMessage:a}=e,s=gi({fontSize:"14px",lineHeight:"28px"},{fontSize:"14px",lineHeight:"28px"});return c.createElement("div",null,c.createElement(bee,{text:i}),r&&c.createElement(Iw,{row:!0,top:24,verticallyCenter:!0},c.createElement(cee,null,c.createElement(fx,null)),c.createElement(Iw,{left:16},c.createElement(pw,{fontSettings:s},`$${n} monthly recurring deposit was scheduled successfully.`))),c.createElement(X9,null,c.createElement("div",null,c.createElement(hx,{onClick:o},"Dismiss"))))}if(r===mee){const n={account_id:e.bankAccounts.length>0?e.bankAccounts[0].id:"",value:isNaN(e.amount)?"":e.amount.toString(),recurringAmount:e.recurringAmount},r=(e,t,n)=>{a(n)};return c.createElement(iee,null,c.createElement(aee,null,c.createElement(kx,{onClick:o})),c.createElement(ree,null,c.createElement(Ree,{trackingMetadata:t,initialFormValues:n,onContinue:r,useReauthHandler:!0,showDepositPicker:!0,showLinkBankAccountButton:!0,allowEmailAuth:!0})))}if(r===gee){const n={account_id:e.bankAccounts.length>0?e.bankAccounts[0].id:"",value:isNaN(e.amount)?"":e.amount.toString()},r=(e,t,n)=>{a(n)},i=gi({fontSize:"14px",lineHeight:"18px"},{fontSize:"16px",lineHeight:"20px"});return c.createElement(iee,null,c.createElement(aee,null,c.createElement(kx,{onClick:o})),c.createElement(see,null,c.createElement(pw,{fontSettings:i},"The bank account selected has insufficient funds for this transfer. Try adding a different bank account or lowering the transfer amount.")),c.createElement(ree,null,c.createElement(Ree,{trackingMetadata:t,initialFormValues:n,onContinue:r,allowEmailAuth:!0,useReauthHandler:!0,showDepositPicker:!0,showLinkBankAccountButton:!0})))}return null},xee=e=>{const{amount:t,recurringAmount:n,onDepositComplete:r,color:i,textColor:a,buttonProps:s,trackingMetadata:o,allowEmailAuth:l}=e,d=P(),u=II(),[h,p]=c.useState(!1),[m,g]=c.useState(!1),[y,_]=c.useState(dee),[f,v]=c.useState(!1),[E,b]=c.useState(!1),[C,x]=c.useState(null),[w,S]=c.useState(null),[k,T]=c.useState(null),{submitDeposit:I}=R9(l);c.useEffect((()=>{const e=async()=>{const{ok:t}=await ob()(d);t||setTimeout(e,1e3)};0===u.length&&e()}),[]),c.useEffect((()=>{1===u.length&&k!==u[0].id&&T(u[0].id)}),[k,u]);const N=()=>{S(null),_(dee)},A=c.useCallback((async({bankAccountId:e,recurringAmount:t,amount:n})=>{let r=e;if(f)return;if(th.funding.SUBMIT_DEPOSIT_FORM.send(),!r){if(0===u.length)return void g(!0);if(u.length>1)return void _(mee);r=u[0].id}const i={bankAccountId:r,amount:n};if(v(!0),_(uee),t>0){const e={amount:t,start_date:Yl("api2",Gl().add(1,"month")),account_id:r},{ok:n,errorMessage:i}=await nb(e,l)(d);n&&(th.funding.RECURRING_DEPOSIT_ADDED_SUCCESS.send({Amount:t,"Lesson ID":(null==o?void 0:o.lessonId)||null}),b(!0))}const a=await I(i),{ok:s,errorMessage:c,needsPlaidReauth:h,plaidAccountToken:m,noticeMessage:y}=a;if(s)x(y),_(hee),th.funding.SUBMIT_DEPOSIT_FORM_SUCCESS.send();else if(h)th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"plaid reauth required"}),_(dee),p(m),g(!0);else{const e=c||"Something went wrong, please try again";th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"API Error","Error Message":e}),(e=>{"The bank account has insufficient funds for this transfer."===e?_(gee):(S(e),_(pee))})(e)}v(!1)}),[k,t]),D=c.useCallback((e=>{g(!1)}),[]),O=c.useCallback((async e=>{T(e);const r={bankAccountId:e,amount:t,recurringAmount:n};await A(r)}),[t,n]),L=c.useCallback((()=>{}),[]),R=c.useCallback((()=>{window.reload()}),[]),F=y!==dee;return c.createElement(c.Fragment,null,f&&c.createElement(Sw,{message:"Processing..."}),m&&c.createElement(Q9,{reauthToken:h,onPlaidContinue:D,onPlaidLinkSuccess:O,onPlaidLinkFailure:L,onMissingLiveAccount:R,inline:!0}),F&&c.createElement(Hx,{restrictDismiss:y===uee,onDismiss:N},c.createElement(Cee,{data:{amount:t,bankAccounts:u,recurringAmount:n,recurringDepositSuccessful:E,serverMessage:C},trackingMetadata:o,modalState:y,errorMessage:w,onContinue:()=>{r(t)},onDepositComplete:e=>{r(e)},onDismiss:N})),n>0?c.createElement(yee,{fullWidth:!0},c.createElement(_ee,{centerAll:!0,bottom:4},c.createElement(Ei,{color:i},`$${t} Deposit + Start $${n} Recurring Monthly Deposit`)),c.createElement(fee,{row:!0},c.createElement(hx,{onClick:async()=>{const e={bankAccountId:k,amount:t,recurringAmount:n};await A(e)},color:i,textColor:a,buttonProps:s},"Start Deposits"))):c.createElement(hx,{fullWidth:!0,onClick:async()=>{const e={bankAccountId:k,amount:t};await A(e)},color:i,textColor:a,buttonProps:s},"Make ",ng(t,"price")," Deposit"))},wee=u.div`
  ${jC} {
    padding-left: ${({transparent:e})=>e?"0px":"16px"};
  }
`,See=u.div``,kee=({onLinkComplete:e,transparent:t})=>{const n=P(),r=II(),[i,a]=c.useState(!1),s=c.useCallback((async()=>{const{ok:e}=await ob()(n);e||setTimeout(s,1e3)}),[]);c.useEffect((()=>{0===r.length&&s()}),[]);const o=c.useCallback((()=>{a(!1)}),[]),l=c.useCallback((t=>{a(!1),t&&s(),e&&e()}),[]),d=c.useCallback((e=>{}),[]),u=c.useCallback((()=>{window.reload()}),[]);return c.createElement(wee,{transparent:t},i&&c.createElement(Q9,{onPlaidContinue:o,onPlaidLinkSuccess:l,onPlaidLinkFailure:d,onMissingLiveAccount:u,inline:!0}),c.createElement(See,null,c.createElement(hx,{className:r.length>0?"has-bank-linked":"no-bank-linked",fullWidth:!t,onClick:()=>{a(!0)},transparent:t},r.length>0?"+ LINK NEW BANK ACCOUNT":"LINK YOUR BANK ACCOUNT")))},Tee=u.div`
  margin-left: -16px;
`,Iee=u.div`
  position: relative;
  padding-top: 16px;

  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Nee=u.div`
  padding-top: 24px;
  text-align: center;
`,Aee=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 16px;
    width: 16px;
  }
`,Pee=u.div`
  padding-top: 8px;
`,Dee=u.div`
  display: flex;
  justify-content: center;
`,Oee=({showLinkBankAccountButton:e,initialFormValues:t,showDepositPicker:n,onContinue:r,trackingMetadata:i,buttonProps:a,onPlaidReauthRequired:s,onApiFailure:d,allowEmailAuth:u})=>{const h=P(),p=II(),[m,g]=c.useState(!0),[y,_]=c.useState(!1),[f,v]=c.useState(null),[E,b]=c.useState(!0),[C,x]=c.useState((null==t?void 0:t.value)||""),[w,S]=c.useState((null==t?void 0:t.account_id)||""),[k]=c.useState("deposit"),{bonusAmount:T}=(e=>{const[t,n]=c.useReducer(D9,A9,(()=>A9)),[r,i]=c.useState(!0),a=c.useCallback((async t=>{var s;const{ok:o,data:l}=await fb(qk(t));if(o&&!(null==l?void 0:l.error)){const{eligible:t,rewards:a}=l;if(t!==r&&i(t),t){const t=null==(s=a[0])?void 0:s.reward;n({type:P9,payload:{[e]:t}})}}else setTimeout((()=>{a(t)}),500)}),[r,i,n,e]);return c.useEffect((()=>{e in t||isNaN(qk(e))||""===e||a(e)}),[e,a]),{bonusAmount:O9(t,e),isEligible:r,getBonusCustomAmount:a}})(C),I=null==t?void 0:t.recurringAmount;c.useEffect((()=>{const e=async()=>{const{ok:t}=await ob()(h);t?b(!1):setTimeout(e,1e3)};0===p.length?e():b(!1)}),[]),c.useEffect((()=>{1===p.length&&w!==p[0].id&&S(p[0].id)}),[w,p]);const N=c.useCallback((e=>e=>{x(e)}),[x]),A=c.useCallback((async e=>{const t=l(o({},n=e),{amount:qk(n.amount)});var n;if(_(!0),I>0){const e={amount:I,start_date:Yl("api2",Gl().add(1,"month")),account_id:w},{ok:t,errorMessage:n}=await nb(e,u)(h);t&&th.funding.RECURRING_DEPOSIT_ADDED_SUCCESS.send({Amount:I,"Lesson ID":(null==i?void 0:i.lessonId)||null})}return gb(t,u)(h)}),[w,I]),D=c.useCallback((async()=>{th.funding.SUBMIT_DEPOSIT_FORM.send();if(!(""!==C&&qk(C)>0))return v("You must enter an amount"),th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"No amount entered"}),{ok:!1};if(!w)return th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"No bank selected"}),v("You must select a bank account"),{ok:!1};const e={account_id:w,amount:C,funding_operation:k},{ok:t,noticeMessage:n,errorMessage:i,needsPlaidReauth:a,plaidAccountToken:o}=await A(e);if(t)_(!1),th.funding.SUBMIT_DEPOSIT_FORM_SUCCESS.send(),r(!0,{noticeMessage:n},C);else{if(!a)return th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"API Error","Error Message":i}),v(i||"Something went wrong, please try again"),d&&d(),_(!1),{ok:!1};th.funding.SUBMIT_DEPOSIT_FORM_FAILURE.send({Reason:"plaid reauth required"}),s(o,e,(()=>D()))}}),[w,C]);if(!m)return c.createElement(h9,null);const O=1===p.length?[so({text:`${p[0].account_type} (...${p[0].account_number_ending})`,value:p[0].id})]:[so({text:"Please Select...",value:""}),so({text:"---",value:"---",disabled:!0}),...p.map((e=>so({text:`${e.account_type} (...${e.account_number_ending})`,value:e.id})))];return c.createElement("div",null,c.createElement("div",null,c.createElement(Iee,null,E?c.createElement("div",null,c.createElement(Aee,null,c.createElement(_w,null),c.createElement("div",{style:{paddingLeft:"8px"}},c.createElement(Ei,null,"Loading Bank Accounts, please wait...")))):c.createElement(c.Fragment,null,p.length>0&&c.createElement(Io,{name:"bankAccount",value:w,label:"Bank Account",items:O,onChange:e=>e=>{S(e)},error:null}),e&&c.createElement("div",null,c.createElement(kee,{transparent:p.length>0})))),c.createElement(Iee,null,c.createElement(ko,{name:"amount",value:C,prefix:"$",label:"Amount",onChange:N,maskType:Gr,error:null,autoFocus:!0}),!isNaN(qk(T))&&qk(T)>=0&&c.createElement(Pee,null,qk(T)>0?c.createElement(Ei,null,`+ $${hk(T)} Bonus`):c.createElement(Ei,null,"Higher Deposit Amount Required For Funding Bonus"))),n&&c.createElement(Tee,null,c.createElement(N9,{bankAccountId:w,value:C,onSelect:e=>{x(e)}}))),c.createElement(Nee,null,c.createElement("div",{style:{paddingTop:"16px"}},c.createElement(E9,{error:f,isSubmitting:y}),c.createElement(Dee,{style:{opacity:0===p.length?.6:1}},c.createElement(hx,{isDisabled:y,fullWidth:!0,onClick:D,buttonProps:a},"Submit")))))},Lee=e=>{const[t,n]=c.useState(!1),[r,i]=c.useState(!1),[a,s]=c.useState(null),[d,u]=c.useState(!1),h=c.useCallback((async(e,t,r)=>{i(e),n(t.account_id),s(r)}),[i,s,n]),p=c.useCallback((e=>{u(!1)}),[]),m=c.useCallback((async e=>{a()}),[]),g=c.useCallback((()=>{}),[]),y=c.useCallback((()=>{window.reload()}),[]);return c.createElement(c.Fragment,null,d&&c.createElement(Q9,{bankAccountId:t,reauthToken:r,onPlaidContinue:p,onPlaidLinkSuccess:m,onPlaidLinkFailure:g,onMissingLiveAccount:y,inline:!0}),c.createElement(Oee,l(o({},e),{onPlaidReauthRequired:h})))},Ree=e=>{const{useReauthHandler:t}=e;return t?c.createElement(Lee,o({},e)):c.createElement(Oee,o({},e))},Fee=u.div`
  padding: 0 8px;
`,Mee=u.div``,Uee=u.div`
  margin: 24px 0 0 0;
  padding: 16px 24px;
  background: ${Fk(vr.primary.oak,.6)};
  border-radius: 5px;

  .sc-input-wrapper {
    border-color: ${vr.primary.charcoal};
  }
  select {
    border-color: ${vr.primary.charcoal} !important;
  }

  .base-text,
  .input-text-prefix,
  input,
  select,
  label {
    color: ${vr.primary.charcoal} !important;
  }
  input {
    line-height: 24px;
  }

  ${b9} {
    ${C9} {
      border-color: ${vr.primary.charcoal};

      &:hover {
        border-color: ${vr.primary.charcoal};
        background: ${vr.primary.charcoal};

        * {
          color: ${vr.primary.oak} !important;
        }
      }
      &.is-selected {
        border-color: ${vr.primary.charcoal};
        background: ${vr.primary.charcoal};

        * {
          color: ${vr.primary.oak} !important;
        }
      }
    }

    @media (max-width: 550px) {
      flex-wrap: wrap;

      ${C9} {
        //max-width: 100px;
        height: 46px;
        min-width: 70px;
        width: auto;
      }

      ${x9} {
        * {
          font-size: 12px !important;
          line-height: 18px !important;
        }
      }
      ${w9} {
        * {
          font-size: 10px !important;
          line-height: 18px !important;
        }
      }
    }
  }

  ${See} {
    ${jC} {
      border: none;
      background: none;
      color: ${vr.primary.charcoal};

      * {
        color: ${vr.primary.charcoal};
      }

      :hover {
        opacity: 0.8;
        border: none;
        background: none;
        color: ${vr.primary.charcoal};

        * {
          color: ${vr.primary.charcoal};
        }
      }
    }

    .no-bank-linked {
      transition: all 200ms;
      border: ${vr.primary.charcoal};
      background: ${vr.primary.charcoal};
      color: ${vr.primary.oak};

      * {
        color: ${vr.primary.oak};
      }

      :hover {
        opacity: 0.8;
        border: ${vr.primary.charcoal};
        background: ${vr.primary.charcoal};
        color: ${vr.primary.oak};

        * {
          color: ${vr.primary.oak};
        }
      }
    }
  }
  ${Dee} {
    ${jC} {
      border-color: ${vr.primary.charcoal};
      background: ${vr.primary.charcoal};

      * {
        color: ${vr.primary.oak};
      }

      :hover {
        border-color: ${vr.primary.charcoal};
        background: ${vr.primary.charcoal};

        * {
          color: ${vr.primary.oak};
        }
      }
    }
  }
`,$ee=({onDepositComplete:e,onComplete:t})=>{const n=vr.primary.charcoal,r=II(),[i,a]=c.useState({account_id:(null==r?void 0:r.length)>0?r[0].id:"",value:"100"});return c.createElement(Fee,null,c.createElement(Mee,null,c.createElement(J8,{data:[{text:"Let's start your investing journey with a deposit."}],textColor:n}),c.createElement(Uee,null,c.createElement(Ree,{initialFormValues:i,onContinue:(t,n,r)=>{e(r)},showDepositPicker:!0,useReauthHandler:!0,showLinkBankAccountButton:!0,allowEmailAuth:!0}))),c.createElement("div",{style:{padding:"24px 0 0 0",textAlign:"center"}},c.createElement(hx,{transparent:!0,height:20,onClick:()=>{t()},fullWidth:!0,color:n,buttonProps:{overrideContext:"Lesson Completed"}},"END LESSON WITHOUT DEPOSIT")))};U.register(...B);const Bee=u.div`
  padding-top: 16px;

  position: relative;
  margin: auto;
  max-width: 600px;
  width: 95%;
  height: ${({height:e})=>e?`${e}`:"auto"};

  @media (max-width: 420px) {
    padding-top: 0;
    //max-width: 260px;
  }
`,zee=u.div`
  padding-top: 12px;
  text-align: center;

  @media (max-width: 420px) {
    padding-top: 0;
  }
`,Vee={responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{callback:function(e){return B_(e,"priceInt")}}},x:{grid:{display:!1},ticks:{rotation:0,callback:function(){return""}}}},animation:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:function(e){const t=e[0],{label:n}=t;return`Year ${n}`},label:function(e){return""},afterBody:function(e){const t=e[0],{raw:n}=t;return B_(n,"price")}}}}},Hee=({dataset:e})=>{const{height:t}=jx(),n=c.useRef(null),r=vr.primary.charcoal;return e?c.createElement("div",null,c.createElement(Bee,{height:t<776?"160px":"220px"},c.createElement(O,{ref:n,type:"line",data:e,options:Vee})),c.createElement(zee,null,c.createElement(Ei,{color:r,isLowContrast:!0,thin:!0},"Past returns do not guarantee future results."))):null},Wee=u.div`
  padding: 24px 0 8px 0;
  text-align: center;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
`,jee=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,Gee=u.div`
  padding: 0 0 3px 0;

  select {
    border: 1px solid ${vr.primary.charcoal} !important;
    color: ${vr.primary.charcoal} !important;
    border-radius: 6px;
    padding: 4px;
    height: 32px;
    width: ${({size:e})=>"small"===e?"64px":"medium"===e?"80px":"104px"};
    background: transparent !important;
    -webkit-appearance: auto;
    margin: 0 auto;

    option {
      background: transparent !important;
      color: ${vr.primary.charcoal} !important;
    }
  }
`,qee=u.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  row-gap: 8px;
`,Yee=u.div`
  line-height: 32px;
`,Kee=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
`,Qee=gi({fontSize:"16px",lineHeight:"28px"},{fontSize:"20px",lineHeight:"28px"}),Zee=gi({fontSize:"24px",lineHeight:"28px"},{fontSize:"28px",lineHeight:"28px"}),Xee=({lessonId:e,defaultInputs:t,inRecurringDepositTestGroup:n,showDepositCompletedModal:r,handleDepositComplete:i,handleDepositSkip:a})=>{const[s,d]=c.useState(t.startingValue),[u,h]=c.useState(t.recurringDepositAmount),[p,m]=c.useState(t.recurringRate),[g,y]=c.useState(t.horizonYears),[_,f]=c.useState(t.returnRate),v=c.useMemo((()=>({startingValue:s,recurringDepositAmount:u,recurringRate:p,horizonYears:g,returnRate:_})),[s,u,p,g,_]),[E,b]=c.useState(0),[C,x]=c.useState(null);c.useEffect((()=>{const{labels:e,data:t,totalValue:n}=(({startingValue:e,recurringDepositAmount:t,recurringRate:n,horizonYears:r,returnRate:i})=>{const a={labels:[0],data:[e]},{totalValue:s,timeStepCalculator:c}=$l({startingValue:e,recurringDepositAmount:t,recurringRate:n,horizonYears:r,returnRate:i});return bl(r,(e=>{const t=e+1,n=qk(c(t).toFixed(2));a.labels.push(t),a.data.push(n)})),l(o({},a),{totalValue:s})})(v);b(n);const r=(e=>({label:"Compounded Value",data:e,fill:!1,borderColor:vr.primary.charcoal,borderCapStyle:"butt",pointBorderColor:"rgba(0,0,0, 0)",pointBackgroundColor:"rgba(0,0,0, 0)",pointBorderWidth:1,pointHoverRadius:3,pointHoverBackgroundColor:vr.primary.charcoal,pointHoverBorderColor:vr.primary.charcoal,pointHoverBorderWidth:2,pointHitRadius:10}))(t);x({labels:e,datasets:[r]})}),[v]),c.useEffect((()=>{th.learn.RECURRING_INVESTMENT_TOOL_FORM_UPDATE.send({"Initial Investment Value":s,"Recurring Deposit Amount":u,"Recurring Rate":p,"Horizon Years":g,"Return Rate":_});eb({starting_value:s,recurring_deposit_amount:u,horizon_years:g,return_rate:_})}),[s,u,p,g,_]);const w=vr.primary.charcoal;return c.createElement("div",null,c.createElement(qee,null,c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"An initial investment of",c.createElement(zz,null))),c.createElement(Gee,null,c.createElement(Io,{label:null,items:kl,value:s,onChange:e=>e=>{const t=parseInt(e,10);d(t),th.learn.RECURRING_INVESTMENT_TOOL_FORM_INPUT_CHANGE.send({"Initial Investment Value":t,"Input Name":"Initial Investment Value","Input Value":t})},name:"start",error:null})),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},c.createElement(zz,null),"and a",c.createElement(zz,null))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"recurring",c.createElement(zz,null))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"monthly",c.createElement(zz,null))),c.createElement(Yee,null,c.createElement(Kee,null,c.createElement(pw,{fontSettings:Qee,color:w},"investment of",c.createElement(zz,null)),c.createElement(Gee,{size:"medium"},c.createElement(Io,{label:null,items:Tl,value:u,onChange:e=>e=>{const t=parseInt(e,10);h(t),th.learn.RECURRING_INVESTMENT_TOOL_FORM_INPUT_CHANGE.send({"Recurring Deposit Amount":t,"Input Name":"Recurring Deposit Amount","Input Value":t})},name:"start",error:null})))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},c.createElement(zz,null),"can grow to",c.createElement(zz,null))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Zee,color:w,bold:!0},"$",ng(E,"priceFloat"))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},c.createElement(zz,null),"after",c.createElement(zz,null))),c.createElement(jee,null,c.createElement(Gee,{size:"small"},c.createElement(Io,{label:null,items:Il,value:g,onChange:e=>e=>{const t=parseInt(e,10);y(t),th.learn.RECURRING_INVESTMENT_TOOL_FORM_INPUT_CHANGE.send({"Horizon Years":t,"Input Name":"Horizon Years","Input Value":t})},name:"start",error:null})),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},c.createElement(zz,null),"years",c.createElement(zz,null)))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"with an",c.createElement(zz,null))),c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"average yearly",c.createElement(zz,null))),c.createElement(Kee,null,c.createElement(Yee,null,c.createElement(pw,{fontSettings:Qee,color:w},"return of",c.createElement(zz,null))),c.createElement(Gee,{size:"small"},c.createElement(Io,{label:null,items:Al,value:_,onChange:e=>e=>{const t=parseFloat(e);f(t),th.learn.RECURRING_INVESTMENT_TOOL_FORM_INPUT_CHANGE.send({"Return Rate":t,"Input Name":"Return Rate","Input Value":t})},name:"start",error:null})))),c.createElement(Wx,{top:16},C&&c.createElement(Hee,{dataset:C})),c.createElement(Wee,null,c.createElement(xee,{amount:s,trackingMetadata:{lessonId:e},recurringAmount:n?u:null,onDepositComplete:i,color:vr.primary.charcoal,textColor:vr.primary.oak,buttonProps:{overrideContext:"Lesson Completed"},fullWidth:!0,allowEmailAuth:!0})),c.createElement("div",{style:{padding:"0 0",textAlign:"center"}},c.createElement(hx,{transparent:!0,height:20,onClick:()=>{a()},fullWidth:!0,color:w},"CONTINUE")))},Jee={startingValue:100,recurringDepositAmount:10,recurringRate:Sl,horizonYears:40,returnRate:.09},ete={startingValue:100,recurringDepositAmount:20,recurringRate:Sl,horizonYears:40,returnRate:.09},tte={startingValue:100,recurringDepositAmount:10,recurringRate:Sl,horizonYears:50,returnRate:.09},nte=e=>{let t=0;null==e||e.forEach((e=>{const n=e.deposit_amounts.slice(-1)[0];n>t&&(t=n)}));const n=t>0?t:Jee.startingValue,r=(e=>{const t=kl.map((e=>e.value));let n=t[0];return t.forEach((t=>{t<=e&&(n=t)})),n})(n),i=(e=>{const t=.1*e,n=Tl.map((e=>e.value));let r=n[0];return n.forEach((e=>{e<=t&&(r=e)})),r})(n);return l(o({},Jee),{startingValue:r,recurringDepositAmount:i})};u.div`
  h3 {
    margin: 0;
    line-height: 1.1;
  }
`,u.div`
  padding-top: 24px;
  text-align: center;
`,u.div`
  text-align: center;
`,u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`;const rte=[{text:'As Benjamin Franklin put it, "'},{text:"Money makes money. ",bold:!0},{text:' And the money that money makes, makes money."'}],ite=({lessonId:e,onComplete:t,lessonReward:n,recurringInputDefaults:r})=>{const i=P(),{lesson:a}=N1(e),{name:s,heading:o,sponsorId:l,moreOnTopicUrl:d,metadata:u,componentData:h}=a,p=null==u?void 0:u.enableRecurringDeposit,m=(null==h?void 0:h.textBodyData)||rte,[g,y]=c.useState(0),_=async n=>{th.learn.COMPLETED_DEPOSIT_LEARN_DEPOSIT_LESSON.send({Amount:qk(n),"Lesson ID":e}),t()},f=[c.createElement(Z7,{key:1,textBodyData:m}),c.createElement(Xee,{lessonId:e,defaultInputs:r,key:2,handleDepositComplete:_,handleDepositSkip:()=>{C()},inRecurringDepositTestGroup:p}),c.createElement(l9,{defaultInputs:r,key:3}),c.createElement($ee,{key:4,onDepositComplete:_,onComplete:t})],v=c.useMemo((()=>({lessonId:e,lessonName:s,lessonHeading:o,sponsorId:l,moreOnLessonTopicUrl:d})),[e,s,o,l,d]),E=c.useMemo((()=>f.map((e=>({contents:e,metadata:v})))),[f,l,v]),b=E.length,C=()=>{const e=Math.min(b-1,g+1);y(e)};return c.useEffect((()=>{const t=g+1;th.learn.VIEW_LEARN_LESSON_SCREEN.send({"Sponsor ID":l,"Lesson ID":e,Subject:s,Slide:t});JE({lesson_id:e,page_number:t,completed:!1})(i)}),[g]),c.createElement(A7,null,c.createElement(r7,{metadata:v,lessonHeading:o,lessonReward:n,activeScreenIndex:g}),c.createElement(_7,{items:E,metadata:v,lessonReward:n,activeScreenIndex:g,advanceScreen:C,previousScreen:()=>{const e=Math.max(0,g-1);y(e)},hideTapPanels:1===g},f[g]),[0,2].includes(g)?c.createElement(l7,{lessonId:e,metadata:v,onComplete:t,advanceScreen:C,isLastScreen:b===g+1}):null)},ate=({lessonId:e,onComplete:t,lessonReward:n})=>{const r=P(),i=ZT(),{deposit_lesson_longer_default_test_group:a,deposit_lesson_larger_default_test_group:s}=i,o=1===a,l=1===s,[d,u]=c.useState(!1),[h,p]=c.useState(o?tte:l?ete:Jee);return c.useEffect((()=>{(async()=>{(e=>1===e.deposit_lesson_default_by_bank_balance_test_group)(i)&&await(async()=>{const{ok:e,accounts:t}=await ib()(r);if(e){const e=nte(t);p(e)}})(),u(!0)})()}),[]),d?c.createElement(ite,{lessonId:e,onComplete:t,lessonReward:n,recurringInputDefaults:h}):c.createElement(A7,null,c.createElement(Cw,{message:"Loading Lesson...",vertical:!0,color:vr.primary.charcoal}))};u.div`
  margin: 16px auto;
  padding: 16px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 5px;
  text-align: center;

  max-width: 480px;

  @media (max-width: 740px) {
    margin: 0 auto;
    max-width: 382px;
  }
`,u.div`
  padding: 8px 0;

  svg {
    width: 240px;
  }

  @media (max-width: 740px) {
    padding: 8px 0;
  }
`,u.div`
  padding: 8px 0;
  margin: 0 auto;
  max-width: 390px;

  @media (max-width: 740px) {
    max-width: 262px;
    padding: 0 16px;
  }
`;const ste=u.div`
  text-align: center;
  padding-top: 2px;
  padding-right: 16px;

  svg {
    height: 24px;
    width: 24px;
    g {
      fill: ${vr.primary.charcoal};
    }
  }
`,ote=u.div`
  button {
    width: 268px;
  }
`,lte=u.div`
  max-width: ${({width:e})=>e||"800px"};
  position: relative;
  margin: 12px auto;
  padding: 16px 24px;
  border-radius: 5px;
  text-align: left;
  cursor: default;

  background: ${({theme:e,transparentBackground:t})=>t?"transparent":e.screenSize===Vr?e.colorThemeName===Er.light?vr.secondary.white:vr.primary.charcoal:e.themeColors.component};
  color: ${({theme:e})=>e.themeColors.text};

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    margin-top: 0;
    margin-bottom: 0;
    border-radius: 0;

    max-width: 100%;
    width: 100%;
    height: ${({expandHeight:e,height:t})=>t||e?"calc(100vh - 64px)":"unset"}; // 64px === nav height
    max-height: ${({expandHeight:e})=>e?"800px":"unset"}; // 64px === nav height
  }

  @media (max-width: 390px) {
    padding: 16px;
  }
  @media (max-width: 340px) {
    padding: 8px;
  }
`,cte=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
`,dte=()=>{const e=vr.primary.charcoal,t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"36px"});return c.createElement(cte,null,c.createElement(ste,null,c.createElement(fx,null)),c.createElement(pw,{fontSettings:t,color:e},"Lesson complete"))},ute=({lessonId:e})=>{const t=b();N1(e);const n=vr.primary.charcoal,r=vr.primary.oak;return c.createElement("div",{style:{textAlign:"center",padding:"16px 0"}},c.createElement(ote,null,c.createElement(hx,{color:n,textColor:r,onClick:()=>{th.learn.PRESS_TO_HOME_SHARED_LEARN_LESSON.send({"Lesson ID":e}),t(en.build())}},"To Home")))},hte=({lessonId:e})=>{const t=b(),{lesson:n}=N1(e),{name:r,sponsorId:i,metadata:a}=n,s=vr.primary.charcoal,o=vr.primary.oak,l=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"36px",lineHeight:"48px"});return c.createElement("div",{style:{textAlign:"center",padding:"16px 0 24px 0"}},c.createElement(pw,{fontSettings:l,bold:!0,center:!0,color:s},"Want more?"),c.createElement("div",{style:{textAlign:"center",padding:"36px 0 0 0"}},c.createElement("div",{style:{maxWidth:"540px",margin:"0 auto"}},c.createElement(_i,null,"Sign up for a FREE ",Jo," account to get access to daily Learn & Earn content and start earning rewards!"))),c.createElement("div",{style:{textAlign:"center",padding:"16px 0 0 0"}},c.createElement(Ei,{bold:!0},"Investors on ",Jo," grow together.")),c.createElement("div",{style:{textAlign:"center",padding:"36px 0 16px 0"}},c.createElement(ote,null,c.createElement(hx,{color:s,textColor:o,onClick:()=>{th.learn.PRESS_SIGNUP_NOW_SHARED_LEARN_LESSON.send({"Sponsor ID":i,"Lesson ID":e,Subject:r}),t(Jt.build())}},"SIGN UP NOW"))))},pte=e=>{const{lessonId:t}=e,n=!!eI(),{lesson:r}=N1(t),{name:i,sponsorId:a}=r;return c.useEffect((()=>{th.learn.VIEW_SHARED_LEARN_LESSON_COMPLETE_SCREEN.send({"Sponsor ID":a,"Lesson ID":t,Subject:i}),pl.learn.LEARN_LESSON_REWARD_VIEWED.send({lesson_id:t,lesson_name:i,xp_possible:0})}),[]),c.createElement("div",null,c.createElement(lte,null,c.createElement(dte,null)),c.createElement(Lx,{maxWidth:"600px",style:{position:"relative",overflow:"hidden"}},c.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1}},c.createElement(w7,null)),c.createElement("div",{style:{position:"relative",zIndex:2}},n?c.createElement(ute,{lessonId:t}):c.createElement(hte,{lessonId:t}))))},mte={[EI]:"More lessons coming soon",[bI]:"Want to unlock more lessons?\nOpen a live trading account and place your first deposit to complete your account setup.\nPut your knowledge into practice and grow your skills. Invest in yourself and we will, too",[CI]:"Want to unlock more lessons?\nPlace your first deposit to complete your account setup.\nPut your knowledge into practice and grow your skills. Invest in yourself and we will, too.",[xI]:"Come back tomorrow for new lessons!"},gte=u.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  z-index: 10;

  display: flex;
  flex-direction: column;
  flex: 1;
`,yte=u.div`
  padding: 4px 0 0 0;
  word-break: break-word;
`,_te=u.div`
  background: ${({theme:e})=>e.themeColors.componentNoOpacity};

  display: flex;
  flex-direction: column;
  flex: 1;
  position: relative;
  padding: 0 24px;
`,fte=u.div`
  display: flex;
  flex-direction: column;
  flex: 1;
`,vte=gi({fontSize:"16px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"}),Ete=({data:e,color:t})=>{const{text:n,slides:r,link:i,blogPostName:a,blogPost:s}=e;return s?c.createElement("div",{style:{padding:"0 0 16px 0"}},c.createElement(fi,null,"Read more in our blog post here: "),(s||i)&&c.createElement(yte,null,c.createElement(fi,null,c.createElement("a",{target:"_blank",href:s||i},s?a:i)))):c.createElement("div",{style:{padding:"0 0 16px 0"}},c.createElement(fi,null,n),i&&c.createElement(yte,null,c.createElement(fi,null,c.createElement("a",{href:i},i))))},bte=({lessonId:e})=>{const t=N1(e),{disclaimers:n,heading:r,name:i}=(null==t?void 0:t.lesson)||{},[a,s]=F();c.useEffect((()=>{th.learn.VIEW_LEARN_DISCLAIMER_SCREEN.send({Subject:i,"Lesson ID":e}),pl.learn.LEARN_LESSON_DISCLAIMER_VIEWED.send({lesson_id:e,lesson_name:i,xp_possible:200})}),[]);return c.createElement(gte,null,c.createElement(_te,null,c.createElement(fte,null,c.createElement("div",{style:{padding:"24px 0"}},r&&c.createElement(pw,{uppercase:!0,fontSettings:vte,bold:!0},`Learn About ${r}`),c.createElement("div",{style:{padding:"8px 0 0 0"}},c.createElement(yi,null,"More Information"))),c.createElement("div",{style:{padding:"8px 0 0 0 "}},n&&0!==n.length?n.map(((e,t)=>c.createElement(Ete,{key:t,data:e}))):c.createElement("div",null,c.createElement(fi,null,"Check out more interesting articles at our blog: "),c.createElement("a",{href:"https://www.blog.tornado.com",target:"_blank"},"blog.tornado.com")))),c.createElement(Iw,{top:36,bottom:16,centerAll:!0},c.createElement(sx,{onClick:()=>{a.has("showMoreInfo")&&(a.delete("showMoreInfo"),s(a))},buttonProps:{width:"225px"},fullWidth:!0},"GO BACK"))))},Cte=u.div`
  text-align: center;

  @keyframes spin-cycle {
    from {
      fill: ${sD.primary.charcoal};
      transform: scale(1);
    }
    to {
      fill: rgba(255, 255, 255, 0);
      transform: scale(1);
    }
  }
`,xte={[hI]:ate},wte=()=>{const e=vr.primary.charcoal;return c.createElement(A7,null,c.createElement(Iw,{top:100},c.createElement(Cte,null,c.createElement(KC,null)),c.createElement("div",{style:{textAlign:"center"}},c.createElement(yi,{color:e},"Loading Lesson...")),c.createElement("div",{style:{height:"300px"}})))},Ste=()=>{const e=vr.primary.charcoal,t=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"36px",lineHeight:"42px"});return c.createElement(A7,null,c.createElement(Iw,{top:24,style:{textAlign:"center"}},c.createElement(Iw,null,c.createElement(Cte,null,c.createElement(KC,null))),c.createElement("div",null,c.createElement(pw,{fontSettings:t,bold:!0,center:!0,color:e},"Checking Reward Progress..."))),c.createElement("div",{style:{textAlign:"center",padding:"148px 0 188px 0"}},c.createElement("div",null,c.createElement(yi,{color:e},"Keep learning and earning on Tornado.")),c.createElement("div",{style:{padding:"4px 0 0 0"}},c.createElement(yi,{color:e,bold:!0},"Invest in yourself, and we will too."))))},kte=({status:e})=>{const t=b(),n=vr.primary.charcoal,r=vr.primary.oak,i=mte[e];return c.createElement(A7,null,c.createElement(Iw,{flex:1,top:24,column:!0,fullWidth:!0},c.createElement(Iw,null,c.createElement(wi,{bold:!0,color:n},"Learn")),c.createElement("div",null,c.createElement(wi,{bold:!0,color:n},"& Earn")),c.createElement(Iw,{top:48},c.createElement(yi,{color:n},i||"Come back tomorrow for more lessons!"))),c.createElement(Iw,{vertical:16,fullWidth:!0,centerAll:!0},c.createElement(sx,{color:vr.primary.charcoal,hoverTextColor:r,onClick:()=>{t(en.build())},fullWidth:!0},"Got it")))},Tte=u.div`
  display: flex;
  flex-direction: column;
  flex: 1;
`,Ite=()=>{const e=gi({fontSize:"36px",lineHeight:"48px"},{fontSize:"48px",lineHeight:"54px"}),t=gi({fontSize:"18px",lineHeight:"28px"},{fontSize:"18px",lineHeight:"28px"}),n=vr.primary.charcoal;return c.createElement(A7,null,c.createElement(Tte,null,c.createElement(Wx,{top:36},c.createElement(pw,{fontSettings:e,bold:!0,color:n},"Learn")),c.createElement(Wx,{top:0},c.createElement(pw,{fontSettings:e,bold:!0,color:n},"& Earn")),c.createElement(Wx,{top:48,bottom:48},c.createElement(pw,{fontSettings:t,color:n},"Refresh the page to get the latest Learn & Earn content."))),c.createElement(Iw,{centerAll:!0,fullWidth:!0},c.createElement(hx,{fullWidth:!0,color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:()=>{var e;return null==(e=null==window?void 0:window.location)?void 0:e.reload()}},"Refresh")))},Nte=()=>{const e=b(),t=D((e=>e.learn.lessonNameLookup)),{nextLessonId:n,status:r,areNoMoreLessons:i,fetchNextLesson:a}=SI(),[s,o]=c.useState(null),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[p,m]=c.useState(!1);return c.useEffect((()=>{const{location:e}=window,r=(null==e?void 0:e.search)||"",i=fe(r),s=null==i?void 0:i.lesson;if(s){const e=t[q0(s)];e&&(o(e),d(!0))}else if(m(!0),El(n)){setTimeout(a,200)}else o(n),d(!0)}),[]),c.useEffect((()=>{p&&!l&&!s&&n&&(o(n),d(!0))}),[p,n]),c.useEffect((()=>{null===r||l||(h(!0),d(!0))}),[r,l]),c.useEffect((()=>{i&&!l&&e(On.build())}),[i,l]),l?!s&&null!==r||!s&&u?c.createElement(kte,{status:r}):c.createElement(Ote,{lessonId:s}):c.createElement(wte,null)},Ate=({name:e})=>{const t=q0(e),[n,r]=c.useState(null),[i,a]=c.useState(!1),[s,o]=c.useState(!1);return c.useEffect((()=>{const e=T1[t];e?(r(e),a(!0)):(o(!0),a(!0))}),[]),i?s?c.createElement("div",null,"Lesson does not exist"):c.createElement(Dte,{lessonId:n}):c.createElement(wte,null)},Pte=e=>{const{lessonId:t,lessonData:n,isPublic:r}=e,[i]=F(),a=i.get("showMoreInfo"),{rewardAmount:s,earnedXPOnly:l,lockedRewardsAmount:d,completedLessonCount:u,completedPublicLesson:h,isCompletingLesson:p,lessonReward:m,onComplete:g}=((e,t)=>{const n=P(),r=N1(e),{name:i,lessonContents:a,sponsorId:s}=r,{completedLessonCount:o}=SI(),{lessonReward:l,willLessonCompletionGrantReward:d,lessonsAwayFromNextReward:u}=Q7(),[h,p]=c.useState(o||0),[m,g]=c.useState(null),[y,_]=c.useState(null),[f,v]=c.useState(null),[E,b]=c.useState(!1),[C,x]=c.useState(!1);return{rewardAmount:y,earnedXPOnly:f,lockedRewardsAmount:m,completedLessonCount:h,isCompletingLesson:C,completedPublicLesson:E,lessonReward:l,onComplete:async()=>{if(t)return b(!0),void th.learn.COMPLETE_LEARN_LESSON.send({Subject:i,"Lesson ID":e,"Sponsor ID":s,"Reward Amount":null,"Locked Rewards":null});x(!0);const r=await JE({lesson_id:e,page_number:(null==a?void 0:a.length)||0,completed:!0})(n),{ok:o,data:l,errorMessage:c}=r;if(o){await XE()(n),p(h+1);const{reward_amount:t,value:r,locked_rewards:a}=l;g(a),t>0?_(t):v(!0),th.learn.COMPLETE_LEARN_LESSON.send({Subject:i,"Lesson ID":e,"Sponsor ID":s,"Reward Amount":t,"Locked Rewards":a})}else{const e={contentComponent:bS(c),size:"wide",dismissable:!0};bb(e)(n),x(!1)}}}})(t,r),{lessonType:y,lessonContents:_,componentType:f}=n;if(y===mI&&!_||y===gI&&!f)return window.location=en.build(),null;if(h)return c.createElement(pte,{lessonId:t});if(null!==s||null!==l){const e={};return c.createElement(K7,o({lessonId:t,rewardAmount:s,lockedRewardsAmount:d,completedLessonCount:u},e))}if(p)return c.createElement(Ste,null);if(!y)return c.createElement(Ite,null);if(y===gI){const e=xte[f];return c.createElement(e,{lessonId:t,lessonReward:m,onComplete:g})}return c.createElement(A7,null,a&&c.createElement(bte,{lessonId:t}),c.createElement(x7,{lessonId:t,lessonReward:m,onComplete:g}))},Dte=({lessonId:e})=>{const{isLoading:t,lesson:n}=N1(e);return t?c.createElement(wte,null):n?c.createElement(Pte,{lessonId:e,isPublic:!0}):c.createElement(Ite,null)},Ote=({lessonId:e})=>{const{isLoading:t,lesson:n}=N1(e,!0);return t?c.createElement(wte,null):n?c.createElement(Pte,{lessonData:n,lessonId:e}):c.createElement(Ite,null)},Lte=()=>{const e=vr.primary.charcoal,t=vr.primary.oak,n=b(),r=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"36px",lineHeight:"42px"});return c.useEffect((()=>{th.learn.VIEW_ALL_LEARN_LESSONS_COMPLETED_SCREEN.send()}),[]),c.createElement(Lx,{maxWidth:"600px",style:{position:"relative",overflow:"hidden"}},c.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1}},c.createElement(w7,null)),c.createElement("div",{style:{position:"relative",zIndex:2}},c.createElement("div",{style:{padding:"24px 0"}},c.createElement(pw,{uppercase:!0,fontSettings:r,bold:!0,color:e},"Learn and Earn Completed")),c.createElement("div",{style:{padding:"16px 0 76px 0"}},c.createElement(yi,{color:e},"Come check back later, new lessons are always being added with new content and more rewards!")),c.createElement("div",{style:{textAlign:"center",padding:"0 0 8px 0"}},c.createElement(sx,{color:e,textColor:t,onClick:()=>{n(en.build())},buttonProps:{width:"225px"},fullWidth:!0},"CLOSE"))))},Rte=u.div`
  text-align: center;

  @media (max-width: 450px) {
    h3 {
      font-size: 24px;
      line-height: 28px;
    }
  }
`,Fte=u.div`
  .rewards-available-heading {
    padding: 0;

    * {
      font-size: 24px;
      line-height: 28px;
    }
  }

  @media (max-width: 450px) {
    .rewards-available-heading {
      * {
        font-size: 18px;
        line-height: 24px;
      }
    }
  }
`,Mte=u.div`
  position: relative;
  padding-top: 24px;

  .connection-cell {
    height: auto;
  }
`,Ute=u.div`
  position: relative;
  padding-top: 36px;
  padding-bottom: 24px;

  .gmail-import-button-container {
    padding: 0;
  }
`,$te={"AB Test Group":"a","Share Link Message AB Test Group":"c"},Bte=({context:e})=>{const t=ZT(),n=$p(t)||1e3,r=Bp(t),i=zp(t);return c.createElement(Lx,null,c.createElement(Rte,null,c.createElement(ki,null,"When you invite friends")),c.createElement(Fte,null,c.createElement(y4,{showHeading:!0})),c.createElement("div",{style:{paddingTop:"24px"}},c.createElement("div",{className:"referrals-share-link-container"},c.createElement(p4,{shareContext:"Rewards Page",additionalPropertiesForEventLogging:$te,shareLinkMessageABTestGroup:"c"})),c.createElement(Mte,null,c.createElement(InviteByEmail,{placeholder:"Or enter a friend's email to invite",inviteContext:"Invite Friends Page",additionalPropertiesForEventLogging:$te,hideHeading:!0})),c.createElement(Ute,null,c.createElement(q3,null)),c.createElement("div",null,c.createElement(P3,{rewardLimit:n,requiresTrade:r,requiresACHLink:i}))))},zte=.35*window.innerHeight+"px",Vte=u.div`
  position: absolute;
  top: 0;
  bottom: 56px;
  right: -24px;

  width: 50px;
  opacity: 0.2;
  cursor: pointer;

  z-index: 4;
`,Hte=u.div`
  position: absolute;
  top: 0;
  bottom: 56px;
  left: -24px;

  width: 50px;
  opacity: 0.2;
  cursor: pointer;

  z-index: 4;
`,Wte=({advanceScreen:e})=>c.createElement(Vte,{onClick:e}),jte=({previousScreen:e})=>c.createElement(Hte,{onClick:e}),Gte=u.div`
  position: relative;
  z-index: 2;
  flex-direction: column;
  flex: 0 1 auto;
  display: flex;
  height: unset;

  select {
    color: ${({theme:e})=>vr.primary.charcoal} !important;
    border-color: ${({theme:e})=>vr.primary.charcoal} !important;
  }
  option {
    color: ${({theme:e})=>vr.primary.charcoal} !important;
  }
`,qte=u.div`
  display: flex;
  flex: 1;
  flex-direction: column;
`,Yte=u.div`
  display: table;

  min-height: ${({minHeight:e})=>e};
  padding: 24px 0 24px 0;
  width: 100%;
`,Kte=u.div`
  position: relative;
  display: table-cell;
  vertical-align: middle;
  width: 100%;
`,Qte=u.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
`,Zte=u.div`
  padding-right: 16px;
  color: ${vr.primary.charcoal};
`,Xte=u.div`
  padding-left: 16px;
  color: ${vr.primary.charcoal};
  text-align: right;
`,Jte=u.div`
  padding: 2px 0 8px 0;
  text-align: center;

  button {
    width: 225px;
  }
`,ene=({wizard:e,contents:t,textColor:n,activeScreenIndex:r,itemsTotal:i})=>{const a=0===r,s=r>0,o=r<i-1,l=e.length>8,d=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"}),u=gi({fontSize:"36px",lineHeight:"44px"},{fontSize:"64px",lineHeight:"68px"});return c.createElement("div",null,c.createElement("div",{style:{paddingTop:"36px",height:"160px"}},a?c.createElement("div",null,c.createElement(pw,{isSmall:l,fontSettings:d,letterSpacing:.8,color:n,thin:!0,uppercase:!0},"Learn about"),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(pw,{bold:!0,uppercase:!0,fontSettings:u,isSmall:l,color:n},e))):c.createElement("div",null,c.createElement(pw,{isSmall:l,fontSettings:d,letterSpacing:.8,color:n,bold:!0,uppercase:!0},e),c.createElement(pw,{isSmall:l,fontSettings:d,letterSpacing:.8,color:n,thin:!0,uppercase:!0}," Wizard"))),c.createElement(Yte,{minHeight:zte},c.createElement(Kte,null,c.createElement(Qte,null,s?c.createElement(Zte,null,c.createElement(xc,{icon:"fa-chevron-left"})):c.createElement("div",{style:{width:"28px",paddingRight:"28px"}}),c.createElement("div",{style:{width:"100%"}},t),o?c.createElement(Xte,null,c.createElement(xc,{icon:"fa-chevron-right"})):c.createElement("div",{style:{width:"28px",paddingRight:"28px"}})))))},tne=({carouselData:e,textColor:t,onComplete:n})=>{const{id:r,wizard:i,content:a}=e,s=a.length,[o,l]=c.useState(0),d=a[o],u=s===o+1,h=()=>{const e=Math.min(s-1,o+1);l(e)},p=()=>{const e=Math.max(0,o-1);l(e)};return c.useEffect((()=>{}),[o]),c.createElement(Gte,null,c.createElement(qte,null,c.createElement(jte,{previousScreen:p}),c.createElement(ene,{wizard:i,contents:d,activeScreenIndex:o,itemsTotal:s,textColor:t,advanceScreen:h,previousScreen:p}),c.createElement(Wte,{advanceScreen:h})),c.createElement(w8,{activeIndex:o,itemsTotal:s}),c.createElement(Jte,null,u?c.createElement(hx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:n},"CONTINUE"):c.createElement(sx,{color:vr.primary.charcoal,textColor:vr.primary.oak,onClick:h},"CONTINUE")))},nne=({onComplete:e,carouselData:t,learnScreenLessonName:n})=>{const r=vr.primary.charcoal;return c.createElement(qx,null,c.createElement(Lx,{expandHeight:!0,width:"600px",style:{position:"relative",overflow:"hidden"}},c.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1}},c.createElement(w7,null)),c.createElement(tne,{textColor:r,carouselData:t,onComplete:e})))},rne=u.div``,ine=u.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;

  padding-top: 16px;
`,ane=u.div`
  padding: 80px 0 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
`,sne=u.div`
  text-align: center;
  min-width: 600px;
`,one=[Gl("12/17/21").valueOf(),Gl("12/31/21").valueOf(),Gl("1/07/22").valueOf(),Gl("1/21/22").valueOf(),Gl("2/18/22").valueOf(),Gl("3/18/22").valueOf()],lne=[325,330,335,340,345,350,355].map((e=>so({text:`$${e}`,value:e}))),cne=one.map((e=>so({text:Jl(Gl(e)),value:e}))),dne={325:11.55,330:8.2,335:5.4,340:3.53,345:3.08,350:1.25,355:.42},une=()=>{const e=P(),t=b(),n=(e=>{const{search:t}=e;return fe(t).securityId||null})(_());c.useEffect((()=>{mC([n])(e),yC([n])(e)}),[]);const r=IH(n),i=null==r?void 0:r.symbol,a=p$(n),s=isNaN(null==a?void 0:a.shares)?0:null==a?void 0:a.shares,o=((e,t)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r));return n})(Math.floor(s/100),(e=>so({text:(100*(e+1)).toString(),value:100*(e+1)})));if(s<100)return console.error("User does not have enough shares for a covered call"),null;const[l,d]=c.useState(lne[0].value),[u,h]=c.useState(o[0].value),[p,m]=c.useState(cne[0].value),g=((e,t)=>{const n=dne[e],r=Gl(parseInt(t)),i=Jl(r);return n+n*Math.max(1,Math.ceil(i/14))*.2})(l,p);if(!r)return c.createElement(qx,null,c.createElement(Lx,{expandHeight:!0},c.createElement(sne,null,c.createElement(ane,null,c.createElement(Ri,null)),c.createElement("div",null,c.createElement(fi,null,"Loading...")))));const y=vr.primary.charcoal,f=!1,v=gi({fontSize:"16px",lineHeight:"28px"},{fontSize:"20px",lineHeight:"28px"}),E=u/100,C={id:1,name:"Covered Calls",wizard:"Covered Calls",content:[c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"A way to make extra money from your stock positions in exchange for giving up the possibility of very high short-term gains"),c.createElement(rne,null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"You can generate cash from your "),c.createElement(pw,{fontSettings:v,isSmall:f,color:y,bold:!0},`${i}`," "),c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"position if you think it won’t go up a lot soon.")),c.createElement("div",null,false,c.createElement(ine,null,c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"You can collect ")),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},`around ${ng(g*u,"price")} `)),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y}," for giving up")),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"the upside beyond ")),c.createElement("span",null,c.createElement(Mo,{name:"exercise_price",value:l,onChange:e=>e=>{d(e)},items:lne,error:null})),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"on ")),c.createElement("span",null,c.createElement(Mo,{name:"contracts",value:u,onChange:e=>e=>{h(e)},items:o,error:null})),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"shares of your position over the next ")),c.createElement("span",null,c.createElement(Mo,{name:"expiry",value:p,onChange:e=>e=>{m(e)},items:cne,error:null})),c.createElement("span",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"days")))),c.createElement("div",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},`This helps offset losses by ${ng(g*u,"price")} if ${i} goes down, and you'll make money if ${i} goes up to ${ng(parseFloat(l)+g,"price")} by ${Yl("LL",Gl(parseInt(p,10)))}.`),c.createElement(ine,null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},"If it goes even higher your upside will be capped out."))),c.createElement("div",null,c.createElement(pw,{fontSettings:v,isSmall:f,color:y},`This is called covered call writing, and involves selling ${Math.round(E)} ${Ek("contract",E,{ignorePrefix:!0})} (${u} shares) ${ng(l,"price")} ${i} CALL option that expires on ${Yl("LL",Gl(parseInt(p,10)))}`))]};return c.createElement(nne,{onComplete:()=>{const e={securityId:n,useParams:"true",price:g,exercise_price:l,expiration_date:p,contracts:Math.round(u/100)};t(dn.build(null,null,e))},carouselData:C})};u.div``,u.div`
  select {
    border-top: none;
    border-left: none;
    border-right: none;
    -webkit-appearance: auto;

    margin: 0 auto;
    max-width: 300px;
    background: transparent !important;
  }
`,u.div`
  padding-top: 24px;
  padding-bottom: 40px;
`,u.div`
  padding-top: 40px;
  text-align: center;

  button {
    width: 225px;
  }
`,u.div`
  select {
    border-top: none;
    border-left: none;
    border-right: none;
    -webkit-appearance: auto;

    margin: 0 auto;
    max-width: 300px;
  }
`,u.div``,u.div`
  padding-top: 24px;
  padding-bottom: 40px;
`,u.div`
  padding-top: 40px;
  text-align: center;

  button {
    width: 225px;
  }
`,u.div`
  padding-top: 0;
  text-align: center;
  max-width: 400px;
  margin: 0 auto;
`,u.div`
  padding-top: 24px;
  max-width: 500px;
  margin: 0 auto;
`,u.div`
  border-radius: 5px;
  border: 1px solid ${({theme:e})=>e.themeColors.border};
  padding: 16px;
  height: 300px;
  overflow: scroll;
`,u.div`
  padding: 16px;
`;const hne=u.div`
  text-align: center;
  padding-top: 24px;
`,pne=u.div`
  text-align: center;

  padding-top: 16px;
`,mne=u.div`
  text-align: center;
  padding-top: 24px;
`,gne=({})=>{const e=b();c.useEffect((()=>{document.title=`${Xo} - Dashboard`;TC("View Dashboard")()}),[]);const t=c.useCallback((()=>{e(sn.build())}),[]);return c.createElement(Lx,null,c.createElement(hne,null,c.createElement(yi,{bold:!0,center:!0},"This account has been closed.")),c.createElement(pne,null,c.createElement(fi,null,"If you did not request this, or you believe this was in error, please contact ",Pl)),c.createElement(mne,null,c.createElement(sx,{fullWidth:!0,onClick:t},"View E-Docs")))},yne=u.div`
  max-height: 400px;
  padding-bottom: 16px;
`,_ne=e=>({maintainAspectRatio:!0,animation:{duration:220},scales:{x:{grid:{display:!1,color:"rgba(220, 220, 220, 0)"},ticks:{display:!1,font:{color:"#ccc",size:12,family:el.normal},autoSkip:!1}},y:{grid:{color:"rgba(235, 235, 235, 0.4)"},min:0,position:"left",ticks:{beginAtZero:!0,font:{color:"#ccc",size:12,family:el.normal},callback:function(t,n,r){return e.yAxesAfterBuildTicks?0===n?e.yAxesAfterBuildTicks[1]:n===r.length-1?e.yAxesAfterBuildTicks[0]:void 0:(e=>hk(e,e<1e-4?{maximumFractionDigits:0,currency:"USD"}:e<.01||e<.1?{minimumFractionDigits:3,maximumFractionDigits:4,currency:"USD"}:e<1||e<10?{minimumFractionDigits:2,maximumFractionDigits:2,currency:"USD"}:{maximumFractionDigits:2,currency:"USD"}))(t)}}}},plugins:{legend:!1,tooltip:{enabled:!e.disableTooltips,callbacks:{title:function(e){const t=e[0],{label:n,dataset:r}=t;return`${n}`},label:function(e){return""},afterBody:function(e){const t=e[0],{raw:n}=t;return`${B_(n,"price")}`}}}}}),fne=({color:e,chartData:t,additionalDatasets:n})=>{const r=_ne({}),i=(()=>{const{labels:r,values:i}=t;return{labels:r,datasets:[o({data:i,borderWidth:3,borderColor:"rgba(36, 217, 121, 1.0)",label:"",backgroundColor:"rgba(36, 217, 121, 0.2)",pointHoverBackgroundColor:VK(e,"0.75")},$K),...n||[]]}})();return c.createElement(yne,{className:"equity-chart"},c.createElement(O,{data:i,options:r}))};var vne=Object.defineProperty,Ene=(e,t,n)=>(((e,t,n)=>{t in e?vne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const bne={height:200,width:500,disableTooltips:!1,pointRadius:1,pointHoverRadius:5,label:"Value"},Cne=()=>{const e={textAlign:"center",marginTop:"15px",marginLeft:"0",height:"200px",width:"100%",paddingTop:"50px"};return c.createElement("div",{className:"loading-price-history-container",style:e},c.createElement(_e,{icon:"fading-3balls",size:"small"}))},xne=({show:e})=>{if(!e)return null;const t={textAlign:"center",marginTop:"-15px",marginLeft:"0",height:"25px",width:"100%"};return c.createElement("div",{className:"loading-price-history-container",style:t},c.createElement(_e,{icon:"fading-3balls",size:"small"}),c.createElement("div",{className:"secondary-text-color",style:{display:"inline-block",marginLeft:"18px"}},"Updating"))};class wne extends c.PureComponent{constructor(){super(...arguments),Ene(this,"_generateChartData",(()=>{const e=this._generateChartValues();return{labels:this._generateChartLabels(),values:e,xAxisTicks:[],yAxisTicks:[]}})),Ene(this,"_generateChartLabels",(()=>this._getEquityChartData().map((e=>{if(null===e.time)return null;const t=1e3*e.time,n=jl(t);return`${Yl("l",n)}`})))),Ene(this,"_generateChartValues",(()=>this._getEquityChartData().map((e=>qk(e.equity))))),Ene(this,"_getEquityChartData",(()=>this.props.chartData)),Ene(this,"_getChartConfig",(()=>bne))}render(){const{activeTab:e,isGettingEquityChartData:t,isUpdatingEquityChartData:n,additionalDatasets:r,TabsRenderer:i,PerformanceComparisonSecuritiesRenderer:a}=this.props;return t?c.createElement(Cne,null):(e&&e.name,c.createElement("div",{className:"history-equity-container"},null!==this._getEquityChartData()&&c.createElement("div",{className:"equity-chart-container"},c.createElement(xne,{show:n}),c.createElement("div",{className:"equity-chart-wrapper"},c.createElement(fne,{chartData:this._generateChartData()}),i))))}}const Sne=e=>{const{headingText:t}=e;return c.createElement("div",{className:"transactions-list-heading-container"},c.createElement("h2",null,t))},kne=e=>{const{date:t}=e,n=jl(t,"YYYY-MM-DD").format("MMMM Do");return c.createElement("div",{className:"transactions-group-date-heading-container secondary-text-color"},c.createElement("h5",null,n))},Tne=e=>{const{year:t}=e;return c.createElement("div",{className:"transactions-group-year-separator-container border-accent"},c.createElement("h3",null,t))},Ine=e=>{const{className:t,value:n}=e,r={pending:"Pending",processing:"Processing",cancelation_pending:"Cancelation Pending",canceled:"Canceled",complete:"Complete",rejected:"Rejected"}[n]||"";return c.createElement("span",{className:`transaction-status ${t||""}`},r)},Nne=e=>{const{className:t,value:n}=e,r=B_(n,"price");return c.createElement("span",{className:`money-number-container ${t||""}`},r)},Ane=e=>{const{className:t,isVoid:n,value:r}=e;return c.createElement("span",{className:"transaction-amount "+(n?"transaction-voided":"")},c.createElement(Nne,{className:"",value:r}))},Pne=e=>{const{className:t,account_name:n,amount:r,status:i,type:a,can_be_canceled:s,is_void:o,funding_transfer_id:l,time:d}=e,[u,h]=C.exports.useState(!1),p=u&&s,m=s;return c.createElement("li",{className:`\n        funding-transaction-item\n        ${t||""}\n      `},p&&c.createElement("div",{className:"canceling-overlay"},c.createElement(_e,null),c.createElement("span",{className:"text"},"Canceling")),c.createElement("div",{className:"funding-transaction-details "+(p?"is-canceling":"")},c.createElement("span",{className:"transaction-identifier"},c.createElement("div",{className:"transaction-type"},a),c.createElement("div",{className:"transaction-sub-type transaction-bank-account secondary-text-color"},n)),c.createElement("span",{className:"transaction-status-container"},c.createElement(Ane,{className:"transaction-amount",isVoid:o,value:r}),c.createElement(Ine,{className:"",value:i}),m&&c.createElement("span",{className:"cancel-transaction-action"},c.createElement(hx,{transparent:!0,onClick:()=>{h(!0),e.handleCancelClick(l).then((e=>{h(!1)}))}},"Cancel")))))},Dne=e=>{const{fee_type:t,amount:n}=e;return c.createElement("div",{className:"transaction-trade-fee"},c.createElement("span",{className:"trade-commission-label secondary-text-color"},t),c.createElement(Nne,{className:"commission-fee-amount transaction-amount",value:n}))},One=e=>{const{className:t,value:n,type:r}=e;if(nk(n)||!Yk(n))return Uk("Invalid value passed to Number, expecting float or integer",!0,{props:e}),null;const i=B_(n,r);return c.createElement("span",{className:`number-container ${t||""}`},i)},Lne=e=>{const{type:t,sub_type:n,security:r,shares:i,price:a,amount:s,fees:l,transaction_id:d,time:u}=e,h="buy"===(p=n.toLowerCase())||"buy_to_cover"===p?"buy-text-color":"sell-text-color";var p;const{symbol:m,name:g}=r;return c.createElement("li",{className:"trade-transaction-item"},c.createElement("div",{className:"trade-transaction-details"},c.createElement("div",{className:"transaction-identifier"},c.createElement("div",{className:"transaction-type"},t),c.createElement("div",{className:`transaction-sub-type transaction-trade-type ${h}`},n)),c.createElement("div",{className:"inline-grouping"},c.createElement("div",{className:"transaction-security-identifier"},c.createElement("div",{className:"security-symbol"},m),c.createElement("div",{className:"security-name secondary-text-color"},XS(g,25))),c.createElement("div",{className:"transaction-trade-details"},c.createElement("div",{className:"transaction-trade-pricing"},c.createElement("span",{className:"trade-shares-price transaction-amount"},`${i} sh @`,c.createElement(One,{className:"trade-price-amount",value:a||0,type:"float"})),c.createElement(Nne,{className:"trade-amount transaction-amount",value:s})),l.map(((e,t)=>c.createElement(Dne,o({key:t},e))))))))},Rne=e=>{const{id:t,type:n,account_name:r,sub_type:i,adjustment_type:a,shares:s,amount:o,security:l,time:d}=e,{symbol:u,name:h}=l,p=r||i;return c.createElement("li",{className:"trade-transaction-item security-transaction-item"},c.createElement("div",{className:"trade-transaction-details"},c.createElement("div",{className:"transaction-identifier"},c.createElement("div",{className:"transaction-type"},n),c.createElement("div",{className:"transaction-sub-type secondary-text-color"},p)),c.createElement("div",{className:"inline-grouping"},c.createElement("div",{className:"transaction-security-identifier"},c.createElement("div",{className:"security-symbol"},u),c.createElement("div",{className:"security-name secondary-text-color"},XS(h,25))),c.createElement("div",{className:"transaction-trade-details"},c.createElement("div",{className:"transaction-trade-pricing"},c.createElement("span",{className:"trade-shares-price transaction-amount"},`${s} sh ${a}`),!nk(o)&&c.createElement(Nne,{className:"trade-amount transaction-amount",value:o}))))))},Fne=e=>{const{className:t,type:n,account_name:r,amount:i,transaction_id:a,time:s}=e;return c.createElement("li",{className:`\n        fee-transaction-item\n        ${t||""}\n      `},c.createElement("div",{className:"fee-transaction-details"},c.createElement("div",{className:"fee-transaction-identifier"},c.createElement("span",{className:"transaction-identifier"},c.createElement("span",{className:"transaction-type"},n)),r&&c.createElement("span",{className:"transaction-sub-type transaction-fee-account-name secondary-text-color"},r)),c.createElement(Ane,{className:"transaction-amount",isVoid:!1,value:i})))},Mne=e=>{const{className:t,type:n,account_name:r,sub_type:i,amount:a,transaction_id:s,time:o}=e,l=r||i;return c.createElement("li",{className:`\n        fee-transaction-item\n        ${t||""}\n      `},c.createElement("div",{className:"fee-transaction-details"},c.createElement("div",{className:"fee-transaction-identifier"},c.createElement("span",{className:"transaction-identifier"},c.createElement("div",{className:"transaction-type"},n),c.createElement("div",{className:"transaction-sub-type secondary-text-color"},l))),c.createElement(Ane,{className:"transaction-amount",isVoid:!1,value:a})))},Une=e=>{const{type:t}=e,n={"Corporate Action":Rne,"Short Dividend":Mne,Dividend:Mne,"Dividend Reinvestment":Rne,"Interest Charge":Mne,Interest:Mne,"Margin Interest":Fne,"ADR Fee":Mne,"ADR Fee Refund":Mne,"ACH Return Fee":Fne,"ACH Return Fee Refund":Fne,"ACH NOC Fee":Fne,"ACH NOC Fee Refund":Fne,"Commission Debit":Fne,"Commission Credit":Fne,Reward:Fne,"Reward Correction":Fne,"Reward Reversal":Fne,"Reward Correction Reversal":Fne,"Bonus Reversal":Fne,"Funding Bonus":Fne,"Reorganization Fee":Mne,Reorganization:Mne,"Cash In Lieu Charge":Mne,"Cash In Lieu":Mne,"Misc. Fee":Fne,"Misc. Refund":Fne,"Paper Document Fee":Fne,"Paper Document Fee Refund":Fne,"Cash Transfer":Mne,"Cash Transfer Reversal":Mne,Transfer:Rne,"Transfer Fee":Mne,"Transfer Fee Refund":Mne,"Membership Fee":Pne,"Membership Fee Refund":Fne,Split:Rne,"Reverse Split":Rne}[t]||Fne;return c.createElement(n,e)},$ne=e=>{const{type:t}=e,n={Deposit:Pne,Withdrawal:Pne,Trade:Lne}[t]||Une;return c.createElement(n,e)},Bne=e=>{const{transactions:t,actions:n}=e,r=n||{};return c.createElement("ul",{className:"transactions-list-container"},t.map(((e,t)=>c.createElement($ne,o(o({key:t},e),r)))))},zne=e=>{const{className:t,date:n,transactions:r,actions:i,yearSeparator:a}=e;return c.createElement("div",{className:`grouped-by-date-transactions ${t||""}`},a&&c.createElement(Tne,{year:a}),c.createElement(kne,{date:n}),c.createElement(Bne,{transactions:r,actions:i}))},Vne=e=>{const{isLoading:t,isUpdating:n,isError:r,groupedTransactionsByDate:i,actions:a}=e,s=e=>{if(0===e||!e)return!1;const t=i[e].date.split("-")[0],n=i[e-1].date.split("-")[0];return n!==t&&n};return c.createElement("div",{className:"grouped-transactions-list"},t?c.createElement("div",{style:{textAlign:"center"}},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginLeft:"3px",marginBottom:"35px"}})):c.createElement("div",null,n&&c.createElement("div",{style:{textAlign:"center",marginBottom:"5px"}},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginLeft:"3px",marginBottom:"0px"}}),c.createElement("div",{className:"secondary-text-color",style:{display:"inline-block",marginLeft:"18px"}},"Updating")),r&&c.createElement("div",{style:{textAlign:"center",margin:"16px 0"}},"Something went wrong, please try again later."),null==i?void 0:i.map(((e,t)=>c.createElement(zne,l(o({key:t,className:"grouped-transactions"},e),{actions:a,yearSeparator:s(t)}))))))};var Hne=Object.defineProperty,Wne=(e,t,n)=>(((e,t,n)=>{t in e?Hne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class jne extends C.exports.Component{constructor(e){super(e),Wne(this,"handleCancelClick",(e=>this.props.actions.cancelFundingTransaction(e).then((e=>{e.success||this._showErrorMessage(e.error)})))),Wne(this,"_showErrorMessage",(e=>{e=e||"Something went wrong. Please try again.";const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e);this.props.actions.showModal({contentComponent:t,size:"wide",dismissable:!0})})),Wne(this,"_returnTransactionType",(e=>e.type)),Wne(this,"returnTransactionsGroupedByDate",(()=>this.returnTransactionsData())),Wne(this,"returnTransactionsData",(()=>this.returnTransactionsStore().transactions)),Wne(this,"isInitLoading",((e=this.props)=>this.returnTransactionsStore(e).isLoadingTransactionHistory&&!this.hasLoadedDataPreviously())),Wne(this,"hasLoadedDataPreviously",((e=this.props)=>this.returnTransactionsStore(e).hasLoadedPreviously)),Wne(this,"isUpdating",((e=this.props)=>this.returnTransactionsStore(e).isLoadingTransactionHistory&&this.hasLoadedDataPreviously())),Wne(this,"returnTransactionsStore",((e=this.props)=>this.props.historyTransactions)),this.transactionsActions={handleCancelClick:this.handleCancelClick}}render(){const e="https://api.tornado.com";return c.createElement("div",{className:"transactions-table-container"},!this.isInitLoading()&&c.createElement(c.Fragment,null,c.createElement(Sne,{headingText:"History"}),c.createElement("div",{style:{margin:"10px 0px",textAlign:"right"}},c.createElement(iT,{to:`${e}/portfolio/history/equity/csv`,text:"Download Account Value History",styling:{fontSize:"11px"},fullPageLoad:!0})),c.createElement("div",{style:{margin:"10px 0px",textAlign:"right"}},c.createElement(iT,{to:`${e}/portfolio/history/transactions/csv`,text:"Download Transaction History",styling:{fontSize:"11px"},fullPageLoad:!0}))),c.createElement(Vne,{isLoading:this.isInitLoading(),isUpdating:this.isUpdating(),isError:!this.isUpdating()&&!this.isInitLoading()&&!this.returnTransactionsGroupedByDate(),groupedTransactionsByDate:this.returnTransactionsGroupedByDate(),actions:this.transactionsActions}))}}var Gne=T((e=>({historyTransactions:e.historyTransactions})),(e=>({actions:I(WC,e)})))(jne);const qne=e=>c.createElement("div",{className:"account-history-container"},c.createElement(Gne,null));var Yne=Object.defineProperty,Kne=(e,t,n)=>(((e,t,n)=>{t in e?Yne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Qne=u.div`
  input {
    //border: none;
    line-height: 29px;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  select {
    //border: none;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`;class Zne extends c.Component{constructor(){super(),Kne(this,"_renderHeading",(()=>c.createElement("div",{className:"portfolio-metrics-heading-container"},"Realized Risk Metrics"))),Kne(this,"_renderForm",(()=>c.createElement(Qne,{className:"portfolio-metrics-form-container"},this._renderFormInputs(),c.createElement("div",{className:"portfolio-metrics-submit"},c.createElement(hx,{handleClick:this._handleSubmit},"Calculate"))))),Kne(this,"_renderFormInputs",(()=>c.createElement("div",{className:"portfolio-metrics-form-inputs"},c.createElement("div",{className:"portfolio-metrics-dropdown-container"},c.createElement("div",{className:"date-range-form-container flex-center-child"},c.createElement("div",{className:"from-date-range-inputs-container"},c.createElement("div",{className:"date-range-container"},c.createElement(qG,{name:"from-month",value:this._returnFromMonthValue(),options:this._returnMonthSelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0}),c.createElement(qG,{name:"from-day",value:this._returnFromDayValue(),options:this._returnDaySelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0}),c.createElement(qG,{name:"from-year",value:this._returnFromYearValue(),options:this._returnYearSelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0}))),c.createElement("div",{className:"date-range-separator"},"-"),c.createElement("div",{className:"to-date-range-inputs-container"},c.createElement("div",{className:"date-range-container"},c.createElement(qG,{name:"to-month",value:this._returnToMonthValue(),options:this._returnMonthSelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0}),c.createElement(qG,{name:"to-day",value:this._returnToDayValue(),options:this._returnDaySelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0}),c.createElement(qG,{name:"to-year",value:this._returnToYearValue(),options:this._returnYearSelectionOptions(),handleSelection:this._handleDropdownSelection,arrowIconStyleTop:{top:"15px",right:"5px"},arrowIconStyleBot:{top:"15px",right:"5px"},showArrowIcons:!0})))))))),Kne(this,"_renderPortfolioMetricValue",((e,t)=>{let n;try{n=e&&"number"==typeof e?`${e.toFixed(2)}${t?"%":""}`:"N/A"}catch(Gs){n="N/A"}return n})),Kne(this,"_renderPortfolioMetrics",(()=>c.createElement("div",{className:"portfolio-metrics-results-container"},c.createElement("table",null,c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Portfolio Total Return"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnPortfolioTotalReturn(),!0))),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Portfolio Annualized Average Return"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnPortfolioAnnualizedAvgReturn(),!0))),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Sharpe Ratio"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnSharpeRatio(),!1))),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Beta"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnBeta(),!1))),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Alpha"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnAlpha(),!0))),c.createElement("tr",null,c.createElement("td",{colSpan:2,style:{height:"10px",width:"50px"}})),c.createElement("tr",null,c.createElement("td",{colSpan:2,style:{textAlign:"center"}},"Benchmark - S&P500 (SPY)")),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Benchmark Total Return"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnBenchmarkTotalReturn(),!0))),c.createElement("tr",null,c.createElement("td",{className:"secondary-text-color"},"Benchmark Annualized Average Return"),c.createElement("td",null,this._renderPortfolioMetricValue(this._returnBenchmarkAnnualizedAvgReturn(),!0)))))))),Kne(this,"_renderErrorMessage",(()=>c.createElement("div",{className:"portfolio-metrics-results-container"},c.createElement("div",{style:{fontSize:"12px",textAlign:"center"}},this._returnRequestErrorMessage())))),Kne(this,"_renderCalculating",(()=>c.createElement("div",{style:{fontSize:"10px",textAlign:"center"}},"Calculating..."))),Kne(this,"_isCalculating",(()=>this.state._isCalculating)),Kne(this,"_setIsCalculating",(()=>{this.setState((()=>({_isCalculating:!0})))})),Kne(this,"_clearIsCalculating",(()=>{this.setState((()=>({_isCalculating:!1})))})),Kne(this,"_convertAPIErrorMessageToDisplayString",(e=>("No current user"===e&&setTimeout((()=>{window.location.reload()}),2e3),{"No current user":"Session timed out. Please login to continue","Account has insufficient history":"We require at least 10 trading days of history to calculate realized risk metrics. If you just signed up recently, please check back soon.","Invalid date parameter":"Invalid date range. Please double check the start and end dates."}[e]||"Realized risk metrics are currently unavailable. Please try again later."))),Kne(this,"_returnRequestErrorMessage",(()=>this.state._requestErrorMessage)),Kne(this,"_setRequestErrorMessage",(e=>{this.setState((()=>({_requestErrorMessage:this._convertAPIErrorMessageToDisplayString(e)})))})),Kne(this,"_clearRequestErrorMessage",(()=>{this.setState((()=>({_requestErrorMessage:null})))})),Kne(this,"_setPortfolioMetrics",(e=>{this.setState((()=>({_portfolioMetrics:e})))})),Kne(this,"_clearPortfolioMetrics",(()=>{this.setState((()=>({_portfolioMetrics:null})))})),Kne(this,"_returnPortfolioMetrics",(()=>this.state._portfolioMetrics)),Kne(this,"_returnPortfolioTotalReturn",(()=>this.state._portfolioMetrics.portfolio.total_return)),Kne(this,"_returnPortfolioAnnualizedAvgReturn",(()=>this.state._portfolioMetrics.portfolio.annualized_average_return)),Kne(this,"_returnBenchmarkTotalReturn",(()=>this.state._portfolioMetrics.benchmark.total_return)),Kne(this,"_returnBenchmarkAnnualizedAvgReturn",(()=>this.state._portfolioMetrics.benchmark.annualized_average_return)),Kne(this,"_returnSharpeRatio",(()=>this.state._portfolioMetrics.sharpe_ratio)),Kne(this,"_returnBeta",(()=>this.state._portfolioMetrics.beta)),Kne(this,"_returnAlpha",(()=>this.state._portfolioMetrics.alpha)),Kne(this,"_returnYearSelectionOptions",(()=>{var e=parseInt(Yl("YYYY",jl()),10),t=[];for(let n=2015;n<=e;n++)t.push(n.toString());return t})),Kne(this,"_returnDaySelectionOptions",(()=>{var e=[];for(let t=1;t<=31;t++)e.push(t.toString());return e})),Kne(this,"_convertMonthStrToNum",(e=>({Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[e]))),Kne(this,"_returnMonthSelectionOptions",(()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])),Kne(this,"_returnRequestFormData",(()=>({start_date:`${this._convertMonthStrToNum(this._returnFromMonthValue())}-${this._returnFromDayValue()}-${this._returnFromYearValue()}`,end_date:`${this._convertMonthStrToNum(this._returnToMonthValue())}-${this._returnToDayValue()}-${this._returnToYearValue()}`}))),Kne(this,"_returnFormData",(()=>this.state.formData)),Kne(this,"_returnFromDateRangeData",(()=>this._returnFormData().from_date)),Kne(this,"_returnToDateRangeData",(()=>this._returnFormData().to_date)),Kne(this,"_returnFromDayValue",(()=>this._returnFromDateRangeData().day)),Kne(this,"_returnFromMonthValue",(()=>this._returnFromDateRangeData().month)),Kne(this,"_returnFromYearValue",(()=>this._returnFromDateRangeData().year)),Kne(this,"_returnToDayValue",(()=>this._returnToDateRangeData().day)),Kne(this,"_returnToMonthValue",(()=>this._returnToDateRangeData().month)),Kne(this,"_returnToYearValue",(()=>this._returnToDateRangeData().year)),Kne(this,"_handleDropdownSelection",((e,t)=>{this._updateFormDataValue(e,t),this._clearRequestErrorMessage()})),Kne(this,"_updateFormDataValue",((e,t)=>{const n=e.split("-")[0],r=e.split("-")[1];["to","from"].includes(n)&&this.setState((e=>({formData:l(o({},e.formData),{[`${n}_date`]:l(o({},e.formData[`${n}_date`]),{[r]:t})})})))})),Kne(this,"_handleStartRequest",(()=>{this._clearPortfolioMetrics(),this._clearRequestErrorMessage(),this._setIsCalculating()})),Kne(this,"_handleSubmit",(()=>(this._handleStartRequest(),this._logRequestPortfolioMetrics(),this._getPortfolioMetrics().then((e=>{this._clearIsCalculating(),this._handleGetPortfolioMetricsResponse(e)}))))),Kne(this,"_getPortfolioMetrics",(()=>this.props.actions.fetchHistoryPortfolioMetricsData(this._returnRequestFormData()))),Kne(this,"_handleGetPortfolioMetricsResponse",(e=>{if(e)if(e.error){const t=e.error;this._setRequestErrorMessage(t),this._logErrorGettingPortfolioMetrics(t)}else{const t=e.portfolio_metrics;this._setPortfolioMetrics(t)}else{const e="Request failed";this._setRequestErrorMessage(e),this._logErrorGettingPortfolioMetrics(e)}})),Kne(this,"_logRequestPortfolioMetrics",(()=>{const e={"Start Date":`${this._returnFromMonthValue()}-${this._returnFromDayValue()}-${this._returnFromYearValue()}`,"End Date":`${this._returnToMonthValue()}-${this._returnFromDayValue()}-${this._returnToYearValue()}`};this.props.actions.logMetricsTrackingEvent("Requested Portfolio Metrics",e)})),Kne(this,"_logErrorGettingPortfolioMetrics",(e=>{const t={"Error Message":e,"Start Date":`${this._returnFromMonthValue()}-${this._returnFromDayValue()}-${this._returnFromYearValue()}`,"End Date":`${this._returnToMonthValue()}-${this._returnFromDayValue()}-${this._returnToYearValue()}`};this.props.actions.logMetricsTrackingEvent("Received Error Requesting Portfolio Metrics",t)})),this.state={formData:{from_date:{day:"1",month:"Jan",year:jl().subtract(1,"year").format("YYYY")||"2020"},to_date:{day:jl().format("D")||"31",month:Ql()||"Jan",year:Kl()||"2020"}},_isCalculating:!1,_requestErrorMessage:null,_portfolioMetrics:null}}componentDidMount(){this._handleSubmit()}render(){return c.createElement("div",{className:"history-portfolio-metrics-container"},this._renderHeading(),this._renderForm(),this._isCalculating()&&this._renderCalculating(),!this._isCalculating()&&this._returnPortfolioMetrics()&&this._renderPortfolioMetrics(),!this._isCalculating()&&!this._returnPortfolioMetrics()&&this._returnRequestErrorMessage()&&this._renderErrorMessage())}}var Xne=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(Zne),Jne=Object.defineProperty,ere=(e,t,n)=>(((e,t,n)=>{t in e?Jne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class tre extends c.Component{constructor(){super(...arguments),ere(this,"_getInitialData",(()=>{const e=this.props.requests;e&&e.length>0&&e.forEach((e=>{this.props.actions[e]()}))})),ere(this,"_setPageTitle",(()=>{const e=this.props.pageTitle;if(!e)return!1;document.title=e})),ere(this,"_logPageView",(()=>{const e=this.props.eventName;if(!e)return!1;const t=this.props.eventProperties||{};this.props.actions.logMetricsTrackingEvent(e,t)}))}componentDidMount(){this._setPageTitle(),this._getInitialData(),this._logPageView()}render(){return c.createElement("div",{className:`page-wrapper-container ${this.props.className||""}`},this.props.children)}}var nre=T(null,(e=>({actions:I(WC,e)})))(tre);class rre extends c.PureComponent{render(){const{style:e}=this.props;return c.createElement("div",{className:"page-divider border-accent",style:e})}}rre.defaultProps={style:{}};var ire=Object.defineProperty,are=(e,t,n)=>(((e,t,n)=>{t in e?ire(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class sre extends c.PureComponent{constructor(){super(...arguments),are(this,"_getEquityHistoryDataFilteredForTimePeriod",(()=>{const{activeTab:e}=this.props,t=e.cutoffDate;return t?this._getRawEquityHistoryData().filter((e=>{return!((e,t)=>e.isBefore(t))((n=1e3*e.time,jl(n)),t);var n})):this._getRawEquityHistoryData()})),are(this,"_getRawEquityHistoryData",(()=>this.props.equity_history))}render(){const{hasEnoughDataToDisplay:e,isLoadingEquityHistory:t,children:n}=this.props;return n(e?this._getEquityHistoryDataFilteredForTimePeriod():null,t&&!e,t&&e)}}var ore=T((e=>{const t=e.history;return{equity_history:t.equity_history,hasEnoughDataToDisplay:t.is_enough_for_chart,isLoadingEquityHistory:t.isLoadingEquityHistory}}))(sre),lre=Object.defineProperty,cre=(e,t,n)=>(((e,t,n)=>{t in e?lre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const dre=u.div`
  &:hover .time-period-label {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  &.active .time-period-label {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
  &.active .time-period-underline {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
`,ure=[{displayString:"1M",name:"one_month",eventName:"One Month",cutoffDate:ql(1,"month")},{displayString:"3M",name:"quarter_year",eventName:"Quarter Year",cutoffDate:ql(3,"month")},{displayString:"6M",name:"half_year",eventName:"Half Year",cutoffDate:ql(6,"month")},{displayString:"1Y",name:"one_year",eventName:"One Year",cutoffDate:ql(1,"year")},{displayString:"Max",name:"max",eventName:"Max",cutoffDate:null}],hre=({isActive:e,tab:t,handleClick:n})=>{const r=t.name,i=t.displayString;return c.createElement(dre,{className:"time-period-button "+(e?"active primary-CTA-link-text-color":"secondary-to-primary-CTA-link-text-color"),onClick:()=>n(t),key:`${r}-chart-button`},c.createElement("div",{className:"time-period-label"},i),c.createElement("div",{className:"time-period-underline "+(e?"active primary-CTA-link-text-bg-color":"secondary-to-primary-CTA-link-text-bg-color")}))};class pre extends c.PureComponent{constructor(){super(),cre(this,"handleTabClick",(e=>{this._setActiveTab(e),this._logChartTabClick(e),this._logItlyTabClick(e)})),cre(this,"_isTabActive",(e=>this._getActiveTab().name===e.name)),cre(this,"_getActiveTab",(()=>this.state.activeTab)),cre(this,"_setActiveTab",(e=>{this.setState((()=>({activeTab:e})))})),cre(this,"_getDefaultTab",(()=>ure.filter((e=>"one_year"===e.name))[0])),cre(this,"_logChartTabClick",(e=>{const{eventName:t}=this.props,n=t||"Chart Tab Clicked",r={Tab:e.eventName};TC(n,r)()})),cre(this,"_logItlyTabClick",(e=>{const{elementPosition:t}=this.context,n={context:location.pathname,position:t||_t.node_location.body,platform:_t.platform.web,description:e.name,url:window.location.pathname,url_query:window.location.search};pl.generic.TAB_VIEWED.send(n)})),this.state={activeTab:this._getDefaultTab()}}render(){const{children:e}=this.props;return e(this._getActiveTab(),c.createElement("div",{className:"equity-chart-tabs-container"},ure.map(((e,t)=>c.createElement(hre,{key:t,tab:e,isActive:this._isTabActive(e),handleClick:this.handleTabClick})))))}}pre.contextType=ml;const mre=({index:e,securityId:t,symbol:n,onRemove:r})=>{const i=MK[e];return c.createElement("div",{className:"chart-performance-comparison-security-tag border-accent "},c.createElement("div",{className:"flex-center-child"},c.createElement("div",{style:{textAlign:"center",minWidth:"25px"}},c.createElement("span",{className:"security-symbol  "},n),c.createElement("div",{className:"tag-color-display",style:{marginBottom:"5px"}},c.createElement("div",{style:{height:"2px",backgroundColor:Ak(i)}}))),"    ",c.createElement("div",{className:"remove-tag-button-container",onClick:()=>{r(t)}},c.createElement(xc,{icon:"fa-times-thin",colorClassName:"secondary-text-color",size:"large"}))))},gre=e=>e.securitiesPriceHistory,yre=["Deposit","Withdrawal"],_re="complete",fre=e=>1*e.amount,vre=e=>{let t=[];return e.forEach((e=>{const n=e.transactions.filter((e=>{return t=e,yre.includes((e=>e.type)(t))&&(e=>(e=>e.status)(e)===_re)(e);var t}));t=[...t,...n]})),t};var Ere=Object.defineProperty,bre=(e,t,n)=>(((e,t,n)=>{t in e?Ere(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Cre extends c.PureComponent{constructor(){super(),bre(this,"handleAddStockPerformanceComparisonClick",(()=>{this.setState((()=>({isUsingPerformanceComparison:!0}))),this._showAddStockSearch()})),bre(this,"handleRemoveStockPerformanceComparisonClick",(()=>{this._clearComparisonSecurityIdsFromStorage(),this.setState((()=>({isUsingPerformanceComparison:!1,performanceSecurities:[]})))})),bre(this,"handleAddAnotherClick",(()=>{this._showAddStockSearch()})),bre(this,"handleAddStockSelection",(e=>{const{dispatch:t}=this.props;if(function(e){e({type:"HIDE_MODAL"})}(t),!e)return;const{id:n,symbol:r}=e,i={id:n,symbol:r};this.handleAddPerformanceComparisonSecurity(i),this._fetchChartDataForSecurityIds([n])})),bre(this,"handleAddPerformanceComparisonSecurity",(e=>{const t=e.id;this.setState((n=>{const{performanceSecurities:r}=n;if(r.map((e=>e.id)).includes(t))return n;const i=[...r,e];return this._saveComparisonPerformanceSecuritiesStorage(i),{performanceSecurities:i}}))})),bre(this,"handleRemovePerformanceComparisonSecurity",(e=>{this.setState((t=>{const{performanceSecurities:n}=t,r=n.filter((t=>t.id!==e));return this._saveComparisonPerformanceSecuritiesStorage(r),{performanceSecurities:r}}))})),bre(this,"_generateAdditionalDatasets",(()=>{const{isUsingPerformanceComparison:e,performanceSecurities:t}=this.state;return e?t.map(((e,t)=>this._buildDatasetForSecurity(e,t))):[]})),bre(this,"_getCompletedFundingTransactions",(()=>{const e=this.props.transactionsHistory;return vre(e)})),bre(this,"_generateRatioChangeDatesLookup",(()=>{const e={};return this._getCompletedFundingTransactions().forEach((t=>{const n=1e3*t.time;const r=Yl("l",Gl(n));e[r]?Array.isArray(e[r])?e[r]=[...e[r],t]:e[r]=[e[r],t]:e[r]=t})),e})),bre(this,"_generateDatasetValuesForSecurityId",(e=>{const t=this._getEquityHistory();if(null===t)return[];let n=null,r=null;t.forEach(((e,t)=>{null===n&&e.equity>0&&(n=e.equity,r=t)}));const i=this._getSecurityPriceHistory(e),a=this._generateSecurityPriceHistoryByDateLookup(e);if(!i||0===i.length)return[];const s=i[r].price,o=this._generateRatioChangeDatesLookup();let l=s>0?n/s:0;return t.map(((e,t)=>{const n=Gl(1e3*e.time),r=this._convertEpochToDateString(n),i=(a[r]||{}).price;if(!!o[r]){const e=o[r],t=(e,t)=>fre(t)+e,n=Array.isArray(e)?e.reduce(t,0):fre(e),a=i*l+n;l=i>0?a/i:0}return i>0?i*l:null}))})),bre(this,"_buildDatasetForSecurity",((e,t=0)=>{const{id:n,symbol:r}=e,i=MK[t];return{label:r,data:this._generateDatasetValuesForSecurityId(n),fill:!1,borderWidth:3,borderColor:VK(i,"0.75"),borderCapStyle:"butt",pointHoverRadius:1,pointRadius:.5,spanGaps:!0,backgroundColor:VK(i,"0.25"),pointHoverBackgroundColor:VK(i,"0.75")}})),bre(this,"_hasReachedMax",(()=>5<=this.getPerformanceComparisonSecurities().length)),bre(this,"_fetchChartDataForSecurityIds",(e=>{const{dispatch:t}=this.props;xC(e,"one_year")(t)})),bre(this,"_showAddStockSearch",(()=>{const{windowHeight:e,dispatch:t}=this.props,n=c.createElement("div",{className:"equity-history-stock-comparison-container"},c.createElement(yG,{className:" "},"Search for a stock for comparison"),c.createElement("div",{style:{width:"95%",margin:"0 auto",padding:"25px 0 0 0",height:e-100}},c.createElement(UA,{id:"performance_comparison_securities_search",icon:"fa-search",parentComponent:"Performance Comparison Securities",placeholder:"Search Stocks...",handleSecurityQuerySelection:this.handleAddStockSelection,autoFocus:!0})));bb({contentComponent:n,dismissable:!0,size:"wide"})(t)})),bre(this,"isUsingStockPerformanceComparison",(()=>this.state.isUsingPerformanceComparison)),bre(this,"getPerformanceComparisonSecurities",(()=>this.isUsingStockPerformanceComparison?this.state.performanceSecurities:[])),bre(this,"_getComparisonPerformanceSecuritiesFromStorage",(()=>O_(I_))),bre(this,"_saveComparisonPerformanceSecuritiesStorage",(e=>{L_(I_,e)})),bre(this,"_clearComparisonSecurityIdsFromStorage",(()=>{var e;e=I_,window.localStorage.removeItem(e)})),bre(this,"_getEquityHistory",(()=>this.props.equityHistory)),bre(this,"_generateSecurityPriceHistoryByDateLookup",(e=>{const t=this._getSecurityPriceHistory(e),n={};return null===t||t.forEach((e=>{const t=Gl(1e3*e.time);n[this._convertEpochToDateString(t)]=e})),n})),bre(this,"_convertEpochToDateString",(e=>Yl("l",e))),bre(this,"_getSecurityPriceHistory",(e=>(this._getPriceHistoryLookup()[e]||{}).one_year||null)),bre(this,"_getPriceHistoryLookup",(()=>(this.props.priceHistoryLookup||{}).securitiesList||{})),bre(this,"_getTransactionsHistory",(()=>this.props.transactionsHistory)),this.state={isUsingPerformanceComparison:!1,performanceSecurities:[]}}componentDidMount(){const e=this._getComparisonPerformanceSecuritiesFromStorage();if(null!==e){const t=e.map((e=>e.id));this._fetchChartDataForSecurityIds(t),this.setState((t=>({isUsingPerformanceComparison:!0,performanceSecurities:e})))}}render(){const{children:e}=this.props;return e(this.getPerformanceComparisonSecurities(),this._generateAdditionalDatasets(),c.createElement("div",{className:"chart-performance-comparison-picker-container"},c.createElement("div",null,this.isUsingStockPerformanceComparison()&&c.createElement("div",{className:"chart-performance-comparison-picker-tag-container align-top-flex-end"},c.createElement("div",{className:"chart-performance-comparison-picker-tags flex-align-center-justify-end"},this.getPerformanceComparisonSecurities().map(((e,t)=>c.createElement("div",{key:e.id,style:{marginLeft:"5px"}},c.createElement(mre,{index:t,securityId:e.id,symbol:e.symbol,onRemove:this.handleRemovePerformanceComparisonSecurity}))))),c.createElement("div",{className:"flex-column-center",style:{marginLeft:"15px",height:"39px"}},this._hasReachedMax()?c.createElement("div",null,c.createElement("span",{className:"error-text-color",style:{lineHeight:"39px"}},"5/5")):c.createElement("div",null,c.createElement(aS,{icon:" fa fa-plus",customClass:"circle-fill-button success-button-color",size:"medium",handleClick:this.handleAddAnotherClick})))))))}}var xre=Xk(T((e=>({transactionsHistory:e.historyTransactions.transactions,priceHistoryLookup:gre(e)})))(Cre));const wre=u.div`
  > div:first-child {
    margin-right: 2.5%;
    margin-left: 2.5%;
    width: 95%;
    max-width: 950px;
  }
  > div:first-child {
    width: 100%;
    max-width: 950px;

    margin-left: auto;
    margin-right: auto;
  }
  @media (max-width: 1199px) {
    > div:first-child {
      margin-right: 2.5%;
      margin-left: 2.5%;
      width: 95%;
      max-width: 950px;
    }
  }
`,Sre=()=>{const e=ZT().is_account_closed;return c.createElement(nre,{eventName:"View History",pageTitle:`${Xo} - History`,className:"history-page-container",requests:["fetchCurrentUserQuickInfo","fetchHistoryTransactionData","fetchHistoryEquityData"]},!e&&c.createElement(wre,null,c.createElement(X5,{hideRefresh:!0})),c.createElement(OF,null,c.createElement(pre,{eventName:"Equity Chart Tab Clicked"},((e,t)=>c.createElement(ore,{activeTab:e},(n=>c.createElement(xre,{equityHistory:n},((r,i,a)=>c.createElement(wne,{activeTab:e,chartData:n,additionalDatasets:i,TabsRenderer:t,PerformanceComparisonSecuritiesRenderer:a}))))))),c.createElement(rre,{style:{paddingTop:25}}),c.createElement(Xne,null),c.createElement(rre,{style:{paddingTop:25}}),c.createElement(qne,null)))},kre=u.div`
  margin: 0 auto;
  padding: 16px 0;
  width: 100%;
  max-width: 300px;

  .default-search-container .search-results-container {
    top: 49px;
    left: 0px;
    right: 0px;
  }
`,Tre=u.div`
  margin: 0 auto;
  max-width: 300px;

  display: flex;
  align-items: center;
  justify-content: space-between;
`,Ire=u.div`
  button {
    width: 140px;
  }
`,Nre=({handleSearchSelection:e})=>c.createElement(kre,{className:"search-stock-for-order-container"},c.createElement(UA,{id:"add-order-security-search",customIcon:"fa-plus",autoFocus:!0,parentComponent:"Trade Page",placeholder:"Search Stock or ETF",handleSecurityQuerySelection:e,dismissAfterSelection:!0})),Are=({customClass:e,btnClassName:t,handleButtonClick:n})=>c.createElement("div",{className:`create-order-button-container ${e||""}`},c.createElement(hx,{onClick:n,prefixIcon:"fa-plus"},"CREATE NEW ORDER")),Pre="trade",Dre="options",Ore=({btnClassName:e,customClass:t,inBasket:n,onSearchSelection:r})=>{const i=b(),{isEnabled:a}=NI(),[s,o]=c.useState(n||!a?Pre:null),[l,d]=c.useState(!1),u=()=>{d(!0)},h=e=>{if(!e)return!1;if(s!==Pre)if(s!==Dre);else{const t=e.id||null;i(dn.build(t))}else r(e)},p=()=>{TC("Click Manual Trade",{})(),o(Pre)},m=()=>{o(Dre)};return a?null!==s?c.createElement(Nre,{handleSearchSelection:h}):l?c.createElement(Tre,null,c.createElement(Ire,null,c.createElement(hx,{onClick:p},"Trade")),c.createElement(Ire,null,c.createElement(hx,{onClick:m},"Options"))):c.createElement(Are,{customClass:t,btnClassName:e,handleButtonClick:u}):null!==s||l?c.createElement(Nre,{handleSearchSelection:h}):c.createElement(Are,{customClass:t,btnClassName:e,handleButtonClick:u})},Lre=u.div`
  max-width: 324px;
`,Rre=e=>c.createElement(Lre,null,c.createElement(Iw,null,c.createElement(Ci,null,`Do not place orders smaller than $${e.value}`)),c.createElement(Iw,{top:6},c.createElement($F,{pearling:!0,min:e.min,max:e.max,step:e.step||1,value:e.value,onChange:e.handleChange,withBars:!0})));var Fre=Object.defineProperty,Mre=(e,t,n)=>(((e,t,n)=>{t in e?Fre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Ure=u.div`
  text-align: center;
  padding-top: 3px;

  * {
    font-size: 10px !important;
    line-height: 14px;
  }
`,$re=u.div`
  width: 100%;
`;class Bre extends C.exports.Component{constructor(){super(),Mre(this,"_renderNonSubdividedOrder",(()=>c.createElement("div",{className:`order-container border-accent ${this._returnOrderContainerClasses()}`},this._renderOrder(this._returnOrder())))),Mre(this,"_renderSubdividedOrder",(()=>c.createElement("div",{className:`order-container border-accent ${this._returnOrderContainerClasses()}`},this._renderOrder(this._returnOrder()),this._renderOrder(this._returnSubdivisionOrder())))),Mre(this,"_renderOrder",(e=>this._isMobileSize()?this._renderMobileOrder(e):c.createElement("div",{className:`order-body ${this._returnSubDividedOrderContainerClasses(e)}`},this._renderOrderTypeAndOperation(e),this._renderOrderIdentifier(e),c.createElement("div",{className:"order-last-price-container"},!this._isSubdivision(e)&&c.createElement("div",null,c.createElement("span",{className:"order-last-price"},`${this._returnDisplayStringForLastPrice(e)}`),this._isLiveTrading()&&c.createElement("span",{className:"order-see-more-pricing link-btn",onClick:this._handleSeeMorePricingClick},"MORE"))),c.createElement("div",{className:"order-current-position-container"},c.createElement("span",{className:"order-current-position"},!this._isSubdivision(e)&&`${this._returnCurrentPosition(e)}`)),c.createElement("div",{className:"order-size-container"},c.createElement("span",{className:"order-size"},`${this._returnShares(e)}`)),c.createElement("div",{className:"order-approx-value-container"},c.createElement("span",{className:"order-approx-value  "},`${this._returnDisplayStringForApproxValue(e)}`)),!this._isSubdivision(e)&&c.createElement("div",{className:"order-actions"},this._renderEdit(),this._renderDelete())))),Mre(this,"_renderMobileOrder",(e=>c.createElement("div",{className:`order-body ${this._returnSubDividedOrderContainerClasses(e)}`},this._renderOrderTypeAndOperation(e),this._renderOrderIdentifier(e),c.createElement("div",{className:"order-last-price-container "+(this._isMobileSize()?"mobile":"")},!this._isSubdivision(e)&&c.createElement("div",null,c.createElement("span",{className:"order-last-price"},`${this._returnDisplayStringForLastPrice(e)}`),this._isLiveTrading()&&c.createElement("span",{className:"order-see-more-pricing",onClick:this._handleSeeMorePricingClick},"MORE"))),c.createElement("div",{className:"order-size-container "+(this._isMobileSize()?"mobile":"")},c.createElement("span",{className:"order-size"},`${this._returnShares(e)}`),c.createElement("span",{className:"order-approx-value"},`~ ${this._returnDisplayStringForApproxValue(e)}`)),!this._isSubdivision(e)&&c.createElement("div",{className:"order-actions"},this._renderEdit(),this._renderDelete())))),Mre(this,"_renderSubdividedPlacedOrder",(()=>c.createElement("div",{className:`order-container border-accent ${this._returnOrderContainerClasses()}`},this._renderOrder(this._returnOrder()),this._renderOrder(this._returnSubdivisionOrder())))),Mre(this,"_renderPlacedOrderContainer",(()=>this._isSubdivided()?c.createElement("div",{className:`order-container border-accent ${this._returnOrderContainerClasses()}`},this._renderPlacedOrder(this._returnOrder()),this._renderPlacedOrder(this._returnSubdivisionOrder())):c.createElement("div",{className:`order-container border-accent ${this._returnOrderContainerClasses()}`},this._renderPlacedOrder(this._returnOrder())))),Mre(this,"_renderPlacedOrder",(e=>c.createElement($re,{className:`order-body placed-order ${this._returnSubDividedOrderContainerClasses(e)}`},this._renderOrderTypeAndOperation(e),this._renderOrderIdentifier(e),c.createElement("div",{className:"order-fill-container"},c.createElement("span",{className:"order-fill-size"},`${this._returnDisplayStringForFilledQty(e)}`),this._isFilledOrPartiallyFilledOrder(e)&&c.createElement("span",{className:"order-fill-price secondary-text-color"},`Avg. Price: ${this._returnDisplayStringForAvgFillPrice(e)}`),this._isMobileSize()&&c.createElement(Ure,null,c.createElement("span",{className:"order-executed-at"},`${this._returnDisplayStringForOrderExecutionTime(e)}`))),!this._isMobileSize()&&c.createElement("div",{className:"order-executed-at-container"},c.createElement("span",{className:"order-executed-at"},`${this._returnDisplayStringForOrderExecutionTime(e)}`)),this._isSubdivision(e)?c.createElement("div",{className:"cancel-order-container border-accent"},this._renderOrderStatus(e,{showOrderStatus:!0})):c.createElement("div",{className:"cancel-order-container border-accent"},this.props.allowCancel&&this._renderCancelOrder())))),Mre(this,"_renderOrderTypeAndOperation",(e=>c.createElement("div",{className:"order-type-and-operation"},c.createElement("div",{className:`order-operation ${this._returnColorClassForOperation(e)}`},this._returnDisplayStringForOperation(e)),this._hasSubOperation(e)&&c.createElement("div",{className:`order-sub-operation ${this._returnColorClassForOperation(e)}`},this._returnDisplayStringForSubOperation(e),this._shouldDisplaySECRule(e)&&this._renderSECRule()),c.createElement("div",{className:"order-type"},this._returnDisplayStringForOrderType(e)),this._isStopOrder()&&c.createElement("div",{className:"order-type-price"},this._returnDisplayStringForStopPrice(e)),this._isLimitOrder()&&c.createElement("div",{className:"order-type-price"},this._returnDisplayStringForLimitPrice(e))))),Mre(this,"_renderOrderIdentifier",(e=>c.createElement("div",{className:"order-security-identifier",onClick:this._handleIdentifierClick,style:this._isPlacedOrder()?{cursor:"pointer"}:{}},!this._isSubdivision(e)&&c.createElement("div",null,c.createElement("span",{className:"order-security-symbol  "},this._returnSecuritySymbol()),c.createElement("span",{className:"order-security-company-name secondary-text-color"},this._returnSecurityName()))))),Mre(this,"_renderSECRule",(()=>c.createElement(iS,{word:"tooltip_sec_rule_for_short_sale",symbol:this._returnSecuritySymbol(),style:{position:"relative",top:"0",left:"2px"}}))),Mre(this,"_isACancelledStatus",(()=>{return e=this._returnOrder(),Gf[e.execution_status]||!1;var e})),Mre(this,"_renderCancelOrder",(()=>this._isCancelingOrder()?this._renderCancelingOrder():this._renderOrderStatus())),Mre(this,"_returnOrderStatus",(e=>(e=>jf[e.execution_status]||"")(e||this._returnOrder()))),Mre(this,"_renderOrderStatus",((e,t)=>t&&t.showOrderStatus?c.createElement("div",{className:"order-status"},this._returnOrderStatus(e)):this._isCancellable()?this._renderCancelOrderButton():c.createElement("div",{className:"order-status"},this._returnOrderStatus(e)))),Mre(this,"_renderCancelOrderButton",(()=>c.createElement(hx,{transparent:!0,small:!0,onClick:this._handleCancelClick},"Cancel"))),Mre(this,"_renderEdit",(()=>c.createElement("div",{className:"button-icon-container"},c.createElement(aS,{size:"large",colorClassName:"link-text-color",icon:"fa-pencil",background:"rgba(0,0,0,0)",handleClick:this.handleEditClick})))),Mre(this,"_renderDelete",(()=>c.createElement("div",{className:"button-icon-container"},c.createElement(aS,{size:"large",colorClassName:"link-text-color",icon:"fa-trash-o",background:"rgba(0,0,0,0)",handleClick:this._handleDeleteClick})))),Mre(this,"_returnOrderContainerClasses",(()=>{const e=[];return this._isSubdivided()&&e.push("sub-divided-order"),this._returnWindowWidth()<=900&&e.push("condensed-order-container border-accent"),this._isMobileSize()&&e.push("mobile-order-container border-accent"),this._isPlacedOrder()&&this._isACancelledStatus()&&e.push("order-cancelled component-bg-faded"),e.join(" ")})),Mre(this,"_returnSubDividedOrderContainerClasses",(e=>{const t=[];return t.push(`order-${this._returnOrderId(e)}`),t.join(" ")})),Mre(this,"_isMobileSize",(()=>this.props.renderMobileSize||this._returnWindowWidth()<=jc)),Mre(this,"_isLiveTrading",(()=>this.props.isLiveTrading)),Mre(this,"_returnWindowWidth",(()=>this.props.windowWidth)),Mre(this,"_returnOrder",(()=>this.props.order)),Mre(this,"_returnOrderId",(e=>(e||this._returnOrder()).order_id)),Mre(this,"_isFilledOrPartiallyFilledOrder",(e=>this._returnFillShares(e||this._returnOrder())>0)),Mre(this,"_isCancellable",(()=>this._returnOrder().can_be_canceled)),Mre(this,"_hasSubOperation",(e=>(e=>Wf[Kf(e)])(e||this._returnOrder()))),Mre(this,"_isSubdivided",(e=>!!(e||this._returnOrder()).subdivision)),Mre(this,"_isSubdivision",(e=>!!(e||this._returnOrder()).is_subdivision)),Mre(this,"_shouldDisplaySECRule",(e=>!!(e||this._returnOrder()).display_sec_rule)),Mre(this,"_returnSubdivisionOrder",(()=>this._returnOrder().subdivision)),Mre(this,"_returnCurrentPosition",(e=>this.props.currentPosition||0)),Mre(this,"_returnShares",(e=>e.shares)),Mre(this,"_returnLastPrice",(()=>this.props.lastPrice)),Mre(this,"_returnApproxValue",(e=>tv(Zf(e),this._returnShares(e),this._returnLastPrice(),this._isLimitOrder(),this._returnLimitPrice(e),this._isStopOrder(),this._returnStopPrice(e)))),Mre(this,"_returnOperation",(e=>e.operation)),Mre(this,"_returnOrderType",(e=>e.type)),Mre(this,"_returnLimitPrice",(e=>e.limit_price)),Mre(this,"_returnStopPrice",(e=>e.stop_price)),Mre(this,"_returnCommission",(e=>e.commission)),Mre(this,"_returnFillShares",(e=>e.filled_shares)),Mre(this,"_returnOrderExecutionTime",(e=>e.executed_at)),Mre(this,"_returnAvgFillPrice",(e=>e.average_fill_price)),Mre(this,"_returnDisplayStringForFilledQty",(e=>`${this._returnFillShares(e)} / ${this._returnShares(e)}`)),Mre(this,"_returnDisplayStringForLimitPrice",(e=>`${this._isMobileSize()?"":"@ "}${B_(this._returnLimitPrice(e),"price")}${!this._isMobileSize()&&this._isStopOrder()&&this._isLimitOrder()?" limit":""}`)),Mre(this,"_returnDisplayStringForStopPrice",(e=>`${this._isMobileSize()?"":"@ "}${B_(this._returnStopPrice(e),"price")}${!this._isMobileSize()&&this._isStopOrder()&&this._isLimitOrder()?" stop":""}`)),Mre(this,"_returnDisplayStringForLastPrice",(e=>B_(this._returnLastPrice(e),"price"))),Mre(this,"_returnDisplayStringForApproxValue",((e,t)=>{const n=t?Math.round(this._returnApproxValue(e)):this._returnApproxValue(e);return Number.isNaN(n)?"":B_(n,"priceInt")})),Mre(this,"_returnDisplayStringForOrderType",(e=>{return(t=this._returnOrderType(e)).indexOf("_")>=0?t.split("_").map((e=>ck(e))).join(" "):ck(t);var t})),Mre(this,"_returnDisplayStringForAvgFillPrice",(e=>B_(this._returnAvgFillPrice(e),"price"))),Mre(this,"_returnDisplayStringForOrderExecutionTime",(e=>nk(this._returnOrderExecutionTime(e))?"":B_(this._returnOrderExecutionTime(e),"time"))),Mre(this,"_returnDisplayStringForOperation",(e=>ev(this._returnOperation(e)))),Mre(this,"_returnDisplayStringForSubOperation",(e=>{return t=this._returnOperation(e),Hf[t];var t})),Mre(this,"_returnColorClassForOperation",(e=>Qf(e)?"buy-text-color":"sell-text-color")),Mre(this,"_handleSeeMorePricingClick",(()=>{this._logSeeMorePricingClick(),this.props.handleSeeMorePricingClick(this._returnSecurityId())})),Mre(this,"_handleIdentifierClick",(()=>{this._isPlacedOrder()&&(this._logOpenSecurityPanel(),this._openSecurityPanel())})),Mre(this,"_openSecurityPanel",(()=>{const e={securityId:this._returnSecurityId(),additionalProps:{activeTab:"ideas"},navigate:this.props.navigate,location:this.props.location},t=CU(e);this.props.navigate(t)})),Mre(this,"_handleCancelResponse",(async e=>{if(e&&e.data&&"canceled"===e.data.status)await this._refreshUserData(),this._logCancelOrder();else{const t=e&&e.data&&e.data.error||"Something went wrong. Please try again later.",n={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},`${t}`),dismissable:!0};this._logCancelOrderFailed(t),this.props.actions.showModal(n)}})),Mre(this,"_handleCancelClick",(async()=>{this._startCancelingOrder();const e=await this._cancelPlacedOrder();await this._handleCancelResponse(e),this._stopCancelingOrder()})),Mre(this,"handleEditClick",(()=>this.props.handleEditOrder(this._returnOrderId()))),Mre(this,"_handleDeleteClick",(()=>{this._logDeleteOrder(),this._deleteOrder()})),Mre(this,"_cancelPlacedOrder",(()=>this.props.actions.cancelPlacedOrder(this._returnOrderId()))),Mre(this,"_startCancelingOrder",(()=>{this.setState((()=>({_isCancelingOrder:!0})))})),Mre(this,"_stopCancelingOrder",(()=>{this.setState((()=>({_isCancelingOrder:!1})))})),Mre(this,"_isCancelingOrder",(()=>this.state._isCancelingOrder)),Mre(this,"_renderCancelingOrder",(()=>c.createElement("div",{className:"canceling-order-container border-accent"},c.createElement(_e,null),c.createElement("span",{className:"text-container"},"Canceling")))),Mre(this,"_deleteOrder",(()=>this.props.actions.deleteOrder(this._returnOrderId()))),Mre(this,"_isLimitOrder",(()=>"limit"===this._returnOrder().type||"stop_limit"===this._returnOrder().type)),Mre(this,"_isStopOrder",(()=>"stop"===this._returnOrder().type||"stop_limit"===this._returnOrder().type)),Mre(this,"_isPlacedOrder",(()=>this._returnOrder().is_placed)),Mre(this,"_isFromOptimizer",(()=>this._returnOrder().is_from_optimizer)),Mre(this,"_returnSecurityName",(()=>this._returnSecurity().name)),Mre(this,"_returnSecuritySymbol",(()=>this._returnSecurity().symbol)),Mre(this,"_returnSecurity",(()=>this._returnSecuritiesLookup()[this._returnSecurityId()]||{})),Mre(this,"_returnSecuritiesLookup",(()=>this._returnSecuritiesStore().lookup)),Mre(this,"_returnSecuritiesStore",(()=>this.props.securities)),Mre(this,"_returnSecurityId",(()=>this._returnOrder().security_id)),Mre(this,"_isSecurityDataAvailable",(()=>"symbol"in this._returnSecurity()&&"name"in this._returnSecurity())),Mre(this,"_isSecurityDataLoading",(()=>!this._isSecurityDataAvailable())),Mre(this,"_getSecurityData",(()=>this.props.actions.quickFetchSecuritiesData([this._returnSecurityId()]))),Mre(this,"_refreshSecurityPrices",(()=>this.props.actions.fetchSecuritiesPriceData([this._returnSecurityId()]))),Mre(this,"_refreshUserData",(()=>this.props.refreshUserData())),Mre(this,"_logSeeMorePricingClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked See More Pricing",{Context:"Order"})})),Mre(this,"_logCancelOrder",(()=>{const e={"Order ID":this._returnOrderId(),"Is From Optimizer":this._isFromOptimizer(),"Is Subdivided":this._isSubdivided(),"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbol()};this.props.actions.logMetricsTrackingEvent("Request Order Cancel",e)})),Mre(this,"_logCancelOrderFailed",(e=>{const t={"Order ID":this._returnOrderId(),"Error Message":e,"Is From Optimizer":this._isFromOptimizer(),"Is Subdivided":this._isSubdivided(),"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbol()};this.props.actions.logMetricsTrackingEvent("Request Order Cancel Failed",t)})),Mre(this,"_logDeleteOrder",(()=>{const e={"Order ID":this._returnOrderId(),"Is From Optimizer":this._isFromOptimizer(),"Is Subdivided":this._isSubdivided(),"Security ID":this._returnSecurityId(),"Security Symbol":this._returnSecuritySymbol()};this.props.actions.logMetricsTrackingEvent("Remove Order",e)})),Mre(this,"_logOpenSecurityPanel",(()=>{this.props.actions.logMetricsTrackingEvent("Open Security Panel",{Context:"Placed Order"})})),this.state={_isCancelingOrder:!1}}componentDidMount(){this._isSecurityDataAvailable()||(this._getSecurityData(),this._refreshSecurityPrices())}render(){return this._isSecurityDataLoading()?c.createElement("div",{className:"order-loading-container order-container border-accent"},c.createElement(_e,{icon:"fading-3balls",size:"small"})):this._isPlacedOrder()?this._renderPlacedOrderContainer():this._isSubdivided()?this._renderSubdividedOrder():this._renderNonSubdividedOrder()}}const zre=N(Xk,_c,T((e=>({portfolio:e.portfolio,securities:e.securities,currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(Bre),Vre=e=>{const{isMobile:t,windowWidth:n,isPricingUpdating:r,handleRefreshPricingClick:i}=e,{isOpen:a}=jN(),s=n<=Gc;return c.createElement("div",{className:`\n      order-basket-list-heading\n      ${s?"condensed-order-basket-list-heading":""}\n    `},c.createElement("div",{className:"order-type-and-operation"},a&&c.createElement("div",{className:"refresh-prices-container refresh-text-color",onClick:i},c.createElement("span",{className:"refresh-icon-container "+(r?"is-updating":"")},c.createElement(xc,{icon:"fa-refresh",size:"small",colorClassName:"refresh-text-color"})),c.createElement("span",{className:"text-container"},"Refresh pricing"))),c.createElement("div",{className:"order-security-identifier"},""),c.createElement("div",{className:"order-last-price-container "+(t?"mobile":"")},"Last Price"),!t&&c.createElement("div",{className:"order-current-position-container"},"Current Position"),c.createElement("div",{className:"order-size-container "+(t?"mobile":"")},"Trade Size"),!t&&c.createElement("div",{className:"order-approx-value-container"},"Approx. Trade Value"),c.createElement("div",{className:"order-action-container-filler"}))};var Hre=Object.defineProperty,Wre=(e,t,n)=>(((e,t,n)=>{t in e?Hre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const jre=u.div`
  button {
    padding: 8px 10px;
  }
`,Gre=u.div`
  button {
    padding: 4px 0px;
  }
`,qre=()=>{const{isOpen:e}=jN();return e?null:c.createElement("div",{className:"market-closed-message-container"},c.createElement("div",{className:"react-trading-notice"},c.createElement("i",{className:"fa fa-exclamation-circle yellow icon-in-btn"}),c.createElement("span",null,"Market is currently closed.")))};class Yre extends C.exports.Component{constructor(){super(),Wre(this,"_renderPlaceOrdersState",(()=>{const e=this.props.renderPlacingOrdersState();return e?c.createElement("div",{className:"creating-optimized-orders-overlay",onClick:this.handleRenderPlaceOrdersStateOverlayClick},c.createElement("div",{className:"creating-orders-panel component-bg"},e)):null})),Wre(this,"handleRenderPlaceOrdersStateOverlayClick",(e=>!!e.target.classList.contains("creating-optimized-orders-overlay")&&(!this.props.shouldRestrictDismissal&&(this.props.wasOrderPlaced&&!this.props.isAddProConPanelShowing?this.props.showAddProConPanelForPlacedOrders():this.props.clearPlaceOrdersState())))),Wre(this,"_renderBasket",(()=>this._arePendingOrders()?c.createElement("div",{className:"order-basket-container"},c.createElement("div",{className:"order-basket-heading"},c.createElement("div",{className:"heading-panel"},this.props.headerComponent),c.createElement("div",{className:"order-summary-panel"},this._renderBasketActionButtons(),this._renderOrderSummary())),this._isOptimizedOrderInBasket()&&c.createElement(Rre,{min:0,max:this._calculateMaxMinimumOrderValue(),value:this._returnMinimumOrderValue(),handleChange:this.handleMinimumOrderValueChange}),c.createElement("div",{className:"order-basket-list"},this._renderFilteringOrdersBanner(),c.createElement(Vre,{isMobile:this.shouldShowMobileComponents(),windowWidth:this.props.windowWidth,isPricingUpdating:this._isPricingUpdating(),handleRefreshPricingClick:this._handleRefreshPricingClick}),this._returnAllOrdersToDisplay().map((e=>c.createElement(zre,{key:`order-${e.order_id}`,order:e,currentPosition:this._returnNumberOfCurrentSharesInPosition(e.security_id),lastPrice:this._returnCurrentPriceForSecurityId(e.security_id),renderMobileSize:this.shouldShowMobileComponents(),windowWidth:this.props.windowWidth,isLiveTrading:this._isLiveTrading(),handleEditOrder:this.handleEditOrder,handleSeeMorePricingClick:this.handleSeeMorePricingClick})))),c.createElement("div",{className:"order-basket-note secondary-text-color"},this._returnAllOrdersToDisplay().length>1?"Orders above are not yet placed.  Click the Place Trade button to submit them.":"Order above is not yet placed.  Click the Place Trade button to submit it."),c.createElement("div",{className:"order-basket-actions-footer"},!this.shouldRestrictAddingOrders()&&c.createElement(Ore,{btnClassName:"btn skel-btn skel-btn-primary-color btn-small-tall",inSearchMode:this.isSearchingForStockToAdd(),inBasket:!0,handleButtonClick:this.handleCreateOrderButtonClick,onSearchSelection:this.handleStartCreatingOrderFromSearch}),this._renderBasketActionButtonsWithMarketClosed())):c.createElement("div",{className:"order-basket-container"}))),Wre(this,"shouldRestrictAddingOrders",(()=>!(!Cp(this._returnCurrentUser())||!this._isOptimizedOrderInBasket()))),Wre(this,"_renderMarketClosedMessage",(()=>c.createElement(qre,null))),Wre(this,"_renderOrderSummary",(()=>c.createElement("div",{className:"order-basket-summary"},this._renderBuyOrdersValueSummaryRow(),this._renderSellOrdersValueSummaryRow(),this._renderTotalCommissionsRow(),this._renderTotalEstimatedValueSummaryRow(),this._isUsingCommissionCredits()&&c.createElement("div",{style:{display:"block",position:"relative"}},this._renderCommissionsCredits(),c.createElement(iS,{position:"right",word:"tooltip_commission_credit",style:{top:"3px",right:"0"}}))))),Wre(this,"_renderOrderSummaryRow",((e,t,n)=>this._isLoading()?c.createElement("div",{className:`order-summary-row ${e}-summary-row`},c.createElement("span",{className:"row-label"},`${t}:`),c.createElement("span",{className:"row-value"},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}))):c.createElement("div",{className:`order-summary-row ${e}-summary-row  `},c.createElement("span",{className:"row-label"},`${t}:`),c.createElement("span",{className:"row-value"},n)))),Wre(this,"_renderBuyOrdersValueSummaryRow",(()=>this._renderOrderSummaryRow("buy-orders","Buy Orders",`${this._returnDisplayStringForPriceValue(this._returnTotalBuyOrdersValue())}`))),Wre(this,"_renderSellOrdersValueSummaryRow",(()=>this._renderOrderSummaryRow("sell-orders","Sell Orders",`${this._returnDisplayStringForPriceValue(this._returnTotalSellOrdersValue())}`))),Wre(this,"_renderTotalCommissionsRow",(()=>this._renderOrderSummaryRow("commissions","Commissions",`${this._returnDisplayStringForPriceValue(this._returnTotalCommissionsValue())}`))),Wre(this,"_renderTotalEstimatedValueSummaryRow",(()=>this._renderOrderSummaryRow("total-estimated-orders-value","Total Estimated Value",`${this._returnDisplayStringForPriceValue(this._returnOrdersTotalEstimatedValue())}`))),Wre(this,"_renderCommissionsCredits",(()=>this._isUsingCommissionCredits()?this._renderOrderSummaryRow("commissions-credits-applied-value","Commission Credits To Be Applied",`${this._returnDisplayStringForPriceValue(this._returnOrderCommissionCreditsValue())}`):null)),Wre(this,"_renderFilteringOrdersBanner",(()=>{const e=this._countOfOrdersFilteredBasedOnMinimumTradeValue(),t=this._returnMessageForFilterBanner(e);return e>0&&c.createElement("div",{className:"filtered-orders secondary-text-color"},t)})),Wre(this,"_returnMessageForFilterBanner",(e=>`Filtering ${e} small order${e>1?"s":""}. Use the slider above to adjust the minimum order value.`)),Wre(this,"_renderBasketActionButtons",(()=>c.createElement("div",{className:"order-basket-actions-container"},c.createElement("div",{className:"buttons-container"},c.createElement(Gre,null,c.createElement(hx,{transparent:!0,onClick:this._handleDeleteAllOrders},"Delete All")),c.createElement(jre,null,c.createElement(hx,{onClick:this._handlePlaceAllOrders},"Place Orders")))))),Wre(this,"_renderBasketActionButtonsWithMarketClosed",(()=>c.createElement("div",{className:"order-basket-actions-container"},this._renderMarketClosedMessage(),c.createElement("div",{className:"buttons-container"},c.createElement(Gre,null,c.createElement(hx,{transparent:!0,onClick:this._handleDeleteAllOrders},"Delete All")),c.createElement(jre,null,c.createElement(hx,{onClick:this._handlePlaceAllOrders},"Place Orders")))))),Wre(this,"_renderEditOrder",(()=>{if(!this._isEdittingOrder())return null;const e=this._returnOrderBeingEditted(),t=this._returnFormDataForForm(e);return c.createElement(pW,{defaultFormData:t,securityId:e.security_id,orderId:e.order_id,order:e,handleCompleteOrder:this.handleCompleteEditOrder,handleCancelOrder:this.handleCancelEditOrder,editMode:!0})})),Wre(this,"_showErrorMessage",(e=>{const t={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),dismissable:!0};return this.props.actions.showModal(t)})),Wre(this,"_handlePlaceAllOrders",(()=>{const e=this._returnAllOrdersToDisplay();this.props.placeOrders(e)})),Wre(this,"_handleRefreshPricingClick",(()=>{this._logUpdatingPricingClick(),this._startUpdatingPricing();const e=[this._refreshSecurityPrices(),this._refreshUserData()];return Promise.all(e).then((e=>{this._stopUpdatingPricing()}))})),Wre(this,"_handleDeleteAllOrders",(()=>{const e=this._returnAllNotPlacedOrderIds();this.props.actions.clearOrderBasket(e).then((e=>{if(e&&e.ok)this._logDeleteAllOrders(),rk();else{const t="Something went wrong, could not delete orders at this time.",n=e&&e.error;this._showErrorMessage(n||t)}}))})),Wre(this,"handleEditOrder",(e=>{this._setEditOrder(e),this._logEditOrderClick(e)})),Wre(this,"handleCompleteEditOrder",(()=>{this._clearEditOrder()})),Wre(this,"handleCancelEditOrder",(()=>{this._clearEditOrder()})),Wre(this,"handleSeeMorePricingClick",(e=>{this._setSeeMorePricingSecurityId(e)})),Wre(this,"handleSeeMorePricingDismiss",(()=>{this._clearSeeMorePricingSecurityId()})),Wre(this,"handleMinimumOrderValueChange",(e=>{this._setMinimumOrderValue(e)})),Wre(this,"handleCreateOrderButtonClick",(()=>this.props.handleCreateOrderButtonClick())),Wre(this,"handleStartCreatingOrderFromSearch",(e=>this.props.handleStartCreatingOrderFromSearch(e))),Wre(this,"_isLoading",(()=>this.state._isLoading&&!this._isPricingLoaded())),Wre(this,"_renderLoading",(()=>c.createElement(Dw,{flatStyle:!0}))),Wre(this,"_isPricingLoaded",(()=>this.state._isPricingLoaded)),Wre(this,"_refreshUserData",(()=>{setTimeout(this.props.actions.fetchCurrentUserQuickInfo,250)})),Wre(this,"_returnFormDataForForm",(e=>{let t=0;return e.subdivision?(t+=e.shares,t+=e.subdivision.shares):t+=e.shares,{operation:Jc[e.operation],type:td[e.type],shares:t,limit_price:e.limit_price,stop_price:e.stop_price}})),Wre(this,"_returnOrderBeingEditted",(()=>this._returnAllNotPlacedOrders().filter((e=>e.order_id===this._returnOrderIdBeingEditted()))[0])),Wre(this,"_returnOrderIdBeingEditted",(()=>this.state.orderIdInEdit)),Wre(this,"_isShowingAddProConPanel",(()=>this.state._isShowingProConPanel)),Wre(this,"_isEdittingOrder",(()=>!nk(this._returnOrderIdBeingEditted()))),Wre(this,"_showSeeMorePricing",(()=>!nk(this.state.showMorePricingSecurityId))),Wre(this,"returnSeeMorePricingSecurityId",(()=>this.state.showMorePricingSecurityId)),Wre(this,"_getOrderData",(()=>this.props.actions.getOrders())),Wre(this,"_refreshSecurityPrices",(()=>this.props.actions.fetchSecuritiesPriceData([this._returnAllOrdersSecurityIds()]))),Wre(this,"_returnDataForOrderSummary",(()=>{const e=this._returnAllNotPlacedOrders(),t=this._filterOrdersBasedOnMinimumTradeValue(e);let n=0,r=0,i=0,a=0;return t.forEach((e=>{const t=e.limit_price,s=e.stop_price,o=this._returnCurrentPriceForSecurityId(e.security_id),l=e.shares,c=t&&t>0,d=s&&s>0;if(i+=e.commission||0,e.subdivision){const t=e.subdivision;i+=t.commission||0}if(Qf(e)){const e=tv(!1,l,o,c,t,d,s);n+=e,a+=e}if(Zf(e)){const e=tv(!0,l,o,c,t,d,s);r+=e,a+=e}})),{buyOrdersValue:n,sellOrdersValue:r,commissions:i,totalEstimatedValue:a}})),Wre(this,"_calculateMaxMinimumOrderValue",(()=>Math.ceil(.05*this._returnCurrentUserEquity()))),Wre(this,"_calculateDefaultMinimumOrderValue",(()=>Math.ceil(.01*this._returnCurrentUserEquity()))),Wre(this,"_isFilteringByMinimumOrderValue",(()=>!nk(this._returnMinimumOrderValue())&&this._isOptimizedOrderInBasket())),Wre(this,"_returnMinimumOrderValue",(()=>this.state._minimumOrderSizeValue)),Wre(this,"_setDefaultMinimumOrderValue",(()=>this._setMinimumOrderValue(this._calculateDefaultMinimumOrderValue()||0))),Wre(this,"_isOptimizedOrderInBasket",(()=>this._returnAllNotPlacedOrders().some((e=>e.is_from_optimizer)))),Wre(this,"_returnCurrentPriceForSecurityId",(e=>this._returnPricingDataForSecurity(e).current_price)),Wre(this,"_returnPricingDataForSecurity",(e=>og(e,this._returnSecuritiesPriceStore()))),Wre(this,"_returnSecuritiesPriceStore",(()=>this.props.securitiesPrice)),Wre(this,"_returnTotalBuyOrdersValue",(()=>this._returnDataForOrderSummary().buyOrdersValue)),Wre(this,"_returnTotalSellOrdersValue",(()=>this._returnDataForOrderSummary().sellOrdersValue)),Wre(this,"_returnTotalCommissionsValue",(()=>this._returnDataForOrderSummary().commissions)),Wre(this,"_returnOrdersTotalEstimatedValue",(()=>this._returnDataForOrderSummary().totalEstimatedValue+this._returnTotalCommissionsValue())),Wre(this,"_returnDisplayStringForPriceValue",(e=>B_(e,"price"))),Wre(this,"_isLiveTrading",(()=>Rp(this._returnCurrentUser()))),Wre(this,"_isUsingCommissionCredits",(()=>this.props.isUsingTradingCredits)),Wre(this,"_hasFreeTrading",(()=>this.props.hasFreeTrading)),Wre(this,"_hasCommissionCredits",(()=>this.props.hasTradingCredits)),Wre(this,"_userTradingCredits",(()=>this.props.userTradingCredits)),Wre(this,"_returnOrderCommissionCreditsValue",(()=>this._hasFreeTrading()||this._returnTotalCommissionsValue()<=this._userTradingCredits()?this._returnTotalCommissionsValue():this._returnTotalCommissionsValue()-(this._returnTotalCommissionsValue()-this._userTradingCredits()))),Wre(this,"isSearchingForStockToAdd",(()=>this.props.isSearchingForStockToAdd)),Wre(this,"_returnAllNotPlacedOrders",(()=>this._returnOrdersStore().not_placed_orders||[])),Wre(this,"_returnAllNotPlacedOrderIds",(()=>this._returnAllNotPlacedOrders().map((e=>e.order_id)))),Wre(this,"_areThereNotPlacedOrders",(()=>0===this._returnAllNotPlacedOrders().length)),Wre(this,"_returnAllPlacedOrders",(()=>this._returnOrdersStore().placed_orders||[])),Wre(this,"_isOrderSubdivied",(e=>e.subdivision)),Wre(this,"_returnAllOrders",(()=>[...this._returnAllNotPlacedOrders(),...this._returnAllPlacedOrders()])),Wre(this,"_returnAllOrdersSecurityIds",(()=>{const e=this._returnAllOrders().map((e=>e.security_id));return e.filter(((t,n)=>e.indexOf(t)===n))})),Wre(this,"_returnOrderEstimatedValue",(e=>Math.abs(e.shares*this._returnCurrentPriceForSecurityId(e.security_id))+(e.subdivision?Math.abs(e.subdivision.shares*this._returnCurrentPriceForSecurityId(e.security_id)):0))),Wre(this,"_returnOrderTrueEstimatedValue",(e=>e.shares*this._returnCurrentPriceForSecurityId(e.security_id)+(e.subdivision?e.subdivision.shares*this._returnCurrentPriceForSecurityId(e.security_id):0))),Wre(this,"_returnOrdersToBePlaced",(()=>this._filterOrdersBasedOnMinimumTradeValue(this._returnAllNotPlacedOrders()))),Wre(this,"_filterOrdersBasedOnMinimumTradeValue",(e=>this._isFilteringByMinimumOrderValue()?e.filter((e=>this._returnOrderEstimatedValue(e)>this._returnMinimumOrderValue())):e)),Wre(this,"_filteredOrdersBasedOnMinimumTradeValue",(e=>this._isFilteringByMinimumOrderValue()?e.filter((e=>Math.abs(this._returnOrderEstimatedValue(e))<=this._returnMinimumOrderValue())):[])),Wre(this,"_countOfOrdersFilteredBasedOnMinimumTradeValue",(()=>this._filteredOrdersBasedOnMinimumTradeValue(this._returnAllNotPlacedOrders()).length)),Wre(this,"_returnAllOrdersToDisplay",(()=>this._filterOrdersBasedOnMinimumTradeValue(this._returnAllNotPlacedOrders()))),Wre(this,"_isPricingUpdating",(()=>this.state._isPricingUpdating)),Wre(this,"_isLoadingOrdersData",(()=>this._returnOrdersStore().isLoading)),Wre(this,"_arePendingOrders",(()=>this._returnAllNotPlacedOrders()&&this._returnAllNotPlacedOrders().length>0)),Wre(this,"_returnOrdersStore",(()=>this.props.orders)),Wre(this,"_returnCurrentUser",(()=>this.props.currentUser)),Wre(this,"_returnCurrentUserEquity",(()=>this._returnCurrentUser().equity||0)),Wre(this,"_isSecurityDataLoadedForAllOrders",(()=>!this._areThereNotPlacedOrders()&&!this._isLoadingOrdersData()||this._returnAllNotPlacedOrders().every((e=>{const t=this._returnSecurityBySecurityId(e.security_id);return this._isSecurityDataAvailable(t)})))),Wre(this,"_isSecurityDataAvailable",(e=>this._returnSecurityName(e)&&this._returnSecuritySymbol(e))),Wre(this,"_returnSecurityName",(e=>e.name)),Wre(this,"_returnSecuritySymbol",(e=>e.symbol)),Wre(this,"_returnSecurityBySecurityId",(e=>this._returnSecuritiesLookup()[e]||{})),Wre(this,"_returnSecuritiesLookup",(()=>this._returnSecuritiesStore().lookup)),Wre(this,"_returnSecuritiesStore",(()=>this.props.securities)),Wre(this,"_returnNumberOfCurrentSharesInPosition",(e=>Qp(e,this._returnPortfolioStore()))),Wre(this,"_returnPortfolioStore",(()=>this.props.portfolio)),Wre(this,"_calculateValueOfOrder",(e=>{let t=0;const n=this._returnCurrentPriceForSecurityId(e.security_id),r=Qf(e)?1:-1;if(t+=n*e.shares*r,e.subdivision){const r=e.subdivision,i=Qf(r)?1:-1;t+=n*r.shares*i}return t})),Wre(this,"shouldShowMobileComponents",(()=>this.props.windowWidth<=jc)),Wre(this,"_returnStatusesThatIndicateOrderPlaceSuccessOrApproval",(()=>["submitted","stopped","filled","awaiting_approval"])),Wre(this,"_wasOrderPlacedSuccessfully",(e=>this._returnStatusesThatIndicateOrderPlaceSuccessOrApproval().includes(e.execution_status))),Wre(this,"_wasOrderPlacedSuccessfullyOrNeedsApproval",(e=>[...this._returnStatusesThatIndicateOrderPlaceSuccessOrApproval()].includes(e.execution_status))),Wre(this,"_wasOptimizedOrderPlacedSuccessfully",(e=>e.orders.some((e=>e.is_from_optimizer&&this._wasOrderPlacedSuccessfully(e))))),Wre(this,"_countNumOfOrdersPlacedFromResponse",(e=>{let t=0;return e.orders.forEach((e=>{this._wasOrderPlacedSuccessfully(e)&&(t+=1),this._isOrderSubdivied(e)&&this._wasOrderPlacedSuccessfully(e.subdivision)&&(t+=1)})),t})),Wre(this,"_calcTotalOrderCommissionFromResponse",(e=>{let t=0;return e.orders.forEach((e=>{this._wasOrderPlacedSuccessfully(e)&&(t+=e.commission),this._isOrderSubdivied(e)&&this._wasOrderPlacedSuccessfully(e.subdivision)&&(t+=e.subdivision.commission)})),t})),Wre(this,"_initializeOrderBasketData",(()=>{this._isOptimizedOrderInBasket()&&nk(this._returnMinimumOrderValue())&&this._setDefaultMinimumOrderValue(),this._isGettingPrices||(this._isGettingPrices=!0,this._refreshSecurityPrices().then((e=>{e&&e.data&&this._completeLoading()})))})),Wre(this,"_logEditOrderClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Edit Order",{})})),Wre(this,"_logDeleteAllOrders",(()=>{this.props.actions.logMetricsTrackingEvent("Remove All Orders",{})})),Wre(this,"_logUpdatingPricingClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Refresh Trade Page Pricing",{})})),Wre(this,"_didFinishLoading",(()=>{if(this._isLoading()){const e=this._returnCurrentUser().user_id,t=this._isSecurityDataLoadedForAllOrders();return e&&t}return!0})),Wre(this,"_completeLoading",(()=>{this.props.onCompleteLoading&&this.props.onCompleteLoading(),this.setState((()=>({_isLoading:!1,_isPricingLoaded:!0})))})),Wre(this,"_startUpdatingPricing",(()=>{this.setState((()=>({_isPricingUpdating:!0})))})),Wre(this,"_stopUpdatingPricing",(()=>{this.setState((()=>({_isPricingUpdating:!1})))})),Wre(this,"_setEditOrder",(e=>{this.setState((()=>({orderIdInEdit:e})))})),Wre(this,"_clearEditOrder",(()=>{this.setState((()=>({orderIdInEdit:null})))})),Wre(this,"_setSeeMorePricingSecurityId",(e=>{this.setState((()=>({showMorePricingSecurityId:e})))})),Wre(this,"_clearSeeMorePricingSecurityId",(()=>{this.setState((()=>({showMorePricingSecurityId:null})))})),Wre(this,"_setMinimumOrderValue",(e=>{this.setState((()=>({_minimumOrderSizeValue:e})))})),this.state={_isLoading:!0,_isPricingLoaded:!1,_isPricingUpdating:!1,_minimumOrderSizeValue:null,_isShowingProConPanel:!1,_groupedOrdersJustPlaced:[],orderIdInEdit:null,showMorePricingSecurityId:null}}componentDidMount(){this._didFinishLoading()&&this._initializeOrderBasketData()}componentDidUpdate(){this._didFinishLoading()&&this._initializeOrderBasketData()}render(){return c.createElement("div",{className:"order-basket-container"},this._renderPlaceOrdersState(),this._renderBasket(),this._renderEditOrder(),this._showSeeMorePricing()&&c.createElement(TH,{securityId:this.returnSeeMorePricingSecurityId(),symbol:this._returnSecuritySymbol(this._returnSecurityBySecurityId(this.returnSeeMorePricingSecurityId())),handleDismiss:this.handleSeeMorePricingDismiss,type:"modal"}))}}const Kre=N(Xk,T((e=>({ideas:e.ideas,orders:e.orders,portfolio:e.portfolio,currentUser:e.currentUser,securities:e.securities,securitiesPrice:e.securitiesPrice})),(e=>({actions:I(WC,e)}))))(Yre);var Qre=_c((e=>{const{navigate:t}=e;return c.createElement("div",{className:"order-history-container"},c.createElement(hx,{onClick:()=>{TC("Clicked See Full Order History",{})(),t(Ln("history"))},transparent:!0},"See Full Order History"))}));var Zre=T((e=>{const t=e.orders,{not_placed_orders:n,placed_orders:r,awaiting_approval_orders:i}=t;return{not_placed_orders:n,placed_orders:r,awaiting_approval_orders:i}}))((e=>{const{not_placed_orders:t,placed_orders:n,awaiting_approval_orders:r,children:i}=e;return i(n,r,t)}));const Xre=e=>{const{isMobile:t,windowWidth:n,isRefreshing:r,showRefreshButton:i,handleRefresh:a}=e,s=n<=Gc;return c.createElement("div",{className:`\n      order-basket-list-heading\n      placed-orders\n      ${s?"condensed-order-basket-list-heading":""}\n    `},c.createElement("div",{className:"order-type-and-operation"},i&&c.createElement("div",{className:"refresh-prices-container refresh-text-color",onClick:a},c.createElement("span",{className:"refresh-icon-container "+(r?"is-updating":"")},c.createElement(xc,{icon:"fa-refresh",size:"small",colorClassName:"refresh-text-color"})),c.createElement("span",{className:"text-container"},"Refresh order statuses"))),c.createElement("div",{className:"order-security-identifier"},""),c.createElement("div",{className:"order-fill-container"},"Filled / Order Size"),!t&&c.createElement("div",{className:"order-executed-at-container"},"Time"),c.createElement("div",{className:"cancel-order-container"},""))},Jre=e=>{const{isMobile:t,windowWidth:n,isRefreshing:r,showRefreshButton:i,handleRefresh:a,ordersAwaitingApprovalList:s,refreshUserData:o}=e;return!(s&&s.length>0)?null:c.createElement("div",{className:"orders-placed-container"},c.createElement("div",{className:"header"},c.createElement("h2",{className:"heading  "},"Orders Awaiting Approval")),c.createElement(Xre,{isMobile:t,windowWidth:n,isRefreshing:r,showRefreshButton:i,handleRefresh:a}),c.createElement("div",{className:"orders-placed-list"},s.map((e=>c.createElement(zre,{key:`order-${e.order_id}`,order:e,refreshUserData:o,windowWidth:n,allowCancel:!0})))))},eie=e=>{const t=D((t=>t.u_orders.ordersLookup[e])),[n,r]=c.useState(t);return c.useEffect((()=>{n===t||nk(t)||r(t)}),[t,n]),n},tie=e=>{const t=eie(e.id);return c.createElement(zre,o({order:t},e))},nie=e=>{const{isMobile:t,windowWidth:n,isRefreshing:r,showRefreshButton:i,handleRefresh:a,ordersPlacedTodayList:s,refreshUserData:o}=e;if(!s||!s.length>0)return null;const l=s.sort(((e,t)=>{const n=(null==e?void 0:e.last_updated_at)?Gl(null==e?void 0:e.last_updated_at):Gl(),r=(null==t?void 0:t.last_updated_at)?Gl(null==t?void 0:t.last_updated_at):Gl();return r.isBefore(n)?-1:n.isBefore(r)?1:0}));return c.createElement("div",{className:"orders-placed-container"},c.createElement("div",{className:"header"},c.createElement("h2",{className:"heading  "},"Orders Placed Today")),c.createElement(Xre,{isMobile:t,windowWidth:n,isRefreshing:r,showRefreshButton:i,handleRefresh:a}),c.createElement("div",{className:"orders-placed-list"},l.map((e=>c.createElement(tie,{key:`order-${e.id}`,id:e.id,refreshUserData:o,windowWidth:n,allowCancel:!0})))))};var rie=Object.defineProperty,iie=(e,t,n)=>(((e,t,n)=>{t in e?rie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const aie=()=>{const e=ZT(),t=null==e?void 0:e.loading,n=e.has_membership,r=e.is_membership_active,i=e.membership_free_trade_count;if(n){const e=`You have ${i} commission-free ${fl(i,"trade")}.`;return c.createElement(Iw,{top:8,bottom:16},r&&c.createElement(Iw,{bottom:5,centerAll:!0},c.createElement(Ei,null,"Membership Active")),c.createElement(Iw,{centerAll:!0},c.createElement(Ei,null,t?"Updating free trade count":e)))}return null},sie=()=>{const e=D((e=>{var t,n;return null==(n=null==(t=e.application)?void 0:t.staticCopy)?void 0:n.trade_membership_status}));return e&&e.length>0?c.createElement(Wx,{top:8,bottom:16},e.map(((e,t)=>c.createElement(Wx,{top:8,key:t,center:!0},c.createElement(Ei,{thin:!0},e))))):null};u.div`
  font-size: 18px;
  font-weight: 200;
  margin: 0;
  padding: 0;
  text-align: left;
`,u.div`
  padding: 24px 0 0 0;

  table {
    width: 100%;
  }

  td {
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
    padding: 16px 0;
  }

  td:last-child,
  th:last-child {
    padding-right: 24px;
    text-align: center;
  }

  td:first-child {
    padding-left: 24px;
  }

  th:nth-last-child(2),
  td:nth-last-child(2) {
    text-align: center;
    * {
      text-align: center;
    }
  }
`,u.div`
  font-size: 16px;
  color: ${({operation:e,theme:t})=>"buy"===e?"#23d977":vr.secondary.red};
  text-transform: uppercase;
`;class oie extends C.exports.Component{constructor(e){super(),iie(this,"renderPage",(()=>this._isLoading()?c.createElement("div",{className:"trade-page-loading"},c.createElement(Dw,{flatStyle:!0})):c.createElement("div",{className:"trade-page"},!this._arePendingOrders()&&this.renderTradePageHeader(),c.createElement(hH,{handleDismiss:this.handleOrderDismiss},(({handlePlaceOrders:e,renderPlacingOrdersState:t,showAddProConPanelForPlacedOrders:n,shouldRestrictDismissal:r,wasOrderPlaced:i,isAddProConPanelShowing:a,clearPlaceOrdersState:s})=>c.createElement(Kre,{placeOrders:e,renderPlacingOrdersState:t,headerComponent:this.renderOrderBasketHeader(),isSearchingForStockToAdd:this._isSearchingCreatingOrder(),handleCreateOrderButtonClick:this.handleCreateOrderButtonClick,handleStartCreatingOrderFromSearch:this.handleStartCreatingOrderFromSearch,hasFreeTrading:this.hasFreeTrading(),hasTradingCredits:this.hasTradingCredits(),isUsingTradingCredits:this.isUsingTradingCredits(),userTradingCredits:this.returnUserTradingCredits(),requiresTradeApproval:this.requiresTradeApproval(),showAddProConPanelForPlacedOrders:n,shouldRestrictDismissal:r,wasOrderPlaced:i,isAddProConPanelShowing:a,clearPlaceOrdersState:s}))),this._isCreatingOrder()&&(this.isInNoOrderBasketTestGroup()?c.createElement(hH,{handleDismiss:this.handleOrderDismiss},(({handlePlaceOrders:e,renderPlacingOrdersState:t,showAddProConPanelForPlacedOrders:n,shouldRestrictDismissal:r,wasOrderPlaced:i,isAddProConPanelShowing:a})=>this.renderOrderForm({isUsingBasket:this.isUsingBasket(),handlePlaceOrders:e,renderPlacingOrdersState:t,showAddProConPanelForPlacedOrders:n,shouldRestrictDismissal:r,wasOrderPlaced:i,isAddProConPanelShowing:a}))):this.renderOrderForm({isUsingBasket:!0})),c.createElement(Zre,null,(e=>c.createElement(nie,{isMobile:this._isMobileView(),windowWidth:this.props.windowWidth,isRefreshing:this._isUpdatingOrders(),showRefreshButton:this._shouldShowRefreshButton(),handleRefresh:this._handleOrderStatusesClick,refreshUserData:this._refreshUserData,ordersPlacedTodayList:e}))),c.createElement(Zre,null,((e,t)=>c.createElement(Jre,{isMobile:this._isMobileView(),windowWidth:this.props.windowWidth,isRefreshing:this._isUpdatingOrders(),showRefreshButton:this._shouldShowRefreshButton(),handleRefresh:this._handleOrderStatusesClick,refreshUserData:this._refreshUserData,ordersAwaitingApprovalList:t}))),c.createElement(Qre,null)))),iie(this,"renderTradePageHeader",(()=>c.createElement(c.Fragment,null,c.createElement("div",{className:"header"},c.createElement(yG,{className:" "},"Orders"),c.createElement(aie,null),c.createElement("div",{className:"trade-account-additional-info-container"},this._renderBuyingPower(),this._renderPendingFundingAmount()),c.createElement(sie,null),this._renderTradingCredits(),this._renderRequireTradeApprovalNotice()),c.createElement(Ore,{inSearchMode:this._isSearchingCreatingOrder(),handleButtonClick:this.handleCreateOrderButtonClick,onSearchSelection:this.handleStartCreatingOrderFromSearch,customClass:"no-orders"})))),iie(this,"renderOrderForm",((e={})=>c.createElement(pW,o({defaultFormData:this._returnDefaultCreateOrderFormData(),securityId:this._returnSecurityId(),handleCompleteOrder:this.handleCompleteOrder,handleCancelOrder:this.handleCancelOrder},e)))),iie(this,"renderOrderBasketHeader",(()=>c.createElement("div",{className:"header"},c.createElement(yG,{className:" "},"Order Basket"),c.createElement(aie,null),this._renderBuyingPower(),this._renderPendingFundingAmount(),this._renderTradingCredits(),this._renderRequireTradeApprovalNotice()))),iie(this,"_renderBuyingPower",(()=>this._shouldShowBuyingPower()&&c.createElement("div",{className:"user-buying-power-container"},c.createElement("div",{className:"value-label"},c.createElement("span",{className:"info-icon-text-wrapper"},"Buying Power",c.createElement(iS,{word:"tooltip_buying_power",style:{top:"1px",right:"-17px",bottom:"0px"}}))),c.createElement("div",{className:"value"},this._displayFormatOfBuyingPower())))),iie(this,"_renderPendingFundingAmount",(()=>this._doesUserHavePendingEquity()&&c.createElement("div",{className:"user-pending-equity-container"},c.createElement("div",{className:"value-label"},c.createElement("span",{className:"info-icon-text-wrapper"},"Pending",c.createElement(iS,{customMessage:$N(this._returnCurrentUser()),style:{top:"1px",right:"-17px",bottom:"0px"},trackingMessage:"Pending Equity Reasons Trade Page"}))),c.createElement("div",{className:"value"},this._returnDisplayStringPendingEquity())))),iie(this,"_returnTooltipWordForTradingCredits",(()=>this._isLiveTrading()?"tooltip_credit_earned":"tooltip_credit_earned_paper")),iie(this,"_returnFreeTradesMessage",(()=>this.hasTradingCredits()?`Plus commission-free trades until ${this.returnFreeTradingUntilDisplayTime()}`:`Commission-free trades until ${this.returnFreeTradingUntilDisplayTime()}`)),iie(this,"_renderTradingCredits",(()=>this.hasFreeTrading()||this.hasTradingCredits()?c.createElement("div",{className:"user-trading-credits-container"},c.createElement("div",{className:"value-label"},c.createElement("span",{className:"info-icon-text-wrapper"},"Credit Available",c.createElement(iS,{word:this._returnTooltipWordForTradingCredits(),style:{top:"auto",bottom:"1px"}}))),this.hasTradingCredits()&&c.createElement("div",{className:"value"},this._returnTradeCreditDisplayValue()),c.createElement("div",{className:"value"},c.createElement(aie,null)),this.hasFreeTrading()&&this.hasTradingCredits()&&c.createElement("div",{className:"sub-value"},this._returnFreeTradesMessage())):null)),iie(this,"_renderRequireTradeApprovalNotice",(()=>this.requiresTradeApproval()?c.createElement("div",{className:"user-requires_trade-approval-container"},c.createElement("div",{className:"value-label"},c.createElement("span",{className:"info-icon-text-wrapper"},c.createElement("span",{className:" "},"Note that your account is configured to require pre-clearance approval for all orders."),c.createElement(iS,{word:"tooltip_requires_trade_approval",style:{top:"auto",bottom:"1px"}})))):null)),iie(this,"_showPatternDayTraderMessage",(()=>{const e={contentComponent:c.createElement("div",{className:"day-trader-notice-container"},c.createElement("p",null,"You are considered a pattern day trader due to your trading activity."),c.createElement("p",null,"You are required to maintain a minimum account value of $25,000 and are not allowed to use leverage."),c.createElement("p",null,"You can find more information"," ",c.createElement("a",{href:"https://www.sec.gov/files/daytrading.pdf",target:"_blank",rel:"no-follow noopener noreferrer"},"here"),"."),c.createElement("p",null,`${nl}`," operates this site and provides all brokerage services.")),heading:"Day Trader Notice",size:"wide",dismissable:!0};this.props.actions.showModal(e)})),iie(this,"_handleOrderStatusesClick",(()=>{this._startRefreshingOrderStatuses(),this._logRefreshOrderStatusesClick();const e=[this._getOrderData({ignoreLoading:!0}),this._refreshUserData()];Promise.all(e).then((e=>{this._stopRefreshingOrderStatuses()}))})),iie(this,"handleOrderDismiss",(()=>{this.handleCancelOrder()})),iie(this,"handleCancelOrder",(()=>{this._closeOrderForm()})),iie(this,"handleCompleteOrder",(()=>{this._closeOrderForm()})),iie(this,"handleCreateOrderButtonClick",(()=>{this._logCreateManualOrderClick(),this._startSearchingCreatingOrder()})),iie(this,"_handleOpenCreateOrderFormFromURL",(e=>{this._logOpenCreateOrderFormFromURL(e),this._startCreatingOrder(e)})),iie(this,"handleStartCreatingOrderFromSearch",(e=>{if(!e)return!1;const t=e.id||null;this._startCreatingOrder(t),this._logSearchForSecuritySelection(t)})),iie(this,"_isUpdatingOrders",(()=>this.state._isUpdatingOrders)),iie(this,"_isMobileView",(()=>this.props.windowWidth<=jc)),iie(this,"_isLiveTrading",(()=>Rp(this._returnCurrentUser()))),iie(this,"returnUserTradingCredits",(()=>this._returnCurrentUser().free_credit_available)),iie(this,"hasFreeTrading",(()=>this._returnCurrentUser().has_free_trading&&this._isLiveTrading())),iie(this,"hasTradingCredits",(()=>this.returnUserTradingCredits()>0)),iie(this,"requiresTradeApproval",(()=>this._returnCurrentUser().requires_trade_approval&&this._isLiveTrading())),iie(this,"isUsingTradingCredits",(()=>this._isLiveTrading()&&(this.hasFreeTrading()||this.hasTradingCredits()))),iie(this,"_returnFreeTradingUntilTime",(()=>this._returnCurrentUser().free_trading_until)),iie(this,"returnFreeTradingUntilDisplayTime",(()=>B_(this._returnFreeTradingUntilTime(),"timeDate"))),iie(this,"_returnTradeCreditDisplayValue",(()=>`${B_(this.returnUserTradingCredits(),"price")}`)),iie(this,"_isLoading",(()=>this.state.isLoading)),iie(this,"_isSearchingCreatingOrder",(()=>1===this._returnCurrentUser().no_button_manual_order_test_group||this.state.isSearchingForStockForOrder)),iie(this,"_isCreatingOrder",(()=>!nk(this._returnSecurityId()))),iie(this,"isUsingBasket",(()=>!this.isInNoOrderBasketTestGroup()||this.state.forceUseBasket)),iie(this,"isInNoOrderBasketTestGroup",(()=>Cp(this._returnCurrentUser()))),iie(this,"_returnDefaultCreateOrderFormData",(()=>this.state.defaultCreateOrderFormData)),iie(this,"_closeOrderForm",(()=>{this._clearOrderFormQueryFromURL(),this._endCreatingOrder(),this._endSearchingCreatingOrder()})),iie(this,"_shouldShowRefreshButton",(()=>this._areUnfilledOrders()||this._anyOrdersAwaitingApproval())),iie(this,"_refreshUserData",(e=>this.props.actions.fetchCurrentUserQuickInfo(e))),iie(this,"_getOrderData",(e=>this.props.actions.getOrders(e))),iie(this,"_isPatternDayTrader",(()=>this._returnCurrentUser().should_see_day_trader_notice)),iie(this,"_arePendingOptimizedOrders",(()=>{if(!this._arePendingOrders())return!1;const e=this._returnOrdersInBasket();return rv(e)})),iie(this,"_arePendingOrders",(()=>this._returnOrdersInBasket()&&this._returnOrdersInBasket().length>0)),iie(this,"_returnOrdersInBasket",(()=>this._returnOrdersStore().not_placed_orders)),iie(this,"_returnAllPlacedOrders",(()=>this._returnOrdersStore().placed_orders)),iie(this,"_wasOrdersPlacedToday",(()=>this._returnAllPlacedOrders().length>0)),iie(this,"_areUnfilledOrders",(()=>Yf(this._returnAllPlacedOrders()))),iie(this,"_returnAllAwaitingApprovalOrders",(()=>this._returnOrdersStore().awaiting_approval_orders)),iie(this,"_anyOrdersAwaitingApproval",(()=>this._returnAllAwaitingApprovalOrders()&&this._returnAllAwaitingApprovalOrders().length>0)),iie(this,"_returnOrdersStore",(()=>this.props.orders)),iie(this,"_returnBuyingPower",(()=>this._returnCurrentUser().buying_power)),iie(this,"_shouldShowBuyingPower",(()=>!nk(this._returnBuyingPower()))),iie(this,"_displayFormatOfBuyingPower",(()=>"$"+hk(this._returnBuyingPower(),{minimumFractionDigits:2,maximumFractionDigits:2}))),iie(this,"_doesUserHavePendingEquity",(()=>this._returnCurrentUserPendingEquity()>0)),iie(this,"_returnCurrentUserPendingEquity",(()=>this._returnCurrentUserTotalEquityIncludingPendingEquity()-this._returnCurrentUserEquity())),iie(this,"_returnCurrentUserTotalEquityIncludingPendingEquity",(()=>this._returnCurrentUser().pending_equity||0)),iie(this,"_returnDisplayStringPendingEquity",(()=>B_(this._returnCurrentUserPendingEquity(),"price"))),iie(this,"_returnCurrentUserEquity",(()=>this._returnCurrentUser().equity)),iie(this,"_returnCurrentUserId",(()=>yp(this.props.currentUser))),iie(this,"_returnCurrentUser",(()=>this.props.currentUser)),iie(this,"_returnSecurityId",(()=>nk(this.state.creatingOrderForSecurityId)?this.state.creatingOrderForSecurityId:parseInt(this.state.creatingOrderForSecurityId,10))),iie(this,"_startCreatingOrder",(e=>{this.setState((()=>({creatingOrderForSecurityId:e})))})),iie(this,"_endCreatingOrder",(()=>{this.setState((()=>({creatingOrderForSecurityId:null})))})),iie(this,"_startSearchingCreatingOrder",(()=>{this.setState((()=>({isSearchingForStockForOrder:!0})))})),iie(this,"_endSearchingCreatingOrder",(()=>{this.setState((()=>({isSearchingForStockForOrder:!1})))})),iie(this,"_setDefaultCreateOrderFormData",(e=>{this.setState((t=>({defaultCreateOrderFormData:o(o({},t.defaultCreateOrderFormData),e)})))})),iie(this,"_startRefreshingOrderStatuses",(()=>{this.setState((()=>({_isUpdatingOrders:!0})))})),iie(this,"_stopRefreshingOrderStatuses",(()=>{this.setState((()=>({_isUpdatingOrders:!1})))})),iie(this,"dismissPatternDayTraderMessage",(()=>{this.props.actions.dismissDayTraderMessage()})),iie(this,"_logPageView",(()=>{th.orders.VIEW_TRADE_PAGE.send()})),iie(this,"_logCreateManualOrderClick",(()=>{this.props.actions.logMetricsTrackingEvent("Click Manual Trade",{})})),iie(this,"_logOpenCreateOrderFormFromURL",(e=>{const t=this._createDefaultFormDataFromURLQuery(),n={Operation:t.operation?t.operation.display:null,"Security ID":e},r=o({},n);this.props.actions.logMetricsTrackingEvent("Order Form Opened From URL",r)})),iie(this,"_logRefreshOrderStatusesClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Refresh Order Statuses",{})})),iie(this,"_logShowPatternDayTraderMessage",(()=>{this.props.actions.logMetricsTrackingEvent("Showing Pattern Day Trader Message",{})})),iie(this,"_logSearchForSecuritySelection",(e=>{const t={"Security Id":e};this.props.actions.logMetricsTrackingEvent("Selected Result from Order Security Search",t)})),iie(this,"_updatePageTitle",(()=>{document.title=`${Xo} - Trade`})),iie(this,"_buildContainerClassName",(()=>{const e=[];return this._arePendingOrders()||this._wasOrdersPlacedToday()||this._anyOrdersAwaitingApproval()||e.push("no-orders"),e.join(" ")})),iie(this,"_createDefaultFormDataFromURLQuery",(()=>{const e=this.props.location.search,t={},n=fe(e).operation,r=[{id:0,name:"Buy",display:"Buy"},{id:1,name:"Sell",display:"Sell"}];if(r.some((e=>e.name.toLowerCase()===n.toLowerCase()))){const e=r.filter((e=>e.name.toLowerCase()===n.toLowerCase()))[0];e&&(t.operation=e)}return t})),iie(this,"_checkURLForOrderFormQuery",(()=>{const e=this.props.location.search,t=fe(e);if("operation"in t&&"security_id"in t){const e=t.security_id,n=this._createDefaultFormDataFromURLQuery();this._setDefaultCreateOrderFormData(n),this._handleOpenCreateOrderFormFromURL(e),this.props.navigate(this.props.location.pathname)}})),iie(this,"_clearOrderFormQueryFromURL",(()=>{const e=this.props.location.pathname,t=this.props.location.search,n=fe(t),r=["security_id","operation"],i=Object.keys(n).filter((e=>!r.includes(e)));if(i.length>0){const t={};i.forEach((e=>t[e]=n[e]));const r=ve(t);this.props.navigate(e+r)}})),this.state={isLoading:!0,creatingOrderForSecurityId:null,isSearchingForStockForOrder:!1,_isPricingUpdating:!1,_isUpdatingOrders:!1,isPlacingOrders:!1,isError:!1,forceUseBasket:!1,defaultCreateOrderFormData:{}}}componentDidMount(){rk(),this._updatePageTitle(),this._logPageView(),this._checkURLForOrderFormQuery(),this._refreshUserData(),this._getOrderData().then((e=>{this.setState((()=>({isLoading:!1}))),this._isPatternDayTrader()&&(this._showPatternDayTraderMessage(),this.dismissPatternDayTraderMessage(),this._logShowPatternDayTraderMessage())}))}componentDidUpdate(e){e.location.search!==this.props.location.search&&this._checkURLForOrderFormQuery(),this._arePendingOptimizedOrders()&&!this.state.forceUseBasket&&this.setState((()=>({forceUseBasket:!0}))),!this._arePendingOrders()&&this.state.forceUseBasket&&this.setState((()=>({forceUseBasket:!1})))}render(){return c.createElement("div",{className:`trade-page-container ${this._buildContainerClassName()}`},c.createElement(OF,null,this.renderPage()))}}N(Xk,_c,T((e=>({orders:e.orders,currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(oie);const lie=u.div`
  text-align: center;
  h3 {
    margin: 0;
  }
`,cie=u.div`
  padding-top: 8px;
  text-align: center;
`,die=u.div`
  padding-top: 40px;
  margin: 0 auto;
  max-width: 400px;
`,uie=u.div`
  display: flex;
  flex: 1;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-start;
  width: 400px;
  max-width: 100%;

  padding-bottom: 16px;

  &:last-child {
    padding-bottom: 0;
  }
`,hie=u.div`
  padding-top: 2px;
  margin-right: 10px;

  svg {
    width: 18px;
    height: 18px;
  }

  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,pie=u.div`
  padding-top: 40px;
  text-align: center;
`,mie=u.div`
  padding-top: 16px;
  display: flex;
  justify-content: center;
`,gie=u.div`
  padding-top: 8px;
  display: flex;
  justify-content: center;
`,yie={1:{text:"A smarter brokerage account with simple, Nobel Prize-winning portfolio construction.",id:1},2:{text:"Discover new stocks that diversify your portfolio.",id:2},3:{text:"Connect with a community of intelligent investors.",id:3},4:{text:"",id:4},5:{text:"Personalized learning content with investable rewards.",id:5},6:{text:"Resources to support your portfolio & personal financial development.",id:6}},_ie=[1,2,3,4],fie=[5,4,6],vie=[4,6,5],Eie=({text:e})=>c.createElement(uie,null,c.createElement(hie,null,c.createElement($i,{width:18})),"string"==typeof e?c.createElement(Ei,null,e):e),bie=()=>{const e=ZT(),{is_student:t,onboarding_welcome_copy_test_group:n}=e,[r,i]=c.useState(null);return c.useEffect((()=>{const r=Ip(e),a=Np(e),s=Pp(e),l=Ap(e),d=(({isEligibleForMembership:e,isStudent:t,minEquityForWaivedMembershipFee:n,membershipMonthlyFeeAmount:r,membershipFreeTradeTotal:i})=>e?t?c.createElement("span",null,c.createElement("span",null,`Pay just $${r} per month and trade up to ${i} times each month for free. `),c.createElement("span",null,c.createElement(zz,null),c.createElement("a",{href:"/faq?id=94"},"See current promotion details."))):n?`Pay just $${r} per month (waived for accounts with $${Gk(n,!0)}+) and trade up to ${i} times each month for free. `:`Pay just $${r} per month and trade up to ${i} times each month for free. `:null)({isEligibleForMembership:r,isStudent:t,membershipMonthlyFeeAmount:a,minEquityForWaivedMembershipFee:s,membershipFreeTradeTotal:l});var u;const h=((e,t)=>{const n=[];return e.forEach((e=>{const r=yie[e];if(4===e){if(null!==t){const e=o({},r);e.text=t,n.push(e)}}else n.push(r)})),n})(0===(u=n||0)?_ie:1===u?fie:2===u?vie:void 0,d);i(h)}),[]),r?r.map(((e,t)=>c.createElement(Eie,o({key:`feature-${t}`},e)))):null},Cie=u.div`
  max-width: 416px;
  margin: 0 auto;
`,xie=u.div`
  padding-top: 40px;

  select {
    border-top: none;
    border-left: none;
    border-right: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,wie=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Sie=u.div`
  padding-top: 24px;
`,kie=u.div`
  padding-top: 64px;
  text-align: center;
`,Tie=["United States of America"],Iie=e=>""!==e&&!nk(e)&&!Tie.includes(e),Nie=z().shape({risk_profile:V().nullable(),total_investible_assets_usd_min:V().nullable(),annual_income_usd_min:V().nullable()}),Aie=z().shape({given_name:V().nullable().max(20,"Your first name is longer than the maximum length we can accept, please use initials where appropriate.").matches(Wl.CALIFORNIA_RULES,"Invalid Characters").required("Required"),family_name:V().nullable().max(20,"Your last name is longer than the maximum length we can accept, please use initials where appropriate.").matches(Wl.CALIFORNIA_RULES,"Invalid Characters").required("Required")}),Pie=z().shape({contact_street_address:V().nullable().required("Required"),contact_apartment:V().nullable(),contact_city:V().nullable().required("Required"),contact_state:V().nullable().required("Required"),contact_postal_code:V().nullable().matches(/^[0-9]{5}$/,"Must be 5 digits").required("Required"),contact_country:V().nullable().matches(/\bUnited States of America\b/,"Address must be in the USA.").required("Required")}),Die=z().shape({phone_number:V().nullable().matches(Wl.PHONE_DASH,"Phone number is not valid").required("Required")}),Oie=z().shape({acknowledged_ecbsv_agreement:H().required("Required"),social_security_number:V().nullable().required("Required").test({name:"is-ssn-valid",exclusive:!1,params:{},message:"Invalid SSN format",test:function(e){if(!e)return!1;if(9==e[0])return!1;if(["000"].includes(e.slice(0,3)))return!1;if(["0000"].includes(e.slice(7)))return!1;const t=e.split("-").join("").split("");return 1!=new Set(t).size&&(!["123456789"].includes(t.join(""))&&e.match(Wl.SSN))}})}),Lie=z().shape({date_of_birth:W().nullable().test("check-age","Double check entered Date of Birth",(e=>{const t=Gl(e);if(null===t)return!1;const n=Gl().diff(t,"years");return n>5&&n<140})).required("Required")}),Rie=z().shape({citizenship_country:V().nullable().required("Required"),is_permanent_resident:V().nullable().when("citizenship_country",{is:e=>!Iie(e),then:V().nullable(),otherwise:V().required("Required")}),green_card_number:V().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"YES"===t,then:V().required("Required"),otherwise:V().nullable()}),green_card_expiration_date:W().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"YES"===t,then:W().required("Required"),otherwise:W().nullable()}),birth_country:V().nullable().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"NO"===t,then:V().required("Required"),otherwise:V().nullable()}),visa_type:V().nullable().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"NO"===t,then:V().required("Required"),otherwise:V().nullable()}),visa_number:V().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"NO"===t,then:V().required("Required"),otherwise:V().nullable()}),visa_expiration_date:W().nullable().when(["citizenship_country","is_permanent_resident"],{is:(e,t)=>Iie(e)&&"NO"===t,then:W().required("Required"),otherwise:W().nullable()})}),Fie=z().shape({is_control_person:V().required("Required"),is_politically_exposed:V().required("Required"),is_affiliated_exchange_or_finra:V().required("Required"),company_symbols:V().nullable().when("is_control_person",{is:e=>"YES"===e,then:V().required("Required"),otherwise:V().nullable()}),immediate_family:V().nullable().when("is_politically_exposed",{is:e=>"YES"===e,then:V().required("Required"),otherwise:V().nullable()}),political_organization:V().nullable().when("is_politically_exposed",{is:e=>"YES"===e,then:V().required("Required"),otherwise:V().nullable()}),firm_name:V().nullable().when("is_affiliated_exchange_or_finra",{is:e=>"YES"===e,then:V().required("Required"),otherwise:V().nullable()})}),Mie=z().shape({is_tornado_employee:V().required("Required")}),Uie=z().shape({acknowledged_account_agreement:H().required("Required").oneOf([!0],"Must acknowledge agreement"),acknowledged_margin_agreement:H().required("Required").oneOf([!0],"Must acknowledge agreement")}),$ie=z().shape({bank_account_type:V().required("Required"),bank_routing_number:V().required("Required").matches(/^[0-9]{9}$/,"Routing number is not valid"),bank_account:V().required("Required").matches(/^[0-9-]{4,17}$/,"Unable to accept bank account")});z().shape({account_id:V().required(),funding_operation:V().required(),amount:V().required()});const Bie=u.div`
  max-width: 416px;
  margin: 0 auto;
`,zie=u.div`
  text-align: left;

  max-width: 400px;
  margin: 0 auto;

  * {
    text-align: left;
  }

  select {
    border-top: none;
    border-left: none;
    border-right: none;

    -webkit-appearance: auto;

    background: transparent !important;
  }
`,Vie=u.div`
  padding-top: 8px;
  text-align: left;
`,Hie=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,Wie=u.div`
  padding-top: 24px;
  text-align: center;
`,jie=u.div`
  text-align: left;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Gie=u.div`
  padding-top: 24px;
  text-align: center;
`,qie=[so({text:"Conservative",value:"Conservative"}),so({text:"Moderate",value:"Moderate"}),so({text:"Aggressive",value:"Aggressive"})],Yie=[so({text:"---",value:""}),so({text:"Less than $25k",value:"Less than $25k"}),so({text:"$25k - $50k",value:"$25k - $50k"}),so({text:"$50k - $100k",value:"$50k - $100k"}),so({text:"$100k - $250k",value:"$100k - $250k"}),so({text:"$250k - $500k",value:"$250k - $500k"}),so({text:"$500k - $1M",value:"$500k - $1M"}),so({text:"More than $1M",value:"More than $1M"})],Kie=[so({text:"---",value:""}),so({text:"Less than $25k",value:"Less than $25k"}),so({text:"$25k - $50k",value:"$25k - $50k"}),so({text:"$50k - $100k",value:"$50k - $100k"}),so({text:"More than $100k",value:"More than $100k"})],Qie=e=>{const{risk_profile:t,total_investible_assets:n,annual_income:r}=e;return{risk_profile:t||"conservative",total_investible_assets:n||"",annual_income:r||""}},Zie=u.div`
  max-width: 416px;
  margin: 0 auto;
`,Xie=u.div`
  padding-top: 40px;

  input {
    border: none !important;
    -webkit-appearance: auto;
    background: transparent !important;
  }
`,Jie=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,eae=u.div`
  padding-top: 8px;
`,tae=u.div`
  padding-top: 24px;
`,nae=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,rae=u.div`
  padding-top: 36px;
  text-align: center;
`,iae=(e,t)=>{const{first_name:n,last_name:r}=e,{given_name:i,family_name:a}=t;return{given_name:n||i||"",family_name:r||a||""}};var aae=Object.defineProperty,sae=(e,t,n)=>(((e,t,n)=>{t in e?aae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const oae=G.core,lae=new oae.SharedCredentials("85097069425102791",null),cae=G.usStreet.Lookup,dae=oae.buildClient.usStreet(lae),uae=G.usAutocompletePro.Lookup,hae=oae.buildClient.usAutocompletePro(lae);class pae{constructor({addressData:e,mappedAddressData:t}){if(sae(this,"buildStreetAddressLine",(()=>{const{street:e,street2:t}=this._mappedAddressData;let n="";return e&&e.length>0&&(n+=e+" "),t&&t.length>0&&(n+=t+" "),n})),sae(this,"buildAddressLastLine",(()=>{const{city:e,state:t,zipcode:n}=this._mappedAddressData;let r="";return e&&e.length>0&&(r+=e+", "),t&&t.length>0&&(r+=t+" "),n&&n.length>0&&(r+=n),r})),sae(this,"formatAddressToTextString",(()=>{const{street:e,street2:t,city:n,state:r,zipcode:i}=this._addressData;let a="";return e&&e.length>0&&(a+=e+" "),t&&t.length>0&&(a+=t+" "),n&&n.length>0&&(a+=n+", "),r&&r.length>0&&(a+=r+" "),i&&i.length>0&&(a+=i),a})),sae(this,"verifyAddress",(()=>{const e=this._mappedAddressData,{street:t,street2:n,city:r,state:i,zipcode:a}=e;this._queryData=new cae,this._queryData.street=t,this._queryData.secondary=n,this._queryData.city=r,this._queryData.state=i,this._queryData.zipCode=a,this._queryData.maxCandidates=5,this._queryData.match="invalid";const s={isValid:!1,suggestions:null,givenAddress:e,verifiedAddress:null,wasGivenAddressMatchedExact:null};return dae.send(this._queryData).then((function(t){if(null===(t.lookups&&t.lookups.length>0?t.lookups[0]:null))return s;const n=t.lookups[0],{result:r}=n,i=r[0],{deliveryLine1:a,deliveryLine2:o,components:l,analysis:c}=i;if(!c)return s;const{dpvMatchCode:d}=c,{cityName:u,state:h,zipCode:p}=l,m=["Y","S"].includes(d),g=[];let y=null,_=!1;var f,v;return nk(d)||(y={street:a,street2:o,city:u,state:h,zipcode:p},g.push(y),f=Rk(e),v=Rk(y),_=JSON.stringify(f)===JSON.stringify(v)),{isValid:m,suggestions:g,givenAddress:e,verifiedAddress:y,wasGivenAddressMatchedExact:_}})).catch((e=>(console.error(e),s)))})),sae(this,"getAutocompleteSuggestions",(()=>{const{street:e,street2:t,city:n,state:r,zipcode:i}=this._addressData;let a=`${e||""}`;return t&&t.length>0&&(a+=` ${t}`),this._queryData=new uae(a),n&&(this._queryData.prefer_cities=[n]),r&&(this._queryData.prefer_states=[r]),i&&(this._queryData.prefer_zip_codes=[i]),this._queryData.preferGeolocation="city",this._queryData.maxResults=5,this._queryData.preferRatio=50,hae.send(this._queryData).then((function(e){const t=e.result;return t&&t.length>0?t:null})).catch((e=>(console.error(e),null)))})),this._addressData=e,this._mappedAddressData=t,!t){const{streetLine:n,secondary:r,city:i,state:a,zipcode:s}=e;t={street:n,street2:r,city:i,state:a,zipcode:s},this._mappedAddressData=t}}}var mae=Object.defineProperty,gae=(e,t,n)=>(((e,t,n)=>{t in e?mae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const yae=u.div`
  max-width: 416px;
  margin: 0 auto;
`,_ae=u.div`
  input {
    border: none;
  }
  select {
    border-top: none;
    border-left: none;
    border-right: none;
    -webkit-appearance: auto;
  }
  input,
  select {
    background: transparent !important;
  }
`,fae=u.div`
  padding-top: 16px;
  margin-right: 8px;

  input {
    border-bottom: none !important;
  }
  select {
    height: 44px;
    margin-top: 2px;
  }
`,vae=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;

  input {
    margin-right: 8px;
  }
  input:last-child {
    margin-right: 0;
  }
`,Eae=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,bae=u.div`
  padding-top: 8px;
`,Cae=u.div`
  padding-top: 24px;
`,xae=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,wae=u.div`
  padding-top: 40px;
  text-align: center;
`,Sae=u.div`
  border-radius: 5px;
  border: 1px solid ${({theme:e})=>e.themeColors.text};
  margin-top: 16px;
  margin-right: 8px;
`,kae=u.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  padding: 8px 16px;

  &:last-child {
    border-bottom: none;
  }

  &:hover {
    background: ${({theme:e})=>e.themeColors.primaryCtaButton};
    cursor: pointer;
    * {
      color: ${({theme:e})=>e.themeColors.component};
    }
  }
`,Tae=u.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  padding: 8px 16px;

  &:last-child {
    border-bottom: none;
  }
`,Iae=[so({text:"--",value:"",disabled:!0}),...["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"].map((e=>so({text:e,value:e})))];const Nae={contact_street_address:"",contact_apartment:"",contact_city:"",contact_state:"",contact_postal_code:"",contact_country:"United States of America"},Aae=new class{constructor(){gae(this,"massageAddressSuggestionData",(e=>{if("streetLine"in e){const{streetLine:t,secondary:n,city:r,state:i,zipcode:a}=e;return{street:t,street2:n,city:r,state:i,zipcode:a}}if("contact_street_address"in e){const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;return{street:t,street2:n,city:r,state:i,zipcode:a}}const{street:t,street2:n,city:r,state:i,zipcode:a}=e;return{street:t,street2:n,city:r,state:i,zipcode:a}})),gae(this,"convertSuggestionToFormValues",(e=>{const{street:t,street2:n,city:r,state:i,zipcode:a}=Aae.massageAddressSuggestionData(e);return{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}})),gae(this,"massageFormData",(e=>l(o({},e),{contact_country:"United States of America"})))}},Pae=({suggestion:e})=>{const t=Aae.massageAddressSuggestionData(e),n=new pae({addressData:t});return c.createElement(Tae,null,c.createElement(Ei,null,n.formatAddressToTextString()))},Dae=({suggestion:e,onSelection:t})=>{const n=Aae.massageAddressSuggestionData(e),r=new pae({addressData:n});return c.createElement(kae,{onClick:()=>{const{streetLine:n,secondary:r,city:i,state:a,zipcode:s}=e;t({contact_street_address:n,contact_apartment:r,contact_city:i,contact_state:a,contact_postal_code:s})}},c.createElement(Ei,null,r.formatAddressToTextString()),c.createElement(Ei,null,"SELECT"))},Oae=({list:e,onEnterAddressManually:t,onAddressSuggestionSelection:n,hide:r})=>{const i=()=>{t()};return r?null:0===e.length?c.createElement(Sae,null,c.createElement("div",{style:{textAlign:"center",padding:"16px"}},c.createElement(Ei,null,"No addresses match the entered street address")),c.createElement("div",{style:{textAlign:"center",padding:" 0 16px 16px 16px"}},c.createElement(sx,{onClick:i},"Enter Address Manually"))):c.createElement(c.Fragment,null,c.createElement(Sae,null,e.map(((e,t)=>c.createElement(Dae,{key:t,suggestion:e,onSelection:n})))),c.createElement("div",{style:{textAlign:"center",padding:"16px 16px 16px 16px"}},c.createElement(sx,{onClick:i},"Enter Address Manually")))};let Lae=null;const Rae=e=>{const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;return{street:t,street2:n,city:r,state:i,zipcode:a}},Fae=e=>{const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;return{street:t,street2:n,city:r,state:i,zipcode:a}},Mae=({isResubmit:e,onContinue:t,onboardingState:n})=>{const r=P(),i=uI(),[a,s]=c.useState(!0),[o]=c.useState(e?"address_resubmit":"contact"),l=!e?(e=>{const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;return{contact_street_address:t||"",contact_apartment:n||"",contact_city:r||"",contact_state:i||"",contact_postal_code:a||"",contact_country:"United States of America"}})(i):Nae,d=""!==l.contact_street_address,[u,h]=c.useState(!1),[p,m]=c.useState(null),[g,y]=c.useState(!d),[_,f]=c.useState([]),[v,E]=c.useState(!1),[b,C]=c.useState(!1),[x,w]=c.useState(null),S=j({initialValues:l,validationSchema:Pie,enableReinitialize:!1}),{values:k,errors:T,setFieldValue:I,validateForm:N}=S,A=c.useCallback((e=>{const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;I("contact_street_address",t,!1),I("contact_apartment",n,!1),I("contact_city",r,!1),I("contact_state",i,!1),I("contact_postal_code",a,!1),y(!1)}),[I]),D=c.useCallback((e=>t=>{I(e,t,!1)}),[I]),O=c.useCallback((e=>{const t=Aae.massageFormData(e);return C(!0),sb(t,o)(r)}),[]),L=c.useCallback((async e=>{TC("Submitted Contact Address Form")();const t=await N();if(0===Object.keys(t).length){const{status:t}=await O(e||k);return 200===t?{ok:!0}:(w("Something went wrong, please try again"),C(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(t),"Form Name":"address"})(),C(!1),{errors:!0}}),[k]),R=c.useCallback((async()=>{const e=await N();if(Object.keys(e).length>0)return{errors:!0};const{isValid:r,suggestions:i,givenAddress:a,verifiedAddress:s,wasGivenAddressMatchedExact:o}=await(e=>new pae({mappedAddressData:Fae(e)}).verifyAddress())(k);if(r||null===i){C(!0);const{ok:e}=await L();e?t(null,n):C(!1)}else i.length>0?(m(i),h(!0)):E(!0)}),[k,L]),F=c.useCallback((async()=>{h(!1),E(!1)}),[]),M=c.useCallback((async()=>{C(!0);const{ok:e}=await L(k);e?(TC("Submitted Contact Form")(),t(null,n)):C(!1)}),[k,L,t]),U=c.useCallback((async()=>{E(!0)}),[L]),$=c.useCallback((async()=>{C(!0);const e=p[0],r=Aae.convertSuggestionToFormValues(e),{ok:i}=await L(r);i?t(null,n):C(!1)}),[p,L,t]),B=c.useCallback((()=>{y(!1)}),[y]);c.useEffect((()=>{TC("View Contact Address Form")()}),[]);const z=c.useCallback((async e=>{const t=(e=>{const{contact_street_address:t,contact_apartment:n,contact_city:r,contact_state:i,contact_postal_code:a}=e;return new pae({addressData:{street:t,street2:n,city:r,state:i,zipcode:a}}).formatAddressToTextString()})(e);Lae=t;const n=new pae({addressData:Rae(e)}),r=await n.getAutocompleteSuggestions();if(null===r)return void f([]);const{streetLine:i,secondary:a,city:s,state:o,zipcode:l}=r[0],c=new pae({addressData:{street:i,street2:a,city:s,state:o,zipcode:l}}).formatAddressToTextString();t===Lae&&t!==c&&f(r)}),[f]);return c.useEffect((()=>{g&&z(k)}),[k,z,g]),a?v?c.createElement(gl.Provider,{value:Nt},c.createElement(Lx,{width:"600px"},c.createElement(yae,null,c.createElement(Eae,null,c.createElement(Ii,null,"Confirm Address")),c.createElement(bae,null,c.createElement(Ei,null,"You can use the original address entered, but this may cause delays in processing your application.")),c.createElement("div",{style:{paddingTop:"24px"}},c.createElement(Pae,{suggestion:k})),c.createElement(wae,null,c.createElement(E9,{error:x,isSubmitting:b}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{transparent:!0,isDisabled:b,fullWidth:!0,onClick:F},"Edit Address")),c.createElement(Iw,{top:8,fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:b,fullWidth:!0,onClick:M},"Yes, Use Address")))))):u?c.createElement(gl.Provider,{value:Nt},c.createElement(Lx,{width:"600px"},c.createElement(yae,null,c.createElement(Eae,null,c.createElement(Ii,null,"Confirm Address")),c.createElement(bae,null,c.createElement(Ei,null,"We were unable to automatically verify the address entered. We found this address below, if correct, press continue.")),c.createElement("div",{style:{paddingTop:"24px"}},null,p.map(((e,t)=>c.createElement("div",{key:t},c.createElement(Pae,{suggestion:e}))))),c.createElement(wae,null,c.createElement(E9,{error:x,isSubmitting:b}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:b,fullWidth:!0,onClick:$},"Continue")),c.createElement(Iw,{top:8,fullWidth:!0,centerAll:!0},c.createElement(hx,{transparent:!0,isDisabled:b,fullWidth:!0,onClick:U},"Use the address that I entered")))))):c.createElement(gl.Provider,{value:Nt},c.createElement(Lx,{width:"600px"},c.createElement(yae,null,e?c.createElement(c.Fragment,null,c.createElement(Eae,null,c.createElement(Ii,null,"Re-enter Address")),c.createElement(bae,null,c.createElement(Ei,null,"We were unable to verify the address you previously entered.")),c.createElement(bae,null,c.createElement(Ei,null,"Must be a residential address in the United States. P.O. boxes are not accepted."))):c.createElement(c.Fragment,null,c.createElement(Eae,null,c.createElement(Ii,null,"What is your address?")),c.createElement(bae,null,c.createElement(Ei,null,"Must be a residential address in the United States. P.O. boxes are not accepted."))),c.createElement(_ae,null,c.createElement(vae,null,c.createElement(fae,{style:{width:"80%"}},c.createElement(ko,{name:"contact_street_address",value:k.contact_street_address,label:"Street Address",onChange:D,error:T.contact_street_address||null})),c.createElement(fae,null,c.createElement(ko,{name:"contact_apartment",value:k.contact_apartment,label:"Apartment",onChange:D,error:T.contact_apartment||null}))),g?c.createElement(Oae,{onAddressSuggestionSelection:A,onEnterAddressManually:B,list:_,hide:""===k.contact_street_address}):c.createElement(c.Fragment,null,c.createElement(vae,null,c.createElement(fae,{style:{width:"50%"}},c.createElement(ko,{name:"contact_city",value:k.contact_city,label:"City",onChange:D,error:T.contact_city||null})),c.createElement(fae,{style:{width:"20%"}},c.createElement(Io,{name:"contact_state",value:k.contact_state,label:"State",items:Iae,onChange:D,error:T.contact_state||null})),c.createElement(fae,{style:{width:"30%"}},c.createElement(ko,{name:"contact_postal_code",value:k.contact_postal_code,label:"Zip Code",onChange:D,error:T.contact_postal_code||null}))),c.createElement(fae,null,c.createElement(Io,{name:"contact_country",items:[so({text:"United States of America",value:"United States of America"})],value:k.contact_country,label:"Country",onChange:D,error:T.contact_country||null})))),c.createElement(Cae,null,c.createElement(xae,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(wae,null,c.createElement(E9,{error:x,isSubmitting:b}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:b,fullWidth:!0,onClick:R},"Continue")))))):c.createElement(h9,null)},Uae=u.div`
  max-width: 416px;
  margin: 0 auto;
`,$ae=u.div`
  padding-top: 32px;

  input {
    border: none !important;
    -webkit-appearance: auto;
    background: transparent !important;
  }
`,Bae=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,zae=u.div`
  padding-top: 24px;
`,Vae=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,Hae=u.div`
  padding-top: 64px;
  text-align: center;
`,Wae=(e,t)=>{const{phone_number:n}=t;return{phone_number:n||""}},jae=u.div`
  max-width: 466px;
  margin: 0 auto;
`,Gae=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,qae=u.div`
  padding-top: 24px;
`,Yae=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 28px;
    width: 28px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,Kae=u.div`
  svg {
    height: 24px;
    width: 24px;
  }
`,Qae=u.div`
  svg {
    height: 26px;
    width: 26px;
  }
`,Zae=u.div`
  svg {
    height: 24px;
    width: 24px;
  }
`,Xae=u.div`
  padding-top: 24px;
  text-align: center;
`,Jae=u.div`
  max-width: 416px;
  margin: 0 auto;
`,ese=u.div`
  padding-top: 40px;

  input {
    border: none !important;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,tse=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`;u.div`
  padding-top: 8px;
`;const nse=u.div`
  padding-top: 24px;
`,rse=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,ise=u.div`
  padding-top: 36px;
  text-align: center;
`,ase=(e,t)=>{const{date_of_birth:n}=t;if(!n)return{date_of_birth:""};const[r,i,a]=n.split("-");return{date_of_birth:`${i}/${a}/${r}`}},sse=u.div`
  max-width: 416px;
  margin: 0 auto;
`,ose=u.div`
  padding-top: 8px;

  input {
    max-width: 80px;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  .floating-label-text-field {
    width: 100%;
  }
  .text-field {
    width: 100%;
  }
`,lse=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,cse=u.div`
  padding-top: 16px;
`,dse=u.div`
  padding-top: 4px;
`,use=u.div`
  padding-top: 8px;
`,hse=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,pse=u.div`
  padding-top: 24px;
  text-align: center;
`,mse=(e,t)=>{const{social_security_number:n}=t;return{social_security_number:"",has_entered_valid_ssn:null==n?void 0:n.includes("*"),acknowledged_ecbsv_agreement:!0}},gse=()=>c.createElement(cse,null,c.createElement(Ei,{bold:!0,style:{marginTop:"8px"},isSmall:!0},"Authorization for the Social Security Administration to Disclose Your Social Security Number Verification"),c.createElement(use,null,c.createElement(Ei,{isSmall:!0},"I authorize the Social Security Administration (SSA) to verify and disclose to ",nl," (",Zo,"), directly or through Socure as its service provider, for the purpose of this transaction, whether the name, Social Security Number (SSN) and date of birth I have submitted match information in SSA records. My consent is for a one-time validation within the next 90 days.")),c.createElement(use,null,c.createElement(Ei,{isSmall:!0},"By pressing CONTINUE, I am signing the consent for SSA to disclose my SSN Verification to"," ",Zo," and Socure. I agree that my electronic signature has the same legal meaning, validity, and effect as my handwritten signature."))),yse=u.div`
  max-width: 416px;
  margin: 0 auto;
`,_se=u.div`
  padding-top: 24px;
`,fse=u.div`
  text-align: center;
`,vse=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Ese=u.div`
  padding-top: 16px;
`,bse=u.div`
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
`,Cse=u.div`
  padding-top: 40px;

  input {
    border: none !important;
    line-height: 29px;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  select {
    border: none !important;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
  .DayPicker-Day {
    padding: 1em;
  }
  .DayPicker-NavBar {
    span:first-child {
      right: 0;
    }
    span:last-child {
      right: 0;
    }
  }
`,xse=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,wse=u.div`
  padding-top: 24px;
`,Sse=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,kse=u.div`
  padding-top: 36px;
  text-align: center;
`,Tse=[so({text:"Citizenship Country",value:""}),so({text:"---",value:"---",disabled:!0}),...Fh(!0).map((e=>so({text:e,value:e})))],Ise=[so({text:"Birth Country",value:""}),so({text:"---",value:"---",disabled:!0}),...Fh().map((e=>so({text:e,value:e})))],Nse=[ya({text:"Yes",value:"YES"}),ya({text:"No",value:"NO"})],Ase=[so({text:"--",value:"",disabled:!0}),...["E1","E2","E3","F1","H1B","L1","TN","TN1","TN2","O1"].map((e=>so({text:e,value:e})))],Pse=e=>{if(!e)return null;const[t,n,r]=e.split("-");return Gl(`${n}/${r}/${t}`).toDate()},Dse=(e,t)=>{const{citizenship_country:n,is_permanent_resident:r,green_card_number:i,green_card_expiration_date:a,birth_country:s,visa_type:o,visa_number:l,visa_expiration_date:c}=t;return{citizenship_country:n||"",is_permanent_resident:r||"",green_card_number:i||"",green_card_expiration_date:Pse(a)||(new Date).toString(),birth_country:s||"",visa_type:o||"",visa_number:l||"",visa_expiration_date:Pse(c)||(new Date).toString()}},Ose=e=>Yl("api",Gl(e)),Lse=u.div`
  max-width: 416px;
  margin: 0 auto;
`,Rse=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`,Fse=u.div`
  margin-left: 10px;
  min-width: 140px;
`,Mse=u.div`
  padding-top: 40px;

  input {
    border: none !important;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Use=u.div`
  padding: 16px 12px 0 12px;
`,$se=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Bse=u.div`
  padding-top: 8px;
`,zse=u.div`
  padding-top: 24px;
`,Vse=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,Hse=u.div`
  padding-top: 24px;
  text-align: center;
`,Wse=(e,t)=>{const{is_control_person:n,is_affiliated_exchange_or_finra:r,is_politically_exposed:i,company_symbols:a,firm_name:s,immediate_family:o,political_organization:l}=t;return{is_control_person:n||"",is_affiliated_exchange_or_finra:r||"",is_politically_exposed:i||"",company_symbols:a||"",firm_name:s||"",immediate_family:o||"",political_organization:l||""}},jse=[ya({text:"Yes",value:"YES"}),ya({text:"No",value:"NO"})],Gse=u.div`
  max-width: 416px;
  margin: 0 auto;
`,qse=u.div`
  padding-top: 24px;
`,Yse=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Kse=u.div`
  padding-top: 8px;
`,Qse=u.div`
  padding-top: 8px;
  text-align: center;
`,Zse=u.div`
  margin-bottom: 16px;
  padding: 12px 16px;
  border: 1px solid ${({theme:e})=>e.themeColors.border};
  border-radius: 5px;
  max-height: 300px;
  overflow: auto;
`,Xse=u.div`
  padding-bottom: 8px;

  &:first-child * {
    font-size: 16px;
  }
`,Jse=u.div`
  padding-bottom: 16px;

  * {
    line-height: 1.2;
  }
`,eoe=(e,t)=>{const{acknowledged_account_agreement:n,acknowledged_margin_agreement:r}=t;return{acknowledged_account_agreement:n||!1,acknowledged_margin_agreement:r||!1}},toe=({agreementKey:e,checkboxValue:t,AdditionalMessagingComponent:n})=>{const r=D((t=>t.liveAccount.liveTrading[e]));if(t||!r)return null;const i=r.replace(/\n\n/g,"**newline**").split("**newline**");return c.createElement("div",null,c.createElement(Zse,null,c.createElement(Jse,null,i.map(((e,t)=>c.createElement(Xse,{key:`account-agreement-line-${t}`},c.createElement(Ei,{isSmall:!0},e)))))),n)},noe=u.div`
  max-width: 416px;
  margin: 0 auto;
  min-height: 400px;
`,roe=u.div`
  margin: 0 auto;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,ioe=u.div`
  padding-top: 24px;
`,aoe=u.div`
  padding-top: 8px;
  text-align: center;
`,soe=()=>c.createElement("div",{className:"modal-message",style:{paddingTop:"0px",textAlign:"center"}},c.createElement(Ei,null,"We are unable to open a brokerage account for you with the information you provided."),c.createElement(ioe,null,c.createElement(Ei,null,`You may continue using ${Xo} with a simulated account.`))),ooe=u.div`
  max-width: 416px;
  margin: 0 auto;
`,loe=({onContinue:e,onboardingState:t})=>{const n=P(),[r,i]=c.useState(!1),a=c.useCallback((async()=>e(null,t)),[]);return c.useEffect((()=>{TC("View Live Account Application Submitted Form")(),(async()=>{await dC()(n),i(!0)})()}),[]),r?c.createElement(gl.Provider,{value:Yt},c.createElement(Lx,{width:"600px"},c.createElement(ooe,null,c.createElement(L4,{handleContinue:a,inPage:!0})))):c.createElement(h9,{message:"Checking for rewards"})},coe=({onPlaidContinue:e,onPathChange:t,onboardingState:n})=>{const r=c.useCallback((t=>{e(t)}),[]),i=c.useCallback((()=>{t(Gce.postFundingSteps,n)}),[]),a=c.useCallback((()=>{t(null,n,{accountType:Dl})}),[]);return c.createElement(gl.Provider,{value:zt},c.createElement(Q9,{onPlaidContinue:r,onPlaidLinkFailure:i,onMissingLiveAccount:a}))},doe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  font-size: 14px;
  font-weight: 300;
  line-height: 18px;
  max-width: 420px;
  margin: 0 auto;
  padding: 0 10px 5px 20px;
  text-align: left;

  i {
    font-size: 15px !important;
    line-height: 18px;
    margin-right: 8px;
  }

  @media (max-width: 500px) {
    font-size: 12px;
  }
`,uoe=u.div`
  font-size: 24px;
  padding: 8px 0;
`,hoe=u.div`
  button {
    padding: 4px 8px;
  }
`,poe=({showFundingMessaging:e,showFaqSection:t,showDisclaimer:n,startCollapsed:r,showAdditionalInsuranceMessage:i})=>{const[a,s]=c.useState(!0);c.useEffect((()=>{ly("View Security Message Panel In Funding",{})()}),[]);const o=()=>{if(a){ly("Clicked Open Security Message Panel In Funding",{})()}s(!a)},l=c.createElement(xc,{icon:"fa-check-circle-o",colorClassName:"success-text-color",size:"small"});return c.createElement("div",{className:`\n          data-security-message-container\n          border-accent\n          ${r?"":"always-open"}\n          ${a&&r?"collapsed":""}\n          ${!a&&r?"open":""}\n        `},c.createElement(hoe,{className:"open-btn"},c.createElement(hx,{transparent:!0,onClick:o},"How is my information secured?")),c.createElement(hoe,{className:"hide-btn"},c.createElement(hx,{transparent:!0,onClick:o},"Hide")),c.createElement(uoe,null,c.createElement("i",{className:"fa fa-lock fa-3"})),c.createElement("div",{className:"heading"},"At ",Xo,", we take security seriously."),c.createElement("div",{className:"implementation-list"},c.createElement(doe,{className:"security-implementation"},l,c.createElement("span",{className:"inline-text"},"We protect your data with bank level security")),c.createElement(doe,{className:"security-implementation"},l,c.createElement("span",{className:"inline-text"},"We don't store your online banking credentials")),e&&c.createElement(c.Fragment,null,i?c.createElement(doe,{className:"security-implementation"},l,c.createElement("span",{className:"inline-text"},c.createElement("span",{className:"inline-text"},"Your brokerage account is protected up to $500,000 by"," "),c.createElement("a",{href:"https://www.sipc.org/for-investors/what-sipc-protects",target:"_blank",rel:"no-follow noopener noreferrer"},"SIPC"),c.createElement("span",{className:"inline-text"},", and up to $37.5 million by Lloyd's of London"))):c.createElement(doe,{className:"security-implementation"},l,c.createElement("span",{className:"inline-text"},c.createElement("span",{className:"inline-text"},"Your brokerage account is protected up to $500,000 by"," "),c.createElement("a",{href:"https://www.sipc.org/for-investors/what-sipc-protects",target:"_blank",rel:"no-follow noopener noreferrer"},"SIPC")))),c.createElement(doe,{className:"security-implementation"},l,c.createElement("span",{className:"inline-text"},c.createElement("span",{className:"inline-text"},"We're a member of FINRA - check us out on"," "),c.createElement("a",{href:"https://brokercheck.finra.org/firm/summary/269966",target:"_blank",rel:"no-follow noopener noreferrer"},"BrokerCheck")))),t&&c.createElement(L3,null),n&&c.createElement("div",{className:"insurance-disclaimer"},c.createElement("p",null,nl," is a member of SIPC. SIPC provides insurance coverage of up to $500,00, including up to $250,000 of cash. Your account is also protected by additional insurance up to $37.5 million, including $900,000 of cash, underwritten by Lloyd's of London. Insurance does not cover market losses.")))},moe=u.div`
  max-width: 416px;
  margin: 0 auto;
`,goe=u.div`
  padding-top: 8px;
`,yoe=u.div`
  position: relative;
  padding-top: 24px;

  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
  input {
    border: none !important;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,_oe=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,foe=u.div`
  padding-top: 24px;
`,voe=u.div`
  padding-top: 8px;
  text-align: center;
`,Eoe=[so({text:"---",value:"",disabled:!0}),so({text:"Checking",value:"CHECKING"}),so({text:"Savings",value:"SAVINGS"})],boe=({onContinue:e})=>{const t=P(),n=ZT(),[r,i]=c.useState(!0),[a,s]=c.useState(!1),[o,l]=c.useState(null),d=j({initialValues:{bank_account_type:"",bank_routing_number:"",bank_account:""},validationSchema:$ie,enableReinitialize:!1}),{values:u,errors:h,setFieldValue:p,validateForm:m}=d,g=c.useCallback((e=>t=>{p(e,t,!1)}),[p]),y=c.useCallback((e=>{const n=e;return s(!0),db(n)(t)}),[]),_=c.useCallback((async()=>{TC("Submitted Add Bank Form")(),TC("Clicked Add Bank Account")();const e=await m();if(0===Object.keys(e).length){const{ok:e}=await y(u);return e?{ok:!0}:(l("Something went wrong, please try again"),s(!1),{ok:!1})}return TC("Failed Add Bank Validations",{Fields:Object.entries(e),"Form Name":"add bank"})(),s(!1),{errors:!0}}),[u]),f=c.useCallback((async()=>{const{ok:t}=await _(),r={themeTestGroups:jp(n)};t&&(Cu("Linked Bank Account",r),e())}),[_]);return c.useEffect((()=>{TC("View Add Bank Form")()}),[]),r?c.createElement(Lx,{width:"600px"},c.createElement(moe,null,c.createElement(_oe,null,c.createElement(Ii,null,"Add a bank account")),c.createElement(goe,null,c.createElement(yoe,null,c.createElement(Io,{name:"bank_account_type",items:Eoe,value:u.bank_account_type,label:"Account Type",onChange:g,error:h.bank_account_type||null})),c.createElement(yoe,null,c.createElement(ko,{name:"bank_routing_number",value:u.bank_routing_number,label:"Routing Number",onChange:g,error:h.bank_routing_number||null,forceLiftedState:!0})),c.createElement(yoe,null,c.createElement(ko,{name:"bank_account",value:u.bank_account,label:"Account Number",onChange:g,error:h.bank_account||null,forceLiftedState:!0}))),c.createElement(voe,null,c.createElement(foe,null,c.createElement(Ei,{isLowContrast:!0,isSmall:!0},"For Security, two micro-deposits will be deposited and withdrawn from your account within 1 - 2 days. You will have to verify these amounts to confirm account ownership.")),c.createElement("div",{style:{paddingTop:"16px"}},c.createElement(E9,{error:o,isSubmitting:a}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:a,fullWidth:!0,onClick:f},"Continue"))),c.createElement(poe,{startCollapsed:!0})))):c.createElement(h9,null)},Coe=({onContinue:e})=>c.createElement(gl.Provider,{value:Vt},c.createElement(boe,{onContinue:()=>{e()}}),";"),xoe=u.div`
  max-width: 360px;
  margin: 0 auto;
`,woe=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Soe=u.div`
  padding-top: 24px;
`,koe=u.div`
  margin: 24px auto 0 auto;
  padding: 16px;
  border-radius: 5px;
  border: 1px dashed ${({theme:e})=>e.themeColors.text};
`,Toe=u.div`
  padding-top: 8px;
  text-align: center;
`,Ioe=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.buttonText} !important;
  }
`,Noe=u.div`
  * {
    font-size: 10px !important;
  }
`,Aoe=u.div`
  max-width: 416px;
  margin: 0 auto;
`,Poe=u.div`
  padding-top: 40px;

  select {
    border-top: none;
    border-left: none;
    border-right: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,Doe=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Ooe=u.div`
  padding-top: 8px;
`,Loe=u.div`
  padding-top: 24px;
`,Roe=u.div`
  padding-top: 24px;
  text-align: center;
`,Foe=[so({value:"public_privacy",text:"Public"}),so({value:"connections_privacy",text:"Connections"}),so({value:"private_privacy",text:"Private"})],Moe=[so({text:"Choose your privacy setting",value:""}),so({text:"---",value:"---",disabled:!0}),...Foe],Uoe=u.div`
  max-width: 416px;
  margin: 0 auto;
`,$oe=u.div`
  padding-top: 36px;

  select {
    border-top: none;
    border-left: none;
    border-right: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,Boe=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,zoe=u.div`
  padding-top: 8px;
`,Voe=u.div`
  padding-top: 24px;
`,Hoe=u.div`
  padding-top: 48px;
  text-align: center;
`,Woe=(()=>{var e=[];for(let t=0;t<=35;t+=.5)e.push(t.toFixed(1));return e})().map((e=>so({text:`${e}%`,value:parseFloat(e)}))),joe=u.tr`
  td {
    height: 76px;
  }
`,Goe=u.div`
  padding: 0 0 16px 0;
  table {
    margin: 0 auto;
    width: 100%;
    max-width: 500px;
  }

  tr {
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
  }

  td {
    padding: 8px 0;
    ul {
      margin: 0;
      list-style: none;
    }
  }
`,qoe=({requiredDocumentCategoryList:e,documentCategoryToAcceptableDocumentListLookup:t})=>c.createElement(Goe,null,c.createElement("table",null,c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{style:{paddingBottom:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Verification Requirement")),c.createElement("th",{style:{textAlign:"right",paddingBottom:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Accepted Documents")))),c.createElement("tbody",null,e.map((e=>c.createElement(joe,{key:e},c.createElement("td",{className:"border-accent",style:{textAlign:"left"}},c.createElement("div",null,dk(e)),"address"===e&&c.createElement("div",{className:"document-upload-subcategory secondary-text-color"},"Must show your name and the address on your application")),c.createElement("td",{className:"border-accent",style:{textAlign:"right"}},c.createElement("ul",null,t[e].map((e=>c.createElement("li",{key:e},e))))))))))),Yoe=u.div`
  text-align: left;

  max-width: 500px;
  margin: 0 auto;
`,Koe=u.div`
  padding-top: 8px;
`,Qoe=u.div`
  margin-top: 24px;
  padding-top: 16px;

  border-top: 1px solid ${({theme:e})=>e.themeColors.border};

  table {
    margin-top: 24px;
    margin-bottom: 24px;

    width: 100%;
    max-width: 440px;
  }

  .document-upload-form {
    fieldset {
      margin-top: 24px;
      margin-bottom: 24px;
    }

    input {
      width: 1px;
      height: 1px;
      background-color: transparent;
      border: none;
    }
  }

  .upload-actions {
    text-align: center;
  }
`,Zoe=u.div`
  padding-top: 24px;
  text-align: center;
`,Xoe=u.div`
  h5 {
    margin: 0;
  }
`,Joe=e=>{const t=[];return e[V_]&&t.push("identity"),e[H_]&&t.push("social security number"),e[W_]&&t.push("immigration status"),t},ele="DocV",tle=({flags:e,onCompletedUpload:t})=>{const n=dI(),r=Joe(e);return c.createElement(Yoe,null,c.createElement(Koe,null,c.createElement(Ei,null,"There are two ways to provide this information securely:"),c.createElement(Koe,null,c.createElement(Ei,{isSmall:!0},"1. Download the ",Jo," app on a mobile device, sign in, and follow the prompts to finish your application.")),c.createElement(Koe,null,c.createElement(Ei,{isSmall:!0},"2. Use the manual upload tool below to provide the required additional documentation."))),c.createElement(Qoe,null,c.createElement(e8,{requiredDocs:r})),n&&c.createElement(Zoe,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,transparent:!0,onClick:t},"Skip/Continue"))))},nle=u.div`
  width: calc(100% - 50px);
`,rle=u.div`
  border: 1px solid ${({theme:e})=>e.themeColors.border};
  border-radius: 5px;
  padding: 16px;
  margin-top: 24px;
  text-align: center;
`,ile=u.div`
  margin: 0 auto;
  max-width: 360px;
`,ale=({qrCode:e,onMobileBrowser:t,imgCaptureUrl:n,logStartUploadClick:r,onCompletedUpload:i})=>{const a=xl(),s=gi({fontSize:"14px",lineHeight:"18px"},{fontSize:"16px",lineHeight:"20px"});return c.createElement("div",null,a?c.createElement(rle,null,c.createElement(ile,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(R2,null),c.createElement(nle,{style:{textAlign:"left"}},c.createElement(Tw,{left:16},c.createElement(pw,{fontSettings:s},"Download the ",Jo," app to securely upload the required documents")))),c.createElement(Iw,{top:24,fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:()=>{null==window||window.open("https://share.tornado.com/YLzlSsPIYub","_blank").focus(),th.application.CLICK_DOWNLOAD_APP_TO_UPLOAD_DOCS.send()}},"Download App")))):c.createElement(rle,null,c.createElement(ile,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(R2,null),c.createElement(nle,{style:{textAlign:"left"}},c.createElement(Tw,{left:16},c.createElement(pw,{fontSettings:s},"Download the ",Jo," app on iOS or Android to securely upload the required documents")))))))},sle=({flags:e,qrCode:t,imgCaptureUrl:n,onMobileBrowser:r,onContinue:i})=>{eI();const a=dI(),[s]=c.useState(ele);c.useEffect((()=>{th.liveTradingSignUp.VIEW_ADDITIONAL_DOCUMENTS_SUBMISSION_PAGE.send({"Is Onboarding":a,"Test Group":s})}),[]);const o=c.useCallback((()=>{th.liveTradingSignUp.VIEW_ADDITIONAL_DOCUMENTS_SUBMISSION_PAGE.send({"Is Onboarding":a})}),[a]),l=c.useCallback((()=>{th.liveTradingSignUp.CLICK_COMPLETE_ADDITIONAL_DOCUMENTS_SUBMISSION_PAGE.send({"Is Onboarding":a}),Y_(),i()}),[a,i]);return c.createElement(gl.Provider,{value:St},c.createElement(Lx,{width:"500px"},c.createElement(Xoe,null,c.createElement(Ii,null,"Your brokerage application"),c.createElement("div",{style:{maxWidth:"320px",paddingTop:"4px"}},c.createElement(Ei,{isSmall:!0,isLowContrast:!0},"Further documentation is required to open your brokerage account."))),(e=>e[V_]||e[H_]||e[W_]||e[j_])(e)&&c.createElement(c.Fragment,null,c.createElement("div",{style:{padding:"16px 0 16px 0",textAlign:"left"}},c.createElement(Ei,{isSmall:!0},"Please upload the documents below.")),c.createElement(qoe,{requiredDocumentCategoryList:Joe(e),documentCategoryToAcceptableDocumentListLookup:Ll})),s===ele?c.createElement(ale,{qrCode:t,onMobileBrowser:r,imgCaptureUrl:n,logStartUploadClick:o,onCompletedUpload:l}):c.createElement(tle,{flags:e,onCompletedUpload:l}),c.createElement("div",{style:{textAlign:"center"}},c.createElement(t8,null))))},ole=({onContinue:e})=>{const t=dI();c.useEffect((()=>{th.liveTradingSignUp.VIEW_CONTACT_RESUBMIT_FORM.send({"Is Onboarding":t})}),[]);const n=c.useCallback((()=>{th.liveTradingSignUp.RESUBMITTED_ADDRESS_SUCCESSFULLY.send({"Is Onboarding":t}),e()}),[]);return c.createElement(Mae,{onContinue:n,onboardingState:null,isResubmit:!0})},lle=({isOnboarding:e,onContinue:t,decisionStatus:n})=>{const r=b();return c.useEffect((()=>{e?t():r(en.build())}),[]),null},cle=({onboardingState:e,onContinue:t})=>{const n=b(),r=dI(),[i,a]=c.useState(!1),[s,o]=c.useState(null),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState(null),[g]=c.useState((()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e})());c.useEffect((()=>{const n=async()=>{const{ok:i,isUserActionRequired:s,isRejected:l,qrCode:c,imgCaptureUrl:u,flags:p,decisionStatus:g}=await Eb();i?(s&&!l||r&&t(null,e),o(g),d(p),h(c),m(u),a(!0)):setTimeout(n,1500)};n()}),[]);const y=c.useCallback((()=>{Y_(),r&&t(null,e),n(en.build())}),[r,t]);return i?s===z_.FURTHER_DOCUMENTS_REQUIRED?c.createElement(sle,{decisionStatus:s,flags:l,qrCode:u,imgCaptureUrl:p,onMobileBrowser:g,onContinue:y}):s===z_.ADDRESS_RESUBMIT?c.createElement(gl.Provider,{value:kt},c.createElement(ole,{onContinue:y})):c.createElement(lle,{isOnboarding:r,decisionStatus:s,onContinue:y}):c.createElement(Dw,null)};class dle{constructor({Component:e,props:t,value:n}){this.Component=e,this.props=t,this.value=n}}const ule=e=>{const{header:t,separator:n,isLoading:r,multiSelectItems:i,itemsContainerStyle:a,onSelect:s,defaultState:d,useRadioButtonBehavior:u,children:h}=e,[p,m]=c.useState(null!==d?d:[]),g=e=>{const t=i[e].value;return p.some((e=>e===t))},y=e=>{const t=i[e].value;s&&s(t),(e=>{const t=i[e].value,n=g(e);m(n?p.filter((e=>e!==t)):u?[t]:[...p,t])})(e)};return r?c.createElement("div",null,c.createElement("div",{className:"flex-center-child",style:{height:75}},c.createElement(_e,null))):c.createElement("div",null,t,c.createElement("div",null,i.map(((e,t)=>c.createElement("div",{key:t},c.createElement(e.Component,l(o({},e.props),{isSelected:g(t),handleClick:()=>y(t)})),n)))),h(p))};ule.defaultProps={itemsContainerStyle:{}};const hle=e=>{const{text:t,defaultExpandedState:n}=e,[r,i]=c.useState(!!n);return r?c.createElement("div",null,c.createElement("span",{className:"secondary-text-color"},t),c.createElement("div",{style:{textAlign:"right",width:"100%"}},c.createElement(aS,{size:"small",icon:"fa-chevron-up",colorClassName:"secondary-text-color",handleClick:()=>{i(!1)}}))):c.createElement("div",{className:"default-flex-space-between",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap",width:"100%"}},c.createElement("div",{className:"secondary-text-color",style:{width:"85%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},c.createElement("span",{className:"secondary-text-color"},t)),c.createElement("div",{style:{marginLeft:8}},c.createElement(aS,{size:"small",icon:"fa-chevron-down",colorClassName:"secondary-text-color",handleClick:()=>{i(!0)}})))};var ple=Object.defineProperty,mle=(e,t,n)=>(((e,t,n)=>{t in e?ple(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class gle extends c.PureComponent{constructor(){super(...arguments),mle(this,"handleClick",(()=>{const{id:e,handleClick:t}=this.props;t();TC("Select Featured Viewpoint",{ID:e})()}))}render(){const{id:e,isSelected:t,style:n}=this.props,r=e;return c.createElement("div",{className:t?"success-border-accent":"border-accent",style:{borderWidth:"1px",borderStyle:"solid",padding:"15px",borderRadius:"4px"}},c.createElement("div",{className:"flex-center-space-between"},c.createElement(oJ,{id:r},((e,t,n,i,a,s,o,l)=>c.createElement("div",{className:"user-container new-style",style:{paddingRight:"10px"}},c.createElement("div",{className:"flex-text"},c.createElement("div",{style:{display:"inline-block",height:"40px",marginRight:"3px"}},c.createElement(VP,{viewpointOrgId:r,isViewpointOrg:!0,imageSrc:t,initials:i,size:"nav",withLink:!1})),c.createElement("div",{className:"flex-text",style:{height:"40px"}},c.createElement("div",{className:"breaking-username"},c.createElement(WL,{viewpointOrgId:r,isViewpointOrg:!0,displayText:s,withLink:!1}))))))),t?c.createElement("div",null,c.createElement(xc,{icon:"fa-check",colorClassName:"success-text-color",size:"medium"})):c.createElement("div",{style:{paddingBottom:5}},c.createElement(hx,{onClick:this.handleClick},"Select"))),c.createElement("div",{style:{marginTop:"15px"}},c.createElement(oJ,{id:e},((e,t,n,r,i,a,s,o)=>c.createElement(hle,{text:fP(o),defaultExpandedState:!1})))))}}gle.defaultProps={style:{}};var yle=Object.defineProperty,_le=(e,t,n)=>(((e,t,n)=>{t in e?yle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class fle extends c.PureComponent{constructor(){super(...arguments),_le(this,"handleContinueClick",(e=>()=>{this.props.onContinue(e)})),_le(this,"_generateMultiSelectItems",(()=>{const{orderedFeaturedViewpointIds:e}=this.props;return e.map((e=>new dle({Component:gle,props:{id:e},value:e})))}))}render(){const{featuredViewpointOrgIds:e,defaultViewpointSelection:t}=this.props,n=e.length>1,r=1===e.length||null!==t,i=null!==t?[t]:[e[0]];return c.createElement("div",{className:"featured-viewpoint-selection-container",style:{paddingTop:"15px"}},c.createElement(ule,{header:n?c.createElement("div",{className:"text-center",style:{marginBottom:10}},c.createElement("span",{className:"  text-center"},"Select one of our featured free contributors"),c.createElement("span",{style:{marginLeft:"8px"}},c.createElement(rz,{definitionKey:"tooltip_viewpoint"}))):null,isLoading:!1,multiSelectItems:this._generateMultiSelectItems(),defaultState:r?i:null,itemsContainerStyle:{flex:1},separator:c.createElement("div",{style:{height:10}}),useRadioButtonBehavior:!0},(e=>c.createElement("div",{style:{textAlign:"center",paddingTop:"25px"}},c.createElement(hx,{onClick:this.handleContinueClick(e)},"Continue")))))}}var vle=T((e=>({featuredViewpointOrgIds:AP(e),orderedFeaturedViewpointIds:PP(e),defaultViewpointSelection:DP(e)})))(fle);class Ele extends c.PureComponent{render(){const{org:e}=this.props,{is_free:t}=e,n=EP(e);return t?c.createElement("span",{className:"secondary-text-color"},`Free with ${Jo} Membership`):c.createElement("span",{className:"secondary-text-color"},`${B_(n,"price")} per month`)}}var ble=Object.defineProperty,Cle=(e,t,n)=>(((e,t,n)=>{t in e?ble(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class xle extends C.exports.Component{constructor(){super(...arguments),Cle(this,"_doNothing",(()=>!1)),Cle(this,"_logMoreActionsClick",(()=>{if(!this.props.eventContext)return console.error("MoreActions is missing this.props.eventContext");const e={Context:this.props.eventContext};TC("Clicked More Actions",e)()}))}render(){return c.createElement("div",{className:"more-actions-button-container"},c.createElement(aS,{customClass:"connections-table-more-user-actions horizontal-list-change-page-btn",icon:"fa fa-ellipsis-h",size:"small",handleClick:this._doNothing}),c.createElement(KP,{id:this.props.dropdownId,style:{width:"160px"},additionalShowFunc:this._logMoreActionsClick,dropdownItemDataList:this.props.dropdownChildrenDataList}))}}var wle=Object.defineProperty,Sle=(e,t,n)=>(((e,t,n)=>{t in e?wle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class kle extends c.PureComponent{constructor(){super(...arguments),Sle(this,"_handleCancelSubscription",(()=>{const{dispatch:e}=this.props;this.setState((()=>({isCancelling:!0})));bb({contentComponent:c.createElement(Wz,{text:"Canceling"}),dismissable:!1})(e),setTimeout((()=>this._cancelSubscription()),500)})),Sle(this,"_cancelSubscription",(()=>{const{id:e,dispatch:t}=this.props;return AC(e)(t).then((e=>{const{ok:n,errorMessage:r}=e;if(n)!function(e){e({type:"HIDE_MODAL"})}(t);else{const e={contentComponent:bS(r||"Something went wrong. Please try again."),dismissable:!0};bb(e)(t),this.setState((()=>({isCancelling:!1})))}}))}))}render(){const{id:e,style:t,viewpointOrg:n,hideActions:r,showBio:i}=this.props;if(null===n)return null;if(SP(n))return null;const a=[{elementType:nD,elementTypeString:"ClickEventComponent",props:{id:`additional-action-connection-row-${e}`,onClickFunc:this._handleCancelSubscription,shouldTriggerDropdownClose:!0},children:c.createElement("div",{className:"user-fontSettings-nav-item is-updating connection-user-row-more-actions selectable-item"},c.createElement(Iw,{all:8,centerAll:!0},"Cancel Subscription"))}];return c.createElement("div",{className:"border-accent",style:{borderWidth:"1px",borderStyle:"solid",padding:"15px",borderRadius:"4px"}},c.createElement("a",{className:"flex-center-space-between",style:{cursor:"pointer"},onClick:()=>this.props.navigate(Nn.build(n.name))},c.createElement(lJ,{profileLinkQuery:`?context=${Zg}`,avatarSize:"nav",viewpointOrgId:e,isViewpointOrg:!0}),wP(n)&&!r?c.createElement("div",{style:{paddingBottom:5}},c.createElement(xle,{dropdownId:`connection-more-action-button-dropdown-${e}`,dropdownChildrenDataList:a,eventContext:"Viewpoint Subscription Row"})):null),c.createElement("div",{style:{marginTop:"15px"}},i?c.createElement(oJ,{id:e},((e,t,n,r,i,a,s,o)=>c.createElement("span",{className:"secondary-text-color"},fP(o)))):xP(n)?c.createElement("span",{className:"secondary-text-color"},"Canceled"):c.createElement(Ele,{org:n})))}}kle.defaultProps={style:{}};var Tle=T(((e,t)=>{const{id:n}=t;return{viewpointOrg:IP(e,n)}}))(_c(kle));const Ile=u.div`
  max-width: 440px;
  margin: 0 auto;
`,Nle=u.div`
  margin: 0 auto;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`;u.div`
  padding-top: 24px;
`;const Ale=u.div`
  padding-top: 80px;
  text-align: center;
`,Ple=()=>{const e=P(),t=D((e=>e.membership));return c.useEffect((()=>{VC()(e)}),[]),t},Dle=()=>c.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M13 21L15 20L17 21V14H13M17 9V7L15 8L13 7V9L11 10L13 11V13L15 12L17 13V11L19 10M20 3H4A2 2 0 0 0 2 5V15A2 2 0 0 0 4 17H11V15H4V5H20V15H19V17H20A2 2 0 0 0 22 15V5A2 2 0 0 0 20 3M11 8H5V6H11M9 11H5V9H9M11 14H5V12H11Z"})),Ole=u.div`
  * {
    text-decoration: line-through;
  }
`,Lle=u.div`
  padding: 8px 0 8px 0;
  text-align: center;

  svg {
    height: 64px;
    width: 64px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Rle=u.div`
  padding: 24px 0 0 0;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
`,Fle=u.div`
  display: flex;
  flex: 0 1 auto;
  flex-direction: column;
`,Mle=u.div`
  overflow: auto;

  display: flex;
  flex: 1;
  flex-direction: column;
`,Ule=u.div``,$le=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"32px"}),Ble=gi({fontSize:"18px",lineHeight:"24px"},{fontSize:"24px",lineHeight:"28px"}),zle=gi({fontSize:"24px",lineHeight:"248x"},{fontSize:"36px",lineHeight:"42px"}),Vle=({onContinue:e})=>{const t=b(),n=ZT(),{annualFee:r}=Ple(),[i,a]=c.useState(!1),[s,o]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(null),p=Ap(n),m=(e=>1===e.annual_membership_framed_per_day_test_group)(n),g=Np(n),y=(12*g).toFixed(2),_=isNaN(r)?null:y-r,f=qk(isNaN(_)?0:_/y).toFixed(2),v=100*f,E=(g*(1-f)*12).toFixed(2),C=(g*(1-f)).toFixed(2),x=(E/365).toFixed(2);c.useEffect((()=>{th.user.VIEW_ANNUAL_MEMBERSHIP_OPT_IN.send()}),[]);const w=()=>{e?e():t(en.build())},S=async()=>{h(null),a(!1),o(!0);const{ok:e,errorMessage:t}=await HC();e||"You already have an annual membership."===t?(th.user.ANNUAL_MEMBERSHIP_OPT_IN_REQUEST_SUCCESS.send(),d(!0),o(!1)):(th.user.ANNUAL_MEMBERSHIP_OPT_IN_REQUEST_FAILURE.send({"Error Message":t}),o(!1),h(t))},k=()=>{S()},T=()=>{th.user.CLICK_ANNUAL_MEMBERSHIP_OPT_IN_CONFIRMATION_MODAL_ACTION.send({Action:"Cancel"}),a(!1)};return l?c.createElement(m9,{message:"Account Upgraded",width:"560px",onContinue:w}):null!==u?c.createElement(y9,{message:u,width:"560px",onRetry:k}):s?c.createElement(h9,{message:"Upgrading your account..."}):isNaN(r)?c.createElement(h9,{message:"Loading..."}):c.createElement(gl.Provider,{value:Pt},i&&c.createElement(Hx,{onDismiss:T},c.createElement(Ei,null,"Your bank account will be automatically charged $",r.toFixed("2")," annually. Cancel anytime for a pro-rated refund."),c.createElement(Rle,null,c.createElement("div",null,c.createElement(hx,{onClick:()=>{th.user.CLICK_ANNUAL_MEMBERSHIP_OPT_IN_CONFIRMATION_MODAL_ACTION.send({Action:"Confirm"}),S()}},"Confirm")),c.createElement("div",null,c.createElement(hx,{transparent:!0,onClick:T},"Cancel")))),c.createElement(Lx,{expandHeight:!0,width:"560px",style:{position:"relative",overflow:"hidden"}},c.createElement(Fle,null,c.createElement(Mle,null,c.createElement(Lle,null,c.createElement(Dle,{width:64})),c.createElement(Wx,{center:!0},c.createElement("div",{style:{maxWidth:"360px",margin:"0 auto"}},c.createElement(pw,{fontSettings:$le,bold:!0},"Upgrade your Tornado membership to annual and"," "),c.createElement(pw,{fontSettings:$le,bold:!0},"SAVE ",v,"%"))),m?c.createElement("div",null,c.createElement(Wx,{top:24,center:!0},c.createElement(Ole,null,c.createElement(pw,{fontSettings:Ble,center:!0,isLowContrast:!0,strikethrough:!0},"$"+g.toFixed(2)+"/month")),c.createElement(pw,{fontSettings:zle,center:!0,bold:!0},`$${x}/day`),c.createElement(Wx,{top:4,center:!0},c.createElement(pw,{fontSettings:Ble,center:!0},`${v}% OFF`)),c.createElement(Wx,{top:16,center:!0},c.createElement(Ei,{center:!0},"Billed annually as a one-time charge of $",E)))):c.createElement("div",null,c.createElement(Wx,{top:24,center:!0},c.createElement(Ole,null,c.createElement(pw,{fontSettings:Ble,center:!0,isLowContrast:!0,strikethrough:!0},"$"+g.toFixed(2))),c.createElement(pw,{fontSettings:zle,center:!0,bold:!0},`$${C}/month`),c.createElement(Wx,{top:4,center:!0},c.createElement(pw,{fontSettings:Ble,center:!0},`${v}% OFF`)),c.createElement(Wx,{top:16,center:!0},c.createElement(Ei,{center:!0},"Billed annually as a one-time charge of $",E)))),c.createElement("div",{style:{margin:"0 auto",maxWidth:220}},c.createElement(Wx,{top:24,center:!0},c.createElement(Ei,{center:!0},"Includes all these great ",Zo," membership perks:"),c.createElement(Wx,{top:16,bottom:16},c.createElement(Qx,{text:`${p} commission-free trades a month`})),c.createElement(Qx,{text:"1 free Viewpoint Contributor premium subscription"})))),c.createElement(Ule,null,c.createElement(Wx,{top:24,center:!0},c.createElement(Fle,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:async()=>{th.user.CLICK_ANNUAL_MEMBERSHIP_OPT_IN_ACTION.send({Action:"Upgrade"}),a(!0)}},"Upgrade Now")),c.createElement(Wx,{top:8,center:!0},c.createElement(Fle,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,transparent:!0,onClick:()=>{th.user.CLICK_ANNUAL_MEMBERSHIP_OPT_IN_ACTION.send({Action:"Decline"}),w()}},"Maybe later"))))))))},Hle=e=>{const t=()=>{var t,n;return(null==(n=null==(t=e.liveAccount)?void 0:t.liveAccounts)?void 0:n.accounts)||{}};return Object.keys(t).some((e=>t[e].needs_micro_deposit_verification))},Wle=u.div`
  max-width: 416px;
  margin: 0 auto;
`,jle=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Gle=u.div`
  padding-top: 24px;
`,qle=u.div`
  padding-top: 8px;
  text-align: center;
`,Yle=u.div`
  width: 36px;
  padding-right: 12px;

  svg {
    height: 16px;
    width: 16px;
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,Kle=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  padding-bottom: 16px;

  &:last-child {
    padding-bottom: 0;
  }
`,Qle=({onContinue:e,reauthToken:t})=>{const n=c.useCallback((t=>{e(t)}),[]),r=c.useCallback((()=>{e(!1)}),[]),i=c.useCallback((()=>{e(!1)}),[]);return c.createElement(Q9,{reauthToken:t,onPlaidContinue:n,onPlaidLinkFailure:r,onMissingLiveAccount:i})},Zle=u.div`
  max-width: 416px;
  margin: 0 auto;
`,Xle=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Jle=u.div`
  margin: 8px auto 0 auto;
  border-radius: 5px;
`,ece=u.div`
  padding-top: 8px;
  display: flex;
  justify-content: center;
`,tce=u.div`
  max-width: 416px;
  margin: 0 auto;
`,nce=u.div`
  padding-top: 36px;
`,rce=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,ice=u.div`
  padding-top: 8px;
`,ace=u.div`
  padding-top: 36px;
  text-align: center;
`,sce=[po({value:"growth",text:"Growth Stocks"}),po({value:"thought_leaders",text:"Famous Investors"}),po({value:"value",text:"Value Stocks"}),po({value:"etfs",text:"Diversified ETFs"}),po({value:"popular",text:"Popular Stocks"}),po({value:"dividend",text:"Dividend Stocks"}),po({value:"energy",text:"Energy Sector"}),po({value:"financial",text:"Financial Sector"}),po({value:"tech",text:"Tech Sector"}),po({value:"healthcare",text:"Healthcare Sector"})];var oce=Object.defineProperty,lce=(e,t,n)=>(((e,t,n)=>{t in e?oce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const cce=u.div`
  input {
    border: none !important;
  }
  .add-to-portfolio-container .default-search-container i.query-icon {
    top: 10px;
  }
  .add-to-portfolio-container .default-search-container {
    margin: 0 auto;
  }
  .add-to-portfolio-container .default-search-container {
    max-width: 300px;
  }
  .add-to-portfolio-container .default-search-container .search-results-container {
    left: -25px;
    right: -25px;
  }
  @media (max-width: 1075px) {
    .add-to-portfolio-container .default-search-container .search-results-container {
      left: 0px;
      right: 0px;
    }
  }
  .add-to-portfolio-container .default-search-container i.query-icon {
    left: 13px;
    z-index: 5;
  }
  @media (max-width: 500px) {
    .add-to-portfolio-container .default-search-container {
      max-width: 275px;
    }
    .add-to-portfolio-container .default-search-container .search-results-container {
      left: 0px;
      right: 0px;
    }
  }
`;class dce extends C.exports.Component{constructor(){super(...arguments),lce(this,"_fetchDataForSecurity",(e=>{this.props.actions.quickFetchSecuritiesData([e]),this.props.actions.fetchSecuritiesPriceData([e]),this.props.actions.getIdeasForSecurity([e])})),lce(this,"_createIdeaFromSearchQuery",(e=>{if(!e)return!1;const t=e.id;this._fetchDataForSecurity(t);const n=this.props.currentUser.user_id,r=this.props.ideas.ideaList,i=RS(n,t,r);if(!!i){const e=l(o({},i),{active:!0});this.props.actions.updateIdea(e,i)}else this.props.actions.addIdeas([{security:{security_id:t}}]).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Added Idea",e),th.ideas.ADD_IDEA.send()}}));const a={securityId:t,additionalProps:{activeTab:"ideas"},navigate:this.props.navigate,trackingData:{properties:{Component:"Add to Portfolio",Context:"Security Panel"}}};!1!==this.props.shouldOpenSecurityPanelOnSelection&&(({securityId:e,panel:t,additionalProps:n,trackingData:r,navigate:i}=o({},bU))=>{i||console.error("Must supply router navigate to open panel");const a=o({panel:t||"security",securityId:e},n);if(r){const e="Open Security Panel",t=o({},r.properties);ly(e,t)()}const s=ve(a);i(location.pathname+s)})(o({},a))}))}render(){return c.createElement(cce,{className:"add-to-portfolio-container"},c.createElement(UA,{id:"add-to-portfolio-search",customIcon:this.props.icon||"fa-plus",showPlus:this.props.showPlus,autoFocus:!1,parentComponent:"PortfolioTable",placeholder:this.props.placeholder||"Add to Portfolio",handleSecurityQuerySelection:this._createIdeaFromSearchQuery,dismissAfterSelection:!0}))}}const uce=N(_c,T((e=>({currentUser:e.currentUser,ideas:e.ideas})),(e=>({actions:I(WC,e)}))))(dce),hce=u.div`
  max-width: 416px;
  margin: 0 auto;
`,pce=u.div`
  padding-top: 0;
`,mce=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,gce=u.div`
  padding-top: 80px;
  text-align: center;
`,yce=u.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  padding: 16px;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,_ce=u.div`
  padding: 0 16px 0 0;
`,fce=u.div`
  max-width: 180px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,vce=u.div`
  .sc-button {
    transition: all 300ms;

    height: 40px;
    width: 40px;

    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;

    border-radius: 5px;
    cursor: pointer;

    &:hover {
      background: ${({theme:e})=>e.themeColors.text};

      svg {
        height: 20px;
        width: 20px;

        path {
          fill: ${({theme:e})=>e.themeColors.appBackground};
        }
      }
    }
  }

  svg {
    height: 20px;
    width: 20px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Ece=u.div`
  height: 40px;
  width: 40px;

  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
`,bce=u.div`
  padding: 16px 0;

  .default-search-container,
  .add-to-portfolio-container {
    width: 100% !important;
    max-width: unset;
  }
  #add-to-portfolio-search_container {
    width: 100% !important;
    max-width: unset;
  }
  input {
    background: transparent !important;
  }
`,Cce=({idea:e})=>{const t=P(),[n,r]=c.useState(!1);return c.createElement(vce,null,n?c.createElement(Ece,null,c.createElement(_w,null)):c.createElement("div",{className:"sc-button",onClick:async()=>{r(!0),await(async()=>{const n=await KE(e)(t);"deleted"===(null==n?void 0:n.status)||r(!1)})()}},c.createElement(Wi,null)))},xce=({idea:e})=>{const{security:t}=e,{id:n,symbol:r,name:i}=t;return c.createElement(yce,null,c.createElement(_ce,null,c.createElement("div",null,c.createElement(fi,null,r)),c.createElement(fce,null,c.createElement(Ei,null,i))),c.createElement(Cce,{idea:e}))},wce=({ideaLookup:e})=>{const t=Object.keys(e).map((t=>e[t]));return c.createElement(c.Fragment,null,t.map((e=>c.createElement(xce,{key:e.id,idea:e}))))},Sce=u.div`
  max-width: 416px;
  margin: 0 auto;
`,kce=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`,Tce=u.div`
  margin-left: 10px;
  min-width: 140px;
`,Ice=u.div`
  padding-top: 40px;

  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`;u.div`
  padding: 16px 12px 0 12px;
`;const Nce=u.div`
  margin: 0 auto;
  padding-top: 8px;

  h5 {
    margin: 0;
    line-height: 1.3;
  }
`,Ace=u.div`
  padding-top: 24px;
`,Pce=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  text-align: left;

  svg {
    height: 24px;
    width: 24px;

    fill: ${({theme:e})=>e.themeColors.text};

    margin-right: 16px;
  }
`,Dce=u.div`
  padding-top: 24px;
  text-align: center;
`,Oce=(e,t)=>{const{is_tornado_employee:n}=t;return{is_tornado_employee:n||"NO"}},Lce=[ya({text:"Yes",value:"YES"}),ya({text:"No",value:"NO"})],Rce={initialization:"initialization",accountTypeSelection:"accountTypeSelection",selectInvestingExperience:"selectInvestingExperience",enterInvestorProfile:"enterInvestorProfile",enterContactName:"enterContactName",enterContactAddress:"enterContactAddress",enterContactPhoneNumber:"enterContactPhoneNumber",enterIdentity:"enterIdentity",enterDOB:"enterDOB",enterSSN:"enterSSN",enterCitizenshipCountry:"enterCitizenshipCountry",enterDisclosures:"enterDisclosures",enterEmploymentDisclosures:"enterEmploymentDisclosures",enterAgreements:"enterAgreements",submittedLiveAccountApplication:"submittedLiveAccountApplication",redeemRewards:"redeemRewards",redeemRewardsAfterDeposit:"redeemRewardsAfterDeposit",linkBankAccount:"linkBankAccount",depositFunds:"depositFunds",almostThere:"almostThere",socureApplication:"socureApplication",selectAccountPrivacy:"selectAccountPrivacy",selectVPC:"selectVPC",enterDefaultExpectedReturn:"enterDefaultExpectedReturn",selectInterests:"selectInterests",editWatchlist:"editWatchlist",end:"end"},Fce={[Rce.accountTypeSelection]:({onPathChange:e,onboardingState:t})=>{const n=P();c.useContext(m);const r=ZT();c.useEffect((()=>{TC("View Onboarding",{Context:"Intro Screen"})();let e=!1;const t=()=>{e&&(e=!1,setTimeout((()=>{window.location.reload()}),50))},n=()=>{e=!0},r=()=>{const e=window.$(window);e.on("blur",n),e.on("focus",t)};return(()=>{if(window.$(window).width()<1200&&-1===navigator.userAgent.indexOf("Safari"))try{r()}catch(e){console.error(e)}})(),(()=>{const e=window.$(window);e.off("blur",n),e.off("focus",t)})()}),[]);const i=c.useCallback((()=>{const e=c.createElement("span",null,c.createElement("span",null,"Just a reminder, simulated trading accounts aren't eligible for the current reward offer ( $5 to $1,000 free cash to invest -"),c.createElement(iT,{to:Ln("rewards"),className:"link-btn",additionalClickAction:()=>{!function(e){e({type:"HIDE_MODAL"})}(n)},text:"details here",styling:{padding:"0px 6px"},scrollToTop:!0}),c.createElement("span",null,").")),t={contentComponent:(r=e,i=()=>function(e){e({type:"HIDE_MODAL"})}(n),c.createElement("div",null,c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},r),c.createElement("div",{className:"modal-custom-button"},c.createElement(hx,{onClick:i},"Close")))),dismissable:!0,size:"wide"};var r,i;bb(t)(n)}),[]),a=c.useCallback((()=>{TC("Chose Live Trading Onboarding Path")(),Cu("Selected Live Account",{themeTestGroups:jp(r)}),pl.account.ACCOUNT_TYPE_SELECTED.send({account_type:_t.account_types.live,url:window.location.pathname,url_query:window.location.search}),(()=>{try{return"1"===window.localStorage.getItem("started-lt-onboarding")}catch{return!1}})()||((()=>{try{window.localStorage.setItem("started-lt-onboarding","1")}catch{return!1}})(),wu(1)),e(null,t,{accountType:Ol})}),[]),s=c.useCallback((()=>{L_(D_,!1);TC("Chose Paper Trading Onboarding Path")(),Cu("Selected Paper Account",{themeTestGroups:jp(r)}),pl.account.ACCOUNT_TYPE_SELECTED.send({account_type:_t.account_types.simulated,url:window.location.pathname,url_query:window.location.search}),r.eligible_for_sign_up_cash_reward&&i(),e(null,t,{accountType:Dl})}),[]);return c.createElement(gl.Provider,{value:Mt},c.createElement(Lx,{width:"600px"},c.createElement(lie,null,c.createElement(Ii,null,`Welcome to ${Xo}`)),c.createElement(cie,null,c.createElement(Ei,null,"You are just moments away...")),c.createElement(die,null,c.createElement(Ei,null,c.createElement(bie,null))),c.createElement(pie,null,c.createElement(Ei,null,"Start investing with no minimum account size"),c.createElement(mie,null,c.createElement(hx,{fullWidth:!0,onClick:a},"Continue")),c.createElement(gie,null,c.createElement(hx,{transparent:!0,onClick:s},"Open a simulated account instead")))))},[Rce.selectInvestingExperience]:({onContinue:e,onboardingState:t})=>{const n=P(),r=ZT(),[i,a]=c.useState(!1),[s,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState((g=r,isNaN(null==(y=g.investing_experience)?void 0:y.id)?"":null==(_=g.investing_experience)?void 0:_.id));var g,y,_;const[f,v]=c.useState(null),E=c.useCallback((async()=>{const e=await RE("investing_experience")(n);if(e&&e.investing_experience_types){const t=e.investing_experience_types;v(t),a(!0)}else setTimeout((()=>{E()}),1e3)}),[]);c.useEffect((()=>{E();TC("View Onboarding",{Context:"Investing Experience Form"})()}),[]);const b=c.useCallback((async()=>{if(s)return;if(""===p)return d("Selection is required"),void TC("Failed Live Account Validations",{Fields:["investing_experience","Required"],"Form Name":"investing experience"})();const r=f[p];o(!0);if(await UE({investing_experience:r})(n)){th.user.SET_INVESTING_EXPERIENCE.send({Value:p}),ay("Prior Investing Experience",p);(e=>null!==e&&"No experience"!==e)(p)&&wu(3),e(null,t)}else h("Something went wrong, please try again."),o(!1)}),[e,t,p,f,s]);if(!i)return c.createElement(h9,null);const C=[so({text:"Select your experience level",value:""}),so({text:"---",value:"---",disabled:!0}),...f.map((e=>so({text:e.description,value:e.id})))];return c.createElement(gl.Provider,{value:Ut},c.createElement(Lx,{width:"500px"},c.createElement(Cie,null,c.createElement(wie,null,c.createElement(Ii,null,"How much experience do you have investing?")),c.createElement(xie,null,c.createElement(Io,{name:"investing_experience",value:p,label:"",items:C,onChange:e=>e=>{m(e)},error:l})),c.createElement(Sie,null,c.createElement(Ei,null,`${Xo} makes sophisticated investing accessible to everyone from first time investors to seasoned experts.`)),c.createElement(kie,null,c.createElement(E9,{error:u,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:b},"Continue"))))))},[Rce.enterInvestorProfile]:({onContinue:e,onboardingState:t})=>{const n=P(),r=ZT(),i=uI(),[a,s]=c.useState(!1),[o,l]=c.useState(null),[d,u]=c.useState(!1),[h,p]=c.useState(!1),m=j({initialValues:Qie(i),validationSchema:Nie,enableReinitialize:!1}),{values:g,errors:y,setFieldValue:_,validateForm:f}=m,v=c.useCallback((e=>t=>{_(e,t,!1)}),[_]),E=c.useCallback((e=>{const t=e;return s(!0),sb(t,"investor_profile")(n)}),[]),b=c.useCallback((async()=>{TC("Submitted Investor Profile Form")();const e=await f();if(0===Object.keys(e).length){const{status:e}=await E(g);return 200===e?{ok:!0}:(l("Something went wrong, please try again"),s(!1),{ok:!1})}return s(!1),{errors:!0}}),[g]),C=c.useCallback((async()=>{const{ok:n}=await b();n&&e(null,t)}),[b]);return c.useEffect((()=>{TC("View Investor Profile Form")();TC("Started Live Trading Sign Up")(),"custom"!==i.risk_profile&&u(!0)}),[]),c.useEffect((()=>{var e;if(!h&&"aggressive"===g.risk_profile&&0===(null==(e=r.investing_experience)?void 0:e.id)){bb({contentComponent:c.createElement("div",{className:"risk-profile-alert-modal"},"As an inexperienced investor, an Aggressive risk profile may not be the best choice. Consider changing to Moderate or Conservative instead."),redirect:!1,size:"wide",dismissable:!0})(n),p(!0)}}),[g,h]),c.createElement(gl.Provider,{value:Ft},c.createElement(Lx,{width:"600px"},c.createElement(Bie,null,c.createElement(jie,null,c.createElement(Ii,null,"Update your investor profile")),c.createElement(Vie,null,c.createElement(Ei,{isSmall:!0},"You can change these settings at any time. We encourage you to update these as your finances change.")),c.createElement(zie,null,d&&c.createElement(Gie,null,c.createElement(Io,{name:"risk_profile",label:"Select your Risk Profile",value:g.risk_profile,error:y.risk_profile||null,items:qie,onChange:v})),c.createElement(Gie,null,c.createElement(Io,{name:"total_investible_assets",label:"What are your total investible assets?",value:g.total_investible_assets,error:y.total_investible_assets||null,items:Yie,onChange:v})),c.createElement(Gie,null,c.createElement(Io,{name:"annual_income",label:"What is your total annual income?",value:g.annual_income,error:y.annual_income||null,items:Kie,onChange:v}))),c.createElement(Vie,null,c.createElement(Hie,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(Wie,null,c.createElement(E9,{error:o,isSubmitting:a}),c.createElement(Iw,{centerAll:!0,fullWidth:!0},c.createElement(hx,{isDisabled:a,fullWidth:!0,onClick:C},"Continue"))))))},[Rce.enterContactName]:({onContinue:e,onboardingState:t})=>{const n=P(),r=ZT(),i=uI(),[a,s]=c.useState(!0),[o,l]=c.useState(!1),[d,u]=c.useState(null),h=j({initialValues:iae(r,i),validationSchema:Aie,enableReinitialize:!1}),{values:p,errors:m,setFieldValue:g,validateForm:y}=h,_=c.useCallback((e=>t=>{g(e,t,!1)}),[g]),f=c.useCallback((e=>{const t=e;return l(!0),sb(t,"contact")(n)}),[]),v=c.useCallback((async()=>{const{given_name:e,family_name:t}=p;TC("Submitted Contact Name Form")();const n=await y();let r=!0;if((e+" "+t).length>30&&(r=!1,u("Your full name is longer than the maximum length we can accept, please use initials where appropriate.")),0===Object.keys(n).length&&r){const{status:e}=await f(p);return 200===e?{ok:!0}:(u("Something went wrong, please try again"),l(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(n),"Additional Validation":r,"Form Name":"name"})(),l(!1),{errors:!0}}),[p]),E=c.useCallback((async()=>{const{ok:n}=await v();n&&e(null,t)}),[v]);return c.useEffect((()=>{const{given_name:e,family_name:t}=p;(e+" "+t).length<=30&&"Your full name is longer than the maximum length we can accept, please use initials where appropriate."===d&&u(null)}),[p]),c.useEffect((()=>{TC("View Contact Form")(),TC("View Contact Name Form")()}),[]),a?c.createElement(gl.Provider,{value:It},c.createElement(Lx,{width:"600px"},c.createElement(Zie,null,c.createElement(Jie,null,c.createElement(Ii,null,"What is your legal name?")),c.createElement(eae,null,c.createElement(Ei,null,"Your full legal name as it appears on your license or passport is required.")),c.createElement(Xie,null,c.createElement(ko,{name:"given_name",value:p.given_name,label:"First Name",onChange:_,error:m.given_name||null})),c.createElement(Xie,null,c.createElement(ko,{name:"family_name",value:p.family_name,label:"Last Name",onChange:_,error:m.family_name||null})),c.createElement(tae,null,c.createElement(nae,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(rae,null,c.createElement(E9,{error:d,isSubmitting:o}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:o,fullWidth:!0,onClick:E},"Continue")))))):c.createElement(h9,null)},[Rce.enterContactAddress]:Mae,[Rce.enterContactPhoneNumber]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:Wae(0,r),validationSchema:Die,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,y=c.useCallback((e=>t=>{m(e,t,!1)}),[m]),_=c.useCallback((e=>{const t=e;return o(!0),sb(t,"contact")(n)}),[]),f=c.useCallback((async()=>{TC("Submitted Contact Phone Number Form")(),TC("Submitted Contact Form")();const e=await g();if(0===Object.keys(e).length){const{status:e}=await _(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"phone number"})(),o(!1),{errors:!0}}),[h]),v=c.useCallback((async()=>{const{ok:n}=await f();n&&e(null,t)}),[f]);return c.useEffect((()=>{TC("View Contact Phone Number Form")()}),[]),i?c.createElement(gl.Provider,{value:At},c.createElement(Lx,{width:"600px"},c.createElement(Uae,null,c.createElement(Bae,null,c.createElement(Ii,null,"What is your phone number?")),c.createElement($ae,null,c.createElement(ko,{name:"phone_number",value:h.phone_number,label:"Phone Number",onChange:y,error:p.phone_number||null,maskType:jr,autoFocus:!0})),c.createElement(zae,null,c.createElement(Vae,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(Hae,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:v},"Continue")))))):c.createElement(h9,null)},[Rce.enterIdentity]:({onContinue:e,onboardingState:t})=>{const n=P();ZT(),uI();const[r,i]=c.useState(!0),[a,s]=c.useState(!1),[o,l]=c.useState(null),d=j({initialValues:{acknowledged_patriot_act:!0},enableReinitialize:!1}),{values:u,errors:h,setFieldValue:p,validateForm:m}=d,g=c.useCallback((e=>{const t=e;return s(!0),sb(t,"identity")(n)}),[]),y=c.useCallback((async()=>{TC("Submitted Identity Form")();const{status:e}=await g(u);return 200===e?{ok:!0}:(l("Something went wrong, please try again"),s(!1),{ok:!1})}),[u]),_=c.useCallback((async()=>{const{ok:n}=await y();n&&e(null,t)}),[y]);c.useEffect((()=>{TC("View Identity Form")()}),[]);return r?c.createElement(gl.Provider,{value:Ot},c.createElement(Lx,{width:"600px"},c.createElement(jae,null,c.createElement(Gae,null,c.createElement(Ii,null,"Identity Information")),c.createElement(qae,null,c.createElement(Yae,null,c.createElement(Kae,null,c.createElement(Gi,null)),c.createElement(Ei,null,"Federal law requires ",Xo," and all broker-dealers to verify your identity. You can find out more about the SEC and USA Patriot Act requirements"," ",c.createElement("a",{href:"https://www.sec.gov/fast-answers/answersbd-persinfohtm.html",target:"_blank",rel:"no-follow noopener noreferrer",onClick:()=>{TC("Clicked Patriot Act Link")()}},"here"),"."))),c.createElement(qae,null,c.createElement(Yae,null,c.createElement(Qae,null,c.createElement(Qi,null)),c.createElement(Ei,null,"We are registered with the SEC and FINRA. You can review our BrokerCheck page"," ",c.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://brokercheck.finra.org/firm/summary/269966",onClick:()=>{TC("Clicked Broker Check Link")()}},"here"),"."))),c.createElement(qae,null,c.createElement(Yae,null,c.createElement(Zae,null,c.createElement(Yi,null)),c.createElement(Ei,null,"Your information is protected with a 128-bit encryption and stored securely. We do not sell your personally identifiable information."))),c.createElement(qae,null,c.createElement(Yae,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(Xae,null,c.createElement(Iw,{bottom:8,fullWidth:!0,centerAll:!0},c.createElement("a",{href:"https://www.sec.gov/fast-answers/answersbd-persinfohtm.html",target:"_blank",rel:"no-follow noopener noreferrer",onClick:()=>{TC('Clicked "Why Do We Need This?" Link')()}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:()=>!1},"Why do we need this?"))),c.createElement(E9,{error:o,isSubmitting:a}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:a,fullWidth:!0,onClick:_},"Continue")))))):c.createElement(h9,null)},[Rce.enterDOB]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:ase(0,r),validationSchema:Lie,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,y=c.useCallback((e=>t=>{const n=Yl("L",Gl(t));m(e,n,!1)}),[m]),_=c.useCallback((e=>{const t={date_of_birth:Yl("api",Gl(e.date_of_birth))};return o(!0),sb(t,"identity")(n)}),[]),f=c.useCallback((async()=>{TC("Submitted Identity DOB Form")();const e=await g();if(0===Object.keys(e).length){const{status:e}=await _(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"birth date"})(),o(!1),{errors:!0}}),[h]),v=c.useCallback((async()=>{const{ok:n}=await f();n&&e(null,t)}),[f]);return c.useEffect((()=>{TC("View Identity DOB Form")()}),[]),i?c.createElement(gl.Provider,{value:Lt},c.createElement(Lx,{width:"600px"},c.createElement(Jae,null,c.createElement(tse,null,c.createElement(Ii,null,"What is your date of birth?")),c.createElement(ese,null,c.createElement(Ro,{name:"date_of_birth",initialDate:h.date_of_birth,value:h.date_of_birth,label:"",onChange:y,error:p.date_of_birth||null})),c.createElement(nse,null,c.createElement(rse,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(ise,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:v},"Continue")))))):c.createElement(h9,null)},[Rce.enterSSN]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:mse(0,r),validationSchema:Oie,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,[y]=c.useState(h.has_entered_valid_ssn),[_,f]=c.useState(!1),v=c.useCallback((e=>{const{target:{value:t}}=e;m("social_security_number",t,!1)}),[m]),E=c.useCallback((e=>{const t=e;return o(!0),sb(t,"identity")(n)}),[]),b=c.useCallback((async()=>{TC("Submitted Identity SSN Form")();const e=await g();if(y&&!_)return{ok:!0};if(0===Object.keys(e).length){const{status:e}=await E(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"ssn"})(),o(!1),{errors:!0}}),[h]),C=c.useCallback((async()=>{f(!0)}),[f]),x=c.useCallback((async()=>{const{ok:n}=await b();n&&e(null,t)}),[b]);return c.useEffect((()=>{TC("View Identity SSN Form")()}),[]),i?y&&!_?c.createElement(gl.Provider,{value:Gt},c.createElement(Lx,{width:"600px"},c.createElement(sse,null,c.createElement(lse,null,c.createElement(Ii,null,"What is your Social Security Number?")),c.createElement(cse,null,c.createElement(Ei,{bold:!0,style:{marginTop:"8px"}},"You have already completed this step")),c.createElement(pse,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{bottom:8,centerAll:!0,fullWidth:!0},c.createElement(hx,{transparent:!0,isDisabled:s,fullWidth:!0,onClick:C},"Re-Enter")),c.createElement(Iw,{centerAll:!0,fullWidth:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:x},"Continue")))))):c.createElement(gl.Provider,{value:Gt},c.createElement(Lx,{width:"600px"},c.createElement(sse,null,c.createElement(lse,null,c.createElement(Ii,null,"Enter Social Security Number")),c.createElement(ose,null,c.createElement(Wd,{name:"social_security_number",value:h.social_security_number,label:"",error:p.social_security_number||null,handleChange:v,handleBlur:()=>!1,handleFocus:()=>!1,autoFocus:!0})),c.createElement(gse,null),c.createElement(pse,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:x},"Continue"))),c.createElement(dse,null,c.createElement(hse,null,c.createElement(Bi,null),c.createElement(Ei,{isSmall:!0},"This information will be kept private and it will never appear on your public profile.")))))):c.createElement(h9,null)},[Rce.enterCitizenshipCountry]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(null),p=j({initialValues:Dse(0,r),validationSchema:Rie,enableReinitialize:!1}),{values:m,errors:g,setFieldValue:y,validateForm:_}=p,f=c.useCallback((e=>t=>{if("object"!=typeof t)y(e,t,!1);else{const n=Yl("L",Gl(t));y(e,n,!1)}}),[y]),v=c.useCallback((e=>{const t=(e=>{const{citizenship_country:t,is_permanent_resident:n,green_card_number:r,green_card_expiration_date:i,birth_country:a,visa_type:s,visa_number:o,visa_expiration_date:l}=e,c={};return"United States of America"===t?c.citizenship_country=t:"YES"===n?(c.is_permanent_resident=n,c.citizenship_country=t,c.green_card_number=r,c.green_card_expiration_date=Ose(i)):(c.citizenship_country=t,c.is_permanent_resident=n,c.birth_country=a,c.visa_type=s,c.visa_number=o,c.visa_expiration_date=Ose(l)),c})(e);return d(!0),sb(t,"identity")(n)}),[]),E=c.useCallback((async()=>{TC("Submitted Identity Citizenship Form")();const e=await _();if(0===Object.keys(e).length){const{status:e}=await v(m);return 200===e?{ok:!0}:(h("Something went wrong, please try again"),d(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"citizenship"})(),d(!1),{errors:!0}}),[m]),b=c.useCallback((async()=>{const{ok:n}=await E();n&&e(null,t)}),[E]);return c.useEffect((()=>{TC("View Identity Citizenship Form")()}),[]),c.useEffect((()=>{["","United States of America"].includes(m.citizenship_country)||s||o(!0),["","United States of America"].includes(m.citizenship_country)&&s&&o(!1)}),[m,s]),i?c.createElement(gl.Provider,{value:Rt},c.createElement(Lx,{width:"600px"},c.createElement(yse,null,c.createElement(xse,null,c.createElement(Ii,null,"What is your citizenship status?")),c.createElement(Cse,null,c.createElement(bse,null,c.createElement(Io,{name:"citizenship_country",value:m.citizenship_country,label:"",items:Tse,onChange:f,error:g.citizenship_country||null})),s&&c.createElement(_se,null,c.createElement(fse,null,c.createElement(Ei,null,"Are you a permanent resident of the USA?")),c.createElement(Ese,null,c.createElement(fa,{name:"is_permanent_resident",value:m.is_permanent_resident,label:"",items:Nse,onChange:f,error:g.is_permanent_resident||null})),null===m.is_permanent_resident||""===m.is_permanent_resident?null:"YES"===m.is_permanent_resident?c.createElement(c.Fragment,null,c.createElement(Ese,null,c.createElement(ko,{name:"green_card_number",value:m.green_card_number,label:"USCIS#",onChange:f,error:g.green_card_number||null})),c.createElement(Ese,null,c.createElement(Ao,{name:"green_card_expiration_date",value:Gl(m.green_card_expiration_date).toDate(),label:"Expiration",onChange:f,error:g.green_card_expiration_date||null}))):c.createElement(c.Fragment,null,c.createElement(Ese,null,c.createElement(bse,null,c.createElement(Io,{name:"birth_country",value:m.birth_country,label:"",items:Ise,onChange:f,error:g.birth_country||null}))),c.createElement(vse,null,c.createElement(Ese,{style:{marginRight:"8px",width:"80px"}},c.createElement(bse,null,c.createElement(Io,{name:"visa_type",value:m.visa_type,label:"Visa Type",items:Ase,onChange:f,error:g.visa_type||null}))),c.createElement(Ese,{style:{width:"100%"}},c.createElement(ko,{name:"visa_number",value:m.visa_number,label:"Visa Number",onChange:f,error:g.visa_number||null}))),c.createElement(Ese,null,c.createElement(Ao,{name:"visa_expiration_date",value:Gl(m.visa_expiration_date).toDate(),label:"Expiration",onChange:f,error:g.visa_expiration_date||null}))))),c.createElement(wse,null,c.createElement(Sse,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(kse,null,c.createElement(E9,{error:u,isSubmitting:l}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:l,fullWidth:!0,onClick:b},"Continue")))))):c.createElement(h9,null)},[Rce.enterDisclosures]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:Wse(0,r),validationSchema:Fie,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,y=c.useCallback((e=>t=>{m(e,t,!1)}),[m]),_=c.useCallback((e=>{const t=e;return o(!0),sb(t,"disclosures")(n)}),[]),f=c.useCallback((async()=>{TC("Submitted Disclosures Form")();const e=await g();if(0===Object.keys(e).length){const{status:e}=await _(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"disclosures"})(),o(!1),{errors:!0}}),[h]),v=c.useCallback((async()=>{const{ok:n}=await f();n&&e(null,t)}),[f]);return c.useEffect((()=>{TC("View Disclosures Form")()}),[]),i?c.createElement(gl.Provider,{value:Dt},c.createElement(Lx,{width:"600px"},c.createElement(Lse,null,c.createElement($se,null,c.createElement(Ii,null,"Do you have any disclosures?")),c.createElement(Bse,null,c.createElement(Ei,null,"I'm (or a member of my immediate family is)...")),c.createElement(Mse,null,c.createElement(Rse,null,c.createElement("div",null,c.createElement(Ei,null,"A director, 10% shareholder, or a senior officer of a ",c.createElement("b",null,"publicly traded company."))),c.createElement(Fse,null,c.createElement(fa,{name:"is_control_person",value:h.is_control_person,label:null,items:jse,onChange:y,error:p.is_control_person||null}))),"YES"===h.is_control_person&&c.createElement(Use,null,c.createElement(ko,{name:"company_symbols",value:h.company_symbols,label:"Stock Symbol of Company",onChange:y,error:p.company_symbols||null}))),c.createElement(Mse,null,c.createElement(Rse,null,c.createElement("div",null,c.createElement(Ei,null,"Employed by or associated with a ",c.createElement("b",null,"member of")," either a ",c.createElement("b",null,"stock exchange")," or ",c.createElement("b",null,"FINRA"),".")),c.createElement(Fse,null,c.createElement(fa,{name:"is_affiliated_exchange_or_finra",value:h.is_affiliated_exchange_or_finra,label:null,items:jse,onChange:y,error:p.is_affiliated_exchange_or_finra||null}))),"YES"===h.is_affiliated_exchange_or_finra&&c.createElement(Use,null,c.createElement(ko,{name:"firm_name",value:h.firm_name,label:"Name of Firm",onChange:y,error:p.firm_name||null}),c.createElement(Bse,null,c.createElement(Ei,null,"If you need duplicate statements and confirms sent to a 3rd party, send us a message at compliance@tornado.com")))),c.createElement(Mse,null,c.createElement(Rse,null,c.createElement("div",null,c.createElement(Ei,null,"A senior military, government, or political official in a ",c.createElement("b",null,"non-US country."))),c.createElement(Fse,null,c.createElement(fa,{name:"is_politically_exposed",value:h.is_politically_exposed,label:null,items:jse,onChange:y,error:p.is_politically_exposed||null}))),"YES"===h.is_politically_exposed&&c.createElement(c.Fragment,null,c.createElement(Use,null,c.createElement(ko,{name:"immediate_family",value:h.immediate_family,label:"Full Name of Person",onChange:y,error:p.immediate_family||null})),c.createElement(Use,null,c.createElement(ko,{name:"political_organization",value:h.political_organization,label:"Name of Organization",onChange:y,error:p.political_organization||null})))),c.createElement(zse,null,c.createElement(Vse,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(Hse,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:v},"Continue")))))):c.createElement(h9,null)},[Rce.enterEmploymentDisclosures]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:Oce(0,r),validationSchema:Mie,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,y=c.useCallback((e=>t=>{m(e,t,!1)}),[m]),_=c.useCallback((e=>{const t=e;return o(!0),sb(t,"disclosures")(n)}),[]),f=c.useCallback((async()=>{TC("Submitted Employment Disclosures Form")();const e=await g();if(0===Object.keys(e).length){const{status:e}=await _(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"disclosures"})(),o(!1),{errors:!0}}),[h]),v=c.useCallback((async()=>{const{ok:n}=await f();n&&e(null,t)}),[f]);return c.useEffect((()=>{TC("View Employment Disclosures Form")()}),[]),i?c.createElement(gl.Provider,{value:Dt},c.createElement(Lx,{width:"600px"},c.createElement(Sce,null,c.createElement(Nce,null,c.createElement(Ii,null,"Do you have any disclosures?")),c.createElement(Ice,null,c.createElement(kce,null,c.createElement("div",null,c.createElement(Ei,null,"Are you an employee of or affiliated with ",Zo,"?")),c.createElement(Tce,null,c.createElement(fa,{name:"is_tornado_employee",value:h.is_tornado_employee,label:null,items:Lce,onChange:y,error:p.is_tornado_employee||null})))),null,c.createElement(Ace,null,c.createElement(Pce,null,c.createElement(Bi,null),c.createElement(Ei,null,"This information will be kept private and it will never appear on your public profile."))),c.createElement(Dce,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:v},"Continue"))))):c.createElement(h9,null)},[Rce.enterAgreements]:({onContinue:e,onboardingState:t})=>{const n=P(),r=(ZT(),uI()),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),u=j({initialValues:eoe(0,r),validationSchema:Uie,enableReinitialize:!1}),{values:h,errors:p,setFieldValue:m,validateForm:g}=u,y=c.useCallback((e=>t=>{m(e,t,!1)}),[m]),_=c.useCallback((()=>{TC("Clicked More About Margin Link")();const e={contentComponent:c.createElement("div",{style:{width:"100%",maxHeight:window.innerHeight-80,overflow:"auto"}},c.createElement("div",{className:"modal-heading-small"},"What is a Margin Account?"),c.createElement("div",{className:"modal-message"},c.createElement(Ei,{isSmall:!0},"With a margin account you can borrow money to purchase stocks and ETFs if you choose to. For example, if you deposit $10,000 in your account and buy $12,000 of securities, you'll receive a margin loan of $2,000. You can also use margin to trade into new positions faster - more on that later. Using margin can increase gains from positions that go up in value, but it can also magnify losses. If you choose to use margin, you’ll pay interest on the amount borrowed. You can read more about margin accounts"," ",c.createElement("a",{href:"/margin_disclosure",target:"_blank",rel:"noopener noreferrer"},"here"),".")),c.createElement("div",{className:"modal-heading-small modal-heading-subsequent"},"Why does ",Xo," offer Margin Accounts?"),c.createElement("div",{className:"modal-message"},c.createElement(Ei,{isSmall:!0},"A margin account can be useful even if you don't normally plan to use margin. When you sell out of a position in a cash (non-margin) account, you need to wait two business days before using those funds to place new trades (this is called"," ",c.createElement("a",{href:"https://www.sec.gov/news/press-release/2017-68-0",target:"_blank",rel:"noopener noreferrer"},"T+2 settlement"),"). While you wait, your portfolio may be unbalanced and you may miss investing opportunities. With a margin account, you can enter new positions immediately - no waiting. You can use the portfolio optimization tool to rebalance your allocations with just a few clicks, and margin makes it run smoothly - it's one of the benefits of investing with ",Xo,"."))),dismissable:!0,size:"wide"};bb(e)(n)}),[n]),f=c.useCallback((e=>{const t=e;return o(!0),sb(t,"agreements")(n)}),[]),v=c.useCallback((async()=>{TC("Submitted Agreements Form")();const e=await g();if(0===Object.keys(e).length){const{status:e}=await f(h);return 200===e?{ok:!0}:(d("Something went wrong, please try again"),o(!1),{ok:!1})}return TC("Failed Live Account Validations",{Fields:Object.entries(e),"Form Name":"agreements"})(),o(!1),{errors:!0}}),[h]),E=c.useCallback((async()=>{var n;const{ok:r}=await v();if(r)return Cu("Complete Apex Registration",{}),null==(n=null==window?void 0:window.ttq)||n.track("CompleteRegistration"),pl.account.COMPLETE_APEX_ACCOUNT.send({}),e(null,t)}),[v]);return c.useEffect((()=>{TC("View Agreements Form")()}),[]),i?c.createElement(gl.Provider,{value:Pt},c.createElement(Lx,{width:"600px"},c.createElement(Gse,null,c.createElement(Yse,null,c.createElement(Ii,null,"Review and accept agreements")),c.createElement(Kse,null,c.createElement(Ei,null,"Please read through the agreements and acknowledge you understand your rights and obligations.")),c.createElement(qse,null,c.createElement(toe,{agreementKey:"crs_agreement",checkboxValue:h.acknowledged_account_agreement}),c.createElement(zo,{name:"acknowledged_account_agreement",value:h.acknowledged_account_agreement,label:"I have read the Client Relationship Summary and Customer Account Agreement and I understand my rights and obligations under them.",onChange:y,error:p.acknowledged_account_agreement||null})),c.createElement(qse,null,c.createElement(toe,{agreementKey:"new_account_agreement",checkboxValue:h.acknowledged_margin_agreement,AdditionalMessagingComponent:c.createElement(Kse,{style:{textAlign:"center",paddingTop:"0px",paddingBottom:"16px"}},c.createElement(Ei,{thin:!0,isSmall:!0},"Margin accounts may not be opened for all users."))}),c.createElement(zo,{name:"acknowledged_margin_agreement",value:h.acknowledged_margin_agreement,label:"I have read the Customer Margin and Short Account Agreement and I understand my rights and obligations under it.",onChange:y,error:p.acknowledged_margin_agreement||null})),c.createElement(Kse,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:_},"More About Margin Accounts"))),c.createElement(Qse,null,c.createElement(E9,{error:l,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:E},"Continue")))))):c.createElement(h9,null)},[Rce.submittedLiveAccountApplication]:({onContinue:e,onPathChange:t,onboardingState:n})=>{const r=b(),i=P(),[a,s]=c.useState(!1),o=dI(),l=c.useCallback((async()=>{e(null,n)}),[]),d=c.useCallback((async()=>{const e=await ME()(i),{ok:r,liveTradingAccount:a}=await ab()(i);null==e||e.id;const s=await Eb(),{decisionStatus:o}=s;if(o===z_.REJECTED||"REJECTED"===(null==a?void 0:a.status))return bb({contentComponent:c.createElement(soe,null),dismissable:!0,size:"wide"})(i),void t(Gce.paper,n,{nextState:Rce.selectAccountPrivacy});[z_.ADDRESS_RESUBMIT,z_.FURTHER_DOCUMENTS_REQUIRED].includes(o)?t(Gce.socure,n,{nextState:Rce.socureApplication}):t(Gce.postLiveAccountApplication,n,{nextState:Rce.redeemRewards})}),[]),u=c.useCallback((async()=>{const e=await ME()(i),{ok:a,liveTradingAccount:s}=await ab()(i);null==e||e.id;const o=await Eb(),{decisionStatus:l}=o;if(l===z_.REJECTED||"REJECTED"===(null==s?void 0:s.status))return bb({contentComponent:c.createElement(soe,null),dismissable:!0,size:"wide"})(i),void r(en.build());[z_.ADDRESS_RESUBMIT,z_.FURTHER_DOCUMENTS_REQUIRED].includes(l)?t(Gce.socure,n,{nextState:Rce.socureApplication}):t(Gce.postLiveAccountApplication,n,{nextState:Rce.redeemRewards})}),[]);return c.useEffect((()=>{TC("View Live Account Application Submitted Form")(),o?d():u()}),[]),a?c.createElement(Lx,{width:"600px"},c.createElement(noe,null,c.createElement(roe,null,c.createElement(Ii,null,"Live Account Application Submitted"))),c.createElement(aoe,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:l},"Continue")))):c.createElement(h9,null)},[Rce.socureApplication]:cle,[Rce.redeemRewards]:loe,[Rce.redeemRewardsAfterDeposit]:loe,[Rce.linkBankAccount]:({onContinue:e,onSkip:t,onPathChange:n,onboardingState:r})=>{ZT();const i=II(),{isShowingFundingPromo:a}=JT(),s=i.length>0,[o,l]=c.useState(!0),[d,u]=c.useState(!1),[h]=c.useState(!0),[p,m]=c.useState(!1),[g,y]=c.useState(!1),_=c.useCallback((async t=>{if(t)return e(null,r);m(!1)}),[]),f=c.useCallback((async t=>e(null,r)),[]),v=c.useCallback((async()=>{t(null,r)}),[]),E=c.useCallback((async()=>{u(!0)}),[]);return c.useEffect((()=>{TC("View Live Account Application Submitted Form")()}),[]),o?p?c.createElement(coe,{onPathChange:n,onPlaidContinue:_,onboardingState:r}):g?c.createElement(Coe,{onContinue:f,onboardingState:r}):s?c.createElement(gl.Provider,{value:Bt},c.createElement(Lx,{width:"460px"},c.createElement(xoe,null,d?c.createElement(c.Fragment,null,c.createElement(woe,null,c.createElement(Ii,null,"Let's link a bank account")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,`Connect a bank account to deposit funds and start investing with ${Xo}.`,c.createElement(iS,{id:"funding_see_tos_tooltip",word:"tooltip_funding_see_tos",position:"right",style:{position:"relative",top:"1px",right:"-4px"}})))):c.createElement(c.Fragment,null,c.createElement(woe,null,c.createElement(Ii,null,"Bank Account Linked")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,`You have already linked a bank account, let's add funding and start investing with ${Xo}.`,c.createElement(iS,{id:"funding_see_tos_tooltip",word:"tooltip_funding_see_tos",position:"right",style:{position:"relative",top:"1px",right:"-4px"}})))),a&&c.createElement(koe,null,c.createElement(GM,null)),c.createElement(Toe,null,d&&c.createElement(c.Fragment,null,c.createElement(Soe,null,c.createElement(hx,{fullWidth:!0,onClick:()=>m(!0)},c.createElement(Ioe,null,c.createElement(fi,null,"Link Instantly"),c.createElement(Noe,null,c.createElement(Ei,{isLowContrast:!0},"With Bank Account Login"))))),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:()=>y(!0)},"Link With Microdeposits (1 - 2 Business Days)"))),c.createElement("div",{style:{paddingTop:"40px"}},!d&&c.createElement("div",{style:{paddingBottom:"8px"}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:E},"Link A Different Bank Account")),c.createElement(hx,{fullWidth:!0,onClick:f},"Continue"),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:v},"Skip"))))))):h?c.createElement(gl.Provider,{value:Bt},c.createElement(Lx,{width:"460px"},c.createElement(xoe,null,c.createElement(woe,null,c.createElement(Ii,null,"Link A Bank Account")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,`Connect a bank account to deposit funds and start investing with ${Xo}.`,c.createElement(iS,{id:"funding_see_tos_tooltip",word:"tooltip_funding_see_tos",position:"right",style:{position:"relative",top:"1px",right:"-4px"}}))),a&&c.createElement("div",{onClick:()=>m(!0),style:{cursor:"pointer"}},c.createElement(koe,null,c.createElement(GM,null))),c.createElement(Toe,null,c.createElement(Soe,null,c.createElement(hx,{fullWidth:!0,onClick:()=>m(!0)},c.createElement(Ioe,null,c.createElement(fi,null,"Link Instantly"),c.createElement(Noe,null,c.createElement(Ei,{isLowContrast:!0},"With Bank Account Login"))))),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:()=>y(!0)},"Link With Microdeposits (1 - 2 Business Days)")),c.createElement("div",{style:{paddingTop:"40px"}},c.createElement(hx,{transparent:!0,fullWidth:!0,onClick:v},"Skip")))))):void 0:c.createElement(h9,null)},[Rce.depositFunds]:({onContinue:e,onPathChange:t,onboardingState:n})=>{const r=P(),{isShowingFundingPromo:i}=JT(),a=0===ZT().hide_skip_deposit_in_onboarding_test_group,[s]=c.useState(!0),[o]=c.useState(!0),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState(!1);c.useEffect((()=>{TC("View Bank Transfer Form")()}),[]);const g=c.useCallback((async()=>{await VC()(r),e(null,n)}),[]),y=c.useCallback((()=>{TC("Skipped Deposit Entry After Api Error")(),t(Gce.postFundingSteps,n,{nextState:Rce.redeemRewards})}),[]),_=c.useCallback((async(e,t)=>{h(t),d(e)}),[h,d]),f=c.useCallback((async e=>{d(null)}),[d]),v=c.useCallback((()=>{m(!0)}),[]);return o?null!==l?c.createElement(Qle,{bankAccountId:u.account_id,onContinue:f,reauthToken:l}):c.createElement(gl.Provider,{value:jt},c.createElement(Lx,{width:"600px"},c.createElement(Zle,null,c.createElement(Xle,null,c.createElement(Ii,null,"Add Funding")),i&&c.createElement(Jle,null,c.createElement(GM,null)),c.createElement(Ree,{initialFormValues:u,showDepositPicker:s,onContinue:g,onPlaidReauthRequired:_,onApiFailure:v}),(p||a)&&c.createElement(ece,null,c.createElement(hx,{fullWidth:!0,transparent:!0,onClick:y},"Skip"))))):c.createElement(h9,null)},[Rce.almostThere]:({onContinue:e,onPathChange:t,onboardingState:n})=>{const r=D(Hle),{isEligible:i,isEnrolled:a}=Ple(),[s,o]=c.useState(!1);c.useEffect((()=>{TC("View Almost There (Funding) Dialog")()}),[]);const l=c.useCallback((async()=>{e(null,n)}),[]);if(s)return c.createElement(Vle,{onContinue:l});const d=c.createElement("div",null,c.createElement(Kle,null,c.createElement(Yle,null,c.createElement(Xi,null)),c.createElement("div",null,"The funds will be transferred after you're approved for live trading and we've verified ownership of this account.")),c.createElement(Kle,null,c.createElement(Yle,null,c.createElement(Xi,null)),c.createElement("div",null,"After you're approved for live trading, verify ownership by entering the 2 small amounts that will appear in your account after 1-2 business days.")),c.createElement(Kle,null,c.createElement(Yle,null,c.createElement(Xi,null)),c.createElement("div",null,"We will also send you an email when the 2 small amounts are visible in your bank account.")));return c.createElement(gl.Provider,{value:Tt},c.createElement(Lx,{width:"600px"},c.createElement(Wle,null,c.createElement(jle,null,c.createElement(Ii,null,"Transfer Submitted")),c.createElement("div",{style:{padding:r?"5px":"15px"}}),c.createElement("div",{className:"bullet-point"},r?d:"After you're approved for live trading, it will take 1-2 business days for the deposit to hit your account."),c.createElement(qle,null,c.createElement(Gle,null,c.createElement(Ei,{bold:!0},`Let's set up your portfolio and explore ${Xo}.`)),c.createElement(Iw,{top:24,fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:()=>{TC("Clicked Continue on Almost There (Funding) Dialog")(),i&&!a?o(!0):e(null,n)}},"Continue"))))))},[Rce.selectInterests]:({onContinue:e,onboardingState:t})=>{const n=P();ZT();const r=oI(),[i,a]=c.useState(!0),[s,o]=c.useState([]),[l,d]=c.useState(!1),[u,h]=c.useState(null),p=c.useCallback((e=>e=>{o(e)}),[o]),m=c.useCallback((async e=>{d(!0);const t=await vC(e)(n);if(t.error)return{ok:!1};const i=Object.keys(r).map((e=>r[e])),a=t.filter(((e,n)=>t.indexOf(e>=n))).filter((e=>!i.some((t=>AS(t)===e.security_id)))).map((e=>({security:e}))),s=await qE(a)(n);return s&&s.ideas?{ok:!0}:{ok:!1}}),[r]),g=c.useCallback((async e=>{let t=null;TC("Submitted Interests Form")(),0===e.length&&(t=["etfs"]);const{ok:n}=await m(t||e);return n||(h("Something went wrong, please try again"),d(!1)),{ok:n}}),[m]),y=c.useCallback((async()=>{const{ok:n}=await g(s);n&&e(null,t)}),[g,s]),_=c.useCallback((async()=>{const{ok:n}=await g(["etfs"]);n&&e(null,t)}),[g]);return c.useEffect((()=>{TC("View Select Interests Form")()}),[]),i?c.createElement(gl.Provider,{value:Ht},c.createElement(Lx,{width:"600px"},c.createElement(tce,null,c.createElement(rce,null,c.createElement(Ii,null,"What would you like to invest in?")),c.createElement(ice,null,c.createElement(Ei,null,"(Choose as many as you'd like)")),c.createElement(nce,null,c.createElement(mo,{ItemComponent:fo,items:sce,name:"interests",values:s,onChange:p,error:null})),c.createElement(ace,null,c.createElement(E9,{error:u,isSubmitting:l}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:l,fullWidth:!0,onClick:y},"Continue")),c.createElement(ice,{style:{paddingTop:"12px"}},c.createElement(Ei,{thin:!0,isLowContrast:!0},"Not sure?")),c.createElement(Iw,{centerAll:!0,fullWidth:!0},c.createElement(hx,{transparent:!0,isDisabled:l,fullWidth:!0,onClick:_},"Start with a collection of diversified etf's")))))):c.createElement(h9,null)},[Rce.editWatchlist]:({onContinue:e,onboardingState:t})=>{const n=oI(),[r,i]=c.useState(!0),[a,s]=c.useState(null),o=c.useCallback((async()=>{e(null,t)}),[]);return c.useEffect((()=>{TC("View Watchlist Onboarding")()}),[]),r?c.createElement(gl.Provider,{value:Wt},c.createElement(Lx,{width:"600px"},c.createElement(hce,null,c.createElement(mce,null,c.createElement(Ii,null,"Here is your starting watchlist")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,{isSmall:!0},"(Add more stocks or remove any for the list)"),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,{isSmall:!0},"You can view stock details and community content later in the dashboard"))),c.createElement(bce,null,c.createElement(uce,{icon:"fa-plus",placeholder:"Add Stocks and ETFs To Your Watchlist",shouldOpenSecurityPanelOnSelection:!1})),c.createElement(pce,null,c.createElement(wce,{ideaLookup:n})),c.createElement(gce,null,c.createElement(E9,{error:a,isSubmitting:!1}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:o},"Continue")))))):c.createElement(h9,null)},[Rce.selectAccountPrivacy]:({onContinue:e,onboardingState:t})=>{const n=P(),r=ZT(),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState(r.privacy_preference||"");c.useEffect((()=>{TC("View Onboarding Privacy Selection")()}),[]),c.useEffect((()=>{TC("Select Onboarding Privacy Value",{Value:p})()}),[p]);const g=c.useCallback((async()=>{if(s)return;if(""===p)return void d("Selection is required");o(!0);TC("Submit Onboarding Privacy Selection",{Value:p})();await UE({privacy:p})(n)?e(null,t):(h("Something went wrong, please try again."),o(!1))}),[e,t,p,Foe,s]);if(!i)return c.createElement(h9,null);return c.createElement(gl.Provider,{value:qt},c.createElement(Lx,{width:"600px"},c.createElement(Aoe,null,c.createElement(Doe,null,c.createElement(Ii,null,"Choose your privacy setting")),c.createElement(Ooe,null,c.createElement(Ei,null,"Protecting your data is important to us. Choose which setting is best for you for sharing information with the ",Jo," community.")),c.createElement(Poe,null,c.createElement(Io,{name:"privacy",value:p,label:"",items:Moe,onChange:e=>e=>{m(e)},error:l})),c.createElement(Loe,null,c.createElement(Ei,null,"When public is enabled, the ",Jo," community can see positions and allocation percentage, but never your position dollar or share amounts.")),c.createElement(Roe,null,c.createElement(E9,{error:u,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:g},"Continue"))))))},[Rce.selectVPC]:({onContinue:e,onboardingState:t})=>{const n=b(),r=P(),i=ZT(),a=dI(),s=D(AP),o=Jp(i),[l,d]=c.useState(!0),[u,h]=c.useState(!1),[p,m]=c.useState(null),[g,y]=c.useState(null);c.useEffect((()=>{TC("View Viewpoint Welcome Screen")(),0!==s.length&&o||(a?e(null,t):n(en.build()))}),[]);const _=async n=>{if(0===n.length)return y(!0),null;TC("Press Continue Viewpoint Welcome Screen")();const i=n[0],a=await NC({viewpointOrgId:i,isFree:!0})(r),{ok:s}=a;s?e(null,t):(m("Something went wrong, please try again."),h(!1))};return l?c.createElement(gl.Provider,{value:wt},c.createElement(Lx,{width:"600px"},c.createElement(Ile,null,c.createElement(Nle,null,c.createElement(Ii,null,"Premium Content for Free")),c.createElement("div",null,c.createElement(Ei,null,"Your ",Jo," membership comes with access to 1 of our premium Viewpoint contributors for free.")),c.createElement("div",{style:{marginTop:15}},s.length>1?c.createElement("div",null,c.createElement(vle,{onContinue:_}),c.createElement(E9,{error:p,isSubmitting:u})):c.createElement(Tle,{id:s[0],showBio:!0,hideActions:!0})),g&&c.createElement("div",{className:"error-text-color text-center",style:{marginTop:15}},c.createElement("span",null,"You must make a selection to continue")),1===s.length&&c.createElement(Ale,null,c.createElement(E9,{error:p,isSubmitting:u}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:u,fullWidth:!0,onClick:async()=>{await _([s[0]])}},"Continue")))))):c.createElement(h9,null)},[Rce.enterDefaultExpectedReturn]:({onContinue:e,onboardingState:t})=>{const n=P(),r=ZT(),[i,a]=c.useState(!0),[s,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState(null!==r.default_expected_return?r.default_expected_return:7),g=0!==r.investing_experience.id;c.useEffect((()=>{}),[]);const y=c.useCallback((async()=>{if(s)return;if(""===p)return d("Selection is required"),void TC("Failed Live Account Validations",{Fields:["default_expected_return","Required"],"Form Name":"default expected return"})();o(!0);await UE({default_expected_return:p})(n)?e(null,t):(h("Something went wrong, please try again."),o(!1))}),[e,t,p,s]);if(!i)return c.createElement(h9,null);return c.createElement(gl.Provider,{value:$t},c.createElement(Lx,{width:"600px"},c.createElement(Uoe,null,c.createElement(Boe,null,c.createElement(Ii,null,"Let's get started")),c.createElement(zoe,null,g?c.createElement(Ei,null,"How much do you think your investments will go up per year (on average)?"):c.createElement(Ei,null,"For now we’ll assume that hypothetically, the investments you select will go up")),c.createElement($oe,null,c.createElement(Io,{name:"default_expected_return",value:p,label:"",items:Woe,onChange:e=>e=>{m(e)},error:l})),c.createElement(zoe,null,c.createElement(Ei,null,"per year on average")),c.createElement(Hoe,null,c.createElement(E9,{error:u,isSubmitting:s}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:s,fullWidth:!0,onClick:y},"Continue"))),c.createElement(Voe,null,c.createElement(Ei,null,`Past returns are not necessarily indicative of future results. IMPORTANT: The projections or other information generated by ${Xo}'s analysis tools regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results.`)))))},[Rce.end]:({accountTypePath:e,onboardingState:t})=>{const n=b(),r=P(),i=dI(),[a,s]=c.useState(0),o=c.useCallback((async()=>{const t=await ME()(r),i=(null==t?void 0:t.id)>0,o=await Eb(),{decisionStatus:l}=o;if(!i)return void s(a+1);if(Sp(t)){const i=async()=>{const i=e===Ol;ay("In Onboarding",!1),ay("Is Onboarding",!1),Cu("Complete Onboarding",{themeTestGroups:jp(t),accountType:i?"Live":"Paper"}),wu(1);const a={"Has Live Account":i};i?th.onboarding.COMPLETED_LIVE_SIGNUP.send(a):th.onboarding.COMPLETED_PAPER_SIGNUP.send(a),pl.onboarding.ONBOARDING_COMPLETED.send({url:window.location.pathname,url_query:window.location.search});if((await Lb(t.id)(r)).ok){const e=fp(t);let r;return[z_.ADDRESS_RESUBMIT,z_.FURTHER_DOCUMENTS_REQUIRED].includes(l)&&n(xn.build()),r=Ln(5===e?"onboardingDashboardWithOptimizer":6===e?"portfolioAnalysis":"dashboard"),n(r),{ok:!0}}return{ok:!1}},{ok:o}=await i();o||s(a+1)}}),[a]);return c.useEffect((()=>{TC("View End Onboarding")(),i?o():n(en.build())}),[]),c.useEffect((()=>{o()}),[a]),c.createElement(h9,null)}},Mce=[Rce.accountTypeSelection],Uce=[Rce.accountTypeSelection,Rce.selectInvestingExperience,Rce.enterInvestorProfile,Rce.enterContactName,Rce.enterContactAddress,Rce.enterContactPhoneNumber,Rce.enterIdentity,Rce.enterDOB,Rce.enterSSN,Rce.enterCitizenshipCountry,Rce.enterDisclosures,Rce.enterEmploymentDisclosures,Rce.enterAgreements,Rce.submittedLiveAccountApplication],$ce=[Rce.selectInvestingExperience,Rce.enterInvestorProfile,Rce.enterContactName,Rce.enterContactAddress,Rce.enterContactPhoneNumber,Rce.enterIdentity,Rce.enterDOB,Rce.enterSSN,Rce.enterCitizenshipCountry,Rce.enterDisclosures,Rce.enterEmploymentDisclosures,Rce.enterAgreements,Rce.submittedLiveAccountApplication],Bce=[Rce.selectInvestingExperience,Rce.submittedLiveAccountApplication,Rce.redeemRewards,Rce.linkBankAccount,Rce.depositFunds,Rce.almostThere,Rce.redeemRewardsAfterDeposit,Rce.selectAccountPrivacy,Rce.enterDefaultExpectedReturn,Rce.selectInterests,Rce.editWatchlist,Rce.end],zce=[Rce.submittedLiveAccountApplication,Rce.redeemRewards,Rce.linkBankAccount,Rce.depositFunds,Rce.almostThere,Rce.redeemRewardsAfterDeposit,Rce.end],Vce=[Rce.selectInvestingExperience,Rce.submittedLiveAccountApplication,Rce.redeemRewards,Rce.selectAccountPrivacy,Rce.enterDefaultExpectedReturn,Rce.selectInterests,Rce.editWatchlist,Rce.end],Hce=[Rce.selectInvestingExperience,Rce.submittedLiveAccountApplication,Rce.socureApplication,Rce.redeemRewards,Rce.linkBankAccount,Rce.depositFunds,Rce.almostThere,Rce.redeemRewardsAfterDeposit,Rce.selectAccountPrivacy,Rce.enterDefaultExpectedReturn,Rce.selectInterests,Rce.editWatchlist,Rce.end],Wce=[Rce.submittedLiveAccountApplication,Rce.socureApplication,Rce.redeemRewards,Rce.linkBankAccount,Rce.depositFunds,Rce.almostThere,Rce.redeemRewardsAfterDeposit,Rce.end],jce=[Rce.accountTypeSelection,Rce.selectInvestingExperience,Rce.selectAccountPrivacy,Rce.enterDefaultExpectedReturn,Rce.selectInterests,Rce.editWatchlist,Rce.end],Gce={accountSelection:Mce,end:[Rce.end],paper:jce,liveAccountApplication:Uce,postLiveAccountApplication:Bce,postLiveAccountApplicationNonOnboarding:zce,postFundingSteps:Vce,socure:Hce,socureNonOnboardingPath:Wce,onboardedLiveAccountApplication:$ce},qce=(e,t)=>{const n=t.indexOf(e);return n<0?t[0]:t[n+1]},Yce=()=>{const[e,t]=c.useState(null),[n,r]=c.useState(!1),[i,a]=c.useState(Rce.initialization),[s,d]=c.useState(null),[u,h]=c.useState(null),p=b(),m=_(),g=P(),y=ZT();uI(),c.useEffect((()=>{Sp(y)?((e=>{const n=fe(m.search);"true"===n.email_confirmed&&Cu("Email Confirmed",{themeTestGroups:jp(e)}),n.path&&t(n.path)})(y),(async e=>{if(e.allow_live_trading&&!e.is_token_authed){const t=[ab(),ob(),()=>Eb()],n=await Promise.all(t.map((e=>e(g)))),s=n.filter((e=>!e.ok)),{liveTradingAccount:o}=n[0],{isRejected:l,isUserActionRequired:u}=n[2];if(0===s.length){const t=null==o?void 0:o.status,n=!vl(t)&&"incomplete"!==(null==t?void 0:t.toLowerCase())&&"rejected"!==(null==t?void 0:t.toLowerCase());if(!El(e.default_expected_return))return d(n?Ol:Dl),h(Gce.end),a(Rce.end),void r(!0);if(l||"rejected"===(null==t?void 0:t.toLowerCase())){const e=Gce.paper;return h(e),a(Rce.selectAccountPrivacy),void r(!0)}if(u){const e=Gce.socure;return h(e),a(Rce.socureApplication),void r(!0)}if(n){const e=Gce.postLiveAccountApplication;return h(e),a(Rce.redeemRewards),void r(!0)}const s=Gce.accountSelection;h(s);const c=qce(i,s);a(c),r(!0)}else bb({contentComponent:c.createElement("div",{className:"reload-message-container"},c.createElement("p",null,"Something went wrong. Please check your internet connection and reload the page."),c.createElement(iU,null)),size:"wide"})(g)}else if(e.is_token_authed)lU();else{const e=Gce.paper;h(e),a(Rce.selectInvestingExperience),r(!0)}})(y)):p(en.build())}),[]),c.useCallback((()=>{const e=((e,t)=>{const n=t.indexOf(e);return n<1?t[0]:t[n-1]})(i,u);a(e)}),[i,u]);const f=c.useCallback(((e,t,n={})=>{const{accountType:r}=n;if(e){h(e);const r=n.nextState||qce(t,e);a(r)}else{if(r===Ol){d(Ol),h(Gce.liveAccountApplication);const e=Rce.selectInvestingExperience;a(e)}if(r===Dl){d(Dl),h(Gce.paper);const e=Rce.selectInvestingExperience;a(e)}}}),[s,u]),v=c.useCallback(((e,t)=>{{const e=qce(t,u);a(e)}}),[s,u]),E=c.useCallback(((e,t)=>{switch(t){case Rce.linkBankAccount:a(Rce.selectAccountPrivacy);break;default:{const e=qce(t,u);a(e)}}}),[s,u]),C=c.useCallback((()=>{const t=Fce[i];if(t){const e={};return c.createElement(t,l(o({},e),{accountTypePath:s,onboardingState:i,onPathChange:f,onSkip:E,onContinue:v}))}return e&&i?c.createElement(qx,null,c.createElement(Lx,null,c.createElement("div",null,i))):c.createElement(qx,null,c.createElement(Lx,null,c.createElement(Ei,null,"Something went wrong, refresh the page.")))}),[i,e]);return n?C():c.createElement(h9,null)},Kce=u.div`
  //padding: 16px;
`,Qce=u.div`
  padding-top: 16px;
  text-align: center;

  button {
    width: 268px;
  }
`,Zce=u.div`
  text-align: center;
`,Xce=({copy:e})=>{const t=b(),n=()=>{t(un.build())};return e?c.createElement(Kce,null,c.createElement(Zce,null,c.createElement(Ei,{bold:!0},e)),c.createElement(Qce,null,c.createElement(hx,{onClick:n},"Open Live Brokerage Account"))):c.createElement(Kce,null,c.createElement(Zce,null,c.createElement(Ei,{bold:!0},"Want to invest real money? Open a live brokerage account with us.")),c.createElement(Zce,{style:{paddingTop:"8px"}},c.createElement(Ei,{isSmall:!0},"For a limited time, get a funding bonus (Up to $1,000) when you open a live trading account and make your first deposit, also you will receive all your rewards from Learn and Earn")),c.createElement(Qce,null,c.createElement(hx,{onClick:n},"Open Live Brokerage Account")))},Jce={Deposit:"Deposit",Withdrawal:"Withdrawal",Trade:"Trade"},ede=()=>{const e=D((e=>e.historyTransactions)),{isLoadingTransactionHistory:t,hasLoadedPreviously:n,transactions:r}=e,[i,a]=c.useState([]);return c.useEffect((()=>{const e=[];null==r||r.forEach((t=>{const{transactions:n}=t,r=(e=>e.filter((e=>[Jce.Deposit,Jce.Withdrawal].includes(e.type))))(n);if(r.length>0){const n=o({},t);n.transactions=r,e.push(n)}})),a(e)}),[r]),{isLoading:t,isUpdating:t&&n,isLoaded:n,transactions:i}},tde=u.div`
  padding-top: 24px;
`,nde=u.div`
  padding-top: 16px;
`,rde=u.div`
  padding-top: 16px;
`,ide=u.div`
  //padding-top: 16px;
`,ade=u.div`
  padding: 16px 0;
`,sde=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;

  padding: 16px 8px;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,ode=u.div`
  padding-right: 16px;
`,lde=u.div`
  text-align: right;
`,cde=u.div`
  text-decoration: ${({isVoid:e})=>e?"line-through":"none"};
`,dde=u.div`
  height: 32px;
  width: 32px;
  margin: 0 auto;

  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  svg {
    height: 18px;
    width: 18px;
  }
`,ude=u.div`
  button {
    padding: 8px 0 0 8px;
  }
`,hde=({transactionGroup:e})=>{const{date:t,transactions:n}=e,r=Yl("ll2",Gl(t));return c.createElement(rde,null,c.createElement(ide,null,c.createElement(Ei,null,r)),c.createElement(ade,null,n.map(((e,t)=>c.createElement(pde,{key:`${t} - transfer`,transaction:e})))))},pde=({transaction:e})=>{const t=P(),{type:n,account_name:r,can_be_canceled:i,amount:a,status:s,is_void:o,funding_transfer_id:l}=e,[d,u]=C.exports.useState(!1),[h,p]=C.exports.useState(!1),m=(g=s)&&{pending:"Processing",processing:"Processing",cancelation_pending:"Cancellation Pending",canceled:"Canceled",complete:"Complete",rejected:"Rejected"}[g]||null;var g;return c.createElement(sde,null,c.createElement(ode,null,c.createElement("div",null,c.createElement(Ei,null,n)),c.createElement("div",null,c.createElement(Ei,{isSmall:!0,thin:!0},r))),c.createElement(lde,null,c.createElement(cde,{isVoid:o},c.createElement(Ei,null,B_(a,"price"))),!!m&&c.createElement("div",null,c.createElement(Ei,{isSmall:!0,thin:!0},m)),i&&(d?c.createElement(dde,null,c.createElement(_w,null)):h?c.createElement("div",null,c.createElement(Ei,{isSmall:!0,thin:!0},"Cancellation Requested")):c.createElement(ude,null,c.createElement(hx,{transparent:!0,onClick:async()=>{u(!0);if((await HE(l)(t)).success)p(!0);else{const e={contentComponent:bS("Something went wrong, please refresh the page and try again."),dismissable:!0,size:"widt"};bb(e)(t)}}},"Cancel")))))},mde=()=>{const e=P(),{transactions:t,isLoading:n}=ede();return c.useEffect((()=>{VE()(e)}),[]),c.createElement(tde,null,c.createElement(bi,null,"Transfer History"),c.createElement(nde,null,t.length>0?t.map(((e,t)=>c.createElement(hde,{key:`date-group-${t}`,transactionGroup:e}))):n?c.createElement("div",{style:{padding:"24px 0 0 0 "}},c.createElement(Ei,null,"Loading...")):c.createElement("div",{style:{padding:"24px 0 0 0 "}},c.createElement(Ei,null,"You have not initiated any transfers."))))},gde=()=>c.createElement("div",null,c.createElement(Ei,null,"Get $25 to invest when you make a $25 deposit! Limited time only.")),yde=()=>{const e=D((e=>e.liveAccount.liveAccounts));return(null==e?void 0:e.recurring_deposits)||[]},_de=u.div`
  h3 {
    margin: 0;
  }
`,fde=u.div`
  svg {
    height: 24px;
    width: 24px;

    path {
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`,vde=u.div`
  position: relative;

  svg {
    height: 24px;
    width: 24px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Ede=u.div`
  background: ${({theme:e})=>e.themeColors.buttonText};
  border: 1px solid ${({theme:e})=>e.themeColors.buttonText};

  border-radius: 14px;
  height: 14px;
  width: 14px;

  position: absolute;
  bottom: 4px;
  right: -2px;
  z-index: 1;

  svg {
    position: absolute;
    top: 0;
    left: 0;

    height: 14px;
    width: 14px;

    path {
      fill: ${({theme:e})=>e.themeColors.primaryCtaButton};
    }
  }
`,bde=u.div`
  position: relative;
`,Cde=u.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 1;

  background: ${({theme:e})=>e.themeColors.disabled};
  border-radius: 5px;
  cursor: not-allowed;
`,xde=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  padding: 16px;
  border: 1px solid ${({theme:e})=>e.themeColors.border};
  min-height: 97px;
  border-top-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;

  &:hover {
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-radius: 2px;
    cursor: pointer;
  }
`,wde=u.div`
  padding-left: 12px;
`,Sde=u.div`
  padding-top: 16px;
`,kde=u.div`
  padding-top: 40px;
`,Tde=u.div`
  padding-top: 24px;
`,Ide=u.div`
  margin: 24px auto 0 auto;
  padding: 16px;
  border-radius: 5px;
  border: 1px dashed ${({theme:e})=>e.themeColors.text};
`,Nde=u.div`
  padding: 16px 16px 16px 16px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,Ade=u.div`
  padding: 16px 0 0 0;
`,Pde=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Dde=u.div`
  button {
    padding-left: 16px;
    padding-right: 4px;
  }
`,Ode=u.div`
  height: 32px;
  width: 32px;

  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  svg {
    height: 24px;
    width: 24px;
  }
`,Lde=u.div`
  padding-top: 16px;

  select {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,Rde=u.div`
  padding: 36px 0 0 0;
  margin: 0 0 24px 0;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,Fde=u.div`
  padding: 8px 0 24px 0;
  text-align: center;
`,Mde=u.div`
  text-align: center;
  padding: 8px 0 24px 0;
`,Ude=u.div`
  text-align: center;
`,$de=u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Bde=({bankAccount:e,canRemove:t})=>{const{id:n,account_type:r,account_number_ending:i,needs_micro_deposit_verification:a,micro_deposits_ready:s}=e,o=P(),l=b(),[d,u]=c.useState(!1);return c.createElement(Nde,null,c.createElement(Pde,{style:{justifyContent:"space-between"}},c.createElement("div",null,c.createElement("div",null,c.createElement(Ei,null,r),c.createElement(Ei,null,` (...${i})`)),a&&!s&&c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Dx,{message:"Verification is still needed, but we will let you know when the microdeposits will be ready"}))),a&&s&&c.createElement("div",null,c.createElement(hx,{onClick:()=>{l(bn.build())}},"Verify Now")),t&&c.createElement(Dde,null,d?c.createElement(Ode,null,c.createElement(_w,null)):c.createElement(hx,{transparent:!0,onClick:()=>{const e={contentComponent:IS({message:"Are you sure you want to remove this bank account? It will have to be re-linked to be used again.",onContinue:()=>{!function(e){e({type:"HIDE_MODAL"})}(o),(async()=>{u(!0);const{ok:e,errorMessage:t}=await cb(n)(o);if(u(!1),e){const e={contentComponent:wS("Bank account was removed.",(()=>function(e){e({type:"HIDE_MODAL"})}(o))),size:"wide"};bb(e)(o)}else{const e={contentComponent:wS(t,(()=>function(e){e({type:"HIDE_MODAL"})}(o))),size:"wide"};bb(e)(o)}})()},onCancel:()=>{!function(e){e({type:"HIDE_MODAL"})}(o)}}),size:"wide"};bb(e)(o)}},"Remove"))))},zde=()=>{const e=(()=>{const e=D((e=>{var t;return null==(t=e.liveAccount.liveAccounts)?void 0:t.accounts}));return Object.keys(e||{}).map((t=>e[t])).filter((e=>e.can_accept_transfers))})();return c.createElement(Tde,null,c.createElement("div",{style:{position:"relative",display:"inline-block"}},c.createElement(bi,null,"Linked Bank Accounts"),1===e.length&&c.createElement(iS,{id:"remove_bank_account_tooltip",word:"tooltip_only_bank_account",position:"right",style:{top:"8px",right:"-24px"}})),e.length>0?c.createElement(Ade,null,e.map((t=>c.createElement(Bde,{key:t.id,bankAccount:t,canRemove:e.length>1})))):c.createElement("div",{style:{padding:"24px 0 0 0 "}},"You have not linked any of your bank accounts."))},Vde=()=>{P();const e=b(),t=II(),n=QT(),r=t.length>2;yde();return c.createElement(Sde,null,t.length>0?c.createElement(c.Fragment,null,c.createElement(xde,{onClick:()=>{e(fn.build())}},c.createElement(fde,null,c.createElement(Xi,null)),c.createElement(wde,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Transfer Money to Tornado")),c.createElement("div",null,c.createElement(Ei,null,"Transfer money from your bank account to your Tornado account")))),c.createElement(xde,{onClick:()=>{e(vn.build())}},c.createElement(fde,null,c.createElement(ea,null)),c.createElement(wde,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Transfer Money to Bank")),c.createElement("div",null,c.createElement(Ei,null,"Transfer money from your Tornado account to your bank account"))))):null,r?c.createElement(bde,null,c.createElement(Cde,null),c.createElement("div",{style:{padding:"8px 16px 0 16px"}},c.createElement(Dx,{message:"Cannot have more than 3 active bank accounts at a time, please remove one to link a different bank account"})),c.createElement(xde,{onClick:()=>!1,style:{pointerEvents:"none"}},c.createElement(vde,null,c.createElement(Gi,null),c.createElement(Ede,null,c.createElement(Xi,null))),c.createElement(wde,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Link Bank Account")),c.createElement("div",null,c.createElement(Ei,null,"Link your bank account instantly with your bank login or with microdeposit verification"))))):c.createElement(xde,{onClick:()=>{e(En.build())}},c.createElement(vde,null,c.createElement(Gi,null),c.createElement(Ede,null,c.createElement(Xi,null))),c.createElement(wde,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Link Bank Account")),c.createElement("div",null,c.createElement(Ei,null,"Link your bank account instantly with your bank login or with microdeposit verification")))),n&&c.createElement(xde,{onClick:()=>{e(_n.build()),th.funding.PRESS_MANAGE_RECURRING_DEPOSITS.send()}},c.createElement(vde,null,c.createElement(Gi,null),c.createElement(Ede,null,c.createElement(Xi,null))),c.createElement(wde,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Manage Recurring Deposits")),c.createElement("div",null,c.createElement(Ei,null,"Manage your recurring deposit schedule from your bank account to your Tornado account")))))},Hde=({})=>{const e=P(),t=ZT(),n=Lp(t),r=D((e=>{var t;return null==(t=e.liveAccount.liveAccounts)?void 0:t.paperTradingAccount})),i=(null==r?void 0:r.account_id)||null,[a,s]=c.useState(!1),[d,u]=c.useState(!1),[h,p]=c.useState(!1),[m,g]=c.useState(null),[y,_]=c.useState(""),[f,v]=c.useState("deposit");c.useEffect((()=>{const t=async()=>{const{ok:n}=await ob()(e);n?s(!0):setTimeout(t,1e3)};t()}),[]);const E=c.useCallback((t=>{const n=l(o({},r=t),{amount:qk(r.amount)});var r;return p(!0),mb(n)(e)}),[i]),b=c.useCallback((async()=>{if(!(""!==y&&parseFloat(y)>0))return g("You must enter an amount"),{ok:!1};const{ok:e,errorMessage:t}=await E({account_id:i,amount:y,funding_operation:f});if(!e)return g(t||"Something went wrong, please try again"),p(!1),{ok:!1};p(!1),u(!0)}),[i,y]),C=[so({text:"Deposit",value:"deposit"}),so({text:"Withdraw",value:"withdraw"})];return c.createElement(Lx,{width:"600px"},c.createElement(_de,null,c.createElement(ki,null,"Simulated Funding"),c.createElement("div",null,c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),n&&c.createElement(Ide,null,c.createElement(Xce,null)),c.createElement(Rde,null),d?c.createElement(Ude,null,c.createElement($de,null,c.createElement(fx,null),c.createElement(ki,null,"Transfer Completed")),c.createElement(kde,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:()=>{u(!1),_(""),g(null)}},"Clear")))):c.createElement("div",null,c.createElement(Fde,null,c.createElement(bi,null,"Transfer Simulated Funds")),a?c.createElement("div",null,c.createElement(Lde,null,c.createElement(Io,{name:"fundingOperation",value:f,label:"Transfer Type",items:C,onChange:e=>e=>{v(e)},error:null})),c.createElement(Lde,null,c.createElement(ko,{name:"amount",value:y,prefix:"$",label:"Amount",onChange:e=>e=>{_(e)},maskType:Gr,error:null,autoFocus:!0})),c.createElement(kde,null,c.createElement(E9,{error:m,isSubmitting:h}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:h,fullWidth:!0,onClick:b},"Submit")))):c.createElement(Mde,null,c.createElement(_w,null)))))},Wde=({})=>{const e=P();ZT();const{isShowingFundingPromo:t,isEligibleForDepositPromo:n}=JT();return c.useEffect((()=>{ob()(e)}),[]),c.createElement(Lx,{width:"600px"},c.createElement(_de,null,c.createElement(ki,null,"Funding"),t&&!n&&c.createElement(Ide,null,c.createElement(GM,null)),n&&c.createElement(Ide,null,c.createElement(gde,null)),c.createElement(Vde,null),c.createElement("div",{style:{padding:"8px"}}),c.createElement(zde,null),c.createElement("div",{style:{padding:"12px"}}),c.createElement(mde,null),c.createElement("div",{style:{padding:"12px"}})))},jde=({})=>QT()?c.createElement(Wde,null):c.createElement(Hde,null),Gde=()=>{const e=b();return c.createElement(boe,{onContinue:()=>{e(Sn.build())}})},qde=u.div`
  h3 {
    margin: 0;
  }
`,Yde=u.div`
  margin: 24px auto 0 auto;
  padding: 16px;
  border-radius: 5px;
  border: 1px dashed ${({theme:e})=>e.themeColors.text};
`,Kde=u.div`
  padding-top: 24px;
  text-align: center;
`,Qde=()=>{const e=b();ZT();const{isShowingFundingPromo:t}=JT(),[n,r]=c.useState(!1),[i,a]=c.useState(!1),s=t=>{t?e(Sn.build()):r(!1)},o=e=>{e||a(!1)};return n?c.createElement(Qle,{onContinue:s}):i?c.createElement(Gde,{onContinue:o}):c.createElement(Lx,{width:"600px"},c.createElement(qde,null,c.createElement(ki,null,"Link Bank Account"),c.createElement("div",null,c.createElement(Ei,null,"Connect a bank account to transfer funds to and from your Tornado account."),c.createElement(iS,{id:"funding_see_tos_tooltip",word:"tooltip_funding_see_tos",position:"right",style:{position:"relative",top:"1px",right:"-4px"}})),t&&c.createElement(Yde,null,c.createElement(GM,null)),c.createElement(Kde,null,c.createElement("div",{style:{}},c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:()=>{th.funding.CHOOSE_LINK_BANK_ACCOUNT_OPTION.send({Mode:"Plaid"}),r(!0)}},"Link Instantly")),c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Ei,{isSmall:!0},"With Bank Account Login"))),c.createElement(Iw,{top:16,fullWidth:!0,centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:()=>{th.funding.CHOOSE_LINK_BANK_ACCOUNT_OPTION.send({Mode:"Microdeposits"}),a(!0)}},"Link with Microdeposits (1-2 Business Days)"))),c.createElement("div",{style:{paddingTop:"24px"}},c.createElement(Ei,{thin:!0},"This account can be used to transfer funds to and from your Tornado account and to pay Tornado fees."," "),c.createElement(Ei,{thin:!0},"See Terms of Service for details."))))},Zde=u.div`
  h3 {
    margin: 0;
  }
`,Xde=u.div`
  margin: 8px auto 16px auto;
  padding: 16px;
  border-radius: 5px;
  border: 1px dashed ${({theme:e})=>e.themeColors.text};
`,Jde=u.div`
  text-align: center;
`,eue=u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,tue=()=>{const e=b(),{isShowingFundingPromo:t}=JT(),[n,r]=c.useState(!1),[i,a]=c.useState(!1),[s]=c.useState(!0),[o,l]=c.useState(null),[d,u]=c.useState(null),h=()=>{e(Sn.build())},p=c.useCallback((async(e,t)=>{u(t),l(e)}),[u,l]),m=c.useCallback((async e=>{l(null)}),[l]);return null!==o?c.createElement(Qle,{bankAccountId:d.account_id,onContinue:m,reauthToken:o}):n?c.createElement(Lx,{width:"600px"},c.createElement(Zde,null,c.createElement(Jde,null,c.createElement(eue,null,c.createElement(fx,null),c.createElement(ki,null,"Deposit Initiated"),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,i||"Please allow 2-3 business days to process this request."))),c.createElement(Iw,{top:24,centerAll:!0,fullWidth:!0},c.createElement(hx,{fullWidth:!0,onClick:h},"Continue"))))):c.createElement(Lx,{width:"600px"},c.createElement(Zde,null,c.createElement(ki,null,"Add Funding"),t&&c.createElement(Xde,null,c.createElement(GM,null)),c.createElement(Ree,{initialFormValues:d,showDepositPicker:s,onContinue:(e,t={})=>{const{noticeMessage:n}=t;n&&a(n),r(!0)},onPlaidReauthRequired:p})))},nue="sf",rue="dr",iue="ff",aue={isInitialized:!1,isLoading:!1,fundsAvailableByAccountId:{},fundsAvailable:null,reasons:[]},sue=e=>{const t=[];e.forEach((e=>{const{reason:n}=e;t.includes(n)||t.push(n)}));const n=[];return t.forEach((t=>{let r=0;e.forEach((e=>{const{amount:n,reason:i}=e;t===i&&(r+=n)})),n.push({amount:r,reason:t})})),n};function oue(e,t){switch(t.type){case nue:return l(o({},e),{isLoading:!0});case rue:{const{funds_available:n,withdrawal_availability:r,funds_available_by_account_id:i}=t.payload;return l(o({},e),{isInitialized:!0,isLoading:!1,fundsAvailable:n,fundsAvailableByAccountId:i||{},reasons:sue(r)})}case iue:return l(o({},e),{isLoading:!1});default:throw new Error}}const lue=u.div`
  h3 {
    margin: 0;
  }
`,cue=u.div`
  padding-top: 24px;
  text-align: center;
`,due=u.div`
  padding-top: 16px;

  select {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,uue=u.div`
  text-align: center;
`,hue=u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,pue=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 16px;
    width: 16px;
  }
`;u.span`
  svg {
    height: 16px;
    width: 16px;
  }
`;const mue=u.div`
  button {
    padding: 16px 0;
  }
`,gue=u.div`
  padding-top: 24px;

  overflow: auto;
`,yue=u.div`
  padding: 16px 8px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,_ue=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`,fue=({reason:e})=>{const{amount:t,available_on:n,reason:r}=e;return c.createElement(yue,null,c.createElement(_ue,null,c.createElement(Ei,{bold:!0},"Amount: "),c.createElement(Ei,null,B_(t,"price"))),c.createElement(_ue,null,c.createElement(Ei,{bold:!0},"Reason unavailable: "),c.createElement(Ei,null,dk(r))))},vue=({reasons:e})=>c.createElement(lue,null,c.createElement(ki,null,"Funding"),c.createElement("div",null,c.createElement(Ei,null,"Funds listed below are not eligible to be withdrawn at this time.")),c.createElement(gue,null,e.map(((e,t)=>c.createElement(fue,{key:"reason -"+t,reason:e}))))),Eue=({})=>{const e=b(),t=P(),n=II(),{isLoading:r,fundsAvailable:i,fundsAvailableByAccountId:a,reasons:s}=(()=>{const[e,t]=c.useReducer(oue,aue,(()=>aue)),n=c.useCallback((async()=>{t({type:nue});const{status:e,data:n}=await lb();t(200===e?{type:rue,payload:n}:{type:iue})}),[]);return c.useEffect((()=>{e.isLoading||e.isInitialized||n()}),[e]),e})(),[d,u]=c.useState(!1),[h,p]=c.useState(!1),[m,g]=c.useState(!1),[y,_]=c.useState(null),[f,v]=c.useState(""),[E,C]=c.useState(""),[x]=c.useState("withdraw"),[w,S]=c.useState(null),[k,T]=c.useState(null),I=a[E];c.useEffect((()=>{const e=async()=>{const{ok:n,data:r}=await ob()(t);if(n){const e=((e,t)=>{switch(t){case Bl:return e.filter((e=>e.can_accept_transfers));case zl:return e.filter((e=>e.needs_micro_deposit_verification));case Vl:return e.filter((e=>e.needs_micro_deposit_verification&&e.micro_deposits_ready));default:return console.error("no filter supplied: filterBankAccounts"),e}})(r.accounts,Bl);1===e.length&&C(e[0].account_id),u(!0)}else setTimeout(e,1e3)};e()}),[]);const N=c.useCallback(((e,n)=>{const r=l(o({},i=e),{amount:qk(i.amount)});var i;return g(!0),yb(r,n)(t)}),[E]),A=()=>{e(Sn.build())},D=c.useCallback((async(e,t)=>{if(!(""!==f&&qk(f)>0))return _("You must enter an amount"),{ok:!1};if(!E)return _("You must select a bank account"),{ok:!1};t&&(S(null),T(null));const{ok:n,warning:r,warningMessage:i,errorMessage:a}=await N({account_id:E,amount:f,funding_operation:x},t);if(g(!1),n)p(!0);else{if(!r)return _(a||"Something went wrong, please try again"),{ok:!1};S(!0),T(i)}}),[E,f,S,T]),O=c.useCallback((()=>D(null,!0)),[D]),L=c.useCallback((()=>{S(null),T(null)}),[S,T]),R=[so({text:"Please Select...",value:""}),so({text:"---",value:"---",disabled:!0}),...n.map((e=>so({text:`${e.account_type} (...${e.account_number_ending})`,value:e.id})))];c.useEffect((()=>{0===n.length&&ob()(t)}),[]);return d?w?c.createElement(Lx,{width:"600px"},c.createElement(lue,null,c.createElement(yi,{bold:!0},k),c.createElement(cue,null,c.createElement(E9,{error:y,isSubmitting:m}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:m,fullWidth:!0,onClick:O},"Accept and Submit")),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{transparent:!0,isDisabled:m,fullWidth:!0,onClick:L},"Cancel"))))):h?c.createElement(Lx,{width:"600px"},c.createElement(lue,null,c.createElement(uue,null,c.createElement(hue,null,c.createElement(fx,null),c.createElement(ki,null,"Withdrawal Initiated"),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,"Please allow 3-5 business days to process this request."))),c.createElement(cue,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:A},"Continue")))))):c.createElement(Lx,{width:"600px"},c.createElement(lue,null,c.createElement(ki,null,"Withdraw Funds"),c.createElement("div",null,""!==E?r?c.createElement(Wx,{top:0},c.createElement(Ei,null,"Available to withdraw: Loading...")):c.createElement(Wx,{top:0},c.createElement("div",null,c.createElement(Ei,null,`Available to withdraw to selected account: ${B_(I,"price")}`)),s.length>0&&c.createElement(mue,null,c.createElement(hx,{transparent:!0,onClick:()=>{bb({contentComponent:c.createElement(vue,{reasons:s}),size:"wide",dismissable:!0})(t)}},"See details"))):null),c.createElement("div",null,c.createElement(due,null,n.length>0?c.createElement(Io,{name:"bankAccount",value:E,label:"Bank Account",items:R,onChange:e=>e=>{C(e)},error:null}):c.createElement("div",null,c.createElement(pue,null,c.createElement(_w,null),c.createElement("div",{style:{paddingLeft:"8px"}},c.createElement(Ei,null,"Loading Bank Accounts, please wait..."))))),c.createElement(due,null,c.createElement(ko,{name:"amount",value:f,prefix:"$",label:"Amount",onChange:e=>e=>{v(e)},maskType:Gr,error:null,autoFocus:!0})),c.createElement(cue,null,c.createElement(E9,{error:y,isSubmitting:m}),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{isDisabled:m,fullWidth:!0,onClick:D},"Submit")))))):c.createElement(h9,null)},bue=u.div`
  h3 {
    margin: 0;
  }
`,Cue=u.div`
  padding-top: 40px;

  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`,xue=u.div`
  padding-top: 24px;
`,wue=u.div`
  padding-bottom: 8px;

  * {
    color: ${vr.secondary.red};
  }
`,Sue=u.div`
  padding-top: 36px;
  text-align: center;
  svg {
    height: 36px;
    width: 36px;
  }
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,kue=()=>{const e=P(),t=b(),[n,r]=c.useState(null),[i]=c.useState({isVerificationReady:!0}),a=II(i);c.useEffect((()=>{if(1===a.length){const e=a[0];r(e.id)}}),[a]);const[s,o]=c.useState("0."),[l,d]=c.useState("0."),[u,h]=c.useState(!1),[p,m]=c.useState(null),[g,y]=c.useState(null),[_,f]=c.useState(!1),v=async()=>{t(Sn.build())},E=[so({text:"Please select",value:""}),so({text:"--",value:"--"}),...a.map((e=>so({text:`${e.account_type} (...${e.account_number_ending})`,value:e.id})))];return _?c.createElement(Lx,{width:"600px"},c.createElement(bue,null,c.createElement(Sue,null,c.createElement(fx,null),c.createElement(ki,null,"Verification Completed")),c.createElement(xue,null,c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:v},"Continue"))))):0===a.length?c.createElement(Lx,{width:"600px"},c.createElement(bue,null,c.createElement(ki,null,"Verify Bank Account"),c.createElement("div",null,c.createElement(Ei,{isLowContrast:!0,isSmall:!0},"You have no bank accounts needing or ready for verification at this time.")))):c.createElement(Lx,{width:"600px"},c.createElement(bue,null,c.createElement(ki,null,"Verify Bank Account"),c.createElement("div",null,c.createElement(Ei,{isLowContrast:!0,isSmall:!0},"For Security, two micro-deposits were deposited and withdrawn from your account recently. You will have to verify these amounts to confirm account ownership.")),c.createElement("div",null,c.createElement(Cue,null,c.createElement(Io,{name:"bankAccount",value:n,label:"Bank Account",items:E,onChange:e=>e=>{r(e)},error:null})),c.createElement(Cue,null,c.createElement(ko,{name:"amount1",value:s,prefix:"$",label:"First Amount",onChange:e=>e=>{o(e)},maskType:qr,error:null,autoFocus:!0})),c.createElement(Cue,null,c.createElement(ko,{name:"amount2",value:l,prefix:"$",label:"Second Amount",onChange:e=>e=>{d(e)},maskType:qr,error:null}))),c.createElement(xue,null,c.createElement(E9,{error:p,isSubmitting:u}),g&&c.createElement(wue,null,c.createElement(Ei,null,g)),c.createElement(Iw,{fullWidth:!0,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:async()=>{TC("Submitted Micro Transaction Amounts")(),m(null),y(null);if(!(["","--",null].includes(n)?(m("Please select a bank account."),!1):!isNaN(s)&&qk(s)>0&&!isNaN(l)&&qk(l)>0?(m(null),!0):(m("Both amounts are required and should be less than one dollar"),!1)))return TC("Submitted Micro Transaction Amounts With Form Errors")(),null;h(!0);const t={id:n,amount1:parseFloat(s),amount2:parseFloat(l)},{ok:r,errorMessage:i,microDepositAttemptsRemaining:a}=await pb(t)(e);if(r){Cu("Completed Microdeposit Bank Account Registration",{}),TC("Submitted Correct Micro Transaction Amounts")(),f(!0)}else{if(El(a)&&m(i),"Microdeposits are not ready yet"===i){m("You must re-link this bank account")}if(a>=0&&TC("Submitted Incorrect Micro Transaction Amounts",{})(),0===a){m("You have reached the maximum amount of verification requests. Please re-add the bank account to start the add bank account verification process again.")}if(a>0){m("The amounts entered were not correct. Please double check your account and try again. Please note, the order matters. The first amount value should be the first amount deposited in your bank account.");const e=`${a} ${Ek("attempt",a,{ignorePrefix:!0})} remaining.`;y(e)}h(!1)}}},"Submit")))))},Tue=(e,t)=>{if(!t)return null;const n=t.indexOf(e);return n<0?t[0]:t[n+1]},Iue=()=>{const[e,t]=c.useState(null),[n,r]=c.useState(!1),[i,a]=c.useState(!1),[s,d]=c.useState(!1),[u,h]=c.useState(Rce.initialization),[p,m]=c.useState(null),[g,y]=c.useState(null);b();const f=_(),v=P(),E=ZT();uI(),c.useEffect((()=>{(e=>{const n=fe(f.search);"true"===n.email_confirmed&&Cu("Email Confirmed",{themeTestGroups:jp(e)}),n.path&&t(n.path)})(E),(async e=>{if(e.allow_live_trading&&!e.is_token_authed){const e=[ab(),ob(),()=>Eb()],t=await Promise.all(e.map((e=>e(v)))),n=t.filter((e=>!e.ok)),{liveTradingAccount:i}=t[0],{isRejected:s,isUserActionRequired:o}=t[2];if(0===n.length){const e=null==i?void 0:i.status,t=!vl(e)&&"incomplete"!==(null==e?void 0:e.toLowerCase())&&"rejected"!==(null==e?void 0:e.toLowerCase());if(s||"rejected"===(null==e?void 0:e.toLowerCase()))return a(!0),void r(!0);if(o){const e=Gce.socure;return y(e),h(Rce.socureApplication),void r(!0)}if(t)return d(!0),void r(!0);const n=Gce.onboardedLiveAccountApplication;y(n);const l=Tue(u,n);h(l),r(!0)}else{bb({contentComponent:c.createElement("div",{className:"reload-message-container"},c.createElement("p",null,"Something went wrong. Please check your internet connection and reload the page."),c.createElement(iU,null)),size:"wide"})(v)}}else e.is_token_authed?lU():(a(!0),r(!0))})(E)}),[]),c.useCallback((()=>{if(g){const e=((e,t)=>{if(!t)return null;const n=null==t?void 0:t.indexOf(e);return n<1?t[0]:t[n-1]})(u,g);h(e)}else zE("No onboarding path selected",{onboardingPath:g,onboardingState:u})(),h(Rce.initialization)}),[u,g]);const C=c.useCallback(((e,t,n={})=>{const{accountType:r}=n;if(e){y(e);const r=n.nextState||(e?Tue(t,e):Rce.initialization);h(r)}else{if(r===Ol){m(Ol),y(Gce.liveAccountApplication);const e=Rce.selectInvestingExperience;h(e)}if(r===Dl){m(Dl),y(Gce.paper);const e=Rce.selectInvestingExperience;h(e)}}}),[p,g]),x=c.useCallback(((e,t)=>{{const e=g?Tue(t,g):Rce.initialization;h(e)}}),[p,g]),w=c.useCallback(((e,t)=>{switch(t){case Rce.linkBankAccount:h(Rce.selectAccountPrivacy);break;default:{const e=g?Tue(t,g):Rce.initialization;h(e)}}}),[p,g]),S=c.useCallback((()=>{const t=Fce[u];if(t){const e={};return c.createElement(t,l(o({},e),{accountTypePath:p,onboardingState:u,onPathChange:C,onSkip:w,onContinue:x}))}return e&&u?c.createElement(qx,null,c.createElement(Lx,null,c.createElement("div",null,u))):(console.error("no path/state",{onboardingPath:g,accountTypePath:p,onboardingState:u}),c.createElement(qx,null,c.createElement(Lx,null,c.createElement(Ei,null,"Something went wrong, refresh the page."))))}),[u,e]);return n?s?c.createElement(Lx,null,c.createElement(Ei,null,"Your live brokerage account application is still being processed.")):i?c.createElement(Lx,null,c.createElement("div",null,c.createElement(_i,null,"You are not eligible for a live brokerage account at this time.")),c.createElement("div",{style:{paddingTop:"16px"}},c.createElement(Ei,null,"Please contact ",c.createElement("a",{href:"mailto:support@tornado"},"support@tornado.com")," to if you wish to discuss the status of your application")),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ei,null,"More information is available about the requirements for opening a live brokerage account in our"," ",c.createElement("a",{href:Ln("faq")+"?id=37",target:"_blank",className:""},"FAQs")))):S():c.createElement(h9,null)},Nue=u.div`
  max-width: 416px;
  margin: 0 auto;
`,Aue=u.div`
  padding-top: 24px;
`,Pue=u.div`
  padding-top: 8px;
  display: flex;
  justify-content: center;
`,Due=u.div`
  h3 {
    margin: 0;
  }
`,Oue=u.div`
  padding-top: 24px;
  display: flex;
  justify-content: center;
`,Lue=u.div`
  padding-top: 36px;
  text-align: center;
  svg {
    height: 36px;
    width: 36px;
  }
  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,Rue=({})=>{const e=P(),t=b(),[n,r]=((e=>{fe(e.search).a})(_()),c.useState(!1)),[i,a]=c.useState(!1),[s,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null),[p,m]=c.useState(!1),g=()=>{t(rn.build())},y=(c.useCallback((t=>{const n={contentComponent:bS(t),dismissable:!0,size:"wide"};bb(n)(e)}),[]),c.useCallback((()=>g()),[]));c.useCallback((()=>g()),[]),c.useCallback((()=>g()),[]);return c.useEffect((()=>{n&&(null==l||l.open())}),[n]),c.useEffect((()=>{i&&(null==l||l.destroy())}),[i]),c.useEffect((()=>()=>{null==l||l.destroy()}),[]),c.useEffect((()=>{(async()=>{try{!1||(o(!0),r(!0))}catch(Gs){console.error("Plaid Init Failure catch",Gs),o(!0)}})(),TC("View Link Bank Account")()}),[]),n?s?c.createElement(Lx,{width:"376px"},c.createElement(Nue,null,c.createElement(Aue,null,c.createElement(Ei,null,"Something went wrong. The page did not fully load. Try reloading the page.")),c.createElement(Pue,null,c.createElement(hx,{fullWidth:!0,onClick:()=>window.location.reload()},"Reload Page")))):p?c.createElement(Lx,{width:"600px"},c.createElement(Due,null,c.createElement(Lue,null,c.createElement(fx,null),c.createElement(ki,null,"Brokerage Link Completed")),c.createElement(Oue,null,c.createElement(hx,{fullWidth:!0,onClick:y},"Continue")))):u?c.createElement(h9,{message:"Linking Brokerage Account..."}):c.createElement(qx,null):c.createElement(h9,null)},Fue=u.div`
  background: ${Fk(vr.primary.charcoal,.1)};
  padding: 16px;
  border-radius: 5px;
`,Mue=u.div`
  background: ${Fk(vr.primary.charcoal,.1)};
  padding: 1px;
  border-radius: 2px;
`,Uue=u.div`
  background: ${Fk(vr.primary.charcoal,1)};
  height: 22px;
  border-radius: 2px;
  min-width: 36px;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
`,$ue=u.div`
  background: ${Fk(vr.primary.oak,.5)};
  padding: 8px;
  border-radius: 5px;
`,Bue=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,zue=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  height: 24px;
  padding-right: 12px;

  div {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
  }
`,Vue=u.div`
  padding-top: 24px;
  text-align: center;

  button {
    width: 240px;
  }
`,Hue=({percentage:e})=>c.createElement(Mue,null,c.createElement(Uue,{style:{width:`${e}%`}},c.createElement("div",{style:{paddingRight:"8px"}},c.createElement(Ei,{bold:!0,color:vr.primary.oak},`${e}%`)))),Wue=({text:e,status:t})=>{const n=vr.primary.charcoal;return c.createElement($ue,null,c.createElement(Bue,null,c.createElement(zue,null,t?c.createElement(Mi,{width:16,color:vr.secondary.brightGreen}):c.createElement(oi,{width:14,color:vr.secondary.red})),c.createElement("div",null,c.createElement(Ei,{color:n},e))))},jue=()=>{const e=vr.primary.charcoal,t=vr.primary.oak,n=b(),{completedLessonCount:r}=SI(),i=II(),a=i.length>0,s=ZT(),o=s.has_funded,l=s.is_live_trading_approved,d=a?"Add funding to invest":"Link your bank account and add funding to invest",u=70*(l?1:0)+20*(r>0?1:0)+10*(o?1:0);c.useEffect((()=>{th.application.VIEW_FINISH_SETTING_UP_ACCOUNT_SCREEN.send()}),[]);const h=c.useCallback((()=>{100!==u?(th.application.PRESS_FINISH_SETTING_UP_ACCOUNT.send(),n(10!==u?0!==r?a?fn.build():En.build():Pn.build():un.build())):n(en.build())}),[n,i,o]);return c.createElement(Lx,{width:"500px",style:{position:"relative",overflow:"hidden"}},c.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1}},c.createElement(w7,null)),c.createElement("div",{style:{position:"relative",zIndex:2}},c.createElement("div",null,c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Ii,{color:e,heading:!0},100===u?"Account setup completed":u>70?"Your account setup is almost complete":"Finish your account setup")),c.createElement("div",{style:{paddingTop:"24px"}},c.createElement(Fue,null,c.createElement("div",{style:{padding:"0 4px 8px 4px"}},c.createElement(Ei,{bold:!0,color:e},"Current Progress")),c.createElement(Hue,{percentage:u}),c.createElement("div",{style:{paddingTop:"12px"}},c.createElement("div",{style:{paddingBottom:"8px"}},c.createElement(Wue,{text:"Open live brokerage account",status:l})),c.createElement("div",{style:{paddingBottom:"8px"}},c.createElement(Wue,{text:"Start learning and earning",status:r>0})),c.createElement(Wue,{text:d,status:o})),c.createElement(Vue,null,c.createElement(hx,{color:e,textColor:vr.primary.oak,onClick:h},"Let's Finish"))))),c.createElement("div",{style:{padding:"16px 0"}},c.createElement(zM,{color:vr.primary.charcoal}),c.createElement(Vue,null,c.createElement(sx,{color:e,textColor:t,onClick:h},"Continue")))))},Gue=({currentUser:e,rewardsStore:t,testGroup:n})=>{const r=t.referral_rewards_not_redeemed_count||0,i=t.funding_rewards_not_redeemed_count||0,a=r+i,s=!Vp(e),o=$p(e),l=t.referral_reward_total_redeemed,c=t.referral_reward_total_approved,d=l>=o,u=t.cash_requiring_trade_to_keep,h=c-u,p=t.next_cash_expiration_date,m=zp(e),g={isEligibleForReferralProgram:e.is_eligible_for_referral_program,isReferralProgramActive:wp(e),redeemableRewardsCount:a,redeemedRewardsTotal:l,redeemableReferralRewardsCount:r,redeemableFundingRewardsCount:i,approvedRewardsTotal:c,didUserReachReferralRewardLimit:d,doesUserGetFixedReferralRewardAmount:s,maxPrizeLimit:o,hasUnearnedRewards:!nk(u)&&u>0,fundingRewardsTotalRedeemed:t.funding_reward_total_redeemed,fundingRewardsTotalApproved:t.funding_reward_total_approved,totalCashToKeep:h,nextRewardExpirationDateFormattedMMDDYY:p,rewardsRequireACHLink:m};return n&&(g.testGroup=n),g};function que(e,t){switch(t.type){case"update":{const{currentUser:n,rewardsStore:r}=t.payload;return o(o({},e),Gue({currentUser:n,rewardsStore:r}))}default:throw new Error}}const Yue=()=>{const e=D(WT),t=D(h3),[n]=c.useState((e=>{const t=1===e.referral_page_heading_test_group?"b":"a",n=1===e.referral_page_cta_heading_test_group?"b":"a";return{headingCopy:a3.a,testGroups:{headingCopyTestGroup:"a",shareLinkMessageTestGroup:"c",noSubHeadingTestGroup:"b",headingTestGroup:t,referralCTAHeadingTestGroup:n},trackingProperties:{}}})(e)),[r,i]=c.useReducer(que,{currentUser:e,rewardsStore:t,testGroup:n},Gue);return c.useEffect((()=>{i({type:"update",payload:{currentUser:e,rewardsStore:t}})}),[e,t]),r};const Kue=u.div`
  padding: 8px;
`,Que=u.div`
  margin: 16px auto 0 auto;
  max-width: 400px;
  padding: 16px;
  border: 1px dashed ${({theme:e})=>e.themeColors.text};
  border-radius: 5px;
`,Zue=()=>{const e=Yue(),{testGroup:t,isEligibleForReferralProgram:n,didReachReferralRewardLimit:r,isReferralProgramActive:i}=e,{testGroups:a}=t,{headingTestGroup:s}=a;if(!n)return null;const o=()=>r?"Congrats! You reached the maximum reward.":i?"a"===s?"Two Heads Are Better Than One. Especially in Investing.":null:"Redeem your rewards.";return o()?c.createElement(c.Fragment,null,c.createElement(Fx,{transparentBackground:!0},c.createElement("div",{style:{textAlign:"center"}},"a"===s&&c.createElement(Ii,null,o()))),c.createElement(Kue,null)):null},Xue=u(pw)`
  text-align: left;
`,Jue=u(pw)`
  display: block;
  text-align: left;

  max-width: 68px;
`,ehe=({value:e,chance:t})=>{const n=gi({fontSize:"18px",lineHeight:"28px"},{fontSize:"18px",lineHeight:"28px"}),r=gi({fontSize:"10px",lineHeight:"14px"},{fontSize:"10px",lineHeight:"14px"});return 1===t?c.createElement("div",null,c.createElement(Xue,{fontSettings:n},"100%"),c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Jue,{fontSettings:r},`chance of at least $${e}`))):c.createElement("div",null,c.createElement(Xue,{fontSettings:n},`$${e}`),c.createElement("div",{style:{paddingTop:"4px"}},c.createElement(Jue,{fontSettings:r},`1 in ${t.toString()}`)),c.createElement(Jue,{fontSettings:r}," chance"))},the=u.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,nhe=u.div`
  position: relative;
  width: 100%;
  height: 33px;
`,rhe=u.div`
  position: absolute;
  top: 0;
  left: -240px;
  right: -240px;

  padding-top: 16px;
  margin-bottom: 16px;
  border-bottom: 2px solid ${({theme:e})=>e.themeColors.appBackground};
`,ihe=()=>c.createElement(the,null,c.createElement(ehe,{value:20,chance:20}),c.createElement(ehe,{value:500,chance:2500}),c.createElement(ehe,{value:1e3,chance:5e3}),c.createElement(ehe,{value:10,chance:1})),ahe=()=>{const e=b(),{redeemableRewardsCount:t}=Yue();return c.createElement(Fx,null,c.createElement("div",{style:{textAlign:"center",paddingTop:"6px"}},c.createElement(yi,null,`You have ${t} new cash ${Ek("reward",t)}!`)),c.createElement("div",{className:"rewards-card-container"},c.createElement(C3,{onClick:()=>{e(gn.build());TC("Clicked Redeem Rewards",{"Redeemable Count":t})()}})))},she=u.div`
  max-width: 376px;
  margin: 0 auto;
`,ohe=u.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 60px;
`,lhe=u.div`
  position: relative;
  height: 70px;
  width: 66px;
  min-width: 66px;
  margin-right: 24px;
  overflow: hidden;
`,che=u.img`
  position: absolute;
  top: -36px;
  left: -45px;
  height: 142px;

  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
`,dhe=()=>{const{isEligibleForReferralProgram:e,testGroup:t}=Yue(),{testGroups:n}=t,{referralCTAHeadingTestGroup:r}=n,i=e?"a"===r?c.createElement(c.Fragment,null,"Invite friends and you both get free cash to invest"):c.createElement(c.Fragment,null,"Invite friends and you both get free cash to invest up to $1,000"):"a"===r?c.createElement(c.Fragment,null,"Invite friends and they get free cash to invest"):c.createElement(c.Fragment,null,"Invite friends and they get free cash to invest up to $1,000"),a=gi({fontSize:"16px",lineHeight:"24px"},{fontSize:"20px",lineHeight:"28px"});return c.createElement(Fx,{overflowHidden:!0},c.createElement(she,null,c.createElement(ohe,null,c.createElement(lhe,null,c.createElement(che,{src:"/app/assets/Medal_700px_TB.2447bab7.png"})),c.createElement("div",null,c.createElement(pw,{fontSettings:a,bold:!0},i))),c.createElement(nhe,null,c.createElement(rhe,null)),c.createElement(ihe,null)))},uhe=u.div`
  input {
    border: none !important;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text} !important;
    border-radius: 0;
    padding-left: 0;
    padding-right: 0;

    background: transparent !important;
  }
  .invite-friends-icon {
    right: 0 !important;
  }

  .rounded-edge-button.invite-friends-icon {
    padding: 0;
    height: 28px;
    width: 28px;

    background: ${({theme:e})=>e.themeColors.appBackground} !important;
    border: ${({theme:e})=>"1px solid "+e.themeColors.appBackground} !important;

    border-radius: 4px;

    transition: all 0.3s;
    outline: none;

    box-shadow: 0 1px 5px 0 rgb(0 0 0 / 20%) !important;

    * {
      line-height: 1;
      color: ${({theme:e})=>e.themeColors.text} !important;
    }

    :hover {
      opacity: 0.8;
      background: ${({theme:e})=>e.themeColors.text} !important;
      border: ${({theme:e})=>"1px solid "+e.themeColors.text} !important;

      * {
        color: ${({theme:e})=>e.themeColors.appBackground} !important;
      }
    }
  }
`,hhe=()=>c.createElement(Fx,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Invite by email")),c.createElement(uhe,null,c.createElement(l4,{placeholder:"Enter here...",inviteContext:"Rewards Page",inputOnly:!0}))),phe=u.div`
  padding-top: 6px;
  padding-bottom: 2px;
  .social-button {
    display: inline-block;
  }
`,mhe="Facebook",ghe="Twitter",yhe="LinkedIn",_he=()=>{const{encodedInviteLink:e}=w2(f2,C2),t=e=>{TC("Referrals - Click Social Share",{Network:e,Context:"Rewards Page"})();const t={Facebook:Zu,Twitter:Xu,LinkedIn:Ju}[e];th.referral.USE_REFERRAL_ACTION.send(t)},[n]=c.useState([c.createElement("div",{style:{textAlign:"center"}},c.createElement(phe,null,c.createElement(lz,{url:e,additionalActionOnClick:()=>t(mhe)})),c.createElement(Ei,null,"Facebook")),c.createElement("div",{style:{textAlign:"center"}},c.createElement(phe,null,c.createElement(cz,{url:e,message:".@tornadoinvest is a new, collaborative way to #invest. Plus they will give you up to $1,000 #free cash to invest when you join. #InvestBetterTogether.",additionalActionOnClick:()=>t(ghe)})),c.createElement(Ei,null,"Twitter")),c.createElement("div",{style:{textAlign:"center"}},c.createElement(phe,null,c.createElement(dz,{url:e,additionalActionOnClick:()=>t(yhe)})),c.createElement(Ei,null,"LinkedIn"))]);return c.createElement($x,{items:n,cardProps:{height:"100px"}})},fhe=u.div`
  position: relative;
  padding-bottom: 6px;

  ${jC} {
    padding: 0;
    height: 28px;
    width: 28px;

    background: ${({theme:e})=>e.themeColors.appBackground} !important;
    border: ${({theme:e})=>"1px solid "+e.themeColors.appBackground} !important;
    fill: ${({theme:e})=>e.themeColors.text};

    border-radius: 4px;

    transition: all 0.3s;
    outline: none;

    box-shadow: 0 1px 5px 0 rgb(0 0 0 / 20%) !important;

    * {
      line-height: 1;
    }

    :hover {
      opacity: 0.8;
      background: ${({theme:e})=>e.themeColors.text} !important;
      border: ${({theme:e})=>"1px solid "+e.themeColors.text} !important;

      * {
        fill: ${({theme:e})=>e.themeColors.appBackground} !important;
      }
    }
  }

  button {
    svg {
      margin-top: 3px;
    }
  }
`,vhe=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  justify-content: space-between;

  position: relative;
  width: 100%;

  border-bottom-width: 1px;
  border-bottom-style: solid;
  border-bottom-color: ${({theme:e})=>e.themeColors.text};

  color: ${({theme:e})=>e.themeColors.text};
  cursor: default;
`,Ehe=u.input`
  width: 100%;
  background: none !important;
  border: none !important;
  padding: 10px 0 12px 0 !important;
  margin: 0 6px 0 0 !important;
  font-size: 14px;
  line-height: 14px;
  cursor: text;
`,bhe=u.div`
  svg {
    height: 16px;
    width: 16px;

    path {
      fill: ${({theme:e})=>e.themeColors.text} !important;
    }
  }
`,Che=u.div`
  position: absolute;
  top: 37px;
  right: 0px;
  z-index: 100;

  padding: 16px;

  border-radius: 5px;

  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  border: 1px solid ${({theme:e})=>e.themeColors.border};
  box-shadow: 0 1px 5px 0 rgb(0 0 0 / 20%) !important;
`,xhe=()=>c.createElement(Che,null,"Copied"),whe=({text:e})=>{const t=c.useRef(),[n,r]=c.useState(!1);c.useEffect((()=>{n&&setTimeout((()=>{r(!1)}),2e3)}),[n]);return c.createElement("div",null,c.createElement(vhe,null,c.createElement(Ehe,{ref:t,value:e,readOnly:!0}),c.createElement(fhe,null,c.createElement(hx,{onClick:()=>{try{t.current.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),TC("Clicked Share Link Copy",{Context:"Rewards Page"}),th.referral.USE_REFERRAL_ACTION.send(Yu),r(!0)}catch(Gs){console.error(Gs)}}},c.createElement(bhe,null,c.createElement(ia,null))),n&&c.createElement(xhe,null))))},She=()=>{const{inviteLink:e}=w2(f2,b2);return c.createElement(Fx,{overflow:!0},c.createElement("div",null,c.createElement(yi,{bold:!0},"Share link")),c.createElement(whe,{text:e}))},khe=()=>c.createElement(Fx,{transparentBackground:!0},c.createElement("div",{style:{textAlign:"center"}},c.createElement(q3,{contactsImport:!0}))),The=u.div`
  padding-top: 8px;
`,Ihe=u.div`
  text-align: left;
`,Nhe=e=>$k(e)?B_(e,"priceInt"):B_(e,"price"),Ahe=()=>{const{redeemedRewardsTotal:e,approvedRewardsTotal:t,didReachMaxPrizeLimit:n,rewardsRequireACHLink:r}=Yue();return 0===e?null:0===t?c.createElement(The,null,c.createElement(Ei,{isSmall:!0},"You'll get"),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},Nhe(e)),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},`once your account is approved${r?" and you link a valid bank account":""}.`)):c.createElement(The,null,c.createElement(Ei,{isSmall:!0},"You've earned"),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},`${Nhe(t)}`),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},n?".":"so far."))},Phe=()=>{const{totalCashToKeep:e,nextRewardExpirationDateFormattedMMDDYY:t,rewardsRequiringTradeToKeep:n}=Yue();return e>0?c.createElement("div",null,c.createElement(Ei,{isSmall:!0,thin:!0},`${Nhe(e)} is yours to keep.`),n>0&&c.createElement("div",null,null===t?c.createElement(Ei,{isSmall:!0,thin:!0},`Don't miss out - You need to place a trade to keep the remaining $${n}.`):c.createElement(Ei,{isSmall:!0,thin:!0},`Don't miss out - You need to place a trade by ${t} to keep the remaining $${n}.`))):n>0?c.createElement("div",null,null===t?c.createElement(Ei,{isSmall:!0,thin:!0},`Don't miss out - You need to place a trade to keep the remaining $${n}.`):c.createElement(Ei,{isSmall:!0,thin:!0},`Don't miss out - You need to place a trade by ${t} to keep the remaining $${n}.`)):null},Dhe=()=>{const{fundingRewardsTotalRedeemed:e,fundingRewardsTotalApproved:t,rewardsRequireACHLink:n}=Yue();return 0===e?null:0===t?c.createElement(The,null,c.createElement(Ei,{isSmall:!0},"You'll get the funding reward of "),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},Nhe(e)),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0},`once your account is approved${n?" and you link a valid bank account":""}.`)):c.createElement(The,null,c.createElement(Ei,{isSmall:!0,thin:!0},"You've earned"),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0,thin:!0},Nhe(t)),c.createElement(zz,null),c.createElement(Ei,{isSmall:!0,thin:!0},"in funding rewards so far."))},Ohe=()=>{const{hasUnearnedRewards:e,redeemedRewardsTotal:t,approvedRewardsTotal:n,fundingRewardsTotalRedeemed:r,fundingRewardsTotalApproved:i}=Yue(),a=gi({fontSize:"18px",lineHeight:"28px"},{fontSize:"36px",lineHeight:"48px"}),s=(n||0)+(i||0),o=(t||0)+(r||0)!==s;return c.createElement("div",{style:{paddingTop:"4px"}},c.createElement("div",{style:{padding:"8px 2px"}},c.createElement(hi,{fontSettings:a,bold:!0},`${Nhe(s)}`),o&&c.createElement("div",null,c.createElement(Ei,{isSmall:!0,isLowContrast:!0,thin:!0},"Some of the rewards may not be accessed until pending actions listed below are completed"))),c.createElement(Ahe,null),e&&c.createElement(Phe,null),c.createElement("div",{style:{paddingTop:"8px"}},c.createElement(Dhe,null)))},Lhe=()=>{const e=ZT(),t=QT(),{isEligibleForReferralProgram:n}=Yue();return c.createElement(Fx,null,c.createElement("div",null,c.createElement(yi,{bold:!0},"Your Rewards Summary")),n?c.createElement(Ihe,null,c.createElement(Ohe,null)):c.createElement("div",{style:{paddingTop:"16px"}},c.createElement(Ei,null,"Sorry, you're not eligible to receive rewards.")),!t&&Lp(e)&&c.createElement(Que,null,c.createElement(Xce,{copy:"Open a live brokerage account with us to access your rewards."})))},Rhe=()=>{const e=P(),[t]=c.useState(!1),[n,r]=c.useState(!1);c.useEffect((()=>{window.document.title=`${Xo} - Referral Rewards`,dC()(e);TC("View Referral Program",{})()}),[]);const{redeemableRewardsCount:i,isEligibleForReferralProgram:a,didUserReachReferralRewardLimit:s,isReferralProgramActive:o}=Yue(),l=()=>{r(!1)};return t?c.createElement(h9,null):n?c.createElement(Lx,{transparentBackground:!0},c.createElement(Fx,null,c.createElement(L4,{handleContinue:l,inPage:!0}))):c.createElement(Lx,{width:"720px",transparentBackground:!0},c.createElement(Zue,null),i>0&&c.createElement(ahe,null),c.createElement(Kue,null),o&&c.createElement(dhe,null),c.createElement(Kue,null),c.createElement(hhe,null),c.createElement(Kue,null),c.createElement(_he,null),c.createElement(Kue,null),c.createElement(khe,null),c.createElement(Kue,null),c.createElement(She,null),c.createElement(Kue,null),c.createElement(Lhe,null),c.createElement(Kue,null),c.createElement(Fx,null,o&&a&&!s&&c.createElement("div",{style:{padding:"6px 0 8px 0"}},c.createElement(x4,{hideHeading:!0}))),c.createElement(Kue,null),c.createElement(Fx,{transparentBackground:!0},c.createElement(P3,null)))},Fhe=()=>1===ZT().reward_page_design_test_group?c.createElement(Rhe,null):c.createElement(I4,null),Mhe=()=>c.createElement(Lx,{width:"600px"},c.createElement(e8,null)),Uhe=({to:e,handleClick:t})=>{const n=b();return c.createElement(hx,{onClick:()=>{t(),n(e)}},"Start Over")},$he=e=>c.createElement(OF,{className:"import-failure-container"},c.createElement("div",{className:"heading"},"Sorry, we're unable to import your connections at this time. Please try again."),c.createElement("div",{className:"start-over-btn-container"},c.createElement(Uhe,{to:Ln("importConnections"),handleClick:()=>{ly("Clicked Start Over For Import Connections")()}}))),Bhe=e=>{const{user:t,isCurrentUser:n}=e,r=n?"Me":np(t),{city:i,state:a}=t,s=i&&a?`${i}, ${a}`:i?`${i}`:a?`${a}`:null;return Gh(t)?(()=>{const e=ip(t),n=ap(t),r=c.createElement("span",{className:"user-list-item-container component-bg-with-hover-feedback border-accent"},c.createElement("span",{className:"user-list-avatar-container"},c.createElement(VP,{size:"medium",user:t,withLink:!1,isThoughtLeader:!0})),c.createElement("span",{className:"user-name-and-location-container"},c.createElement("span",{className:"user-full-name"},e),c.createElement("span",{className:"user-location secondary-text-color"},n)),c.createElement("span",{className:"user-list-item-action-container"},c.createElement("span",{className:"btn btn-primary-color btn-small-tall"},"View Ideas")));return c.createElement(iT,{to:`/users/${t.user_id}/public_profile`,className:"",child:r,scrollToTop:!0,noTextDecoration:!0})})():(()=>{const n=c.createElement("span",{className:"user-list-item-container component-bg-with-hover-feedback border-accent"},c.createElement("span",{className:"user-list-avatar-container"},c.createElement(VP,{size:"medium",user:t,withLink:!1,userIsCurrentUser:t.is_current_user,isThoughtLeader:!1})),c.createElement("span",{className:"user-name-and-location-container"},c.createElement("span",{className:"user-full-name"},r),s&&c.createElement("span",{className:"user-location"},s)),c.createElement(mJ,{userId:t.user_id,viewingContext:e.viewingContext||console.error("UserListItem missing viewingContext prop for connect request event")}));return c.createElement(iT,{to:`/users/${t.user_id}/public_profile`,className:"",child:n,scrollToTop:!0,noTextDecoration:!0})})()};var zhe=Object.defineProperty,Vhe=(e,t,n)=>(((e,t,n)=>{t in e?zhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Hhe extends C.exports.Component{constructor(){super(...arguments),Vhe(this,"_renderUserList",(()=>c.createElement("div",{className:"connections-list-container"},this._returnUserList().map((e=>c.createElement(Bhe,{key:`user-list-user-${e.user_id}`,user:e,isCurrentUser:this.props.currentUser.user_id===e.user_id,viewingContext:this.props.viewingContext})))))),Vhe(this,"_renderLoading",(()=>c.createElement(Dw,null))),Vhe(this,"_renderErrorMessage",(()=>c.createElement("div",{className:""},"An error occurred, try reloading the page."))),Vhe(this,"_renderNoUsersInList",(()=>c.createElement("div",{className:"no-users-in-list"},this.props.renderNoUsers()))),Vhe(this,"_isLoading",(()=>this.props.isLoading)),Vhe(this,"_wasError",(()=>this.props.isErrorGettingData)),Vhe(this,"_areNoUsersInList",(()=>!this._isLoading()&&0===this._returnUserList().length)),Vhe(this,"_returnUserList",(()=>this.props.userList))}render(){return this._wasError()?this._renderErrorMessage():this._isLoading()?this._renderLoading():this._areNoUsersInList()?this._renderNoUsersInList():this._renderUserList()}}const Whe=N(Xk,T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(Hhe);Xk(Hhe);var jhe=Object.defineProperty,Ghe=(e,t,n)=>(((e,t,n)=>{t in e?jhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class qhe extends C.exports.Component{constructor(){super(),Ghe(this,"_isLoading",(()=>this._returnImportConnectionsStore().isLoadingContacts)),Ghe(this,"_isContactsDataLoaded",(()=>"registeredUsers"in this._returnImportContactData())),Ghe(this,"_renderLoading",(()=>c.createElement(Dw,null))),Ghe(this,"_renderPage",(()=>this._isContactsDataLoaded()?c.createElement(OF,{className:"import-results-page page"},this._renderHeader(),this._renderContacts(),c.createElement("div",{style:{textAlign:"center",paddingBottom:"25px"}},c.createElement(iT,{to:this._isOnboarding()?"/portfolio/funding":Ln("dashboard"),className:"skel-btn skel-btn-primary-color btn-small-tall",child:"Continue"}))):null)),Ghe(this,"_renderHeader",(()=>c.createElement("div",{className:"import-header"},c.createElement(xc,{icon:"fa-check",colorClassName:"success-text-color",size:"small"}),c.createElement("span",{className:""},"Import Successful")))),Ghe(this,"_renderContacts",(()=>c.createElement("div",{className:"contact-import-list"},this._renderNonregisteredUsers(),this._renderRegisteredUsers()))),Ghe(this,"_renderNonregisteredUsers",(()=>c.createElement("div",{className:"non-registered-users-invite-list"},this._areUsersToInvite()?c.createElement("div",{className:"invite-users-emails"},c.createElement("div",{className:"heading"},c.createElement("h2",null,"Invite friends to join you on ",Xo)),this._renderInviteAll(),c.createElement("div",{className:"connections-list-container"},c.createElement("div",{className:"import-invite-list"},this._returnContactsToInvite().map((e=>this._renderNonregisteredUser(e)))))):this._renderNoContactsToInvite()))),Ghe(this,"_renderNonregisteredUser",(e=>{const{name:t,email:n}=e;return c.createElement("div",{key:`invite-user-import-email-${n}`,className:"user-list-item-container component-bg-with-hover-feedback border-accent"},c.createElement("div",{className:"invite-email-identifier"},nk(t)||""!==t?c.createElement("div",{className:"email-contact-identifier-container"},c.createElement("div",{className:"email-contact-name  "},t),c.createElement("div",{className:"contact-email-address secondary-text-color"},n)):c.createElement("div",{className:"contact-email-address email-address-only  "},n)),c.createElement("div",{className:"connection-request-container invite-to-nvstr-action-container"},this._renderInviteButton(n)))})),Ghe(this,"_renderInviteButton",(e=>this._wasInviteSentToEmail(e)?c.createElement(hx,{disabled:!0,transparent:!0,handleClick:()=>!1},"Sent"):this._isInviteSendingToEmail(e)?c.createElement(hx,{disabled:!0,onClick:()=>!1},"Sending"):c.createElement(hx,{onClick:this._bindEmailToInviteClickHandler(e)},"Invite"))),Ghe(this,"_renderInviteAll",(()=>c.createElement(hx,{className:"invite-all-unregistered-import-contacts-container",onClick:this._handleInviteAll},"Invite All"))),Ghe(this,"_logSendingInvite",(e=>{this.setState((t=>({_sendingInvitesEmailList:[...t._sendingInvitesEmailList,e]})))})),Ghe(this,"_clearSendingInviteStatus",(e=>{this.setState((t=>({_sendingInvitesEmailList:[...t._sendingInvitesEmailList.filter((t=>t!==e))]})))})),Ghe(this,"_logSentInvite",(e=>{this.setState((t=>({_sentInvitesEmailList:[...t._sentInvitesEmailList,e]})))})),Ghe(this,"_returnSendingInvitesEmailList",(()=>this.state._sendingInvitesEmailList)),Ghe(this,"_returnSentInvitesEmailList",(()=>this.state._sentInvitesEmailList)),Ghe(this,"_isInviteSendingToEmail",(e=>this._returnSendingInvitesEmailList().some((t=>t===e)))),Ghe(this,"_wasInviteSentToEmail",(e=>this._returnSentInvitesEmailList().some((t=>t===e)))),Ghe(this,"_inviteUserByEmail",(e=>(this._logSendingInvite(e),this.props.actions.sendUserInvite(e).then((t=>{const n=t&&t.data&&"Invite Friend - Repeat"===t.data.status,r=t&&t.data&&"Thank you. You can let your friend know that an invite is on the way!"===t.data.message;if(n){this._logSentInvite(e);const n="Could not send invite at this time. Please try again later.",r=t&&t.data&&t.data.message||n;this._showErrorSendingInviteModal(r)}if(r)this._logSentInvite(e);else{this._clearSendingInviteStatus(e);const n="Could not send invite at this time. Please try again later.",r=t&&t.data&&t.data.message||n;this._showErrorSendingInviteModal(r)}})).catch((e=>{this._showErrorSendingInviteModal("Could not send invite at this time. Please try again later."),console.error(e)}))))),Ghe(this,"_showErrorSendingInviteModal",(e=>{const t={contentComponent:bS(e),dismissable:!0,size:"wide"};this.props.actions.showModal(t)})),Ghe(this,"_handleInviteAll",(()=>{const e=this._returnEmailsToInvite().filter((e=>!this._isInviteSendingToEmail(e)&&!this._wasInviteSentToEmail(e))),t=e.length;this._logHandleInviteAllClick(t),e.forEach((e=>this._inviteUserByEmail(e)))})),Ghe(this,"_renderNoContactsToInvite",(()=>c.createElement("div",{className:"no-contacts-to-invite"},c.createElement("div",{className:"no-users"},"We couldn't find any ",Xo," users in your imported connections."),c.createElement("div",{className:"no-users"},"Invite your friends to join ",Xo,"!"),c.createElement("div",{className:"invite-friends-manual"},c.createElement(l4,{shareLinkContext:E2,placeholder:"Enter Email...",inviteContext:"Import Connections - No Contacts",hideHeading:!0}))))),Ghe(this,"_renderRegisteredUsers",(()=>c.createElement("div",{className:"friends-list"},this._areUsersToConnectWith()&&c.createElement("div",{className:"heading"},c.createElement("h2",null,"Connect with friends who are already on ",Xo),c.createElement(Whe,{userList:this._returnUsersToConnectTo(),renderNoUsers:this._renderNoUsers,viewingContext:"Import Connections"}))))),Ghe(this,"_renderNoUsers",(()=>null)),Ghe(this,"_bindEmailToInviteClickHandler",(e=>()=>this._handleInviteClick(e))),Ghe(this,"_handleInviteClick",(e=>{this._inviteUserByEmail(e),this._logHandleInviteClick()})),Ghe(this,"_areUsersToConnectWith",(()=>this._returnUsersToConnectTo().length>0)),Ghe(this,"_areUsersToInvite",(()=>this._returnContactsToInvite().length>0)),Ghe(this,"_returnUsersToConnectTo",(()=>this._returnImportContactData().registeredUsers||[])),Ghe(this,"_returnContactsToInvite",(()=>this._returnImportContactData().nonregisteredUsers||[])),Ghe(this,"_returnEmailsToInvite",(()=>this._returnContactsToInvite().map((e=>e.email)))),Ghe(this,"_returnImportContactData",(e=>this._returnImportConnectionsStore(e||this.props).contactsData)),Ghe(this,"_returnImportConnectionsStore",(e=>(e||this.props).importConnections||{})),Ghe(this,"_isOnboarding",(()=>Sp(this._returnCurrentUser()))),Ghe(this,"_returnCurrentUser",(()=>this.props.currentUser)),Ghe(this,"_logHandleInviteClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Invite From Imports",{})})),Ghe(this,"_logHandleInviteAllClick",(e=>{const t={"Count Of Invites":e};this.props.actions.logMetricsTrackingEvent("Clicked Invite All From Imports",t)})),this.state={_sendingInvitesEmailList:[],_sentInvitesEmailList:[]}}componentDidMount(){this.props.actions.getImportContacts()}render(){return this._isLoading()?this._renderLoading():this._renderPage()}}var Yhe=T((e=>({currentUser:e.currentUser,importConnections:e.importConnections})),(e=>({actions:I(WC,e)})))(qhe);const Khe=u.div`
  border: 1px solid ${({theme:e})=>e.themeColors.text};
  background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};

  .securities-filter-card-description {
    border-top: 1px solid ${({theme:e})=>e.themeColors.text};

    * {
      color: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Qhe=e=>{const{icon:t,title:n,description:r,colorScheme:i,name:a}=e.presetFilter,{position:s}=e;function d(){const t=mU[n=a]||console.error(`Preset Filter Card name: ${n} not found, cannot send to tracking`);var n;TC("Clicked Preset Filter Card",{Filter:t})(),e.handleClick(a)}function u(){e.handleMouseOver(a)}function h(){e.handleMouseOut(a)}return"small"!==e.size||e.isHovered?"small"===e.size&&e.isHovered?c.createElement("div",{className:"small-securities-filter-card-container small-securities-filter-card-description-container",style:l(o({},s),{background:i}),onClick:d,onMouseOut:h},c.createElement("div",{className:"small-securities-filter-card-description",style:{background:i}},c.createElement("div",{className:"securities-filter-card-description-text"},r))):c.createElement(Khe,{className:"securities-filter-card-container",style:s,onClick:d,onMouseOut:h},c.createElement("div",{className:"securities-filter-card-icon"},c.createElement(xc,{icon:t,size:"large"})),c.createElement("div",{className:"securities-filter-card-title-container"},c.createElement("div",{className:"securities-filter-card-title"},n)),c.createElement("div",{className:"securities-filter-card-description"},c.createElement("div",{className:"securities-filter-card-description-text"},r))):c.createElement("div",{className:"small-securities-filter-card-container",style:l(o({},s),{background:i}),onClick:d,onMouseOver:u},c.createElement("div",{className:"securities-filter-card-icon"},c.createElement(xc,{icon:t,size:"medium"})),c.createElement("div",{className:"small-securities-filter-card-title"},n))};var Zhe=Object.defineProperty,Xhe=(e,t,n)=>(((e,t,n)=>{t in e?Zhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Jhe extends C.exports.Component{constructor(){super(),Xhe(this,"changeToStartingPageBasedOnParams",(()=>{const e=fe(window.location.search),t=Math.max(0,parseFloat(e.preset_page)-1);"object"==typeof e&&e.preset_page&&!isNaN(t)&&this.setState((e=>({cardRowDisplaying:t})))})),Xhe(this,"handleMouseOver",(e=>{this.setState((t=>({hoveringPresetCard:e})))})),Xhe(this,"handleMouseOut",(()=>{this.setState((e=>({hoveringPresetCard:null})))})),Xhe(this,"handleResize",(e=>{let t=window.innerWidth>650?150:100,n=window.innerWidth>650?25:20,r=window.innerWidth>650?100:50;this.setState({width:"container"in this&&this.container&&this.container.offsetWidth||875,cardWidth:t,paddingBetweenCards:n,offsetToFitArrows:r})})),Xhe(this,"prevFilterList",(()=>{TC("Clicked Previous Filter Preset Page",{Page:this.state.cardRowDisplaying})(),this.setState({cardRowDisplaying:this.state.cardRowDisplaying-1})})),Xhe(this,"nextFilterList",(()=>{TC("Clicked Next Filter Preset Page",{Page:this.state.cardRowDisplaying})(),this.setState({cardRowDisplaying:this.state.cardRowDisplaying+1})})),Xhe(this,"cardsInARow",(()=>Math.floor((this.state.width-this.state.offsetToFitArrows)/(this.state.cardWidth+this.state.paddingBetweenCards)))),Xhe(this,"determineCardPosition",((e,t)=>{const n=this.state.width,r=this.state.cardWidth+this.state.paddingBetweenCards,i=this.cardsInARow(),a=(n-i*r)/2+this.state.paddingBetweenCards/2,s=[a];(e=>{for(let t=1;t<i;t++)e.push(r*t+a)})(s);const o=e%i,l=Math.floor(e/i);return{top:"25px",left:`${s[o]+(l-t)*n}px`}})),this.state={cardWidth:150,paddingBetweenCards:25,offsetToFitArrows:100,cardRowDisplaying:0,width:"container"in this&&this.container.offsetWidth||875,hoveringPresetCard:null}}componentDidMount(){let e=window.innerWidth>650?150:125,t=window.innerWidth>650?25:20,n=window.innerWidth>650?100:50;this.setState({width:"container"in this&&this.container.offsetWidth||875,cardWidth:e,paddingBetweenCards:t,offsetToFitArrows:n}),this.changeToStartingPageBasedOnParams(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e,t){const n=Object.keys(this.props.presetFilterList).length;Math.ceil(n/this.cardsInARow())-1<this.state.cardRowDisplaying&&this.setState((e=>({cardRowDisplaying:e.cardRowDisplaying-1})))}render(){const e=this.props.presetFilterList,t=Object.keys(e);return c.createElement("div",{className:"securities-filter-card-list-container",ref:e=>{this.container=e},style:"small"===this.props.presetFilterCardSize?{height:"100px"}:{}},c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-left-arrow-container"},0!==this.state.cardRowDisplaying&&c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 5px 0 0"},skinny:!0,showShadow:!0,icon:"fa-chevron-left",handleClick:this.prevFilterList})),c.createElement("div",{className:"securities-filter-card-list"},t.map(((t,n)=>c.createElement(Qhe,l(o({key:`filter-${t}`},e[t]),{name:t,position:this.determineCardPosition(n,this.state.cardRowDisplaying),size:this.props.presetFilterCardSize,handleClick:this.props.handleFilterCardClick,isHovered:this.state.hoveringPresetCard===t,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut}))))),c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-right-arrow-container"},this.state.cardRowDisplaying<Math.ceil(t.length/this.cardsInARow())-1&&c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 0 0 4px"},skinny:!0,showShadow:!0,icon:"fa-chevron-right",handleClick:this.nextFilterList})))}}class epe extends C.exports.Component{render(){return c.createElement("div",{className:"portfolio-explorer-preset-filter-container"},c.createElement(yG,{className:"heading"},"Find new investment ideas"),c.createElement(Jhe,{presetFilterList:this.props.presetFilterList,presetFilterCardSize:this.props.presetFilterCardSize,handleFilterCardClick:this.props.handleFilterCardClick}),c.createElement("div",{className:"fundamental-data-provider-disclaimer secondary-text-color"},"Fundamental data provided by S&P Capital IQ"))}}const tpe=e=>{const{filterName:t}=e;return c.createElement("div",{className:"security-filter-selection selectable-item",onClick:function(){return e.handleClick(t)}},t)},npe=(e,t,n,r,i)=>{const a={"Create Custom Screen":{presetFilter:{title:"Create Custom Screen",description:"Search for stocks based on what's important to you.",name:"defineMyOwn",icon:"fa-user",colorScheme:"#AFAFAF"},filters:[]},"Growth Stocks":{presetFilter:{title:"Growth Stocks",description:"Rapidly growing revenue in recent years",name:"growthStocks",icon:"fa-tree",colorScheme:"#3db735"},filters:[{name:"Projected Revenue Growth",operator:">",value:20},{name:"Projected Revenue Growth",operator:"<",value:200},{name:"Market Cap",operator:">",value:1e3},{name:"Revenue LTM",operator:">",value:1e3}]},"Friends' Ideas":{presetFilter:{title:"Friends' Ideas",description:"Your trusted connections' ideas",name:"friendsIdeasStocks",icon:"fa-lightbulb-o",colorScheme:"#2d3e55"},filters:[{name:"On Connections' Watchlists",operator:"||",ids:e.connections}]},"Famous Investors":{presetFilter:{title:"Famous Investors",description:"Well-known Thought Leaders' ideas",name:"famousInvestorsStocks",icon:"fa-compass",colorScheme:"#eecc06"},filters:[{name:"Owned by Thought Leaders",operator:"||",ids:e.thought_leaders}]},"Value Stocks":{presetFilter:{title:"Value Stocks",description:"Priced inexpensively given earnings power",name:"valueStocks",icon:"fa-money",colorScheme:"#6f6f86"},filters:[{name:"Forward P/E",operator:"<",value:12},{name:"Forward P/E",operator:">",value:0},{name:"Market Cap",operator:">",value:1e3},{name:"Revenue LTM",operator:">",value:1e3}]},"Juicy Dividends":{presetFilter:{title:"Juicy Dividends",description:"High dividend yields",name:"dividends",icon:"fa-percent",colorScheme:"#ff9c22"},filters:[{name:"Dividend Yield",operator:">",value:3},{name:"Market Cap",operator:">",value:1e3},{name:"Revenue LTM",operator:">",value:1e3}]},"Price / Tangible Book":{presetFilter:{title:"Price / Tangible Book",description:"Trading at less than tangible book value",name:"discountToBookValue",icon:"fa-book",colorScheme:"#7a4e19"},filters:[{name:"Price / Tangible Book",operator:"<",value:1},{name:"Price / Tangible Book",operator:">",value:0},{name:"Market Cap",operator:">",value:1e3},{name:"Revenue LTM",operator:">",value:1e3}]},"Collective Intelligence":{presetFilter:{title:"Collective Intelligence",description:"Stocks that people similar to you are investing in",name:"likeMeStocks",icon:"fa-users",colorScheme:"#028fea"},filters:[{name:"Collective Intelligence",operator:"||",ids:[""]}]},"Technology Sector":{presetFilter:{title:"Technology Sector",description:"See stocks or ETFs in the technology sector",name:"techSector",icon:"fa-hdd-o",colorScheme:"#6f6f86"},filters:[{name:"Sectors",operator:"||",ids:ape(e.sectors,[25,26,27,66,70,103,121,130])}]},"Financial Sector":{presetFilter:{title:"Financial Sector",description:"See stocks or ETFs in the financial sector",name:"financeSector",icon:"fa-university",colorScheme:"#6BB166"},filters:[{name:"Sectors",operator:"||",ids:ape(e.sectors,[46,47,67,71,72,74,76,90,109,118,120,124])}]},"Healthcare Sector":{presetFilter:{title:"Healthcare Sector",description:"See stocks or ETFs in the healthcare sector",name:"healthcareSector",icon:"fa-heartbeat",colorScheme:"#ff412c"},filters:[{name:"Sectors",operator:"||",ids:ape(e.sectors,[14,60,78,81,82,83,105,106,107,122])}]},"Energy Sector":{presetFilter:{title:"Energy Sector",description:"See stocks or ETFs in the energy sector",name:"energySector",icon:"fa-plug",colorScheme:"#eecc06"},filters:[{name:"Sectors",operator:"||",ids:ape(e.sectors,[6,23,31,36,37,38,39,40,55,68,95,96,97,98,137])}]},"Diversifying Stocks":{presetFilter:{title:"Diversifying Stocks",description:"Stocks with low correlation to your existing ideas",name:"diversifyingStocks",icon:"fa-pie-chart",colorScheme:"#111111"},filters:[{name:"Avg. Correlation",operator:"<",value:20},{name:"Market Cap",operator:">",value:1e3},{name:"Collective Intelligence",operator:"||",ids:[""]}]}},s=["Juicy Dividends","Price / Tangible Book","Create Custom Screen","Technology Sector","Financial Sector","Healthcare Sector","Energy Sector"],o=["Value Stocks","Famous Investors","Diversifying Stocks","Collective Intelligence","Growth Stocks","Friends' Ideas",...s],l=["Value Stocks","Famous Investors","Diversifying Stocks","Collective Intelligence","Growth Stocks","Friends' Ideas",...s],c={2:["Value Stocks","Diversifying Stocks","Famous Investors","Collective Intelligence","Growth Stocks","Friends' Ideas",...s],3:l,4:o},d=c[r.toString()]||c[4],u=[];d.forEach((e=>{!t&&"Friends' Ideas"===e||!n&&"Diversifying Stocks"===e||u.push(a[e])}));const h={};return u.forEach((e=>{var t,n;t=e.presetFilter,n=e.filters,h[t.name]={name:t.name,presetFilter:t,filters:n}})),h},rpe=e=>({"On Connections' Watchlists":"connections","Owned by Thought Leaders":"thought_leaders"}[e]||e.toLowerCase().split(" ").join("_")),ipe=e=>{const t={"Revenue LTM":"expression","Price / Earnings":"expression","Forward P/E":"expression","Forward P/E Next Yr":"expression","Price / Tangible Book":"expression","Market Cap":"expression","Dividend Yield":"expression","Projected Revenue Growth":"expression","On Connections' Watchlists":"selection",Sectors:"selection","Owned by Thought Leaders":"selection","Net Debt":"expression",Price:"expression","Collective Intelligence":"selection","Avg. Correlation":"expression"}[e];return t||null},ape=(e,t)=>e.filter((e=>t.includes(e.sector_id))),spe=e=>{const t=e.filterNameQuery||"",n=["Price / Earnings","Forward P/E","Forward P/E Next Yr","Price / Tangible Book","Market Cap","Net Debt","Price","Sectors","On Connections' Watchlists","Owned by Thought Leaders","Revenue LTM","Projected Revenue Growth","Dividend Yield","Avg. Correlation"].filter((e=>e.slice(0,t.length).toLowerCase()===t.toLowerCase()));return c.createElement("div",{className:"securities-filter-list"},n.map((t=>c.createElement(tpe,{key:`${t}-selection`,filterName:t,handleClick:e.handleFilterNameSelection}))),0===n.length&&c.createElement("div",{className:"securities-filter-list-empty"},"No matches found."))},ope=e=>{const t=e.inputs[1],n=e.inputs[2];return c.createElement("div",null,c.createElement("div",{className:"operator-toggle-container"},Rh(t,e.returnInputDefaultProps(),t.name)),c.createElement("div",{className:"value-input-container transparent-input-bg"},Rh(n,l(o({},e.returnInputDefaultProps()),{fieldName:e.filterName}),n.name)))},lpe=e=>{const t=e.inputs[3];return c.createElement("div",null,Rh(t,e.returnInputDefaultProps(),t.name))},cpe=u.div`
  text-align: center;
  button {
    padding: 4px 8px;
  }
`,dpe=e=>{const t=e.formType;return c.createElement("div",{className:"securities-filter-list"},{expression:c.createElement(ope,{filterName:e.filter.name,inputs:e.inputProps.inputs,returnInputDefaultProps:e.inputProps.returnInputDefaultProps}),selection:c.createElement(lpe,{inputs:e.inputProps.inputs,returnInputDefaultProps:e.inputProps.returnInputDefaultProps})}[t],c.createElement(cpe,null,c.createElement(hx,{className:"create-filter-btn-container",onClick:"id"in e.filter?e.handleUpdateFilter:e.handleCreateFilter},"Done")))},upe=e=>{const t=!!e.filterName,n=e.filterName;return c.createElement("div",{className:"securities-filter-wrapper card-shadow-styling",key:"filter-null"},c.createElement("div",{className:"securities-filter-container securities-filter-container-create main-bg-color-match border-accent"},t?c.createElement("div",{className:`securities-filter-name-container ${n.length>20&&"securities-filter-name-small"}`},n,c.createElement(aS,{customClass:"no-shadow",style:{position:"absolute",top:"5px",right:"3px",height:"20px",width:"20px"},icon:"fa-times-thin",size:"medium",colorClassName:"secondary-text-color",handleClick:e.cancelCreateFilter})):(()=>{const t=e.inputProps.inputs[0];return c.createElement("div",null,c.createElement("div",{className:"securities-filter-name-container",ref:n=>e.inputProps.createInputRef(t.name,n)},Rh(t,e.inputProps.returnInputDefaultProps.call(void 0),t.name)),c.createElement("div",{className:"securities-filter-close-button-container"},c.createElement(aS,{customClass:"no-shadow main-bg-color-stroke-match",style:{position:"absolute",top:"10px",right:"3px"},icon:"fa fa-times fa-times-thin",size:"medium",colorClassName:"secondary-text-color",handleClick:e.cancelCreateFilter})))})()),c.createElement("div",{className:"securities-filter-list-container main-bg-color-match selectable-dropdown-list-color-styling border-accent"},t?c.createElement(dpe,{filter:e.filter,handleCreateFilter:e.handleCreateFilter,userEditing:e.userEditing,cancelCreateFilter:e.cancelCreateFilter,removeFilter:e.removeFilter,handleUpdateFilter:e.handleUpdateFilter,inputProps:e.inputProps,formType:ipe(n)}):c.createElement(spe,{filterNameQuery:e.filterNameQuery,inputProps:e.inputProps,handleFilterNameSelection:e.handleFilterNameSelection})))},hpe=e=>{const t=e.filter,n=e.filter.operator,r=e.filter.value,i=e.filter.ids,a=e.filter.name,s=">"===n||"<"===n,o=rpe(a),l=!s&&e.activeFilter||s;return c.createElement("div",{className:"securities-filter-wrapper card-shadow-styling"},c.createElement("div",{className:"securities-filter-container main-bg-color-match border-accent "+(l?"securities-filter-container-create":"")},c.createElement("div",{className:"securities-filter-name-container"},c.createElement("div",{className:"securities-filter-name securities-filter-name-small"},a),c.createElement("div",{className:"securities-filter-edit-button-container"},c.createElement(aS,{customClass:"no-shadow main-bg-color-stroke-match",style:{position:"absolute",top:"1px",right:"-6px",height:"20px",width:"20px"},icon:"fa fa-times fa-times-thin",size:"medium",colorClassName:"secondary-text-color",handleClick:()=>e.removeFilter(t)})))),s&&c.createElement("div",{className:"securities-filter-properties-container component-bg border-accent"},c.createElement("div",{className:"securities-filter-properties"},c.createElement("div",{className:"securities-filter-operator"},">"===n?"Greater than":"Less than"),c.createElement("div",{className:"securities-filter-value"},(u=r,((e,t)=>t||0===t?Xm(e)in Zm?Zm[Xm(e)](t):"":"N/A")(Qv(d=a,!0),sg(d,u)))))),e.activeFilter&&!s&&c.createElement("div",{className:"securities-filter-properties-container component-bg securities-filter-selection-properties-container scrollable border-accent"},c.createElement("div",{className:"securities-filter-properties"},i.map(((e,t)=>c.createElement("div",{key:`${a}-selection-${t}`,className:"securities-filter-selection-values"},eg(e,o)))))));var d,u},ppe=e=>{const t=e.name,n=e.label,r=e.getValue(t)||"",i=e.placeholder,a=e.getValueNotation(e.fieldName||t),s=!!e.getErrorMessage(t),o=s?e.getErrorMessage(t):"";return c.createElement("div",{className:"basic-text-field"},c.createElement("fieldset",{className:`text-field ${"small"===e.size?"field-small":""} `},c.createElement("input",{type:"text",ref:e[t],name:t,onChange:n=>{e.handleChange(n,t)},value:r,placeholder:i}),!!n&&c.createElement("label",{htmlFor:e.label},n),c.createElement("div",{className:"after "+(s?"error-underline":"")}),!!a&&c.createElement("p",{className:"value-notation"},`in ${a}`),c.createElement("p",{className:"text-field-error-message"},o)))},mpe=e=>{const t=e.value,n=e.obj,r=e.selected,i=e.inputName;return c.createElement("div",{className:`selection-option ${r?"selected":""} `,onClick:()=>{e.handleSelectionClick(i,n)}},c.createElement("div",{className:"selection-icon-container"},r?c.createElement(xc,{icon:"fa-check",color:"#3db735",size:"small"}):c.createElement("div",null)),c.createElement("div",{className:"selection-value-container"},t))},gpe=e=>{e.style;const t=e.name;e.label,e.note;const n=e.getValue(t)||[];let r,i,a;e.fetchSelectionOptions?(i=e.getSelectionOptions(),a=e.getSelectionFieldName(),r=i?i.map((t=>e.getDisplaySelectionLabel(a,t))):[]):r=e.selectionOptions;const s=!!e.getErrorMessage(t),o=s?e.getErrorMessage(t):"",l=s?"error-input":"",d="styling"in e&&e.styling||"selection-field",u=(t,r)=>e.isSelected(t,i,n)||ak(r,n);return r?c.createElement("fieldset",{className:`${d} scrollable`},c.createElement("div",{name:t,className:l},r.map(((n,r)=>c.createElement(mpe,{key:`${t}-${r}`,obj:e.fetchSelectionOptions&&i[r],value:n,inputName:t,handleSelectionClick:e.handleSelectionClick,selected:u(r,n)})))),s&&c.createElement("p",{className:"text-field-error-message"},o)):c.createElement("div",null,"Loading")};var ype=Object.defineProperty,_pe=(e,t,n)=>(((e,t,n)=>{t in e?ype(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const fpe=u.div`
  .securities-filter-container {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
    border: 1px solid ${({theme:e})=>e.themeColors.border};
  }
  .securities-filter-properties-container {
    background-color: ${({theme:e})=>e.themeColors.component};
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    border-top: none;
  }
  .securities-filter-list-container {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    border-top: none;
  }
`;class vpe extends C.exports.Component{constructor(){super(),_pe(this,"setFilterPropertiesToState",(e=>{const t={name:e.name};"operator"in e&&(t.operator=e.operator),"value"in e&&(t.filterValue=e.value),"ids"in e&&(t.selection=e.ids),this.setState((n=>({filterName:e.name,formData:o({},t)})))})),_pe(this,"handleCreateFilter",(()=>{const e=this.state.formData,t="selection"in e||"selection"===ipe(this.state.filterName);if(t){if(!e.selection||e.selection&&0===e.selection.length)return this.setState((e=>({errors:l(o({},this.state.errors),{selection:"Make a selection."})}))),!1}else{if(!_h.call(this))return!1}const n={name:this.state.filterName,operator:"selection"in this.state.formData?"||":this.state.formData.operator,[t?"ids":"value"]:t?this.state.formData.selection:this.state.formData.filterValue};this.props.filterProps.createFilter(n),this.handleEditStop(n),this.props.filterProps.cancelCreateFilter()})),_pe(this,"handleUpdateFilter",(()=>{const e=this.state.formData,t="selection"in e||"selection"===ipe(this.state.filterName);if(t){if(e.selection&&0===e.selection.length)return this.setState((e=>({errors:l(o({},this.state.errors),{selection:"Make a selection."})}))),!1}else{if(!_h.call(this))return!1}const n={id:"filter"in this.props?this.props.filter.id:null,name:this.state.filterName,operator:"selection"in e?"||":e.operator,[t?"ids":"value"]:t?e.selection:e.filterValue};this.props.filterProps.updateFilter(n),this.handleEditStop(),this.props.filterProps.cancelCreateFilter()})),_pe(this,"clearCreateFilterForm",(()=>{this.props.filterProps.cancelCreateFilter(),this.setState({filterName:null,formData:{},editing:!1})})),_pe(this,"handleFilterNameSelection",(e=>{this.setState(((t,n)=>({filterName:e,formData:{name:e}})))})),_pe(this,"handleEditClick",(()=>{this.setState((e=>({editing:!0})))})),_pe(this,"handleEditStop",(()=>{this.setState((e=>({editing:!1})))})),_pe(this,"cancelCreateFilter",(()=>{this.handleEditStop(),this.props.filterProps.cancelCreateFilter()})),_pe(this,"returnInputDefaultProps",(()=>({handleToggleClick:Nh.bind(this),handleChange:Sh.bind(this),handleSelectionClick:Dh.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getSelectionOptions:function(){const e=this.state.filterName;if(e){const t=rpe(e);return this.props.portfolioExplorer.selections[t]}}.bind(this),getSelectionFieldName:function(){const e=this.state.filterName;return rpe(e)}.bind(this),getDisplaySelectionLabel:function(e,t){return eg(t,e)}.bind(this),getValueNotation:function(e){return{1e12:"trillions",1e9:"billions",1e6:"millions",1e3:"thousands",100:"hundreds"}[sg(e)]||null}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this),isSelected:function(e,t,n){return!1!==uk(Object.keys(t[e]).filter((e=>"id"==e.slice(e.length-2,e.length)))[0],t[e],n)}}))),_pe(this,"createInputRef",((e,t)=>{this[e]=t})),_pe(this,"inputProps",(()=>({returnInputDefaultProps:this.returnInputDefaultProps,createInputRef:this.createInputRef,inputs:this.state.inputs}))),_pe(this,"removeFilter",(()=>{this.props.filterProps.removeFilter(this.props.filter)})),_pe(this,"renderComponent",(()=>this.props.editMode||this.state.editing?c.createElement(upe,{userEditing:this.state.editing,filter:o(o({},this.props.filter),this.state.formData),filterName:this.state.filterName,filterNameQuery:this.state.formData.filterNameQuery,handleCreateFilter:this.handleCreateFilter,cancelCreateFilter:this.cancelCreateFilter,handleUpdateFilter:this.handleUpdateFilter,removeFilter:this.removeFilter,clearCreateFilterForm:this.clearCreateFilterForm,handleFilterNameSelection:this.handleFilterNameSelection,inputProps:this.inputProps()}):c.createElement(hpe,{filter:this.props.filter,editing:this.state.editing,activeFilter:this.props.filter.name===this.props.filterProps.activeFilter,removeFilter:this.removeFilter,handleEditClick:this.handleEditClick,handleFilterHoverOrClick:this.props.filterProps.handleFilterHoverOrClick,handleFilterHoverLeave:this.props.filterProps.handleFilterHoverLeave}))),_pe(this,"handleFilterClick",(e=>{this.state.editing||this.setState((e=>({editing:!0})))})),this.state={filterName:null,formData:{},errors:{},inputs:[{type:ppe,name:"filterNameQuery",props:{placeholder:"Search..."}},{type:Nx,typeName:"Toggle",name:"operator",required:!0,props:{values:[">","<"],selectionValues:["Greater Than","Less Than"],selectionValuesClass:"filter-operator-toggle"}},{type:ppe,typeName:"BasicTextField",name:"filterValue",required:!0,props:{placeholder:"Enter a value..."}},{type:gpe,name:"selection",props:{fetchSelectionOptions:!0,selectionOptions:[],selectionValuesClass:"filter-operator-toggle"}}],editing:!1}}componentDidMount(){this.setFilterPropertiesToState(this.props.filter),this.props.editMode&&this.filterNameQuery&&this.filterNameQuery.children&&this.filterNameQuery.children[0].children&&this.filterNameQuery.children[0].children[0].children[0]&&this.filterNameQuery.children[0].children[0].children[0].focus()}render(){return c.createElement(fpe,{ref:e=>this.filterContainer=e,className:"securities-filter-wrapper-container",onClick:this.handleFilterClick},this.renderComponent())}}var Epe=T((e=>({portfolioExplorer:e.portfolioExplorer})),null)(vpe),bpe=Object.defineProperty,Cpe=(e,t,n)=>(((e,t,n)=>{t in e?bpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class xpe extends C.exports.Component{constructor(e){super(),Cpe(this,"startCreatingFilter",(()=>{TC("Clicked Add Filter")(),this.setState({isCreatingFilter:!0})})),Cpe(this,"cancelCreateFilter",(()=>{TC("Clicked Cancel Create Filter")(),this.setState({isCreatingFilter:!1})})),Cpe(this,"handleFilterHoverOrClick",(e=>{this.state.activeFilter!==e&&this.setState(((t,n)=>({activeFilter:t.activeFilter!==e?e:null})))})),Cpe(this,"handleFilterHoverLeave",(()=>{this.setState({activeFilter:null})})),Cpe(this,"filterProps",(()=>({createFilter:this.props.filterConstructionProps.createFilter,updateFilter:this.props.filterConstructionProps.updateFilter,removeFilter:this.props.filterConstructionProps.removeFilter,isCreatingFilter:this.state.isCreatingFilter,activeFilter:this.state.activeFilter,handleFilterHoverOrClick:this.handleFilterHoverOrClick,handleFilterHoverLeave:this.handleFilterHoverLeave,cancelCreateFilter:this.cancelCreateFilter}))),this.state={filters:[...e.presetFilters],isCreatingFilter:0===e.presetFilters.length&&0===e.securitiesLength,activeFilter:null}}componentDidUpdate(e,t){0!==e.securitiesLength||0!==e.presetFilters.length||e.filters.length===this.props.filters.length&&e.securitiesLength===this.props.securitiesLength||this.setState((e=>({isCreatingFilter:!1})))}render(){const e=this.props.filters,t=this.filterProps();return c.createElement("div",{className:"portfolio-explorer-securities-filter-builder-container",style:{paddingTop:"16px"}},c.createElement("div",{className:"heading secondary-text-color"},"Filter by:"),c.createElement("div",{className:"filters-container"},e.map(((e,n)=>c.createElement(Epe,{key:`filter-${e.name}-${n}`,editMode:!1,filterProps:t,filter:e}))),this.state.isCreatingFilter&&c.createElement(Epe,{key:"creating-filter-form",editMode:!0,filterProps:t,filter:{name:null}}),!this.state.isCreatingFilter&&c.createElement(aS,{icon:"fa-plus",size:"medium",customClass:"add-filter-btn horizontal-list-change-page-btn",handleClick:this.startCreatingFilter,ignoreShadow:!0})))}}var wpe=Object.defineProperty,Spe=(e,t,n)=>(((e,t,n)=>{t in e?wpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class kpe extends C.exports.Component{constructor(){super(...arguments),Spe(this,"_renderChildrenWithConnectionDataProps",(()=>c.Children.map(this.props.children,(e=>c.cloneElement(e,this.returnThoughtLeaderDataProps()))))),Spe(this,"returnThoughtLeaderDataProps",(()=>l(o({},this.props),{thoughtLeaderListByUserId:this.returnThoughtLeaderListByUserId(),usersStore:this.returnUsersStore()}))),Spe(this,"returnThoughtLeaderListByUserId",(e=>{const t=this.returnUsersStore(e).userList;return Object.keys(t).filter((e=>qh(t[e]))).map((e=>parseInt(e,10)))})),Spe(this,"returnUsersStore",(e=>(e||this.props).users)),Spe(this,"_getThoughtLeadersData",(()=>{this.props.actions.fetchThoughtLeaders()}))}componentDidMount(){this.props.getThoughtLeadersData&&this._getThoughtLeadersData()}render(){return c.createElement("span",{className:"basic-connections-list-data-wrapper"},this._renderChildrenWithConnectionDataProps())}}const Tpe=T((e=>({users:e.users})),(e=>({actions:I(WC,e)})))(kpe);var Ipe=Object.defineProperty,Npe=(e,t,n)=>(((e,t,n)=>{t in e?Ipe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Ape extends C.exports.Component{constructor(){super(),Npe(this,"_renderChildrenWithConnectionDataProps",(()=>c.Children.map(this.props.children,(e=>c.cloneElement(e,this.returnConnectionDataProps()))))),Npe(this,"returnConnectionDataProps",(()=>l(o({},this.props),{isLoading:this.props.useInitialLoading?this.isInitialLoad():this.isLoading(),isInitialLoad:this.isInitialLoad(),isLoadingIgnoreInitialLoad:this.isLoading(),connectionsListByUserId:this.returnConnectionsByUserId(),userConnectionStore:this.returnUserConnectionsStore(),connectionsForUserId:this._returnUserId()}))),Npe(this,"isLoading",(e=>GB(this._returnUserId(),this.returnUserConnectionsStore(e)))),Npe(this,"isInitialLoad",(()=>this.state._isInitialLoadRunning)),Npe(this,"returnConnectionsByUserId",(e=>YB(this._returnUserId(),this.returnUserConnectionsStore(e)))),Npe(this,"returnUserConnectionsStore",(e=>(e||this.props).userConnections)),Npe(this,"_returnUserId",(()=>this.props.userId||this.returnCurrentUserId())),Npe(this,"returnCurrentUserId",(()=>yp(this.returnCurrentUser()))),Npe(this,"returnCurrentUser",(()=>this.props.currentUser)),Npe(this,"_shouldHideWhenLoading",(()=>this.props.hideWhenLoading)),Npe(this,"_getUserConnectionsData",(()=>{this.props.actions.getUserConnections(this._returnUserId())})),Npe(this,"_determineIfInitialLoadCompleted",(e=>{this.isInitialLoad()&&this.isLoading(e)&&!this.isLoading()&&this.setState((()=>({_isInitialLoadRunning:!1})))})),this.state={_isInitialLoadRunning:!0}}componentDidMount(){this.props.getUserConnectionsData&&this._getUserConnectionsData()}componentDidUpdate(e){this.isInitialLoad()&&this._determineIfInitialLoadCompleted(e)}render(){return this.isLoading()&&this.props.showLoading?this._shouldHideWhenLoading()?null:this.props.customLoadingComponent||c.createElement(_e,{icon:"fading-3balls",size:"small"}):c.createElement("span",{className:"basic-connections-list-data-wrapper"},this.props.useAsLoadingWrapper?this.props.children:this._renderChildrenWithConnectionDataProps())}}const Ppe=T((e=>({currentUser:e.currentUser,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(Ape),Dpe=e=>{const{className:t,ideas:n,filters:r,thoughtLeaderListByUserId:i,connectionsListByUserId:a,isLoading:s,hideIfNA:o,renderInLabel:l,containerClassName:d,labelClassName:u,labelText:h,valueClassName:p}=e,m=r?(y=n,"thought_leaders"===(g=r)[0]?(e=>e.filter((e=>i.includes(e.user_id))))(y):"connections"===g[0]?(e=>e.filter((e=>a.includes(e.user_id))))(y):void Uk("Unknown filter supplied",!0)):n;var g,y;const _=()=>c.createElement("div",{className:`ideas-list-data-display-container ${t||""}`},m.map((e=>c.createElement(gP,{key:`ideas-list-data-display-${e.user_id}-${e.idea_id}`,userId:e.user_id},c.createElement(WL,{displayNameStyle:"fullName",withLink:!1,useYou:!0})))));return s?c.createElement(_e,{icon:"fading-3balls",size:"small"}):o&&0===m.length?null:l?c.createElement("div",{className:`${d}`},c.createElement("div",{className:`${u}`},h),c.createElement("div",{className:`${p}`},_())):_()},Ope=({securityId:e})=>{const{symbol:t}=IH(e),{price:n}=tQ(e);return c.useEffect((()=>(t&&py.addTempSecurities([{id:e,symbol:t}]),()=>{t&&py.removeTempSecurities([t])})),[t]),c.useEffect((()=>{}),[]),c.createElement("span",null,n)},Lpe=e=>{const{propertyDisplayName:t,propertyKeyName:n}=e,r=["revenue_ltm","backward_pe_ratio","forward_pe_ratio_this_year","forward_pe_ratio_next_year","forward_pe_ratio_next_next_year","price_to_tangible_book_value","market_cap","dividend_yield","analyst_2yr_growth_projection","net_debt","price","current_price","collective_intelligence","correlation"].includes(n),i={revenue_ltm:ej,backward_pe_ratio:ej,forward_pe_ratio_this_year:ej,forward_pe_ratio_next_year:ej,forward_pe_ratio_next_next_year:ej,price_to_tangible_book_value:ej,market_cap:ej,dividend_yield:ej,analyst_2yr_growth_projection:ej,net_debt:ej,price:Ope,current_price:Ope,sectors:oB,connections:[wG,Ppe],thought_leaders:[wG,Tpe],collective_intelligence:null,correlation:null}[n],a=l(o({},e),{hideIfNA:!0,property:n,className:"",renderInLabel:!0,containerClassName:"filter-field-container",labelClassName:"field",labelText:t,valueClassName:"field-value "+(r?"large-field-value":"")}),s={sectors:oY,connections:Dpe,thought_leaders:Dpe,revenue_ltm:null,backward_pe_ratio:null,forward_pe_ratio_this_year:null,forward_pe_ratio_next_year:null,forward_pe_ratio_next_next_year:null,price_to_tangible_book_value:null,market_cap:null,dividend_yield:null,analyst_2yr_growth_projection:null,net_debt:null,price:null,current_price:null,collective_intelligence:null,correlation:null}[n];let d=null;if(s){const t=o(o({},e),{sectors:{className:"security-sector",property:"sector"},connections:{className:"",filters:["connections"]},thought_leaders:{className:"",filters:["thought_leaders"]}}[n]||{});d=c.createElement(s,t,null)}if(i){if(Array.isArray(i)){const e=c.createElement(i[1],a,d);return c.createElement(i[0],a,e)}return c.createElement(i,a,d)}return null},Rpe=(e,t)=>" "===e[t-1]?`${e.slice(0,11)}...`:`${e.slice(0,12)}...`,Fpe=u.div`
  background: ${({theme:e})=>e.themeColors.componentNoOpacity};
  border: 1px solid ${({theme:e})=>e.themeColors.border};

  .x-axis-label {
    color: ${({theme:e})=>e.themeColors.secondaryText};
  }
  p {
    color: ${({theme:e})=>e.themeColors.text};
  }
`,Mpe=u.div`
  font-size: 14px;
  line-height: 16px;

  button {
    padding: 4px 10px;
  }
`,Upe=u.div`
  font-size: 14px;
  line-height: 16px;

  button {
    width: 60px;
    padding: 4px 8px;
  }
`,$pe=u.div`
  background-color: ${({theme:e})=>e.themeColors.appBackground};
  color: ${({theme:e})=>e.themeColors.text};
  margin: 4px 0px;
  font-size: 14px;
  line-height: 18px;

  .field {
    font-size: 9px;
    line-height: 12px;
  }
`,Bpe=e=>{const{isLoading:t,security:n,position:r,width:i,currentUserHasEquity:a,hideSourceCard:s,handleSecurityCardCollapse:l,currentUserId:d,ideas:u,addIdea:h,filters:p,navigate:m}=e;if(t)return c.createElement(Fpe,{className:`\n          portfolio-explorer-security-container\n          portfolio-explorer-result-card-background\n          border-accent\n          idea-card\n          ${s?"hidden":""}\n        `,style:o({width:`${i||160}px`,height:"300px"},r||{})},c.createElement("span",{className:"tile-symbol"},c.createElement(_e,{icon:"fading-3balls",size:"medium"})));const g=r,y=n.security_id,_=n.symbol?n.symbol.toUpperCase():"",f=n.symbol.length>4?"long-symbol":"",v=n&&n.name?n.name.length>14?Rpe(n.name,14):n.name:"",E=n.is_halted,b=(t,n)=>{const r=o({panel:"security",securityId:y},n);e.expandSecurityCard(r)},C=e=>{l&&l(),m(`/orders?operation=${e.toLowerCase()}&security_id=${y}`)};return c.createElement(Fpe,{id:y,className:`\n        portfolio-explorer-security-container\n        border-accent\n        portfolio-explorer-result-card-background\n        idea-card\n        large-security-tile\n        ${s?"hidden":""}\n      `,style:o({width:`${e.width||160}px`,height:a?"325px":"300px"},g),onClick:b},c.createElement("p",{className:`tile-symbol ${f}  `},_),c.createElement("p",{className:"tile-company-name secondary-text-color"},v),c.createElement("div",{className:"large-security-info-container"},c.createElement(JK,{securityId:y,symbol:_,defaultTimePeriod:"one_year",showXAxisLabel:"1 Year",lockTimePeriod:!0,applyPaddingToYAxisMinMax:!0,chartStyle:"minimal"}),c.createElement($pe,{className:"security-filter-financials-container"},c.createElement("div",{className:"security-filter-financials gradient"},(()=>{const e=p&&p.length>0&&(1!==p.length||"Collective Intelligence"!==p[0].name&&"Avg. Correlation"!==p[0].name)?p.filter(((e,t)=>uk("name",e,p)==t)):[{name:"Price / Earnings"},{name:"Market Cap"},{name:"On Connections' Watchlists"}];return e.every((e=>"Price / Earnings"!==e.name))&&e.push({name:"Price / Earnings"}),e.every((e=>"Market Cap"!==e.name))&&e.push({name:"Market Cap"}),e})().map((e=>c.createElement(Lpe,{key:Qv(e.name,"reverse")+"_"+_,securityId:y,propertyDisplayName:e.name,propertyKeyName:Qv(e.name,"reverse")}))))),c.createElement(Mpe,null,US(d,y,u)?c.createElement(hx,{width:100,stopPropagation:!0,onClick:e=>{TC("Clicked View Idea",{"Stock Symbol":_,"Security ID":y,Context:"Security Card Button"})();b(0,{activeTab:"ideas"})}},My("view")):c.createElement(hx,{width:100,stopPropagation:!0,onClick:h},My("add"))),a&&!E&&c.createElement(Upe,{className:"portfolio-explorer-security-card-trade-buttons"},c.createElement(sx,{stopPropagation:!0,onClick:()=>{C("buy");TC("Clicked Trade Button In Porfolio Explorer Security Card",{Operation:"Buy","Security Id":y,"Security Symbol":_})()}},"Buy"),c.createElement(sx,{stopPropagation:!0,onClick:()=>{C("sell");TC("Clicked Trade Button In Porfolio Explorer Security Card",{Operation:"Sell","Security Id":y,"Security Symbol":_})()}},"Sell")),E&&c.createElement("div",{className:"portfolio-explorer-security-card-halted"},"Trading in this security is currently halted by the exchange.")))};var zpe=Object.defineProperty,Vpe=(e,t,n)=>(((e,t,n)=>{t in e?zpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Hpe extends C.exports.Component{constructor(){super(...arguments),Vpe(this,"getSecurity",(()=>this.props.securitiesData[this.props.securityId]||{})),Vpe(this,"handleSwipe",(()=>{const e=this.getSecurity(),t={"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Drag Security Card"};TC("Clicked Add Idea",t)(),this.props.handleSwipe(this.props.securityId)})),Vpe(this,"handleAddIdea",(()=>{const e=this.getSecurity(),t={"Stock Symbol":e.symbol,"Security ID":e.security_id,Context:"Security Card Button"};TC("Clicked Add Idea",t)(),this.props.handleSwipe(this.props.securityId)}))}render(){const e=this.getSecurity();return c.createElement(Bpe,{isLoading:!e.symbol,security:e,ideas:this.props.ideas,filters:this.props.filters,width:this.props.width,position:this.props.position,currentUserId:this.props.currentUserId,currentUserHasEquity:this.props.currentUserHasEquity,handleSwipe:this.handleSwipe,addIdea:this.handleAddIdea,expandSecurityCard:this.props.expandSecurityCard,navigate:this.props.navigate,actions:this.props.actions})}}var Wpe=Object.defineProperty,jpe=(e,t,n)=>(((e,t,n)=>{t in e?Wpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Gpe=u.div`
  background-color: ${({theme:e})=>e.themeColors.appBackground};
`;class qpe extends C.exports.Component{constructor(){super(...arguments),jpe(this,"prevFilterList",(()=>{this.props.changeFilterResultDisplayRow("Previous")})),jpe(this,"nextFilterList",(()=>{this.props.changeFilterResultDisplayRow("Next")})),jpe(this,"determineCardPosition",((e,t)=>{const n=this.props.width,r=this.props.cardWidth+this.props.paddingBetweenCards,i=this.props.cardsInARow(),a=(n-i*r)/2-(n>=850?0:15)+this.props.paddingBetweenCards/2,s=[a];(e=>{for(let t=1;t<i;t++)e.push(r*t+a)})(s);const o=e%i,l=Math.floor(e/i);return{top:"15px",left:`${s[o]+(l-t)*n}px`}}))}render(){const e=this.props.securities;return c.createElement("div",{className:"clearfix"},c.createElement("div",{className:"portfolio-explorer-securities-list-container",style:{height:"330px"},ref:e=>{this.securityListContainer=e}},c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-left-arrow-container"},0!==this.props.cardRowDisplaying&&c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 5px 0 0"},skinny:!0,showShadow:!0,icon:"fa-chevron-left",handleClick:this.prevFilterList})),c.createElement(Gpe,{className:"left-security-card-slide-cover "}),e.map(((e,t)=>c.createElement(Hpe,{key:`portfolio-explorer-securities-list-${e}`,width:this.props.cardWidth,filters:this.props.filters,ideas:this.props.ideas.ideaList,currentUserId:this.props.currentUser.user_id,currentUserHasEquity:this.props.currentUser.equity>0,securityId:e,securitiesData:this.props.securitiesData.lookup,handleSwipe:this.props.handleSwipe,securityIndex:t,position:this.determineCardPosition(t,this.props.cardRowDisplaying),expandSecurityCard:this.props.expandSecurityCard,navigate:this.props.navigate,actions:this.props.actions}))),c.createElement("div",{className:"securities-filter-card-list-arrow-container securities-filter-card-list-right-arrow-container"},this.props.cardRowDisplaying<Math.ceil(e.length/this.props.cardsInARow())-1&&c.createElement(aS,{customClass:"circle-fill-button horizontal-list-change-page-btn",style:{padding:"3px 0 0 4px"},skinny:!0,showShadow:!0,icon:"fa-chevron-right",handleClick:this.nextFilterList})),c.createElement(Gpe,{className:"right-security-card-slide-cover"}),c.createElement("div",{className:"filter-message-container"},0===e.length&&0===this.props.filters.length&&!this.props.loadingFilters&&!this.props.userSearching&&c.createElement("div",{className:"no-security-results component-bg-faded secondary-text-color"},"Your filter results will show here. Choose what to filter by from the dropdown."),0===e.length&&this.props.filters.length>0&&!this.props.loadingFilters&&!this.props.userSearching&&c.createElement("div",{className:"no-security-results component-bg-faded secondary-text-color"},"No securities were found within the filter parameters."),0===e.length&&this.props.loadingFilters&&c.createElement("div",{className:"no-security-results component-bg-faded secondary-text-color"},c.createElement(_e,{size:"medium",style:{marginRight:"15px"}}),"Filtering securities..."))),c.createElement("div",{className:"portfolio-explorer-disclaimer secondary-text-color"},"Securities shown are widely held and broadly fit the investment criteria selected. Matches are sorted by default sort criteria and are not investment recommendations. Press the arrow buttons to see more results."))}}var Ype=T((e=>({securitiesData:e.securities,currentUser:e.currentUser,ideas:e.ideas})),(e=>({actions:I(WC,e)})))(qpe);const Kpe=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"})),Qpe=u.div`
  * {
    box-sizing: border-box;
  }
`,Zpe=u.ol`
  margin: 0px;
  padding: 0px;
`,Xpe=u.div`
  padding-right: 8px;
`,Jpe=u.div`
  padding-right: 8px;
`,eme=u.div`
  padding-right: 8px;
`,tme=u.li`
  display: grid;
  grid-template-columns: 30% 30% 30% 10%;
  list-style: none;

  padding: 16px 24px;
  height: ${({heading:e})=>e?"44px":"120px"};

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};

  :hover {
    ${({heading:e,theme:t})=>e?"":`cursor: pointer; border: 1px solid ${t.themeColors.primaryCtaButton};`};
  }

  .cell {
    --column-width-min: 155px;
    min-width: 155px;
  }

  .action-cell {
    --column-width-min: 40px;
    min-width: 40px;
  }

  @media (max-width: 600px) {
    grid-template-columns: 45% 45% 10%;
    ${eme} {
      display: none;
    }
    .current-alloc {
      display: none;
    }
  }
  @media (max-width: 450px) {
    padding: 16px 8px;
  }
`,nme=u.div`
  --column-width-min: 155px;
  min-width: 155px;
`,rme=u.div`
  font-size: 18px;
  line-height: 22px;
`,ime=u.div`
  * {
    font-size: 12px;
    line-height: 20px;
    font-weight: 200;
  }
`,ame=u.div`
  font-size: 12px;
  line-height: 22px;
  font-weight: 200;

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,sme=u.div`
  font-size: 12px;
  line-height: 20px;
  font-weight: 200;
`,ome=u.div`
  font-size: 12px;
  line-height: 20px;
  font-weight: 800;

  color: ${({theme:e,type:t})=>0===t?e.themeColors.positive:e.themeColors.negative};
`,lme=u.div`
  padding: 0 6px;
  font-size: 10px;
  line-height: 14px;
`,cme=u.div`
  position: relative;
  font-size: 12px;
  line-height: 20px;
  font-weight: 200;
  opacity: var(--de-emphasized-text-opacity);
`,dme=u.div`
  font-size: 18px;
  line-height: 22px;
  font-weight: 800;
`,ume=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 15px;
    width: 15px;
    margin-left: 5px;

    path {
      fill: ${({theme:e,type:t})=>e.themeColors.negative};
    }
  }
`,hme=u.div`
  height: 88px;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-end;

  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }

  > div {
    padding: 0px 8px;
    opacity: 0.3;

    :hover {
      opacity: 1;
      cursor: pointer;
    }
  }
`,pme=u.div`
  font-size: 16px;
  line-height: 20px;
  font-weight: 800;
`,mme=u.div`
  padding-top: 2px;
  height: 24px;

  > div {
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    justify-content: flex-end;
  }

  label {
    width: 80px;
  }
  * {
    font-size: 12px;
    line-height: 18px;
    font-weight: 800;
  }
`,gme=()=>c.createElement(tme,{heading:!0},c.createElement(cme,{className:"cell"}),c.createElement(cme,{className:"cell"},"Your Expected Return",c.createElement(iS,{word:"tooltip_expected_return_idea_panel",style:{top:"2px",left:"120px"},position:"left"})),c.createElement(cme,{className:"cell current-alloc"},"Current Allocation"),c.createElement(cme,{className:"cell action-cell"})),yme=({id:e})=>{const t=_(),n=b(),r=P(),i=nX(e),{security:a,idea_type:s,active:d,conviction:u,price_target:h,expected_return:p,horizon:m}=i||{},{id:g}=a||{},{name:y,symbol:f,featured:v}=IH(g),{shares:E,allocation_percent:C,value:x}=p$(g),w=eg(x,"current_price"),S=eg(E,"shares"),k=eg(C,"current_price_change_percent"),T=eg(h,"current_price"),I=eg(p,"percentage"),N=()=>{const e=CU({location:t,securityId:g,additionalProps:{}});n(e)};return s?c.createElement(tme,null,c.createElement(Xpe,{className:"cell",onClick:N},c.createElement(rme,null,f),c.createElement(ame,null,y),c.createElement(ime,null,c.createElement(OH,{securityId:g,showCurrentPrice:!0})),!1===v?c.createElement("div",null,c.createElement("span",null," ")):c.createElement(ome,{type:s.id},0===s.id?"BUY":1===s.id?"SELL":"")),v?c.createElement(Jpe,{className:"cell",onClick:N},isNaN(h)||null===h?c.createElement(dme,null,I):c.createElement(ume,null,c.createElement(pme,null,"$"+T),c.createElement(Kpe,null)),c.createElement(ame,null,u.name," conviction"),v&&c.createElement(mme,null,c.createElement(xo,{name:"In-Optimizer",label:"In Optimizer",value:d,onChange:()=>()=>{const e=l(o({},i),{active:!d});YE(e,i)(r)},stopPropagation:!0}))):c.createElement(lme,{onClick:N},c.createElement("span",null,"This instrument is no longer available on ",Xo)),c.createElement(eme,{className:"cell",onClick:N},Math.abs(E)>0?c.createElement(c.Fragment,null,c.createElement(dme,null,"$"+w),c.createElement(sme,null,S+" sh"),c.createElement(sme,null,k)):c.createElement("div",null)),c.createElement(nme,{className:"cell action-cell"},!(Math.abs(E)>0)&&c.createElement(hme,{onClick:()=>{KE(i)(r)}},c.createElement(oi,{width:18})))):null},_me=()=>{const e=b(),t=(()=>{const e=oI(),t=Object.keys(e),[n,r]=c.useState(t),[i,a]=c.useState(lI(t,e));return c.useEffect((()=>{const i=Object.keys(e);wk(i,n)||(r(i),a(lI(t,e)))}),[e,n]),i})(),n=()=>{e(Tn.build())};return t&&0!==t.length?c.createElement(Qpe,null,c.createElement(Zpe,null,c.createElement(gme,null),t.map((e=>c.createElement(yme,{key:e.id,id:e.id}))))):c.createElement(Iw,{top:24,left:24},c.createElement(Iw,{bottom:96},c.createElement(Ei,null,"You have no securities on your watchlist."),c.createElement(Iw,{top:24},c.createElement(hx,{onClick:n},"Go Explore"))))},fme=u.div`
  max-width: 800px;
  margin: 24px auto;
`,vme=e=>{const{securityIdsFromFilterResults:t}=e,n=e.presetFilter||!e.presetFilter&&!!t.length;return c.createElement("div",{className:"portfolio-explorer-securities-selection-container"},e.showFilterView&&c.createElement("div",null,c.createElement(xpe,{filterConstructionProps:e.filterConstructionProps,filters:e.filters,presetFilters:e.presetFilters,updateFilters:e.updateFilters,securitiesLength:t.length}),t.length>0&&e.loadingFilters?c.createElement("div",{className:"loading-more-securities-container"},c.createElement(_e,{size:"small",style:{marginRight:"15px"}}),c.createElement("span",{className:"secondary-text-color"},"Applying filters...")):t.length>0&&e.isLoadingMoreFilterResults&&!e.loadingFilters?c.createElement("div",{className:"loading-more-securities-container"},c.createElement(_e,{size:"small",style:{marginRight:"15px"}}),c.createElement("span",{className:"secondary-text-color"},"Loading more results...")):c.createElement("div",{className:"loading-more-securities-empty-container"}),n&&c.createElement(Ype,{expandSecurityCard:e.expandSecurityCard,handleSwipe:e.addToSecurityTable,securities:e.securityIdsFromFilterResults,filters:e.filters,loadingFilters:e.loadingFilters,cardRowDisplaying:e.cardRowDisplaying,width:e.width,cardWidth:e.cardWidth,paddingBetweenCards:e.paddingBetweenCards,offsetToFitArrows:e.offsetToFitArrows,cardsInARow:e.cardsInARow,changeFilterResultDisplayRow:e.changeFilterResultDisplayRow,navigate:e.navigate})),c.createElement("div",{className:"security-table-title"},My("table_title")),c.createElement(fme,null,c.createElement(Fx,null,c.createElement(_me,null))))};var Eme=Object.defineProperty,bme=(e,t,n)=>(((e,t,n)=>{t in e?Eme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Cme extends C.exports.Component{constructor(){super(),bme(this,"shouldIncreaseFilterResultsCount",(()=>{const e=!this.state.noMoreFilterResultsAvailable,t=this.state.filters.length>0,n=this.getSecuritiesToDisplayInSecuritiesList(),r=this.calcCardsInARow(),i=this.state.cardRowDisplaying,a=Math.ceil(n.length/r),s=i===a-2,o=this.getSecuritiesOnLastPage().length!==r;return t&&e&&(s&&o||a===i+1)})),bme(this,"increaseFilterResultsCount",(()=>{const e=this.state.filterResultsCountNeeded+this.state.initialFilterResultsCount;this.sendFilterSecuritiesRequest(e).then((e=>{this.setState((()=>({isIncreasingFilterResultsCount:!1})))})),this.setState((()=>({filterResultsCountNeeded:e})))})),bme(this,"updateFilterResults",(e=>{e.filters.length!==this.state.filters.length||e.filters!==this.state.filters?this.sendFilterSecuritiesRequest(this.state.initialFilterResultsCount).then((e=>{this.setState((e=>({cardRowDisplaying:0,filterResultsCountNeeded:e.initialFilterResultsCount,isIncreasingFilterResultsCount:!1,noMoreFilterResultsAvailable:!1})))})):this.shouldIncreaseFilterResultsCount()&&!this.state.isIncreasingFilterResultsCount&&(this.setState((()=>({isIncreasingFilterResultsCount:!0}))),this.increaseFilterResultsCount())})),bme(this,"sendFilterSecuritiesRequest",(e=>{const t=e||this.state.initialFilterResultsCount,n=this.props.actions.filterSecurities(t,this.state.filters,this.state.filterSecuritiesRequestCounter);return this.setState((e=>({filterSecuritiesRequestCounter:e.filterSecuritiesRequestCounter+1}))),n.then((t=>{if(t.length>0)return e>t.length&&this.setState((()=>({noMoreFilterResultsAvailable:!0}))),this._fetchFilterCardDataForSecurities(t)}))})),bme(this,"getSecuritiesOnLastPage",(()=>{const e=this.calcCardsInARow(),t=this.getSecuritiesToDisplayInSecuritiesList(),n=Math.ceil(t.length/e);return t.slice(n*e-e,n*e)})),bme(this,"userIsOnLastPage",(()=>{const e=this.state.cardRowDisplaying,t=this.calcCardsInARow(),n=this.getSecuritiesToDisplayInSecuritiesList();return e===Math.ceil(n.length/t)-1})),bme(this,"_fetchFilterCardDataForSecurities",(e=>{this.props.actions.quickFetchSecuritiesData(e),this.props.actions.fetchSecuritiesFundamentalsData(e),this.props.actions.fetchSecuritiesPriceData(e),this.props.actions.getIdeasForSecurity(e),this.props.actions.fetchSecuritiesPriceHistoryData(e,"one_year")})),bme(this,"_fetchDataForSecurities",(e=>{this.props.actions.quickFetchSecuritiesData(e),this.props.actions.fetchSecuritiesPriceData(e),this.props.actions.getIdeasForSecurity(e)})),bme(this,"setPresetFilter",(e=>{this.setState((t=>({presetFilter:t.presetFilterList[e],filters:[...t.presetFilterList[e].filters.map(((e,t)=>l(o({},e),{id:t+1})))],filterIdCounter:t.presetFilterList[e].filters.length+1}))),this.showSecuritiesSelectionComponent()})),bme(this,"showSecuritiesSelectionComponent",(()=>{this.setState((()=>({showSecuritiesSelectionComponent:!0}))),setTimeout((()=>{$(".portfolio-explorer-securities-filter-builder-container").length>0&&$("html, body").animate({scrollTop:$(".portfolio-explorer-securities-filter-builder-container").offset().top-120},300)}),500)})),bme(this,"createFilter",(e=>{const t=e.name,n={Filter:_U(t)};this.props.actions.logMetricsTrackingEvent("Created Filter",n),this.setState((t=>({filters:[...t.filters,l(o({},e),{id:t.filterIdCounter})],filterIdCounter:t.filterIdCounter+1})))})),bme(this,"updateFilter",(e=>{this.setState((t=>({filters:t.filters.map((t=>t.id===e.id?e:t))})))})),bme(this,"removeFilter",(e=>{const t=e.name,n={Filter:_U(t)};this.props.actions.logMetricsTrackingEvent("Remove Filter",n);const r=e.id,i=this.state.filters.filter((e=>e.id!==r));this.setState({filters:i})})),bme(this,"filterConstructionProps",(()=>({createFilter:this.createFilter,updateFilter:this.updateFilter,removeFilter:this.removeFilter}))),bme(this,"addToOptimizer",(e=>{this.props.actions.addIdeas([{security:{security_id:e}}]).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Added Idea",e),th.ideas.ADD_IDEA.send()}}))})),bme(this,"addToSecurityTable",(e=>{US(this._returnCurrentUserId(),e,this.props.ideas.ideaList)||this.props.actions.addIdeas([{security:{security_id:e}}]).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){const e={themeTestGroups:jp(this.props.currentUser),accountType:this.props.currentUser.is_live_trading?"Live":"Paper"};Cu("Added Idea",e),th.ideas.ADD_IDEA.send()}}))})),bme(this,"changeFilterResultDisplayRow",(e=>{const t={Previous:-1,Next:1},n=`Clicked ${e} Security Card Page`;this.props.actions.logMetricsTrackingEvent(n,{Page:this.state.cardRowDisplaying}),this.setState((n=>({cardRowDisplaying:n.cardRowDisplaying+t[e]})))})),bme(this,"isLoadingNewFilters",(()=>this.props.portfolioExplorer.loadingFilters&&!this.state.isIncreasingFilterResultsCount)),bme(this,"isLoadingMoreFilterResults",(()=>this.state.isIncreasingFilterResultsCount&&this.userIsOnLastPage())),bme(this,"calcCardsInARow",(()=>Math.floor((this.state.width-this.state.offsetToFitArrows)/(this.state.cardWidth+this.state.paddingBetweenCards)))),bme(this,"getSecuritiesToDisplayInSecuritiesList",(()=>this.props.portfolioExplorer.securities)),bme(this,"_refreshData",(()=>{this.props.actions.getCurrentUserConnections()})),bme(this,"returnCurrentUserConnections",(()=>YB(this._returnCurrentUserId(),this.props.userConnections))),bme(this,"returnCurrentUserIdeas",(()=>FS(this._returnCurrentUserId(),this.props.ideas.ideaList))),bme(this,"returnIdeasForSecurityTable",(()=>{const e=this.returnCurrentUserIdeas();return[...Object.keys(this.props.ideas.userCreatingIdeas).map((e=>parseInt(e,10))).map((e=>this.props.ideas.userCreatingIdeas[e])),...e]})),bme(this,"handleExpandSecurityCard",(e=>{this.props.actions.logMetricsTrackingEvent("Open Security Panel",{Component:"Portfolio Explorer",Context:"Security Card"});const t=ve(e);this.props.navigate(location.pathname+t)})),bme(this,"handleExpandSecurityCardFromTable",(e=>{const t=ve(e);this.props.navigate(location.pathname+t)})),bme(this,"handleResize",(()=>{let e=window.innerWidth>700?160:115,t=window.innerWidth>700?25:20,n=window.innerWidth>700?100:50,r=this.portfolioExplorerContainer&&this.portfolioExplorerContainer.offsetWidth||window.innerWidth;this.setState({width:r>850?850:r,cardWidth:e,paddingBetweenCards:t,offsetToFitArrows:n})})),bme(this,"_returnCurrentUser",(()=>this.props.currentUser)),bme(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),bme(this,"_logViewPortfolioExplorer",(()=>{this.props.actions.logMetricsTrackingEvent("View Portfolio Explorer")})),this.state={wasError:!1,presetFilterList:[],presetFilter:null,presetFilterCardSize:"default",filters:[],filterIdCounter:1,showSecuritiesSelectionComponent:!1,initialFilterResultsCount:12,filterResultsCountNeeded:12,isIncreasingFilterResultsCount:!1,noMoreFilterResultsAvailable:!1,cardRowDisplaying:0,width:window.innerWidth,cardWidth:160,paddingBetweenCards:25,offsetToFitArrows:100,filterSecuritiesRequestCounter:1}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize(),document.title=`${Xo} - Explore`,this._logViewPortfolioExplorer(),this._refreshData();const e=this.returnCurrentUserConnections()||[],t=this.returnCurrentUserIdeas(),n=!!e.length,r=this.state.width||window.innerWidth,i=!!t.length;this.props.actions.getFilterSelectionOptions().then((e=>{if(!e||Object.keys(e).length<3){this.setState((()=>({wasError:!0})));const e={contentComponent:bS("Something went wrong. Please refresh and try again."),size:"wide",dismissable:!0};return this.props.actions.showModal(e),null}if(this.setState((()=>({presetFilterList:npe(e,n,i,Math.floor(r/(r>650?175:135)),this._returnCurrentUserId())}))),t.length>0){const e=[];t.forEach((t=>{e.push(AS(t))}));const n=[...t.map((e=>AS(e))),...e],r=n.filter(((e,t)=>n.indexOf(e)==t));this._fetchDataForSecurities(r)}}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e,t){this.state.width||this.handleResize();this.updateFilterResults(t,12);const n=this.getSecuritiesToDisplayInSecuritiesList().length;Math.ceil(n/this.calcCardsInARow())-1<this.state.cardRowDisplaying&&0!==this.state.cardRowDisplaying&&this.changeFilterResultDisplayRow("Previous")}render(){return this.state.wasError?c.createElement("div",{className:"portfolio-explorer-container",style:{textAlign:"center",margin:"15px"},ref:e=>this.portfolioExplorerContainer=e},c.createElement("span",{style:{paddingTop:"50px"}},"Something went wrong, refresh and try again.")):this.state.presetFilterList.length<1?c.createElement(Dw,null):c.createElement("div",{className:"portfolio-explorer-container  "+(this.state.presetFilter?"":"preset-filter-parent"),style:this.state.showSecuritiesSelectionComponent?{overflow:"hidden"}:{overflow:"visible"},ref:e=>this.portfolioExplorerContainer=e},c.createElement("div",null,c.createElement(epe,{presetFilterList:this.state.presetFilterList,presetFilterCardSize:this.state.presetFilterCardSize,handleFilterCardClick:this.setPresetFilter}),c.createElement(vme,{showFilterView:this.state.showSecuritiesSelectionComponent,addToSecurityTable:this.addToSecurityTable,securityIdsFromFilterResults:this.getSecuritiesToDisplayInSecuritiesList(),ideasForSecurityTable:this.returnIdeasForSecurityTable(),loadingFilters:this.isLoadingNewFilters(),isLoadingMoreFilterResults:this.isLoadingMoreFilterResults(),filters:this.state.filters,filterConstructionProps:this.filterConstructionProps(),presetFilter:this.state.presetFilter,presetFilters:this.state.presetFilter?this.state.presetFilter.filters:[],updateFilters:this.updateFilters,expandSecurityCard:this.handleExpandSecurityCard,expandSecurityCardFromTable:this.handleExpandSecurityCardFromTable,cardRowDisplaying:this.state.cardRowDisplaying,width:this.state.width,cardWidth:this.state.cardWidth,paddingBetweenCards:this.state.paddingBetweenCards,offsetToFitArrows:this.state.offsetToFitArrows,cardsInARow:this.calcCardsInARow,changeFilterResultDisplayRow:this.changeFilterResultDisplayRow,navigate:this.props.navigate})))}}var xme=T((e=>({currentUser:e.currentUser,ideas:e.ideas,portfolioExplorer:e.portfolioExplorer,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(Cme);class wme extends c.Component{render(){return c.createElement(w6,null)}}const Sme=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(wme),kme=e=>{const t="long"===e.position?"abs-position-right":"abs-position-left",n=0===e.community_position?"hidden":"",r=Math.round(e.label)>=20?">20":e.label<1&&e.label>0?e.label.toFixed(1)<.1?"<0.1":e.label.toFixed(1):Math.round(e.label);return c.createElement("div",{className:`${n}`},c.createElement("span",{className:`community-position-label ${t} secondary-text-color`},`${r}%`))},Tme=u.div`
  background-color: ${({theme:e,isLong:t})=>t?e.themeColors.positive:e.themeColors.negative};
`,Ime=e=>{const{position:t,community_position:n}=e;return c.createElement(Tme,{isLong:"long"===t.toLowerCase(),className:`community-position-meter ${t}`,style:{width:`${n}`}})},Nme=e=>{const t=e.community_position;var n=e.community_position>=20?100:e.community_position/20*100;const r=n<.5&&n>0?"1px":n+"%",i="long"===e.position?"position-left":"position-right";return c.createElement("div",{className:`community-position-container ${i}`},c.createElement(kme,{label:t,position:e.position}),c.createElement(Ime,{community_position:r,position:e.position}))};var Ame=Object.defineProperty,Pme=(e,t,n)=>(((e,t,n)=>{t in e?Ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Dme extends c.PureComponent{render(){const{security:e,shortIdeas:t,symbol:n,companyName:r,longIdeas:i,buildSecurityPanelLink:a}=this.props;return c.createElement("div",{className:"visualizer-row border-accent"},c.createElement("div",{className:"visualizer-ideas-container text-right"},c.createElement(Nme,{community_position:e.community_percent_short,position:"short"}),c.createElement(AK,{ideas:t,position:"short",showIdeaTypeShadow:!1,hideLabels:!0})),c.createElement(iT,{to:a(),className:"link-btn-low-contrast",additionalClickAction:this._logOpenSecurityPanel,child:c.createElement("span",{className:"security-symbol-cell"},n,c.createElement("br",null),c.createElement("span",{className:"idea-community-company-name"},r)),noTextDecoration:!0}),c.createElement("div",{className:"visualizer-ideas-container text-left"},c.createElement(Nme,{community_position:e.community_percent_long,position:"long"}),c.createElement(AK,{ideas:i,position:"long",showIdeaTypeShadow:!1,hideLabels:!0})))}}class Ome extends c.PureComponent{constructor(){super(...arguments),Pme(this,"buildSecurityPanelLink",(()=>{const{security:e,navigate:t,location:n}=this.props,{id:r}=e;return CU({securityId:r,additionalProps:{activeTab:"ideas"},navigate:t,location:n})})),Pme(this,"_logOpenSecurityPanel",(()=>{ly("Open Security Panel",{Component:"Community Ideas",Context:"Security Panel"})()}))}render(){const{security:e}=this.props,t=e.user_ideas,n=t.filter((e=>e.user.current_user)).map((e=>l(o({},e.idea),{user_id:e.user.user_id}))),r=t.filter((e=>1===e.idea.idea_type.id&&!e.user.current_user)).map((e=>l(o({},e.idea),{user_id:e.user.user_id}))),i=t.filter((e=>0===e.idea.idea_type.id&&!e.user.current_user)).map((e=>l(o({},e.idea),{user_id:e.user.user_id})));n.length>0&&(0===n[0].idea_type.id?i.unshift(n[0]):r.unshift(n[0]));const a=e.symbol,s=e.name.length>12?Rpe(e.name,12):e.name;return c.createElement(Dme,{security:e,shortIdeas:r,symbol:a,companyName:s,longIdeas:i,buildSecurityPanelLink:this.buildSecurityPanelLink})}}var Lme=Object.defineProperty,Rme=(e,t,n)=>(((e,t,n)=>{t in e?Lme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Fme extends c.PureComponent{constructor(){super(),Rme(this,"handleInfiniteScroll",(()=>(this.addAdditionalSecuritiesToPagination(),Promise.resolve(!0)))),Rme(this,"addAdditionalSecuritiesToPagination",(()=>{const{securities:e}=this.props,t=this.state.paginatedSecuritiesList.length,n=t+this.PAGINATION_ROW_LENGTH,r=e.slice(t,n+1);this.setState((e=>({paginatedSecuritiesList:[...e.paginatedSecuritiesList,...r]})))})),Rme(this,"noMoreRows",(()=>this.state.paginatedSecuritiesList.length===this.props.securities.length)),this.state={paginatedSecuritiesList:[]},this.PAGINATION_ROW_LENGTH=15}componentDidMount(){this.addAdditionalSecuritiesToPagination()}render(){const{navigate:e,location:t}=this.props,{paginatedSecuritiesList:n}=this.state;return c.createElement("div",{className:""},c.createElement(BV,{id:"community-positions-list-infinite-scroll",$scrollElement:window.$(window),onInfiniteScroll:this.handleInfiniteScroll,ignoreInfiniteScroll:this.noMoreRows(),distanceFromBottomToTriggerInfiniteScroll:1200},n.map((n=>c.createElement(Ome,{key:`security-row-${n.symbol}`,security:n,navigate:e,location:t})))))}}const Mme=e=>c.createElement("div",{className:"visualizer-row border-accent",style:{height:"60px"}},c.createElement("div",{className:"visualizer-heading clearfix"},c.createElement("div",{className:"heading-element-container text-right"},c.createElement("span",{className:"low-opacity community-heading-text sell-text-color"},"Interested in Selling"),c.createElement("span",{className:"community-label-left community-label secondary-text-color"},c.createElement("span",{style:{display:"inline-block"}},"% of"),c.createElement("span",{style:{display:"inline-block"}},"All Users"))),c.createElement("div",{className:"heading-element-container text-left"},c.createElement("span",{className:"low-opacity community-heading-text buy-text-color"},"Interested in Buying"),c.createElement("span",{className:"community-label-right community-label secondary-text-color"},c.createElement("span",{style:{display:"inline-block"}},"% of"),c.createElement("span",{style:{display:"inline-block"}},"All Users")))));class Ume extends c.PureComponent{render(){const{securities:e,navigate:t,location:n}=this.props;return c.createElement("div",{className:"position-visualizer-container"},c.createElement(Mme,null),c.createElement(Fme,{sortOrder:"Default",securities:e,navigate:t,location:n}))}}var $me=Object.defineProperty,Bme=(e,t,n)=>(((e,t,n)=>{t in e?$me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const zme=u.div`
  text-align: center;
  max-width: 520px;
  margin: 0 auto;

  padding: 24px 0 0 0;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 16px;
`,Vme=({collectiveId:e,onClick:t})=>{const n=b(),r=Ln("profile",e);return c.createElement(hx,{transparent:!0,small:!0,onClick:()=>{t(),n(r)}},"See Ideas")};class Hme extends C.exports.Component{constructor(){super(),Bme(this,"renderCollectivesHeading",(()=>c.createElement(zme,null,c.createElement("span",{className:"message"},"Check out the ideas of the current top performers in ",Xo,"."),c.createElement(Vme,{onClick:this._logSeeCollectiveIdeasClick,collectiveId:this._returnCollectiveId()})))),Bme(this,"returnCommunityIdeasSecuritiesList",(()=>this.state._communityIdeaSecurities)),Bme(this,"openExpandedSecurityCard",(e=>{const t=ve(e);this.props.navigate(location.pathname+t)})),Bme(this,"_setLoadingComplete",(()=>{this.setState((()=>({_isCommunityIdeaSecuritiesLoading:!1})))})),Bme(this,"_saveSecuritiesToCommunityIdeaSecurities",(e=>{this.setState((()=>({_communityIdeaSecurities:e})))})),Bme(this,"_getCommunityIdeas",(()=>this.props.actions.fetchCommunityIdeas())),Bme(this,"_handleGetCommunityIdeasResponse",(e=>{e&&e.data&&e.data.securities?this._saveSecuritiesToCommunityIdeaSecurities(e.data.securities):this.props.actions.showModal(xS()),this._setLoadingComplete()})),Bme(this,"_isCommunityIdeaSecuritiesLoading",(()=>this.state._isCommunityIdeaSecuritiesLoading)),Bme(this,"_isLoading",(()=>this._isCommunityIdeaSecuritiesLoading()||this._isCollectivesLoading())),Bme(this,"_returnCollectivesStore",(()=>this.props.collectives)),Bme(this,"_returnCollectivesUsersLookup",(()=>this.props.collectives.lookup)),Bme(this,"_isCollectivesLoading",(()=>this._returnCollectivesStore().loading)),Bme(this,"_returnCollectiveId",(()=>Object.keys(this.props.collectives.lookup)[0])),Bme(this,"_returnCollectiveUser",(()=>this._returnCollectivesUsersLookup()[this._returnCollectiveId()])),Bme(this,"_updatePageTitle",(()=>{document.title=`${Xo} - Community`})),Bme(this,"_logViewPageEvent",(()=>{this.props.actions.logMetricsTrackingEvent("View Ideas Community",{"From React Router":!0})})),Bme(this,"_logSeeCollectiveIdeasClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked See Collective Ideas",{Context:"Community Page"})})),this.state={_isCommunityIdeaSecuritiesLoading:!0,_communityIdeaSecurities:[]}}componentDidMount(){this._getCommunityIdeas().then((e=>{this._handleGetCommunityIdeasResponse(e)})),this._updatePageTitle(),this._logViewPageEvent()}render(){return c.createElement("div",{className:"community-page-container"},!this._isCollectivesLoading()&&this.renderCollectivesHeading(),c.createElement(OF,null,c.createElement(yG,{className:"community-page-heading"},"Popular Ideas in the Community"),c.createElement("div",{className:"idea-lab-container"},this._isLoading()?c.createElement(Dw,{flatStyle:!0}):c.createElement(Ume,{navigate:this.props.navigate,location:this.props.location,securities:this.returnCommunityIdeasSecuritiesList(),openExpandedSecurityCard:this.openExpandedSecurityCard}))))}}var Wme=T((e=>({users:e.users,collectives:e.collectives})),(e=>({actions:I(WC,e)})))(Hme),jme=Object.defineProperty,Gme=(e,t,n)=>(((e,t,n)=>{t in e?jme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class qme extends c.Component{constructor(){super(...arguments),Gme(this,"_fireEvent",(()=>{const e=this.props.eventName,t=this.props.eventProperties||{};e||Uk("Must supply eventName prop to FireEventOnMount",!0),ly(e,t)()})),Gme(this,"_runAdditionalAction",(()=>{this.props.additionalAction&&this.props.additionalAction()}))}componentDidMount(){this._fireEvent(),this._runAdditionalAction()}render(){return null}}var Yme=Object.defineProperty,Kme=(e,t,n)=>(((e,t,n)=>{t in e?Yme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Qme extends c.Component{constructor(){super(...arguments),Kme(this,"_renderChildren",(()=>c.createElement("div",{className:"current-user-data-wrapper"},this.childrenWithUserProps()))),Kme(this,"_isUsingRenderIf",(()=>this._getRenderIfString())),Kme(this,"_getRenderIfString",(()=>this.props.renderIf)),Kme(this,"_shouldRenderChildren",(()=>{const e=this.returnCurrentUserData();return"hasAvatar"===this._getRenderIfString()?!e.avatar_url.includes("missing"):"hasSubscribed"===this._getRenderIfString()?Tp(e):"isEligibleSubscriptionsNotSubscribed"===this._getRenderIfString()?kp(e)&&!Tp(e):"isEligibleSubscriptions"!==this._getRenderIfString()||kp(e)})),Kme(this,"childrenWithUserProps",(()=>{const e=this.returnCurrentUserData(),t=e.user_id,n=l(o({},e),{userId:t});return c.Children.map(this._returnChildren(),(e=>c.cloneElement(e,n)))})),Kme(this,"_returnChildren",(()=>Array.isArray(this.props.children)?this.props.children.filter((e=>e)):this.props.children)),Kme(this,"returnCurrentUserData",(()=>this.props.currentUser))}render(){return this._isUsingRenderIf()?this._shouldRenderChildren()&&this._renderChildren():this._renderChildren()}}var Zme=T((e=>({currentUser:e.currentUser})),null)(Qme),Xme=Object.defineProperty,Jme=(e,t,n)=>(((e,t,n)=>{t in e?Xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ege extends c.Component{constructor(){super(),Jme(this,"onRenderStart",(()=>{this._resetToDefaultState(),this._createAndSetRenderChildrenTimeout()})),Jme(this,"onRenderStop",(()=>{this._shouldRenderChildren()?this.handleStopRenderChildren():this._resetToDefaultState()})),Jme(this,"_resetToDefaultState",(()=>{this._clearRenderChildrenTimeout(),this._clearStopRenderChildrenTimeout(),this.setState((()=>({_shouldRenderChildren:!1,_renderChildrenTimeout:null,_stopRenderChildrenTimeout:null})))})),Jme(this,"handleStartRenderChildren",(()=>{this._debugLog("showing children"),this._showChildren()})),Jme(this,"handleStopRenderChildren",(()=>{this._debugLog(["hiding children - requested",this._didMinRenderTimeLengthPass(),this._getTimeLengthChildrenRendered(),this._getRenderMinLengthTime()]),this._didMinRenderTimeLengthPass()?(this._debugLog("hiding children - min time passed"),this._hideChildren()):(this._debugLog("not hiding children - min time not passed"),this._debugLog(["time left",this._getTimeRemainingForForceRender()]),this._createAndSetStopRenderChildrenTimeout(this._getTimeRemainingForForceRender()))})),Jme(this,"_didMinRenderTimeLengthPass",(()=>!this._shouldRenderMinLengthTime()||this._getTimeLengthChildrenRendered()>this._getRenderMinLengthTime())),Jme(this,"_getTimeLengthChildrenRendered",(()=>Zl()-this._getTimeChildrenRenderStarted())),Jme(this,"_getTimeRemainingForForceRender",(()=>this._getRenderMinLengthTime()-this._getTimeLengthChildrenRendered())),Jme(this,"_showChildren",(()=>this.setState((()=>({_shouldRenderChildren:!0,_timeStartedRunningEpoch:Zl()}))))),Jme(this,"_hideChildren",(()=>(this._debugLog("hiding children in state"),this.setState((()=>({_shouldRenderChildren:!1})))))),Jme(this,"_createAndSetRenderChildrenTimeout",(()=>this._saveToState({_renderChildrenTimeout:this._createRenderChildrenTimeout()}))),Jme(this,"_createAndSetStopRenderChildrenTimeout",(e=>this._saveToState({_stopRenderChildrenTimeout:this._createStopRenderChildrenTimeout(e)}))),Jme(this,"_clearRenderChildrenTimeout",(()=>clearTimeout(this._getRenderChildrenTimeout()))),Jme(this,"_clearStopRenderChildrenTimeout",(()=>clearTimeout(this._getStopRenderChildrenTimeout()))),Jme(this,"_getTimeChildrenRenderStarted",(()=>this.state._timeStartedRunningEpoch)),Jme(this,"_getTimeDelayLengthToRenderChildren",(()=>this.props.timeDelayToRender)),Jme(this,"_getMinTimeLengthToRenderChildren",(()=>this.props.minTimeLengthToRender)),Jme(this,"_getRenderChildrenTimeout",(()=>this.state._renderChildrenTimeout)),Jme(this,"_getStopRenderChildrenTimeout",(()=>this.state._stopRenderChildrenTimeout)),Jme(this,"_isStopRenderTimeoutRunning",(()=>this.state._stopRenderChildrenTimeout)),Jme(this,"_shouldRenderChildren",(()=>this.state._shouldRenderChildren)),Jme(this,"_shouldRenderMinLengthTime",(()=>this._getRenderMinLengthTime()>0)),Jme(this,"_getRenderMinLengthTime",(()=>this.props.minTimeLengthToRender)),Jme(this,"_isRenderRequested",((e=this.props)=>e.shouldRender)),Jme(this,"_createRenderChildrenTimeout",(()=>this._createTimeout(this.handleStartRenderChildren,this._getTimeDelayLengthToRenderChildren()))),Jme(this,"_createStopRenderChildrenTimeout",(e=>this._createTimeout(this._hideChildren,e))),Jme(this,"_createTimeout",((e,t)=>setTimeout(e,t))),Jme(this,"_saveToState",(e=>this.setState((()=>e)))),Jme(this,"_debugLog",(e=>{this._useDebugLogging&&function(e){let t=window.origin;if(t||(t=window.location.origin),t||(t="http://localhost:3000"),"http://localhost:3000"!==t&&"https://d1-forerunner.nvstr.com"!==t)return!1;if(!Array.isArray(e)){const t=[];for(let e=0;e<arguments.length;e++){const n=arguments[e];t.push(n)}e=t}const n=e.map((e=>{if("object"!=typeof e)return e;try{const t=JSON.stringify(e);return JSON.parse(t)}catch(t){return"Could not log, caught: "+t.message}}));console.log(n)}(e)})),this.state={_shouldRenderChildren:!1,_timeStartedRunningEpoch:null,_renderChildrenTimeout:null,_stopRenderChildrenTimeout:null},this._useDebugLogging=!1}componentDidMount(){this._isRenderRequested()&&(this._debugLog("onRenderStart"),this.onRenderStart())}componentDidUpdate(e){this._isRenderRequested()&&!this._isRenderRequested(e)&&(this._debugLog("onRenderStart"),this.onRenderStart()),!this._isRenderRequested()&&this._isRenderRequested(e)&&(this._debugLog("onRenderStop"),this.onRenderStop())}render(){return this._debugLog(["render",this.state,this.props]),this._shouldRenderChildren()?this.props.children:null}}var tge=Object.defineProperty,nge=(e,t,n)=>(((e,t,n)=>{t in e?tge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const rge=u.div`
  .image-upload-button-style-wrapper {
    margin-right: 4px;
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    // border: 1px solid ${({theme:e})=>e.themeColors.text};

    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
`;class ige extends c.Component{constructor(){super(),nge(this,"handleImageUpload",(e=>{e.preventDefault();const t=e.target.files[0];this.setState({_uploadImage:t});const n=new FormData;n.append("avatar",t),this.handleImageSubmit(n)})),nge(this,"handleImageSubmit",(e=>{this.setState({_submittingImage:!0}),this.props.actions.postAvatarUploadImage(e).then((e=>{e&&e.success?this.setState({_submittingImage:!1}):(this.setState({_submittingImage:!1}),this._showErrorModal())}))})),nge(this,"_showErrorModal",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Unable to save avatar. Please try again.");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),nge(this,"isSubmittingImage",(()=>this.state._submittingImage)),this.state={_submittingImage:!1,_uploadImage:null}}render(){return c.createElement(rge,{className:"image-upload-button-container"},c.createElement(ege,{shouldRender:this.isSubmittingImage(),timeDelayToRender:5,minTimeLengthToRender:900},c.createElement("div",{className:"centered-loading-icon"},c.createElement(_e,{icon:"fading-3balls",size:"small"}))),c.createElement("div",{className:"image-upload-button-style-wrapper"},c.createElement("label",{htmlFor:"edit-profile-upload-avatar"},c.createElement("input",{id:"edit-profile-upload-avatar",name:"edit-profile-upload-avatar",type:"file",className:"invisible-image-upload-btn",onChange:this.handleImageUpload})),c.createElement(xc,{icon:"fa fa-upload"})))}}var age=T(null,(e=>({actions:I(WC,e)})))(ige),sge=Object.defineProperty,oge=(e,t,n)=>(((e,t,n)=>{t in e?sge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const lge=u.div`
  margin-left: 4px;

  background-color: ${({theme:e})=>e.themeColors.negative};
  //border: 1px solid ${({theme:e})=>e.themeColors.text};

  * {
    color: ${({theme:e})=>e.themeColors.buttonText};
  }
`;class cge extends c.Component{constructor(){super(),oge(this,"handleImageDelete",(()=>{if(this.state.deletingImage)return!1;this.setState({deletingImage:!0}),this.props.actions.deleteAvatarUploadImage().then((e=>{e.error&&(this.setState({deletingImage:!1}),this._showErrorModal())}))})),oge(this,"_showErrorModal",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Unable to delete avatar. Please reload page and try again.");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),this.state={deletingImage:!1,didDeleteFail:!1}}render(){return c.createElement(lge,{className:"delete-image-container"},c.createElement(aS,{icon:"fa fa-trash",size:"large",customClass:"image-delete-button",handleClick:this.handleImageDelete}))}}var dge=T(null,(e=>({actions:I(WC,e)})))(cge);const uge=u.div`
  position: relative;
  margin: 0 auto;
  width: 100px;

  .current-user-data-wrapper {
    text-align: center;
  }
  .current-user-data-wrapper .user-container {
    display: inline-block;
  }

  .upload-avatar-actions-container {
    //position: absolute;
    //top: 0;
    //left: 0;
    width: 100%;
    z-index: 2;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper:hover,
  .upload-avatar-actions-container .image-delete-button:hover {
    opacity: 1;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper {
    position: relative;
    height: 26px;
    width: 26px;
    border-radius: 2px;
    opacity: 0.8;
    cursor: pointer;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper * {
    cursor: pointer !important;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper i {
    position: absolute;
    top: 4.5px;
    left: 5px;
    font-size: 16px !important;
    pointer-events: none;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper label {
    position: absolute;
    top: 0px;
    left: 0px;
    opacity: 0;
    height: 26px;
    width: 26px;
    margin: 0;
    z-index: 2;
  }
  .upload-avatar-actions-container .image-upload-button-style-wrapper input {
    display: none;
  }
  .upload-avatar-actions-container .image-delete-button {
    position: relative;
    height: 26px;
    width: 26px;
    border-radius: 2px;
    opacity: 0.8;
  }
  .upload-avatar-actions-container .image-delete-button i {
    position: absolute;
    top: 4.5px;
    left: 6.5px;
    font-size: 16px !important;
    pointer-events: none;
  }
`,hge=e=>c.createElement(uge,{className:"upload-avatar-container"},c.createElement(Zme,null,c.createElement(gP,null,c.createElement(VP,{size:"profile",withLink:!1}))),c.createElement("div",{className:"upload-avatar-actions-container"},c.createElement(age,null),c.createElement(Zme,{renderIf:"hasAvatar"},c.createElement(dge,null))));var pge=Object.defineProperty,mge=(e,t,n)=>(((e,t,n)=>{t in e?pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class gge extends c.Component{constructor(){super(),mge(this,"onUnfocusField",(e=>{this.getCurrentSavedValueForField(e)!==this.getCurrentFormValueForField(e)&&"state"!==e&&this.handleSaveNewFieldData(e,this.state.formData[e])})),mge(this,"handleChange",((e,t)=>{const n=e.target.value;Sh.call(this,e,t),"state"===t&&["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"].includes(n)&&this.handleSaveNewFieldData(t,n)})),mge(this,"handleSaveNewFieldData",((e,t)=>{this.submitNewFieldData(e,t)})),mge(this,"submitNewFieldData",((e,t)=>{this._startSaving(),this.props.actions.updateUserProperty({[e]:t}).then((e=>{this._stopSaving(),e||this._showSaveFailedErrorMessage()}))})),mge(this,"getCurrentSavedValueForField",(e=>this.props.currentUser[e])),mge(this,"getCurrentFormValueForField",(e=>this.state.formData[e])),mge(this,"isSavingFormData",(()=>this.state._isSaving)),mge(this,"_renderInputs",(()=>this._returnFormInputs().map((e=>this._createInputElement(e))))),mge(this,"_returnFormInputs",(()=>this.state.inputs)),mge(this,"_createInputElement",(e=>Rh.call(this,e,this._returnInputDefaultProps.call(this)))),mge(this,"_startSaving",(()=>{this.setState((()=>({_isSaving:!0})))})),mge(this,"_stopSaving",(()=>{this.setState((()=>({_isSaving:!1})))})),mge(this,"_showSaveFailedErrorMessage",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Unable to save. Please reload page and try again.");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),this.state={_isSaving:!1,formData:{},focusedField:null,focusNote:{},errors:{},inputs:[{type:$d,typeName:"TextField",name:"first_name",label:"First Name",required:!0,props:{}},{type:$d,typeName:"TextField",name:"last_name",label:"Last Name",required:!0,props:{}},{type:$d,typeName:"TextField",name:"city",label:"City",props:{}},{type:Md,typeName:"Dropdown",name:"state",label:"State",props:{styling:"dropdown-inline-left",values:["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],showArrowIcons:!0}},{type:$d,typeName:"TextField",name:"bio",label:"Bio",props:{customWrapperClass:"full-length-text-field"}}]}}static getDerivedStateFromProps(e,t){if(!t.formData.first_name){const t=e.currentUser;return{formData:{first_name:t.first_name,last_name:t.last_name,city:t.city,state:t.state,bio:t.bio}}}return null}componentDidUpdate(e,t){if(null!==t.focusedField&&null===this.state.focusedField){const e=t.focusedField;this.onUnfocusField(e)}}render(){return c.createElement("div",{className:"edit-profile-form-container"},c.createElement("div",{className:"saving-form-message-container"},c.createElement(ege,{shouldRender:this.isSavingFormData(),timeDelayToRender:5,minTimeLengthToRender:900},c.createElement("div",{className:"centered-loading-icon"},c.createElement(_e,{icon:"fading-3balls",size:"small"}),c.createElement("div",{className:"secondary-text-color",style:{paddingLeft:"22px",lineHeight:"22px",fontSize:"13px",fontWeight:"300"}},"Saving...")))),c.createElement("div",{className:""},this._renderInputs()))}_returnInputDefaultProps(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),handleChange:this.handleChange,isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this)}}}var yge=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(gge);const _ge=u.div`
  input {
    //border: none;
    line-height: 29px;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  .dropdown-inline-left {
    width: 45%;
    padding: 0;
    padding-top: 1px;

    div:first-child {
      width: 100%;
    }
  }

  select {
    //border: none;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,fge=e=>c.createElement(_ge,{className:"edit-profile-container"},c.createElement(hge,null),c.createElement(yge,null)),vge=e=>{const{headingText:t}=e;return c.createElement("div",{className:"section-heading-text"},t)};var Ege=Object.defineProperty,bge=(e,t,n)=>(((e,t,n)=>{t in e?Ege(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Cge=u.div`
  display: flex;
  justify-content: center;
  button {
    width: 262px;
    padding: 8px 16px;
  }
`;class xge extends c.Component{constructor(){super(...arguments),bge(this,"handleUpdateAccountClick",(()=>{this.openEditLiveAccountPanel(),this._logUpdateAccountClick()})),bge(this,"handleOpenAccountClick",(()=>{this.navigateToLiveAccountSignup(),this._logOpenAccountClick()})),bge(this,"openEditLiveAccountPanel",(()=>{const e=fe(this.props.location.search);e.panel="editUserAccount";const t=ve(e);return this.props.navigate(`${this.props.location.pathname}${t}`)})),bge(this,"navigateToLiveAccountSignup",(()=>this.props.navigate(Ln("registerLiveAccountFormStart")))),bge(this,"isLiveTrading",(()=>Rp(this.returnCurrentUserData()))),bge(this,"returnCurrentUserData",(()=>this.props.currentUser)),bge(this,"_logUpdateAccountClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Edit Live Account",{})})),bge(this,"_logOpenAccountClick",(()=>{this.props.actions.logMetricsTrackingEvent("Clicked Open Live Account",{})}))}render(){return c.createElement("div",{className:"live-account-fontSettings-form-container"},c.createElement(Iw,{bottom:16},c.createElement(vge,{headingText:"Live Brokerage Account"})),c.createElement(c.Fragment,null,this.isLiveTrading()?c.createElement(c.Fragment,null,this.returnCurrentUserData().has_membership&&c.createElement("div",{className:"membership-info-container",style:{textAlign:"center",paddingBottom:"8px"}},c.createElement("p",null,`As a member, each month you get ${Ap(this.returnCurrentUserData())} free trades resetting on ${Yl("ls",jl(1e3*(e=>e.membership_fee_charge_cycle_resets_at)(this.returnCurrentUserData())))} for $${Np(this.returnCurrentUserData())}.`),Dp(this.returnCurrentUserData())>0&&c.createElement("p",null,`You current membership fee balance is $${Dp(this.returnCurrentUserData())}.`)),c.createElement(Cge,{className:"action-container"},c.createElement(hx,{onClick:this.handleUpdateAccountClick},"Update Account"))):c.createElement(Cge,{className:"action-container"},c.createElement(hx,{onClick:this.handleOpenAccountClick},"Open Live Brokerage Account"))))}}var wge=_c(T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(xge)),Sge=Object.defineProperty,kge=(e,t,n)=>(((e,t,n)=>{t in e?Sge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Tge=u.div`
  text-align: center;
  button {
    padding: 8px 16px;
    width: 160px;
  }
`;class Ige extends c.Component{constructor(){super(),kge(this,"_shouldShowChangeEmailButton",(()=>this.state._showChangeEmailButton)),kge(this,"_resetChangeEmailForm",(()=>{this.setState((e=>({formData:l(o({},e.formData),{current_password:""}),_showChangeEmailButton:!0})))})),kge(this,"handleChangeEmailButtonClick",(()=>{this._toggleShowChangeEmailButton()})),kge(this,"_toggleShowChangeEmailButton",(()=>{this.setState((e=>({_showChangeEmailButton:!e._showChangeEmailButton})))})),kge(this,"handleSubmitClick",(()=>{this.submitNewFieldData()})),kge(this,"submitNewFieldData",(()=>{const e=this.getCurrentFormValueForCurrentPasswordField(),t=this.getCurrentFormValueForField("email");this._startSaving(),this.props.actions.changeEmail(e,t).then((e=>{const t=e.success;if(this._stopSaving(),t)this._setWasSubmitted(),this._showSaveSuccessMessage(),this._resetChangeEmailForm();else{const t=e.error;this._resetWasSubmitted(),this._showSaveFailedErrorMessage(t)}}))})),kge(this,"isSubmittingFormData",(()=>this.state._isSubmitting)),kge(this,"_wasSubmitted",(()=>this.state._wasSubmitted)),kge(this,"getCurrentFormValueForCurrentPasswordField",(()=>this.getCurrentFormValueForField("current_password")||"")),kge(this,"getCurrentSavedValueForField",(e=>this.props.currentUser[e])),kge(this,"getCurrentFormValueForField",(e=>this.state.formData[e])),kge(this,"_hasFieldValueChanged",(()=>this.getCurrentSavedValueForField("email")!==this.getCurrentFormValueForField("email"))),kge(this,"_startSaving",(()=>{this.setState((()=>({_isSubmitting:!0})))})),kge(this,"_stopSaving",(()=>{this.setState((()=>({_isSubmitting:!1})))})),kge(this,"_stopSaving",(()=>{this.setState((()=>({_isSubmitting:!1})))})),kge(this,"_setWasSubmitted",(()=>{this.setState((()=>({_wasSubmitted:!0})))})),kge(this,"_resetWasSubmitted",(()=>{this.setState((()=>({_wasSubmitted:!1})))})),kge(this,"_showSaveSuccessMessage",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"An email was sent to this new email address for confirmation.");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),kge(this,"_showSaveFailedErrorMessage",(e=>{e=e||"Something went wrong. Please reload page and try again.";const t=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e);this.props.actions.showModal({contentComponent:t,size:"wide",dismissable:!0})})),kge(this,"_renderInputs",(()=>this._returnFormInputs().map((e=>this._createInputElement(e))))),kge(this,"_returnFormInputs",(()=>this.state.inputs)),kge(this,"_createInputElement",(e=>Rh.call(this,e,this._returnInputDefaultProps.call(this)))),this.state={_isSubmitting:!1,_wasSubmitted:!1,_showChangeEmailButton:!0,formData:{},focusedField:null,focusNote:{},errors:{},inputs:[{type:$d,typeName:"TextField",name:"email",label:"Email",required:!0,props:{autocompleteValue:"off"}},{type:$d,typeName:"TextField",name:"current_password",label:"Current Password",required:!0,props:{customWrapperClass:"password-field",inputType:"password",autocompleteValue:"new-password"}}]}}static getDerivedStateFromProps(e,t){if(!t.formData.email){return{formData:{email:e.currentUser.email}}}return null}render(){return c.createElement("div",{className:"edit-email-form-container"},c.createElement(Iw,{bottom:16},c.createElement(vge,{headingText:"Change Email Address"})),this._shouldShowChangeEmailButton()?c.createElement(Tge,{className:"open-email-change-form-button-container action-container"},c.createElement(hx,{onClick:this.handleChangeEmailButtonClick},"Change Email")):c.createElement("div",{className:"form-input-container"},this._renderInputs()),!this._shouldShowChangeEmailButton()&&c.createElement("div",{className:"submit-change-email-form-container"},this.isSubmittingFormData()?c.createElement(hx,{handleClick:()=>!1},"Submitting"):c.createElement(hx,{onClick:this.handleSubmitClick},"Submit")))}_returnInputDefaultProps(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),handleChange:Sh.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this)}}}var Nge=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(Ige),Age=Object.defineProperty,Pge=(e,t,n)=>(((e,t,n)=>{t in e?Age(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Dge extends c.Component{constructor(){super(),Pge(this,"handleChangePasswordSubmitClick",(()=>{this.submitNewPassword(this.getCurrentFormValueForCurrentPasswordField(),this.getCurrentFormValueForNewPasswordField())})),Pge(this,"submitNewPassword",((e,t)=>{this._startSubmitting(),this.props.actions.changePassword(e,t).then((e=>{this.clearPassfordField(),this._stopSubmitting();if(e.success)this._showPasswordChangedSuccessMessage();else{const t=e.error;this._showSaveFailedErrorMessage(t)}}))})),Pge(this,"getCurrentFormValueForField",(e=>this.state.formData[e])),Pge(this,"getCurrentFormValueForCurrentPasswordField",(()=>this.getCurrentFormValueForField("current_password")||"")),Pge(this,"getCurrentFormValueForNewPasswordField",(()=>this.getCurrentFormValueForField("password")||"")),Pge(this,"isSavingFormData",(()=>this.state._isSubmitting)),Pge(this,"_clearErrors",(()=>{this.setState((()=>({errors:{}})))})),Pge(this,"_createFormError",(e=>{this.setState((()=>({errors:{password:e}})))})),Pge(this,"_startSubmitting",(()=>{this.setState((()=>({_isSubmitting:!0})))})),Pge(this,"_stopSubmitting",(()=>{this.setState((()=>({_isSubmitting:!1})))})),Pge(this,"clearPassfordField",(()=>{this.setState((()=>({formData:{password:""}})))})),Pge(this,"_showPasswordChangedSuccessMessage",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Password was updated successfully");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),Pge(this,"_showSaveFailedErrorMessage",(e=>{const t=e||"Something went wrong. Please try again.",n=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},t);this.props.actions.showModal({contentComponent:n,size:"wide",dismissable:!0})})),Pge(this,"_isCurrentPasswordEntered",(()=>this.getCurrentFormValueForCurrentPasswordField().length>0)),Pge(this,"_isNewPasswordEntered",(()=>this.getCurrentFormValueForNewPasswordField().length>0)),Pge(this,"_isValidToSubmit",(()=>this._isCurrentPasswordEntered()&&this._isNewPasswordEntered())),Pge(this,"_returnFormInputs",(()=>this.state.inputs)),Pge(this,"_createInputElement",(e=>Rh.call(this,e,this._returnInputDefaultProps.call(this)))),this.state={_isSubmitting:!1,formData:{current_password:"",password:""},focusedField:null,focusNote:{},errors:{},inputs:[{type:$d,typeName:"TextField",name:"current_password",label:"Current Password",required:!0,props:{customWrapperClass:"password-field",inputType:"password",autocompleteValue:"new-password"}},{type:$d,typeName:"TextField",name:"password",label:"New Password",required:!0,props:{customWrapperClass:"password-field",inputType:"password",autocompleteValue:"new-password"}}]}}render(){return c.createElement("div",{className:"edit-password-form-container"},c.createElement(Iw,{bottom:24},c.createElement(vge,{headingText:"Change Password"})),c.createElement("div",{className:"form-input-container"},this._createInputElement(this._returnFormInputs()[0]),this._createInputElement(this._returnFormInputs()[1]),this._isValidToSubmit()&&c.createElement("div",{className:"change-password-submit-button-container"},this.isSavingFormData()?c.createElement(hx,{onClick:()=>!1},"Submitting"):c.createElement(hx,{onClick:this.handleChangePasswordSubmitClick},"Submit")),c.createElement(ege,{shouldRender:this.isSavingFormData(),timeDelayToRender:5,minTimeLengthToRender:900},c.createElement("div",{className:"saving-message secondary-text-color"},"Submitting..."))))}_returnInputDefaultProps(){return{handleFocus:Eh.bind(this),handleBlur:bh.bind(this),handleChange:Sh.bind(this),isFocused:function(e){return this.state.focusedField===e}.bind(this),getFocusNote:function(e){if("focusNote"in this.state)return this.state.focusNote[e]}.bind(this),getErrorMessage:function(e){return this.state.errors[e]}.bind(this),getValue:function(e){return this.state.formData[e]}.bind(this)}}}var Oge=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(Dge),Lge=Object.defineProperty,Rge=(e,t,n)=>(((e,t,n)=>{t in e?Lge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Fge extends c.Component{constructor(){super(),Rge(this,"_returnAllFieldNames",(()=>["firstName","lastName","street","city","state","zip","country"])),Rge(this,"_isFieldRequired",(e=>["firstName","lLastName","street","city","state","zip","country"].includes(e))),Rge(this,"_setErrorForField",((e,t)=>{this.setState((n=>({errors:l(o({},n.errors),{[e]:t})})))})),Rge(this,"_clearErrorForField",(e=>{this.setState((t=>({errors:l(o({},t.errors),{[e]:null})})))})),Rge(this,"_isFieldMissingValue",(e=>""===e)),Rge(this,"_returnRequiredFieldErrorMessage",(()=>"Field is required")),Rge(this,"_validateField",((e,t)=>!this._isFieldRequired(e)||!this._isFieldMissingValue(t)||(this._setErrorForField(e,this._returnRequiredFieldErrorMessage()),!1))),Rge(this,"_validateForm",(()=>{let e=!0;return this._returnAllFieldNames().forEach((t=>{this._validateField(t,this.returnValueForFieldName(t))||(e=!1)})),e})),Rge(this,"_doesFieldHaveError",(e=>!!this.returnFieldError(e))),Rge(this,"returnFormData",(()=>this.state.formData)),Rge(this,"returnFormErrorMessageLookup",(()=>this.state.errors)),Rge(this,"returnFieldError",(e=>this.returnFormErrorMessageLookup()[e])),Rge(this,"returnStateDropdownOptions",(()=>["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"])),Rge(this,"returnCountryDropdownOptions",(()=>Fh())),Rge(this,"handleDropdownSelection",((e,t)=>{this._setInputValue(e,t),this._validateField(e,t)&&this._doesFieldHaveError(e)&&this._clearErrorForField(e)})),Rge(this,"handleInputChange",((e,t)=>{this._doesFieldHaveError(e)&&this._validateField(e,t)&&this._clearErrorForField(e),this._setInputValue(e,t)})),Rge(this,"handleInputBlur",((e,t)=>{this._validateField(t,e)})),Rge(this,"_setInputValue",((e,t)=>{this.setState((n=>({formData:l(o({},n.formData),{[e]:t})})))})),Rge(this,"getUseLiveAccountAddressValue",(()=>this._shouldUseLiveAccountAddress())),Rge(this,"handleToggleUseLiveAccountAddress",(()=>{this._toggleUseLiveAccountAddress()})),Rge(this,"handleSubmit",(()=>{if(this._validateForm())return this.props.onPaymentSubmitStart&&this.props.onPaymentSubmitStart(),this.props.handleSubmit(this.returnFormData())})),Rge(this,"returnValueForFieldName",(e=>this.returnFormData()[e])),Rge(this,"returnFirstNameValue",(()=>this.returnFormData().firstName)),Rge(this,"returnLastNameValue",(()=>this.returnFormData().lastName)),Rge(this,"returnStreetAddressValue",(()=>this.returnFormData().street)),Rge(this,"returnCityValue",(()=>this.returnFormData().city)),Rge(this,"returnStateValue",(()=>this.returnFormData().state)),Rge(this,"returnZipValue",(()=>this.returnFormData().zip)),Rge(this,"returnCountryValue",(()=>this.returnFormData().country)),Rge(this,"returnLiveAccountData",(()=>this.props.liveAccountData)),this.state={formData:{firstName:"",lastName:"",street:"",city:"",state:"",zip:"",country:""},errors:{}}}componentDidMount(){this.props.startingFormData&&this.setState((e=>({formData:o(o({},e.formData),this.props.startingFormData)})))}render(){return c.createElement("div",{className:"credit-card-form-container"},c.createElement("div",{className:"credit-card-payment-inputs"},c.createElement(Q4,{containerClassName:"credit-card-input card-holder-first-name",type:"text",name:"firstName",label:"First Name",value:this.returnFirstNameValue(),errorMessage:this.returnFieldError("firstName"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input card-holder-last-name",type:"text",name:"lastName",label:"Last Name",value:this.returnLastNameValue(),errorMessage:this.returnFieldError("lastName"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0})),c.createElement("div",{className:"credit-card-billing-address-inputs"},c.createElement(Q4,{containerClassName:"credit-card-input street-address",type:"text",name:"street",label:"Street Address",value:this.returnStreetAddressValue(),errorMessage:this.returnFieldError("street"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement(Q4,{containerClassName:"credit-card-input city-input",type:"text",name:"city",label:"City",value:this.returnCityValue(),errorMessage:this.returnFieldError("city"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement("div",{className:"credit-card-input state-input"},c.createElement(qG,{type:"text",name:"state",label:"State",value:this.returnStateValue(),options:this.returnStateDropdownOptions(),errorMessage:this.returnFieldError("state"),handleSelection:this.handleDropdownSelection,handleBlur:this.handleInputBlur,includeLabelAsSelection:!0,showArrowIcons:!0})),c.createElement(Q4,{containerClassName:"credit-card-input zip-input",type:"number",name:"zip",label:"Postal Code",value:this.returnZipValue(),errorMessage:this.returnFieldError("zip"),handleChange:this.handleInputChange,handleBlur:this.handleInputBlur,isFloatingStyle:!0}),c.createElement("div",{className:"credit-card-input country-input"},c.createElement(qG,{type:"number",name:"country",label:"Country",value:this.returnCountryValue(),options:this.returnCountryDropdownOptions(),errorMessage:this.returnFieldError("country"),handleSelection:this.handleDropdownSelection,handleBlur:this.handleInputBlur,includeLabelAsSelection:!0,showArrowIcons:!0}))),c.createElement("div",{className:"form-action-container"},c.createElement(Cc,{customClass:"btn btn-primary-color btn-small-tall btn-fixed-width-95",text:this.props.useIsSubmittingBtn&&this.props.isSubmitting?"Loading":this.props.submitBtnText||"Save",handleClick:this.handleSubmit}),!this.props.hideCancelBtn&&c.createElement(Cc,{customClass:"btn-flat btn-flat-grey btn-small-tall cancel-btn",text:"Cancel",handleClick:this.props.handleCancel})))}}const Mge=T(null,(e=>({actions:I(WC,e)})))(Fge);class Uge extends C.exports.PureComponent{render(){const{message:e,onDismiss:t}=this.props;return c.createElement("div",{className:"in-component-success-banner success-bg"},c.createElement("div",{className:"dismiss-message-button offset-to-center"}),c.createElement("div",{className:"message-container text-color-contrast-against-color-bg"},e),c.createElement("div",{className:"dismiss-message-button",onClick:t},c.createElement(xc,{icon:"fa fa-times",size:"small",customClass:"text-color-contrast-against-color-bg"})))}}var $ge=Object.defineProperty,Bge=(e,t,n)=>(((e,t,n)=>{t in e?$ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class zge extends c.Component{constructor(){super(),Bge(this,"renderForm",(()=>this.shouldShowCCForm()?c.createElement(d6,{isSubmitting:this.isSubmitting(),startingFormData:this.returnSubscriptionBillingData(),submitBtnText:"Save",submitTokenAction:this.handleCreditCardSubmit,onPaymentSubmitStart:this.handleFormSubmitStart,onPaymentFailure:this.handleUpdateFailure,handleCancel:this.handleCancelEdit,useIsSubmittingBtn:!0,hideUseAccountAddress:!0}):c.createElement(Mge,{isSubmitting:this.isSubmitting(),startingFormData:this.returnSubscriptionBillingData(),submitBtnText:"Save",onPaymentSubmitStart:this.handleFormSubmitStart,handleSubmit:this.handleBillingInfoSubmit,handleCancel:this.handleCancelEdit,useIsSubmittingBtn:!0,hideUseAccountAddress:!0}))),Bge(this,"shouldShowAForm",(()=>this.shouldShowCCForm()||this.shouldShowAddressForm())),Bge(this,"shouldShowCCForm",(()=>this.state._showCCForm)),Bge(this,"shouldShowAddressForm",(()=>this.state._showAddressForm)),Bge(this,"wasInitError",(()=>this.state._initError)),Bge(this,"handleShowCreditCardForm",(()=>{this.wasInitError()?this._showInitFailErrorMessage():this.setState((e=>({_showCCForm:!e._showCCForm})))})),Bge(this,"handleShowBillingAddressForm",(()=>{this.wasInitError()?this._showInitFailErrorMessage():this.setState((e=>({_showAddressForm:!e._showAddressForm})))})),Bge(this,"handleFormSubmitStart",(()=>{this._setIsSubmitting()})),Bge(this,"onBillingInfoLoad",(e=>{this.cacheStartingBillingData(e),this.setBillingInfoLoadCompleted()})),Bge(this,"cacheStartingBillingData",(e=>{this.billingData=e})),Bge(this,"setBillingInfoLoadCompleted",(()=>{this.setState((()=>({_billingInfoLoadCompleted:!0})))})),Bge(this,"isLoadingBillingInfo",(()=>!this.state._billingInfoLoadCompleted)),Bge(this,"returnSubscriptionBillingData",(()=>this.billingData)),Bge(this,"handleBillingInfoSubmit",(e=>{this.sendBillingInfoUpdate(e)})),Bge(this,"handleUpdateComplete",(()=>{this._clearIsSubitting(),this._setPaymentUpdatedSuccess(),this.hideForms(),this.getUpdateSubscriptionBillingData()})),Bge(this,"handleUpdateFailure",(e=>{this._clearIsSubitting(),this._showErrorMessage(e),this._logSubmitPaymentError(e)})),Bge(this,"wasPaymentUpdatedSuccessfully",(()=>this.state._wasUpdateCompleted)),Bge(this,"_setPaymentUpdatedSuccess",(()=>{this.setState((()=>({_wasUpdateCompleted:!0})))})),Bge(this,"_clearPaymentUpdatedSuccess",(()=>{this.setState((()=>({_wasUpdateCompleted:!1})))})),Bge(this,"isSubmitting",(()=>this.state._isSubmitting)),Bge(this,"_setIsSubmitting",(()=>{this.setState((()=>({_isSubmitting:!0})))})),Bge(this,"_clearIsSubitting",(()=>{this.setState((()=>({_isSubmitting:!1})))})),Bge(this,"_showErrorMessage",(e=>{Q_(CS(e))(this.props.dispatch)})),Bge(this,"handleCreditCardSubmit",((e,t)=>{aC(e,t)(this.props.dispatch).then((e=>{if(e&&e.ok)return this.handleUpdateComplete();{const t=md(e);return this.handleUpdateFailure(t)}})).catch((e=>console.error("error occurred",e)))})),Bge(this,"sendBillingInfoUpdate",(e=>{aC(null,e)(this.props.dispatch).then((e=>{if(e&&e.ok)this.handleUpdateComplete();else{const t=md(e);this.handleUpdateFailure(t)}}))})),Bge(this,"handleCancelEdit",(()=>{this.hideForms()})),Bge(this,"hideForms",(()=>{this.setState((()=>({_showCCForm:!1,_showAddressForm:!1})))})),Bge(this,"init",(()=>{iC()(this.props.dispatch).then((e=>{if(e&&e.ok){const t=l(o({},e.billing_info),{cardHolderFirstName:e.billing_info.first_name,cardHolderLastName:e.billing_info.last_name,firstName:e.billing_info.first_name,lastName:e.billing_info.last_name,cardNumber:e.masked_card_number});this.onBillingInfoLoad(t)}else this._setUnableToGetBillingDetails(),this._showInitFailErrorMessage()}))})),Bge(this,"getUpdateSubscriptionBillingData",(()=>{this.billingData={},this.setState((()=>({_billingInfoLoadCompleted:!1}))),iC()(this.props.dispatch).then((e=>{if(e&&e.ok){const t=l(o({},e.billing_info),{cardHolderFirstName:e.billing_info.first_name,cardHolderLastName:e.billing_info.last_name,firstName:e.billing_info.first_name,lastName:e.billing_info.last_name,cardNumber:e.masked_card_number});this.onBillingInfoLoad(t)}else this._setUnableToGetBillingDetails(),this._showInitFailErrorMessage()}))})),Bge(this,"_showInitFailErrorMessage",(()=>this._showErrorMessage("Unable to get current billing details. Please refresh and try again."))),Bge(this,"_setUnableToGetBillingDetails",(()=>{this.setState((()=>({_initError:!0})))})),Bge(this,"_logSubmitPaymentError",(e=>{ly("Update Subscription Billing Information Failure",{Message:e})(this.props.dispatch)})),this.state={_isSubmitting:!1,_initError:!1,_billingInfoLoadCompleted:!1,_wasUpdateCompleted:!1,_showCCForm:!1,_showAddressForm:!1}}componentDidMount(){this.init()}render(){return c.createElement("div",{className:"edit-subscription-billing-form-container"},this.wasPaymentUpdatedSuccessfully()&&c.createElement(Uge,{message:"Updated Successfully",onDismiss:this._clearPaymentUpdatedSuccess}),this.shouldShowAForm()?this.isLoadingBillingInfo()?c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}):this.renderForm():c.createElement("div",{className:"actions-container"},c.createElement(hx,{onClick:this.handleShowCreditCardForm},"Credit Card"),c.createElement(hx,{onClick:this.handleShowBillingAddressForm},"Billing Address")))}}var Vge=T()(zge);const Hge=e=>{const{message:t,handleConfirm:n,handleCancel:r,customMessage:i,customButtons:a}=e;return c.createElement("div",{className:"ask-for-confirmation-container"},i||c.createElement("p",{className:"confirmation-question  "},t),c.createElement("div",{className:"action-buttons-container"},c.createElement(Gge,{buttonClassName:"btn btn-primary-color btn-small-tall btn-fixed-width-95",handleClick:n,text:a&&a[0]||"Yes"}),c.createElement(Gge,{buttonClassName:"link-btn link-btn-low-contrast btn-small-tall btn-fixed-width-95",text:a&&a[1]||"Cancel",handleClick:r})))};var Wge=Object.defineProperty,jge=(e,t,n)=>(((e,t,n)=>{t in e?Wge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Gge extends c.Component{constructor(){super(),jge(this,"_renderConfirmation",(()=>c.createElement(GL,null,c.createElement(Hge,{message:"Are you sure you wish to cancel?",handleConfirm:this.handleConfirmationClick,handleCancel:this.handleCancelClick,customMessage:this.props.customConfirmationMessage,customButtons:this.props.customConfirmationButtonText})))),jge(this,"handleConfirmationClick",(()=>{this._hideGetConfirmationComponent(),this.props.handleConfirmAction()})),jge(this,"handleCancelClick",(()=>{this._hideGetConfirmationComponent(),this.props.handleCancelAction()})),jge(this,"handleConfirmAction",(()=>{this.props.handleConfirmAction()})),jge(this,"handleCancelAction",(()=>{this.props.handleCancelAction()})),jge(this,"handleClick",(()=>{this.props.needsConfirmation&&this._showGetConfirmationComponent(),this.props.handleClick()})),jge(this,"_shouldShowGetConfirmationComponent",(()=>this.state._showGetConfirmationComponent)),jge(this,"_showGetConfirmationComponent",(()=>{this.setState((()=>({_showGetConfirmationComponent:!0})))})),jge(this,"_hideGetConfirmationComponent",(()=>{this.setState((()=>({_showGetConfirmationComponent:!1})))})),this.state={_showGetConfirmationComponent:!1}}render(){return c.createElement("div",{className:`button-container-wrapper ${this.props.buttonWrapperClassName||""}`},c.createElement(Cc,{customClass:`${this.props.buttonClassName}`,text:this.props.text,handleClick:this.handleClick}),this._shouldShowGetConfirmationComponent()&&this._renderConfirmation())}}const qge={EMAIL:{HREF:"mailto:support@tornado.com",LINK_TEXT:"support",LINK_TEXT_FULL:"support@tornado.com"}};class Yge extends c.PureComponent{render(){const{style:e}=this.props;return c.createElement("p",{className:"contact-support-message",style:e},"If issue persists, contact ",c.createElement("a",{href:qge.EMAIL.HREF},qge.EMAIL.LINK_TEXT)," for more information.")}}Yge.defaultProps={style:{}};var Kge=Object.defineProperty,Qge=(e,t,n)=>(((e,t,n)=>{t in e?Kge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Zge extends C.exports.PureComponent{constructor(){super(),Qge(this,"_renderIsUnsubscribingMessage",(()=>c.createElement("div",{className:"is-unsubscribing",style:{textAlign:"center"}},c.createElement(_e,{icon:"fading-3balls",size:"small",style:{marginRight:"8px"}}),c.createElement("span",null,"Cancelling...")))),Qge(this,"_renderUnsubscribeSuccess",(()=>c.createElement("div",{className:"unsubscribe-success"},c.createElement(Uge,{message:`${Xo} Subscription was cancelled`,onDismiss:this.resetUnsubscribedStatus})))),Qge(this,"_renderUnsubscribeError",(()=>c.createElement("div",{className:"unsubscribe-error",style:{textAlign:"center"}},c.createElement("p",{className:"error-message"},"Something went wrong. Please try again."),c.createElement(Yge,null)))),Qge(this,"_handleClickUnsubscribeBtn",(()=>{this._logClickedUnsubscribe()})),Qge(this,"_handleUnsubscribeFromSubscriptionClick",(()=>{this.unsubscribeFromSubscription()})),Qge(this,"_handleCancelUnsubscribeFromSubscriptionClick",(()=>{this._logClickedCancelUnsubscribe()})),Qge(this,"_shouldShowUnsubscribedMessage",(()=>this.state._didUnsubscribe)),Qge(this,"_didUnsubscribe",(()=>this.state._didUnsubscribe)),Qge(this,"_isUnsubscribing",(()=>this.state._isUnsubscribing)),Qge(this,"_wasUnsubscribeError",(()=>this.state._wasUnsubscribeError)),Qge(this,"unsubscribeFromSubscription",(()=>{this._setIsUnsubscribing(),sC().then((e=>{this._clearIsUnsubscribing(),e.ok?this._showUnsubscribedMessage():this._showUnsubscribeErrorMessage()}))})),Qge(this,"_showUnsubscribedMessage",(()=>{this.setState((()=>({_didUnsubscribe:!0,_isUnsubscribing:!1})))})),Qge(this,"resetUnsubscribedStatus",(()=>{this.setState((()=>({_didUnsubscribe:!1})))})),Qge(this,"_setIsUnsubscribing",(()=>{this.setState((()=>({_isUnsubscribing:!0})))})),Qge(this,"_clearIsUnsubscribing",(()=>{this.setState((()=>({_isUnsubscribing:!1})))})),Qge(this,"_showUnsubscribeErrorMessage",(()=>{this.setState((()=>({_wasUnsubscribeError:!0,_isUnsubscribing:!1})))})),Qge(this,"_logClickedCancelUnsubscribe",(()=>{TC("Canceled Unsubscribe from Tornado Subscription",{})()})),Qge(this,"_logClickedUnsubscribe",(()=>{TC("Clicked Unsubscribe from Tornado Subscription",{})()})),this.state={_isUnsubscribing:!1,_didUnsubscribe:!1,_wasUnsubscribeError:!1}}render(){return c.createElement("div",null,c.createElement("div",{className:"action-container"},c.createElement("div",{className:"close-account-btn-container"},this._isUnsubscribing()&&this._renderIsUnsubscribingMessage(),!this._isUnsubscribing()&&c.createElement(Gge,{buttonWrapperClassName:"cancel-nvstr-plan-btn",buttonClassName:"link-btn link-btn-low-contrast",handleClick:this._handleClickUnsubscribeBtn,handleConfirmAction:this._handleUnsubscribeFromSubscriptionClick,handleCancelAction:this._handleCancelUnsubscribeFromSubscriptionClick,text:`Cancel ${Xo} Subscription`,customConfirmationMessage:c.createElement("div",{className:"nvstr-prime-cancel-confirmation"},c.createElement("p",null,"Are you sure you wish to cancel?"),c.createElement("p",null,"Your subscription will end at the end of the current billing cycle. You’ll then pay a commission for each trade placed after that.")),customConfirmationButtonText:["Yes","Nevermind"],needsConfirmation:!0}),this._didUnsubscribe()&&this._renderUnsubscribeSuccess(),this._wasUnsubscribeError()&&this._renderUnsubscribeError())))}}var Xge=T()(Zge);var Jge=T((e=>({subscription_ending_at:n6(e)})))((e=>{const{subscription_ending_at:t}=e;return c.createElement("div",{className:"edit-sub-billing-form-container"},c.createElement(vge,{headingText:"Change Subscription Billing"}),t?c.createElement("div",{className:"text-center"},c.createElement("span",{className:" "},`Subscription will end on ${Yl("LL",jl(1e3*t))}`)):c.createElement(c.Fragment,null,c.createElement(Vge,null),c.createElement(Xge,null)))})),eye=Object.defineProperty,tye=(e,t,n)=>(((e,t,n)=>{t in e?eye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class nye extends C.exports.PureComponent{constructor(){super(...arguments),tye(this,"handleViewPlansClick",(()=>{this.props.navigate(Ln("subscriptions")),this.logClickViewPlans()})),tye(this,"logClickViewPlans",(()=>{ly("Clicked View Subscription Plans",{})()}))}render(){return c.createElement("div",null,c.createElement(vge,{headingText:"Subscriptions"}),c.createElement("div",{className:"action-container"},c.createElement(hx,{onClick:this.handleViewPlansClick},"View Plans")))}}var rye=_c(nye);class iye extends c.PureComponent{render(){const{onContinue:e,onCancel:t}=this.props;return c.createElement("div",{className:"close-account-msg-container"},c.createElement("p",null,"Not happy? Please contact us at ",c.createElement("a",{href:"mailto:support@tornado.com"},"support@tornado.com")," anytime with any questions, comments, or concerns. We'll do anything we can to make it right."),this.props.isLiveAccount&&c.createElement("p",null,"We can only close your account if you have a $0 balance and no pending orders or transfers."),c.createElement("div",{className:"",style:{paddingTop:"20px",textAlign:"center"}},c.createElement("span",null,c.createElement(hx,{onClick:e},"Close Account"),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement(hx,{transparent:!0,onClick:t},"Cancel"))))}}var aye=T((e=>({isLiveAccount:Rp(e.currentUser)})))(iye),sye=Object.defineProperty,oye=(e,t,n)=>(((e,t,n)=>{t in e?sye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class lye extends c.PureComponent{constructor(){super(...arguments),oye(this,"onCloseAccountStart",(()=>{this._logCloseAccountStartClick();const e=c.createElement(aye,{onContinue:this.onCloseAccount,onCancel:this.onCancel});bb({contentComponent:e,dismissable:!0,size:"wide"})(this.props.dispatch)})),oye(this,"onCloseAccount",(()=>{this._logContinueCloseAccount(),this._showProcessingClose(),this._sendCloseAccountRequest()})),oye(this,"onCancel",(()=>{this._logCancelCloseAccount(),(0,this.props.dispatch)({type:"HIDE_MODAL"})})),oye(this,"_sendCloseAccountRequest",(()=>{BE()(this.props.dispatch).then((e=>this._handleCloseAccountRequestResponse(e)))})),oye(this,"_handleCloseAccountRequestResponse",(e=>{(0,this.props.dispatch)({type:"HIDE_MODAL"}),e.ok?(this._showCloseSuccess(),this._logCloseAccountSuccess()):(this._showCloseFailure(e),this._logCloseAccountFailure())})),oye(this,"_showProcessingClose",(()=>{bb({contentComponent:c.createElement("div",{style:{textAlign:"center"}},c.createElement("span",null,c.createElement(_e,null)),c.createElement(zz,null),c.createElement(zz,null),c.createElement(zz,null),c.createElement("span",null,"Processing")),dismissable:!1})(this.props.dispatch)})),oye(this,"_triggerAfterCloseSuccessReload",(()=>{window.location="/"})),oye(this,"_showCloseSuccess",(()=>{const e=c.createElement("div",{style:{textAlign:"center"}},c.createElement("div",{className:"flex-center-child"},c.createElement(xc,{colorClassName:"success-text-color",icon:"fa-check-circle",size:"xlarge"}),c.createElement(zz,null),c.createElement(zz,null),c.createElement("span",{style:{fontSize:18}},"Success")),c.createElement("p",{style:{paddingTop:"15px"}},"The page will reload shortly and reflect the changes. If the page does",c.createElement(zz,null),"not",c.createElement(zz,null),"reload",c.createElement(zz,null),"click",c.createElement(zz,null),c.createElement("a",{onClick:this._triggerAfterCloseSuccessReload},"here")));bb({contentComponent:e,dismissable:!0,size:"wide"})(this.props.dispatch),setTimeout((()=>this._triggerAfterCloseSuccessReload()),5e3)})),oye(this,"_showCloseFailure",(e=>{const t=e.error?c.createElement("div",{style:{paddingTop:"10px"}},c.createElement("p",{style:{textAlign:"center"}},e.error)):c.createElement("div",null,c.createElement("p",null,"Please complete the steps below before closing your account."),e.actions.map(((e,t)=>c.createElement("p",{key:t},`${t+1}. ${e}`))));bb({contentComponent:c.createElement("div",null,c.createElement("p",{style:{fontSize:"18px",textAlign:"center"}},"Unable to close account"),t,c.createElement("div",{style:{textAlign:"center",paddingTop:"10px"}},c.createElement(t8,null))),dismissable:!0,size:"wide"})(this.props.dispatch)})),oye(this,"_logCloseAccountStartClick",(()=>{TC("Clicked Close Account",{})()})),oye(this,"_logContinueCloseAccount",(()=>{TC("Submit Close Account Request",{})()})),oye(this,"_logCloseAccountSuccess",(()=>{TC("Close Account Success",{})()})),oye(this,"_logCloseAccountFailure",(()=>{TC("Close Account Failed",{})()})),oye(this,"_logCancelCloseAccount",(()=>{TC("Cancel Close Account",{})()}))}render(){const{children:e}=this.props;return e(this.onCloseAccountStart)}}var cye=T()(lye);const dye=u.div`
  button {
    padding: 8px 0;
  }
`;class uye extends c.PureComponent{render(){return c.createElement(cye,null,(e=>c.createElement(dye,{className:"close-nvstr-account-container"},c.createElement(hx,{transparent:!0,onClick:e},"Close Account"))))}}var hye=T()(uye);const pye=({children:e})=>c.createElement(Iw,{bottom:24},e),mye=e=>c.createElement("div",{className:"edit-account-form-container"},c.createElement(pye,null,c.createElement(wge,null)),c.createElement(Zme,{renderIf:"hasSubscribed"},c.createElement(pye,null,c.createElement(Jge,null))),c.createElement(Zme,{renderIf:"isEligibleSubscriptionsNotSubscribed"},c.createElement(pye,null,c.createElement(rye,null))),c.createElement(pye,null,c.createElement(Nge,null)),c.createElement(pye,null,c.createElement(Oge,null)),c.createElement(pye,null,c.createElement(hye,null)));var gye=Object.defineProperty,yye=(e,t,n)=>(((e,t,n)=>{t in e?gye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class _ye extends c.Component{constructor(){super(),yye(this,"handleDropdownChange",((e,t)=>{"privacy"===e?(this._setPrivacyDropdownFormValue(t),this._savePrivacyPreference(t.name)):"email_frequency"===e&&(this._setEmailFrequencyDropdownFormValue(t),this._saveEmailFrequencyPreference(t.name))})),yye(this,"_setEmailFrequencyDropdownFormValue",(e=>{this._setFormDataValue("email_frequency",e)})),yye(this,"_setPrivacyDropdownFormValue",(e=>{this._setFormDataValue("privacy",e)})),yye(this,"_returnOptionValueFromValueName",((e,t)=>{let n=null;return e.forEach((e=>{e.name===t&&(n=e)})),n})),yye(this,"_setFormDataValue",((e,t)=>{this.setState((n=>({formData:l(o({},this.state.formData),{[e]:t})})))})),yye(this,"_renderPrivacyDropdown",(()=>{const e=this._createPrivacyDropdownInputData();return this._renderInput(e)})),yye(this,"_renderEmailFrequencyDropdown",(()=>{const e=this._createEmailFrequencyDropdownInputData();return this._renderInput(e)})),yye(this,"_createPrivacyDropdownInputData",(()=>({type:vH,typeName:"Dropdown",name:"privacy",label:"Privacy",required:!0,props:{handleChange:this.handleDropdownChange,styling:"dropdown-inline-left",values:this._returnPrivacyTypes(),includeLabelAsSelection:!1,forceShowLabel:!0,showArrowIcons:!0}}))),yye(this,"_createEmailFrequencyDropdownInputData",(()=>({type:vH,typeName:"Dropdown",name:"email_frequency",label:"Email Frequency",required:!0,props:{handleChange:this.handleDropdownChange,styling:"dropdown-inline-left",values:this._returnEmailFrequencyTypes(),includeLabelAsSelection:!1,forceShowLabel:!0,showArrowIcons:!0}}))),yye(this,"_renderInput",(e=>iF.call(this,e))),yye(this,"handleSaveNewFieldData",((e,t)=>{this.submitNewFieldData(e,t)})),yye(this,"_savePrivacyPreference",(e=>this.handleSaveNewFieldData("privacy",e))),yye(this,"_saveEmailFrequencyPreference",(e=>this.handleSaveNewFieldData("email_frequency",e))),yye(this,"submitNewFieldData",((e,t)=>{this._startSaving(),this.props.actions.updateUserProperty({[e]:t}).then((e=>{this._stopSaving(),e||this._showSaveFailedErrorMessage()}))})),yye(this,"getCurrentSavedValueForField",(e=>this.props.currentUser[e])),yye(this,"getCurrentFormValueForField",(e=>this.state.formData[e])),yye(this,"isSavingFormData",(()=>this.state._isSaving)),yye(this,"_returnPrivacyTypes",(()=>[{id:0,name:"private_privacy",displayName:"Private",isEnabled:()=>!0,disabledReason:()=>null},{id:1,name:"connections_privacy",displayName:"Connections",isEnabled:()=>!0,disabledReason:()=>null},{id:2,name:"public_privacy",displayName:"Public",isEnabled:()=>!0,disabledReason:()=>null}])),yye(this,"_returnEmailFrequencyTypes",(()=>[{id:0,name:"weekly",displayName:"Weekly",isEnabled:()=>!0,disabledReason:()=>null},{id:1,name:"daily",displayName:"Daily",isEnabled:()=>!0,disabledReason:()=>null},{id:2,name:"never",displayName:"Never",isEnabled:()=>!0,disabledReason:()=>null},{id:3,name:"default",displayName:"Default",isEnabled:()=>!0,disabledReason:()=>null}])),yye(this,"_startSaving",(()=>{this.setState((()=>({_isSaving:!0})))})),yye(this,"_stopSaving",(()=>{this.setState((()=>({_isSaving:!1})))})),yye(this,"_showSaveFailedErrorMessage",(()=>{const e=c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Unable to save. Please reload page and try again.");this.props.actions.showModal({contentComponent:e,size:"wide",dismissable:!0})})),yye(this,"_didInit",(()=>this.state._didInit)),yye(this,"_setInitComplete",(()=>{this.setState((()=>({_didInit:!0})))})),this.state={_didInit:!1,_isSaving:!1,formData:{},focusedField:null,focusNote:{},errors:{}}}componentDidMount(){const e=this.props.currentUser,t={privacy:this._returnOptionValueFromValueName(this._returnPrivacyTypes(),e.privacy_preference),email_frequency:this._returnOptionValueFromValueName(this._returnEmailFrequencyTypes(),e.email_frequency_preference)};this.setState((()=>({formData:t}))),this._setInitComplete()}render(){return this._didInit()?c.createElement("div",{className:"edit-profile-form-container"},c.createElement("div",{className:"saving-form-message-container"},c.createElement(ege,{shouldRender:this.isSavingFormData(),timeDelayToRender:5,minTimeLengthToRender:900},c.createElement("div",{className:"centered-loading-icon"},c.createElement(_e,{icon:"fading-3balls",size:"small"}),c.createElement("div",{className:"secondary-text-color",style:{paddingLeft:"22px",lineHeight:"22px",fontSize:"13px",fontWeight:"300"}},"Saving...")))),c.createElement("div",{className:"edit-preferences-form-container"},this._renderPrivacyDropdown(),this._renderEmailFrequencyDropdown())):c.createElement("div",{className:"edit-profile-form-container"})}}var fye=T((e=>({currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(_ye);const vye=u.div`
  input {
    //border: none;
    line-height: 29px;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  select {
    //border: none;

    //-webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Eye=e=>c.createElement(vye,{className:"edit-preferences-container"},c.createElement(fye,null)),bye=u.div`
  padding: 8px 16px 0 16px;
  min-height: 60vh;
`,Cye=u.div`
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,xye=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  padding: 0 16px;
  max-width: 800px;
  margin: 0 auto;
`,wye=u.div`
  padding: 24px 16px 48px 16px;
  max-width: 800px;
  margin: 0 auto;
`,Sye=u.div`
  padding: 16px 16px;
  max-width: 800px;
  margin: 0 auto;
`,kye=u.div`
  padding: 8px 16px;
  cursor: pointer;

  &.active {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-bottom: 2px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  &:hover {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
`,Tye=({name:e,value:t,isActive:n})=>{const r=b(),i=_();return c.createElement(kye,{onClick:()=>{const e={tab:t},n={pathname:i.pathname,search:`?${q(e)}`};r(n,{replace:!0});TC("Clicked Tab",{Tab:t})()},className:n?"active":""},e)},Iye=e=>e.get("tab"),Nye=({defaultTab:e,tabs:t,componentLookup:n})=>{var r;const[i]=F(),{first_name:a,last_name:s}=ZT(),[o,l]=c.useState(Iye(i)||e);return c.useEffect((()=>{const e=Iye(i);e!==o&&e&&l(e)}),[i,o]),c.createElement("div",null,c.createElement(Cye,null,c.createElement(Sye,null,c.createElement(Ii,null,`${a} ${s}`)),c.createElement(xye,null,t.map((e=>c.createElement(Tye,{key:e,isActive:o===e,name:n[e].displayText,value:e}))))),c.createElement(wye,null,null==(r=n[o])?void 0:r.renderer()))},Aye="profile",Pye="account",Dye="preferences",Oye={[Aye]:{name:"profile",displayText:"Profile",renderer:()=>c.createElement(fge,null)},[Pye]:{name:"account",displayText:"Account",renderer:()=>c.createElement(mye,null)},[Dye]:{name:"preferences",displayText:"Preferences",renderer:()=>c.createElement(Eye,null)}},Lye=[Aye,Pye,Dye];var Rye=_c((e=>{const t=b(),n=_();return c.useEffect((()=>{document.title=`${Xo} - Account Settings`;(()=>{const{pathname:e,search:r}=n,i=fe(r);"1"===i.account&&(delete i.account,i.tab=Dye,t(`${e}${ve(i)}`))})()}),[]),c.createElement(bye,null,c.createElement(qme,{eventName:"View Account Settings"}),c.createElement(Nye,{defaultTab:Aye,componentLookup:Oye,tabs:Lye}))}));const Fye=e=>{const{userId:t}=e;return c.createElement("div",{className:"mutual-connection-row"},c.createElement(gP,{userId:t},c.createElement(VP,{size:"nav",showNameTag:!1,profileLinkQuery:`?context=${jg}`}),c.createElement(WL,{displayNameStyle:"fullName",profileLinkQuery:`?context=${jg}`})))};var Mye=Object.defineProperty,Uye=(e,t,n)=>(((e,t,n)=>{t in e?Mye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $ye extends C.exports.Component{constructor(){super(...arguments),Uye(this,"renderMutualConnectionUsers",(()=>{const{userIds:e,useScrollIfToTall:t}=this.props;return 0===e.length?null:c.createElement("div",{className:`mutual-connections-container ${t?"mutual-connections-container-scroll":""} secondary-text-color`},c.createElement(xc,{icon:"fa-users",colorClassName:"secondary-text-color",size:"small"}),c.createElement(YX,{userIds:e,listLengthLimit:"maxUserNamesToShow"in this.props?this.props.maxUserNamesToShow:2,userNameProps:{displayNameStyle:"fullName"},handleOtherClick:this._handleMutualConnectionsListClick}))})),Uye(this,"_handleMutualConnectionsListClick",(()=>{this.props.userIds.length>0&&this.showMutualConnectionModal()})),Uye(this,"showMutualConnectionModal",(()=>{this.props.actions.logMetricsTrackingEvent("View Mutual Connections",{context:"Suggested Connection"});const e={contentComponent:this.createMutualConnectionModal(),dismissable:!0,size:"wide"};this.props.actions.showModal(e)})),Uye(this,"createMutualConnectionModal",(()=>{const{userIds:e,userId:t}=this.props;return c.createElement("div",{className:"modal-mutual-connection"},c.createElement("div",{className:"modal-mutual-connection-heading"},`${e.length} connection${e.length>1?"s":""} in common with ${np(this.props.users.userList[t])}`),c.createElement("div",{className:"modal-mutual-connection-list"},e.map(((e,t)=>c.createElement(Fye,{key:`mutual-connection-${e}`,userId:e})))))}))}render(){const{userIds:e,emptyString:t}=this.props;return c.createElement("div",{className:"mutual-connections-list-container "+(0===e.length?"text-center no-decoration":"")},this.renderMutualConnectionUsers(),0===e.length&&c.createElement("div",{style:{textAlign:"center",width:"100%"}},t))}}var Bye=T((e=>({users:e.users})),(e=>({actions:I(WC,e)})))($ye);const zye=u.div`
  button {
    padding: 4px 8px;
  }
`,Vye=e=>{const{position:t}=e,n=e.item.user_id,r=e.item.mutual_connections;return c.createElement("div",{className:"user-you-may-know-container component-bg card",style:t},c.createElement("div",{className:"dismiss-btn-container"},c.createElement(aS,{icon:" fa fa-times fa-times-thin",colorClassName:"secondary-text-color",size:"medium",handleClick:()=>{e.handleDismissConnectionSuggestion(n)}})),c.createElement(gP,{containerClass:"card-heading-user",userId:n},c.createElement(VP,{size:"nav",showNameTag:!1,profileLinkQuery:`?context=${jg}`}),c.createElement(WL,{displayNameStyle:"fullName",profileLinkQuery:`?context=${jg}`})),c.createElement(Bye,{userIds:r||[],userId:n,maxUserNamesToShow:2,emptyString:"Suggested for you",useScrollIfToTall:!0}),c.createElement(zye,{className:"connect-btn-container"},e.checkIfRequestedConnection&&e.checkIfRequestedConnection(n)?c.createElement(hx,{handleClick:()=>{},text:"Sent"},"Sent"):c.createElement(hx,{onClick:()=>{e.handleConnectionRequest(n)}},"Connect")))},Hye=e=>{const{position:t}=e,n={height:"40px",left:"0px",right:"70px"},r={height:"40px",left:"70px",right:"0px"},i={height:"10px",top:"40px",left:"0px",right:"0px"},a={height:"15px",top:"60px",left:"0px",right:"0px"},s={height:"15px",top:"95px",left:"0px",right:"0px"},o={height:"10px",top:"130px",left:"0px",right:"0px"};return c.createElement("div",{className:"people-you-may-know-loading-card-container user-you-may-know-container card component-bg loading",style:t},c.createElement("div",{className:"animated-background"},c.createElement("div",{className:"loading-animation-covers",style:n}),c.createElement("div",{className:"loading-animation-covers",style:r}),c.createElement("div",{className:"loading-animation-covers",style:i}),c.createElement("div",{className:"loading-animation-covers",style:a}),c.createElement("div",{className:"loading-animation-covers",style:s}),c.createElement("div",{className:"loading-animation-covers",style:o})))};var Wye=Object.defineProperty,jye=(e,t,n)=>(((e,t,n)=>{t in e?Wye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Gye extends C.exports.Component{constructor(e){super(e),jye(this,"logIgnoredCards",(e=>{const t=e.filter((e=>!this.state.requestedConnectionUserIds.includes(e)));t.forEach((e=>{this.props.actions.dismissConnectionSuggestion(e,"Ignored")}))})),jye(this,"logItemView",(e=>{const t=e.filter((e=>!nk(e))),n="Connections Page",r={context:n,Users:t};this.props.actions.logMetricsTrackingEvent("Suggested Connections In View",r),this.props.actions.viewSuggestedConnection(t,n)})),jye(this,"userYouMayKnowCardProps",(()=>({checkIfRequestedConnection:e=>this.state.requestedConnectionUserIds.filter((t=>t===e)).length>0,handleConnectionRequest:e=>{this.addRequestedConnectionUserIds(e);this.props.actions.sendConnectionRequest(e,"suggested").then((e=>{{const e="Clicked Send Connection Request",t={Context:"People You May Know Suggestion"};this.props.actions.logMetricsTrackingEvent(e,t)}}))},handleDismissConnectionSuggestion:e=>{this.props.actions.logMetricsTrackingEvent("Dismiss Connection Suggestion");this.props.actions.dismissConnectionSuggestion(e,"Clicked")}}))),jye(this,"addRequestedConnectionUserIds",(e=>{this.setState((t=>({requestedConnectionUserIds:[...t.requestedConnectionUserIds,e]})))})),jye(this,"removeRequestedConnectionUserIds",(e=>{this.setState((t=>({requestedConnectionUserIds:[...t.requestedConnectionUserIds.filter((t=>t!==e))]})))})),jye(this,"returnListOfPeopleYouMayKnow",(()=>this.props.users.peopleYouMayKnow.usersYouMayKnow)),jye(this,"isLoading",(()=>this.props.users.peopleYouMayKnow.loading||this._isLoadingConnections())),jye(this,"_isLoadingConnections",(()=>GB(this._returnCurrentUserId(),this._returnUserConnectionsStore()))),jye(this,"_returnCurrentUser",(()=>this.props.currentUser)),jye(this,"_returnCurrentUserId",(()=>this._returnCurrentUser().user_id)),jye(this,"_returnUserConnectionsStore",(()=>this.props.userConnections)),this.state={requestedConnectionUserIds:[],sentNoSuggestionsEvent:!1}}componentDidMount(){this.props.actions.fetchPeopleYouMayKnow()}componentDidUpdate(e,t,n){if(!this.isLoading()&&0===this.returnListOfPeopleYouMayKnow().length&&!this.state.sentNoSuggestionsEvent){this.setState({sentNoSuggestionsEvent:!0});const e="No Suggestions For User";this.props.actions.logMetricsTrackingEvent(e)}}render(){return this.isLoading()||0!==this.returnListOfPeopleYouMayKnow().length?c.createElement("div",{className:"people-you-may-know-container"},c.createElement("div",{className:"people-you-may-know-header"},"People You May Know"),c.createElement($Q,{id:"people_you_may_know",height:160,itemWidth:130,paddingBetweenItems:25,isLoading:this.isLoading(),items:this.returnListOfPeopleYouMayKnow(),loadingCardComponent:Hye,componentName:Vye,listItemProps:this.userYouMayKnowCardProps(),contextForTrackingOnPageChange:"Connection Suggestions",logItemView:this.logItemView,onPageChangeAction:this.logIgnoredCards,additionalEdgeFadeClassName:"main-bg-transparent-gradient"}),c.createElement("div",{className:"content-separator border-accent"})):null}}var qye=T((e=>({currentUser:e.currentUser,users:e.users,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(Gye);const Yye=u.div`
  .btn-large {
    margin-top: 1px;
    padding: 13px 20px !important;
  }
`,Kye=e=>{const t=b();return c.createElement("div",{className:"connection-cell"},c.createElement("h5",null,"Find Friends"),c.createElement(Yye,null,c.createElement(hx,{fullWidth:!0,onClick:()=>{ly("Clicked Import Connections",{Context:"Connections Page"})(),t(Ln("importConnections"))}},"Import Connections")))},Qye=e=>{const{userId:t,hideModal:n}=e;return c.createElement("div",{className:"search-user-result-row",onClick:n},c.createElement(gP,{userId:t},c.createElement(VP,{size:"nav",showNameTag:!1,profileLinkQuery:`?context=${Wg}`}),c.createElement(WL,{displayNameStyle:"fullName",profileLinkQuery:`?context=${Wg}`})))};var Zye=Object.defineProperty,Xye=(e,t,n)=>(((e,t,n)=>{t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Jye=u.div`
  input {
    background: transparent !important;
    border-radius: 5px !important;
    border: 1px solid ${({theme:e})=>e.themeColors.text} !important;
  }
`;class e_e extends C.exports.Component{constructor(e){super(e),Xye(this,"createSearchResultsModal",(e=>{const t=this.props.users.queryResults[e];return t&&0!==t.length?c.createElement("div",{className:"search-user-result"},c.createElement("div",{className:"search-user-result-heading"},`${t.length} users matching your search.`),c.createElement("div",{className:"search-user-result-list"},t.map(((e,t)=>c.createElement(Qye,{key:`mutual-connection-${e}`,userId:e,hideModal:this.props.actions.hideModal}))))):c.createElement("div",{className:"search-user-result"},c.createElement("div",{className:"search-user-result-heading"},"We did not find any users matching your search. "))})),Xye(this,"handleSubmit",(e=>(this.setState({query:e}),this.props.actions.queryUsers(e).then((t=>{this.showSearchResults(e)}))))),Xye(this,"showSearchResults",(e=>{const t={contentComponent:this.createSearchResultsModal(e),dismissable:!0,size:"wide"};this.props.actions.showModal(t)})),this.state={query:""}}render(){return c.createElement(Jye,{className:"search-friends-container"},c.createElement("div",{className:"connection-cell"},c.createElement("h5",null,"Search People"),c.createElement(X3,{className:"input-form-as-panel-styling",placeholder:"Search Friends",handleSubmit:this.handleSubmit,icon:{icon:"fa-arrow-right",color:"#2d3e55",size:"small",customClass:"rounded-edge-button find-friends-icon icon-skinny-bg",background:"#F7F4F2"},loadingText:"Searching"})))}}var t_e=T((e=>({currentUser:e.currentUser,users:e.users})),(e=>({actions:I(WC,e)})))(e_e);const n_e=u.div`
  margin: 0 auto;
`,r_e=()=>c.createElement("div",{className:"page",style:{marginBottom:0}},c.createElement(n_e,{className:"connection-header container"},c.createElement(l4,{inviteContext:"Connections Header"}),c.createElement(Kye,null),c.createElement(t_e,null)));var i_e=Object.defineProperty,a_e=(e,t,n)=>(((e,t,n)=>{t in e?i_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class s_e extends C.exports.Component{constructor(){super(...arguments),a_e(this,"_renderUser",(()=>c.createElement("span",{className:"pending-connection-request-container border-accent"},c.createElement(gP,{userId:this._returnUserId()},c.createElement(VP,{size:"medium",profileLinkQuery:`?context=${Gg}`})),c.createElement("span",{className:"user-name-and-info-container"},c.createElement(gP,{userId:this._returnUserId()},c.createElement(WL,{displayNameStyle:"fullName",profileLinkQuery:`?context=${Gg}`})),this._renderMutualConnections()),this._renderActionButtons()))),a_e(this,"_renderActionButtons",(()=>c.createElement("div",{className:"connection-request-actions"},c.createElement(mJ,{userId:this._returnUserId(),viewingContext:"Connections Page"})))),a_e(this,"_hasReceivedConnectionRequest",(()=>"received"===this.props.requestType)),a_e(this,"_renderMutualConnections",(()=>this._isGettingMutualConnections()?this._renderLoadingMutualConnections():this._hasMutualConnections()?c.createElement(Bye,{userIds:this._returnUserMutualConnections(),userId:this._returnUserId(),maxUserNamesToShow:2,emptyString:""}):null)),a_e(this,"_renderLoadingMutualConnections",(()=>c.createElement("div",{className:"loading-mutual-connections"},c.createElement(_e,{icon:"fading-3balls",size:"small"})))),a_e(this,"_isMutualConnectionsDataAvailable",(()=>this._returnUserMutualConnectionLookup()[this._returnUserId()]&&this._returnUserMutualConnectionLookup()[this._returnUserId()].mutual_connections)),a_e(this,"_isGettingMutualConnections",(()=>this._returnUserId()in this._returnUserMutualConnectionLookup()&&!this._isMutualConnectionsDataAvailable())),a_e(this,"_hasMutualConnections",(()=>this._isMutualConnectionsDataAvailable()&&this._returnUserMutualConnections().length>0)),a_e(this,"_returnUserMutualConnections",(()=>this._returnUserMutualConnectionLookup()[this._returnUserId()].mutual_connections)),a_e(this,"_returnUserMutualConnectionLookup",(()=>this._returnUserMutualConnectionStore().userDict)),a_e(this,"_returnUserMutualConnectionStore",(()=>this.props.userMutualConnections)),a_e(this,"_returnUser",(()=>this._returnUserList()[this._returnUserId()])),a_e(this,"_returnUserId",(()=>this.props.userId)),a_e(this,"_returnUserStore",(()=>this.props.users)),a_e(this,"_returnUserList",(()=>this._returnUserStore().userList)),a_e(this,"_returnCurrentUser",(()=>this.props.currentUser)),a_e(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser())))}render(){return c.createElement("div",{className:""},this._renderUser())}}var o_e=T((e=>({currentUser:e.currentUser,users:e.users,userMutualConnections:e.userMutualConnections})),(e=>({actions:I(WC,e)})))(s_e),l_e=Object.defineProperty,c_e=(e,t,n)=>(((e,t,n)=>{t in e?l_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class d_e extends C.exports.Component{constructor(e){super(e),c_e(this,"_isListCollapsed",(()=>this.state._isCollapsed)),c_e(this,"_isListLargerThanLimit",(()=>this._returnUserIdsCount()>this._returnMaxResultSize())),c_e(this,"_returnUserIdsCount",(()=>this._returnUserIds().length)),c_e(this,"_returnMaxResultSize",(()=>this.props.maxResultSize)),c_e(this,"_returnConnectionRequestType",(()=>this.props.requestType)),c_e(this,"_returnUserIds",(()=>this.props.userIds)),c_e(this,"_returnNonCollapsedUserIds",(()=>this._returnUserIds().slice(0,this._returnMaxResultSize()))),c_e(this,"_returnCollapsedUserIds",(()=>this._returnUserIds().slice(this._returnMaxResultSize(),this._returnUserIdsCount()))),c_e(this,"_renderNonCollapsedItems",(()=>this._returnNonCollapsedUserIds().map((e=>this._renderPendingConnectionRequest(e))))),c_e(this,"_renderCollapsedItems",(()=>this._returnCollapsedUserIds().map((e=>this._renderPendingConnectionRequest(e))))),c_e(this,"_renderShowMoreShowLess",(()=>this._isListCollapsed()?c.createElement("div",{className:"link-btn pending-connections-collapse-button pending-connections-show-more-button",onClick:this._handleShowMoreClick},"Show More"):c.createElement("div",{className:"link-btn pending-connections-collapse-button pending-connections-show-less-button",onClick:this._handleShowLessClick},"Show Less"))),c_e(this,"_renderPendingConnectionRequest",(e=>c.createElement(o_e,{key:`pending-connection-request-${e}`,userId:e,requestType:this._returnConnectionRequestType()}))),c_e(this,"_handleShowMoreClick",(()=>{this._toggleCollapseList(),this._logShowMoreClick()})),c_e(this,"_handleShowLessClick",(()=>{this._toggleCollapseList()})),c_e(this,"_toggleCollapseList",(()=>{this.setState((e=>({_isCollapsed:!e._isCollapsed})))})),c_e(this,"_logShowMoreClick",(()=>{const e={"Connection Request Type":this._returnConnectionRequestType()};this.props.actions.logMetricsTrackingEvent("Clicked Show More Connection Requests",e)})),this.state={_isCollapsed:!0}}render(){return c.createElement("div",{className:"pending-connection-request-list"},this._renderNonCollapsedItems(),this._isListLargerThanLimit()&&!this._isListCollapsed()?this._renderCollapsedItems():null,this._isListLargerThanLimit()?this._renderShowMoreShowLess():null)}}var u_e=T((e=>({users:e.users})),(e=>({actions:I(WC,e)})))(d_e),h_e=Object.defineProperty,p_e=(e,t,n)=>(((e,t,n)=>{t in e?h_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class m_e extends C.exports.Component{constructor(e){super(e),p_e(this,"_renderLoading",(()=>this._renderPlaceHolder())),p_e(this,"_isUpdating",(()=>this.state._isUpdating)),p_e(this,"_renderIsUpdating",(()=>c.createElement("span",{className:"updating-message"},c.createElement(_e,{icon:"circle-loading-spinner",size:"small",style:{marginRight:"8px"}}),c.createElement("span",{className:"text"},"Updating")))),p_e(this,"_renderPlaceHolder",(()=>c.createElement("div",{style:{padding:"7.5px"}}))),p_e(this,"_renderHeader",(()=>c.createElement(yG,{className:"connection-requests-heading"},"Connection Requests",this._isUpdating()&&this._renderIsUpdating()))),p_e(this,"_renderTabs",(()=>c.createElement("div",{className:"connection-requests-tabs-container"},this._returnTabsWithContent().map((e=>this._renderTab(e)))))),p_e(this,"_renderTab",(e=>c.createElement("div",{key:`connection-requests-tab-${e.name}`,className:"panel-selection-tab flat-tab-color-style connection-requests-tab "+(this._isTabActive(e)?"active":""),onClick:this._bindTabToClickHandler(e)},c.createElement("span",{className:""},e.displayName)))),p_e(this,"_renderTabCount",(e=>{const t="received"===e.name?this._returnPendingReceivedConnectionRequestsCount():this._returnPendingSentConnectionRequestsCount();return c.createElement("span",{className:"tab-notif-count"},t)})),p_e(this,"_tabContentRenderer",(()=>({received:this._renderPendingReceivedConnectionRequests,sent:this._renderPendingSentConnectionRequests}[this._returnActiveTabName()]()))),p_e(this,"_renderTabContent",(()=>c.createElement("div",{className:"pending-connections-tab-content"},this._tabContentRenderer()))),p_e(this,"_renderPendingReceivedConnectionRequests",(()=>c.createElement(u_e,{userIds:this._returnPendingReceivedConnectionRequestsUserIds(),requestType:"received",maxResultSize:this._returnMaxResultsForPendingConnections()}))),p_e(this,"_renderPendingSentConnectionRequests",(()=>c.createElement(u_e,{userIds:this._returnSortedPendingSentConnectionRequestsUserIds(),requestType:"sent",maxResultSize:this._returnMaxResultsForPendingConnections()}))),p_e(this,"_isLoading",(()=>this._returnUsersStore().loadingPendingConnections)),p_e(this,"_returnMaxResultsForPendingConnections",(()=>3)),p_e(this,"_areConnectionRequests",(e=>this._arePendingSentConnectionRequests(e)||this._arePendingReceivedConnectionRequests(e))),p_e(this,"_arePendingSentConnectionRequests",(e=>this._returnPendingSentConnectionRequestsCount(e)>0)),p_e(this,"_arePendingReceivedConnectionRequests",(e=>this._returnPendingReceivedConnectionRequestsCount(e)>0)),p_e(this,"_returnUsersStore",(e=>(e||this.props).users)),p_e(this,"_returnUserList",(e=>this._returnUsersStore(e).userList)),p_e(this,"_returnConnectionRequestData",(e=>Object.keys(this._returnUserList(e)).map((t=>this._returnUserList(e)[t])))),p_e(this,"_sortPendingSentConnectionRequests",(()=>{const e=this._returnPendingSentConnectionRequests(),t=e.filter((e=>dp(e))),n=sp(t),r=e.filter((e=>!dp(e)));return[...n,...sp(r)]})),p_e(this,"_returnSortedPendingSentConnectionRequestsUserIds",(()=>this._sortPendingSentConnectionRequests().map((e=>e.user_id)))),p_e(this,"_returnPendingSentConnectionRequests",(e=>this._returnConnectionRequestData(e).filter((e=>pp(e))))),p_e(this,"_returnPendingSentConnectionRequestsCount",(e=>this._returnPendingSentConnectionRequests(e).length)),p_e(this,"_returnPendingSentConnectionRequestsUserIds",(()=>this._returnPendingSentConnectionRequests().map((e=>e.user_id)))),p_e(this,"_returnPendingReceivedConnectionRequests",(e=>this._returnConnectionRequestData(e).filter((e=>hp(e))))),p_e(this,"_returnPendingReceivedConnectionRequestsCount",(e=>this._returnPendingReceivedConnectionRequests(e).length)),p_e(this,"_returnPendingReceivedConnectionRequestsUserIds",(()=>this._returnPendingReceivedConnectionRequests().map((e=>e.user_id)))),p_e(this,"_returnCountOfPendingReceivedConnectionRequests",(()=>this._returnPendingReceivedConnectionRequests().length)),p_e(this,"_returnDefaultActiveTab",(()=>this._arePendingReceivedConnectionRequests()||!this._areConnectionRequests()?"received":"sent")),p_e(this,"_returnActiveTabName",(()=>this.state.activeTab)),p_e(this,"_setActiveTab",(e=>{this.setState((()=>({activeTab:e.name})))})),p_e(this,"_isTabActive",(e=>this._returnActiveTabName()===e.name)),p_e(this,"_returnTabs",(()=>[{name:"received",displayName:"Received",hasContent:this._arePendingReceivedConnectionRequests},{name:"sent",displayName:"Sent",hasContent:this._arePendingSentConnectionRequests}])),p_e(this,"_returnTabTrackingProperty",(e=>({received:"Received",sent:"Sent"}[e.name]))),p_e(this,"_returnTabsWithContent",(e=>this._returnTabs().filter((t=>t.hasContent(e))))),p_e(this,"_setIsUpdating",(()=>{this.setState((()=>({_isUpdating:!0})))})),p_e(this,"_unsetIsUpdating",(()=>{this.setState((()=>({_isUpdating:!1})))})),p_e(this,"_fetchConnectionRequestData",(()=>(this._setIsUpdating(),this.props.actions.getPendingConnectionRequestUsers().then((e=>{this._unsetIsUpdating()}))))),p_e(this,"_fetchMutualConnections",(()=>{const e=this._returnPendingReceivedConnectionRequestsUserIds();return this.props.actions.fetchMutualConnections(e)})),p_e(this,"_bindTabToClickHandler",(e=>()=>this._handleTabClick(e))),p_e(this,"_handleTabClick",(e=>{this._setActiveTab(e),this._logTabClick(e),this._logItlyTabClick(e)})),p_e(this,"_didCountOfTabsWithContentChange",(e=>this._returnTabsWithContent(e).length!==this._returnTabsWithContent().length)),p_e(this,"_onCountOfTabsWithContentChange",(()=>{const e=this._returnTabsWithContent()||[];if(1===e.length){const t=e[0];this._setActiveTab(t)}})),p_e(this,"_logTabClick",(e=>{const t={Tab:this._returnTabTrackingProperty(e)};this.props.actions.logMetricsTrackingEvent("Clicked Pending Connections Tab",t)})),p_e(this,"_logItlyTabClick",(e=>{const{elementPosition:t}=this.context,n={context:location.pathname,position:t||_t.node_location.body,platform:_t.platform.web,description:this._returnTabTrackingProperty(e),url:window.location.pathname,url_query:window.location.search};pl.generic.TAB_VIEWED.send(n)})),this.state={_isUpdating:!1,activeTab:e.activeTab||this._returnDefaultActiveTab()}}componentDidMount(){this._fetchConnectionRequestData()}componentDidUpdate(e,t){t._isUpdating&&!this.state._isUpdating&&this._fetchMutualConnections(),this._didCountOfTabsWithContentChange(e)&&this._onCountOfTabsWithContentChange()}render(){return this._isLoading()?this._renderLoading():this._areConnectionRequests()?c.createElement(OF,{className:"pending-connection-requests-page-container"},c.createElement("div",{className:"pending-connection-requests-container"},this._renderHeader(),this._renderTabs(),this._renderTabContent())):this._renderPlaceHolder()}}m_e.contextType=ml;var g_e=T((e=>({users:e.users,currentUser:e.currentUser})),(e=>({actions:I(WC,e)})))(m_e);const y_e=e=>e.sort(((e,t)=>{const n=t.first_name,r=t.last_name,i=e.first_name,a=`${r} ${n}`,s=`${e.last_name} ${i}`;return s<a?-1:s>a?1:0})),__e=e=>{const t=e.filter((e=>!nk(e.performance_today))),n=e.filter((e=>nk(e.performance_today)));return t.sort(((e,t)=>{const n=t.performance_today,r=e.performance_today;return r>n?-1:r<n?1:0})),[...t,...n]},f_e=e=>{const t=e.filter((e=>!nk(e.performance_today))),n=e.filter((e=>nk(e.performance_today)));return t.sort(((e,t)=>{const n=t.performance_last_month,r=e.performance_last_month;return r>n?-1:r<n?1:0})),[...t,...n]},v_e=e=>{const t=e.filter((e=>!nk(e.performance_today))),n=e.filter((e=>nk(e.performance_today)));return t.sort(((e,t)=>{const n=t.performance_this_month,r=e.performance_this_month;return r>n?-1:r<n?1:0})),[...t,...n]},E_e=e=>{const t=e.filter((e=>!nk(e.performance_today))),n=e.filter((e=>nk(e.performance_today)));return t.sort(((e,t)=>{const n=t.performance_last_week,r=e.performance_last_week;return r>n?-1:r<n?1:0})),[...t,...n]};var b_e=Object.defineProperty,C_e=(e,t,n)=>(((e,t,n)=>{t in e?b_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class x_e extends C.exports.Component{constructor(e){super(e),C_e(this,"_renderPrivateMessage",(()=>c.createElement("div",{className:"user-is-private secondary-text-color"},"Private"))),C_e(this,"_renderHeading",(()=>c.createElement("div",{className:"main-label"},c.createElement("span",{style:{position:"relative"}},"Idea Performance",c.createElement(iS,{word:"performance_numbers",style:{top:"auto",bottom:"1px"}}))))),C_e(this,"_renderTimePeriods",(()=>{var e=[];return this.props.showWeeklyInsteadOfDaily?e.push({label:"Last Week",performanceKeyName:"performance_last_week"}):e.push({label:"Today",performanceKeyName:"performance_today"}),e.push({label:"This Month",performanceKeyName:"performance_this_month"}),e.push({label:"Last Month",performanceKeyName:"performance_last_month"}),c.createElement("div",{className:"user-idea-performance"},e.map((e=>this._renderTimePeriod(e))))})),C_e(this,"_renderTimePeriod",(e=>{const{label:t,performanceKeyName:n}=e;return c.createElement("div",{key:`performance-time-period-${n}`,className:"performance-time-period"},this._renderLabel(t),this._renderValue(n))})),C_e(this,"_renderLabel",(e=>c.createElement("div",{className:"time-label secondary-text-color"},e))),C_e(this,"_renderValue",(e=>{const t=this._returnUserIdeaPerformanceData();if(!t)return null;const n=t[e],r=ng(n,"percentage"),i=0===n?"no-change-text-color":n>0?"increase-change-text-color":"decrease-change-text-color",a=0===n?"":n>0?"+":"";return c.createElement("div",{className:`time-period-performance-value ${i}`},`${a}${r}`)})),C_e(this,"_renderLoading",(()=>c.createElement("div",{className:"user-idea-performance-loading"},null))),C_e(this,"_isLoading",(()=>this._isCollectiveUser()?this.props.forceLoading:!this._isUserIdeaPerformanceDataAvailable()||this.props.forceLoading)),C_e(this,"_isLoadingCurrentUser",(()=>!("user_id"in this.props.currentUser))),C_e(this,"_fetchUserIdeaPerformance",(()=>{const e=this._returnUserId();this.props.actions.getUser(e,{include:["performance"]})})),C_e(this,"_ifNeededFetchUserPerformanceData",(()=>{if(this.props.dontGetData)return!1;this._isUserIdeaPerformanceDataAvailable()||this.isFetchingUserData||(this.isFetchingUserData=!0,this._fetchUserIdeaPerformance())})),C_e(this,"_isUserIdeaPerformanceDataAvailable",(()=>{const e=this._returnUserId(),t=this._returnUserIdeaPerformanceStoreLookup();return e in t&&void 0!==t[e].performance_today})),C_e(this,"_returnUserIdeaPerformanceData",(()=>{if(this._isCollectiveUser()){const{performance_today:e,performance_this_month:t,performance_last_month:n}=this.props.user;return{performance_today:e,performance_this_month:t,performance_last_month:n}}const e=this._returnUserId(),t=this._returnUserIdeaPerformanceStoreLookup();return e in t?t[e]:null})),C_e(this,"_returnUserIdeaPerformanceStoreLookup",(()=>this._returnUserIdeaPerformanceStore().userDict)),C_e(this,"_returnUserIdeaPerformanceStore",(()=>this.props.userIdeaPerformance)),C_e(this,"_isCollectiveUser",(()=>this.props.userIsCollectiveUser)),C_e(this,"_isUserPrivate",(()=>!!this._returnUser()&&this._returnUser().is_private)),C_e(this,"_returnUser",(()=>this._returnUserList()[this._returnUserId()])),C_e(this,"_returnUserList",(()=>this._returnUserStore().userList)),C_e(this,"_returnUserStore",(()=>this.props.users)),C_e(this,"_returnUserId",(()=>this.props.userId)),this.state={isFetchingUserData:!1}}componentDidMount(){this._ifNeededFetchUserPerformanceData()}render(){return this._isUserPrivate()?this._renderPrivateMessage():this._isLoading()||!this.props.user?this._renderLoading():c.createElement("div",{className:"user-idea-performance-container"},this._renderHeading(),this._renderTimePeriods(),this.props.showInlineInfoIcon&&c.createElement(iS,{word:"performance_numbers",style:{top:"11px",right:"-15px"},position:"right"}))}}const w_e=N(T((e=>({userIdeaPerformance:e.userIdeaPerformance,users:e.users,currentUser:e.currentUser})),(e=>({actions:I(WC,e)}))))(x_e);var S_e=Object.defineProperty,k_e=(e,t,n)=>(((e,t,n)=>{t in e?S_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const T_e=u.div`
  button {
    padding: 4px 8px;
  }
`,I_e=({to:e,onClick:t})=>{const n=b();return c.createElement(T_e,null,c.createElement(sx,{onClick:()=>{n(e),t()}},"View Ideas"))};class N_e extends c.PureComponent{constructor(){super(...arguments),k_e(this,"_renderDesktopConnectionRow",(()=>c.createElement("div",{className:`\n          connections-row-container border-accent\n          ${this._isUserCurrentUser()?"is-current-user":""}\n        `},this._renderUserInfo(),this._renderIdeasPerformance(),this._renderActionButtons()))),k_e(this,"_renderMobileConnectionRow",(()=>c.createElement("div",{className:`\n          mobile-size\n          connections-row-container border-accent\n          ${this._isUserCurrentUser()?"is-current-user":""}\n        `},c.createElement("div",{className:"row-container"},this._renderUserInfo(),this._renderActionButtons()),this._renderIdeasPerformance()))),k_e(this,"_renderUserInfo",(()=>c.createElement("span",{className:"connection-row-user-info"},c.createElement("span",{className:"connection-list-avatar-container"},c.createElement(gP,{userId:this._returnUserId()},c.createElement(VP,{size:this._isMobileSize()?"nav":"medium",profileLinkQuery:`?context=${Gg}`}))),c.createElement("span",{className:"user-name-and-location-container"},c.createElement(gP,{userId:this._returnUserId()},c.createElement(WL,{displayNameStyle:"fullName",profileLinkQuery:`?context=${Gg}`})))))),k_e(this,"_renderIdeasPerformance",(()=>c.createElement("div",{className:"connections-table-user-idea-perf"},c.createElement(w_e,{userId:this._returnUserId(),user:this._returnUser(),showInlineInfoIcon:!0,dontGetData:this.props.dontGetData,showWeeklyInsteadOfDaily:this.props.showWeeklyInsteadOfDailyPerf})))),k_e(this,"_renderActionButtons",(()=>this._isUserCurrentUser()?c.createElement("div",{className:"connections-table-user-actions"}):c.createElement("div",{className:"connections-table-user-actions"},this._renderViewIdeasBtn(),this._renderMoreActionsBtn()))),k_e(this,"_returnLinkForHandlingViewIdeasClick",(()=>Ln("profile",this._returnUserId()))),k_e(this,"_renderViewIdeasBtn",(()=>this._isUserPrivate()?c.createElement("span",{className:"empty-view-ideas-col"}):c.createElement(I_e,{to:this._returnLinkForHandlingViewIdeasClick(),onClick:this._logViewIdeasClick}))),k_e(this,"_handleRemoveConnection",(()=>{this.props.actions.removeConnection(this._returnCurrentUserId(),this._returnUserId()),this._logRemoveConnectionClick()})),k_e(this,"_renderMoreActionsBtn",(()=>{const e=[{elementType:nD,elementTypeString:"ClickEventComponent",props:{id:`additional-action-connection-row-${this._returnUserId()}`,onClickFunc:this._handleRemoveConnection,shouldTriggerDropdownClose:!0},children:c.createElement("div",{className:"user-settings-nav-item is-updating connection-user-row-more-actions selectable-item"},c.createElement("span",null,"Remove Connection"))}];return c.createElement(xle,{dropdownId:`connection-more-action-button-dropdown-${this._returnUserId()}`,dropdownChildrenDataList:e,eventContext:"Connections Row"})})),k_e(this,"_isUserCurrentUser",(()=>this._returnUserId()===this._returnCurrentUserId())),k_e(this,"_returnUserId",(()=>this.props.userId)),k_e(this,"_isUserPrivate",(()=>this._returnUser()?this._returnUser().is_private:null)),k_e(this,"_returnUser",(()=>this._returnUsersList()[this._returnUserId()])),k_e(this,"_returnUsersStore",(()=>this.props.users)),k_e(this,"_returnUsersList",(()=>this._returnUsersStore().userList)),k_e(this,"_returnCurrentUser",(()=>this.props.currentUser)),k_e(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),k_e(this,"_returnWindowWidth",(()=>this.props.windowWidth)),k_e(this,"_isMobileSize",(()=>this._returnWindowWidth()<=650)),k_e(this,"_logViewIdeasClick",(()=>{const e={"User ID":this._returnUserId(),Context:"Connections Page"};this.props.actions.logMetricsTrackingEvent("Clicked View Ideas",e)})),k_e(this,"_logRemoveConnectionClick",(()=>{const e={"User ID":this._returnUserId(),Context:"Connections Page"};this.props.actions.logMetricsTrackingEvent("Clicked Remove Connection",e)}))}render(){return this._isMobileSize()?this._renderMobileConnectionRow():this._renderDesktopConnectionRow()}}const A_e=N(Xk,T((e=>({currentUser:e.currentUser,users:e.users})),(e=>({actions:I(WC,e)}))))(N_e),P_e=e=>{const{user:t,isCurrentUser:n}=e,r=n?"Me":np(t),{city:i,state:a}=t,s=i&&a?`${i}, ${a}`:i?`${i}`:a?`${a}`:null;return c.createElement(iT,{to:`/users/${t.user_id}/public_profile`,className:"",child:c.createElement("span",{className:"connections-list-item-container component-bg-with-hover-feedback border-accent"},c.createElement("span",{className:"connection-list-avatar-container"},c.createElement(VP,{size:"medium",user:t,withLink:!1,userIsCurrentUser:t.is_current_user,isThoughtLeader:!1})),c.createElement("span",{className:"user-name-and-location-container"},c.createElement("span",{className:"user-full-name  "},r),s&&c.createElement("span",{className:"user-location secondary-text-color"},s)),c.createElement(mJ,{userId:t.user_id,viewingContext:"Profile"})),scrollToTop:!0,noTextDecoration:!0})},D_e=e=>{const{viewingContext:t,ignoreTracking:n,text:r,linkTo:i}=e,a=yl(e);i||console.error("Must supply linkTo prop"),t||n||console.error("Cannot log tracking if no viewingContext is supplied");const s=C.exports.useCallback((()=>{if(!n){ly(`Clicked ${r} Link`,{Context:t})(),a()}}),[r,t]);return c.createElement(iT,{to:i,className:"btn btn-primary-color btn-small-tall",additionalClickAction:s,text:r,scrollToTop:e.scrollToTop})};D_e.defaultProps={buttonType:_t.button_types.link};var O_e=Object.defineProperty,L_e=(e,t,n)=>(((e,t,n)=>{t in e?O_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class R_e extends C.exports.Component{constructor(){super(),L_e(this,"_renderConnectionsTableRow",(e=>c.createElement(A_e,{key:`connection-list-user-${e.user_id}`,userId:e.user_id,dontGetData:this.props.dontGetData,showWeeklyInsteadOfDailyPerf:this.props.showWeeklyInsteadOfDailyPerf}))),L_e(this,"_renderConnectionsListProfile",(e=>c.createElement(P_e,{key:`connection-list-user-${e.user_id}`,user:e,isCurrentUser:this.props.currentUser.user_id===e.user_id}))),L_e(this,"_renderType",(()=>this.props.renderType||this.DEFAULT_RENDER_TYPE)),L_e(this,"_renderUser",(e=>(0,{profile:this._renderConnectionsListProfile,connectionsTable:this._renderConnectionsTableRow}[this._renderType()])(e))),L_e(this,"_renderHasNoConnections",(()=>c.createElement("div",{className:"no-idea-profile-portfolio-table"},c.createElement("div",{className:"icon-container"},c.createElement(xc,{icon:"fa-address-book",color:"#ccc",size:"xlarge"})),c.createElement("div",{className:"message-container"},(this.props.isCurrentUsersProfile?"You have":`${this.props.profiledUsersFirstName} has`)+" not added any connections."),this.props.isCurrentUsersProfile&&c.createElement("div",{className:"available-action-button"},c.createElement(D_e,{linkTo:"/users/connections",text:"Find Connections",viewingContext:"Profile",scrollToTop:!0}))))),L_e(this,"_isLoading",(()=>{const e=this._returnUserId(),t=this._returnUserConnectionStore();return!(e in t)||!("connections"in t[e])})),L_e(this,"_wasError",(()=>{const e=this._returnUserConnectionStoreData();return e&&"error"in e})),L_e(this,"_hasNoConnections",(()=>0===this._returnConnectionList().length)),L_e(this,"_isUserConnectionDataAvailable",(()=>{const e=this._returnUserId(),t=this._returnUserConnectionStore();return!this._isLoading()&&e in t&&t[e].connections})),L_e(this,"_getConnectionData",(()=>{const e=this._returnUserId();this.props.actions.getUserConnections(e)})),L_e(this,"_returnUserConnectionStoreData",(()=>{const e=this._returnUserId(),t=this._returnUserConnectionStore();return e in t?t[e]:null})),L_e(this,"_returnConnectionListById",(()=>{if(this.props.connectionListById)return this.props.connectionListById;const e=this._returnUserId(),t=this._returnUserConnectionStore();return e in t||console.error("User data not found in connection store",{connectionStore:t}),t[e].connections})),L_e(this,"_returnUser",(e=>this.props.users.userList[e])),L_e(this,"_returnConnectionList",(()=>this._returnConnectionListById().map((e=>this._returnUser(e))))),L_e(this,"_returnUserConnectionStore",(()=>this.props.userConnections.userDict)),L_e(this,"_returnUserId",(()=>{const e=this.props.userId;return e||console.error("User Id was not found in props",{props:this.props}),e})),this.DEFAULT_RENDER_TYPE="profile"}componentDidMount(){this._isUserConnectionDataAvailable()||this._getConnectionData()}render(){return this._wasError()?c.createElement("div",null,"An error occurred, try reloading the page."):this._isLoading()?c.createElement(Dw,{flatStyle:!0}):this._hasNoConnections()?this._renderHasNoConnections():c.createElement("div",{className:"connections-list-container"},this._returnConnectionList().map((e=>this._renderUser(e))))}}const F_e=N(Xk,T((e=>({currentUser:e.currentUser,users:e.users,userConnections:e.userConnections})),(e=>({actions:I(WC,e)}))))(R_e);Xk(R_e);var M_e=Object.defineProperty,U_e=(e,t,n)=>(((e,t,n)=>{t in e?M_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $_e extends C.exports.Component{constructor(e){super(e),U_e(this,"_forceTableLoadingState",(()=>!!this._isSortingByPerformance()&&this.state._isLoadingConnectionPerformance)),U_e(this,"_renderErrorModalMessage",(()=>{const e={contentComponent:bS("An error occurred while loading connections. Please try again later."),dismissable:!0};this.props.actions.showModal(e)})),U_e(this,"_isSortingByPerformance",(()=>this.PERF_SORT_BY_KEYS.includes(this._returnSortByKey()))),U_e(this,"_getConnectionData",(()=>{const e=this._returnCurrentUserId();this.props.actions.getUserConnections(e)})),U_e(this,"_getConnectionsPerformance",(()=>{const e=this._returnConnectionListByUserIdForTable();this.props.actions.getUserIdeaPerformances(e).then((e=>{e&&e.data?this._handleGetConnectionPerformance():this._handleGetConnectionPerformanceError()}))})),U_e(this,"_getUserPerformance",(e=>{this.props.actions.getUserIdeaPerformances([e])})),U_e(this,"_handleGetConnectionPerformance",(()=>{this._setCompleteLoading()})),U_e(this,"_handleGetConnectionPerformanceError",(()=>{this._setCompleteLoading(),this._setErrorLoading()})),U_e(this,"_returnConnectionsDataForSortFunc",(()=>this._returnConnectionListByUserIdForTable().map((e=>o(o({user_id:e},this._returnUser(e)),this._returnUserIdeaPerformanceData(e)))))),U_e(this,"_returnConnectionListByUserIdForTable",(e=>{const t=this._returnCurrentUserId();return this._returnUserConnectionStore(e)[t].connections||[]})),U_e(this,"_returnConnectionsCount",(e=>this._returnConnectionListByUserIdForTable(e).length)),U_e(this,"_returnUserConnectionStore",(e=>(e||this.props).userConnections.userDict)),U_e(this,"_returnUserIdeaPerformanceData",(e=>{const t=this._returnUserIdeaPerformanceStoreLookup();return e in t?t[e]:null})),U_e(this,"_handleSortChange",((e,t)=>{this._updateURLwithSortParam({key:e.key}),this._logSortChange(e.key)})),U_e(this,"_convertSortByKeyToSortByKeyObj",(e=>this.SORT_BY_OPTIONS.filter((t=>t.key===e))[0])),U_e(this,"_setSortBy",(e=>{const t="object"==typeof e?e:this._convertSortByKeyToSortByKeyObj(e);this.setState((e=>({formData:l(o({},e.formData),{_sortByKeyObj:t})})))})),U_e(this,"_returnSortByKeyObj",(()=>this.state.formData._sortByKeyObj)),U_e(this,"_returnSortByKey",(()=>this._returnSortByKeyObj().key)),U_e(this,"_sortConnectionsListReturnUserIds",(()=>{const e=this._returnConnectionsDataForSortFunc();return this.SORT_FUNC[this._returnSortByKey()](e).map((e=>e.user_id))})),U_e(this,"_returnUserIdeaPerformanceStoreLookup",(()=>this._returnUserIdeaPerformanceStore().userDict)),U_e(this,"_returnUserIdeaPerformanceStore",(()=>this.props.userIdeaPerformance)),U_e(this,"_returnUsersStore",(()=>this.props.users)),U_e(this,"_returnUserList",(()=>this._returnUsersStore().userList)),U_e(this,"_returnUser",(e=>this._returnUserList()[e])),U_e(this,"_returnCurrentUser",(()=>this.props.currentUser)),U_e(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),U_e(this,"_parseDefaultSortFromURL",(()=>{const e=this.props.location.search,t=fe(e),n=t.sort;if(n){this.SORT_BY_OPTIONS.some((e=>e.key===n))&&this._setSortBy(n)}else"panel"in t||this._updateURLwithSortParam({replaceHistory:!0})})),U_e(this,"_updateURLwithSortParam",(e=>{const t=e&&e.key?e.key:this._returnSortByKey(),n=`${this.props.location.pathname}?sort=${t}`;e&&e.replaceHistory,this.props.navigate(n)})),U_e(this,"_setErrorLoading",(()=>{this.setState((()=>({_wasError:!0})))})),U_e(this,"_setCompleteLoading",(()=>{this.setState((()=>({_isLoadingConnectionPerformance:!1})))})),U_e(this,"_logSortChange",(e=>{const t={"Current Sort":this.SORT_KEY_EVENT_NAMES[this._returnSortByKey()],"Sorted By":this.SORT_KEY_EVENT_NAMES[e]};this.props.actions.logMetricsTrackingEvent("Changed Connections Table Sort",t)})),this.SORT_BY_KEYS={LAST_NAME:"last_name",PERF_TODAY:"today",PERF_PREV_WEEK:"prev_week",PERF_PREV_MONTH:"prev_month",PERF_THIS_MONTH:"this_month"},this.PERF_SORT_BY_KEYS=[this.SORT_BY_KEYS.PERF_TODAY,this.SORT_BY_KEYS.PERF_PREV_WEEK,this.SORT_BY_KEYS.PERF_PREV_MONTH,this.SORT_BY_KEYS.PERF_THIS_MONTH],this.SORT_BY_OPTIONS=[{id:0,key:this.SORT_BY_KEYS.LAST_NAME,name:this.SORT_BY_KEYS.LAST_NAME,displayName:"Last Name",isEnabled:()=>!0,disabledReason:()=>null},{id:1,key:this.SORT_BY_KEYS.PERF_TODAY,name:this.SORT_BY_KEYS.PERF_TODAY,displayName:"Today",isEnabled:()=>!0,disabledReason:()=>null},{id:2,key:this.SORT_BY_KEYS.PERF_THIS_MONTH,name:this.SORT_BY_KEYS.PERF_THIS_MONTH,displayName:"This Month",isEnabled:()=>!0,disabledReason:()=>null},{id:3,key:this.SORT_BY_KEYS.PERF_PREV_MONTH,name:this.SORT_BY_KEYS.PERF_PREV_MONTH,displayName:"Prev Month",isEnabled:()=>!0,disabledReason:()=>null},{id:4,key:this.SORT_BY_KEYS.PERF_PREV_WEEK,name:this.SORT_BY_KEYS.PERF_PREV_WEEK,displayName:"Prev Week",isEnabled:()=>!0,disabledReason:()=>null}],this.SORT_KEY_EVENT_NAMES={[this.SORT_BY_KEYS.LAST_NAME]:"Last Name",[this.SORT_BY_KEYS.PERF_TODAY]:"Today",[this.SORT_BY_KEYS.PERF_THIS_MONTH]:"This Month",[this.SORT_BY_KEYS.PERF_PREV_MONTH]:"Prev Month",[this.SORT_BY_KEYS.PERF_PREV_WEEK]:"Prev Week"},this.SORT_FUNC={[this.SORT_BY_KEYS.LAST_NAME]:y_e,[this.SORT_BY_KEYS.PERF_TODAY]:__e,[this.SORT_BY_KEYS.PERF_THIS_MONTH]:v_e,[this.SORT_BY_KEYS.PERF_PREV_MONTH]:f_e,[this.SORT_BY_KEYS.PERF_PREV_WEEK]:E_e},this.DropdownInput={type:vH,typeName:"Dropdown",name:"_sortByKeyObj",label:"Order By",required:!0,props:{styling:"dropdown-inline-left",values:this.SORT_BY_OPTIONS,includeLabelAsSelection:!1,handleAdditionalActions:this._handleSortChange,showArrowIcons:!0}},this.DEFAULT_SORT_KEY=this._convertSortByKeyToSortByKeyObj(this.SORT_BY_KEYS.LAST_NAME),this.state={_isLoadingConnectionPerformance:!0,_wasError:!1,formData:{_sortByKeyObj:this.DEFAULT_SORT_KEY}}}componentDidMount(){this._parseDefaultSortFromURL(),this._getConnectionData(),this._getConnectionsPerformance()}componentDidUpdate(e,t){e.location.search!==this.props.location.search&&this._parseDefaultSortFromURL();if(this._returnConnectionsCount(e)!==this._returnConnectionsCount()){const t=this._returnConnectionListByUserIdForTable(e),n=this._returnConnectionListByUserIdForTable().filter((e=>!t.includes(e)))[0];this._getUserPerformance(n)}!t._wasError&&this.state._wasError&&this._renderErrorModalMessage()}render(){return c.createElement("div",{className:"connections-table-panel"},c.createElement("div",{className:"table-header-outside-container"},c.createElement(n0,null)),c.createElement(OF,{className:"connections-table-page-container"},c.createElement(yG,null,"Connections"),c.createElement(A_e,{userId:this._returnCurrentUserId(),showWeeklyInsteadOfDailyPerf:this._returnSortByKey()===this.SORT_BY_KEYS.PERF_PREV_WEEK}),c.createElement("div",{className:"connections-table-sort-options"},iF.call(this,this.DropdownInput),this.state._isLoadingConnectionPerformance&&c.createElement("div",{className:"loading-connection-performances-message-container"},c.createElement("p",{className:"secondary-text-color"},"Loading Idea Performance..."))),c.createElement("div",{className:"connections-table-container"},this._forceTableLoadingState()?c.createElement(Dw,{flatStyle:!0}):c.createElement("div",null,c.createElement(F_e,{connectionListById:this._sortConnectionsListReturnUserIds(),userId:this._returnCurrentUserId(),isCurrentUsersProfile:!0,renderType:"connectionsTable",dontGetData:!0,showWeeklyInsteadOfDailyPerf:this._returnSortByKey()===this.SORT_BY_KEYS.PERF_PREV_WEEK})))))}}const B_e=N(_c,T((e=>({currentUser:e.currentUser,userConnections:e.userConnections,userIdeaPerformance:e.userIdeaPerformance,users:e.users})),(e=>({actions:I(WC,e)}))))($_e),z_e=e=>{const t=c.createElement(xc,{icon:"fa-info-circle",size:"small",colorClassName:"warning-text-color",style:{margin:"0 8px 1px 0"}});return c.createElement("div",{className:"disclaimer-styling nvstr-dollar-amounts-disclaimer"},t,c.createElement("span",{className:"secondary-text-color"},"Remember, your connections can never see your position dollar or share amounts, only percentages."))};var V_e=Object.defineProperty,H_e=(e,t,n)=>(((e,t,n)=>{t in e?V_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class W_e extends c.PureComponent{constructor(){super(...arguments),H_e(this,"_isLoadingConnections",(()=>GB(this._returnCurrentUserId(),this._returnUserConnectionsStore()))),H_e(this,"_returnUserConnectionsStore",(()=>this.props.userConnections)),H_e(this,"_renderLoading",(()=>c.createElement(Dw,null))),H_e(this,"_renderPendingConnectionRequests",(()=>c.createElement("div",{className:"pending-connections-request-panel"},c.createElement(g_e,null)))),H_e(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),H_e(this,"_returnCurrentUser",(()=>this.props.currentUser)),H_e(this,"_logPageView",(()=>{this.props.actions.logMetricsTrackingEvent("View My Connections")}))}componentDidMount(){document.title=`${Xo} - Connections`,this._logPageView()}render(){return c.createElement("div",{className:"people-page-container"},Hp(this._returnCurrentUser())&&wp(this.props.currentUser)&&c.createElement(l0,{additionalClassNames:"",viewingContext:"Connections Page"}),c.createElement(qye,null),c.createElement(r_e,null),c.createElement(z_e,null),this._renderPendingConnectionRequests(),c.createElement(B_e,null))}}var j_e=T((e=>({currentUser:e.currentUser,users:e.users,userConnections:e.userConnections})),(e=>({actions:I(WC,e)})))(W_e),G_e=Object.defineProperty,q_e=(e,t,n)=>(((e,t,n)=>{t in e?G_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Y_e extends c.PureComponent{constructor(e){super(e),q_e(this,"handleSingleViewpointContinueClick",(()=>{const{featuredViewpointOrgIds:e}=this.props,t=[e[0]];this.handleContinue(t)})),q_e(this,"handleContinue",(e=>{if(0===e.length)return this.setState((()=>({showMakeSelectionError:!0}))),null;TC("Press Continue Viewpoint Welcome Screen")(),this.handleSubscription(e)})),q_e(this,"handleSubscription",(e=>{const t=e[0],n={contentComponent:c.createElement(Wz,{text:"Saving"}),dismissable:!1};this.props.actions.showModal(n),setTimeout((()=>this._subscribeToViewpoint(t)),500)})),q_e(this,"_subscribeToViewpoint",(e=>this.props.actions.subscribeToViewpoint({viewpointOrgId:e,isFree:!0}).then((e=>{const{ok:t,errorMessage:n}=e;if(t)this.props.actions.hideModal(),this.onCompleteSubscription();else{const e={contentComponent:bS(n||"Something went wrong. Please try again."),dismissable:!0};this.props.actions.showModal(e)}})))),q_e(this,"onCompleteSubscription",(()=>{this.handleNavigation()})),q_e(this,"handleNavigation",(()=>{const{isOnboarding:e,navigate:t}=this.props;t(e?hn.build():en.build())})),this.state={showMakeSelectionError:!1}}componentDidMount(){const{featuredViewpointOrgIds:e,hasFreeViewpointSelectionAvailable:t}=this.props;TC("View Viewpoint Welcome Screen")(),0!==e.length&&t||this.handleNavigation()}render(){const{showMakeSelectionError:e}=this.state,{featuredViewpointOrgIds:t}=this.props;return c.createElement(V4,{showMobileCardStyling:!0},c.createElement("div",null,c.createElement("div",{className:"text-center",style:{margin:"0 auto"}},c.createElement(rB,{text:"Premium content for free",additionalClasses:"full-page-card-heading"})),c.createElement("div",{className:"text-center",style:{marginTop:15}},c.createElement("span",{className:"secondary-text-color"},"Your ",Jo," membership comes with access to 1 of our premium Viewpoint contributors for free.")),c.createElement("div",{className:"",style:{marginTop:15}},t.length>1?c.createElement(vle,{onContinue:this.handleContinue}):c.createElement(Tle,{id:t[0],showBio:!0,hideActions:!0})),1===t.length?c.createElement("div",{style:{textAlign:"center",paddingTop:"25px"}},c.createElement(hx,{onClick:this.handleSingleViewpointContinueClick},"Continue")):null,e&&c.createElement("div",{className:"error-text-color text-center",style:{marginTop:15}},c.createElement("span",null,"You must make a selection to continue"))))}}var K_e=_c(T((e=>{const t=e.currentUser,n=t.id,r=FS(n,e.ideas.ideaList).length,i={themeTestGroups:jp(t),ideaCount:r,userId:n,isLiveAccount:!0,abTestGroup:fp(t)};return{isOnboarding:Sp(t),featuredViewpointOrgIds:AP(e),hasFreeViewpointSelectionAvailable:Jp(t),userData:i}}),(e=>({actions:I(WC,e)})))(Y_e));var Q_e=_c(T((e=>{const t=e.currentUser,n=t.id,r=FS(n,e.ideas.ideaList).length,i={themeTestGroups:jp(t),ideaCount:r,userId:n,isLiveAccount:!0,abTestGroup:fp(t)};return{viewpointIds:NP(e),featuredViewpointIds:AP(e),hasFreeViewpointSelectionAvailable:Jp(t),userData:i}}),(e=>({actions:I(WC,e)})))((e=>{const{viewpointIds:t,featuredViewpointIds:n}=e,r=t.filter((e=>-1===n.indexOf(e)));return c.createElement(OF,{showMobileCardStyling:!0},c.createElement("div",null,c.createElement("div",{className:"text-center",style:{margin:"0 auto"}},c.createElement(rB,{text:"Explore Viewpoints",additionalClasses:"full-page-card-heading"})),c.createElement("div",{className:"",style:{marginTop:15}},n.map((e=>c.createElement("div",{key:e,style:{marginBottom:"15px"}},c.createElement(Tle,{id:e,showBio:!0}))))),c.createElement("div",{className:"",style:{marginTop:15}},r.map((e=>c.createElement("div",{key:e,style:{marginBottom:"15px"}},c.createElement(Tle,{id:e,showBio:!0})))))))})));class Z_e extends c.PureComponent{render(){const{children:e,viewpointOrg:t}=this.props;return CP(t)&&!wP(t)?e:null}}var X_e=T(((e,t)=>({viewpointOrg:IP(e,t.id)})))(Z_e),J_e=Object.defineProperty,efe=(e,t,n)=>(((e,t,n)=>{t in e?J_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class tfe extends c.PureComponent{constructor(){super(...arguments),efe(this,"handleRedeemFreeSubClick",(()=>{const{navigate:e}=this.props;e(kn.build());TC("Click Redeem Free Viewpoint Subscription")()})),efe(this,"handleDiscoverViewpointsClick",(()=>{const{navigate:e}=this.props;e(kn.build())}))}render(){const{currentSubscriptionViewpointIds:e}=this.props;return c.createElement(V4,{showMobileCardStyling:!0},c.createElement("div",null,c.createElement("div",{className:"text-center",style:{margin:"0 auto"}},c.createElement(rB,{text:"Viewpoint Subscriptions",additionalClasses:"full-page-card-heading"})),0===e.length?c.createElement("div",{className:"text-center flex-center-child"},c.createElement("div",{className:"dotted-line-banner border-accent",style:{marginTop:"15px",maxWidth:"500px"}},c.createElement("span",{className:" "},"You have a free featured Viewpoint contributor subscription available with your"," ",Jo," membership."),c.createElement("div",{style:{paddingTop:"15px"}},c.createElement(Cc,{customClass:"btn btn-primary-color btn-small-tall",text:"Redeem",handleClick:this.handleRedeemFreeSubClick})))):null,c.createElement("div",{className:"viewpoint-subscriptions-list",style:{marginTop:25}},e.length>0?e.map((e=>c.createElement("div",{key:e,style:{marginBottom:"15px"}},c.createElement(Tle,{id:e})))):c.createElement("div",{className:"text-center"},c.createElement("span",{className:"secondary-text-color"},"You are not subscribed to any viewpoints.")),c.createElement("div",{style:{paddingTop:25,textAlign:"center"}},c.createElement(rT,{to:"/viewpoint_contributors/explore",child:c.createElement(sx,{onClick:()=>!1},"Explore more Viewpoints")})))))}}var nfe=_c(T((e=>({currentSubscriptionViewpointIds:OP(e)})))(tfe));const rfe=u.div`
  flex: 1;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding-top: 40px;
  padding-bottom: 40px;
`,ife=({viewpointId:e})=>{const t=P(),[n,r]=C.exports.useState([]),[i,a]=C.exports.useState(!1),[s,o]=C.exports.useState("");C.exports.useEffect((()=>{(()=>{a(!0);gE({viewpointId:e,count:15})(t).then((e=>{const{ok:t,thoughts:n,errorMessage:i}=e;t?(a(!1),r(n)):(a(!1),o(i))}))})()}),[]);return i?c.createElement(rfe,null,c.createElement(Ri,null)):c.createElement("div",null,n.map(((e,t)=>c.createElement("div",{className:"react-thought-notification",key:e.id},(e=>c.createElement("div",{className:"thought-feed-thought-headline"},c.createElement("span",{style:{marginRight:"5px"}},c.createElement(SV,{thought:e})),c.createElement("span",{style:{marginRight:"5px"}},"for"),c.createElement("span",{style:{marginRight:"-1px"}},c.createElement(oB,{securityId:cu(e)},c.createElement(Fz,{prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0}))),c.createElement("span",null,"from the community")))(e),c.createElement(oB,{securityId:cu(e)},c.createElement(iV,{thoughtId:e.id,thought:e,viewingContext:yS("FEED"),scrollContainerSelector:window,inFeed:!0,showAlternateOpinionActionStyle:!0,isUserAuthed:!0,hideOpinionCounts:!0,withThoughtLink:!0,isSuggestedThought:!0,useShareInModal:!0}))))))};var afe=Object.defineProperty,sfe=(e,t,n)=>(((e,t,n)=>{t in e?afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ofe extends c.PureComponent{constructor(){super(...arguments),sfe(this,"_isAuthed",(()=>this.props.isAuthed)),sfe(this,"renderHeaderBuffer",(()=>this._isAuthed()?null:c.createElement("div",{style:{paddingTop:"75px"}}))),sfe(this,"logView",(()=>{const{id:e,viewpointOrg:t,dispatch:n}=this.props;this._didLogView=!0;const r={ID:e,"Is Subscribed":wP(t)};TC("View Viewpoint Profile",r)();const i=fe(window.location.search);zC(e,i.context)}))}componentDidMount(){const{viewpointOrg:e,dispatch:t}=this.props;null===e?IC()(t):this.logView()}componentDidUpdate(e,t,n){const{viewpointOrg:r}=this.props;this._didLogView&&null!==r&&this.logView()}render(){const{viewpointOrg:e}=this.props;if(null===e)return c.createElement("div",null,this.renderHeaderBuffer(),c.createElement(Dw,null));const{id:t}=e,n=fP(e);return c.createElement("div",null,this.renderHeaderBuffer(),c.createElement(OF,{overrideStyle:{maxWidth:"950px"}},c.createElement("div",{className:"viewpoint-profile-container"},c.createElement("div",{className:"viewpoint-profile-header"},c.createElement(VP,{viewpointOrgId:t,isViewpointOrg:!0,imageSrc:(i=e,i.avatar_url),initials:(r=e,vP(r)[0]),size:"large",withLink:!1}),c.createElement("div",{className:"viewpoint-name",style:{paddingLeft:"15px"}},c.createElement(WL,{viewpointOrgId:t,isViewpointOrg:!0,displayText:vP(e),withLink:!1}))),c.createElement("div",{className:"text-center viewpoint-description-container",style:{margin:"10px auto 0 auto",maxWidth:"600px"}},c.createElement("span",{className:"secondary-text-color"},n)),c.createElement("div",{style:{margin:"24px auto 0 auto",maxWidth:"500px"}},c.createElement(ife,{viewpointId:t})),c.createElement(X_e,{id:t},c.createElement("div",{className:"text-center subscribe-action-container flex-center-child"},c.createElement("div",{className:"dotted-line-banner border-accent",style:{marginTop:"15px"}},this._isAuthed()?c.createElement("span",{className:" "},"Get access to all their premium content when you subscribe."):c.createElement("span",{className:" "},"Get access to all their premium content when you signup for an ",Jo," account and subscribe."),this._isAuthed()?c.createElement("div",{style:{paddingTop:"15px"}},c.createElement(Zz,{id:t,buttonType:Yz})):c.createElement("div",{style:{paddingTop:"15px"}},c.createElement(iT,{to:"/signup",className:"btn btn-primary-color btn-small-tall",text:"Sign Up",fullPageLoad:!0}))))))));var r,i}}var lfe=T(((e,t)=>{const{id:n}=t;return null===n?{viewpointOrg:null}:{isAuthed:e.authentication.isAuthenticated,viewpointOrg:IP(e,n)}}))(ofe);class cfe extends c.PureComponent{render(){const{viewpointOrgId:e}=this.props;return c.createElement(lfe,{id:e})}}var dfe=T(((e,t)=>{const n=t.nameParam.split("-").join(" ");return n?{viewpointOrgId:MP(e,n.toLowerCase())}:{viewpointOrgId:null}}))(cfe),ufe=Object.defineProperty,hfe=(e,t,n)=>(((e,t,n)=>{t in e?ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class pfe extends c.Component{constructor(){super(...arguments),hfe(this,"_renderLoading",(()=>c.createElement(Dw,null))),hfe(this,"_renderPage",(()=>c.createElement(OF,{className:"import-container"},this._renderHeader(),this._renderNetworks(),c.createElement("p",{className:"secondary-text-color",style:{fontSize:"16px",fontWeight:"300",margin:"25px 0 0 0"}},"You can select which contacts or friends you want to send invites to.")))),hfe(this,"_renderHeader",(()=>c.createElement("div",{className:""},c.createElement("div",{className:"heading"},c.createElement("h2",null,"You can invest better with the help of your friends.")),c.createElement("div",{className:"sub-heading"},c.createElement("p",{className:"secondary-text-color"},"See who you already know on ",Xo," by importing connections."))))),hfe(this,"_renderNetworks",(()=>c.createElement("div",{className:"networks-list-container"},c.createElement("ul",{className:"provider-list"},this._returnImportNetworks().map((e=>this._renderNetwork(e))))))),hfe(this,"_renderNetwork",(e=>{const t=e.network;return c.createElement("li",{key:`networks-list-network-${t}`,className:"social-import-row"},c.createElement("div",{className:"social-import"},c.createElement("div",{className:`social-import-icon ${t.toLowerCase()}`},(e=>({Facebook:c.createElement(O3,null),Gmail:c.createElement(D3,null)}[e]||console.error("No icon found for "+e)))(t)),c.createElement("div",{className:"social-import-text"},t)),c.createElement("div",{className:"social-import-btn"},c.createElement(hx,{handleClick:this._bindNetworkDataToClickHandler(e)},(e.can_import_email,"Import"))))})),hfe(this,"_bindNetworkDataToClickHandler",(e=>()=>H3(e,this.props.actions))),hfe(this,"_isLoading",(()=>this._returnImportConnectionsStore().isLoadingNetworks)),hfe(this,"_isUpdating",(()=>this._isLoading()&&this._hasNetworksDataLoaded())),hfe(this,"_hasNetworksDataLoaded",(()=>this._returnImportNetworks().length>0)),hfe(this,"_returnImportNetworks",(e=>this._returnImportConnectionsStore(e).networks)),hfe(this,"_returnImportConnectionsStore",(e=>(e||this.props).importConnections)),hfe(this,"_getImportConnectionsNetworks",(()=>this.props.actions.getImportConnectionsNetworks())),hfe(this,"_logNetworkClick",(e=>{const t={Network:e};this.props.actions.logMetricsTrackingEvent("Click Import Button",t)}))}componentDidMount(){this._getImportConnectionsNetworks()}render(){return this._isLoading()&&!this._isUpdating()?this._renderLoading():this._renderPage()}}const mfe=N(T((e=>({importConnections:e.importConnections})),(e=>({actions:I(WC,e)}))))(pfe),gfe=e=>{const{securityId:t,symbol:n,isUserAuthed:r}=e;return c.createElement("div",{className:"see-all-security-thoughts-link"},c.createElement(iT,{to:Ln("securitiesPage",t,"?activeTab=thoughts"),className:"link-btn link-btn-std-color",additionalClickAction:()=>{ly("Clicked View All Thoughts For Security",{"Is Authed":!!r,"Security ID":t,Symbol:n})()},child:c.createElement("span",{className:""},`See all Pros/Cons for ${n}`),scrollToTop:!0}))};var yfe=Object.defineProperty,_fe=(e,t,n)=>(((e,t,n)=>{t in e?yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class ffe extends C.exports.Component{constructor(){super(),_fe(this,"_renderError",(()=>this.doesThoughtNotExist()?this._renderThoughtNotFound():c.createElement(OF,{className:"thoughts-page-container"},"Something went wrong, please try again later."))),_fe(this,"_renderThoughtNotFound",(()=>c.createElement(OF,{className:"thoughts-page-container not-found"},c.createElement("div",{className:"not-found-message-container"},c.createElement(xc,{icon:"fa-search",size:"xlarge",color:"#ddd"}),c.createElement("div",{className:"message"},"We could not find that Pro/Con."))))),_fe(this,"isLoading",(()=>!this.returnSecurityId())),_fe(this,"_setWasError",(()=>{this.setState((()=>({_wasError:!0})))})),_fe(this,"wasError",(()=>this.state._wasError)),_fe(this,"doesThoughtNotExist",(()=>this.state._noThoughtExists)),_fe(this,"getData",(()=>{this.getThoughtData().then((e=>{if(!this._didThoughtDataRequestReturnAValidThought(e))return this._setCouldNotFindThought(),this._setWasError();const t=this._getSecurityIdFromGetThoughtDataResponse(e);if(!t)return Uk("Could not find securityId in response",!0,e);this._setSecurityId(t),this.getThoughtSecurityData(t)}))})),_fe(this,"_didThoughtDataRequestReturnAValidThought",(e=>this._returnThoughtDataFromGetThoughtDataResponse(e).id>0)),_fe(this,"_getSecurityIdFromGetThoughtDataResponse",(e=>this._returnThoughtDataFromGetThoughtDataResponse(e).security_id)),_fe(this,"_returnThoughtDataFromGetThoughtDataResponse",(e=>e&&e.data||{})),_fe(this,"_setCouldNotFindThought",(()=>{this.setState((()=>({_noThoughtExists:!0})))})),_fe(this,"getThoughtData",(()=>this.props.actions.getThoughtData(this.returnThoughtId()))),_fe(this,"getThoughtSecurityData",(e=>this.props.actions.quickFetchSecuritiesData([e]))),_fe(this,"_setSecurityId",(e=>{this.setState((()=>({securityId:e})))})),_fe(this,"returnSecurityId",(()=>this.state.securityId)),_fe(this,"returnThoughtId",(()=>{let e;try{e=parseInt(this.props.thoughtId,10)}catch(t){return this._setCouldNotFindThought(),Uk(t,!0,{props:this.props})}return e})),_fe(this,"_isUserAuthed",(()=>this._returnCurrentUser().user_id)),_fe(this,"_returnCurrentUser",(()=>this.props.currentUser)),_fe(this,"_logPageView",(()=>{const e={"Thought ID":this.returnThoughtId(),"Is Authed":this._isUserAuthed()};this.props.actions.logMetricsTrackingEvent("Viewed Thought Page",e)})),this.state={securityId:null,_noThoughtExists:!1,_wasError:!1}}componentDidMount(){this.getData(),this._logPageView()}render(){return this.wasError()?this._renderError():this.isLoading()?c.createElement(Dw,null):c.createElement(OF,{className:"thoughts-page-container"},c.createElement(oB,{securityId:this.returnSecurityId(),useLoadingComponent:!0,isUserAuthed:this._isUserAuthed()},c.createElement(uB,{thoughtId:this.returnThoughtId(),isUserAuthed:this._isUserAuthed()},c.createElement(iV,{viewingContext:yS("THOUGHT_PAGE"),isUserAuthed:this._isUserAuthed(),showThoughtHeading:!0,useStandaloneThoughtHeading:!0,showAlternateOpinionActionStyle:!0,useShareInModal:!0,recordImpressionOnMount:!0})),c.createElement(gfe,{isUserAuthed:this._isUserAuthed()})))}}var vfe=T((e=>({currentUser:e.currentUser,thoughts:e.thoughts})),(e=>({actions:I(WC,e)})))(ffe);const Efe=u.div`
  h3 {
    margin: 0;
  }
`,bfe=u.div`
  flex: 1;
`,Cfe=u.div``,xfe=u.div`
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
  padding: 16px;
  display: flex;
  flex-direction: row;
`,wfe=u.div`
  display: flex;
  flex-direction: row;
`,Sfe=u.div`
  padding-top: 2px;

  button {
    height: 20px;
    padding-right: 0px;
    padding-top: 8px;
    padding-bottom: 4px;
  }
`,kfe=({id:e})=>{const t=D((t=>cU(t)[e])),{account_type:n,account_number_ending:r}=t,i=n,a=r;return c.createElement(c.Fragment,null,i.toUpperCase()," (...",a,")")},Tfe=gi({fontSize:"24px",lineHeight:"28px"},{fontSize:"24px",lineHeight:"28px"}),Ife=gi({fontSize:"14px",lineHeight:"28px"},{fontSize:"14px",lineHeight:"28px"}),Nfe=({account_id:e,start_date:t,amount:n})=>{const r=P(),[i,a]=c.useState(!1);return c.createElement(xfe,null,c.createElement(bfe,null,c.createElement(wfe,null,c.createElement(pw,{fontSettings:Tfe,bold:!0},B_(Gl(t).add(1,"day"),"day")),c.createElement(Wx,{row:!0,top:3},c.createElement(pw,{fontSettings:Ife,lowContrast:!0,thin:!0},"  of the month"))),c.createElement(Wx,{top:4},c.createElement(pw,{fontSettings:Ife,thin:!0},c.createElement(kfe,{id:e})))),c.createElement(Cfe,null,c.createElement("div",{style:{textAlign:"right"}},c.createElement(pw,{fontSettings:Tfe,bold:!0},B_(qk(n),"price"))),c.createElement(Sfe,null,i?c.createElement(hx,{transparent:!0,onClick:()=>!1,height:20},"Canceling"):c.createElement(hx,{transparent:!0,onClick:async()=>{if(i)return;a(!0),th.funding.PRESS_REMOVE_RECURRING_DEPOSIT.send();const{ok:t,errorMessage:n}=await rb(e)(r);if(await ob()(r),t)th.funding.RECURRING_DEPOSIT_CANCELED_SUCCESS.send();else{const e={contentComponent:bS(n),dismissable:!0};bb(e)(r)}a(!1)},height:20},"Cancel"))))},Afe=()=>{const e=yde(),t=b();return c.createElement(Lx,{width:"600px"},c.createElement(Efe,null,c.createElement(ki,null,"Recurring Deposits"),(null==e?void 0:e.length)>0?c.createElement(Wx,{horizontal:0,top:24},e.map(((e,t)=>c.createElement(Nfe,o({key:`${e.account_id}-${t}-${e.start_date}-${e.amount}`},e))))):c.createElement(Wx,{horizontal:16,top:24,bottom:24},c.createElement(yi,null,"You have no recurring deposits scheduled."),c.createElement(Wx,{top:24},c.createElement(hx,{onClick:()=>{th.funding.PRESS_START_CREATE_RECURRING_DEPOSIT.send(),t(Xt.createRecurringDeposits)}},"Create One")))))},Pfe={3e5:.75,300003:.01,300004:.01,300007:.01},Dfe=[3e5,300001,300002,300003,300004,300005,300006,300007,300008,300009],Ofe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  border-bottom: 1px solid ${vr.primary.charcoal};
  cursor: pointer;

  &:hover {
    background-color: rgba(255, 255, 255, 0.16);
  }
`,Lfe=u.div`
  height: 74px;
  display: flex;
  flex: 1;
  align-items: center;
`;u.div`
  width: 40px;

  svg {
    height: 18px;
    width: 18px;

    path {
      fill: ${vr.primary.charcoal};
    }
  }
`;const Rfe=u.div`
  overflow: auto;
  max-height: calc(100vh - 120px);
  padding: 16px;
  width: 100%;

  @media (max-width: 615px) {
    max-height: calc(100vh - 64px);
  }
`,Ffe=u.div`
  position: relative;
  padding: 16px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.4);
  background-color: rgba(255, 255, 255, 0.3);

  display: flex;
  flex-direction: row;
  align-items: center;
`,Mfe=u.div`
  position: relative;
  padding: 16px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid #1a1a1a;
  //background-color: rgba(255, 255, 255, 0.3);

  display: flex;
  flex-direction: row;
  align-items: center;
`,Ufe=u.div`
  display: flex;
  flex: 1;
  padding-right: 16px;
  flex-direction: column;
`,$fe=u.div``,Bfe=u.div`
  > div {
    padding: 0px !important;
  }
`,zfe=gi({fontSize:"18px",lineHeight:1.2},{fontSize:"18px",lineHeight:1.2}),Vfe=gi({fontSize:"24px",lineHeight:1.2},{fontSize:"28px",lineHeight:1.2}),Hfe=({lessonId:e,heading:t,previewPhrase:n,textColor:r})=>{const i=b();return c.createElement(Ofe,null,c.createElement(Lfe,{onClick:()=>{th.learn.PRESS_VIEW_PREVIOUS_COMPLETED_LESSON.send({"Lesson ID":e,Subject:t}),i(An.build(q0(t)))}},c.createElement(Wx,{left:16},c.createElement(pw,{fontSettings:zfe,bold:!0,color:r},t),c.createElement(Wx,{top:4},c.createElement(Ei,{color:r},Y0(n))))))},Wfe=e=>{if(e.map((e=>e.id)).map((e=>S1[e])).filter((e=>e&&"Investing"===e.name)).length>0)return[];const t=S1[100003];return[{id:t.id,heading:t.heading,preview_phrase:t.phraseDisplay,is_core_content:!0}]},jfe=({header:e})=>{const t=vr.primary.charcoal,n=D((e=>e.learn.completed_lessons)),[r,i]=c.useState(null);return c.useEffect((()=>{const e=[...n,...Wfe(n)].filter((e=>null==e?void 0:e.is_core_content));var t;i((t=e).filter(((e,n)=>t.indexOf(e)===n)))}),[n]),!r||r.length<1?null:c.createElement("div",null,e,r.map((e=>c.createElement(Hfe,{key:e.id,lessonId:e.id,heading:e.heading,previewPhrase:e.preview_phrase,textColor:t}))))},Gfe=({lessonId:e})=>{const t=b(),{description:n,preview_phrase:r}=I1(e),i=vr.primary.charcoal;return c.createElement(Ffe,null,c.createElement(Ufe,null,c.createElement("div",null,c.createElement(pw,{fontSettings:zfe,bold:!0,color:i},n)),c.createElement(Wx,{top:4,left:2},c.createElement(Ei,{color:i},Y0(r)))),c.createElement($fe,null,c.createElement(hx,{width:100,color:i,onClick:()=>{t(An.build(q0(n)))},textColor:vr.primary.oak},"Start")))},qfe=({lessonId:e})=>{const t=b(),{lesson:n}=N1(e),{heading:r,name:i}=n,a=vr.primary.charcoal;c.useEffect((()=>{th.learn.VIEW_PARTNER_PROMO_LESSON_BANNER.send({"Lesson ID":e,Subject:i})}),[]);return c.createElement(Mfe,null,c.createElement(Ufe,null,c.createElement("div",null,c.createElement(pw,{fontSettings:zfe,bold:!0,color:a},r)),c.createElement(Wx,{top:4,left:2},c.createElement(Ei,{color:a},"Find out more and access a special offer."))),c.createElement($fe,null,c.createElement(hx,{width:100,color:a,onClick:()=>{th.learn.PRESS_VIEW_PARTNER_PROMO_LESSON.send({"Lesson ID":e,Subject:i}),t(An.build(q0(i)))},textColor:vr.primary.oak},"Start")))},Yfe=({HeaderComponent:e})=>{const t=D((e=>e.learn.completed_lessons)).map((e=>e.id)),[n,r]=c.useState(null);return c.useEffect((()=>{const e=Dfe.filter((e=>!t.includes(e)));if(e.length>0){const t=((e,t={})=>{if(!Array.isArray(e)||0===e.length)return null;const n=Object.keys(t),r=e.filter((e=>n.indexOf(e.toString())<0)),i=Object.entries(t).filter((t=>e.indexOf(parseInt(t[0],10))>=0)),a=i.reduce(((e,t)=>e+t[1]),0);if(a>=1)return console.error("fixed probability is greater than 1, cannot select"),null;const s=1-a,o=Math.random(),l=[];let c=0;i.forEach((e=>{const t=e[1];c+=t;const n=parseInt(e[0],10);l.push([n,c])}));const d=s/r.length;r.forEach((e=>{c+=d,l.push([e,c])}));let u=null;for(let h=0;h<l.length;h++){let e=l[h];null===u&&o<=e[1]&&(u=parseInt(e[0],10))}return u})(e,Pfe);r(t)}}),[t,n]),null===n?null:c.createElement("div",{horizontal:16},e,c.createElement("div",{top:16},c.createElement(qfe,{lessonId:n})))},Kfe=()=>{const e=vr.primary.charcoal,{nextLessonId:t,status:n}=SI(),r=mte[n]||"Come back tomorrow for more new lessons!";return c.createElement(Bfe,null,c.createElement(A7,null,c.createElement(Rfe,null,c.createElement(Wx,{top:12},c.createElement(pw,{fontSettings:Vfe,color:e,bold:!0},"LEARN & EARN")),c.createElement(Wx,{horizontal:16,top:4},t?c.createElement(Wx,{top:16},c.createElement(Wx,{left:2},c.createElement(Ei,{color:e},"Your new lesson is ready!")),c.createElement(Wx,{top:16,bottom:16},c.createElement(Gfe,{lessonId:t}))):c.createElement(Wx,{top:16,bottom:16},c.createElement(Ei,{color:e},r),c.createElement(Wx,{top:16}))),c.createElement(Wx,{top:4},c.createElement(Yfe,{HeaderComponent:c.createElement(Wx,{bottom:8},c.createElement(Ei,{color:e},"PARTNER LESSONS WITH SPECIAL OFFERS"))})),c.createElement(Wx,{top:16},c.createElement(jfe,{header:c.createElement("div",null,c.createElement(Ei,{color:e},"REVISIT LESSONS YOU'VE ALREADY COMPLETED"))})))))};u.div`
  select {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  input {
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
  }
`;const Qfe=u.div`
  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,Zfe=({value:e,error:t,onChange:n})=>{const r=II(),i=[so({disabled:!1,value:"",text:"Please select..."}),...r.map((e=>so({disabled:!1,value:e.id.toString(),text:Hl(e)})))];return c.createElement(Qfe,null,c.createElement(Io,{name:"bankAccount",label:"Bank Account",items:i,value:e,onChange:n,error:t}))},Xfe=u.div`
  h3 {
    margin: 0;
  }
`,Jfe=u.div`
  svg {
    height: 36px !important;
    width: 36px !important;
  }
`,eve=u.div`
  margin-left: -16px;
`,tve=u.div`
  text-align: center;
`,nve=u.div`
  position: relative;

  select {
    border-top: none;
    border-right: none;
    border-left: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }

  .sc-input-wrapper {
    display: flex;
    flex-direction: row;
    align-items: center;
  }

  .input-text-prefix {
    font-size: 28px;
    line-height: 30px;
    padding-top: 9px;
  }
  input {
    font-size: 28px;
    border: none;

    -webkit-appearance: auto;
    background: transparent !important;
    cursor: pointer;
  }
`,rve=[];function ive(e){let t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}const ave=[];for(let $=1;$<=28;$++)ave.push($);ave.forEach((e=>{rve.push(so({text:ive(e),value:e,disabled:!1}))}));const sve=()=>{const e=b(),t=JO()[tx.primaryTextColor],n=P(),r=II(),[i,a]=c.useState(r.length>0?r[0].account_id.toString():""),[s,o]=c.useState(""),[l,d]=c.useState(1),[u,h]=c.useState(!1),[p,m]=c.useState(!1),[g,y]=c.useState(null);c.useEffect((()=>{if(1===r.length){const e=r[0].account_id;""===i&&a(e.toString())}}),[r,i]);const _=()=>{e(-1)};return p?c.createElement(Lx,{width:"600px"},c.createElement(Xfe,null,c.createElement(Iw,{horizontal:16,flex:1,column:!0},c.createElement(Iw,{centerAll:!0,top:24,row:!0},c.createElement(Iw,{centerAll:!0,row:!0,right:16},c.createElement(Jfe,null,c.createElement(fx,{textColor:!0}))),c.createElement(Iw,{flex:1},c.createElement(Ii,null,"Recurring deposit scheduled successfully!")))),c.createElement(Iw,{style:{textAlign:"center"},horizontal:16,top:48,bottom:16},c.createElement(tve,null,c.createElement(hx,{onClick:_,fullWidth:!0},"Continue"))))):c.createElement(Lx,{width:"640px"},c.createElement(Xfe,null,c.createElement(Iw,{top:8,horizontal:16,flex:1,column:!0},c.createElement(Iw,{flex:1,column:!0},c.createElement(Ii,null,"Schedule a deposit that will repeat every month"),c.createElement(Iw,{top:24},c.createElement(Iw,null,c.createElement(Zfe,{value:i,error:null,onChange:e=>e=>{u||a(e)}})),c.createElement(Iw,{row:!0,top:4},c.createElement(kee,{transparent:!0})),c.createElement(Iw,{top:16,style:{borderBottomWidth:1,borderBottomColor:t}},c.createElement(Iw,{bottom:2,row:!0,verticallyCenter:!0},c.createElement(Ei,{color:t},"Day of the Month",c.createElement(iS,{word:"tooltip_recurring_deposit_day_selection",style:{position:"relative",right:"-7px",top:"1px"}}))),c.createElement(Iw,null,c.createElement(nve,null,c.createElement(Io,{placeholder:"Please select...",name:"frequency",label:null,items:rve,value:l,onChange:()=>e=>{d(e)},error:null})))),c.createElement(Iw,{top:28},c.createElement(nve,null,c.createElement(ko,{name:"amount",value:s,prefix:"$",label:"Amount",onChange:e=>e=>{u||o(e)},maskType:Gr,error:null,forceLiftedState:!0}))),c.createElement(Iw,null,c.createElement(eve,null,c.createElement(N9,{amounts:[5,20,50,100],value:s,onSelect:e=>{u||o(lc(tc,e).replace("$",""))}}))))),c.createElement(Iw,{top:24},c.createElement(E9,{isSubmitting:u,error:g}),c.createElement(Iw,{bottom:16},c.createElement(tve,null,c.createElement(hx,{fullWidth:!0,onClick:async()=>{if(!(""!==i&&i?""===s||isNaN(qk(s))?(y("Please enter an amount."),0):0===qk(s)?(y("Please enter an amount greater than zero."),0):(y(null),1):(y("Please select a bank account to transfer funds to."),0)))return;y(null),h(!0);const{ok:e,errorMessage:t}=await(async()=>nb({amount:s,day_of_the_month:l,account_id:i})(n))();e&&await ob()(n),h(!1),e?(th.funding.RECURRING_DEPOSIT_ADDED_SUCCESS.send({Amount:s}),m(!0)):(th.funding.RECURRING_DEPOSIT_ADDED_FAILURE.send({Reason:t}),y(t))},disabled:u},"Submit")))))))},ove=(e,t)=>e?e[t]:null,lve=e=>{const t=D((e=>{var t;return null==(t=e.optimizer.data)?void 0:t.optimized_positions_by_security_id})),[n,r]=c.useState(ove(t,e));return c.useEffect((()=>{const n=ove(t,e);n&&r(n)}),[t,e]),n},cve=({up:e,down:t})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e&&c.createElement("path",{d:"M13,18H11V10L7.5,13.5L6.08,12.08L12,6.16L17.92,12.08L16.5,13.5L13,10V18M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"}),t&&c.createElement("path",{d:"M11,6H13V14L16.5,10.5L17.92,11.92L12,17.84L6.08,11.92L7.5,10.5L11,14V6M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20Z"})),dve={buy:"buy",sell:"sell"},uve={market:"market",limit:"limit",stop:"stop",stopLimit:"stop_limit"},hve={dollars:"dollars",shares:"shares"},pve=u.div``,mve=u.div`
  padding: 16px 24px;

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
`,gve=u.div``,yve=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(228px, 1fr) minmax(120px, 1fr) minmax(260px, 1fr);
  grid-column-gap: 8px;

  padding: 16px 24px;

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
  @media (max-width: 692px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: minmax(40px, 1fr);
    grid-column-gap: 0;
    grid-row-gap: 0;

    > div:first-child {
      grid-area: 1 / 1 / 2 / 3;
      padding-top: 0;
      padding-bottom: 0;
    }
    > div:nth-child(2) {
      grid-area: 2 / 1 / 3 / 2;
    }
    > div:nth-child(3) {
      grid-area: 2 / 2 / 3 / 3;
    }
  }

  @media (max-width: 460px) {
    padding-left: 16px;
    padding-right: 8px;
  }
`,_ve=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(228px, 1fr) minmax(120px, 1fr) minmax(260px, 1fr);
  grid-column-gap: 8px;
  padding: 16px 24px;
  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
  @media (max-width: 692px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: minmax(40px, 1fr);
    grid-column-gap: 0;
    grid-row-gap: 0;

    > div:first-child {
      grid-area: 1 / 1 / 2 / 3;
      padding-top: 0;
      padding-bottom: 0;
    }
    > div:nth-child(2) {
      grid-area: 2 / 1 / 3 / 2;
    }
    > div:nth-child(3) {
      grid-area: 2 / 2 / 3 / 3;
    }
  }

  @media (max-width: 460px) {
    padding-left: 16px;
    padding-right: 8px;
  }
`,fve=u.div`
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,vve=u.div``,Eve=u.div``,bve=u.div`
  height: ${100}px;
  cursor: pointer;
  padding: 0 8px 0 0;
  @media (max-width: 692px) {
    height: 40px;

    display: flex;
    flex-direction: row;
    align-items: baseline;
    justify-content: flex-start;
    gap: 12px;

    ${Eve} {
      min-width: 72px;
    }
    ${vve} {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: flex-start;
      gap: 5px;
    }
  }
  > div {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
`,Cve=u.div`
  font-size: 14px;
  line-height: 22px;
  font-weight: 800;
`,xve=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 15px;
    width: 15px;
    margin-left: 5px;

    path {
      fill: ${({theme:e,type:t})=>e.themeColors.negative};
    }
  }
`,wve=u.div`
  font-size: 12px;
  line-height: 22px;
  font-weight: 200;

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,Sve=u.div`
  font-size: 16px;
  line-height: 20px;
  font-weight: 800;
`,kve=({securityId:e,ideaId:t})=>{const n=P7(e),r=nX(t),{security:i}=r,{name:a,symbol:s}=i,{featured:o}=IH(e),{idea_type:l,conviction:d,price_target:u,expected_return:h,horizon:p,active:m}=r||{},g=eg(u,"current_price"),y=eg(h,"percentage");return c.createElement(bve,{onClick:()=>{n()}},c.createElement(Eve,null,c.createElement(bi,null,null==s?void 0:s.toUpperCase())),c.createElement(fve,{top:4,style:{display:"none"}},c.createElement(Ei,{isLowContrast:!0,thin:!0},a)),o&&m?c.createElement(vve,null,isNaN(u)||null===u?c.createElement(Cve,null,y):c.createElement(xve,null,c.createElement(Sve,null,"$"+g),c.createElement(Kpe,null)),c.createElement(wve,null,d.name," conviction")):null)},Tve=u.div`
  text-align: left;
`,Ive=u.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-wrap: wrap;
`,Nve=({securityId:e})=>{const{shares:t,value:n,percentageOfPortfolio:r}=gZ(e);return isNaN(t)||0===t?c.createElement(Tve,null):c.createElement(Tve,null,c.createElement(fZ,{value:n}),c.createElement(Ive,null,c.createElement(bZ,{value:t}),c.createElement("div",{style:{paddingLeft:"4px"}},c.createElement(vZ,{value:100*r}))))},Ave=u.div`
  text-align: left;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  max-width: 200px;
`,Pve=u.div`
  padding-top: 2px;
  padding-right: 6px;
  line-height: 1;

  svg {
    height: 24px;
    width: 24px;

    path {
      fill: ${({theme:e,delta:t})=>0===t?e.themeColors.secondaryText:t>0?e.themeColors.positive:e.themeColors.negative};
    }
  }
`,Dve=u.div`
  padding-top: 4px;
  button {
    padding: 4px 12px;
  }
`,Ove=({securityId:e})=>{const t=lve(e);if(!t)return null;const{avg_correl_group:n,avg_correl_summary:r,hist_volatility_group:i,hist_volatility_summary:a,proj_return_group:s,proj_return_summary:o}=t,l=[{type:"proj_return",group:s,summary:o},{type:"hist_volatility",group:i,summary:a},{type:"avg_correl",group:n,summary:r}];return c.createElement(z$,{securityId:e,optimizerAnalysisSummaryList:l})},Lve=({securityId:e,ideaId:t})=>{const n=P(),{symbol:r}=IH(e),{active:i}=nX(t),a=gZ(e),s=lve(e),o=(null==s?void 0:s.shares)||0,l=(null==s?void 0:s.value)||0,d=(null==s?void 0:s.allocation_percent)||0,u=(null==a?void 0:a.shares)||0,h=(null==a?void 0:a.value)||0,p=o-u,m=l-h;if(0===o&&0===u)return c.createElement(Ave,null);return c.createElement(Ave,null,c.createElement(Iw,{row:!0},c.createElement(Pve,{delta:p},0===p&&Math.abs(o)>0?c.createElement($i,null):c.createElement(cve,{up:p>0,down:p<0})),c.createElement(Iw,null,c.createElement(fZ,{value:l}),c.createElement(Ive,null,c.createElement(bZ,{value:o}),c.createElement("div",{style:{paddingLeft:"4px"}},c.createElement(vZ,{value:d}))),Math.abs(m)>0&&c.createElement(Dve,null,c.createElement(hx,{onClick:()=>{const t={"Security Id":e,"Security Symbol":r,"Order Creation Type":"Single Optimization"};th.orders.PLACED_TRADE.send(t),TC("Clicked Create Single Optimized Order",t)();const i=p>0?dve.buy:dve.sell,a=parseFloat(Math.abs(p).toFixed(5)).toString(10);PE({type:Rl,props:{shares:a,transactionType:i,securityId:e,isFromOptimizer:!0}})(n)}},"Trade")))),c.createElement(Iw,null,i&&c.createElement(Ove,{securityId:e})))},Rve=({ideaId:e})=>{const t=nX(e);return c.createElement(_ve,null,c.createElement(kve,{securityId:t.security.id,ideaId:e}),c.createElement(Nve,{securityId:t.security.id,ideaId:e}),c.createElement(Lve,{securityId:t.security.id,ideaId:e}))},Fve=()=>{const e=(()=>{const e=oI(),t=Object.keys(e),n=D((e=>{var t;return null==(t=e.optimizer.data)?void 0:t.optimized_positions_by_security_id})),r=nI(),[i,a]=c.useState(t),[s,o]=c.useState(cI(t,e,n,r));return c.useEffect((()=>{const s=cI(t,e,n,r);var l,c;c=i,(l=s)&&c&&l.length===c.length&&l.every(((e,t)=>e===c[t]))||(a(s),o(s))}),[e,i,n]),s})();return c.createElement(gve,null,c.createElement(yve,null,c.createElement(Iw,null,c.createElement(tS,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Expected Return"),c.createElement(iS,{word:"tooltip_expected_return",style:{top:"3px",right:"-18px"}}))),c.createElement("div",null,c.createElement(tS,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Current Allocation"),c.createElement(iS,{word:"tooltip_allocation",style:{top:"3px",right:"-18px"}}))),c.createElement("div",null,c.createElement(tS,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Optimized Allocation"),c.createElement(iS,{word:"tooltip_optimized_allocation",style:{top:"3px",right:"-18px"}})))),e.map((e=>c.createElement(Rve,{key:e.id,ideaId:e.id}))))},Mve=u.div`
  button {
    padding: 6px 16px;
  }
`,Uve=()=>{const e=b();return c.createElement(pve,null,c.createElement(mve,null,c.createElement(Iw,{row:!0,verticallyCenter:!0,spaceBetween:!0},c.createElement(Ii,null,"Optimized Portfolio"),c.createElement(Mve,null,c.createElement(hx,{onClick:()=>{e(ln.build())}},"Trade All")))),c.createElement(Fve,null))},$ve=()=>D((e=>e.optimizer)).isOptimizerRunning,Bve=()=>D((e=>e.optimizer.data)),zve=u.div`
  position: relative;
  padding: 16px 24px;

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
`,Vve=u.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: -100000px;
  right: 0;
  cursor: not-allowed;
  cursor: progress;

  background: ${({theme:e})=>e.themeColors.appBackground};
  opacity: ${({show:e})=>e?.8:0};
  z-index: ${({show:e})=>e?100:-1};
`,Hve=u.div`
  * {
    font-weight: 800;
    letter-spacing: 0.4px;
  }
`,Wve=u.div`
  padding-top: 10px;
  * {
    font-size: 28px;
    line-height: 36px;
    font-weight: 100;
    color: ${({theme:e,isOptimized:t})=>t?e.themeColors.positive:e.themeColors.text} !important;
  }
`,jve=u.div`
  padding-top: 5px;
`,Gve=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 24px;
`,qve=u.div`
  overflow: hidden;

  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;

  margin-top: -12px;
  padding-left: 8px;
  padding-bottom: 16px;
`,Yve=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: space-between;

  padding-top: 48px;

  @media (max-width: 840px) {
    display: block;

    ${qve} {
      padding-top: 24px;
      padding-left: 0;
      padding-bottom: 20px;
    }
  }
`,Kve=u.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  align-items: flex-start;
  justify-content: flex-start;
`,Qve=u.div`
  position: relative;
  display: inline-block;
  path {
    fill: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,Zve=u.div`
  * {
    letter-spacing: 0.8px;
  }
`,Xve=u.div`
  padding-top: 4px;
  * {
    font-size: 12px;
    line-height: 12px;
  }
`,Jve=u.div`
  margin-top: -2px;
  min-width: 90px;
`,eEe=u.div`
  * {
    font-size: 12px;
    line-height: 14px;
  }
`,tEe=u.div`
  padding-top: 2px;
`,nEe=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;

  * {
    color: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,rEe=u.div`
  margin-right: 6px;
`,iEe=u.div`
  width: 250px;
  min-width: 250px;
`,aEe=u.div``,sEe=u.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 8px;

  @media (max-width: 440px) {
    width: 100%;
    justify-content: space-between;

    ${Jve} {
      min-width: auto;
    }
    ${aEe} {
      text-align: right;
      flex-grow: 1;

      * {
        white-space: nowrap;
      }
    }
    ${iEe} {
      width: auto;
      min-width: auto;
      flex-grow: 0;
    }
  }
`,oEe=u.span`
  white-space: nowrap;
`,lEe=e=>lc(tc,e),cEe=({data:e})=>{const{key:t,description:n,infoIconWord:r,optimizedDeltaLabel:i,optimizedDelta:a,currentValue:s,optimizedValue:o}=e;return c.createElement(sEe,null,c.createElement(iEe,null,c.createElement(Qve,null,c.createElement(Zve,null,c.createElement(vi,{bold:!0},t)),c.createElement(iS,{word:r,style:{top:"3px",right:"-18px"}})),c.createElement(Xve,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},n)),c.createElement(tEe,null,c.createElement(nEe,null,c.createElement(rEe,null,c.createElement(Ei,{thin:!0},"Current/Optimized: ")),c.createElement(oEe,null,c.createElement(Ei,{thin:!0},s,"/"),c.createElement(Ei,{thin:!0},o))))),c.createElement(aEe,null,c.createElement(Jve,null,c.createElement(yi,{bold:!0},a)),c.createElement(eEe,null,c.createElement(Ei,{thin:!0},i))))},dEe=u.div`
  padding: 24px 0 0 0;

  @media (max-width: 840px) {
    padding: 8px 0 0 0;
  }
`,uEe=u.div`
  padding: ${({isShowing:e})=>e?"16px 24px":""};
`,hEe=u.div`
  padding: 0 24px 12px 24px;

  button {
    padding: 8px 0;
  }
`,pEe=u.div`
  position: relative;
  padding: 8px 24px;
  border-top: 1px solid ${({theme:e})=>e.themeColors.border};

  button {
    position: absolute;
    top: 16px;
    right: 24px;
  }

  * {
    color: ${({theme:e})=>e.themeColors.text};
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,mEe=()=>{const{portfolio_stats:{current:e,optimized:t,delta:n}}=Bve(),r=!nk(e.total_value)&&e.total_value>0;e.projected_value,t.projected_value,e.total_value,e.profit_loss_percentage,t.total_value,t.profit_loss_percentage;const i=e.risk||0,a=e.risk_percentage||0,s=t.risk||0,o=t.risk_percentage||0,l=s-i,d=r?Zm.price(i):Zm.percentage(a),u=r?Zm.price(s):Zm.percentage(o),h=`${Hk(l)}${Zm.price(Math.abs(l))}`,p=`${jk(l)} Risk`,m=t.expected_dividends_percentage,g=Zm.percentage(t.expected_dividends_percentage),y=r?Zm.price(e.expected_dividends):"0%",_=r?Zm.price(t.expected_dividends):g,f=r?`${jk(n.expected_dividends)} Dividends`:`${jk(m)} Dividends`,v=r?`${Hk(n.expected_dividends)}${Zm.price(Math.abs(n.expected_dividends))}`:`${Hk(m)}${Zm.percentage(Math.abs(m))}`,E=`${Hk(n.beta)}${Zm.float(Math.abs(n.beta))}`,b=Zm.float(e.beta),C=Zm.float(t.beta),x=`${Wk(E)} Beta`;return[{key:"Portfolio Volatility",description:c.createElement(c.Fragment,null,"Standard deviation of projected returns ($)"),infoIconWord:"tooltip_portfolio_volatility",optimizedDeltaLabel:p,optimizedDelta:h,currentValue:d,optimizedValue:u},{key:"Projected Dividends",description:c.createElement(c.Fragment,null,"Projected dividend income over 1 year"),infoIconWord:"tooltip_estimated_dividends",optimizedDeltaLabel:f,optimizedDelta:v,currentValue:y,optimizedValue:_},{key:"Market Beta",description:c.createElement(c.Fragment,null,"Exposure to broad stock market"),infoIconWord:"tooltip_market_beta",optimizedDeltaLabel:x,optimizedDelta:E,currentValue:b,optimizedValue:C}].map((e=>c.createElement(cEe,{key:e.key,data:e})))},gEe=u.div`
  padding: 96px;
`,yEe=()=>{const e=Bve(),t=$ve(),[n,r]=c.useState(0),[i,a]=c.useState(!1);if(!e||!(null==e?void 0:e.portfolio_stats))return c.createElement(gEe,null);const{lastUpdated:s,portfolio_stats:o,summary_message:l}=e,{current:d,delta:u,optimized:h,risk_confidence_multiplier:p}=o,{risk:m,profit_loss:g,total_value:y,risk_confidence_min:_}=d,{risk:f,profit_loss:v,total_value:E,risk_confidence_min:b}=h,C={current_profit:g,current_risk:m,current_value:y,optimized_profit:v,optimized_risk:f,risk_confidence_multiplier:p||.674489750196082};return c.createElement(c.Fragment,null,c.createElement(zve,null,c.createElement(Vve,{show:t}),c.createElement(Gve,null,c.createElement("div",null,c.createElement(Hve,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},"Current Projected Value")),c.createElement(Wve,null,c.createElement(ki,null,lEe(y+g))),c.createElement(jve,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},"75% chance of being above ",lEe(_)))),c.createElement("div",null,c.createElement(Hve,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},"Optimized Projected Value")),c.createElement(Wve,{isOptimized:!0},c.createElement(ki,null,lEe(E+v))),c.createElement(jve,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},"75% chance of being above ",lEe(b))))),c.createElement(Yve,null,c.createElement(Kve,null,c.createElement(mEe,null)),c.createElement(cR,{onMutation:e=>{r(e.width)},resize:!0},c.createElement(qve,null,c.createElement(qR,{optimizerPortfolioData:C,panelWidth:n}))))),c.createElement(dEe,null,i?c.createElement(pEe,null,c.createElement(kx,{onClick:()=>a(!1)})):c.createElement(hEe,null,c.createElement(hx,{transparent:!0,onClick:()=>a(!0)},"Customize Optimizer Settings")),c.createElement(uEe,{isShowing:i},c.createElement(EM,{show:i,isPanel:!1,$scrollContainer:window.$("html, body"),saveInvestmentObjectives:()=>null,resetUnsavedChangesInInvestmentObjectives:()=>null,resetSaveInvestmentObjectives:()=>null,registerUnsavedChangesInInvestmentObjectives:()=>null,hideComponent:()=>null,hideCreatingOptimizedOrdersMessage:()=>null,internalCreateOptimizedOrdersHandler:()=>null}))))},_Ee=u.div`
  max-width: 320px;

  ${kA} {
    top: 13px;

    svg {
      height: 22px;
      width: 22px;

      path {
        fill: ${({theme:e})=>e.themeColors.text};
      }
    }
  }

  input {
    font-size: 16px;
    line-height: 18px;

    border: 1px solid ${({theme:e})=>e.themeColors.text} !important;
    border-radius: 5px !important;
    padding: 16px 16px 16px 40px;
  }
  .default-search-container {
    max-width: 300px;
  }
  .default-search-container .search-results-container {
    left: 0px;
    right: 0px;
  }
  .default-search-container i.query-icon {
    left: 13px;
    z-index: 5;
  }

  @media (max-width: 900px) {
    .default-search-container .search-results-container {
      left: 0px;
      right: 0px;
    }
  }
`,fEe=u.div``;function vEe(){const e=b(),t=XO();return c.createElement(Aw,null,c.createElement(Fx,{width:t?"100%":"1200px"},c.createElement(fEe,null,c.createElement(Ii,null,"Portfolio Analysis"),c.createElement(vi,null,"You do not have any stocks on your watchlist to analyze with the optimizer."),c.createElement(Tw,{top:24},c.createElement(_Ee,null,c.createElement(uce,{placeholder:"Add to Watchlist",showPlus:!0})),c.createElement(Iw,{verticallyCenter:!0,left:4},c.createElement(Ei,null,"Not sure what to add?"),c.createElement(Iw,null,c.createElement(hx,{transparent:!0,onClick:()=>{e("/ideas/explore")}},"Start Exploring Here")))))))}const EEe=u.div`
  padding: 24px;
  border-bottom: 1.5px solid ${({theme:e})=>e.themeColors.lowContrastBorder};

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
`,bEe=u.div`
  padding: 24px;
  border-top: 1px solid ${({theme:e})=>e.themeColors.border};

  a {
    color: ${({theme:e})=>e.themeColors.secondaryText};
  }

  @media (max-width: 840px) {
    padding: 16px 16px;
  }
`,CEe=u.div`
  button {
    padding: 8px 0 8px 8px;

    svg {
      height: 17px;
      width: 17px;
    }
  }

  .mobile {
    display: none;
  }

  @media (max-width: 500px) {
    .non-mobile {
      display: none;
    }
    .mobile {
      display: block;
    }
  }
`,xEe=u.div`
  rect {
    fill: ${({theme:e})=>e.themeColors.positive} !important;
  }
`,wEe=()=>{const e=P(),t=$ve(),n=Bve();return c.createElement(c.Fragment,null,c.createElement(EEe,null,c.createElement(Iw,{row:!0,verticallyCenter:!0,spaceBetween:!0},c.createElement(vi,{thin:!0},t?c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Iw,{centerAll:!0,height:20,width:40,right:16},c.createElement(xEe,null,c.createElement(YJ,{type:qJ}))),"Optimizer is analyzing your portfolio"):(null==n?void 0:n.detailed_message)?null==n?void 0:n.detailed_message:"Refresh to see the Optimizer analysis of your portfolio and watchlist"),c.createElement(CEe,null,c.createElement(hx,{transparent:!0,disabled:t,onClick:()=>Xb(null,1800)(e)},c.createElement("div",{className:"mobile"},c.createElement(xx,null)),c.createElement("div",{className:"non-mobile"},"Refresh"))))),c.createElement(yEe,null),c.createElement(bEe,null,c.createElement(vi,{thin:!0,isLowContrast:!0},'Projected return is based on the price targets and other information in your ideas. Risk is based on recent historical data. Results may vary with each use and over time. Conviction levels affect the maximum possible allocation for each position. Any "short term" (6 month) idea will be annualized. IMPORTANT: The projections or other information generated by the Optimizer regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results. More details can be found ',c.createElement("a",{href:"https://tornado.com/terms_of_service#section8"},"here"),".")))},SEe=()=>{const e=XO(),t=oI(null,null),n=Object.keys(t).length,r="portfolio_stats"in Bve();return c.createElement(Lx,{width:e?"100%":"1200px",transparentBackground:!0,noPadding:!0},c.createElement(X5,null),0===n&&c.createElement(vEe,null),n>0&&c.createElement(Aw,null,c.createElement(Fx,{width:e?"100%":"1200px",overflowHidden:!0,noPadding:!0},c.createElement(wEe,null))),n>0&&r&&c.createElement(Aw,null,c.createElement(Fx,{width:e?"100%":"1200px",noPadding:!0},c.createElement(Uve,null))))};class kEe{constructor({type:e,icon:t,iconSize:n,iconColor:r,text:i,presetFilter:a,eventName:s}){this.type=e,this.eventName=s,this.icon=t,this.iconSize=n,this.iconColor=r,this.displayText=i,this.presetFilter=a}}const TEe={UPCOMING_EARNINGS:new kEe({type:"upcoming_earnings",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"}))),iconSize:14,iconColor:null,text:"Upcoming Earnings",eventName:"Upcoming Earnings",presetFilter:Gm.UPCOMING_EARNINGS}),TECH_SECTOR:new kEe({type:"tech_sector",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M17,17H7V7H17M21,11V9H19V7C19,5.89 18.1,5 17,5H15V3H13V5H11V3H9V5H7C5.89,5 5,5.89 5,7V9H3V11H5V13H3V15H5V17A2,2 0 0,0 7,19H9V21H11V19H13V21H15V19H17A2,2 0 0,0 19,17V15H21V13H19V11M13,13H11V11H13M15,9H9V15H15V9Z"}))),iconSize:14,iconColor:null,text:"Tech Sector",eventName:"Tech Sector",presetFilter:Gm.TECH_SECTOR}),FINANCIAL_SECTOR:new kEe({type:"financial_sector",icon:Gi,iconSize:14,iconColor:null,text:"Financial Sector",eventName:"Financial Sector",presetFilter:Gm.FINANCIAL_SECTOR}),TRENDING_STOCKS:new kEe({type:"trending_stocks",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z"}))),iconSize:14,iconColor:null,text:"Trending Stocks",eventName:"Trending Stocks",presetFilter:Gm.FINANCIAL_SECTOR}),HEALTHCARE_SECTOR:new kEe({type:"healthcare_sector",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M7.5,4A5.5,5.5 0 0,0 2,9.5C2,10 2.09,10.5 2.22,11H6.3L7.57,7.63C7.87,6.83 9.05,6.75 9.43,7.63L11.5,13L12.09,11.58C12.22,11.25 12.57,11 13,11H21.78C21.91,10.5 22,10 22,9.5A5.5,5.5 0 0,0 16.5,4C14.64,4 13,4.93 12,6.34C11,4.93 9.36,4 7.5,4V4M3,12.5A1,1 0 0,0 2,13.5A1,1 0 0,0 3,14.5H5.44L11,20C12,20.9 12,20.9 13,20L18.56,14.5H21A1,1 0 0,0 22,13.5A1,1 0 0,0 21,12.5H13.4L12.47,14.8C12.07,15.81 10.92,15.67 10.55,14.83L8.5,9.5L7.54,11.83C7.39,12.21 7.05,12.5 6.6,12.5H3Z"}))),iconSize:16,iconColor:null,text:"Healthcare Sector",eventName:"Healthcare Sector",presetFilter:Gm.HEALTHCARE_SECTOR}),ENERGY_SECTOR:new kEe({type:"energy_sector",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z"}))),iconSize:14,iconColor:null,text:"Energy Sector",eventName:"Energy Sector",presetFilter:Gm.ENERGY_SECTOR}),JUICY_DIVIDENDS:new kEe({type:"juicy_dividends",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M18.5,3.5L3.5,18.5L5.5,20.5L20.5,5.5M7,4A3,3 0 0,0 4,7A3,3 0 0,0 7,10A3,3 0 0,0 10,7A3,3 0 0,0 7,4M17,14A3,3 0 0,0 14,17A3,3 0 0,0 17,20A3,3 0 0,0 20,17A3,3 0 0,0 17,14Z"}))),iconSize:14,iconColor:null,text:"Juicy Dividends",eventName:"Juicy Dividends",presetFilter:Gm.JUICY_DIVIDENDS}),GROWTH_STOCKS:new kEe({type:"growth_stocks",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M16 12L9 2L2 12H3.86L0 18H7V22H11V18H18L14.14 12H16M20.14 12H22L15 2L12.61 5.41L17.92 13H15.97L19.19 18H24L20.14 12M13 19H17V22H13V19Z"}))),iconSize:14,iconColor:null,text:"Growth Stocks",eventName:"Growth Stocks",presetFilter:Gm.GROWTH_STOCKS}),VALUE_STOCKS:new kEe({type:"value_stocks",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A2,2 0 0,1 5,10V14A2,2 0 0,1 7,16H17A2,2 0 0,1 19,14V10A2,2 0 0,1 17,8H7Z"}))),iconSize:14,iconColor:null,text:"Value Stocks",eventName:"Value Stocks",presetFilter:Gm.VALUE_STOCKS}),FAMOUS_INVESTORS:new kEe({type:"famous_investors",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M7,17L10.2,10.2L17,7L13.8,13.8L7,17M12,11.1A0.9,0.9 0 0,0 11.1,12A0.9,0.9 0 0,0 12,12.9A0.9,0.9 0 0,0 12.9,12A0.9,0.9 0 0,0 12,11.1M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"}))),iconSize:16,iconColor:null,text:"Famous Investors",eventName:"Famous Investors",presetFilter:Gm.FAMOUS_INVESTORS}),FRIENDS_IDEAS:new kEe({type:"connection_ideas",icon:()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("g",null,c.createElement("path",{d:"M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"}))),iconSize:16,iconColor:null,text:"Friends' Ideas",eventName:"Friends' Ideas",presetFilter:Gm.FRIENDS_IDEAS})},IEe=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"})),NEe="Stocks you may be interested in",AEe="Explore Preset Filter",PEe=u.div`
  height: 80px;
  padding: 16px;
  border-bottom: 1px solid ${({theme:e})=>e.colorTheme[tx.bgColor]};
  background-color: ${({theme:e})=>e.themeColors.component};

  :first-child {
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }

  :last-child {
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
  }

  :hover {
    opacity: 0.9;
    cursor: pointer;
  }

  @media (max-width: 430px) {
    margin: 0 -16px;
    border-radius: 0;
  }
`,DEe=u.div`
  max-width: 272px;
  padding-right: 4px;

  @media (max-width: 500px) {
    max-width: 160px;
  }

  @media (max-width: 382px) {
    max-width: 128px;
  }
`,OEe=u.div`
  svg {
    height: 22px;
    width: 22px;
  }

  path {
    fill: ${({theme:e})=>e.themeColors.text};
  }
`;function LEe({name:e,symbol:t}){return c.createElement(Iw,null,c.createElement(_i,null,t),c.createElement(DEe,null,c.createElement(Ei,{truncate:!0,thin:!0},e)))}const REe=({securityId:e,context:t,isFirst:n,isLast:r})=>{const i=P7(e),a=IH(e),s=null==a?void 0:a.symbol,o=null==a?void 0:a.name,{price:l,change:d,percentChange:u}=iM(e);return c.createElement(PEe,{onClick:()=>{i(),th.security.PRESS_VIEW_SECURITY_LIST_ITEM.send({"Security ID":e,Context:t})}},a?c.createElement(Iw,{row:!0,spaceBetween:!0,verticallyCenter:!0},c.createElement(LEe,{name:o,symbol:s}),c.createElement(Iw,{row:!0,verticallyCenter:!0,style:{minWidth:"160px",flexGrow:1,justifyContent:"flex-end"}},isNaN(l)?c.createElement(Iw,{centerAll:!0},c.createElement(_e,null)):c.createElement(Iw,{row:!0,verticallyCenter:!0,style:{textAlign:"right"}},c.createElement(Iw,null,c.createElement(bi,null,lc(ec,l)),c.createElement(Jr,{vAlign:"center"},c.createElement(C$,{valueFormat:"price",value:d,customDisplayValue:`${Hk(d)}${Zm.float(Math.abs(d))}`,coloredText:!0}),c.createElement("div",{style:{paddingLeft:"6px"}}),c.createElement(C$,{valueFormat:"percentage",value:u,customDisplayValue:`${Hk(u)}${Zm.float(Math.abs(u))}%`,coloredText:!0,hideIcon:!0})))),c.createElement(Iw,{verticallyCenter:!0,left:8},c.createElement(OEe,null,c.createElement(IEe,null))))):c.createElement(Iw,{flex:1,centerAll:!0},c.createElement(_e,null)))},FEe=e=>{const{isLoading:t,securityIds:n}=e;return t?c.createElement(Iw,{height:75,centerAll:!0},c.createElement(_e,{icon:"fading-3balls",size:"large",style:{}})):n?n.map(((t,n)=>c.createElement(REe,l(o({},e),{key:t,securityId:t,index:n})))):null};var MEe=Object.defineProperty,UEe=(e,t,n)=>(((e,t,n)=>{t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class $Ee{constructor({filters:e,count:t}){UEe(this,"get",(e=>{this._validateFilters();return this.filters.some((e=>e.type===sm))?CC()(e):EC(this._getFiltersForApi(),this.count)(e)})),UEe(this,"_getFiltersForApi",(()=>this.filters.map((e=>e.toApi())))),UEe(this,"_validateFilters",(()=>{this.filters.some((e=>e.type===sm))&&this.filters.length>1&&console.log("Cannot use upcoming earnings with other filters currently")})),this.filters=e,this.count=t}}let BEe=[];const zEe=({securityIds:e})=>{const t=P(),n=D((e=>e.securities.lookup));return c.useEffect((()=>{const r=[],i=[];return null==e||e.forEach((e=>{const t=n[e];if(t){const{id:e,symbol:n}=t;BEe=BEe.filter((t=>t!==e)),i.push({id:e,symbol:n})}else{BEe.includes(e)||(BEe.push(e),r.push(e))}})),r.length&&mC([r])(t),i&&py.addTempSecurities(i),()=>{py.removeTempSecurities(i)}}),[e,n]),null},VEe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  border-radius: 8px;
  height: 40px;
  padding: 0 12px;

  background-color: ${({theme:e})=>e.colorTheme[tx.feedFilterTagBg]};
  * {
    color: ${({theme:e})=>e.colorTheme[tx.feedFilterTagText]};
  }

  svg {
    height: 18px;
    width: 18px;

    path {
      fill: ${({theme:e})=>e.colorTheme[tx.feedFilterTagText]};
    }
  }

  :hover {
    opacity: 0.9;
    cursor: pointer;
  }
`,HEe=u.div`
  overflow: scroll;
  padding-top: 16px;

  width: 100%;
`,WEe=u.div`
  flex: 0;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: flex-start;
  height: 170px;
  min-width: 665px;
`,jEe=u.div`
  ${jC} {
    padding-left: 8px !important;
  }
`,GEe=[[TEe.TRENDING_STOCKS,TEe.FAMOUS_INVESTORS,TEe.FRIENDS_IDEAS],[TEe.TECH_SECTOR,TEe.FINANCIAL_SECTOR,TEe.HEALTHCARE_SECTOR,TEe.ENERGY_SECTOR],[TEe.JUICY_DIVIDENDS,TEe.GROWTH_STOCKS,TEe.VALUE_STOCKS]],qEe=({children:e})=>c.createElement("div",null,e),YEe=({filter:e,Icon:t,iconProps:n,onPress:r})=>c.createElement(VEe,{onClick:()=>r(e)},c.createElement(t,o({},n)),c.createElement(Tw,{left:8},c.createElement(Ei,null,e.displayText))),KEe=e=>{const{filter:t,iconProps:n,setActiveFilter:r}=e,i=JO(),a=t.size||14,s=i[t.iconColor]||tx.eyeCatchingBg,d=l(o({},n||{}),{size:a,color:s});return c.createElement(YEe,l(o({},e),{iconItemColor:tx.eyeCatchingBg,Icon:t.icon,iconProps:d,onPress:()=>{th.security.PRESS_EXPLORE_PRESET_FILTER.send({Name:t.eventName}),r(t)}}))},QEe=({activeFilter:e})=>c.createElement(Iw,null,c.createElement(qEe,{bold:!0},e.displayText)),ZEe=({activeFilter:e,context:t})=>{const n=P(),[r,i]=c.useState(null),[a,s]=c.useState(!1),[o,l]=c.useState(null);return c.useEffect((()=>{(async e=>{switch(e.type){case sm:{s(!0);const{ok:e,securityIds:t}=await CC()(n);e?(s(!1),i(t)):l("This list is unavailable at this time, please try again later");break}default:s(!0);new $Ee({filters:e.presetFilter.filters,count:20}).get(n).then((e=>{const{ok:t,securityIds:r}=e;s(!1),t?(i(r),mC(r)(n),yC(r)(n)):l("This list is unavailable at this time, please try again later")}));break}})(e)}),[e]),o?c.createElement(Iw,null,c.createElement(QEe,{activeFilter:e}),c.createElement(Iw,{top:16},o)):c.createElement(Iw,null,c.createElement(QEe,{activeFilter:e}),c.createElement(Iw,{top:16},c.createElement(zEe,{securityIds:r}),c.createElement(FEe,{isLoading:a,securityIds:r,context:t})))},XEe=()=>{const e=P(),[t,n]=c.useState(!0),[r,i]=c.useState(null),a=!t&&null===r;c.useEffect((()=>{(async()=>{const t=await bC()(e),{ok:r,securityIds:a}=t;r&&(i(a),mC(a)(e),yC(a)(e)),n(!1)})()}),[]);return c.createElement(Iw,null,c.createElement(Iw,null,c.createElement(qEe,{bold:!0},"Stocks you may be interested in")),a?c.createElement(Iw,{top:36,textCenter:!0},c.createElement(Ei,null,"Something went wrong."),c.createElement(Iw,{vertical:16},c.createElement(hx,{onClick:()=>{n(!0)}},"Try again"))):c.createElement(Iw,{top:12},c.createElement(zEe,{securityIds:r}),c.createElement(FEe,{isLoading:t,securityIds:r,context:NEe})))},JEe=()=>{JO();const e=b(),[t,n]=c.useState(null);return c.createElement(Lx,{transparentBackground:!0},c.createElement(Iw,{top:16},c.createElement(Iw,null,c.createElement(qEe,{bold:!0},"Popular Filters")),c.createElement(HEe,null,c.createElement(WEe,null,GEe.map(((e,t)=>c.createElement(Iw,{key:`row-${t}`,row:!0,style:{flexWrap:"wrap",alignItems:"flex-start"}},e.map(((e,t)=>c.createElement(Iw,{key:t,bottom:16,right:16},c.createElement(KEe,{filter:e,setActiveFilter:n})))))))))),c.createElement(Iw,{top:12},c.createElement(qEe,null,"Other Tools")),c.createElement(Iw,{top:4,row:!0,verticallyCentered:!0},c.createElement(jEe,null,c.createElement(hx,{onClick:()=>{e(Xt.portfolioExplorer)},transparent:!0},"Portfolio Explorer")),c.createElement(Iw,null,c.createElement(hx,{onClick:()=>{e(Xt.popularStocks)},transparent:!0},"See Popular Stocks"))),c.createElement(Iw,{top:16},null===t?c.createElement(XEe,null):c.createElement(ZEe,{key:t.type,activeFilter:t,context:AEe})))},ebe=e=>{const t=e.userList;return Object.keys(t).filter((e=>qh(t[e]))).map((e=>t[e]))},tbe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  height: 108px;
  padding: 8px 16px;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
  cursor: pointer;

  :hover {
    border: 1px solid;
    border-radius: 5px;
    border-color: ${({theme:e})=>e.themeColors.hoverComponentBackground};
  }

  @media (max-width: 800px) {
    padding: 8px;
  }
`;function nbe({company:e,leader:t,user_id:n}){const r=b(),[i,a]=(e=>{const[t,n]=e.split(", ");return[t,n]})(t);return c.createElement(tbe,{onClick:()=>{r(`/users/${n}/public_profile`)}},c.createElement(Iw,{right:8},c.createElement(_i,null,i),c.createElement(Iw,null,c.createElement(Ei,null,a)),c.createElement(Iw,{top:2},c.createElement(Ei,{isLowContrast:!0,thin:!0},e))),c.createElement(Iw,null,c.createElement(hx,{onClick:()=>null},"View")))}function rbe(e){return e.leader}function ibe({famousInvestors:e}){return(e=>e.sort(((e,t)=>rbe(e)<rbe(t)?-1:rbe(e)>rbe(t)?1:0)))(e).map((e=>c.createElement(nbe,o({key:e.user_id},e))))}const abe=()=>{const{famousInvestors:e,isLoading:t}=(e=>{const t=P(),n=D((e=>e.users)),[r,i]=c.useState(ebe(n)),[a,s]=c.useState(!1);return c.useEffect((()=>{e&&(async()=>{s(!0),await FC()(t),s(!1)})()}),[]),c.useEffect((()=>{const e=ebe(n);i(e)}),[n]),{famousInvestors:r,isLoading:a}})();return c.useEffect((()=>{document.title=`${Xo} - Famous Investors`;TC("View Thought Leaders",{"From React Router":!0})()}),[]),c.createElement(Lx,{width:"700px"},c.createElement(ki,null,"Famous Investors"),c.createElement(Iw,null,c.createElement(Ei,null,"Explore the portfolios of famous investors"),c.createElement(iS,{word:"tooltip_thought_leader",position:"right",style:{position:"relative",display:"inline-block",top:"2px",left:"4px"}})),c.createElement(Iw,null,t||null===e?c.createElement(Iw,{top:24},c.createElement(h9,{flatStyle:!0})):c.createElement(Iw,{top:24},c.createElement(ibe,{famousInvestors:e}))))},sbe=({phraseDisplay:e})=>c.createElement("div",null,c.createElement(bi,{bold:!0},"LEARN & EARN"),c.createElement("div",{style:{paddingTop:4}},c.createElement(Ei,null,e?`${Y0(e)} Find out more and earn rewards.`:"Start learning about investing and earn rewards."))),obe=vr.primary.charcoal,lbe=({lessonId:e,lessonReward:t})=>{const{lesson:n}=N1(e),{name:r,heading:i,lessonContents:a}=n,[s,o]=c.useState(0),[l]=F(),d=l.get("showMoreInfo"),u=null,h=c.useMemo((()=>({lessonName:r,lessonHeading:i,sponsorId:u,moreOnLessonTopicUrl:null})),[e,r,i,u,null]),p=c.useMemo((()=>a?a.map((e=>({contents:e,metadata:h}))):[{body:[]},{body:[]}]),[a,u,h]),m=p.length,g=()=>{const e=Math.min(m-1,s+1);o(e)};return c.createElement(A7,null,d&&c.createElement(bte,{lessonId:e}),c.createElement(Iw,{flex:1,column:!0,style:{position:"relative"},fullWidth:!0},c.createElement(r7,{metadata:h,lessonHeading:i,lessonReward:t,activeScreenIndex:s}),c.createElement(_7,{items:p,metadata:h,lessonReward:t,activeScreenIndex:s,advanceScreen:g,previousScreen:()=>{const e=Math.max(0,s-1);o(e)}},c.createElement(X8,{item:p[s],textColor:obe})),c.createElement(w8,{lessonReward:t,activeIndex:s,itemsTotal:m}),c.createElement(l7,{lessonId:e,metadata:h,onComplete:()=>null,advanceScreen:g,isLastScreen:m===s+1})))},cbe=({state:e})=>{const t=D((e=>e.learn.previewLesson));return c.createElement(c.Fragment,null,c.createElement(sbe,{phraseDisplay:t.phrase}),c.createElement(Iw,{top:24},c.createElement(lbe,{lessonId:"preview"})))},dbe=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.text} !important;
  }
`,ube=(e,t)=>{let n={};const{children:r,innerText:i,nodeName:a,style:s}=e;if((null==r?void 0:r.length)>0)r.forEach((e=>ube(e,t)));else{if("SPAN"===a){n.text=i;"700"===s.fontWeight&&(n.bold=!0)}"BR"===a&&(n.lineBreak=!0),t.push(n)}},hbe=(e,t)=>{if((e=>{var t;return(null==(t=e.children)?void 0:t.length)>0})(e)){e.children.forEach((e=>{hbe(e,t)}))}else((e,t)=>{const{innerText:n}=e;if("Slide"===(r=n).slice(0,5)&&":"===r.slice(7,8))t.push([]);else{const n=t[t.length-1];n&&n.push(e)}var r})(e,t)},pbe=({onChange:e,key:t,label:n})=>{const[r,i]=c.useState(!1),[a,s]=c.useState(null),[o,l]=c.useState(""),d=e=>{const t=document.createElement("html");t.innerHTML=e,s(e);const n=(e=>{const t=e.children[1].children;if("B"===t[0].tagName)return t[0].children;return t})(t),r=[];return(e=>{const t=[];return e.forEach((e=>{hbe(e,t)})),t})(n).forEach(((e,t)=>{r.push({body:[]}),e.forEach((e=>{ube(e,r[t].body)}))})),r};return c.createElement(c.Fragment,null,c.createElement(Iw,{bottom:8},c.createElement(Ei,null,"Lesson ",n)),c.createElement("textarea",{onPaste:t=>{const n=t.clipboardData.getData("text/html"),r=(e=>{const t=[];return e.forEach((e=>{const n={body:[]},r=e.body;r.forEach(((e,t)=>{(0!==t||e.text)&&(t!==r.length-1||e.text)&&n.body.push(e)})),t.push(n)})),t})(d(n));e(bbe.contents,JSON.stringify(r)),l(JSON.stringify(r))},onChange:e=>{},value:o}),c.createElement(Iw,{top:8},r?c.createElement(hx,{transparent:!0,onClick:()=>i(!1)},"HIDE"):c.createElement(hx,{transparent:!0,onClick:()=>i(!0)},"SEE RICH TEXT")),r&&c.createElement(dbe,null,a.toString()))},mbe=u.div`
  button {
    padding: 2px 8px;
  }
`,gbe=u.div`
  input {
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    color: ${({theme:e})=>e.themeColors.text};
    background-color: transparent;
    border-radius: 6px;
    width: 100%;
    padding: 8px;
  }

  textarea {
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    color: ${({theme:e})=>e.themeColors.text};
    background-color: transparent;
    border-radius: 6px;
    min-height: 100px;
    width: 100%;
    padding: 16px;
  }
`,ybe=u.div`
  padding: 16px 24px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
`,_be=({name:e,keyName:t,keyNames:n,state:r,onChange:i})=>{const a=P();if(n){const t=e=>t=>{const n=t.target.value;i(e,n)};return c.createElement(gbe,null,c.createElement(Iw,{bottom:4},c.createElement(Ei,null,e)),c.createElement(Iw,{top:8,row:!0},n.map((e=>c.createElement(Iw,{row:!0,key:e,right:8,width:80},c.createElement("input",{onChange:t(e),value:r[e]}))))))}const s="$!"===r[t].slice(0,2);return c.createElement(gbe,null,c.createElement(Iw,{bottom:4,row:!0,verticallyCenter:!0},c.createElement(Ei,null,e),"phrase"===t&&c.createElement(Iw,{left:8},c.createElement(mbe,null,s?c.createElement(hx,{onClick:()=>{const e=r[t];a({type:v_,payload:{phrase:e.split("$!")[1]}})}},"Custom Phrase"):c.createElement(sx,{onClick:()=>{const e=r[t];a({type:v_,payload:{phrase:"$!"+e}})}},"Use Custom Phrase")))),c.createElement(Iw,{top:8,row:!0},c.createElement("input",{onChange:e=>{const n=e.target.value;i(t,n)},value:r[t]})))},fbe=({isEditMode:e,onChange:t,state:n})=>c.createElement(gbe,null,e&&c.createElement(_be,{name:"Lesson ID",keyName:bbe.id,onChange:t,state:n}),c.createElement(Wx,{top:8},c.createElement(_be,{name:"Lesson Name",keyName:bbe.name,onChange:t,state:n})),c.createElement(Wx,{top:8},c.createElement(_be,{name:"Lesson Heading",keyName:bbe.heading,onChange:t,state:n})),c.createElement(Wx,{top:8},c.createElement(_be,{name:"Lesson Phrase",keyName:bbe.phrase,onChange:t,state:n})),c.createElement(Wx,{top:8},c.createElement(_be,{name:"Lesson Levels",keyNames:[bbe.minLevel,bbe.maxLevel],onChange:t,state:n}))),vbe=({disclaimer:e,blogDisclaimer:t,dispatch:n})=>{if(e){const{id:t,text:r,link:i}=e,a=e=>{const r=e.target.value;n({type:w_,payload:{id:t,text:r,link:i}})},s=()=>{n({type:S_,payload:{id:t}})},o=e=>{const i=e.target.value;n({type:w_,payload:{id:t,text:r,link:i}})};return c.createElement("div",null,c.createElement("div",null,c.createElement(Iw,{bottom:4},c.createElement(Ei,null,"Text")),c.createElement(Iw,{top:8,row:!0},c.createElement("input",{onChange:a,value:r}))),c.createElement(Iw,{top:8},c.createElement(Iw,{bottom:4},c.createElement(Ei,null,"Link")),c.createElement(Iw,{top:8,row:!0},c.createElement("input",{onChange:o,value:i})),c.createElement(Iw,{top:8,row:!0},c.createElement(hx,{transparent:!0,onClick:s},"Delete"))))}{const{id:e,blogPostName:r,blogPost:i}=t,a=t=>{const r=t.target.value;n({type:b_,payload:{id:e,blogPostName:r,blogPost:i}})},s=t=>{const i=t.target.value;n({type:b_,payload:{id:e,blogPostName:r,blogPost:i}})},o=()=>{n({type:C_,payload:{id:e}})};return c.createElement("div",null,c.createElement("div",null,c.createElement(Iw,{bottom:4},c.createElement(Ei,null,"Blog Post Name")),c.createElement(Iw,{top:8,row:!0},c.createElement("input",{onChange:a,value:r}))),c.createElement(Iw,{top:8},c.createElement(Iw,{bottom:4},c.createElement(Ei,null,"Blog Post Link")),c.createElement(Iw,{top:8,row:!0},c.createElement("input",{onChange:s,value:i})),c.createElement(Iw,{top:8,row:!0},c.createElement(hx,{transparent:!0,onClick:o},"Delete"))))}},Ebe=({isEditMode:e,onChange:t,state:n})=>{const r=P();return c.createElement("div",null,c.createElement(fbe,{isEditMode:e,onChange:t,state:n}),c.createElement(Wx,{top:8},c.createElement(gbe,null,c.createElement(pbe,{onChange:t,label:"Content",key:bbe.contents}))),Object.keys(n.blogDisclaimers).map((e=>c.createElement(gbe,{key:e},c.createElement(ybe,null,c.createElement(vbe,{blogDisclaimer:n.blogDisclaimers[e],dispatch:r}))))),c.createElement(Wx,{top:16},c.createElement(hx,{onClick:()=>{r({type:E_})}},"Add Blog Post")),Object.keys(n.disclaimers).map((e=>c.createElement(gbe,{key:e},c.createElement(ybe,null,c.createElement(vbe,{disclaimer:n.disclaimers[e],dispatch:r}))))),c.createElement(Wx,{top:16},c.createElement(hx,{onClick:()=>{r({type:x_})}},"Add Disclaimer")))},bbe={minLevel:"minLevel",maxLevel:"maxLevel",id:"id",name:"name",heading:"heading",phrase:"phrase",contents:"contents",disclaimers:"disclaimers"},Cbe={disclaimerId:1,blogDisclaimerId:1,id:"",name:"",heading:"",phrase:"",minLevel:"",maxLevel:"",contents:[],blogDisclaimers:{},disclaimers:{}},xbe={previewLesson:Cbe,lessonData:{},lookup:{},lessonNameLookup:{},completed_lessons:[],nextLessonId:null,nextLessonReward:null,nextLessonRewardAtXP:null,nextLessonCompletionXP:null,completedLessonCount:null,hoursUntilNextLesson:null,status:null};const wbe=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.error};
  }
`,Sbe=u.div`
  svg {
    height: 36px;
    width: 36px;

    path {
      fill: ${({theme:e})=>e.themeColors.positive};
    }
  }
`,kbe=u.div`
  display: flex;
`,Tbe=u.div`
  button {
    border-radius: 0;
    width: 140px !important;
  }
`,Ibe=()=>{const e=P(),t=D((e=>e.learn.previewLesson)),[n,r]=c.useState(!1),[i,a]=c.useState(!1),[s,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null);return c.createElement(kbe,null,c.createElement(Iw,{left:16,top:24},c.createElement(cbe,null)),c.createElement(Lx,{transparentBackground:!0},s?c.createElement(Iw,{style:{textAlign:"center"}},c.createElement(Sbe,null,c.createElement(fx,null)),c.createElement(Iw,{top:4},c.createElement(bi,null,"Saved")),c.createElement(Iw,{top:4},c.createElement(bi,null,"Lesson ID: ",l)),c.createElement(Iw,{top:32},c.createElement(hx,{onClick:()=>{e({type:v_,payload:Cbe}),o(!1)}},"Add Another"))):i?c.createElement(Iw,null,c.createElement(Iw,{style:{textAlign:"center"}},c.createElement(Sbe,null,c.createElement(Ri,null)),c.createElement(Iw,{top:16},c.createElement(bi,null,"Saving to server...")))):c.createElement("div",{style:{width:"600px"}},c.createElement(Iw,null,c.createElement(Tbe,null,n?c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(sx,{onClick:()=>r(!1)},"Create"),c.createElement(hx,{onClick:()=>r(!0)},"Edit")):c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(hx,{onClick:()=>r(!1)},"Create"),c.createElement(sx,{onClick:()=>r(!0)},"Edit")))),c.createElement(Iw,{top:16},c.createElement(Ebe,{isEditMode:n,onChange:(t,n)=>{e({type:v_,payload:{[t]:n}})},state:t,dispatch:e})),c.createElement(Iw,{top:16},u&&c.createElement(wbe,null,c.createElement(Iw,{bottom:8},c.createElement(Ei,null,u))),c.createElement(Iw,{top:24},c.createElement(hx,{fullWidth:!0,onClick:async()=>{a(!0);const e=(e=>{const{id:t,name:r,heading:i,phrase:a,minLevel:s,maxLevel:o,contents:l,blogDisclaimers:c,disclaimers:d}=e,u=[...Object.values(c),...Object.values(d)];if(n){const e={id:t};return""!==r&&(e.name=r),""!==i&&(e.heading=i),""!==a&&(e.preview_phrase=a),""!==s&&(e.min_investing_experience=s),""!==o&&(e.max_investing_experience=o),l.length&&(e.json_lesson_content=JSON.stringify(l)),(Object.keys(c).length||Object.keys(d).length)&&(e.json_disclaimers_content=JSON.stringify(u)),e}return{description:r,heading:i,preview_phrase:a,content_type:mI,is_core_content:!0,page_count:l.length,min_investing_experience:s,max_investing_experience:o,sponsor_id:null,json_lesson_content:JSON.stringify(l),json_disclaimers_content:JSON.stringify(u)}})(t),{error:r,data:i}=await TE(e);a(!1),r?h("Something went wrong, try again."):(d(i.lesson_id),o(!0))}},"Save")),c.createElement(Iw,{top:24},c.createElement(sx,{fullWidth:!0,onClick:()=>{Object.keys(v1).forEach((e=>{const t=v1[e],{name:n,heading:r,phraseDisplay:i,content:a,disclaimers:s}=t;a.length,JSON.stringify(a),JSON.stringify(s)}))}},"Export Local Lessons"))))))},Nbe=u.div`
  input {
    background: transparent;
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    border-radius: 6px;
    width: 100%;
    padding: 8px;
  }

  textarea {
    border: 1px solid ${({theme:e})=>e.themeColors.border};
    border-radius: 6px;
    min-height: 100px;
    width: 100%;
    padding: 16px;
  }
`,Abe=({onSave:e})=>{const[t,n]=c.useState(""),[r,i]=c.useState("");return c.createElement(Nbe,null,c.createElement(Iw,{bottom:8},c.createElement(Ei,null,"Lesson ID")),c.createElement("input",{onChange:e=>{n(e.target.value)},value:t}),null,c.createElement(Iw,{top:8,row:!0},c.createElement(sx,{onClick:()=>{const i=parseInt(t,10)-1;n(i.toString(10));const a={lessonId:parseInt(i,10),lessonReward:isNaN(r)?null:parseInt(r,10)};e(a)}},"Prev"),c.createElement(Iw,{left:8,row:!0},c.createElement(sx,{onClick:()=>{const i=parseInt(t,10)+1;n(i.toString(10));const a={lessonId:parseInt(i,10),lessonReward:isNaN(r)?null:parseInt(r,10)};e(a)}},"Next")),c.createElement(Iw,{left:8,row:!0},c.createElement(hx,{onClick:()=>{const n={lessonId:parseInt(t,10),lessonReward:isNaN(r)?null:parseInt(r,10)};e(n)}},"Load Lesson"))))},Pbe=({lessonId:e})=>{const{lesson:t}=N1(e),{phraseDisplay:n}=t;return c.createElement("div",null,c.createElement(bi,{bold:!0},"LEARN & EARN"),c.createElement("div",{style:{paddingTop:4}},c.createElement(Ei,null,n?`${Y0(n)} Find out more and earn rewards.`:"Start learning about investing and earn rewards.")))},Dbe=()=>{const e=P(),[t,n]=c.useState(null),[r]=F(),i=r.get("showMoreInfo"),{lesson:a}=N1(null==t?void 0:t.lessonId,!0);return c.createElement(Iw,{top:24},c.createElement(Iw,{bottom:24,style:{maxWidth:"600px",margin:"0 auto"}},c.createElement(Abe,{onSave:e=>{n(e)}}),c.createElement(Iw,{top:8},c.createElement(hx,{transparent:!0,onClick:()=>{n(null)}},"Clear"))),(null==t?void 0:t.lessonId)&&!(null==a?void 0:a.name)?c.createElement(Iw,{top:48,bottom:148,style:{maxWidth:"600px",margin:"0 auto"},centerAll:!0},c.createElement(bi,null,"Lesson does not exist")):null,(null==t?void 0:t.lessonId)&&(null==a?void 0:a.name)&&c.createElement(Iw,null,c.createElement(Iw,{bottom:24,style:{maxWidth:"600px",margin:"0 auto"}},c.createElement(Pbe,{lessonId:t.lessonId})),c.createElement(A7,null,i&&c.createElement(bte,{lessonId:t.lessonId}),c.createElement(x7,{key:t.lessonId,lessonId:t.lessonId,onComplete:()=>null}))),c.createElement(Iw,{top:16,bottom:48,centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:()=>{const n=t.lessonId;if(n)IE(n);else{bb({contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"No lesson id was found"),size:"wide",dismissable:!0})(e)}}},"Publish This Lesson")))},Obe=u.div`
  padding: 0 24px;

  @media (max-width: 450px) {
    padding: 0 8px;
  }
`,Lbe=u.div`
  ${kA} {
    top: 16px;

    svg {
      height: 22px;
      width: 22px;

      path {
        fill: ${({theme:e})=>e.themeColors.text};
      }
    }
  }
  input {
    font-size: 16px;
    line-height: 18px;

    border: 1px solid ${({theme:e})=>e.themeColors.text} !important;
    border-radius: 5px !important;
    padding: 16px 16px 16px 40px;
  }
  .default-search-container {
    max-width: 300px;
  }
  .default-search-container .search-results-container {
    left: 0px;
    right: 0px;
  }
  .default-search-container i.query-icon {
    left: 13px;
    z-index: 5;
  }
`,Rbe=({})=>{const e=P(),t=eI(),n=QT(),r=D((e=>e.ideas.ideaList));return c.createElement(Lbe,{className:"add-to-watchlist-container"},c.createElement(UA,{id:"add-to-watchlist-search",showPlus:!0,autoFocus:!1,placeholder:"Add to Watchlist",handleSecurityQuerySelection:i=>{if(!i)return!1;const a=i.id;(async t=>{yC([t])(e),WE([t])(e);const n=await mC([t])(e),r=null==n?void 0:n.securities;if(r&&r[0]){const e=r[0],t={id:e.id,symbol:e.symbol};py.addSecurities([t])}})(a);const s=RS(t,a,r);if(!!s){const t=l(o({},s),{active:!0});YE(t,s)(e)}else qE([{security:{security_id:a}}])(e).then((e=>{if(0===e.ideas.filter((e=>"error"===e.status)).length){Cu("Added Idea",{accountType:n?"Live":"Paper"}),th.ideas.ADD_IDEA.send()}}))},dismissAfterSelection:!0}))},Fbe=()=>(c.useEffect((()=>{document.title=`${Xo} - Watchlist`;TC("View My Ideas",{})()}),[]),c.createElement(Lx,{width:"800px",noPadding:!0},c.createElement(Obe,null,c.createElement(Iw,{top:20},c.createElement(Ii,null,"Watchlist")),null),c.createElement(Iw,{top:24,left:16},c.createElement(Rbe,null)),c.createElement(Iw,{top:24},c.createElement(_me,null)))),Mbe=e=>{const t=eI(),n=ZT(),r=D((e=>e.users.userList)),i=D((e=>e.collectives.lookup));return t===e?n:i[e]||r[e]},Ube=(e,t)=>{if(!e)return null;const n=Object.keys(e),r=[];for(let i=0;i<n.length;i++){let a=e[n[i]];a.user_id===t&&r.push(a)}return r},$be=e=>{const t=D((e=>e.ideas.ideaList)),[n,r]=c.useState(Ube(t,e));return c.useEffect((()=>{r(Ube(t,e))}),[t]),n},Bbe="Projected Revenue Growth",zbe="Forward P/E",Vbe=u.div`
  padding: 24px;
`,Hbe=u.div``,Wbe=async(e,t,n,r)=>{const{ok:i,ideas:a,errorMessage:s}=await jE(e)(t);if(i){const e=(a||[]).map((e=>AS(e)));await Promise.all([mC(e)(t),gC(e)(t),yC(e)(t)]),n()}else r(),console.error(s)},jbe=u.div`
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,Gbe=u.div`
  height: ${84}px;

  > div {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
`,qbe=u.div`
  height: ${84}px;
`,Ybe=u.div`
  height: ${84}px;
`,Kbe=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(120px, 1fr) minmax(228px, 1fr) minmax(260px, 1fr);
  grid-column-gap: 8px;
  padding: 16px 24px;
  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
  cursor: pointer;

  :hover {
    &:first-child {
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    &:last-child {
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }

    border-radius: 5px;
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  @media (max-width: 692px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: minmax(40px, 1fr);
    grid-column-gap: 0;
    grid-row-gap: 0;

    > div:first-child {
      grid-area: 1 / 1 / 2 / 3;
      padding-top: 0;
      padding-bottom: 0;
    }
    > div:nth-child(2) {
      grid-area: 2 / 1 / 3 / 2;
    }
    > div:nth-child(3) {
      grid-area: 2 / 2 / 3 / 3;
    }

    ${Gbe} {
      height: 24px;

      display: flex;
      flex-direction: row;
      align-items: baseline;
      justify-content: flex-start;

      > div {
        padding-left: 6px;

        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
    }
  }

  @media (max-width: 460px) {
    padding-left: 8px;
    padding-right: 8px;
  }
`,Qbe=({securityId:e,symbol:t,name:n})=>c.createElement(Gbe,null,c.createElement(bi,null,t.toUpperCase()),c.createElement(jbe,{top:4},c.createElement(Ei,{isLowContrast:!0,thin:!0},n))),Zbe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-top: 6px;
  :first-child {
    padding: 0;
  }
`,Xbe=u.div`
  width: 80px;
  text-align: right;
  overflow: visible;
  white-space: nowrap;

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    width: 62px;
  }
`,Jbe=u.div`
  text-align: center;
  width: 36px;

  @media (max-width: 600px) {
    width: 26px;
  }
`,eCe=u.div`
  width: 66px;
  text-align: left;
`,tCe=({value:e})=>c.createElement(eCe,null,c.createElement(NH,{value:e},c.createElement(Ei,null,lc(rc,e)))),nCe=({value:e})=>c.createElement(Jbe,null,c.createElement(Go,{value:e,size:16})),rCe=({securityId:e,ideaId:t})=>{const{prev_month_perf:n,this_month_perf:r}=nX(t),{percentChange:i}=iM(e);return c.createElement(qbe,null,c.createElement(Zbe,null,c.createElement(Xbe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Today")),c.createElement(nCe,{value:i}),c.createElement(tCe,{value:i})),c.createElement(Zbe,null,c.createElement(Xbe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"This Month")),c.createElement(nCe,{value:r}),c.createElement(tCe,{value:r})),c.createElement(Zbe,null,c.createElement(Xbe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Last Month")),c.createElement(nCe,{value:n}),c.createElement(tCe,{value:n})))},iCe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding-top: 6px;

  :first-child {
    padding: 0;
  }
`,aCe=u.div`
  .mobile {
    display: none;
  }
  width: 170px;
  text-align: right;
  padding-top: 6px;
  padding-right: 22px;

  :first-child {
    padding-top: 0;
  }
  position: relative;

  overflow: visible;
  white-space: nowrap;

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    width: 122px;

    .non-mobile {
      display: none;
    }
    .mobile {
      display: inline-block;
    }
  }
`,sCe=u.div`
  path {
    fill: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,oCe=u.div`
  width: 100px;
  text-align: left;

  padding-left: 5px;

  overflow: visible;
  white-space: nowrap;

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    width: 80px;
  }
`,lCe=({securityId:e,ideaId:t})=>{const n=(e=>D((t=>t.fundamentalData.securities[e])))(e),r=nX(t);if(!n||!r)return c.createElement(Ybe,null);const i=n[Bbe],a=n[zbe],s=r.admin_created_date;return c.createElement(Ybe,null,c.createElement(iCe,null,c.createElement(aCe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},c.createElement("span",{className:"non-mobile"},"Proj. Revenue Growth"),c.createElement("span",{className:"mobile"},"Proj. Rev. Growth")),c.createElement(sCe,null,c.createElement(iS,{word:"tooltip_projected_revenue_growth",style:{top:"3px",right:"4px"}}))),c.createElement(oCe,null,c.createElement(Ei,null,lc(rc,i)))),c.createElement(iCe,null,c.createElement(aCe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Fwd P/E Ratio"),c.createElement(sCe,null,c.createElement(iS,{word:"tooltip_forward_pe_ratio_next_year",style:{top:"3px",right:"4px"}}))),c.createElement(oCe,null,c.createElement(Ei,null,lc(ic,a)))),c.createElement(iCe,null,c.createElement(aCe,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Owned As Of")),c.createElement(oCe,null,c.createElement(Ei,null,s))))},cCe=({ideaId:e})=>{var t;const n=nX(e),r=P7(null==(t=null==n?void 0:n.security)?void 0:t.security_id);if(!n)return null;const{id:i,security:a}=n,{symbol:s,security_id:o,name:l}=a;return c.createElement(Kbe,{onClick:()=>{o&&r()}},c.createElement(Qbe,{symbol:s,name:l,securityId:o}),c.createElement(rCe,{securityId:o,ideaId:i}),c.createElement(lCe,{securityId:o,ideaId:i}))},dCe=({userId:e})=>{const t=$be(e);return t?c.createElement(Hbe,null,t.map((e=>c.createElement(cCe,{key:e.id,ideaId:e.id})))):null},uCe=({userId:e})=>{const t=P(),[n,r]=c.useState(!1),[i,a]=c.useState(!1),s=$be(e);if(c.useEffect((()=>{const n=()=>a(!1),i=()=>a(!0);s&&0!==s.length||(async()=>{r(!0),await Wbe(e,t,n,i),r(!1)})()}),[]),c.useEffect((()=>{let e;const t=null==s?void 0:s.map((e=>e.security));return e=null==t?void 0:t.map((e=>({symbol:e.symbol,id:e.id}))),e&&py.addTempSecurities(e),()=>{e&&py.removeTempSecurities(null==e?void 0:e.map((e=>e.symbol)))}}),[s]),n)return c.createElement(Iw,{centerAll:!0,height:80},c.createElement(YJ,{type:GJ}));if(i){const n=async()=>{r(!0),await Wbe(e,t,(()=>a(!1)),(()=>a(!0))),r(!1)};return c.createElement(Vbe,null,c.createElement(Ei,null,"Something went wrong getting these positions, please try again."),c.createElement(Iw,{top:24},c.createElement(hx,{onClick:n},"Try Again")))}return c.createElement(dCe,{userId:e})},hCe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,pCe=u.div``,mCe=u.div`
  padding: 0 0 0 24px;
`,gCe=u.div``,yCe=u.div`
  min-width: 300px;
  margin-left: 10%;

  border: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
  border-radius: 5px;
  padding: 24px 0;
`,_Ce=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  padding: 24px 0 0 0;

  .row {
    &:first-child {
      padding-top: 0;
    }
    padding-top: 12px;
  }

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    display: block;

    ${yCe} {
      margin: 24px auto 0 auto;
      max-width: 420px;
    }
  }
`,fCe=u.span`
  position: relative;
  path {
    fill: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,vCe=u.div`
  padding: 0 24px 24px 24px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
`,ECe=u.div`
  padding: 24px 24px 0 24px;
`,bCe=u.div`
  display: flex;
  flex-direction: row;
  gap: 16px;
  align-items: center;
  justify-content: space-around;
`,CCe=u.div`
  .datapoint-value {
    padding-top: 8px;
    font-size: 16px;
    line-height: 18px;
  }
`,xCe=({data:e})=>c.createElement(CCe,null,c.createElement("div",null,c.createElement(Ei,{isLowContrast:!0},e.name)),c.createElement(Iw,{height:18},c.createElement(NH,{value:e.value,className:"datapoint-value"},c.createElement(Ei,{bold:!0},lc(rc,e.value))))),wCe=({userId:e})=>{const t=eX(e);if(!t)return c.createElement(bCe,null,c.createElement(Iw,{centerAll:!0,height:36},c.createElement(YJ,{type:GJ})));const{performance_last_month:n,performance_this_month:r,performance_today:i}=t,a=[{name:"Today",value:i},{name:"This Month",value:r},{name:"Last Month",value:n}];return c.createElement(bCe,null,a.map((e=>c.createElement(xCe,{key:e.name,data:e}))))},SCe=({userId:e})=>{const t=Mbe(e),{city:n,state:r,location:i}=t,a=ip(t),s=ap(t),o=i||(n&&r?`${n}, ${r}`:n?`${n}`:r?`${r}`:null),l=`The positions below came from publicly available sources. These are long positions only and do not necessarily reflect ${tp(t)} complete portfolio or current thinking on these investments.`;return c.createElement(Iw,null,c.createElement(hCe,null,c.createElement(pCe,null,c.createElement(VP,{user:t,size:"profile",withLink:!1,showNameTag:!1})),c.createElement(mCe,null,c.createElement(Iw,null,c.createElement(bi,null,a)),c.createElement(Iw,{top:2},c.createElement(Ei,null,s)),c.createElement(Iw,{top:2},c.createElement(Ei,{isLowContrast:!0},o)))),c.createElement(_Ce,null,c.createElement(gCe,null,t.quotation&&t.quotation.length>0?c.createElement("div",{className:"row"},c.createElement(Ei,null,t.quotation)):null,t.bio&&t.bio.length>0?c.createElement("div",{className:"row"},c.createElement(Ei,null,t.bio)):null,c.createElement("div",{className:"row"},c.createElement(Ei,{isLowContrast:!0},l))),c.createElement(yCe,null,c.createElement(vCe,null,c.createElement(fCe,null,c.createElement(vi,{isLowContrast:!0,thin:!0},"Idea Performance"),c.createElement(iS,{word:"performance_numbers",style:{top:"3px",bottom:"1px"}}))),c.createElement(ECe,null,c.createElement(wCe,{userId:e})))))},kCe=({userId:e})=>c.createElement(uCe,{userId:e}),TCe=({userId:e})=>{const t=P(),[n,r]=F(),i={marginBottom:0},a=l(o({},i),{marginTop:"8px",marginBottom:"24px"}),s=Mbe(e);return c.useEffect((()=>{KF(),(e=>{Cu("View Thought Leader",{});const t={"From React Router":!0,"In Onboarding":!e.has_completed_onboarding,"On Waitlist":e.is_on_waitlist,"Is Connected":"connected"===e.connection_status_to_current_user,"Profile User ID":e.analytics_id,"Is Collective User":Yh(e)};TC("View User Profile",t)()})(s),(e=>{const t=fe(window.location.search);BC(e.user_id,t.context)})(s),(e=>{const t=qh(e)?ip(e):Yh(e)?e.collective_name:np(e);document.title=`${Xo} - ${t}`})(s),((e,t)=>{qh(e)&&t({"is-thought-leader":!0})})(s,r),LC(e)(t);OC(e,{include:["performance"]})(t),PC([e])(t)}),[]),c.createElement(c.Fragment,null,c.createElement(Lx,{width:"1100px",style:i,mobileTransparentBackground:!0},c.createElement(SCe,{userId:e})),c.createElement(Lx,{width:"1100px",style:a,noPadding:!0},c.createElement(kCe,{userId:e})))},ICe=u.div`
  padding: 24px;
`,NCe=u.div`
  @media (max-width: 692px) {
    margin-top: -40px;
  }
`,ACe=async(e,t,n,r)=>{const{ok:i,ideas:a,errorMessage:s}=await jE(e)(t);if(i){const e=(a||[]).map((e=>AS(e)));await Promise.all([mC(e)(t),gC(e)(t),yC(e)(t)]),n()}else r(),console.error(s)},PCe=u.div`
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,DCe=u.div`
  height: ${84}px;

  .mobile {
    display: none;
  }

  > div {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  @media (max-width: 692px) {
    height: 60px;

    ${PCe} {
      padding-left: 8px;
    }
    .mobile-row {
      display: flex;
      flex-direction: row;
      align-items: baseline;
      justify-content: flex-start;
    }
    .mobile {
      display: flex;
      flex-direction: row;
      align-items: baseline;
      justify-content: flex-start;
    }
    .non-mobile {
      display: none;
    }

    > div {
      padding-left: 6px;

      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;
    }
  }
`,OCe=u.div`
  height: ${84}px;
`,LCe=u.div`
  height: ${84}px;
`,RCe=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(120px, 1fr) minmax(228px, 1fr) minmax(260px, 1fr);
  grid-column-gap: 8px;
  padding: 16px 24px;
  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
  cursor: pointer;

  :hover {
    &:first-child {
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    &:last-child {
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }

    border-radius: 5px;
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  @media (max-width: 840px) {
    padding: 16px 8px;
  }
  @media (max-width: 692px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: minmax(40px, 1fr);
    grid-column-gap: 0;
    grid-row-gap: 0;

    > div:first-child {
      grid-area: 1 / 1 / 2 / 3;
      padding-top: 0;
      padding-bottom: 0;
    }
    > div:nth-child(2) {
      grid-area: 2 / 1 / 3 / 2;
    }
    > div:nth-child(3) {
      grid-area: 2 / 2 / 3 / 3;
    }
  }

  @media (max-width: 460px) {
    padding-left: 8px;
    padding-right: 8px;
  }
`,FCe=u.div`
  font-size: 12px;
  line-height: 20px;
  font-weight: 800;

  color: ${({theme:e,type:t})=>0===t?e.themeColors.positive:e.themeColors.negative};
`,MCe=({securityId:e,ideaId:t,userId:n})=>{const r=nX(t),{idea_type:i,security:a,allocation:s,active:o}=r,{featured:l}=IH(e),{name:d,symbol:u}=a,h=eg(s,"current_price_change_percent");return c.createElement("div",null,c.createElement(DCe,null,c.createElement("div",{className:"mobile-row"},c.createElement(bi,null,null==u?void 0:u.toUpperCase()),c.createElement(PCe,{top:4},c.createElement(Ei,{isLowContrast:!0,thin:!0},d))),c.createElement("div",{className:"mobile"},l&&o||Math.abs(s)>0?c.createElement(FCe,{type:i.id},0===i.id?"LONG":1===i.id?"SHORT":""):c.createElement("div",null,c.createElement("span",null," ")),Math.abs(s)>0&&c.createElement(PCe,{top:4},c.createElement(jCe,null,c.createElement(Ei,{thin:!0},h," of portfolio"),c.createElement(iS,{word:"tooltip_allocation",style:{top:"3px",right:"-18px"}})))),c.createElement("div",{className:"non-mobile"},Math.abs(s)>0&&c.createElement(PCe,{top:4},c.createElement(jCe,null,c.createElement(Ei,{thin:!0},h," of portfolio"),c.createElement(iS,{word:"tooltip_allocation",style:{top:"3px",right:"-18px"}}))),l&&o?c.createElement(FCe,{type:i.id},0===i.id?"LONG":1===i.id?"SHORT":""):c.createElement("div",null,c.createElement("span",null," ")))))},UCe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  padding-top: 6px;
  :first-child {
    padding: 0;
  }
`,$Ce=u.div`
  width: 80px;
  text-align: right;
  overflow: visible;
  white-space: nowrap;

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    width: 62px;
  }
`,BCe=u.div`
  text-align: center;
  width: 36px;

  @media (max-width: 600px) {
    width: 26px;
  }
`,zCe=u.div`
  width: 66px;
  text-align: left;
`,VCe=({value:e})=>c.createElement(zCe,null,c.createElement(NH,{value:e},c.createElement(Ei,null,lc(rc,e)))),HCe=({value:e})=>c.createElement(BCe,null,c.createElement(Go,{value:e,size:16})),WCe=({securityId:e,ideaId:t})=>{const n=nX(t),{prev_month_perf:r,this_month_perf:i}=n,{percentChange:a}=iM(e);return c.createElement(OCe,null,c.createElement(UCe,null,c.createElement($Ce,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Today")),c.createElement(HCe,{value:a}),c.createElement(VCe,{value:a})),null!==i&&c.createElement(UCe,null,c.createElement($Ce,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"This Month")),c.createElement(HCe,{value:i}),c.createElement(VCe,{value:i})),null!==r&&c.createElement(UCe,null,c.createElement($Ce,null,c.createElement(Ei,{isLowContrast:!0,thin:!0},"Last Month")),c.createElement(HCe,{value:r}),c.createElement(VCe,{value:r})))},jCe=u.div`
  position: relative;
  display: inline-block;
  path {
    fill: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,GCe=u.div`
  font-size: 18px;
  line-height: 22px;
  font-weight: 800;
`,qCe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;

  svg {
    height: 15px;
    width: 15px;
    margin-left: 5px;

    path {
      fill: ${({theme:e,type:t})=>e.themeColors.negative};
    }
  }
`,YCe=u.div`
  font-size: 12px;
  line-height: 22px;
  font-weight: 200;

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,KCe=u.div`
  font-size: 16px;
  line-height: 20px;
  font-weight: 800;
`,QCe=({securityId:e,ideaId:t})=>{const n=nX(t),{featured:r}=IH(e),{idea_type:i,conviction:a,price_target:s,expected_return:o,horizon:l,active:d}=n||{},u=eg(s,"current_price"),h=eg(o,"percentage");return c.createElement(LCe,null,r&&d?c.createElement("div",null,isNaN(s)||null===s?c.createElement(GCe,null,h):c.createElement(qCe,null,c.createElement(KCe,null,"$"+u),c.createElement(Kpe,null)),c.createElement(YCe,null,a.name," conviction")):null)},ZCe=({ideaId:e,userId:t})=>{var n;const r=nX(e),i=P7(null==(n=null==r?void 0:r.security)?void 0:n.security_id);if(!r)return null;const{id:a,security:s}=r,{symbol:o,security_id:l,name:d}=s;return c.createElement(RCe,{onClick:()=>{l&&i()}},c.createElement(MCe,{symbol:o,name:d,securityId:l,ideaId:a,userId:t}),c.createElement(WCe,{securityId:l,ideaId:a}),c.createElement(QCe,{securityId:l,ideaId:a}))},XCe=e=>{if(!e)return e;const t=e=>e.security.symbol;return[...e.filter((e=>Math.abs(e.allocation)>0)).sort(((e,t)=>{const n=Math.abs(e.allocation);return Math.abs(t.allocation)-n})),...e.filter((e=>e.active&&null===e.allocation)).sort(((e,n)=>t(e)<t(n)?-1:t(e)>t(n)?1:0)),...e.filter((e=>!e.active&&null===e.allocation)).sort(((e,n)=>t(e)<t(n)?-1:t(e)>t(n)?1:0))]},JCe=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(120px, 1fr) minmax(228px, 1fr) minmax(260px, 1fr);
  padding: 2px 24px;

  @media (max-width: 692px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: minmax(40px, 1fr);
    grid-column-gap: 0;
    grid-row-gap: 0;

    > div:first-child {
      grid-area: 1 / 1 / 2 / 3;
      padding-top: 0;
      padding-bottom: 0;
    }
    > div:nth-child(2) {
      grid-area: 2 / 1 / 3 / 2;
    }
    > div:nth-child(3) {
      grid-area: 2 / 2 / 3 / 3;
    }
  }
`,exe=({userId:e})=>{const t=(e=>{const t=$be(e),[n,r]=c.useState(XCe(t));return c.useEffect((()=>{r(XCe(t))}),[t]),n})(e);return t?c.createElement(NCe,null,c.createElement(JCe,null,c.createElement("div",null),c.createElement(Iw,{left:12},c.createElement(Ei,{isLowContrast:!0,thin:!0},"Idea Performance")),c.createElement("div",null,c.createElement(jCe,{isLowContrast:!0},c.createElement(Ei,{isLowContrast:!0,thin:!0},"Expected Return"),c.createElement(iS,{word:"tooltip_expected_return_idea_panel",style:{top:"2px",right:"-20px"}})))),t.map((t=>c.createElement(ZCe,{key:t.id,userId:e,ideaId:t.id})))):null},txe=({userId:e})=>{const t=P(),[n,r]=c.useState(!1),[i,a]=c.useState(!1),s=$be(e);if(c.useEffect((()=>{const n=()=>a(!1),i=()=>a(!0);s&&0!==s.length||(async()=>{r(!0),await ACe(e,t,n,i),r(!1)})()}),[e]),c.useEffect((()=>{let e;const t=null==s?void 0:s.map((e=>e.security));return e=null==t?void 0:t.map((e=>({symbol:e.symbol,id:e.id}))),e&&py.addTempSecurities(e),()=>{e&&py.removeTempSecurities(null==e?void 0:e.map((e=>e.symbol)))}}),[s]),n)return c.createElement(Iw,{centerAll:!0,height:80},c.createElement(YJ,{type:GJ}));if(i){const n=async()=>{r(!0),await ACe(e,t,(()=>a(!1)),(()=>a(!0))),r(!1)};return c.createElement(ICe,null,c.createElement(Ei,null,"Something went wrong getting these positions, please try again."),c.createElement(Iw,{top:24},c.createElement(hx,{onClick:n},"Try Again")))}return c.createElement(exe,{userId:e})},nxe=u.div`
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
`,rxe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  padding: 0 16px;
  margin: 0 auto;

  width: ${({width:e})=>e||"100%"};
  max-width: ${({maxWidth:e})=>e||"800px"};
`,ixe=u.div`
  padding: 24px 16px 48px 16px;
  margin: 0 auto;
  width: ${({width:e})=>e||"100%"};
  max-width: ${({maxWidth:e})=>e||"800px"};
`,axe=u.div`
  padding: 8px 16px;
  cursor: pointer;

  &.active {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-bottom: 2px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
  }

  &:hover {
    color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
`,sxe=({name:e,value:t,isActive:n})=>{const r=b(),i=_();return c.createElement(axe,{onClick:()=>{const e={tab:t},n={pathname:i.pathname,search:`?${q(e)}`};r(n,{replace:!0});TC("Clicked Tab",{Tab:t})()},className:n?"active":""},e)},oxe=e=>e.get("tab"),lxe=({defaultTab:e,tabs:t,componentLookup:n,rendererProps:r={}})=>{var i;const[a]=F(),[s,o]=c.useState(oxe(a)||e);return c.useEffect((()=>{const e=oxe(a);e!==s&&e&&o(e)}),[a,s]),c.createElement("div",null,c.createElement(nxe,null,c.createElement(rxe,null,t.map((e=>c.createElement(sxe,{key:e,isActive:s===e,name:n[e].displayText,value:e}))))),c.createElement(ixe,null,null==(i=n[s])?void 0:i.renderer(r)))},cxe=u.div`
  min-width: 300px;
  margin-left: 10%;

  border: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
  border-radius: 5px;
  padding: 24px 0;
`,dxe=u.div`
  padding: 0 24px 24px 24px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
`,uxe=u.div`
  padding: 24px 24px 0 24px;
`,hxe=u.div`
  display: flex;
  flex-direction: row;
  gap: 16px;
  align-items: center;
  justify-content: space-around;
`,pxe=u.div`
  .datapoint-value {
    padding-top: 8px;
    font-size: 16px;
    line-height: 18px;
  }
`,mxe=u.span`
  position: relative;
  path {
    fill: ${({theme:e})=>e.themeColors.secondaryText};
  }
`,gxe=({data:e})=>c.createElement(pxe,null,c.createElement("div",null,c.createElement(Ei,{isLowContrast:!0},e.name)),c.createElement(Iw,{height:18},c.createElement(NH,{value:e.value,className:"datapoint-value"},c.createElement(Ei,{bold:!0},lc(rc,e.value))))),yxe=({userId:e})=>{const t=eX(e);if(!t)return c.createElement(hxe,null,c.createElement(Iw,{centerAll:!0,height:36},c.createElement(YJ,{type:GJ})));const{performance_last_month:n,performance_this_month:r,performance_today:i}=t,a=[{name:"Today",value:i},{name:"This Month",value:r},{name:"Last Month",value:n}];return c.createElement(hxe,null,a.map((e=>c.createElement(gxe,{key:e.name,data:e}))))},_xe=({userId:e})=>c.createElement(cxe,null,c.createElement(dxe,null,c.createElement(mxe,null,c.createElement(vi,{isLowContrast:!0,thin:!0},"Idea Performance"),c.createElement(iS,{word:"performance_numbers",style:{top:"3px",bottom:"1px"}}))),c.createElement(uxe,null,c.createElement(yxe,{userId:e}))),fxe="requested-to-current-user",vxe="requested-from-current-user",Exe="connected",bxe="none",Cxe=e=>{if(!e)return null;const t=pp(e),n=dp(e);return lp(e)?Exe:n?vxe:t?fxe:bxe},xxe=(e,t)=>e.sort(((e,n)=>{const r=t[e],i=t[n];return np(r)<np(i)?-1:np(r)>np(i)?1:0})),wxe=e=>{const t=eI(),n=e||t,{isLoading:r,connections:i}=(e=>{var t;const n=eI(),r=e||n,i=D((e=>e.userConnections)),a=D((e=>{var t;return null==(t=e.userConnections)?void 0:t.userDict})),s=null==(t=a[r])?void 0:t.connections,[o,l]=c.useState(s||null),d=GB(r,i);return c.useEffect((()=>{var e;const t=null==(e=a[r])?void 0:e.connections;t&&l(t)}),[a]),{isLoading:d,connections:o}})(n),a=D((e=>e.users.userList)),[s,o]=c.useState((null==i?void 0:i.length)>0?xxe(i,a):null);return c.useEffect((()=>{if((null==i?void 0:i.length)>0){const e=xxe(i,a);o(e)}}),[i,a]),{isLoading:r,sortedConnections:s}},Sxe=u.div`
  height: 100px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};

  cursor: pointer;

  :hover {
    border: 1px solid ${({theme:e})=>e.themeColors.primaryCtaButton};
    border-radius: 5px;
  }

  @media (max-width: 420px) {
    padding: 0 8px;
  }
`,kxe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Txe=u.div``,Ixe=u.div`
  padding: 0 0 0 24px;
`,Nxe=({userId:e})=>{const t=b(),[n,r]=c.useState(!1),i=Mbe(e),a=np(i),s=i.is_private;return c.createElement(Sxe,{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},onClick:()=>{t(`/users/${e}/public_profile${`?context=${Gg}`}`)}},c.createElement(kxe,null,c.createElement(Txe,null,c.createElement(VP,{user:i,size:n?"large":"medium",withLink:!1,showNameTag:!1})),c.createElement(Ixe,null,c.createElement(Iw,null,c.createElement(yi,null,a)),s&&c.createElement(Iw,{top:2},c.createElement(Ei,{isLowContrast:!0},"Private")))))},Axe=({userId:e})=>{const{isLoading:t,sortedConnections:n}=wxe(e);return t?c.createElement("div",null):n?0===n.length?c.createElement("div",null,"No connections"):c.createElement("div",null,n.map((t=>c.createElement(Nxe,{key:`${t}-${e}`,userId:t})))):c.createElement("div",null,"Error")},Pxe=u.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;

  //border: 1px solid ${({theme:e})=>e.themeColors.border};
  //border-radius: 5px;
`,Dxe=u.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
`,Oxe=u.div`
  margin-left: 12px;

  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;

  img {
    height: 44px;
    width: 44px;

    margin-right: 4px;
  }

  .rank-label {
    font-size: 16px;
    line-height: 18px;
  }
`,Lxe=e=>{const{user:t,inline:n}=e,{most_recent_rank:r}=t;if(!r)return null;const{badge:i,label:a}=r,s="incomplete"===i;return n?c.createElement(Pxe,null,c.createElement(Dxe,null,c.createElement(yi,null,"Portfolio Rank")),c.createElement(Oxe,null,s?c.createElement(c.Fragment,null,c.createElement("div",{className:"sell-text-color",style:{fontSize:"16px",margin:"10px 0px"}},c.createElement(Ei,{isLowContrast:!0},a)),c.createElement(Iw,{style:{position:"relative"},height:16},c.createElement(iS,{word:"portfolio_rank",style:{top:"0px"}}))):c.createElement(c.Fragment,null,c.createElement(IL,{badgeName:i}),a&&c.createElement("div",{className:"rank-label"},c.createElement(yi,null," ",a)),c.createElement(Iw,{style:{position:"relative"},height:16},c.createElement(iS,{word:"portfolio_rank",style:{top:"0px"}}))))):c.createElement("div",{className:"profile-user-ranking-summary"},c.createElement("div",{className:"main-label"},c.createElement("span",{style:{position:"relative"}},"Portfolio Rank",c.createElement(iS,{word:"portfolio_rank",style:{top:"auto",bottom:"1px"}}))),"incomplete"===i?c.createElement(c.Fragment,null,c.createElement("div",{className:"sell-text-color",style:{fontSize:"16px",margin:"10px 0px"}},a),c.createElement("div",{className:"secondary-text-color",style:{fontSize:"12px",fontWeight:"300"}},"This user has not placed a trade yet")):c.createElement(c.Fragment,null,c.createElement(IL,{badgeName:i}),a&&c.createElement("div",null,a)))},Rxe=u.div`
  .thought-feed-thought-headline {
    * {
      font-size: 14px !important;
      line-height: 18px !important;
      color: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Fxe=u.div`
  flex: 1;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding-top: 40px;
  padding-bottom: 40px;
`,Mxe=({userId:e})=>{const t=P(),n=Mbe(e),[r,i]=C.exports.useState([]),[a,s]=C.exports.useState(!0),[o,l]=C.exports.useState(""),[d,u]=C.exports.useState(!1);C.exports.useEffect((()=>{s(!0),gE({userId:e,count:15})(t).then((e=>{const{ok:t,thoughts:n,errorMessage:r}=e;t?(s(!1),i(n)):(l(r),"Recent posts are private."===r&&u(!0))}))}),[]);return d?c.createElement(Fxe,null,c.createElement("div",{style:{textAlign:"center",paddingTop:"32px"}},c.createElement(fi,{isLowContrast:!0},"Recent posts are set to private"))):a?c.createElement(Fxe,null,c.createElement(Ri,null)):0===(null==r?void 0:r.length)?c.createElement(Fxe,null,c.createElement("div",{style:{textAlign:"center",paddingTop:"32px"}},c.createElement(fi,{isLowContrast:!0},`${n.first_name} has no recent Pro/Con posts`))):c.createElement("div",null,r.map(((e,t)=>c.createElement(Rxe,{className:"react-thought-notification",key:e.id},(e=>c.createElement("div",{className:"thought-feed-thought-headline"},c.createElement("span",{style:{marginRight:"5px"}},c.createElement(SV,{thought:e})),c.createElement("span",{style:{marginRight:"5px"}},"for"),c.createElement("span",{style:{marginRight:"-1px"}},c.createElement(oB,{securityId:cu(e)},c.createElement(Fz,{prefix:"(",suffix:")",showSymbol:!0,showName:!0,limitNameWidth:!0}))),c.createElement("span",null,"from the community")))(e),c.createElement(oB,{securityId:cu(e)},c.createElement(iV,{thoughtId:e.id,thought:e,viewingContext:yS("FEED"),scrollContainerSelector:window,inFeed:!0,showAlternateOpinionActionStyle:!0,isUserAuthed:!0,hideOpinionCounts:!0,withThoughtLink:!0,isSuggestedThought:!0,useShareInModal:!0}))))))},Uxe=()=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.createElement("path",{d:"M1.46,8.88L2.88,7.46L5,9.59L7.12,7.46L8.54,8.88L6.41,11L8.54,13.12L7.12,14.54L5,12.41L2.88,14.54L1.46,13.12L3.59,11L1.46,8.88M15,4A4,4 0 0,1 19,8A4,4 0 0,1 15,12A4,4 0 0,1 11,8A4,4 0 0,1 15,4M15,5.9A2.1,2.1 0 0,0 12.9,8A2.1,2.1 0 0,0 15,10.1C16.16,10.1 17.1,9.16 17.1,8C17.1,6.84 16.16,5.9 15,5.9M15,13C17.67,13 23,14.33 23,17V20H7V17C7,14.33 12.33,13 15,13M15,14.9C12,14.9 8.9,16.36 8.9,17V18.1H21.1V17C21.1,16.36 17.97,14.9 15,14.9Z"})),$xe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Bxe=u.div``,zxe=u.div`
  padding: 0 0 0 24px;
`,Vxe=u.div``,Hxe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  padding: 24px 0 0 0;

  .row {
    &:first-child {
      padding-top: 0;
    }
    padding-top: 12px;
  }

  @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
    display: block;

    ${cxe} {
      margin: 24px auto 0 auto;
      max-width: 420px;
    }
  }
`,Wxe=u.div`
  padding-top: 16px;

  ${ixe},
  ${rxe} {
    max-width: 1100px;
    width: 95%;

    @media (max-width: ${({theme:e})=>e.breakpoints.mobile}) {
      width: 100%;
    }
  }
`,jxe=u.div``,Gxe=u.div`
  button {
    padding: 2px 12px 2px 12px;
  }
`,qxe=({onEffect:e,userId:t})=>{const n=P();return c.createElement(Gxe,null,c.createElement(hx,{onClick:async()=>{TC("Clicked Send Connection Request",{})(),e(!0),await UC(t)(n),e(!1)}},"Connect"))},Yxe=u.div`
  button {
    padding: 3px 12px 2px 12px;
  }
`,Kxe=({onEffect:e,userId:t})=>{const n=P(),r=eI();return c.createElement(Yxe,null,c.createElement(hx,{onClick:async()=>{e(!0),await $C(t,"profile",r)(n),e(!1)}},"Accept Connection"))},Qxe=u.div`
  button {
    padding: 3px 4px 2px 4px;

    line-height: 1;
    * {
      line-height: 1;
    }
  }
  svg {
    height: 15px;
    width: 15px;

    path {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Zxe=({onEffect:e,userId:t})=>{const n=P(),r=eI();return c.createElement(Qxe,null,c.createElement(sx,{secondary:!0,onClick:async()=>{e(!0),await RC(r,t)(n),e(!1)}},c.createElement(Uxe,null)))},Xxe=({userId:e})=>{const{status:t,canRequestConnection:n}=(e=>{const t=Mbe(e),[n,r]=c.useState(Cxe(t)),i=cp(t),a=up(t);return c.useEffect((()=>{const e=Cxe(t);n!==e&&r(e)}),[t,n]),{status:n,canRequestConnection:i,expiredRequestSent:a}})(e),[r,i]=c.useState(!1),a=async e=>{i(e)};return r?c.createElement(Iw,{height:25,verticallyCenter:!0},c.createElement(Ei,{thin:!0},"...")):t===Exe?c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Ei,{thin:!0},"Connected"),c.createElement(Iw,{left:8},c.createElement(Zxe,{onEffect:a,userId:e}))):t===vxe?c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Ei,{thin:!0},"Connection Requested"),c.createElement(Iw,{left:8},c.createElement(Zxe,{onEffect:a,userId:e}))):t===fxe?c.createElement(Kxe,{onEffect:a,userId:e}):n?c.createElement(qxe,{onEffect:a,userId:e}):null},Jxe=({userId:e})=>{const t=e===eI(),n=Mbe(e),r=n.is_nvstr_employee,i=n.is_private,{city:a,state:s,location:o}=n,l="This person is, or within the last 6 months has been, an employee or contractor of Nvstr Financial LLC dba Tornado or its affiliates. Any information disclosed by this individual reflects their personal activity, does not reflect the views of Nvstr Financial LLC dba Tornado or its affiliates, is not a recommendation and does not constitute investment advice. This individual's investments may not be appropriate for you.",d=o||(a&&s?`${a}, ${s}`:a?`${a}`:s?`${s}`:null);return i?c.createElement(Iw,null,c.createElement($xe,null,c.createElement(Bxe,null,c.createElement(VP,{user:n,size:"profile",withLink:!1,showNameTag:!1})),c.createElement(zxe,null,c.createElement(Iw,null,c.createElement(bi,null,np(n))),c.createElement(Iw,{top:2},c.createElement(Ei,{isLowContrast:!0},"Private")),t?null:c.createElement(Iw,{top:8},c.createElement(Xxe,{userId:e})))),c.createElement(Hxe,null,c.createElement(Vxe,null,r&&c.createElement("div",{className:"row"},c.createElement(Ei,{isLowContrast:!0},l))))):c.createElement(Iw,null,c.createElement($xe,null,c.createElement(Bxe,null,c.createElement(VP,{user:n,size:"profile",withLink:!1,showNameTag:!1})),c.createElement(zxe,null,c.createElement(Iw,null,c.createElement(bi,null,np(n))),c.createElement(Iw,{top:2},c.createElement(Ei,{isLowContrast:!0},d)),t?null:c.createElement(Iw,{top:8},c.createElement(Xxe,{userId:e})))),c.createElement(Hxe,null,c.createElement(Vxe,null,c.createElement(jxe,null,c.createElement(Lxe,{user:n,inline:!0})),n.bio&&n.bio.length>0?c.createElement("div",{className:"row"},c.createElement(Ei,null,n.bio)):null,r&&c.createElement("div",{className:"row"},c.createElement(Ei,{isLowContrast:!0},l))),c.createElement(_xe,{userId:e})))},ewe={marginBottom:0},twe=l(o({},ewe),{marginTop:"8px",marginBottom:"24px"}),nwe="ideas",rwe="connections",iwe="posts",awe={[nwe]:{name:"ideas",displayText:"Portfolio/ Ideas",renderer:({userId:e})=>c.createElement(txe,{userId:e})},[rwe]:{name:"connections",displayText:"Connections",renderer:({userId:e})=>c.createElement(Axe,{userId:e})},[iwe]:{name:"posts",displayText:"Posts",renderer:({userId:e})=>c.createElement("div",{style:{margin:"8px auto 0 auto",maxWidth:"500px"}},c.createElement(Mxe,{userId:e}))}},swe=[nwe,rwe,iwe],owe=({userId:e})=>c.createElement(Wxe,null,c.createElement(lxe,{tabs:swe,componentLookup:awe,defaultTab:nwe,rendererProps:{userId:e}})),lwe=({userId:e})=>{const t=Mbe(e),n=t.is_private;return c.useEffect((()=>{(e=>{const t={"From React Router":!0,"In Onboarding":!e.has_completed_onboarding,"On Waitlist":e.is_on_waitlist,"Is Connected":"connected"===e.connection_status_to_current_user,"Profile User ID":e.analytics_id,"Is Collective User":Yh(e)};TC("View User Profile",t)()})(t),(e=>{const t=fe(window.location.search);BC(e.user_id,t.context)})(t),(e=>{const t=np(e);document.title=`${Xo} - ${t}`})(t)}),[e]),c.createElement(c.Fragment,null,c.createElement(Lx,{width:"1100px",style:ewe,mobileTransparentBackground:!0},c.createElement(Jxe,{userId:e})),n?c.createElement(Lx,{width:"1100px",style:twe,mobileTransparentBackground:!0},c.createElement(Iw,{vertical:24,centerAll:!0},c.createElement(bi,{center:!0},`${Jh(t)} profile is set to private.`))):c.createElement(Lx,{width:"1100px",style:twe,mobileTransparentBackground:!0,noPadding:!0},c.createElement(owe,{userId:e})))},cwe=({userId:e})=>{const t=P(),[n,r]=c.useState(!0);return c.useEffect((()=>{KF();(async()=>{OC(e,{include:["performance"]})(t),LC(e)(t),cC(e)(t),PC([e])(t),await OC(e)(t),r(!1)})()}),[e]),n?c.createElement(h9,null):c.createElement(lwe,{userId:e})},dwe=()=>{const{id:e}=Y(),t=e&&qk(e),n=Mbe(t),r=qh(n);return n?r?c.createElement(TCe,{userId:t}):c.createElement(cwe,{key:t,userId:t}):c.createElement(Dw,null)},uwe=(e,t)=>uve.stopLimit===e?t?"Stop Limit":"stop limit":t?dk(e):e,hwe=(e,t)=>{if(!t)return null;const{shares:n,operation:r,type:i,limit_price:a,stop_price:s}=e,o=r===dve.buy?1:-1;let l=t;return i===uve.limit&&(l=a),i===uve.stop&&(l=s),i===uve.stopLimit&&(l=a),n*l*o},pwe=()=>D((e=>e.u_orders.not_placed_orders)),mwe=(e,t,n)=>t.filter((t=>{const r=n[t.security_id];if(!r)return!1;const{price:i}=r,a=Math.abs(hwe(t,i));return e<a})),gwe=u.div`
  max-width: 400px;

  input {
    border: 1px solid ${({theme:e})=>e.themeColors.text};
  }

  ${SA} {
    top: -4px;
    left: -15px;
  }

  ${kA} {
    top: 10px;

    svg {
      height: 16px;
      width: 16px;

      fill: ${({theme:e})=>e.themeColors.text};
    }
  }

  .default-search-container .search-results-container {
    top: 36px;
    left: 0;
    width: 100%;
  }
  @media (max-width: 1075px) {
    .default-search-container .search-results-container {
      left: 0px;
      right: 0px;
    }
  }
  .default-search-container i.query-icon {
    left: 13px;
    z-index: 5;
  }
  @media (max-width: 500px) {
    .default-search-container {
      max-width: 275px;
    }
    .default-search-container .search-results-container {
      left: 0px;
      right: 0px;
    }
  }
`,ywe=({inCart:e})=>{const t=P(),n=b(),r=pwe();return c.createElement(gwe,{className:"add-order-container"},c.createElement(UA,{id:"add-order-search",autoFocus:!1,showPlus:e,placeholder:"Enter ticker or company name...",handleSecurityQuerySelection:i=>{if(!i)return!1;const a=i,s=a.id,o=a.symbol;(e=>{mC([e])(t),yC([e])(t)})(s);if(TC("Selected Result from Order Security Search",{"Security Id":s,"Using Basket":e})(),e){const e=((e,t)=>t.filter((t=>t.security_id===e))[0])(s,r);let n;if(e){const{is_from_optimizer:t,id:r,operation:i,type:a,shares:o,limit_price:l,stop_price:c}=e;n={type:Ml,props:{isFromOptimizer:t,orderId:r,transactionType:i,orderType:a,shares:o,limitPrice:l,stopPrice:c,securityId:s}}}else n={type:Fl,props:{transactionType:dve.buy,securityId:s}};PE(n)(t)}else n(cn.build(null,o,s))},dismissAfterSelection:!0}))},_we=u.div`
  min-height: 300px;

  display: flex;
  flex: 1;
  flex-direction: column;
  justify-content: space-between;
`,fwe=u.div`
  margin-bottom: 24%;
`,vwe=u.div`
  //min-height: 300px;
`,Ewe=({onComplete:e,onCancel:t})=>{const n=P(),[r,i]=c.useState(null),[a,s]=c.useState(null),o=async()=>{var t,r,a,o,l,c;const d=await Jb()(n);if((null==d?void 0:d.data)&&!d.data.warning&&!d.data.error){const t={"Order Creation Type":"Full Optimization","Optimizer Context":"Panel"};th.orders.PLACED_TRADE.send(t),await Cl(200);const{status:r,data:a}=await Rb()(n);if(200===r){const{not_placed_orders:t}=a;if(t.length>0)e();else{i("Something went wrong. Please try again.")}}}else{const e={"Error Message":(null==(t=null==d?void 0:d.data)?void 0:t.error)||"Unknown","Was Warning":null==(r=null==d?void 0:d.data)?void 0:r.warning};if(th.orders.CREATE_OPTIMIZED_ORDERS_ERROR.send(e),!d||!d.data){return void i("Could not create orders. Please try again later.")}if(null==(a=null==d?void 0:d.data)?void 0:a.warning)return void s(!0);const n=null==(l=null==(o=null==d?void 0:d.data)?void 0:o.error)?void 0:l.toLowerCase();if(n==="Optimizer did not generate any orders".toLowerCase())return void i("There are no optimized orders to create, you can change your investment objectives or add, update, or delete ideas to change your optimal portfolio");if(n==="orders pending".toLowerCase())return void i("Cannot create optimizer orders when you have orders placed, but not yet completed.  Please try again after your pending orders are complete.");const u=(null==(c=null==d?void 0:d.data)?void 0:c.error)||"Something went wrong. Please try again.";i(u)}};c.useEffect((()=>{o()}),[]);const l=async()=>{i(null),o()},d=async()=>{s(null),await(async()=>await eC()(n))(),o()},u=()=>{t()};return r?c.createElement(fwe,null,c.createElement(Lx,{width:"440px"},c.createElement(_we,null,c.createElement(Iw,{top:16},c.createElement(Iw,null,c.createElement(_i,null,"Could not complete")),c.createElement(Iw,{top:4},c.createElement(Ei,null,r))),c.createElement(Iw,null,c.createElement(Iw,{centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:l},"Retry")),c.createElement(Iw,{centerAll:!0,top:8},c.createElement(hx,{small:!0,transparent:!0,onClick:u},"Cancel")))))):a?c.createElement(fwe,null,c.createElement(Lx,{width:"440px"},c.createElement(_we,null,c.createElement(Iw,{top:24},c.createElement(_i,{bold:!0},"You just optimized your portfolio very recently"),c.createElement(Iw,{top:16},c.createElement(Ei,null,"Consider waiting until tomorrow or add some new investment ideas, before you optimize again."))),c.createElement(Iw,null,c.createElement(Iw,{centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:d},"Continue Anyway")),c.createElement(Iw,{centerAll:!0,top:8},c.createElement(hx,{small:!0,transparent:!0,onClick:u},"Cancel")))))):c.createElement(fwe,null,c.createElement(Lx,{width:"440px"},c.createElement(_we,{style:{minHeight:"auto"}},c.createElement(Iw,{top:24},c.createElement(Iw,{centerAll:!0},c.createElement(vwe,null,c.createElement(SM,{withLogo:!0})))),c.createElement(Iw,{top:32,bottom:20,centerAll:!0},c.createElement(fi,null,"Creating optimized orders for your review...")))))},bwe=u.div`
  box-sizing: border-box;

  display: grid;
  grid-template-columns: minmax(140px, 1fr) minmax(140px, 1fr) minmax(100px, 1fr);
  grid-column-gap: 8px;
  padding: 16px 8px;
  border: 1px solid transparent;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};

  @media (max-width: 840px) {
    grid-template-columns: minmax(80px, 1fr) minmax(80px, 1fr) minmax(60px, 1fr);
  }
`,Cwe=u.div``,xwe=u.div`
  text-align: center;
`,wwe=u.div``,Swe=u.div`
  * {
    color: ${({theme:e,operation:t})=>t===dve.buy?e.themeColors.positive:e.themeColors.negative} !important;
  }
`,kwe=({id:e})=>{const t=P(),n=(e=>{const t=D((t=>t.u_orders.ordersLookup[e])),[n,r]=c.useState(t);return c.useEffect((()=>{n===t||nk(t)||r(t)}),[t,n]),n})(e),{security_id:r,shares:i,operation:a,type:s,limit_price:o,stop_price:l,is_from_optimizer:d}=n,{symbol:u}=IH(r),{price:h}=iM(r);return c.createElement(bwe,null,c.createElement(Cwe,null,c.createElement(Iw,{row:!0},c.createElement(Iw,{right:6},c.createElement(Swe,{operation:a},c.createElement(fi,{bold:!0},a.toUpperCase()))),c.createElement(Iw,null,c.createElement(fi,{bold:!0},u||""))),c.createElement(Iw,null,c.createElement(Ei,null,lc(ac,i))),[uve.stopLimit,uve.market].includes(s)&&c.createElement(Ci,null,uwe(s,!0)),[uve.limit,uve.stopLimit].includes(s)&&c.createElement(Iw,null,c.createElement(Ci,{thin:!0},"Limit @ ",lc(tc,o))),[uve.stop,uve.stopLimit].includes(s)&&c.createElement(Iw,null,c.createElement(Ci,{thin:!0},"Stop @ ",lc(tc,l)))),c.createElement(xwe,null,c.createElement(Iw,null,c.createElement(fi,{bold:!0},lc(ec,h))),null,c.createElement(Iw,null,c.createElement(hx,{small:!0,transparent:!0,onClick:()=>{TC("Clicked See More Pricing",{Context:"Order"})();PE({type:Ul,props:{securityId:r}})(t)}},"MORE"))),c.createElement(wwe,null,c.createElement(Iw,{column:!0,alignRight:!0},c.createElement(hx,{transparent:!0,small:!0,onClick:()=>{TC("Clicked Edit Order",{})();PE({type:Ml,props:{isFromOptimizer:d,orderId:e,transactionType:a,orderType:s,shares:i,limitPrice:o,stopPrice:l,securityId:r}})(t)}},"Edit"),c.createElement(hx,{transparent:!0,small:!0,onClick:()=>{TC("Remove Order",{"Order ID":e,"Is From Optimizer":d,"Is Subdivided":!1,"Security ID":r,"Security Symbol":u})(),Ub(e)(t)}},"Delete"))))},Twe=u.div`
  padding-top: 8px;
`,Iwe=u.div`
  padding-top: 24px;
`,Nwe=u.div`
  //
`,Awe=u.div`
  padding: 16px;
  margin-top: 16px;
  margin-left: 32px;

  border: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
  border-radius: 5px;

  min-width: 280px;
`,Pwe=u.div`
  padding-top: 24px;
`,Dwe=u.div`
  padding-top: 8px;

  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;

  @media (max-width: 840px) {
    flex-direction: column;

    ${Awe} {
      width: 100%;
      //display: flex;
      //justify-content: flex-end;
    }
    ${Awe} {
      max-width: 320px;
      margin-left: auto;
      border: none;
    }
    ${Twe} {
      width: 100%;
    }
    ${Iwe} {
      display: none;
    }
  }
`,Owe=u.div`
  background: ${({theme:e})=>e.themeColors.lowContrastBorder};
  // border: 1px solid ${({theme:e})=>e.themeColors.border};
  border-radius: 3px;

  display: flex;
  align-items: center;
  justify-content: center;

  svg {
    height: 16px;
    width: 16px;

    margin-right: 5px;

    * {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Lwe=({k:e,v:t})=>c.createElement(Iw,{row:!0,spaceBetween:!0,verticallyCenter:!0,bottom:8},c.createElement(Iw,null,c.createElement(Ei,null,e)),c.createElement(Iw,null,c.createElement(Ei,null,"..."===t?t:lc(tc,t)))),Rwe=({orders:e})=>{const{membership_free_trade_count:t}=ZT(),n=rM(),{buyOrdersValue:r,sellOrdersValue:i,commissionsFee:a,totalValue:s}=((e,t,n)=>{const r=t-e.length,i=r<0?-1*r*4.5:0,a=e.filter((e=>e.operation===dve.buy)),s=e.filter((e=>e.operation===dve.sell));e.map((e=>e.security_id)).forEach((e=>{n[e]||console.log("missing",e)}));const o=a.reduce(((e,t)=>{var r;return hwe(t,null==(r=n[t.security_id])?void 0:r.price)+e}),0),l=s.reduce(((e,t)=>{var r;return hwe(t,null==(r=n[t.security_id])?void 0:r.price)+e}),0),c=i+o+l;return{buyOrdersValue:isNaN(o)?"...":o,sellOrdersValue:isNaN(l)?"...":l,commissionsFee:i,totalValue:isNaN(c)?"...":c}})(e,t,n);return c.createElement(Iw,null,c.createElement(Lwe,{k:"Buy Orders:",v:r}),c.createElement(Lwe,{k:"Sell Orders:",v:i}),a>0?c.createElement(Lwe,{k:"Commission Fee:",v:a}):null,c.createElement(Lwe,{k:"Total Estimated Value:",v:s}))},Fwe=({count:e})=>{if(0===e)return null;const t=`Filtering ${e} small ${fl(e,"order")}. Use the slider above to adjust.`;return c.createElement(Iw,{top:16},c.createElement(Owe,null,c.createElement(Iw,{verticallyCenter:!0,top:7,bottom:9,horizontal:6},c.createElement(na,null),c.createElement(Ci,{thin:!0},t))))};const Mwe=({onPlaceAll:e,onCancel:t})=>{const n=P(),{value:r}=QN(),[i,a]=c.useState(Math.ceil(.01*r)||5),s=Math.ceil(.25*r),o=pwe(),l=(e=>{const t=D((e=>e.u_orders.not_placed_orders)),n=rM(),[r,i]=c.useState(mwe(e,t,n));return c.useEffect((()=>{const a=mwe(e,t,n);((e,t,n={})=>{const{checkIndexOrderMatches:r}=n;return e.length===t.length&&(r?e.every(((e,n)=>e===t[n])):e.every((e=>t.includes(e))))})(a.map((e=>e.id)),r.map((e=>e.id)))||i(a)}),[t,n,e]),r})(i),d=o.length-l.length,u=o.some((e=>e.is_from_optimizer));const h=()=>{e(l)};return o&&0!==o.length?c.createElement(Nwe,null,c.createElement(Iw,{width:300},c.createElement(ywe,{inCart:!0})),c.createElement(Iw,null,u&&c.createElement(Iw,{top:24},c.createElement(Rre,{min:0,max:s,value:i,handleChange:e=>{a(e)}})),c.createElement(Fwe,{count:d})),c.createElement(Dwe,null,c.createElement(Twe,null,l.map((e=>c.createElement(kwe,{key:e.id,id:e.id}))),c.createElement(Iw,{top:12,horizontal:8},l.length>1?"Orders above are not yet placed.  Click the Place Trade button to submit them.":"Order above is not yet placed.  Click the Place Trade button to submit it.")),c.createElement(Awe,null,c.createElement(Rwe,{orders:l}),c.createElement(Iwe,null,c.createElement(hx,{fullWidth:!0,onClick:h},"Place Orders")))),c.createElement(Pwe,null,c.createElement(Iw,{centerAll:!0},c.createElement(hx,{fullWidth:!0,onClick:h},"Place Orders")),c.createElement(Iw,{centerAll:!0,top:4},c.createElement(hx,{transparent:!0,onClick:async()=>{TC("Remove All Orders",{})();Q_({contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Deleting Orders..."),dismissable:!0})(n);if((await zb()(n)).ok)t(),function(e){e({type:"HIDE_MODAL"})}(n);else{!function(e){e({type:"HIDE_MODAL"})}(n);Q_((e="Something went wrong, could not delete orders at this time.",c.createElement("div",null,c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},e),c.createElement("div",{className:"modal-custom-button"},c.createElement(hx,{onClick:()=>window.location.reload()},"Reload")))))(n)}var e}},"Delete All")))):c.createElement(Iw,{top:148},c.createElement(Iw,null,c.createElement(hx,{onClick:t},"Back to orders page")))},Uwe=()=>ZT().buying_power,$we=u.div``,Bwe=u.div``,zwe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`,Vwe=u.div`
  margin-left: 12px;
  button {
    padding: 2px;

    b {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }
  }

  svg {
    height: 20px;
    width: 20px;
  }
`,Hwe=()=>{const e=b();return c.createElement(Vwe,null,c.createElement(hx,{onClick:()=>{e(Sn.build())}},c.createElement(wA,{thick:!0})))},Wwe=()=>{const e=Uwe();return c.createElement($we,null,c.createElement(Bwe,null,c.createElement(Ei,null,"Buying Power")),c.createElement(zwe,null,c.createElement(Ii,null,B_(e,tc)),c.createElement(Hwe,null)))},jwe=u.div`
  display: inline-block;
  position: relative;
`,Gwe=()=>{const{pendingEquityValue:e,pendingEquityReasons:t}=JN();return e>0?c.createElement(jwe,null,c.createElement(tS,null,c.createElement(Ei,null,"Pending Equity: "),c.createElement(u5,{value:e}),c.createElement(iS,{customMessage:t,style:{top:"2px",right:"-18px"},trackingMessage:"Pending Equity Reasons"}))):null},qwe=()=>{const e=ZT(),t=null==e?void 0:e.loading,n=e.has_membership,r=e.is_membership_active,i=e.membership_free_trade_count;if(n){const e=`You have ${i} commission-free ${fl(i,"trade")}.`;return c.createElement(Iw,{top:8,bottom:0},r&&c.createElement(Iw,{bottom:2},c.createElement(Ei,{bold:!0},"Membership Active"," - "),c.createElement(Ei,null,t?"Updating free trade count":e)))}if(n){const e=`You have ${i} commission-free ${fl(i,"trade")}.`;return c.createElement(Iw,{top:8,bottom:16},r&&c.createElement(Iw,{bottom:2},c.createElement(Ei,{bold:!0},"Membership Active")),c.createElement(Iw,null,c.createElement(Ei,null,t?"Updating free trade count":e)))}return null},Ywe=()=>{const e=QT();return ZT().requires_trade_approval&&e?c.createElement(Iw,{top:4},c.createElement("span",{className:"info-icon-text-wrapper"},c.createElement(Ei,null,"Note that your account is configured to require pre-clearance approval for all orders."),c.createElement(iS,{word:"tooltip_requires_trade_approval",style:{top:"auto",bottom:"1px"}}))):null},Kwe=()=>c.createElement(c.Fragment,null,c.createElement(Wwe,null),c.createElement(Gwe,null),c.createElement(qwe,null),c.createElement(Ywe,null)),Qwe=({ordersCount:e,isFromOptimizer:t,warnings:n,handleAcceptAllWarnings:r,handleWarningsCancel:i})=>{const[a,s]=c.useState(0),o=a+1,l=n.length,d=l>1,u=n[a],{message:h,type:p}=u,m=(({warningType:e,ordersCount:t,isFromOptimizer:n})=>{const r=1===t?"order":"orders",i=1===t?"it":"them";return{market_closed:n?`Click "Place Orders" if you want ${i} to be sent automatically when the market reopens. If the ${r} came from the Optimizer, consider re-running the Optimizer when the market is open instead.`:`Place the ${r} again if you want ${i} to be sent automatically when the market reopens.`}[e]||null})({warningType:p,ordersCount:e,isFromOptimizer:t}),g=(({warningType:e})=>({market_closed:"The market is open from 9:30am ET to 4pm ET on weekdays except holidays."}[e]||null))({warningType:p,ordersCount:e,isFromOptimizer:t});return c.createElement(c.Fragment,null,c.createElement(Iw,{flex:1,column:!0},d&&c.createElement(Iw,{bottom:24},c.createElement(Ei,{centered:!0},`${o} of ${l}`)),c.createElement(Iw,{top:8},c.createElement(fi,{centered:!0},h)),g&&c.createElement(Iw,{top:8},c.createElement(Ei,{centered:!0},g)),m&&c.createElement(Iw,{top:16},c.createElement(Ei,{centered:!0},m))),c.createElement(Iw,{top:24},c.createElement(Iw,null,c.createElement(hx,{fullWidth:!0,onClick:()=>{a+1===l?r(n):s((e=>e+1))}},"Place Orders")),c.createElement(Iw,{top:8},c.createElement(hx,{fullWidth:!0,onClick:()=>{i("warnings",n.map((e=>e.type)))},transparent:!0},"Cancel"))))},Zwe=()=>c.createElement("svg",{viewBox:"0 0 24 24"},c.createElement("path",{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})),Xwe=u.div`
  z-index: 99999;
  * {
    z-index: 99999;
  }
`,Jwe=h`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,eSe=u.div`
  animation: ${Jwe} 0.3s ease-out;

  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;

  background: ${({theme:e})=>e.themeColors.overlay};
  z-index: 99998;
`,tSe=({hide:e,children:t})=>e?t:c.createElement(c.Fragment,null,c.createElement(Xwe,null,t),c.createElement(eSe,null)),nSe=u.div``,rSe=u.div`
  svg {
    height: 64px;
    width: 64px;

    * {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,iSe=u.div`
  display: flex;
  flex-direction: column;
  min-height: 300px;
  justify-content: space-between;
`,aSe=u.div`
  display: flex;
  align-items: center;
  justify-content: center;

  svg {
    height: 28px;
    width: 28px;

    fill: ${({theme:e})=>e.themeColors.error};
  }
`,sSe=u.div`
  svg {
    fill: ${({theme:e})=>e.themeColors.positive} !important;
  }
`,oSe=u.div`
  h5 {
    line-height: 1.1;
  }
`,lSe="unsub",cSe="issub",dSe="accW",uSe="err",hSe="placedWithErrors",pSe="placed",mSe=({onComplete:e})=>{const t=P(),n=pwe(),[r,i]=c.useState(lSe),[a,s]=c.useState(null),[o,l]=c.useState(null),[d,u]=c.useState(null),[h,p]=c.useState(null),[m,g]=c.useState(null),[y,_]=c.useState(null);c.useEffect((()=>{Rb()(t)}),[]);const f=()=>{s(null),l(null),u(null),p(null),g(null),_(null),i(lSe)},v=async e=>{const{data:n,isPlaced:r,orders:a,withWarnings:s,withErrors:o,error:c}=e;return r?(l(a),await Cl(500),await Rb()(t),Xb()(t),ME()(t),void i(pSe)):o?(_(c),await Cl(500),await Rb()(t),Xb()(t),ME()(t),void i(hSe)):s?(p(n.warnings),void i(dSe)):(u(c),void i(uSe))},E=async()=>{e()},b=async()=>{e()},C=async()=>{i(cSe);const e=await Mb(a.map((e=>e.id)),h.map((e=>e.type)))(t);await v(e)},x=async e=>{s(e),g(e.some((e=>e.is_from_optimizer))),i(cSe);const n=await Mb(e.map((e=>e.id)))(t);await v(n)};return r===cSe?c.createElement(tSe,null,c.createElement(Lx,{width:"440px"},c.createElement(iSe,null,c.createElement(Iw,{flex:1,column:!0,centerAll:!0},c.createElement(Iw,{centerAll:!0},c.createElement(nSe,null,c.createElement(SM,{withLogo:!0}))),c.createElement(Iw,{top:16},c.createElement(Ei,{thin:!0},"Placing ",fl(a.length,"Order"))))))):r===pSe?c.createElement(tSe,null,c.createElement(Lx,{width:"440px"},c.createElement(Iw,null,c.createElement(iSe,null,c.createElement(Iw,null,c.createElement(sSe,null,c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(Iw,{top:4,right:12},c.createElement(rSe,null,c.createElement($i,null))),c.createElement(Iw,{centerAll:!0},c.createElement(oSe,null,c.createElement(Ii,null,"Orders Placed")),c.createElement(Iw,{top:3}))))))),c.createElement(Iw,{centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:E},"Continue")))):r===dSe?c.createElement(tSe,null,c.createElement(Lx,{width:"440px"},c.createElement(iSe,null,c.createElement(Qwe,{ordersCount:1,isFromOptimizer:m,warnings:h,handleAcceptAllWarnings:C,handleWarningsCancel:f})))):r===uSe?c.createElement(Lx,{width:"440px"},c.createElement(iSe,null,c.createElement(Iw,{fullWidth:!0},c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(aSe,null,c.createElement(Zwe,null)),c.createElement(Iw,{left:9,verticallyCenter:!0},c.createElement(Ii,null,"Orders not placed"))),c.createElement(Iw,{top:24,row:!0,centerAll:!0},c.createElement(Ei,null,d))),c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:f},"Dismiss")))):r===hSe?c.createElement(tSe,null,c.createElement(Lx,{width:"440px"},c.createElement(iSe,null,c.createElement(Iw,{top:24,horizontal:8},c.createElement(Iw,null,c.createElement(Iw,null,c.createElement(Ii,null,"Orders partially placed")),c.createElement(Iw,{top:4},c.createElement(Ei,null,"Some orders are not placed")))),c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:f},"Dismiss"))))):r===lSe?c.createElement(Lx,null,c.createElement(zEe,{securityIds:n.map((e=>e.security_id))}),c.createElement(iSe,null,c.createElement(Kwe,null),c.createElement(Iw,{top:24},c.createElement(Mwe,{onPlaceAll:x,onCancel:b})))):null},gSe=u.div``,ySe=()=>{const e=P(),t=XO(),{width:n}=jx(),r=D((e=>e.u_orders.placed_orders)),i=D((e=>e.u_orders.awaiting_approval_orders)),[a,s]=c.useState(!1),o=Yf(r)||i.length>0,l=()=>(Rb()(e),ME()(e)),d=()=>{s(!0),TC("Clicked Refresh Order Statuses",{})();const t=[Rb()(e),l()];Promise.all(t).then((e=>{s(!1)}))};return c.createElement(c.Fragment,null,c.createElement(nie,{isMobile:t,windowWidth:n,isRefreshing:a,showRefreshButton:o,handleRefresh:d,refreshUserData:l,ordersPlacedTodayList:r}),c.createElement(Jre,{isMobile:t,windowWidth:n,isRefreshing:a,showRefreshButton:o,handleRefresh:d,refreshUserData:l,ordersAwaitingApprovalList:i}))},_Se=()=>{const e=P(),[t,n]=F(),r=pwe().length>0,[i,a]=c.useState(!1),[s,o]=c.useState(!1),l=s||"1"===t.get("cart");c.useEffect((()=>{Rb()(e),Hb()(e),th.orders.VIEW_TRADE_PAGE.send(),document.title=`${Xo} - Trade`}),[]),c.useEffect((()=>{"1"===t.get("oo")&&(a(!0),n({}))}),[t]),c.useEffect((()=>{var r,i;[dve.buy,dve.sell].includes(t.get("operation"))&&(r=t.get("operation"),i=t.get("security_id"),PE({type:Rl,props:{transactionType:r,securityId:i,isFromOptimizer:!1}})(e),TC("Order Form Opened From URL",{Operation:r,"Security ID":i})(),n({}))}),[t]);const d=()=>{a(!1),o(!0)},u=()=>{a(!1),o(!1),n({})},h=()=>{a(!1),o(!1),n({})};return i?c.createElement(Ewe,{onComplete:d,onCancel:h}):l?c.createElement(mSe,{onComplete:u}):c.createElement(Lx,null,c.createElement(gSe,null,c.createElement(Kwe,null),c.createElement(Iw,{top:24},c.createElement(ywe,null)),r&&c.createElement(Iw,{top:48,bottom:28},c.createElement(hx,{onClick:()=>{o(!0)}},"Continue Optimizer Trading")),c.createElement(ySe,null),c.createElement(Qre,null)))},fSe=u.div`
  textarea {
    height: 400px;
    width: 100%;
    border: 2px solid ${({theme:e})=>e.themeColors.text} !important;
    border-radius: 5px;
  }
`,vSe=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.text} !important;
  }
`,ESe=(e,t)=>{let n={};const{children:r,innerText:i,nodeName:a,style:s}=e;if((null==r?void 0:r.length)>0)r.forEach((e=>ESe(e,t)));else{if("SPAN"===a){n.text=i;"700"===s.fontWeight&&(n.bold=!0)}"BR"===a&&(n.lineBreak=!0),t.push(n)}},bSe=(e,t)=>{if((e=>{var t,n;return null==(t=e.children)||t.length,(null==(n=e.children)?void 0:n.length)>0})(e)){e.children.forEach((e=>{bSe(e,t)}))}else((e,t)=>{const{innerText:n}=e;if("Slide"===(r=n).slice(0,5)&&":"===r.slice(7,8))t.push([]);else{const n=t[t.length-1];n&&n.push(e)}var r})(e,t)},CSe=e=>{const t=[];return e.forEach((e=>{const n={body:[]},r=e.body;r.forEach(((e,t)=>{(0!==t||e.text)&&(t!==r.length-1||e.text)&&n.body.push(e)})),t.push(n)})),t},xSe=({onChange:e,key:t})=>{const[n,r]=c.useState(!1),[i,a]=c.useState(null),[s,o]=c.useState(""),l=e=>{const t=document.createElement("html");t.innerHTML=e,a(e);const n=(e=>{const t=e.children[1].children;if("B"===t[0].tagName)return t[0].children;return t})(t),r=[];return(e=>{const t=[];return e.forEach((e=>{bSe(e,t)})),t})(n).forEach(((e,t)=>{r.push({body:[]}),e.forEach((e=>{ESe(e,r[t].body)}))})),r};return c.createElement(Iw,{fullWidth:!0},c.createElement(Iw,{top:8},c.createElement(hx,{onClick:()=>{const t=l('<meta charset=\'utf-8\'><meta charset="utf-8"><b style="font-weight:normal;" id="docs-internal-guid-2652e261-7fff-32f1-eba4-c78f260e2c8c"><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:underline;-webkit-text-decoration-skip:none;text-decoration-skip-ink:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Slide 1:</span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br /></span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Risk management is the process of </span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">identifying, analyzing, and mitigating</span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> the potential risks and uncertainties that can impact an investment.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:underline;-webkit-text-decoration-skip:none;text-decoration-skip-ink:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Slide 2:</span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br /></span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">This is an important consideration for investors who are picking stocks, as it can help them understand the </span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">potential risks and rewards</span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> of a particular investment and make more informed decisions about how to manage those risks.</span></p><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:underline;-webkit-text-decoration-skip:none;text-decoration-skip-ink:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Slide 3:</span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br /></span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">When it comes to picking stocks, risk management involves identifying the potential risks that a particular stock or investment may face, such as </span><span style="font-size:11pt;font-family:Arial;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">market volatility, economic downturns, or changes in industry conditions.</span></b>'),n=CSe(t);e(bbe.contents,JSON.stringify(n)),o(JSON.stringify(n))}},"Run Debug")),c.createElement(Iw,{top:24,bottom:8},c.createElement(Ei,null,"Lesson Content")),c.createElement("textarea",{onPaste:t=>{const n=t.clipboardData.getData("text/html"),r=l(n),i=CSe(r);e(bbe.contents,JSON.stringify(i)),o(JSON.stringify(i))},onChange:e=>{},value:s}),c.createElement(Iw,{top:8},c.createElement(hx,{transparent:!0,onClick:()=>r(!0)},"Show Rich Text")),n&&c.createElement(vSe,null,null==i?void 0:i.toString()))},wSe=()=>{const[e,t]=c.useState(null);return c.createElement(fSe,null,c.createElement(Lx,{width:"1850px"},c.createElement(Iw,null,e&&c.createElement(Iw,{bottom:24},c.createElement(Iw,{bottom:8},c.createElement(vi,null,"Output:")),c.createElement(Iw,null,("string"==typeof e?JSON.parse(e):e).map(((e,t)=>c.createElement(Iw,{key:t,top:8},c.createElement(Ei,null,JSON.stringify(e))))))),c.createElement(Iw,{flex:1},c.createElement(xSe,{onChange:(e,n)=>{t(n)},key:"k"})))))},SSe=u.div`
  padding-top: 24px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  > div {
    width: 100%;

    :first-child {
      padding-right: 8px;
    }
    :last-child {
      padding-left: 8px;
    }
  }
  button {
    width: 100%;
  }
`,kSe=u.div`
  padding-left: 5px;

  width: calc(60% - 40px);

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  font-size: 12px;
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,TSe=({securityId:e,onSelect:t})=>{const{name:n,symbol:r}=IH(e);return c.createElement(Lx,{width:"400px"},c.createElement(Iw,{row:!0,style:{alignItems:"baseline"}},c.createElement(Ii,null,r),c.createElement(kSe,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},n))),c.createElement(SSe,null,c.createElement(hx,{onClick:()=>{t(dve.buy)}},"Buy"),c.createElement(hx,{onClick:()=>{t(dve.sell)}},"Sell")))},ISe=()=>c.createElement("svg",{viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M14.1673 6.16671H4.02565L8.68398 1.50837L7.50065 0.333374L0.833984 7.00004L7.50065 13.6667L8.67565 12.4917L4.02565 7.83337H14.1673V6.16671Z"})),NSe=u.div`
  position: relative;
  display: flex;
  padding-top: 24px;
  min-height: 320px;

  overflow: auto;
`,ASe=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
`,PSe=u.div`
  position: relative;
`,DSe=u.div`
  position: absolute;
  top: 20px;
  right: -4px;
  bottom: -0px;
  left: -4px;
  z-index: 1;
  background: ${({theme:e})=>e.themeColors.overlay};
  border-radius: 2px;

  display: flex;
  flex: 1;
  flex-direction: row;
  align-items: center;
  justify-content: center;

  svg {
    height: 48px;
    width: 48px;
  }
`,OSe=u.div`
  cursor: pointer;
  display: flex;
  padding-top: 4px;
  svg {
    height: 20px;
    width: 20px;
    fill: ${({theme:e})=>e.themeColors.text};
  }
`,LSe=u.div``,RSe=u.div`
  display: flex;
  flex-direction: row;
  height: 40px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.border};
  align-items: center;
  justify-content: space-between;
  padding: 0 8px;
`,FSe=({onDismiss:e})=>c.createElement(LSe,null,c.createElement(OSe,{onClick:e},c.createElement(ISe,null))),MSe=({symbol:e,displayLastPrice:t,lastPriceSize:n,bidSize:r,displayBidPrice:i,askSize:a,displayAskPrice:s})=>c.createElement(Iw,null,c.createElement(Iw,null,c.createElement(Ii,null,`${e} Pricing`)),c.createElement(Iw,{top:6},"Last Price is provided by NASDAQ's real-time last sale feed."),c.createElement(PSe,null,t?null:c.createElement(DSe,null,c.createElement(SM,null)),c.createElement(Iw,{top:16},c.createElement(RSe,null,c.createElement(fi,null,"Last Price "),t?c.createElement(Iw,null,c.createElement(fi,null,t),c.createElement(Ci,{isLowContrast:!1}," QTY "),c.createElement(fi,null,lc(nc,n))):c.createElement(Iw,null)),c.createElement(RSe,null,c.createElement(tS,null,c.createElement(fi,null,"Bid"),c.createElement(iS,{word:ON,style:{top:"4px",right:"-18px"}})),i?c.createElement(Iw,null,c.createElement(fi,null,`${i}`),c.createElement(Ci,{isLowContrast:!1}," QTY "),c.createElement(fi,null,lc(nc,r))):c.createElement(Iw,null)),c.createElement(RSe,null,c.createElement(tS,null,c.createElement(fi,null,"Ask"),c.createElement(iS,{word:ON,style:{top:"4px",right:"-18px"}})),s?c.createElement(Iw,null,c.createElement(fi,null,`${s}`),c.createElement(Ci,{isLowContrast:!1}," QTY "),c.createElement(fi,null,lc(nc,a))):c.createElement(Iw,null)))),c.createElement(Iw,{top:16},c.createElement(Ei,null,"Bid / Ask is aggregated and delayed 15 minutes."))),USe=({securityId:e,onDismiss:t})=>{const n=P(),[r,i]=c.useState(!1),[a,s]=c.useState(!1),o=D((e=>e.securitiesOrderPrice)),{symbol:l}=IH(e),d=async()=>{const t=[e],r=await Promise.all([yC(t)(n),fC(t)(n)]);200===r[0].status&&200===r[1].status?(a&&s(!1),i(!0)):s(!0)},u=()=>{d()};if(c.useEffect((()=>{d()}),[]),a)return c.createElement(Lx,{width:"440px"},c.createElement(FSe,{onDismiss:t}),c.createElement(NSe,null,c.createElement(Iw,null,c.createElement(fi,null,"Something went wrong getting the pricing data, please try again."),c.createElement(Iw,{top:24},c.createElement(hx,{onClick:u},"Retry")))),c.createElement(ASe,null,c.createElement(sx,{fullWidth:!0,onClick:t},"Go Back")));if(!r)return c.createElement(Lx,{width:"440px"},c.createElement(FSe,{onDismiss:t}),c.createElement(NSe,null,c.createElement(MSe,{symbol:l})),c.createElement(ASe,null,c.createElement(sx,{fullWidth:!0,onClick:t},"Go Back")));const h=e=>"$"+hk(e,{minimumFractionDigits:2,maximumFractionDigits:2}),p=o.securities[e],m=h(p.last_price),g=p.last_size,y=p.bid_price,_=p.bid_size,f=h(y),v=p.ask_price,E=p.ask_size,b=h(v);return c.createElement(Lx,{width:"440px"},c.createElement(FSe,{onDismiss:t}),c.createElement(NSe,null,c.createElement(MSe,{symbol:l,displayLastPrice:m,lastPriceSize:g,bidSize:_,displayBidPrice:f,askSize:E,displayAskPrice:b})),c.createElement(ASe,null,c.createElement(sx,{fullWidth:!0,onClick:t},"Go Back")))},$Se=e=>{if(!e)return null;const{is_short_allowed:t,is_halted:n}=e;return{is_short_allowed:t,is_halted:n}},BSe=e=>{const t=D((t=>t.securitiesPrice.securities[e])),[n,r]=c.useState($Se(t));return c.useEffect((()=>{!((e,t)=>{if(!e&&!t)return!1;if(!e)return!0;const{is_short_allowed:n,is_halted:r}=$Se(e),{is_short_allowed:i,is_halted:a}=$Se(t);return n===i&&r===a})(n,t)&&n||r($Se(t))}),[t,e]),n},zSe=u.a`
  color: ${({theme:e})=>e.themeColors.primaryCtaButton};
`,VSe=({children:e})=>c.createElement(zSe,{href:qge.EMAIL.HREF},e||qge.EMAIL.LINK_TEXT);var HSe=Object.defineProperty,WSe=(e,t,n)=>(((e,t,n)=>{t in e?HSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const jSe=10..toFixed(0),GSe="You cannot sell this instrument short because it is not easy to borrow.",qSe="Stop price can't be greater than last price",YSe="Stop price can't be less than last price",KSe={SHORT_SELLING_WITH_BUY_IDEA_WARNING:"You currently have a buy idea for this stock.",GOING_LONG_WITH_SELL_IDEA_WARNING:"You currently have a sell idea for this stock.",STOP_PRICE_OUTSIDE_THRESHOLD_LAST_PRICE:`Your stop price is more than ${jSe}% away from the last price.`,STOP_PRICE_OUTSIDE_THRESHOLD_LIMIT_PRICE:`Your stop price is more than ${jSe}% away from your limit price.`,LIMIT_PRICE_OUTSIDE_THRESHOLD_LAST_PRICE:`Your limit price is more than ${jSe}% away from the last price.`};const QSe=new class{constructor(){WSe(this,"isOrderOperationBuying",(e=>dve.buy===e.transactionType)),WSe(this,"isOrderOperationSelling",(e=>dve.sell===e.transactionType)),WSe(this,"getLimitPriceFromOrder",(e=>e.limitPrice)),WSe(this,"getStopPriceFromOrder",(e=>e.stopPrice)),WSe(this,"isOrderALimitOrderType",(e=>e.orderType===uve.limit)),WSe(this,"isOrderAStopOrderType",(e=>e.orderType===uve.stop)),WSe(this,"isOrderAStopLimitOrderType",(e=>e.orderType===uve.stopLimit)),WSe(this,"isShortSelling",(({order:e,currentShares:t})=>this.isOrderOperationSelling(e)&&t<=0)),WSe(this,"didFailShortSellValidation",(({order:e,isShortAllowed:t,currentShares:n})=>this.isShortSelling({order:e,currentShares:n})&&!t)),WSe(this,"didFailBuyingStopPriceValidation",(({order:e,currentPrice:t})=>{const n=this.isOrderOperationBuying(e),r=this.isOrderAStopOrderType(e),i=this.getStopPriceFromOrder(e);return!(!n||!r||""===i||0===t)&&i<t})),WSe(this,"didFailSellingStopPriceValidation",(({order:e,currentPrice:t})=>{const n=this.isOrderOperationSelling(e),r=this.isOrderAStopOrderType(e),i=this.getStopPriceFromOrder(e);return!(!n||!r||""===i||0===t)&&i>t})),WSe(this,"generateOrderValidationWarnings",(({order:e,idea:t,currentShares:n})=>{var r,i;const a=0===Math.abs(n),s=0===(null==(r=null==t?void 0:t.idea_type)?void 0:r.id),o=1===(null==(i=null==t?void 0:t.idea_type)?void 0:i.id),{shares:l,transactionType:c}=e,d=(""===l?0:parseInt(l,10))>0,u=[];return d&&c===dve.buy&&o&&a&&u.push(KSe.GOING_LONG_WITH_SELL_IDEA_WARNING),d&&c===dve.sell&&s&&a&&u.push(KSe.SHORT_SELLING_WITH_BUY_IDEA_WARNING),u})),WSe(this,"generateOrderValidationErrors",(({order:e,isShortAllowed:t,currentShares:n,currentPrice:r})=>{const i=[],a=(e,t)=>Math.abs(((e,t)=>(e-t)/t)(e,t))>.1,s=this.getLimitPriceFromOrder(e),o=this.getStopPriceFromOrder(e),l=""!==s,c=""!==o,d=this.isOrderAStopOrderType(e),u=this.isOrderAStopLimitOrderType(e),h=this.isOrderALimitOrderType(e);return c&&(d||u)&&a(o,r)&&i.push(["stopPrice",KSe.STOP_PRICE_OUTSIDE_THRESHOLD_LAST_PRICE]),l&&(h||u)&&a(s,r)&&i.push(["limitPrice",KSe.LIMIT_PRICE_OUTSIDE_THRESHOLD_LAST_PRICE]),this.didFailShortSellValidation({order:e,isShortAllowed:t,currentShares:n})&&i.push(["transactionType",GSe]),this.didFailBuyingStopPriceValidation({order:e,currentPrice:r})&&i.push(["stopPrice",YSe]),this.didFailSellingStopPriceValidation({order:e,currentPrice:r})&&i.push(["stopPrice",qSe]),i})),WSe(this,"fieldHasValue",((e,t)=>{if(""===t)return!1;if(["shares","dollarAmount","limitPrice","stopPrice"].includes(e)){if(0===parseFloat(t))return!1}return!0})),WSe(this,"fieldHasNonZeroValue",((e,t)=>{if(["shares","dollarAmount","limitPrice","stopPrice"].includes(e)){if(0===parseFloat(t))return!1}return!0})),WSe(this,"getMissingOrInvalidFields",(e=>{const{orderType:t,orderValueType:n}=e,r=["transactionType","orderType"];n===hve.shares?r.push("shares"):r.push("dollarAmount"),t!==uve.limit&&t!==uve.stopLimit||r.push("limitPrice"),t!==uve.stop&&t!==uve.stopLimit||r.push("stopPrice");return r.map((t=>{const n=e[t];if(!this.fieldHasValue(t,n))return[t,"Required"];return this.fieldHasNonZeroValue(t,n)?[t,null]:[t,"Cannot be 0"]})).filter((e=>{const[t,n]=e;return!!n}))}))}},ZSe="uf",XSe="st",JSe="ssa",eke={transactionType:"",orderType:uve.market,orderValueType:hve.shares,shares:"",dollarAmount:"",limitPrice:"",stopPrice:"",touched:[],didAttemptSubmit:!1};function tke(e,t){switch(t.type){case ZSe:{const n=t.payload;return o(o({},e),n)}case XSe:{const n=t.payload,r=e.touched.includes(n)?e.touched:[...e.touched,n];return l(o({},e),{touched:r})}case JSe:return l(o({},e),{didAttemptSubmit:!0});default:throw new Error}}const nke=u.div`
  padding-left: 5px;

  width: calc(60% - 40px);

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  font-size: 12px;
  color: ${({theme:e})=>e.themeColors.secondaryText};
`,rke=u.div`
  padding: 24px 24px;
  width: 100%;

  select {
    cursor: pointer;
    appearance: auto;
  }
  input {
    cursor: text;
  }
  select,
  input {
    box-sizing: content-box;
    border: none;
    background: ${({theme:e})=>e.themeColors.appBackground};
    border-radius: 4px;
  }

  @media (max-width: 430px) {
    padding: 16px;
  }
  @media (max-width: 340px) {
    padding: 8px;
  }
`,ike=u.select`
  width: 86px;
  font-size: 24px;
  line-height: 28px;
  font-weight: 800;
  padding: 6px 8px;
  margin-left: -2px;
`,ake=u.select`
  width: 126px;
  font-size: 14px;
  line-height: 18px;
  font-weight: 800;
  padding: 6px 8px;
`,ske=u.div`
  position: relative;
  input {
    padding-left: 22px;
  }
`,oke=u.div`
  position: absolute;
  top: 0px;
  bottom: 0px;
  left: 6px;
  font-size: 15px;
  line-height: 18px;
  display: flex;
  align-items: center;
`,lke=u.input`
  width: 120px;
  text-align: right;
  padding: 6px 8px;

  // hide up/down arrows
  ::-webkit-outer-spin-button,
  ::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* Firefox */
  [type='number'] {
    -moz-appearance: textfield;
  }
`,cke=u.label`
  flex: 1;
`,dke=u.div`
  padding: 24px 0 0 0;

  > div {
    width: 100% !important;
    max-width: 100% !important;
  }

  button {
    width: 100% !important;
    max-width: 100% !important;
  }
`,uke=u.div`
  button {
    padding: 2px 0px;
  }
`,hke=u.div`
  height: 42px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  //border: 1px solid red; // debug
`,pke=u.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  //
`,mke=u.div`
  display: inline-block;
  cursor: pointer;
  ${({theme:e,isActive:t})=>t?`border-bottom: 1px solid ${e.themeColors.primaryCtaButton};`:""}

  * {
    color: ${({theme:e,isActive:t})=>t?e.themeColors.primaryCtaButton:e.themeColors.text};
  }
`,gke=u.div`
  padding: 16px;
  border-bottom: 1px solid ${({theme:e})=>e.themeColors.appBackground};
`,yke=u.div`
  button {
    padding: 4px 0px 5px 8px;
  }
`,_ke=({item:e,onChange:t,isActive:n})=>{const{label:r,value:i}=e;return c.createElement(mke,{onClick:()=>{t(i)},isActive:n},c.createElement(Ei,null,r))},fke=({items:e,value:t,onChange:n})=>c.createElement(pke,null,c.createElement(_ke,{item:e[0],onChange:n,isActive:t===e[0].value}),c.createElement(Ei,null," ","/"," "),c.createElement(_ke,{item:e[1],onChange:n,isActive:t===e[1].value}));function vke(e){const{shares:t,dollarAmount:n,limitPrice:r,stopPrice:i}=e;return{shares:""===t?0:parseFloat(t),dollarAmount:""===n?0:parseFloat(n),limitPrice:""===r?0:parseFloat(r),stopPrice:""===i?0:parseFloat(i)}}const Eke=u.div`
  padding: 0 4px 0 0;
  display: flex;
  align-items: center;

  svg {
    height: 18px;
    width: 18px;
  }
  fill: ${({theme:e})=>e.themeColors.warning};
`,bke=u.div`
  text-align: ${({leftAlign:e})=>e?"left":"right"};
  padding: 0;
  * {
    text-align: right;
    color: ${({theme:e})=>e.themeColors.error};
  }
`,Cke=u.div`
  select,
  input {
    border: 3px solid ${({theme:e})=>e.themeColors.error};
  }
`,xke=({field:e,formErrors:t,children:n,leftAlign:r})=>{const i=t[e];return i?c.createElement(Cke,null,n,c.createElement(bke,{leftAlign:r},c.createElement(Ci,null,i))):n},wke=({securityId:e,initFormData:t,onSubmit:n,isFromOptimizer:r})=>{const i=P();b();const[a,s]=c.useReducer(tke,eke,(()=>((e={})=>{const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;r&&(t[n]=r)})),o(o({},eke),t)})(t))),[l,d]=c.useState(!1),[u,h]=c.useState(null),[p,m]=c.useState({}),[g,y]=c.useState(!1),_=eI(),f=BSe(e),v=IH(e),{symbol:E,name:C,is_fractional_allowed:x,featured:w,exchange:S}=v,k=!S||w,T=((e,t)=>{const n=D((e=>e.ideas.ideaList)),r=tX(n,e),[i,a]=c.useState(r.filter((e=>e.security.id===t))[0]||null);return c.useEffect((()=>{const r=tX(n,e);a(r.filter((e=>e.security.id===t))[0]||null)}),[n,e]),i})(_,e),I=p$(e),N=(null==I?void 0:I.shares)||0,{price:A}=iM(e),O=Uwe(),L=QT(),{membership_free_trade_count:R}=ZT(),F={isShortAllowed:null==f?void 0:f.is_short_allowed,isHalted:null==f?void 0:f.is_halted,isFractionalAllowed:x},M=[uve.stop,uve.stopLimit],U=async e=>{const t=await mC([e])(i);(null==t?void 0:t.securities[0])||y(!0)};c.useEffect((()=>{TC("Manual Trade Panel Open",{"Using Basket":r,"Security ID":e,"Stock Symbol":E})()}),[]),c.useEffect((()=>{S||U(e)}),[e]),c.useEffect((()=>{M.includes(a.orderType)&&a.orderValueType===hve.dollars&&s({type:ZSe,payload:{orderValueType:hve.shares}})}),[a]);const $=()=>{U(e)},{transactionType:B,orderValueType:z,orderType:V,shares:H,dollarAmount:W,limitPrice:j,stopPrice:G}=a,q=function({state:e,price:t,commissionFee:n}){const{transactionType:r,orderValueType:i,orderType:a}=e,{shares:s,dollarAmount:o,limitPrice:l,stopPrice:c}=vke(e),d=r===dve.buy?1:-1;if(i===hve.dollars)return d*o;const u=d*((n||0)+(a===uve.limit?l:a===uve.stop?c:t)*s);return isNaN(u)?0:u}({state:a,price:A}),Y=function({state:e,currentShares:t,price:n}){if(0===t)return 1;const{transactionType:r,orderValueType:i}=e,{shares:a,dollarAmount:s}=vke(e),o=(r===dve.buy?1:-1)*(i===hve.shares?a:n/s);return r===dve.buy&&t<0||r===dve.sell&&t>0?Math.abs(o)>Math.abs(t)?2:1:void 0}({state:a,currentShares:N,price:A}),K=R>=Y?0:4.5*Y,Q=K>0,Z=()=>{d(!1)},X=e=>()=>h(e),J=e=>()=>{s({type:XSe,payload:e}),h(null)};if(l)return c.createElement(USe,{securityId:e,onDismiss:Z});if(!k)return c.createElement(Lx,{width:"440px",noPadding:!0},!L&&c.createElement(gke,null,c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),c.createElement(rke,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Iw,{bottom:2,fullWidth:!0},c.createElement(Iw,{row:!0,style:{alignItems:"baseline"}},c.createElement(Ii,null,E),c.createElement(nke,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},C))))),c.createElement(Iw,{top:16},c.createElement(fi,null,"This instrument is not currently available to trade")),Math.abs(N>0)?c.createElement(Iw,{top:16},c.createElement(fi,null,"To exit your position, please email ",c.createElement(VSe,null),".")):null));if(null==F?void 0:F.isHalted)return c.createElement(Lx,{width:"440px",noPadding:!0},!L&&c.createElement(gke,null,c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),c.createElement(rke,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Iw,{bottom:2,fullWidth:!0},c.createElement(Iw,{row:!0,style:{alignItems:"baseline"}},c.createElement(Ii,null,E),c.createElement(nke,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},C))))),c.createElement(Iw,{top:16},c.createElement(fi,null,"Trading in this security is currently halted by the exchange."))));const ee=Object.entries(p).length?"Please fix required fields before submitting.":null,te=QSe.generateOrderValidationWarnings({order:a,idea:T,currentShares:N});return g&&!S?c.createElement(Lx,{width:"440px",noPadding:!0},c.createElement(Iw,{top:24,centerAll:!0},c.createElement(fi,null,"Unable to load this security. Please try again.")),c.createElement(Iw,{row:!0,centerAll:!0,top:48},c.createElement(hx,{fullWidth:!0,onClick:$},"Retry"))):c.createElement(Lx,{width:"440px",noPadding:!0},!L&&c.createElement(gke,null,c.createElement(Dx,{message:"This is a simulated account - no real money is at risk."})),c.createElement(rke,null,c.createElement(xke,{field:"transactionType",formErrors:p,leftAlign:!0},c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(ike,{onChange:e=>{const t=e.target.value;[dve.buy,dve.sell].includes(t)&&s({type:ZSe,payload:{transactionType:t}})},value:B},c.createElement("option",{key:"buy",value:dve.buy},"BUY"),c.createElement("option",{key:"sell",value:dve.sell},"SELL")),c.createElement(Iw,{left:12,bottom:2,fullWidth:!0},c.createElement(Iw,{row:!0,style:{alignItems:"baseline"}},c.createElement(Ii,null,E),c.createElement(nke,null,c.createElement(Ei,{thin:!0,isLowContrast:!0},C)))))),c.createElement(Iw,{top:16}),c.createElement(xke,{field:z===hve.shares?"shares":"dollarAmount",formErrors:p},c.createElement(hke,null,c.createElement(cke,null,(null==F?void 0:F.isFractionalAllowed)&&!M.includes(V)?c.createElement(fke,{onChange:e=>{[hve.dollars,hve.shares].includes(e)&&s({type:ZSe,payload:{orderValueType:e}})},value:z,items:[{label:"Shares",value:hve.shares},{label:"Dollars",value:hve.dollars}]}):c.createElement(tS,null,c.createElement(Ei,null,"Shares"),c.createElement(iS,{word:M.includes(V)?RN:LN,style:{top:"2px",right:"-16px"}}))),z!==hve.shares&&(null==F?void 0:F.isFractionalAllowed)?c.createElement(ske,null,c.createElement(lke,{type:"number",name:"dollarAmount",onFocus:X("dollarAmount"),onBlur:J("dollarAmount"),onChange:e=>{const t=gc(a.dollarAmount,e.target.value,{[pc]:!0}),n={[cc]:!0,[uc]:!0};yc(a.dollarAmount,t,n)&&s({type:ZSe,payload:{dollarAmount:t}})},value:W,autoFocus:!0}),c.createElement(oke,null,"$")):c.createElement(lke,{type:"number",name:"shares",onFocus:X("shares"),onBlur:J("shares"),onChange:e=>{const t=gc(a.shares,e.target.value,{[pc]:!0}),n=x?{[cc]:!0,[hc]:5}:{[cc]:!0,[dc]:!0};yc(a.shares,t,n)&&s({type:ZSe,payload:{shares:t}})},value:H,autoFocus:!0}))),Math.abs(N)>0?c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Current Shares")),c.createElement(uke,null,lc(ac,N))):null,Math.abs(N)>0&&B===dve.buy&&N<0||B===dve.sell&&N>0?c.createElement(hke,null,c.createElement(cke,null),c.createElement(uke,null,c.createElement(yke,null,c.createElement(hx,{transparent:!0,onClick:()=>{TC("Clicked Sell All Shares",{"Using Basket":r,"Security ID":e,"Stock Symbol":E})(),s({type:ZSe,payload:{orderValueType:hve.shares,shares:Math.abs(N)}})}},N<0?"Cover All":"Sell All")))):null,c.createElement(hke,null,c.createElement(cke,null,c.createElement(tS,null,c.createElement(Ei,null,"Order Type"),c.createElement(iS,{word:L?DN:FN,style:{top:"2px",right:"-17px"}}))),c.createElement(ake,{onChange:e=>{const t=e.target.value;[uve.market,uve.limit,uve.stop,uve.stopLimit].includes(t)&&s({type:ZSe,payload:{orderType:t}})},value:V,style:{width:"88px"}},c.createElement("option",{key:"market",value:uve.market},"Market"),c.createElement("option",{key:"limit",value:uve.limit,disabled:!L},"Limit"),c.createElement("option",{key:"stop",value:uve.stop,disabled:!L},"Stop"),c.createElement("option",{key:"stop_limit",value:uve.stopLimit,disabled:!L},"Stop Limit"))),[uve.limit,uve.stopLimit].includes(V)?c.createElement(xke,{field:"limitPrice",formErrors:p},c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Limit Price")),c.createElement(ske,null,c.createElement(lke,{type:"number",name:"limitPrice",onFocus:X("limitPrice"),onBlur:J("limitPrice"),onChange:e=>{const t=gc(a.limitPrice,e.target.value,{[pc]:!0,[mc]:!0}),n={[cc]:!0,[hc]:4};yc(a.limitPrice,t,n)&&s({type:ZSe,payload:{limitPrice:t}})},value:j}),c.createElement(oke,null,"$")))):null,[uve.stop,uve.stopLimit].includes(V)?c.createElement(xke,{field:"stopPrice",formErrors:p},c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Stop Price")),c.createElement(ske,null,c.createElement(lke,{type:"number",name:"stopPrice",onFocus:X("stopPrice"),onBlur:J("stopPrice"),onChange:e=>{const t=gc(a.stopPrice,e.target.value,{[pc]:!0,[mc]:!0}),n={[cc]:!0,[hc]:4};yc(a.stopPrice,t,n)&&s({type:ZSe,payload:{stopPrice:t}})},value:G}),c.createElement(oke,null,"$")))):null,c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Current Price")),c.createElement(uke,null,lc(tc,A))),c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null," ")),c.createElement(uke,null,c.createElement(hx,{transparent:!0,onClick:()=>{d(!0)}},"More Pricing"))),c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Buying Power")),c.createElement(uke,null,lc(tc,O))),c.createElement(hke,null,c.createElement(cke,null,c.createElement(Ei,null,"Estimated Value")),c.createElement(uke,null,lc(tc,q))),Q?c.createElement(hke,null,c.createElement(cke,null,Y>1?c.createElement(tS,null,c.createElement(Ei,null,"Commission Fee"),c.createElement(iS,{word:B===dve.sell?"tooltip_order_form_sec_rule_for_short_sale":"tooltip_order_form_sec_rule_for_long_sale",style:{top:"2px",right:"-17px"}})):c.createElement(Ei,null,"Commission Fee")),c.createElement(uke,null,lc(tc,K))):null,c.createElement(dke,null,te.length>0?te.map((e=>c.createElement(Iw,{key:e,bottom:8,centerAll:!0},c.createElement(Eke,null,c.createElement(Zwe,null)),c.createElement(Ei,null,e)))):null,ee&&c.createElement(Iw,{bottom:8},c.createElement(bke,{style:{textAlign:"center"}},c.createElement(Ei,null,ee))),c.createElement(hx,{fullWidth:!0,onClick:()=>{s({type:JSe});const t=((e,t,n)=>{const{price:r,currentShares:i,isShortAllowed:a}=t;let s={};return QSe.generateOrderValidationErrors({order:e,currentShares:i,currentPrice:r,isShortAllowed:a}).forEach((e=>{const[t,n]=e;s[t]=n})),QSe.getMissingOrInvalidFields(e).forEach((e=>{const[t,n]=e;s[t]=n})),s})(a,{price:A,currentShares:N,isShortAllowed:null==F?void 0:F.isShortAllowed});if(Object.entries(t).length)return TC("Submitted Invalid Order Form",{"Using Basket":r,Errors:Object.values(t)})(),void m(t);n(e,a)}},"Submit"))))},Ske=u.div``,kke=u.div`
  svg {
    height: 64px;
    width: 64px;

    * {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,Tke=u.div`
  display: flex;
  flex-direction: column;
  min-height: 300px;
  min-width: 300px;
  justify-content: space-between;
`,Ike=u.div`
  display: flex;
  align-items: center;
  justify-content: center;

  svg {
    height: 28px;
    width: 28px;

    fill: ${({theme:e})=>e.themeColors.error};
  }
`,Nke=u.div`
  svg {
    fill: ${({theme:e})=>e.themeColors.positive} !important;
  }
`,Ake=u.div`
  h5 {
    line-height: 1.1;
  }
`,Pke=u.div`
  width: 100%;

  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;
  padding: 0 8px;

  border-bottom: 1px solid ${({theme:e})=>e.themeColors.lowContrastBorder};
`,Dke="unsub",Oke="issub",Lke="accW",Rke="err",Fke="placed",Mke="postTrade",Uke=({id:e})=>{const t=P(),{isOpen:n}=WN(),r=eie(e);return c.useEffect((()=>{let e=null;const i=(null==r?void 0:r.filled_shares)===(null==r?void 0:r.shares);return n&&!i&&(e=setInterval((()=>{Rb()(t)}),1e3)),()=>{clearInterval(e)}}),[r,n]),c.useEffect((()=>{(null==r?void 0:r.filled_shares)>0&&ME()(t)}),[r]),r?c.createElement(Iw,{column:!0,centerAll:!0,fullWidth:!0},c.createElement(Pke,null,c.createElement(_i,{thin:!0},"Filled:"),c.createElement(Iw,null,c.createElement(_i,{thin:!0},r.filled_shares," ","/"),c.createElement(_i,{thin:!0}," ",r.shares," sh"))),r.filled_shares>0?c.createElement(Pke,null,c.createElement(_i,{thin:!0},"Avg. Fill Price:"),c.createElement(Iw,null,c.createElement(_i,{thin:!0},lc(tc,r.average_fill_price)))):null):null},$ke=({securityId:e,initFormData:t,isFromOptimizer:n,onComplete:r,inModal:i})=>{const a=P(),s=b(),{symbol:d}=IH(e),u=oI(),[h,p]=c.useState(Dke),[m,g]=c.useState(null),[y,_]=c.useState(null),[f,v]=c.useState(null),[E,C]=c.useState(null),x=()=>{g(null),_(null),v(null),C(null),p(Dke)},w=()=>{r?r():s(on.build())},S=()=>{p(Mke)},k=async(t,r,i)=>{const{data:s,isPlaced:o,order:l,withWarnings:c,error:u}=t;if(o){_([l]),p(Fke);const t={"Using Basket":n,"From Optimizer":n,"Order Creation Type":"Manual","Security ID":e,"Security Symbol":d};return TC("Create Manual Trade",t)(),void th.orders.PLACED_TRADE.send(t)}return c?(C(s.warnings),void p(Lke)):"User already has an order for this security"===u?(await zb()(a),void(async(e,t)=>{p(Oke);const n=await Fb(e,null==t?void 0:t.map((e=>e.type)))(a);k(n)})(r,i)):(v(u),void p(Rke))},T=async()=>{p(Oke);const e=await Fb(m,E.map((e=>e.type)))(a);k(e,m,E)},I=async(e,t)=>{p(Oke);if(!(e in u)){const{ok:n,data:r,error:i}=await GE(((e,t)=>{const{transactionType:n}=t;return{security:{security_id:e},idea_type:n===dve.buy?{id:0,name:"buy"}:{id:1,name:"sell"}}})(e,t))(a),s="User already has an idea for this security. Send the idea_id to update it.",o=(null==r?void 0:r.ideas)&&r.ideas[0],l=null==o?void 0:o.error;if(!n&&l!==s)return console.error(l),v(l||"Something went wrong, please refresh page and try again."),void p(Rke)}const r=l(o({security_id:e},(e=>{const{transactionType:t,orderType:n,orderValueType:r,shares:i,dollarAmount:a,limitPrice:s,stopPrice:l}=e,c=r===hve.shares?{shares:parseFloat(i)}:{cash_amount:parseFloat(a)},d={};return n!==uve.limit&&n!==uve.stopLimit||(d.limit_price=parseFloat(s)),n!==uve.stop&&n!==uve.stopLimit||(d.stop_price=parseFloat(l)),o(o({operation:t,type:n,is_from_optimizer:!1},c),d)})(t)),{is_from_optimizer:!!n});g(r);const i=await Fb(r)(a);k(i,r,null)};if(h===Oke)return c.createElement(tSe,{hide:i},c.createElement(Lx,{width:"440px"},c.createElement(Tke,null,c.createElement(Iw,{flex:1,column:!0,centerAll:!0},c.createElement(Iw,{centerAll:!0},c.createElement(Ske,null,c.createElement(SM,{withLogo:!0}))),c.createElement(Iw,{top:16},c.createElement(Ei,{thin:!0},"Placing Order"))))));if(h===Fke){const e=y[0],t=e.type,n=e.operation,r=e.shares;return c.createElement(tSe,{hide:i},c.createElement(Lx,{width:"440px"},c.createElement(Iw,null,c.createElement(Tke,null,c.createElement(Iw,null,c.createElement(Nke,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Iw,{top:4,right:12},c.createElement(kke,null,c.createElement($i,null))),c.createElement(Iw,null,c.createElement(Ake,null,c.createElement(Ii,null,d," Order Placed")),c.createElement(Iw,{top:3},c.createElement(Ei,{thin:!0},"Your ",uwe(t)," order to ",n," ",r," ",fl(r,"share")," has been placed")))))),c.createElement(Iw,{flex:1},c.createElement(Uke,{id:e.id})))),c.createElement(Iw,{centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:S},"Continue"))))}return h===Lke?c.createElement(tSe,{hide:i},c.createElement(Lx,{width:"440px"},c.createElement(Tke,null,c.createElement(Qwe,{ordersCount:1,isFromOptimizer:n,warnings:E,handleAcceptAllWarnings:T,handleWarningsCancel:x})))):h===Rke?c.createElement(Lx,{width:"440px"},c.createElement(Tke,null,c.createElement(Iw,{fullWidth:!0},c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(Ike,null,c.createElement(Zwe,null)),c.createElement(Iw,{left:9,verticallyCenter:!0},c.createElement(Ii,null,"Order not placed"))),c.createElement(Iw,{top:24,row:!0,centerAll:!0},c.createElement(Ei,null,f))),c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:x},"Dismiss")))):h===Mke?c.createElement(Lx,null,c.createElement(dH,{orders:av(y),closePanel:w,hideClose:!0})):h===Dke?c.createElement(wke,{securityId:e,initFormData:t,isFromOptimizer:n,onSubmit:I}):null},Bke="u",zke={securityId:null};function Vke(e,t){switch(t.type){case Bke:{const n=t.payload,{symbol:r,securityId:i}=n;return e.symbol===r&&e.securityId===i?e:{symbol:r,securityId:i}}default:return console.error("missing case in reducer",t),e}}const Hke=e=>{const t=parseFloat(e);return Kk(t)||Bk(t)?e:null},Wke=({transactionType:e,securityId:t,shares:n})=>{const r=P(),[i]=F(),a=p$(t),s=Math.abs(null==a?void 0:a.shares)>0,d=(u=i.get("tt"),[dve.buy,dve.sell].includes(u)?u:null);var u;const h=(e=>{const t=parseFloat(e);return Kk(t)||Bk(t)?e:null})(i.get("shares")),[p,m]=c.useState(d||e||(s?null:dve.buy)),[g,y]=c.useState({transactionType:p||"",orderType:uve.market,shares:h||n||""});return c.useEffect((()=>{let e=[];return(async t=>{const n=await mC([t])(r),{securities:i}=n;i&&(i.forEach((t=>{const{symbol:n,id:r}=t;e.push({symbol:n,id:r})})),py.addSecurities(e))})(t),()=>{e.length>0&&py.removeSecurities(e.map((e=>e.symbol)))}}),[]),p?t?c.createElement($ke,{key:t,securityId:t,initFormData:g,isFromOptimizer:!1}):null:c.createElement(TSe,{securityId:t,onSelect:e=>{m(e),y(l(o({},g),{transactionType:e}))}})},jke=e=>{const{symbol:t}=Y(),n=(e=>{const t=P(),n=D((e=>e.symbolToSecurityId)),[r,i]=c.useReducer(Vke,zke,(()=>({symbol:e,securityId:n[e]||null}))),a=async e=>{if(!e)return void console.error("no symbol found",e);const n=await pC(e)(t),{ok:r,results:s}=n;r?s.forEach((t=>{const{id:n,symbol:r}=t;r===e&&i({type:Bke,payload:{symbol:e,securityId:n}})})):setTimeout((()=>a(e)),1e3)};return c.useEffect((()=>{n[e]||(i({type:Bke,payload:{symbol:e,securityId:null}}),a(e))}),[]),c.useEffect((()=>{if(e&&(a(e),e!==r.symbol)){const t=n[e];t?i({type:Bke,payload:{symbol:e,securityId:t}}):(i({type:Bke,payload:{symbol:e,securityId:null}}),a(e))}}),[e,r]),r})(null==t?void 0:t.toUpperCase());return t?n.securityId?c.createElement(Wke,l(o({key:n.securityId},e),{securityId:n.securityId,symbol:null})):c.createElement(h9,null):c.createElement(Lx,null,c.createElement(Iw,{top:8},c.createElement(Ei,null,"What stock are you looking to buy or sell?")),c.createElement(Iw,{top:24},c.createElement(ywe,null)))},Gke=e=>{const[t]=F(),n=Hke(t.get("sid")),[r,i]=c.useState(n||null);return c.useEffect((()=>{const e=Hke(t.get("sid"));e!==r&&i(e)}),[r,t]),r?c.createElement(Wke,l(o({key:r},e),{securityId:r,symbol:null})):c.createElement(jke,o({},e))};var qke=Object.defineProperty,Yke=(e,t,n)=>(((e,t,n)=>{t in e?qke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Kke=()=>c.createElement(N6,{buttonText:"Continue",fullPage:!0,hideUseAccountAddress:!0,paperTrading:!0}),Qke=u.div`
  margin: 0 auto;
  max-width: 1400px;
`,Zke=()=>{const e=b(),t=_(),{id:n}=Y(),r=isNaN(n)?"symbol":"securityId",i="securityId"===r?parseInt(n,10):n.toUpperCase(),a=fe(t.search),s=a.activeTab||(a.thought?"thoughts":null),o=a.ideaId?{ideaId:a.ideaId}:null,l=a.panel;return c.createElement(Qke,null,c.createElement(CQ,{key:`security-page-${r}-${n}`,securityIdentifier:{[r]:i},activeTab:s,additionalTabData:o,navigate:e,location:t,panelIsShowing:l,isPanel:!1}))},Xke=({Component:e})=>{const t=b(),n=_();return c.createElement(e,{navigate:t,location:n})},Jke=()=>c.createElement(Z,{to:"/",replace:!0}),eTe=()=>{const e=_(),t=fe(e.search).ids,n=t?t.split(",").map((e=>parseInt(e))):[];return c.createElement(OF,null,n.map((e=>c.createElement("div",{className:"security-card-container-side-panel security-card-fin-panel",key:`${e}-outerdiv`},c.createElement("div",{className:"security-panel-heading-chart-container",key:`${e}-innerdiv`},e,c.createElement(JK,{key:e,chartContext:"Admin",securityId:e}))))))},tTe=()=>c.createElement(Z,{to:"/?tab=feed"}),nTe=()=>{const{name:e}=Y();return c.createElement(dfe,{nameParam:e})},rTe=K(X),iTe=()=>{const{id:e}=Y();return c.createElement(vfe,{key:`thought-page-thought-id-${e}`,thoughtId:e})};class aTe extends c.PureComponent{constructor(){super(...arguments),Yke(this,"_renderPublicRoutes",(()=>{const e=window.origin&&(window.origin.includes("s1-forerunner.nvstr.com")||window.origin.includes("d1-forerunner.nvstr.com")||window.origin.includes("localhost"));return c.createElement(c.Fragment,null,c.createElement(Q,{key:"securitiesId",path:"/securities/:id",element:c.createElement(Zke,null)}),c.createElement(Q,{path:"/thoughts/:id/:thoughtSlug",element:c.createElement(iTe,null)}),c.createElement(Q,{path:"/thoughts/:id",element:c.createElement(iTe,null)}),c.createElement(Q,{path:"/viewpoint_contributors/:name",element:c.createElement(nTe,null)}),c.createElement(Q,{key:"covered-call-wizard",path:"/covered-call-wizard",element:c.createElement(Xke,{Component:une})}),e?c.createElement(Q,{key:"admin-price-charts",path:"/admin-price-charts",element:c.createElement(eTe,null)}):null)})),Yke(this,"_renderProtectedRoutes",(()=>c.createElement(c.Fragment,null,this.props.isContentEditor&&c.createElement(Q,{key:"learn-and-earn-entry",path:"/learn-and-earn-entry",element:c.createElement(Ibe,null)}),this.props.isTornadoEmployee&&c.createElement(Q,{key:"learn-and-earn-entry-debug",path:"/learn-and-earn-entry-debug",element:c.createElement(wSe,null)}),this.props.isTornadoEmployee&&c.createElement(Q,{key:"learn-and-earn-lesson-review",path:"/learn-and-earn-lesson-review",element:c.createElement(Dbe,null)}),c.createElement(Q,{key:"terms",path:"/terms",element:c.createElement(Xke,{Component:v8})}),c.createElement(Q,{key:"onboarding",path:"/get-started",element:c.createElement(Xke,{Component:Yce})}),c.createElement(Q,{key:"onboarding-legacy-path",path:"/onboard",element:c.createElement(Xke,{Component:Yce})}),c.createElement(Q,{key:"live-account-signup",path:"/live_accounts/new",element:c.createElement(Xke,{Component:Iue})}),c.createElement(Q,{key:"external-brokerage-link",path:"/link-brokerage-account",element:c.createElement(Xke,{Component:Rue})}),c.createElement(Q,{key:"finish-account-setup",path:"/finish-account-setup",element:c.createElement(Xke,{Component:jue})}),c.createElement(Q,{key:"live_account_submission_status",path:"/live-account-submission-status",element:c.createElement(Xke,{Component:a8})}),c.createElement(Q,{key:"upload_required_documents",path:"/upload-required-documents",element:c.createElement(Xke,{Component:cle})}),c.createElement(Q,{key:"live_accounts/documentation",path:"/live_accounts/documentation",element:c.createElement(Xke,{Component:Mhe})}),c.createElement(Q,{key:"invite-friends",path:"/invite-friends",element:c.createElement(Xke,{Component:Bte})}),c.createElement(Q,{path:"/orders",element:c.createElement(_Se,null)}),c.createElement(Q,{path:"/order/:symbol",element:c.createElement(Gke,null)}),c.createElement(Q,{path:"/buy/:symbol",element:c.createElement(Gke,{transactionType:dve.buy})}),c.createElement(Q,{path:"/sell/:symbol",element:c.createElement(Gke,{transactionType:dve.sell})}),c.createElement(Q,{path:"/order",element:c.createElement(Gke,null)}),c.createElement(Q,{exact:!0,path:"/ideas/portfolio_explorer",element:c.createElement(Xke,{Component:xme})}),c.createElement(Q,{exact:!0,path:"/ideas/explore",element:c.createElement(Xke,{Component:JEe})}),c.createElement(Q,{exact:!0,path:"/ideas/playground",element:c.createElement(Xke,{Component:Sme})}),c.createElement(Q,{exact:!0,path:"/ideas/community",element:c.createElement(Xke,{Component:Wme})}),c.createElement(Q,{path:"/ideas",element:c.createElement(Fbe,null)}),c.createElement(Q,{path:"/watchlist",element:c.createElement(Fbe,null)}),c.createElement(Q,{path:"/users/:id/public_profile",element:c.createElement(dwe,null)}),c.createElement(Q,{path:"/users/sign_up",exact:!0,element:c.createElement(Jke,null)}),c.createElement(Q,{path:"/users/edit",element:c.createElement(Rye,null)}),c.createElement(Q,{path:"/users/connections",element:c.createElement(j_e,null)}),c.createElement(Q,{path:"/users/thought_leaders",element:c.createElement(abe,null)}),c.createElement(Q,{key:"featured_subscriptions",path:"/viewpoint_contributors/featured",element:c.createElement(K_e,null)}),c.createElement(Q,{key:"explore_viewpoint_subscriptions",path:"/viewpoint_contributors/explore",element:c.createElement(Q_e,null)}),c.createElement(Q,{key:"viewpoint_subscriptions",path:"/viewpoint_contributors/manage",element:c.createElement(nfe,null)}),c.createElement(Q,{path:"/notifications",element:c.createElement(tTe,null)}),";",c.createElement(Q,{exact:!0,path:"/invites/provider",element:c.createElement(Xke,{Component:mfe})}),c.createElement(Q,{exact:!0,path:"/invites/:network/contact_callback",element:c.createElement(Xke,{Component:Yhe})}),c.createElement(Q,{exact:!0,path:"/invites/:network/contact_failure",element:c.createElement(Xke,{Component:$he})}),c.createElement(Q,{key:"funding-recurring-deposits",path:_n.build(),element:c.createElement(Xke,{Component:Afe})}),c.createElement(Q,{key:"create-recurring-deposits",path:Xt.createRecurringDeposits,element:c.createElement(Xke,{Component:sve})}),c.createElement(Q,{key:"funding-deposit",path:fn.build(),element:c.createElement(Xke,{Component:tue})}),c.createElement(Q,{key:"funding-withdraw",path:vn.build(),element:c.createElement(Xke,{Component:Eue})}),c.createElement(Q,{key:"funding-link-bank",path:En.build(),element:c.createElement(Xke,{Component:Qde})}),c.createElement(Q,{key:"funding-link-bank",path:bn.build(),element:c.createElement(Xke,{Component:kue})}),c.createElement(Q,{key:"portfolio-funding",path:"/portfolio/funding",element:c.createElement(Xke,{Component:jde})}),c.createElement(Q,{key:"funding",path:Sn.build(),element:c.createElement(Xke,{Component:jde})}),c.createElement(Q,{path:"/portfolio/history",element:c.createElement(Xke,{Component:Sre})}),c.createElement(Q,{path:"/portfolio",element:c.createElement(Xke,{Component:SEe})}),c.createElement(Q,{key:"privacy_settings",path:"/privacy_settings",element:c.createElement(Xke,{Component:G4})}),c.createElement(Q,{key:"ask",path:"/ask",element:c.createElement(Xke,{Component:c8})}),c.createElement(Q,{key:"referrals",path:"/referrals",element:c.createElement(Xke,{Component:Fhe})}),c.createElement(Q,{key:"rewards_redemption",path:"/rewards_redemption",element:c.createElement(Xke,{Component:$4})}),c.createElement(Q,{key:"learn-and-earn",path:"/learn-and-earn",element:c.createElement(Xke,{Component:Nte})}),c.createElement(Q,{key:"learn-and-earn-home",path:"/learn-and-earn-home",element:c.createElement(Kfe,null)}),c.createElement(Q,{key:"learn-and-earn-progress",path:"/learn-and-earn-progress",element:c.createElement(Xke,{Component:Lte})}),c.createElement(Q,{key:"learn-and-earn-more-info",path:"/learn-and-earn-more-info",element:c.createElement(Xke,{Component:bte})}),c.createElement(Q,{key:"subscriptions",path:"/subscriptions",element:c.createElement(Xke,{Component:w6})}),c.createElement(Q,{key:"membership",path:"/membership",element:c.createElement(Xke,{Component:Kke})}),c.createElement(Q,{path:"/thoughts/:id/:thoughtSlug",element:c.createElement(iTe,null)}),c.createElement(Q,{path:"/thoughts/:id",element:c.createElement(iTe,null)}),c.createElement(Q,{exact:!0,path:"/contacts/success",element:c.createElement(Xke,{Component:Yhe})}),c.createElement(Q,{exact:!0,path:"/contacts/failure",element:c.createElement(Xke,{Component:$he})}),c.createElement(Q,{key:"share",path:"/share",element:c.createElement(Xke,{Component:i3})}),c.createElement(Q,{key:"documents",path:"/documents",element:c.createElement(Xke,{Component:g8})}),this._isOnboarding()?c.createElement(Q,{path:"/",element:c.createElement(Xke,{Component:Yce})}):c.createElement(Q,{path:"/*",element:c.createElement(Xke,{Component:i3})})))),Yke(this,"_shouldRenderFooter",(()=>this.props.location.pathname.indexOf("share")<0&&!this._isOnDashboard())),Yke(this,"_isOnDashboard",(()=>!this._isOnboarding()&&"/"===this.props.location.pathname)),Yke(this,"_isOnboarding",(()=>Sp(this._returnCurrentUser()))),Yke(this,"_isUserAuthenticated",(()=>this._returnCurrentUser()&&!!this._returnCurrentUser().user_id)),Yke(this,"_isClosedAccount",(()=>this._returnCurrentUser()&&this._returnCurrentUser().is_account_closed)),Yke(this,"_returnCurrentUser",(()=>this.props.currentUser))}render(){return this.props.hidden?null:this._isClosedAccount()?c.createElement("div",{id:"main-router",className:"routes-container"},c.createElement(rTe,null,c.createElement(Q,{key:"terms",path:"/terms",element:c.createElement(Xke,{Component:v8})}),",",c.createElement(Q,{key:"privacy_settings",path:"/privacy_settings",element:c.createElement(Xke,{Component:G4})}),c.createElement(Q,{key:"live_accounts/documentation",path:"/live_accounts/documentation",element:c.createElement(Xke,{Component:Mhe})}),c.createElement(Q,{key:"documents",path:"/documents",element:c.createElement(Xke,{Component:g8})}),",",c.createElement(Q,{path:"/portfolio/history",element:c.createElement(Xke,{Component:Sre})}),",",c.createElement(Q,{path:"/",element:c.createElement(Xke,{Component:gne})}),",")):this._isUserAuthenticated()?c.createElement("div",{id:"main-router",className:"routes-container"},c.createElement(rTe,null,this._renderPublicRoutes(),this._renderProtectedRoutes()),this._shouldRenderFooter()&&c.createElement(bX,null)):c.createElement("div",{id:"main-router",className:"routes-container"},c.createElement(rTe,null,this._renderPublicRoutes()),this._shouldRenderFooter()&&c.createElement(bX,null))}}var sTe=_c(T((e=>({currentUser:e.currentUser,isTornadoEmployee:e.currentUser.is_nvstr_employee,isContentEditor:e.currentUser.is_content_editor})),(e=>({actions:I(WC,e)})))(aTe));const oTe=gi({fontSize:"16px",lineHeight:"24px"},{fontSize:"18px",lineHeight:"28px"}),lTe=u.div`
  padding-top: 24px;
`,cTe=u.div`
  border-radius: 5px;
  position: relative;
  padding: 24px;
  background-color: ${vr.secondary.promoPurple};
  text-align: center;
`,dTe=u.div`
  position: absolute;
  top: 4px;
  right: 8px;
  cursor: pointer;
`,uTe=u.div``,hTe=()=>{const e=P(),t=b();return c.createElement(cTe,{onClick:e=>{e.stopPropagation()}},c.createElement(dTe,{onClick:()=>{!function(e){e({type:"HIDE_MODAL"})}(e)}},c.createElement(xc,{icon:"fa-times-thin",colorClassName:"secondary-text-color"})),c.createElement(uTe,null,c.createElement(pw,{fontSettings:oTe,color:vr.primary.oak,center:!0},"Limited time only! Get $25 to invest when you make a $25 deposit")),c.createElement(lTe,null,c.createElement(hx,{color:vr.primary.oak,textColor:vr.secondary.promoPurple,onClick:()=>{!function(e){e({type:"HIDE_MODAL"})}(e);TC("Press Continue Deposit Promo Modal")(),t(Ln("funding"))}},"Get your bonus now")))};class pTe extends c.PureComponent{componentDidMount(){TC("View Deposit Promo Modal")()}render(){return c.createElement(hTe,null)}}const mTe=()=>{const e=P(),t=QT(),n=D((e=>e.application.marketState));c.useEffect((()=>{py.setIsLiveTrading(t)}),[t]),c.useEffect((()=>{n===kc&&(py.setIsMarketOpen(!0),py.setIsInExtendedTrading(!1)),n===Ic&&(py.setIsMarketOpen(!1),py.setIsInExtendedTrading(!1)),n!==Tc&&n!==Sc||(py.setIsMarketOpen(!1),py.setIsInExtendedTrading(!0))}),[n]);const r=c.useCallback((t=>{wC(t)(e)}),[e]);return c.useEffect((()=>(py.initPoll(r),()=>py.cancelPoll())),[]),c.useEffect((()=>{py.updatePriceUpdateCallback(r)}),[r]),null},gTe=(e,t,n)=>{const r=Gl().valueOf(),i=Yl("api",Gl())===Yl("api",Gl(t)),a=Yl("api",Gl())===Yl("api",Gl(e)),s=Gl(t).subtract(9e3,"seconds").valueOf(),o=a?Gl(e).add(12600,"seconds").valueOf():Gl(n).add(12600,"seconds").valueOf(),l=Gl(t).isAfter(Gl(n)),c=r>=t||l&&r<n;return c?kc:r>s&&i&&!c?Sc:r<o&&!c?Tc:Ic},yTe=()=>{const e=P(),t=eI(),{prevCloseTime:n,nextOpenTime:r,nextCloseTime:i}=jN(),[a,s]=c.useState(gTe(n,r,i));return c.useEffect((()=>{OE(a)(e)}),[]),c.useEffect((()=>{const n=()=>Promise.all([ME()(e),OC(t,{include:["portfolio"],isCurrentUser:!0})(e)]);console.warn("market state changed: "+a),a===kc&&(FE()(e),n()),a===Ic&&(FE()(e),n())}),[a]),c.useEffect((()=>{const t=()=>{const t=gTe(n,r,i);t!==a&&(s(t),OE(t)(e))};t();const o=setInterval(t,1e3);return()=>{clearInterval(o)}}),[a,r,i]),null},_Te=u.div``,fTe=u.div`
  svg {
    height: 64px;
    width: 64px;

    * {
      fill: ${({theme:e})=>e.themeColors.text};
    }
  }
`,vTe=u.div`
  display: flex;
  flex-direction: column;
  min-height: 300px;
  min-width: 300px;
  justify-content: space-between;
`,ETe=u.div`
  display: flex;
  align-items: center;
  justify-content: center;

  svg {
    height: 28px;
    width: 28px;

    fill: ${({theme:e})=>e.themeColors.error};
  }
`,bTe="unsub",CTe="issub",xTe="err",wTe="created",STe=u.div`
  svg {
    fill: ${({theme:e})=>e.themeColors.positive} !important;
  }
`,kTe=u.div`
  h5 {
    line-height: 1.1;
  }
`,TTe=({orderId:e,securityId:t,initFormData:n,isFromOptimizer:r,onComplete:i})=>{const a=P(),s=!!e,{symbol:l}=IH(t),d=oI(),[u,h]=c.useState(bTe),[p,m]=c.useState(null),[g,y]=c.useState(null),[_,f]=c.useState(null);c.useEffect((()=>{s?TC("Edit Trade Panel Open",{"Using Basket":r,"From Optimizer":r,"Security ID":t,"Security Symbol":l})():TC("Manual Trade Panel Open",{"Using Basket":r,"From Optimizer":r,"Security ID":t,"Security Symbol":l})()}),[]);const v=()=>{m(null),y(null),f(null),h(bTe)},E=()=>{i()},b=async(t,n)=>{h(CTe);if(!(t in d)){const{ok:e,data:r,error:i}=await GE(((e,t)=>{const{transactionType:n}=t;return{security:{security_id:e},idea_type:n===dve.buy?{id:0,name:"buy"}:{id:1,name:"sell"}}})(t,n))(a),s="User already has an idea for this security. Send the idea_id to update it.",o=(null==r?void 0:r.ideas)&&r.ideas[0],l=null==o?void 0:o.error;if(!e&&l!==s)return console.error(l),f(l||"Something went wrong, please refresh page and try again."),void h(xTe)}const i=o({security_id:t},(e=>{const{transactionType:t,orderType:n,orderValueType:r,shares:i,dollarAmount:a,limitPrice:s,stopPrice:l}=e,c=r===hve.shares?{shares:parseFloat(i)}:{cash_amount:parseFloat(a)},d={};return n!==uve.limit&&n!==uve.stopLimit||(d.limit_price=parseFloat(s)),n!==uve.stop&&n!==uve.stopLimit||(d.stop_price=parseFloat(l)),o(o({operation:t,type:n,is_from_optimizer:!1},c),d)})(n));let c;m(i),c=s?await Bb(e,i)(a):await $b(i)(a);const{data:u,ok:p}=c;if(p){y(u),h(wTe);return void TC(s?"Edit Manual Trade":"Create Manual Trade",{"Using Basket":r,"From Optimizer":r,"Security ID":t,"Security Symbol":l})()}f("Something went wrong. Please try again."),h(xTe)};if(u===wTe){const{type:e,operation:t,shares:n}=g;return c.createElement(tSe,{hide:!0},c.createElement(Lx,{width:"440px"},c.createElement(Iw,null,c.createElement(vTe,null,c.createElement(Iw,null,c.createElement(STe,null,c.createElement(Iw,{row:!0,verticallyCenter:!0},c.createElement(Iw,{top:4,right:12},c.createElement(fTe,null,c.createElement($i,null))),c.createElement(Iw,null,c.createElement(kTe,null,c.createElement(Ii,null,l," Order Saved")),c.createElement(Iw,{top:3},c.createElement(Ei,{thin:!0},"Your ",uwe(e)," order to ",t," ",n," ",fl(n,"share")," has been ",s?"updated in your cart.":"added to your cart.")))))))),c.createElement(Iw,{centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:E},"Continue"))))}return u===CTe?c.createElement(tSe,{hide:!0},c.createElement(Lx,{width:"440px"},c.createElement(vTe,null,c.createElement(Iw,{flex:1,column:!0,centerAll:!0},c.createElement(Iw,{centerAll:!0},c.createElement(_Te,null,c.createElement(SM,{withLogo:!0}))),c.createElement(Iw,{top:16},c.createElement(Ei,{thin:!0},"Saving Order...")))))):u===xTe?c.createElement(Lx,{width:"440px"},c.createElement(vTe,null,c.createElement(Iw,{fullWidth:!0},c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(ETe,null,c.createElement(Zwe,null)),c.createElement(Iw,{left:9,verticallyCenter:!0},c.createElement(Ii,null,"Order not saved"))),c.createElement(Iw,{top:24,row:!0,centerAll:!0},c.createElement(Ei,null,_))),c.createElement(Iw,{row:!0,centerAll:!0},c.createElement(sx,{fullWidth:!0,onClick:v},"Dismiss")))):u===bTe?c.createElement(wke,{securityId:t,initFormData:n,isFromOptimizer:r,onSubmit:b}):null},ITe=u.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  background: ${({theme:e})=>e.themeColors.overlay};
  z-index: 50000;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
`,NTe=u.div`
  position: relative;
  background: ${({theme:e})=>e.themeColors.componentNoOpacity};
  border-radius: 5px;
  z-index: 50001;
`,ATe=u.div`
  position: absolute;
  top: 8px;
  right: 8px;
  cursor: pointer;

  svg {
    height: 16px;
    width: 16px;

    path {
      fill: ${({theme:e})=>e.themeColors.border};
    }
  }

  z-index: 50001;
`,PTe={[Rl]:({isFromOptimizer:e,transactionType:t,orderType:n,shares:r,securityId:i})=>{const a=P(),[s]=c.useState({transactionType:t,orderType:n,shares:r});return c.createElement($ke,{securityId:i,initFormData:s,isFromOptimizer:e,onComplete:()=>{DE()(a)},inModal:!0})},[Fl]:({transactionType:e,orderType:t,shares:n,securityId:r,isFromOptimizer:i})=>{const a=P(),[s]=c.useState([r]),[o]=c.useState({transactionType:e,orderType:t,shares:n});return c.createElement(c.Fragment,null,c.createElement(zEe,{securityIds:s}),c.createElement(TTe,{securityId:r,initFormData:o,isFromOptimizer:i,onComplete:()=>{DE()(a)}}))},[Ml]:({isFromOptimizer:e,orderId:t,transactionType:n,orderType:r,shares:i,limitPrice:a,stopPrice:s,securityId:o})=>{const l=P(),[d]=c.useState([o]),[u]=c.useState({transactionType:n,orderType:r,shares:i,limitPrice:a,stopPrice:s});return c.createElement(c.Fragment,null,c.createElement(zEe,{securityIds:d}),c.createElement(TTe,{securityId:o,orderId:t,initFormData:u,isFromOptimizer:e,onComplete:()=>{DE()(l)}}))},[Ul]:({securityId:e})=>{const t=P();return c.createElement(USe,{securityId:e,onDismiss:()=>{DE()(t)}})}},DTe=()=>{const e=P(),{type:t,props:n}=D((e=>e.application.componentModal));if(c.useEffect((()=>{}),[]),!t)return null;const r=()=>{DE()(e)},i=PTe[t];return c.createElement(ITe,{onClick:()=>{r()}},c.createElement(NTe,{onClick:e=>e.stopPropagation()},c.createElement(ATe,{onClick:r},c.createElement(oi,{width:16})),c.createElement(i,o({},n))))};var OTe=Object.defineProperty,LTe=(e,t,n)=>(((e,t,n)=>{t in e?OTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const RTe=e=>e.children,FTe=u.div`
  background: ${({theme:e})=>e.themeColors.appBackground};
`,MTe=u.div`
  select {
    option {
      color: ${({theme:e})=>e.themeColors.text};
      background-color: ${({theme:e})=>e.themeColors.component};
    }
  }
`,UTe=()=>c.createElement("div",null,c.createElement(TL,{forceLoading:!0}),c.createElement(Iw,{top:64},c.createElement(h9,{pageProps:{transparentBackground:!0}})),c.createElement(sTe,{hidden:!0}));function $Te(){const[e,t]=F();return c.useEffect((()=>()=>{e.has("unsubscribed")&&(e.delete("unsubscribed"),t(e))}),[]),c.createElement("div",null,c.createElement(Ei,null,"You were unsubscribed successfully."),c.createElement(Tw,{top:8},c.createElement(Ei,null,'You can re-subscribe at anytime by going to "Account Settings" then "Email Preferences".')))}class BTe extends c.Component{constructor(e){super(e),LTe(this,"appInitCalls",(()=>{this.props.actions.fetchColorTheme(),this._handleResize(),window.addEventListener("resize",this._handleResize),this._setVerticalNavDockStatus(),this._checkForFeatureWaitlistResponse(),this._checkForMembershipOptInResponse(),this._getDataRequiredToMountApp(),this._getAdditionalDataForApp()})),LTe(this,"_getDataRequiredToMountApp",(async()=>(await this.props.actions.getIsMarketOpen(),Promise.all([this._initGetCurrentUser()])))),LTe(this,"_renderAppForSpecialAccessTokens",(()=>c.createElement("div",{className:"app-body-container"},c.createElement(TL,{usingSpecialAccessToken:!0})))),LTe(this,"_renderAppInitialized",(()=>c.createElement("div",null,c.createElement(yTe,null),c.createElement(mTe,null),c.createElement("div",{className:"app-body-container"},this._isAuthenticated()&&c.createElement(EA,null),c.createElement(FTe,{style:{height:"100%",width:this._returnAppWidth()}},c.createElement(RTe,null,c.createElement(TL,{forceEmptyNav:this.state._isAppLoadFailure})),c.createElement(OQ,null),c.createElement(BY,null),c.createElement(sTe,null)))))),LTe(this,"_onAfterAuthenticationSuccess",(()=>{this._checkBDTermsStatus()})),LTe(this,"_checkLiveTradingApplicationStatus",(async()=>{const{navigate:e}=this.props,t=await uU(),n=[wn.build(),xn.build(),Cn.build()],r=window.location.pathname.split("/app")[1],i=n.includes(r);t&&!i&&e(Cn.build())})),LTe(this,"_onAfterAppInitialization",(()=>{this._checkLiveTradingApplicationStatus(),this._checkForRankingNotificationParam(),this._checkForUnsubscribeParam(),this._launchAppBanners(),this._launchAppStartModals()})),LTe(this,"_initGetCurrentUser",(()=>this.props.actions.fetchCurrentUserQuickInfo().then((e=>{if(e&&e.user_id){(e=>{w.getInstance("legacyEvents").init("e9afd390cda7d6e670bdf72de14369d9",e),ey=!0;const t=(new w.Identify).set("User",e);w.getInstance("legacyEvents").identify(t)})(e.analytics_id);const t={};Xg.forEach((n=>{const r=Jg[n];t[r]=n in e?e[n]:null}));const n="white_label_partner";n in e&&(t["White Label Partner"]=e[n]),oy(t);const r=ny(e,e);sl.identify(null==e?void 0:e.analytics_uuid,{},{}),ry(r),iy(e),this._setIsAuthed(),this._getRequiredDataAfterGetCurrentUserData(e)}else this._setAppIsInitialized();const t=e&&e.user_id?null:e;t&&t.error&&t.error.response&&t.error.response.data&&t.error.response.data.error&&"Please sign in to continue."===t.error.response.data.error&&"/api/orders/approve"===window.location.pathname&&this._setIsUsingSpecialAccessToken()})))),LTe(this,"_getAdditionalDataForApp",(()=>{this.props.actions.fetchCollectives(),this.props.actions.getStaticCopy()})),LTe(this,"_getRequiredDataAfterGetCurrentUserData",(e=>{const{is_account_closed:t}=e;t?this._getRequiredDataAfterGetCurrentUserForClosedAccount():this._getRequiredDataAfterGetCurrentUserDataForOpenAccount(e)})),LTe(this,"_getRequiredDataAfterGetCurrentUserForClosedAccount",(()=>Promise.all([this.props.actions.getFooterPartial(),this.props.actions.getIsMarketOpen()]).then((e=>{this._setAppIsInitialized()})).catch((e=>{console.error("Caught error fetching data required to mount app",e)})))),LTe(this,"_getRequiredDataAfterGetCurrentUserDataForOpenAccount",(e=>(this.props.actions.fetchAllLearnLessons(),this.props.actions.fetchCompletedLearnLessons(),this.props.actions.fetchNextLearnLesson(),this.props.actions.getBankAccounts(),Promise.all([this.props.actions.getRewardsData(),this.props.actions.getFooterPartial(),this.props.actions.getCurrentUserIdeas(),this.props.actions.fetchThoughtLeaders(),this.props.actions.getImportConnectionsNetworks(),this.props.actions.getCurrentUserConnections(),this.props.actions.fetchAllViewpointData()]).then((t=>{this._setAppIsInitialized(),this._returnCurrentUser(),this.props.actions.refreshCurrentUserExternalPositionsInfo(),this._returnCurrentUser().analytics_id,Sp(e)&&this.props.navigate(an.build())})).catch((e=>{console.error("Caught error fetching data required to mount app",e)}))))),LTe(this,"_isUsingSpecialAccessToken",(()=>this.state._isUsingSpecialAccessToken)),LTe(this,"_isAppInitializing",(()=>this.state._isAppInitializing)),LTe(this,"_returnAppWidth",(()=>{const e=185*(this._isVerticalNavShowing()?1:0),t=this.props.windowWidth,n=t-e;return t>0&&!this._isAppInitializing()?`${n}px`:"100%"})),LTe(this,"_returnNavColorClass",(()=>"dark-nav-theme")),LTe(this,"_returnCurrentUser",(()=>this.props.currentUser)),LTe(this,"_isUserAuthed",(()=>this.state._isAuthed)),LTe(this,"_returnCurrentUserId",(()=>yp(this._returnCurrentUser()))),LTe(this,"_isAuthenticated",(()=>"user_id"in this._returnCurrentUser())),LTe(this,"_isOnboarding",(()=>Sp(this._returnCurrentUser()))),LTe(this,"_hasAgreedToBdTerms",(()=>_p(this._returnCurrentUser()))),LTe(this,"_handleNavigationChange",(e=>{this._setVerticalNavDockStatus(e),this._checkBDTermsStatus()})),LTe(this,"_handleResize",(()=>{this._doesRouteBeForcedUndocked()||this._updateVerticalNavExpansionLock()})),LTe(this,"_onNewPageNavigation",((e,t)=>{KF()})),LTe(this,"_launchAppBanners",(()=>{const{hasLinkedBankAccount:e}=this.props,t=!0===O_(A_),n=1===this._returnCurrentUser().show_funding_cta_banner_test_group;if(!this._isOnboarding()&&!e&&n&&!t){const e={text:"Finish setting up your account by linking your bank account to transfer funds and start investing.",link:"/portfolio/funding",link_text:"Continue",status:"FUND_BANK_ACCOUNT"};this.props.actions.showBanner(e)}})),LTe(this,"_launchAppStartModals",(()=>{const{isLiveTrading:e}=this.props,t=this.props.actions.hideModal,n=this.props.actions.logMetricsTrackingEvent,r=em(this._returnCurrentUser()),i=!0===O_(N_),a=1===this._returnCurrentUser().show_funding_cta_modal_test_group;const s=()=>{t();n("Dismiss Deposit Promo Modal")};if(r){const e={customBody:c.createElement(pTe,null),dismissable:!0,overrideOverlayDismiss:s,overrideDismiss:s};return void this.props.actions.showModal(e)}const o=()=>{t();n("Dismiss Finish Setting Up Your Account Modal"),L_(N_,!0)};if(e&&!this._isOnboarding()&&!dU&&a&&!i){const e={contentComponent:c.createElement(ZM,null),dismissable:!0,overrideOverlayDismiss:o,overrideDismiss:o};this.props.actions.showModal(e)}})),LTe(this,"_forceNavigateToBDTermsForm",(()=>{this._saveDestinationURL(),this.props.navigate("/terms")})),LTe(this,"_checkBDTermsStatus",(()=>{if(!this._hasAgreedToBdTerms()&&this._isUserAuthed()){const e=this.props.location.pathname;fe(this.props.location.search).panel&&this._forceNavigateToBDTermsForm(),this.IGNORE_BD_TERMS_STATUS_ROUTES.includes(e)||this._forceNavigateToBDTermsForm()}})),LTe(this,"_saveDestinationURL",(()=>{const e=this.props.location.pathname+this.props.location.search;this.props.actions.saveToAppStorage({destinationURL:e})})),LTe(this,"_setVerticalNavDockStatus",(e=>{const t=this.FORCE_UNDOCK_VERTICAL_NAV_ROUTES,n=qc,r=this.props.windowWidth<n,i=e&&t.some((t=>t.indexOf(e.pathname)>=0)),a=!this._isVerticalNavDocked()&&i&&!r;this._shouldNavBeForcedUndocked()?(this.props.actions.forceUndockVerticalNav(),window.$(".react-nav-container .container").css("width","100%")):a&&i&&this.props.actions.releaseForceUndockVerticalNav()})),LTe(this,"_doesRouteBeForcedUndocked",(()=>{if("/"===window.location.pathname)return!1;return"/"!==window.location.pathname&&this.FORCE_UNDOCK_VERTICAL_NAV_ROUTES.some((e=>window.location.pathname.indexOf(e)>=0))})),LTe(this,"_shouldNavBeForcedUndocked",(()=>this._doesRouteBeForcedUndocked())),LTe(this,"_isVerticalNavShowing",(()=>this._isVerticalNavDocked()&&this._isAuthenticated()&&!this._isAppInitializing()&&!this._isOnboarding())),LTe(this,"_isVerticalNavDocked",(()=>this.props.nav.alwaysOpen)),LTe(this,"_updateVerticalNavExpansionLock",(()=>{const e=this.props.windowWidth,t=this._isVerticalNavDocked();e<=976&&t&&this.props.actions.toggleAlwaysOpenVerticalNav(),e>976&&!this._isOnboarding()&&(t||this.props.actions.toggleAlwaysOpenVerticalNav())})),LTe(this,"_checkForFeatureWaitlistResponse",(()=>{const e=this.props.location.search,t=fe(e);if("true"===t.featureWaitlistResponse){const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Your response has been recorded. We'll let you know when this feature becomes available."),dismissable:!0,overrideDismiss:()=>{delete t.featureWaitlistResponse;const e=ve(t);this.props.navigate(this.props.location.pathname+e)}};this.props.actions.showModal(e)}})),LTe(this,"_checkForUnsubscribeParam",(()=>{const e=this.props.location.search,t=fe(e);if(Object.keys(t).includes("unsubscribed")){const e={contentComponent:c.createElement($Te,null),dismissable:!0,size:"wide",overrideDismiss:()=>{delete t.show_ranking_as_of;const e=ve(t);this.props.navigate(this.props.location.pathname+e)}};this.props.actions.showModal(e)}})),LTe(this,"_checkForRankingNotificationParam",(()=>{const e=this.props.location.search,t=fe(e);if("show_ranking_as_of"in t){const e=t.show_ranking_as_of,n={contentComponent:c.createElement(rR,{notificationDate:e}),dismissable:!0,size:"wide",overrideDismiss:()=>{delete t.show_ranking_as_of;const e=ve(t);this.props.navigate(this.props.location.pathname+e)}};this.props.actions.showModal(n)}})),LTe(this,"_checkForMembershipOptInResponse",(()=>{const e=this.props.location.search,t=fe(e),n="true"===t.membershipOptIn,r="true"===t.membershipOptOut;if(n){const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"Success! Your ",Jo," membership has been activated."),dismissable:!0,overrideDismiss:()=>{delete t.membershipOptIn;const e=ve(t);this.props.navigate(this.props.location.pathname+e)}};this.props.actions.showModal(e)}else if(r){const e={contentComponent:c.createElement("div",{className:"modal-message",style:{paddingTop:"0px"}},"You have successfully opted out of the membership plan. If you change your mind, please contact customer support."),dismissable:!0,overrideDismiss:()=>{delete t.membershipOptOut;const e=ve(t);this.props.navigate(this.props.location.pathname+e)}};this.props.actions.showModal(e)}})),LTe(this,"_setIsAuthed",(()=>{this.setState((()=>({_isAuthed:!0})))})),LTe(this,"_setAppIsInitialized",(()=>{this.setState((()=>({_isAppInitializing:!1})))})),LTe(this,"_setIsUsingSpecialAccessToken",(()=>{this.setState((()=>({_isUsingSpecialAccessToken:!0})))})),this.state={_isAuthed:!1,_isAppInitializing:!0,_isAppLoadFailure:!1,_isUsingSpecialAccessToken:!1},this.IGNORE_BD_TERMS_STATUS_ROUTES=["/terms","/referral_rules","/legal","/margin_disclosure","/terms_of_service","/terms_of_service_nvstr_financial","/privacy_policy","/faq","/about","/viewpoint_guidelines","/enterprise","/whitelabel","/white-label-brokerage-as-a-service","/solutions","/sales","/sales_inquiry"],this.FORCE_UNDOCK_VERTICAL_NAV_ROUTES=["/share","/about","/enterprise","/whitelabel","/white-label-brokerage-as-a-service","/solutions","/sales","/sales_inquiry"]}componentDidMount(){(async()=>{const{location:{href:e,pathname:t,search:n}}=window,r=e.includes("app/securities/"),i=e.includes("app/thoughts/");if(r||i)this.appInitCalls();else{const{isAuthed:e}=await oU();if(e)this.appInitCalls();else{let e=t.slice(4,t.length);""!==n&&(e+=n),L_(R_.NAVIGATION_INTENT,e),window.location="/app/login"}}})()}componentDidUpdate(e,t){!t._isAuthed&&this.state._isAuthed&&this._onAfterAuthenticationSuccess(),t._isAppInitializing&&!this.state._isAppInitializing&&this._onAfterAppInitialization();const n=this.props.location,r=e.location;r.pathname===n.pathname&&r.search===n.search||this._handleNavigationChange(r,n),r.pathname!==n.pathname&&this._onNewPageNavigation(n)}componentWillUnmount(){window.removeEventListener("resize",this._handleResize)}render(){return this._isUsingSpecialAccessToken()?this._renderAppForSpecialAccessTokens():c.createElement(MTe,{className:`react-app-container ${this._returnNavColorClass()}`},c.createElement(eT,null),c.createElement(OR,null),c.createElement(fR,{isCurrentUserOnboarding:this._isOnboarding(),isAppInitialized:this._isAuthenticated()&&!this._isAppInitializing()}),c.createElement(DM,null),c.createElement(IR,null),c.createElement(DR,null),c.createElement(MR,null),c.createElement(BM,null),c.createElement(mR,null),c.createElement(DTe,null),c.createElement(rU,null),this._isAuthenticated()&&c.createElement(wR,null),this._isAppInitializing()?c.createElement(UTe,null):this._renderAppInitialized())}}const zTe=N(_c,Xk,T((e=>({banner:e.banner,currentUser:e.currentUser,nav:e.nav,hasLinkedBankAccount:dU(e),isLiveTrading:Rp(e.currentUser),_state_isAuthed:e.authentication.isAuthenticated})),(e=>({actions:I(WC,e)}))))(BTe),VTe=u.div`
  padding: 24px;
  text-align: center;
`;u.div`
  display: flex;
  align-items: center;
  justify-content: center;
`;const HTe=u.div`
  padding: 24px;
  width: 90%;
  max-width: 360px;
  margin: 0 auto;

  border-radius: 6px;
  border: ${({theme:e})=>`1px solid ${e.themeColors.border}`};
`,WTe=()=>c.createElement("div",null,c.createElement(TL,{forceEmptyNav:!0}),c.createElement(VTe,null,c.createElement(HTe,null,c.createElement("div",null,c.createElement(Ei,null,"Something went wrong. Please reload the page."),c.createElement(Wx,{top:16,center:!0},c.createElement(hx,{onClick:()=>{var e;"localhost:3000"===(null==(e=null==window?void 0:window.location)?void 0:e.host)?window.location.reload():window.location="/"}},"Reload")))))),jTe=({children:e})=>{const t=ZT();return c.createElement(J,{fallback:WTe,beforeCapture:e=>{e.setUser({id:null==t?void 0:t.id})},onError:e=>{TC("Webapp page crash occurred",{message:null==e?void 0:e.message})()}},e)};c.Component;const GTe=()=>{const e=b(),t=_();return c.createElement(F9,null,c.createElement(bte,{navigate:e,location:t}))},qTe=()=>{const e=P(),{name:t}=Y();return c.useEffect((()=>{(async()=>{await ME()(e)})()}),[]),c.createElement(F9,null,c.createElement(Ate,{name:t}))};u("div")`
  position: relative;
  top: -20px;
  padding: 10px 0;
`;const YTe=u("div")`
  position: relative;
  top: 20px;
  padding: 0;
  display: none;
`,KTe=u("div")`
  color: ${({theme:e})=>e.themeColors.error} !important;
  font-size: 12px;
`,QTe=u("div")`
  position: relative;

  input {
    border: 1px solid ${({theme:e})=>e.themeColors.text} !important;
    border-radius: 5px !important;
  }
`,ZTe=u.div`
  width: 360px;
  z-index: 1;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 100px 0 100px 0;
`,XTe=u("div")`
  position: absolute;
  left: 0;
  height: 100vh;
  width: 50%;
  background: ${e=>e.theme.colorPalette.primary.oak};
  border-right: 1px solid rgba(0, 0, 0, 0.03);
`,JTe=u("div")`
  position: absolute;
  left: 50%;
  height: 100vh;
  width: 50%;
  background: #fff;
  min-height: 780px;
`,eIe=u("div")`
  position: absolute;
  right: 0;
  width: 440px;
  max-width: 440px;
  height: 100vh;
  padding: 60px 0 0 10px;
`,tIe=u("div")`
  position: absolute;
  left: 0;
  width: calc(100% - 48px);
  max-width: 540px;
  height: 100vh;
  padding: ${e=>e.padding||"60px 0px 0 80px"};
`,nIe=u("div")`
  font-size: 30px;
  padding: 20px 0 30px 0;
  font-weight: 500;
`,rIe=u("div")`
  font-size: 18px;
  font-weight: 300;
  margin: 5px 0 20px;
  line-height: 1.4em;
`,iIe=u("div")`
  font-size: 24px;
  font-weight: 600;
`,aIe=u("div")`
  font-size: 12px;
  font-weight: 600;
  line-height: 1.4em;
`,sIe=u("div")`
  font-size: 12px;
  font-weight: 300;
  line-height: 14px;

  a {
    color: ${({theme:e})=>e.themeColors.text};
    font-weight: 700;
  }
`,oIe=u("div")`
  padding: 0;
`,lIe=u("div")`
  padding: 8px 0 0 0;
`,cIe=u("div")`
  font-size: 16px;
  font-weight: 400;
  & > b {
    font-weight: 800;
  }
`,dIe=u("div")`
  position: relative;
  margin: -8px 0 0 0;
  padding: 0 0 10px 0;
  width: 100%;
  max-width: 460px;

  display: flex;
  justify-content: space-between;
  align-items: center;
`;u("div")`
  z-index: 10;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  width: 100vw;
  min-height: 100vh;

  @media only screen and (max-width: 900px) {
    width: 100vw;
    max-width: 600px;
    margin: 0 auto;

    ${ZTe} {
      padding: 0;
      & > div {
        position: relative;
        left: -20px;
      }
    }

    ${tIe} {
      padding: 40px;
    }
    ${XTe} {
      display: none;
    }
    ${JTe} {
      background: ${e=>e.theme.colorPalette.primary.oak};
      left: 0;
      padding: 0;
      width: 100%;
      & input[type='text'],
      & input[type='email'],
      & input[type='password'] {
        width: 100%;
      }
      ${dIe} {
        width: 100%;
      }
      ${YTe} {
        display: block;
      }
    }

    ${KTe} {
      top: 118px;
    }
  }

  @media only screen and (min-width: 801px) and (max-width: 920px) {
    width: 920px;
    ${tIe} {
      padding-left: 40px;
    }
  }

  @media only screen and (max-width: 450px) {
    ${tIe} {
      padding-top: 10px;
      width: 100vw;
      max-width: 100vw;
    }
  }

  @media only screen and (min-width: 920px) and (max-width: 1279px) {
    width: 100vw;
    ${tIe} {
      padding-left: 40px;
    }
  }

  @media only screen and (min-width: 801px) and (max-height: 720px) {
    ${eIe} {
      padding-top: 35px;
    }
    ${tIe} {
      padding-top: 0px;
    }
  }

  @media (max-width: 426px) {
    ${tIe} {
      padding-left: 16px;
      padding-right: 16px;
    }
  }
`;const uIe=d`
  border: 1px solid red;
  &:focus,
  &:active {
    border: 1px solid red;
  }
`,hIe=u("input")`
  height: 46px;
  border-radius: 4px;
  outline: none;
  font-size: 16px;
  margin: ${e=>e.margin||"0px 0 16px 0"};
  padding: 10px;
  width: ${e=>e.width||"100%"};

  background: ${e=>e.theme.themeColors.inputBg};
  color: ${e=>e.theme.themeColors.text};
  border: 1px solid ${e=>e.theme.themeColors.text};

  &::placeholder {
    color: ${e=>e.theme.themeColors.secondary};
  }
  &:focus {
    border: 1px solid ${e=>e.theme.themeColors.primaryCtaButton};
  }
  ${e=>e.error?uIe:""};
`,pIe={multiple:"Please enter your email and password to sign in.",email:"Please enter your email",password:"Please enter your password."},mIe=u.div`
  @keyframes fadeInUp {
    from {
      transform: translate3d(0, 40px, 0);
    }

    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }

  @-webkit-keyframes fadeInUp {
    from {
      transform: translate3d(0, 40px, 0);
    }

    to {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }
  }

  opacity: 0;
  transition: opacity ease-out 300ms;

  background-color: ${vr.secondary.purple};
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  padding: 28px 20px 28px 28px;
  border-radius: 8px;
  width: 450px;
  max-width: 92%;
  display: inline-block;

  .text {
    color: ${vr.primary.oak};
  }

  &.fade-in {
    animation-duration: 600ms;
    animation-fill-mode: both;
    -webkit-animation-duration: 600ms;
    -webkit-animation-fill-mode: both;

    animation-name: fadeInUp;
    -webkit-animation-name: fadeInUp;
  }
`,gIe=u.div`
  padding: 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color ease-out 150ms;

  &:hover {
    background-color: ${vr.primary.oak};
    g {
      fill: ${vr.secondary.purple};
    }
  }
`,yIe=({width:e,onClick:t})=>c.createElement(gIe,{onClick:t},c.createElement(mx,{isDarkMode:!0,width:e})),_Ie=({message:e,onClose:t})=>{const[n,r]=c.useState(!1),[i,a]=c.useState(!1);c.useEffect((()=>{setTimeout((()=>{a(!0)}),300)}),[]);return n||!e?null:c.createElement(mIe,{className:i?"fade-in":""},c.createElement(Jr,{vAlign:"center",style:{justifyContent:"space-between"}},c.createElement(ai,{padding:"0 20px 0 0"},c.createElement("span",{className:"text"},e)),c.createElement(ai,null,c.createElement(yIe,{width:17,onClick:()=>{r(!0),t&&t()}}))))},fIe=u.div`
  position: fixed;
  height: 100px;
  top: 40px;
  left: 0;
  right: 0;
  z-index: 20;
`,vIe=u.div`
  max-width: 360px;
`,EIe=()=>{const e=b();P();const[t,n]=c.useState(""),[r,i]=c.useState(""),[a,s]=c.useState("1"),[o,l]=c.useState(""),[d,u]=c.useState(!1),{SessionMessageComponent:h,setSessionMessage:p}=(()=>{const[e,t]=c.useState(null),n=()=>c.createElement(fIe,null,c.createElement(ii,{hAlign:"center"},c.createElement(_Ie,{message:e})));return{SessionMessageComponent:e?c.createElement(n,null):null,setSessionMessage:t}})();c.useEffect((()=>{(async()=>{const{isAuthed:e}=await oU();e&&(window.location="/app/")})()}),[]),c.useEffect((()=>{const e=fe(window.location.search);if(e.loginRequired||e.sessionExpired){const t=e.loginRequired?c.createElement(c.Fragment,null,"Please ",c.createElement("span",null,"log in")," to continue"):c.createElement(c.Fragment,null,"You were logged out due to inactivity. Please ",c.createElement("span",null,"log in")," to continue.");p(t)}}),[]);const m=async n=>{null==n||n.preventDefault();const i=(({email:e,password:t})=>{const n={email:""!==e.trim(),password:""!==t.trim()},r=Object.values(n).filter((e=>!1===e)).length,i=r>0;if(!i)return{isValid:!0};if(i&&r>1)return{isValid:!1,validationField:"multiple"};if(i&&1===r)return{isValid:!1,validationField:Object.entries(n).filter((([e,t])=>!1===t))[0][0]}})({email:t,password:r});i.isValid||(u(!1),pIe[i.validationField]&&l(pIe[i.validationField])),u(!0);const{isAuthed:s,route_to:o,errorMessage:c}=await sU({email:t,password:r,rememberMe:a});if(s){const t=O_(R_.NAVIGATION_INTENT);e(t||o||"/"),F_.clearItemInStorage(R_.NAVIGATION_INTENT);const n=await aU(`${sd}/api/v1/current_user/session`,"GET",null),r=await n.json(),{status:i}=n;200===i&&ty(r)}else u(!1),l(c)};return c.createElement(vIe,{onKeyDown:e=>(e=>{13===e.keyCode&&m(e)})(e)},d?c.createElement(ZTe,null,c.createElement(Pw,{text:"Signing In..."})):null,d?null:c.createElement(QTe,null,c.createElement(YTe,null,c.createElement(oT,null)),c.createElement("form",null,c.createElement(hIe,{id:"email-field",placeholder:"Email",type:"email",value:t,onChange:e=>n(e.target.value),autoComplete:"email"}),c.createElement(hIe,{id:"password-field",placeholder:"Password",type:"password",value:r,onChange:e=>i(e.target.value),autoComplete:"current-password"}),c.createElement(dIe,null,c.createElement(Jr,{position:"relative",vAlign:"center"},c.createElement("input",{type:"checkbox",id:"checkbox",checked:"1"===a,onClick:e=>{const t="1"===a?"":"1";""===t&&F_.setItemInStorage(R_.EMAIL,""),s(t)},style:{cursor:"pointer",marginTop:0}}),c.createElement("label",{htmlFor:"checkbox",className:"not-selectable",style:{cursor:"pointer",margin:0}},c.createElement(ai,{padding:"0 0 0 8px",position:"relative",top:"0px",display:"inline-block"},"Stay logged in"))),c.createElement(ai,null,c.createElement(A,{to:"/forgot_password"},"Forgot Password"))),c.createElement(Iw,{bottom:8},o?c.createElement(KTe,null,o):null),c.createElement(hx,{id:"sign-in-submit",fullWidth:!0,onClick:m},"Sign In"),c.createElement(Iw,{top:8},c.createElement(aIe,null,"Don't have an account? ",c.createElement(A,{to:"/signup"},"Sign Up"))))))},bIe=u.div``,CIe=u.div`
  max-width: 440px;
  margin: 0 0 0 auto;

  ${aT} {
    svg {
      height: 60px;
      width: 241px;
    }
  }
  ${sT} {
    span {
      font-size: 16px;
    }
    svg {
      height: 40px;
      width: 216px;
    }
  }

  @media (max-width: 875px) {
    padding: 24px 0 0 0;
    max-width: unset;
    margin: 0;
    text-align: center;

    ${bIe} {
      display: ${({hideOnMobile:e})=>e?"none":"block"};
    }

    ${aT} {
      svg {
        height: 43px;
        width: 175px;
      }
    }
    ${sT} {
      width: 159px;
      margin: 0 auto;
      span {
        font-size: 16px;
      }

      svg {
        height: 30px;
        width: 138px;
      }
    }
    ${rIe} {
      padding: 0;
      text-align: center;
      max-width: 380px;
      margin: 0 auto;
    }
  }
`,xIe=({hideOnMobile:e})=>c.createElement(CIe,{hideOnMobile:e},c.createElement(oT,null),c.createElement(bIe,null,c.createElement(nIe,null,c.createElement("b",null,"TEACH YOUR MONEY"),c.createElement("br",null)," HOW TO MAKE MONEY"),c.createElement(rIe,null,"Buy, sell, and trade with ",Jo,", the only investing platform that helps you invest in yourself."))),wIe=u.div`
  background-color: ${({theme:e})=>e.themeColors.appBackground};

  display: flex;
  flex: 1;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  max-width: 900px;
  margin: 0 auto;
`,SIe=u.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 50%;
  padding: 48px;

  @media (max-width: 875px) {
    width: 100%;
    padding: 16px;
  }
`,kIe=u.div`
  min-height: 100vh;
  width: 100%;

  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  @media (max-width: 875px) {
    display: block;
  }
`,TIe=({LeftComponent:e,RightComponent:t})=>c.createElement(wIe,null,c.createElement(kIe,null,c.createElement(SIe,null,e),c.createElement(SIe,null,t))),IIe=u.div`
  ${Rx} {
    padding: 24px;

    -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  }
`,NIe=()=>c.createElement(TIe,{LeftComponent:c.createElement(xIe,null),RightComponent:c.createElement(IIe,null,c.createElement(Fx,null,c.createElement(EIe,null)))});const AIe={multiple:"Please complete all fields to sign up.",firstName:"Please enter your first name.",lastName:"Please enter your last name.",email:"Please enter your email",password:"Please enter a password with at least 8 characters."},PIe=u.div`
  * {
    color: ${({theme:e})=>e.themeColors.text};

    :hover {
      text-decoration: none;
      opacity: 0.8;
    }
  }
`,DIe=()=>c.createElement(sIe,null,c.createElement(oIe,null,"By signing up you agree to our"," ",c.createElement("a",{href:"https://tornado.com/terms_of_service",target:"_blank",rel:"noopener noreferrer"},"Terms of Service"),","," ",c.createElement("a",{href:"https://tornado.com/privacy_policy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","and"," ",c.createElement("a",{href:"https://tornado.com/referral_rules",target:"_blank",rel:"noopener noreferrer"},"Referral Program Rules")),c.createElement(lIe,null,c.createElement("span",null,"Signup bonus of $5 - $1,000 is available in new brokerage accounts only.  ","Limited-time offer. A linked bank account, deposit of at least $10, and/or a trade in your account may be required.  ","Please see ",c.createElement("a",{href:"https://tornado.com/rewards_rules",target:"_blank",rel:"noopener noreferrer"},"Program Rules")," for details."))),OIe=()=>{const[e,t]=c.useState(""),[n,r]=c.useState(""),[i,a]=c.useState(""),[s,l]=c.useState(""),[d,u]=c.useState(!1),[h,p]=c.useState(!1),[m,g]=c.useState(""),[y,_]=c.useState(!1),f=c.createRef();c.useEffect((()=>{const e=fe(window.location.search);if(e.email){_(!0);const t=decodeURIComponent(e.email);a(t)}}),[]);const v=()=>{u(!1),p(!0)},E=e=>{u(!1),g(e)},b=t=>{t&&t.preventDefault(),u(!0);const r=(({firstName:e,lastName:t,email:n,password:r})=>{const i={firstName:""!==e.trim(),lastName:""!==t.trim(),email:""!==n.trim(),password:""!==r.trim()&&r.length>7},a=Object.values(i).filter((e=>!1===e)).length,s=a>0;if(!s)return{isValid:!0};if(s&&a>1)return{isValid:!1,validationField:"multiple"};if(s&&1===a)return{isValid:!1,validationField:Object.entries(i).filter((([e,t])=>!1===t))[0][0]}})({firstName:e,lastName:n,email:i,password:s});if(r.isValid){g(null);const r=f.current.getValue();!async function({firstName:e,lastName:n,email:r,password:i,rememberMe:a,userSignUpComplete:s,userSignUpError:l,recaptchaValue:c}){try{const t=await fetch(`${sd}/api/v1/util/csrf`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await t.json(),{csrf_token:d}=a,u={},h=await fetch(`${sd}/users`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":d},body:JSON.stringify({user:o({first_name:e,last_name:n,email:r,password:i,terms_of_service:"1","g-recaptcha-response":c},u)})}),p=await h.json();p.error?l(p.error):s()}catch(t){console.error(t)}}({firstName:e,lastName:n,email:i,password:s,rememberMe:1,recaptchaValue:r,userSignUpComplete:v,userSignUpError:E})}else u(!1),AIe[r.validationField]&&g(AIe[r.validationField])};return d?c.createElement(ZTe,null,c.createElement(Pw,null)):h?c.createElement(QTe,null,c.createElement(Iw,{top:8},c.createElement(rIe,null,"We've sent a confirmation link to your email address. "),c.createElement(rIe,null,"Please check your email, and click the link to activate your account."),c.createElement(Iw,null,c.createElement(PIe,null,c.createElement("b",null,c.createElement(A,{to:"/login"},"Log In")))))):c.createElement("div",{onKeyDown:e=>(e=>{13===e.keyCode&&b(e)})(e)},c.createElement(QTe,null,c.createElement("form",null,c.createElement(iIe,null,"Sign Up"),c.createElement(Iw,{top:4},c.createElement(aIe,null,"Already have an account? ",c.createElement(A,{to:"/login"},"Log In"))),y&&c.createElement(Iw,{top:16},c.createElement(cIe,null,"Continue sign up for ",c.createElement("b",null,i),", please enter your details below to complete registration")),c.createElement(Iw,{top:16},c.createElement(hIe,{id:"first-name-field",placeholder:"First Name",type:"text",value:e,onChange:e=>t(e.target.value)})),c.createElement(hIe,{id:"last-name-field",placeholder:"Last Name",type:"text",value:n,onChange:e=>r(e.target.value)}),!y&&c.createElement(hIe,{id:"email-field",placeholder:"Email",type:"email",value:i,onChange:e=>a(e.target.value),autoComplete:"email"}),c.createElement(hIe,{id:"password-field",placeholder:"Password",type:"password",value:s,onChange:e=>l(e.target.value),autoComplete:"current-password"}),c.createElement(ee,{ref:f,sitekey:rd()}),c.createElement(Iw,{top:16},c.createElement(hx,{id:"sign-up-submit",fullWidth:!0,onClick:b},"Sign Up")),c.createElement(Iw,{top:4},c.createElement(KTe,null,m||c.createElement("span",{style:{color:"transparent"}},"."))),c.createElement(Iw,{top:16},c.createElement(DIe,null)))))},LIe=u.div`
  max-width: 400px;
  margin: 0 auto;

  ${Rx} {
    padding: 24px;

    -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  }
`,RIe=()=>c.createElement(TIe,{LeftComponent:c.createElement(xIe,{hideOnMobile:!0}),RightComponent:c.createElement(LIe,null,c.createElement(Fx,null,c.createElement(OIe,null)))}),FIe=u.div`
  ${Rx} {
    padding: 24px;

    -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  }
`;function MIe(){const[e,t]=C.exports.useState(""),[n,r]=C.exports.useState(!1),[i,a]=C.exports.useState(!1),[s,o]=C.exports.useState(!0),[l,d]=C.exports.useState(""),u=c.createRef(),h=()=>{r(!1),a(!0)},p=e=>{r(!1),o(!0),d(e)},m=t=>{t&&t.preventDefault(),r(!0);if(""!==e.trim()){o(!1);const n=u.current.getValue();!async function({email:e,recaptchaValue:n,userPasswordComplete:r,userPasswordError:i}){try{const t=await aU(`${sd}/api/v1/util/csrf`,"GET"),a=await t.json(),{csrf_token:s}=a,o=await aU(`${sd}/users/password`,"POST",JSON.stringify({user:{email:e,"g-recaptcha-response":n}}),[["X-CSRF-Token",s]]),l=await o.json();l.error?i(l.error):r()}catch(t){i("An Error occured please. Please try again."),console.error(t)}}({email:e,recaptchaValue:n,userPasswordComplete:h,userPasswordError:p})}else o(!0),r(!1),d("Please enter your email address.")};return i?c.createElement(ii,null,c.createElement("div",null,c.createElement(Iw,{bottom:16},c.createElement(iIe,null,"Check Your Email")),c.createElement(Ei,null,"If an active ",Jo," account is associated with this email address, we'll send you an email with instructions on how to reset your password."),c.createElement(Iw,{top:16},c.createElement(aIe,null,"Back to ",c.createElement(A,{to:"/login"},"Sign In"))))):n?c.createElement(ZTe,null,c.createElement(Pw,{text:"Submitting..."})):c.createElement("div",{onKeyDown:e=>(e=>{13===e.keyCode&&m(e)})(e)},c.createElement(QTe,null,c.createElement("form",null,c.createElement(bi,{bold:!0},"Forgot your password?"),c.createElement(Iw,{top:16},c.createElement(hIe,{id:"email-field",placeholder:"Email",type:"email",value:e,onChange:e=>t(e.target.value),autoComplete:"email"})),c.createElement(ai,{padding:"0px 0 10px 0"},c.createElement(ee,{ref:u,sitekey:rd()})),s?c.createElement(Iw,{top:8,bottom:16},c.createElement(KTe,null,l)):null,c.createElement(hx,{id:"forgot-password-submit",fullWidth:!0,onClick:m},"Submit"),c.createElement(Iw,{top:8,left:2},c.createElement(aIe,null,"Back to ",c.createElement(A,{to:"/login"},"Sign In"))))))}const UIe=()=>c.createElement(TIe,{LeftComponent:c.createElement(xIe,null),RightComponent:c.createElement(FIe,null,c.createElement(Fx,null,c.createElement(MIe,null)))}),$Ie=u.div`
  ${Rx} {
    padding: 24px;

    -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.1);
  }
`;function BIe(){const[e,t]=C.exports.useState(""),[n,r]=C.exports.useState(""),[i,a]=C.exports.useState(""),[s,o]=C.exports.useState(!1),[l,d]=C.exports.useState(!1),[u,h]=C.exports.useState(!0),[p,m]=C.exports.useState("");b();const g=_();C.exports.useEffect((()=>{const e=new URLSearchParams(g.search).get("reset_password_token");a(e)}),[]);const y=()=>{o(!1),d(!0)},f=e=>{o(!1),h(!0),m(e)},v=t=>{t&&t.preventDefault(),o(!0);const r=e&&e.length>7,a=e===n;r&&a?(h(!1),async function({password1:e,password2:n,resetPasswordToken:r,userPasswordComplete:i,userPasswordError:a}){try{const t=await aU(`${sd}/api/v1/util/csrf`,"GET"),s=await t.json(),{csrf_token:o}=s,l=await aU(`${sd}/users/password`,"PUT",JSON.stringify({user:{reset_password_token:r,password:e,password_confirmation:n}}),[["X-CSRF-Token",o]]),c=await l.json();c.error?(TC("Reset Password Error",{"Error Message":c.error}),a("An error occurred, please try again. If problem persists, please contact support.")):i()}catch(t){a("An error occurred, please try again."),console.error(t)}}({password1:e,password2:n,userPasswordComplete:y,userPasswordError:f,resetPasswordToken:i})):(h(!0),o(!1),a?r||m("Password must have at least 8 characters."):m("Please enter the same password twice."))};return l?c.createElement("div",null,c.createElement(iIe,null,"Your Password has been reset. "),c.createElement(Iw,{top:24},c.createElement(rIe,null,"Continue to ",c.createElement(A,{to:"/login"},"Sign In")))):s?c.createElement(ZTe,null,c.createElement(Pw,{text:"Submitting..."})):c.createElement("div",{onKeyDown:e=>(e=>{13===e.keyCode&&v(e)})(e)},c.createElement(QTe,null,c.createElement("form",null,c.createElement(Iw,{bottom:24},c.createElement(iIe,null,"Reset Password")),c.createElement(hIe,{id:"password-field-1",placeholder:"New Password",type:"password",value:e,onChange:e=>t(e.target.value),autoComplete:"current-password"}),c.createElement(hIe,{id:"password-field-2",placeholder:"Confirm New Password",type:"password",value:n,onChange:e=>r(e.target.value),autoComplete:"current-password"}),u?c.createElement(KTe,null,p):null,c.createElement(Iw,{top:16},c.createElement(hx,{id:"forgot-password-submit",fullWidth:!0,onClick:v},"Submit")),c.createElement(Iw,{top:8},c.createElement(aIe,null,"Back to ",c.createElement(A,{to:"/login"},"Sign In"))))))}const zIe=()=>c.createElement(TIe,{LeftComponent:c.createElement(xIe,null),RightComponent:c.createElement($Ie,null,c.createElement(Fx,null,c.createElement(BIe,null)))}),VIe=u.div`
  .pro-text-color,
  .pro-text-color * {
    color: ${({theme:e})=>e.themeColors.proColor};
  }
  .con-text-color,
  .con-text-color * {
    color: ${({theme:e})=>e.themeColors.conColor};
  }
  .error-text-color,
  .error-text-color * {
    color: ${({theme:e})=>e.themeColors.error};
  }
  .buy-text-color,
  .buy-text-color * {
    color: ${({theme:e})=>e.themeColors.positive};
  }
  .sell-text-color,
  .sell-text-color * {
    color: ${({theme:e})=>e.themeColors.negative};
  }
  .increase-change-text-color,
  .increase-change-text-color * {
    color: ${({theme:e})=>e.themeColors.positive};
  }
  .decrease-change-text-color,
  .decrease-change-text-color * {
    color: ${({theme:e})=>e.themeColors.negative};
  }
  .disclaimer-text-color {
    color: ${({theme:e})=>e.themeColors.border};

    a {
      color: ${({theme:e})=>e.themeColors.border};
    }
  }
  .alternate-panel-bg-color {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
  }
  .eye-catching-bg {
    background-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
    color: ${({theme:e})=>e.themeColors.buttonText};
    * {
      color: ${({theme:e})=>e.themeColors.buttonText};
    }
  }
  .react-page-container,
  .main-bg-color-match {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }
  footer.new.grey-footer {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
    border-top: 1px solid;
    border-color: ${({theme:e})=>e.themeColors.border};
  }
  textarea:focus {
    border-color: ${({theme:e})=>e.themeColors.primaryCtaButton};
  }
  .border-accent {
    border-color: ${({theme:e})=>e.themeColors.border};
  }
  .component-bg {
    background-color: ${({theme:e})=>e.themeColors.componentNoOpacity};
  }
  .pro-button-color {
    background-color: ${({theme:e})=>e.themeColors.proColor};
  }
  .con-button-color {
    background-color: ${({theme:e})=>e.themeColors.conColor};
  }

  .secondary-text-color {
    color: ${({theme:e})=>e.themeColors.secondaryText};
    * {
      color: ${({theme:e})=>e.themeColors.secondaryText};
    }
  }
`,HIe=te`
  body {
    min-height: 100vh;
    background-color: ${({theme:e})=>e.themeColors.appBackground};
    color: ${({theme:e})=>e.themeColors.text};
    font-family: ${({theme:e})=>el.normal};
  }
  
  #root {
    background-color: ${({theme:e})=>e.themeColors.appBackground};
  }
  
  span,
  div,
  a,
  div,
  p {
    font-family: inherit;
  }
  
  span,
  div,
  p {
    color: inherit;
  }
  
  a {
    color: ${({theme:e})=>e.themeColors.text};
  }
  
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: ${({theme:e})=>e.themeColors.text};
    font-family: ${({theme:e})=>el.bold};
    font-weight: 600;
  }
  
  .bold,
  b {
    color: inherit;
    font-family: ${({theme:e})=>el.bold};
    font-weight: 600;
    
    * {
      color: inherit;
      font-family: inherit;
      font-weight: inherit;
    }
  }

  .thin {
    font-family: ${({theme:e})=>el.thin};
    font-weight: 100;
  }
  
  textarea,
  select,
  input {
    background: transparent;
    border: none;
    border-bottom: 1px solid ${({theme:e})=>e.themeColors.text};
    border-radius: 0;
  }
`;class WIe extends c.PureComponent{componentDidMount(){try{let s=function(){dataLayer.push(arguments)};e=window,t=document,n="script",r="ga",e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a),ga("create","UA-72752608-1","auto"),window.dataLayer=window.dataLayer||[],s("js",new Date),s("config","UA-72752608-1"),function(e,t,n,r,i,a,s){e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(a=t.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(s=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,s))}(window,document,"script"),fbq("init","1288569494927769"),function(e,t,n){e.TiktokAnalyticsObject=n;var r=e[n]=e[n]||[];r.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],r.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<r.methods.length;i++)r.setAndDefer(r,r.methods[i]);r.instance=function(e){for(var t=r._i[e]||[],n=0;n<r.methods.length;n++)r.setAndDefer(t,r.methods[n]);return t},r.load=function(e,t){var i="https://analytics.tiktok.com/i18n/pixel/events.js";r._i=r._i||{},r._i[e]=[],r._i[e]._u=i,r._t=r._t||{},r._t[e]=+new Date,r._o=r._o||{},r._o[e]=t||{},(t=document.createElement("script")).type="text/javascript",t.async=!0,t.src=i+"?sdkid="+e+"&lib="+n,(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)},r.load("C8BVK4UI9NEM6MOGSMVG"),r.page()}(window,document,"ttq"),function(e,t,n,r,i,a,s){e.saq||(i=e.saq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._saq||(e._saq=i),i.push=i,i.loaded=!0,i.version="1.0",i.queue=[],(a=t.createElement(n)).async=!0,a.src="https://tags.srv.stackadapt.com/events.js",(s=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,s))}(window,document,"script"),saq("ts","uJ_cXSm-8zAzl4FvLNLhCw"),function(e,t,n,r,i,a,s,o,l,c){if(!e[r]||!e[r]._q){for(;o<s.length;)i(a,s[o++]);(l=t.createElement(n)).async=1,l.src="https://cdn.branch.io/branch-latest.min.js",(c=t.getElementsByTagName(n)[0]).parentNode.insertBefore(l,c),e[r]=a}}(window,document,"script","branch",(function(e,t){e[t]=function(){e._q.push([t,arguments])}}),{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking qrCode".split(" "),0),window.branch.init("key_live_go9LTiJBG0AdIOmvrpB26peiECdZGG4h")}catch(Gs){console.error(Gs)}var e,t,n,r,i,a}render(){return null}}const jIe=()=>{const e=_();return c.useEffect((()=>{const t={location:e.pathname,url:e.pathname,url_query:e.search};pl.viewed.PAGE_VIEWED.send(t)}),[e.pathname]),null},GIe=K(X),qIe=()=>{const e=JO(!0),t=JO(),n=(()=>{const[e,t]=c.useState(KO()),n=c.useCallback((n=>{n!==e&&t(n)}),[e]);return c.useEffect((()=>{const e=()=>{n(KO())};return window.$(window).on("resize",e),()=>window.$(window).off("resize",e)}),[n]),e})(),r=l(o({colorTheme:t,colorThemeName:e,apiName:e},vr),{colorPalette:vr,breakpoints:zr,themeColors:Br[e],screenSize:n,themes:Br});return console.log({theme:r}),c.createElement(ne,{theme:r},c.createElement(c.Fragment,null,c.createElement(HIe,null),c.createElement(re,{basename:"/app"},c.createElement(jTe,null,c.createElement(VIe,{className:"app-container"},c.createElement(WIe,null),c.createElement(jIe,null),c.createElement(GIe,null,c.createElement(Q,{path:"/learn-and-earn-more-info-share",exact:!0,element:c.createElement(GTe,null)}),c.createElement(Q,{path:"/learn-and-earn-share/:name",exact:!0,element:c.createElement(qTe,null)}),c.createElement(Q,{path:"/login",exact:!0,element:c.createElement(NIe,null)}),c.createElement(Q,{path:"/signup",exact:!0,element:c.createElement(RIe,null)}),c.createElement(Q,{path:"/users/sign_up",exact:!0,element:c.createElement(RIe,null)}),c.createElement(Q,{path:"/forgot_password",exact:!0,element:c.createElement(UIe,null)}),c.createElement(Q,{path:"/reset_password",exact:!0,element:c.createElement(zIe,null)}),c.createElement(Q,{path:"/plaid",element:c.createElement(V9,null)}),c.createElement(Q,{path:"/*",element:c.createElement(zTe,null)})))))))},YIe={resources:{},marketState:wc,marketHoursData:null,sessionRiskId:null,emailInviteCopy:null,componentModal:{}};const KIe={};const QIe={value:null};const ZIe={value:tl};const XIe={is_enough_for_chart:null,equity_history:null,isLoadingEquityHistory:!1,documents:null};const JIe={hasLoadedPreviously:!1,isLoadingTransactionHistory:!0,transactions:[]};const eNe={displayingMessagesList:[]};const tNe={userLookup:{}};const nNe={isAuthenticating:!0,isAuthenticated:!1};const rNe={show:!1,text:null,linkTo:null,linkText:null,message:null};const iNe={loading:!0,lookup:{}};const aNe={editProfilePage:null};const sNe={isLoading:!0,wasError:!1,partial:null};const oNe={securities:{}},lNe=e=>{const t={};return e.forEach((e=>{t[e.name]=e.value})),t};const cNe={page:1};const dNe={loadingIdeasForUserIdsList:[],loadingIdeasForSecurityIdsList:[],ideaList:{},loading:!0,loadingCurrentUserIdeas:!0,userCreatingIdeas:{}},uNe=(e,t,n={})=>{const r=ek(e,"idea_id");return l(o(o({},t),n),{ideaList:o(o({},t.ideaList),r)})};const hNe={isLoading:!1,isLoadingNetworks:!1,isLoadingContacts:!1,networks:[],contactsData:{},partial:null};const pNe={show:!1,data:null};const mNe={riskProfiles:[],investmentObjectiveSettings:{}};const gNe={karmaTotal:null,reachedDailyMax:!1};const yNe={liveTrading:{loaded:!1},liveAccounts:{loaded:!1,accounts:null,paperTradingAccount:null},linkingPlaidAccount:!1};let _Ne,fNe,vNe,ENe,bNe;const CNe={isLoaded:!1,isEligible:null,isEnrolled:null,annualFee:null};const xNe={};const wNe={alwaysOpen:window.$(window).width()>qc,collapsed:!0,showSearchHeader:!1};const SNe={newsBySecurityId:{},ogoByUrl:{}};const kNe={autoexpand:!1,loadingCount:!0,loading:!0,unseenCount:0,notificationsList:[],page:null,batch_index:null,didLastReturnNotifications:!1,didReturnNotifications:!1};const TNe={security:{},user:{}},INe=(e,t,n)=>{const{objectName:r,requestName:i,ids:a}=e,s=l(o({},n),{[r]:o({},n[r]||{})});return r in s?a.forEach((e=>{e in s[r]?"start"===t?s[r][e].push(i):s[r][e]=s[r][e].filter((e=>i!==e)):"start"===t&&(s[r][e]=[i])})):"start"===t&&(s[r]={},a.forEach((e=>{s[r][e]=[i]}))),s};const NNe={loading:!0,isOptimizerRunning:!1,latestOptimizerCallTimestamp:null,showPanel:!1,data:{},optimizeConstraints:{loading:!0,list:[]}};const ANe={loading:!0,isRebalancerRunning:!1,latestRebalancerCallTimestamp:null,showPanel:!1,data:{}};const PNe=(e,t)=>{const{positionIdsBySecurityId:n,lookup:r}=t,i=o({},r),a=o({},n);return e.forEach((e=>{const{id:t,security_id:n}=e;i[t]=e,a[n]||(a[n]=[]),a[n].includes(t)||a[n].push(t)})),l(o({},t),{lookup:i,positionIdsBySecurityId:a})},DNe={isLoaded:!1,wasErrorLoading:!1,positionIdsBySecurityId:{},lookup:{}};const ONe={isLoading:!0,isLoaded:!1,isError:!1,error:null,buying_power:null,has_free_trading:null,trade_credit:null,not_placed_orders:[],placed_orders:[],awaiting_approval_orders:[],placedOrdersLookup:{},deleted_orders:[]};const LNe={};const RNe={pagesLookup:{about:{isLoading:!0,wasError:!1,partial:null},salesInquiry:{isLoading:!0,wasError:!1,partial:null},enterprise:{isLoading:!0,wasError:!1,partial:null},legal:{isLoading:!0,wasError:!1,partial:null},termsOfService:{isLoading:!0,wasError:!1,partial:null},privacyPolicy:{isLoading:!0,wasError:!1,partial:null},marginDisclosure:{isLoading:!0,wasError:!1,partial:null},referralRules:{isLoading:!0,wasError:!1,partial:null},viewpointGuidelines:{isLoading:!0,wasError:!1,partial:null}}};const FNe={loading:!0,accounts:{},num_accounts:0};function MNe(e){let t=0;return e.externalPositions&&e.externalPositions.accounts&&(t=Object.keys(this.props.externalPositions.accounts).length),t}const UNe={loading:!0,positions:{},userPortfolioDict:{}};const $Ne={loadingFilters:!1,securities:[],securitiesInPortfolioOptimizer:[],selections:{loading:!0},filterResultsCounterReturned:[],counter:0};const BNe={initializing:!0,loading:!1,loaded:!1,wasError:!1,completed_referral_count:0,referral_count:0,live_trading_approved_referral_count:null,cash_requiring_trade_to_keep:null,next_cash_expiration_date:null,referral_reward_total_redeemed:null,referral_reward_total_approved:null,funding_reward_total_redeemed:null,funding_reward_total_approved:null,referral_rewards_not_redeemed_count:null,funding_rewards_not_redeemed_count:null,options_total_redeemed:null};const zNe={isAppScrollLocked:!1};const VNe={};const HNe={queries:[],data:{}};let WNe,jNe;const GNe={securitiesList:{}};const qNe={securities:{}};const YNe={securities:{}};const KNe={loadingSecuritiesList:[],lookup:{},earningsAnnouncements:null,isLoadingEarningsAnnouncements:!1};const QNe={securityLookup:{},thoughtsByIdSuggested:[]};const ZNe={loaded:!1,tour_step:null,is_on_tour:null};const XNe={userDict:{}};const JNe={currentUserId:null,userDict:{}};const eAe={userDict:{}};const tAe={loadedPendingConnectionsAt:null,userList:{},peopleYouMayKnow:{loading:!0,usersYouMayKnow:[]},connectionsPerformance:{loading:!0},queries:[],queryResults:{}};const nAe={lookup:{},adminUserIdToViewpointLookup:{},nameToIdLookup:{},subscriptionIds:[],featuredSubscriptionIds:[],allViewpointIds:[],viewpointAdminUserIds:[],featuredSubscriptionIdsDisplayOrder:[],defaultSelection:null};const rAe={securities:[]};const iAe={lookupById:[]};const aAe={ordersLookup:{},not_placed_orders:[],placed_orders:[],awaiting_approval_orders:[],deleted_orders:[]};const sAe=ie({u_orders:function(e=aAe,t){switch(t.type){case Mc:{const n=t.payload,r=(e=>{const t={},{not_placed_orders:n,placed_orders:r,awaiting_approval_orders:i,deleted_orders:a}=e;return null==n||n.forEach((e=>{t[e.id]=e})),null==r||r.forEach((e=>{t[e.id]=e})),null==i||i.forEach((e=>{t[e.id]=e})),null==a||a.forEach((e=>{t[e.id]=e})),t})(n);return l(o(o({},e),n),{ordersLookup:o(o({},e.ordersLookup),r)})}case Uc:{const n=t.payload,r={};return n.forEach((e=>r[e.id]=e)),l(o({},e),{ordersLookup:o(o({},e.ordersLookup),r),placed_orders:[...e.placed_orders,...n]})}case $c:{const n=t.payload;return l(o({},e),{ordersLookup:l(o({},e.ordersLookup),{[n.id]:n}),not_placed_orders:[...e.not_placed_orders,n]})}case Bc:{const n=t.payload;return l(o({},e),{ordersLookup:l(o({},e.ordersLookup),{[n.id]:n}),not_placed_orders:e.not_placed_orders.map((e=>e.id===n.id?n:e))})}case zc:{const n=t.payload;return l(o({},e),{not_placed_orders:e.not_placed_orders.filter((e=>e.id!==n))})}case Vc:return l(o({},e),{not_placed_orders:[]});default:return e}},appHeight:function(e=QIe,t){switch(t.type){case"SET_APP_HEIGHT":const n=t.payload;return n!==e.value?{value:n}:e;default:return e}},colorTheme:function(e=ZIe,t){switch(t.type){case"SET_COLOR_THEME":const n=t.payload;return n!==e.value?{value:n}:e;default:return e}},actionMessage:function(e=eNe,t){let n=t.payload||{},r=n.id,i=e.displayingMessagesList;switch(t.type){case"SHOW_ACTION_MESSAGE":return i.some((e=>e.id===r))?(Mk("Ignoring 'SHOW_ACTION_MESSAGE' action, duplicate id found in actionMessage store",e),e):l(o({},e),{displayingMessagesList:[...i,n]});case"DISMISS_ACTION_MESSAGE":return l(o({},e),{displayingMessagesList:[...i.filter((e=>e.id!==r))]});default:return e}},appStorage:function(e=KIe,t){const n=t.payload;switch(t.type){case"SAVE_APP_STORAGE":return o(o({},e),n);case"REMOVE_KEY_APP_STORAGE":let t={};return Object.keys(e).forEach((r=>{r!==n&&(t[r]=e[r])})),t;default:return e}},activeIdea:function(e={},t){switch(t.type){case"SET_ACTIVE_IDEA":return o({},t.payload);default:return e}},application:function(e=YIe,t){switch(t.type){case Pc:{const n=t.payload;return l(o({},e),{componentModal:n})}case Dc:return l(o({},e),{componentModal:{}});case"ADD_DATA_TYPES":const n=t.payload;return l(o({},e),{resources:o(o({},e.resources),n)});case"SET_MARKET_STATE":return t.payload!==e.marketState?l(o({},e),{marketState:t.payload}):e;case"SET_MARKET_HOURS_DATA":return l(o({},e),{marketHoursData:t.payload});case"SET_SESSION_RISK_ID":return{state:e,sessionRiskId:t.payload};case"UPDATE_EMAIL_INVITE_COPY":return{state:e,emailInviteCopy:t.payload};case"UPDATE_STATIC_COPY":return l(o({},e),{staticCopy:t.payload});default:return e}},ask:function(e=tNe,t){const n=t.payload||{},r=n.askData||{},{isPermitted:i,isNotPermitted:a,isNotPermittedReason:s}=n,c=r.askType,d=r[`${c}_id`],u=r.asked_user_id||"CTL",h=e.userLookup[u]||{},p=h[c]||{};switch(t.type){case"SEND_ASK":return e;case"UPDATE_ASK_PERMISSION":return l(o({},e),{userLookup:l(o({},e.userLookup),{[u]:l(o({},h),{[c]:l(o({},p),{[d]:!!a&&s})})})});default:return e}},authentication:function(e=nNe,t){switch(t.type){case"USER_AUTHENTICATION_SUCCESS":return l(o({},e),{isAuthenticated:!0,isAuthenticating:!1});case"USER_AUTHENTICATION_FAILURE":return l(o({},e),{isAuthenticated:!1,isAuthenticating:!1});default:return e}},banner:function(e=rNe,t){switch(t.type){case"SHOW_BANNER":const n=t.payload.banner,r=!!n.text,i={message:n.text,linkTo:n.link,linkText:n.link_text,status:n.status};return o(l(o({},e),{show:r}),i);case"DISMISS_BANNER":return l(o({},e),{show:!1});default:return e}},collectives:function(e=iNe,t){switch(t.type){case"ADD_COLLECTIVES":const{collectives:n}=t.payload,r={};return n.forEach((e=>{r[e.user_id]=e})),l(o({},e),{loading:!1,lookup:o(o({},e.lookup),r)});default:return e}},currentUser:function(e=aNe,t){switch(t.type){case"ADD_CURRENT_USER_QUICK_INFO":return o(o({},e),t.payload);case"UPDATE_USER_PROPERTY":const n=t.payload;return o(o({},e),n);case"AGREE_TO_BD_TERMS":return l(o({},e),{has_agreed_to_bd_terms:!0});case"CONVERT_CURRENT_USER_TO_LIVE_TRADING":return l(o({},e),{is_live_trading:!0});case"END_ONBOARDING":return l(o({},e),{has_completed_onboarding:!0});case"SET_SUBSCRIBER":return l(o({},e),{is_subscriber:!0});case"ADD_EDIT_PROFILE_PAGE":return l(o({},e),{editProfilePage:t.payload.page});case"REMOVE_EDIT_PROFILE_PAGE":return l(o({},e),{editProfilePage:null});case"REJECT_LIVE_TRADING_ACCOUNT":return l(o({},e),{allow_live_trading:!1});case"USE_TRADING_CREDITS":const r=t.payload.tradingCreditsUsed;return l(o({},e),{free_credit_available:e.free_credit_available-r});case"TRANSACTION_ACCEPTED":return l(o({},e),{has_funded:!0,eligible_for_funding_match_reward:!1});case"UPLOAD_AVATAR_IMAGE":case"DELETE_AVATAR_IMAGE":return l(o({},e),{avatar_url:t.payload});case"START_MEMBERSHIP":default:return e}},footer:function(e=sNe,t){switch(t.type){case"ADD_FOOTER_PARTIAL":return l(o({},e),{isLoading:!1,wasError:!1,partial:t.payload});case"FOOTER_LOAD_ERROR":return l(o({},e),{isLoading:!1,wasError:!0});default:return e}},fundamentalData:function(e=oNe,t){let n,r,i;switch(t.type){case"ADD_SECURITY_FUNDAMENTAL_DATA":return n=t.payload,r={},Array.isArray(n)?(n.forEach((e=>{r[e.security_id]=lNe(e.fundamentals)})),l(o({},e),{securities:o(o({},e.securities),r)})):(i=n,l(o({},e),{securities:o(o({},e.securities),{[n.security_id]:lNe(i.fundamentals)})}));default:return e}},history:function(e=XIe,t){switch(t.type){case"ADD_HISTORY_DOCUMENTS_DATA":return l(o({},e),{documents:t.payload});case"GET_HISTORY_EQUITY_DATA":return l(o({},e),{isLoadingEquityHistory:!0});case"ADD_HISTORY_EQUITY_DATA":return l(o({},e),{isLoadingEquityHistory:!1,is_enough_for_chart:t.payload.is_enough_for_chart,equity_history:t.payload.equity_history});default:return e}},historyTransactions:function(e=JIe,t){switch(t.type){case"GET_HISTORY_TRANSACTIONS_DATA":return l(o({},e),{isLoadingTransactionHistory:!0});case"ADD_HISTORY_TRANSACTIONS_DATA":return l(o({},e),{hasLoadedPreviously:!0,isLoadingTransactionHistory:!1,transactions:t.payload});case"CANCEL_FUNDING_TRANSACTION":const n=t.payload.id,r=t.payload.transaction,i=[];return e.transactions.forEach((e=>{if(e.transactions.some((e=>e.funding_transfer_id===n))){const t={date:e.date},a=e.transactions.map((e=>e.funding_transfer_id===n?r:e));t.transactions=a,i.push(t)}else i.push(e)})),l(o({},e),{transactions:i});default:return e}},horizontalList:function(e=cNe,t){switch(t.type){case"INCREMENT_HORIZONTAL_LIST":return l(o({},e),{page:e.page+1});case"DECREMENT_HORIZONTAL_LIST":return l(o({},e),{page:e.page-1});case"RESET_HORIZONTAL_LIST":return l(o({},e),{page:1});default:return e}},ideas:function(e=dNe,t){const n=Object.keys(e.ideaList),r=e.ideaList;switch(t.type){case"LOADING_IDEAS_FOR_SECURITY":{const n=t.payload;return Array.isArray(n)||Uk("Expecting an Array for payload of securityIds"),l(o({},e),{loadingIdeasForSecurityIdsList:[...e.loadingIdeasForSecurityIdsList,...n]})}case"LOADING_IDEAS_FOR_USER":{const n=t.payload;return Array.isArray(n)||Uk("Expecting an Array for payload of userIds"),l(o({},e),{loadingIdeasForUserIdsList:[...e.loadingIdeasForUserIdsList,...n]})}case"LOADING_IDEAS":{const n=t.payload;Array.isArray(n)||Uk("Expecting an Array for payload of ideaIds");const r={};return n.forEach((e=>{r[e]={loading:!0}})),uNe(r,e)}case"ADD_IDEAS_FOR_SECURITY":{const n=t.payload.ideas,r=t.payload.ids,i=e.loadingIdeasForSecurityIdsList.filter((e=>r.every((t=>t!==e))));return uNe(n,e,{loadingIdeasForSecurityIdsList:i})}case"ADD_USER_IDEAS":{const n=t.payload.ideas,r=t.payload.ids,i=e.loadingIdeasForUserIdsList.filter((e=>r.every((t=>t!==e))));return uNe(n,e,{loadingIdeasForUserIdsList:i})}case"ADD_CURRENT_USER_IDEAS":{const n=t.payload.ideas;return uNe(n,e,{loadingCurrentUserIdeas:!1})}case"ADD_IDEAS":{const n=t.payload.filter((e=>"error"!==e.status)),r=ek(n,"idea_id"),i=n.map((e=>AS(e))),a={};return Object.keys(e.userCreatingIdeas).map((e=>parseInt(e,10))).forEach((t=>!i.includes(t)&&(a[t]=e.userCreatingIdeas[t]))),l(o({},e),{ideaList:o(o({},e.ideaList),r),userCreatingIdeas:a})}case"UPDATE_IDEA":{const n=t.payload,r=o(o({},e.ideaList[n.idea_id]),n);return l(o({},e),{ideaList:l(o({},e.ideaList),{[r.idea_id]:r})})}case"REFRESHING_IDEA_DATA":{const i=t.payload.securities.map((e=>parseInt(e))),a=[];n.forEach((e=>{let t=r[e],n=AS(t);i.includes(n)&&a.push(t.idea_id)}));const s={};return a.forEach((e=>{let t=l(o({},r[e]),{loading:!0});s[e]=t})),l(o({},e),{ideaList:o(o({},e.ideaList),s)})}case"CURRENT_USER_CREATING_IDEAS":{const n=t.payload;let r=Array.isArray(n)?n[0]:n;const i={},a={idea_id:void 0,security:{security_id:r}};return i[r]=a,l(o({},e),{userCreatingIdeas:o(o({},e.userCreatingIdeas),i)})}case"REMOVE_CURRENT_USER_CREATING_IDEAS":{const n=t.payload,r={};return Object.keys(e.userCreatingIdeas).map((e=>parseInt(e,10))).forEach((t=>!n.includes(t)&&(r[t]=e.userCreatingIdeas[t]))),l(o({},e),{userCreatingIdeas:r})}case"REMOVE_IDEA":const a=t.payload,s=o({},e.ideaList),c=ek((i=s,Object.keys(i).map((e=>i[e]))).filter((e=>e.idea_id!==a.idea_id)),"idea_id");return l(o({},e),{ideaList:c});default:return e}var i},importConnections:function(e=hNe,t){switch(t.type){case"LOADING_IMPORT_CONNECTIONS_PAGE":return l(o({},e),{isLoading:!0});case"LOADING_IMPORT_NETWORKS":return l(o({},e),{isLoadingNetworks:!0});case"LOADING_IMPORT_CONTACTS":return l(o({},e),{isLoadingContacts:!0});case"ADD_IMPORT_CONNECTIONS_PAGE":return l(o({},e),{isLoading:!1,partial:t.payload.partial});case"REMOVE_IMPORT_CONNECTIONS_PAGE":return l(o({},e),{partial:null});case"ADD_IMPORT_CONTACTS":return l(o({},e),{isLoadingContacts:!1,contactsData:o({},t.payload)});case"ADD_IMPORT_NETWORKS":const n=t.payload.networks.filter((t=>e.networks.every((e=>e.network!==t.network))));return l(o({},e),{isLoadingNetworks:!1,networks:[...e.networks,...n]});default:return e}},infoIcon:function(e=pNe,t){switch(t.type){case"SHOW_INFO_ICON_MODAL":return l(o({},e),{show:!0,data:t.payload});case"HIDE_INFO_ICON_MODAL":return l(o({},e),{show:!1,data:null});default:return e}},investmentObjectives:function(e=mNe,t){let n;switch(t.type){case"ADD_AVAILABLE_RISK_PROFILES":const r=t.payload.riskProfiles;return l(o({},e),{riskProfiles:r});case"ADD_INVESTMENT_OBJECTIVE_SETTINGS":return n=t.payload.investmentObjectiveSettings,l(o({},e),{investmentObjectiveSettings:n});case"UPDATE_INVESTMENT_OBJECTIVE_SETTINGS":return n=t.payload.investmentObjectiveSettings,l(o({},e),{investmentObjectiveSettings:o(o({},e.investmentObjectiveSettings),n)});default:return e}},karma:function(e=gNe,t){switch(t.type){case"ADD_KARMA_POINTS":if(isNaN(e.karmaTotal))return console.error("state.karmaTotal is null"),e;const n=t.payload;return isNaN(n)?e:l(o({},e),{karmaTotal:e.karmaTotal+n,reachedDailyMax:!1});case"UPDATE_KARMA_POINTS":return l(o({},e),{karmaTotal:t.payload});case"REACHED_MAX_DAILY_KARMA":return l(o({},e),{reachedDailyMax:!0});default:return e}},learn:function(e=xbe,t){switch(t.type){case v_:{const n=t.payload;return l(o({},e),{previewLesson:o(o({},e.previewLesson),n)})}case E_:{const t=e.blogDisclaimerId,n={id:t,blogPost:"",blogPostName:""};return l(o({},e),{previewLesson:l(o({},e.previewLesson),{blogDisclaimerId:t+1,blogDisclaimers:l(o({},e.blogDisclaimers),{[t]:n})})})}case b_:{const n=o({},t.payload);return l(o({},e),{previewLesson:l(o({},e.previewLesson),{blogDisclaimers:l(o({},e.blogDisclaimers),{[n.id]:n})})})}case C_:{const n=o({},e.blogDisclaimers);return delete n[t.payload.id],l(o({},e),{previewLesson:l(o({},e.previewLesson),{blogDisclaimers:n})})}case x_:{const t=e.disclaimerId,n={id:t,link:"",text:""};return l(o({},e),{previewLesson:l(o({},e.previewLesson),{disclaimerId:t+1,disclaimers:l(o({},e.disclaimers),{[t]:n})})})}case w_:{const n=o({},t.payload);return l(o({},e),{previewLesson:l(o({},e.previewLesson),{disclaimers:l(o({},e.disclaimers),{[n.id]:n})})})}case S_:{const n=o({},e.disclaimers);return delete n[t.payload.id],l(o({},e),{previewLesson:l(o({},e.previewLesson),{disclaimers:n})})}case g_:{const n=t.payload;return l(o({},e),{lessonData:l(o({},e.lessonData),{[n.id]:n})})}case y_:{const n=t.payload;return l(o({},e),{completed_lessons:n})}case __:{const n=[...Object.values(w1).map((e=>({id:e.id,description:e.name,preview_phrase:e.phraseDisplay}))),...t.payload],r=(e=>{const t={};return e.forEach((e=>{t[e.id]=e})),t})(n),i=(e=>{const t={};return e.forEach((e=>{const n=q0(e.description);t[n]=e.id})),t})(n);return l(o({},e),{lookup:r,lessonNameLookup:i})}case f_:{const{nextLessonId:n,nextLessonReward:r,nextLessonRewardAtXP:i,nextLessonCompletionXP:a,completedLessonCount:s,hoursUntilNextLesson:c,messagingStates:d,status:u}=t.payload;return l(o({},e),{nextLessonId:n,nextLessonReward:r,nextLessonRewardAtXP:i,nextLessonCompletionXP:a,completedLessonCount:s,hoursUntilNextLesson:c,messagingStates:d,status:u})}default:return e}},liveAccount:function(e=yNe,t){switch(t.type){case"START_LINKING_PLAID_ACCOUNT":return l(o({},e),{linkingPlaidAccount:!0});case"CANCEL_LINKING_PLAID_ACCOUNT":return l(o({},e),{linkingPlaidAccount:!1});case"GET_LIVE_TRADING_ACCOUNT":let n=t.payload;return l(o({},e),{liveTrading:o(l(o({},e.liveTrading),{loaded:!0}),n)});case"UPDATE_LIVE_TRADING_ACCOUNT_STATUS":let r=t.payload;return l(o({},e),{liveTrading:l(o({},e.liveTrading),{loaded:!0,status:r})});case"LIVE_TRADING_SUBMIT_STATUS":let i=t.payload;return l(o({},e),{liveTrading:o(o({},e.liveTrading),i)});case"LIVE_TRADING_SUBMIT_FORM":let a=t.payload;return l(o({},e),{liveTrading:o(l(o({},e.liveTrading),{loaded:!0}),a)});case"LIVE_TRADING_ACCOUNT_UPDATE":let s=t.payload;return l(o({},e),{liveTrading:o(o({},e.liveTrading),s)});case"SUBMIT_APPEAL_IMAGE":return l(o({},e),{liveTrading:l(o({},e.liveTrading),{loaded:!0,accountStatus:"UNDER_REVIEW"})});case"GET_BANK_ACCOUNTS":if("paper_trading_account"in t.payload){const n={account_id:t.payload.paper_trading_account.id};return l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{loaded:!0,accounts:null,paperTradingAccount:n})})}{let n=t.payload.accounts;if(!n)return e;let r=t.payload.margin_call_amount,i=!!t.payload.is_allowed_to_deposit_funds,a=t.payload.maximum_ach_links||3;return fNe={},n.forEach((e=>fNe[e.account_id]=e)),l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{marginCallAmount:r,recurring_deposits:t.payload.recurring_deposits,isAllowedToDepositFunds:i,maxAchLinks:a,loaded:!0,accounts:o(o({},e.liveAccounts.accounts),fNe),paperTradingAccount:null})})}case"ADD_BANK_ACCOUNT":let c={[t.payload.account.account_id]:t.payload.account};return l(o({},e),{linkingPlaidAccount:!1,liveAccounts:l(o({},e.liveAccounts),{accounts:o(o({},e.liveAccounts.accounts),c)})});case"VERIFY_BANK_ACCOUNT":return e;case"VERIFY_BANK_ACCOUNT_APPROVED":let d=t.payload.id,u=e.liveAccounts.accounts[d];return ENe={[d]:l(o({},u),{can_accept_transfers:!0,needs_micro_deposit_verification:!1})},l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{accounts:o(o({},e.liveAccounts.accounts),ENe)})});case"VERIFY_BANK_ACCOUNT_MAX_ATTEMPTS_REACHED":window.scrollTo(0,0);let h=t.payload.id,p=e.liveAccounts.accounts[h];return ENe={[h]:l(o({},p),{can_accept_transfers:!1,needs_micro_deposit_verification:!1})},l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{accounts:o(o({},e.liveAccounts.accounts),ENe)})});case"CREATE_BANK_ACCOUNT_NOTICE":if(e.liveAccounts.paperTradingAccount){_Ne=e.liveAccounts.paperTradingAccount;let n=t.payload.message,r=t.payload.style;return bNe={message:n,style:r},ENe={paperTradingAccount:l(o({},e.liveAccounts.paperTradingAccount),{notice:bNe})},l(o({},e),{liveAccounts:o(o({},e.liveAccounts),ENe)})}{vNe=t.payload.id,_Ne=e.liveAccounts.accounts[vNe];let n=t.payload.message,r=t.payload.style;return bNe={message:n,style:r},ENe={[vNe]:l(o({},_Ne),{notice:bNe})},l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{accounts:o(o({},e.liveAccounts.accounts),ENe)})})}case"CLEAR_BANK_ACCOUNT_NOTICE":let m=t.payload.id,g=e.liveAccounts.accounts[m];return bNe=null,ENe={[m]:l(o({},g),{notice:bNe})},l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{accounts:o(o({},e.liveAccounts.accounts),ENe)})});case"CREATE_FUNDING_FORM_NOTICE":return bNe=t.payload,l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{notice:bNe})});case"CLEAR_FUNDING_FORM_NOTICE":return bNe=null,l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{notice:bNe})});case"TRANSACTION_ACCEPTED":const{transactionType:y,amount:_}=t.payload;return"withdrawal"===y.toLowerCase()?l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{fundsAvailable:e.liveAccounts.fundsAvailable-_})}):l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{isAllowedToDepositFunds:!1})});case"REMOVE_BANK_ACCOUNT":vNe=t.payload.id.toString();let f=Object.keys(e.liveAccounts.accounts).filter((e=>e!==vNe));return fNe={},f.forEach((t=>fNe[t]=e.liveAccounts.accounts[t])),l(o({},e),{liveAccounts:l(o({},e.liveAccounts),{accounts:o({},fNe)})});default:return e}},livePrice:function(e=iAe,t){switch(t.type){case Rc:{const n={},r=t.payload;return!r||r.length<1?e:(r.forEach((e=>{const{id:t}=e;n[t]=e})),{lookupById:o(o({},e.lookupById),n)})}default:return e}},marketMonitor:function(e=rAe,t){switch(t.type){case Lc:return{securities:t.payload};default:return e}},membership:function(e=CNe,t){switch(t.type){case Oc:return o({isLoaded:!0},t.payload);default:return e}},modal:function(e=xNe,t){switch(t.type){case Fc:return o({},t.payload);case"HIDE_MODAL":return{};case"CONFIRM_MODAL":return l(o({},e.modal),{confirmed:!0});default:return e}},nav:function(e=wNe,t){switch(t.type){case"SET_SHOW_SEARCH_HEADER":return l(o({},e),{showSearchHeader:!0});case"SET_HIDE_SEARCH_HEADER":return l(o({},e),{showSearchHeader:!1});case"FORCE_UNDOCK_VERTICAL_NAV":return l(o({},e),{alwaysOpen:!1,collapsed:!0});case"RELEASE_FORCE_UNDOCK_VERTICAL_NAV":return o(o({},e),wNe);case"TOGGLE_ALWAYS_OPEN_VERTICAL_NAV":return l(o({},e),{alwaysOpen:!e.alwaysOpen});case"TOGGLE_VERTICAL_NAV":return l(o({},e),{collapsed:!e.collapsed});case"SHOW_VERTICAL_NAV":return l(o({},e),{collapsed:!1});case"HIDE_VERTICAL_NAV":return l(o({},e),{collapsed:!0});default:return e}},notifications:function(e=kNe,t){let n,r,i,a,s,c;switch(t.type){case"FETCH_NEW_NOTIFICATIONS":return o({},e);case"UPDATE_NEW_NOTIFICATIONS_COUNT":return n=t.payload.count||0,i=t.payload.autoexpand,l(o({},e),{loadingCount:!1,autoexpand:i,unseenCount:n});case"ADD_NOTIFICATIONS":return r=((e,t)=>{e.filter((e=>"thought"===e.type)).map((e=>e.data.thought.id));const n=t.notificationsList.filter((e=>"thought"===e.type)).map((e=>e.data.thought.id));return e.filter((e=>"thought"!==e.type||!n.includes(e.data.thought.id)))})(t.payload.notifications,e)||[],a=t.payload.page,s=t.payload.batch_index,c=t.payload.didReturnNotifications,e.page!==a-1&&1!==a?e:l(o({},e),{loading:!1,notificationsList:[...e.notificationsList,...r],page:a,batch_index:s,didLastReturnNotifications:e.didReturnNotifications,didReturnNotifications:c});case"UPDATE_NOTIFICATIONS":return r=t.payload.notifications||[],a=t.payload.page,s=t.payload.batch_index,c=t.payload.didReturnNotifications,t.payload.forceRefresh,l(o({},e),{loading:!1,notificationsList:[...r],page:a,batch_index:s,didLastReturnNotifications:!0,didReturnNotifications:c});case"CLEAR_NOTIFICATIONS":return l(o({},e),{loading:!0,notificationsList:[],page:null,batch_index:null,didLastReturnNotifications:!1,didReturnNotifications:!1});case"CLEAR_NEW_NOTIFICATIONS":return l(o({},e),{autoexpand:!1,unseenCount:0});case"CLEAR_NEW_NOTIFICATIONS_ALERT_EXPAND":return l(o({},e),{autoexpand:!1});default:return e}},news:function(e=SNe,t){let n,r,i,a,s;switch(t.type){case"ADD_LOADING_STATE_FOR_NEWS":return n=t.payload,r=n.securityId,e.newsBySecurityId[r]?e:(s={[r]:null},l(o({},e),{newsBySecurityId:o(o({},e.newsBySecurityId),s)}));case"ADD_LOADING_STATE_FOR_NEWS_IMAGE":n=t.payload;const c={[n.url]:{loading:!0}};return l(o({},e),{ogoByUrl:o(o({},e.ogoByUrl),c)});case"ADD_ERROR_STATE_FOR_NEWS":return n=t.payload,a=n.securityIds,l(o({},e),{newsBySecurityId:o(o({},e.newsBySecurityId),a)});case"ADD_NEWS_IMAGE_FAILURE_STATE":n=t.payload;const d={[n.url]:{loading:!1,failed:!0}};return l(o({},e),{ogoByUrl:o(o({},e.ogoByUrl),d)});case"ADD_NEWS":n=t.payload,r=n.securityId;const u=e.newsBySecurityId[r]||[];return i=n.newsData,l(o({},e),{newsBySecurityId:l(o({},e.newsBySecurityId),{[r]:[...u,...i]})});case"CLEAR_NEWS_DATA_FOR_SECURITY":n=t.payload,r=n.securityId;const h=e.newsBySecurityId,p=Object.keys(h),m={};return p.forEach((e=>{e.toString()!==r.toString()&&(m[e]=h[e])})),l(o({},e),{newsBySecurityId:m});case"ADD_NEWS_IMAGE":n=t.payload;const g={[n.url]:o({loading:!1},n.openGraphObject)};return l(o({},e),{ogoByUrl:o(o({},e.ogoByUrl),g)});default:return e}},onboarding:function(e=LNe,t){switch(t.type){case"END_ONBOARDING":default:return e}},optimizer:function(e=NNe,t){let n,r,i,a,s,c;switch(t.type){case"OPEN_OPTIMIZER_PANEL":return l(o({},e),{showPanel:!0});case"CLOSE_OPTIMIZER_PANEL":return l(o({},e),{showPanel:!1});case"RUN_OPTIMIZER":return n=t.payload.optimizerData,c=t.payload.optimizerCallTimestamp,l(o({},e),{isOptimizerRunning:!0,latestOptimizerCallTimestamp:c,data:o(o({},e.data),n)});case"NEW_OPTIMIZATION_RECEIVED":return c=t.payload.optimizerCallTimestamp,e.latestOptimizerCallTimestamp===c?(n=t.payload.optimizerData,l(o({},e),{loading:!1,isOptimizerRunning:!1,data:o(o({},e.data),n)})):(Mk("Skipped Optimization: Optimization received but is older than current optimization request"),e);case"UPDATE_LAST_OPTIMIZED_TIMESTAMP":return c=t.payload.optimizerCallTimestamp,e.latestOptimizerCallTimestamp===c?l(o({},e),{loading:!1,isOptimizerRunning:!1,data:l(o({},e.data),{lastUpdated:c})}):(Mk("Skipped Optimization Timestamp Update: Optimization received but is older than current optimization request"),e);case"ADD_OPTIMIZER_ALLOCATION_CONSTRAINTS,":return i=t.payload.optimizeConstraints,l(o({},e),{optimizeConstraints:{loading:!1,list:i}});case"CREATE_TEMPORARY_OPTIMIZER_ALLOCATION_CONSTRAINT,":return r=t.payload.optimizeConstraint,l(o({},e),{optimizeConstraints:l(o({},e.optimizeConstraints),{list:[r,...e.optimizeConstraints.list]})});case"CREATE_OPTIMIZER_ALLOCATION_CONSTRAINT,":r=t.payload.optimizeConstraint,i=Array.isArray(r)?r:[r],a=e.optimizeConstraints.list;const d=a.filter((e=>e.security_id!==i[0].security_id));return s=[...i,...d],l(o({},e),{optimizeConstraints:l(o({},e.optimizeConstraints),{list:s})});case"UPDATE_OPTIMIZER_ALLOCATION_CONSTRAINT,":return r=t.payload.optimizeConstraint,a=e.optimizeConstraints.list,s=[],a.forEach((e=>{if(e.id===r.id){const t=o(o({},e),r);s.push(t)}else s.push(e)})),l(o({},e),{optimizeConstraints:l(o({},e.optimizeConstraints),{list:s})});case"DELETE_OPTIMIZER_ALLOCATION_CONSTRAINT,":const u=t.payload.optimizerConstraintId;a=e.optimizeConstraints.list;const h=a.filter((e=>e.id!==u));return s=h,l(o({},e),{optimizeConstraints:l(o({},e.optimizeConstraints),{list:s})});case"MOVE_OPTIMIZER_ALLOCATION_CONSTRAINT_TO_TOP,":const p=t.payload.securityId;return a=e.optimizeConstraints.list,s=[],a.forEach((e=>{e.security_id===p?s.unshift(e):s.push(e)})),l(o({},e),{optimizeConstraints:l(o({},e.optimizeConstraints),{list:s})});default:return e}},orders:function(e=ONe,t){let n,r,i,a,s,c,d,u;switch(t.type){case"GETTING_ORDER_DATA":return l(o({},e),{isLoading:!0});case"ADD_ORDER_DATA":{const n=t.payload,r=n.placed_orders,i={};return r.forEach((e=>{i[e.id]=e})),l(o(l(o({},e),{isLoading:!1,isLoaded:!0}),n),{placedOrdersLookup:i})}case"ADD_PLACED_ORDER":{const n=t.payload,r={};return n.forEach((e=>{r[e.id]=e})),l(o({},e),{isLoading:!1,isLoaded:!0,placedOrdersLookup:o(o({},e.placedOrdersLookup),r)})}case"CREATE_ORDERS":return r=t.payload.orders,l(o({},e),{not_placed_orders:[...e.not_placed_orders,...r]});case"UPDATE_ORDER":return a=t.payload.updatedOrder,s=null,e.not_placed_orders.forEach(((e,t)=>{e.order_id===a.order_id&&(s=t)})),c=e.not_placed_orders.slice(0,s),d=e.not_placed_orders.slice(s+1),l(o({},e),{not_placed_orders:[...c,a,...d]});case"CANCEL_ORDER":return a=t.payload.updatedOrder,s=null,e.placed_orders.forEach(((e,t)=>{e.order_id===a.order_id&&(s=t)})),null===s&&(u=!0,e.awaiting_approval_orders.forEach(((e,t)=>{e.order_id===a.order_id&&(s=t)}))),u?(c=e.awaiting_approval_orders.slice(0,s),d=e.awaiting_approval_orders.slice(s+1),l(o({},e),{awaiting_approval_orders:[...c,a,...d]})):(c=e.placed_orders.slice(0,s),d=e.placed_orders.slice(s+1),l(o({},e),{placed_orders:[...c,a,...d]}));case"DELETE_ORDER":return n=t.payload,i=e.not_placed_orders.filter((e=>e.order_id===n)),l(o({},e),{not_placed_orders:e.not_placed_orders.filter((e=>e.order_id!==n)),deleted_orders:[...e.deleted_orders,i]});case"UNDELETE_ORDER":return n=t.payload,i=e.deleted_orders.filter((e=>e.order_id===n)),l(o({},e),{not_placed_orders:[...e.not_placed_orders,i],deleted_orders:e.deleted_orders.filter((e=>e.order_id!==n))});case"CLEAR_ORDER_BASKET":return l(o({},e),{not_placed_orders:[],deleted_orders:e.not_placed_orders});case"PLACE_ORDERS":const h=t.payload.orders,p=e.not_placed_orders.filter((e=>h.every((t=>t.order_id!==e.order_id))));return l(o({},e),u?{not_placed_orders:[...p],awaiting_approval_orders:[...e.awaiting_approval_orders,...h]}:{not_placed_orders:[...p],placed_orders:[...e.placed_orders,...h]});case"UNDO_CLEAR_ORDER_BASKET":{const n=t.payload,r=e.deleted_orders.filter((e=>n.some((t=>e.order_id===t)))),i=e.deleted_orders.filter((e=>!n.some((t=>e.order_id===t))));return l(o({},e),{not_placed_orders:[...r,...e.not_placed_orders],deleted_orders:[...i]})}default:return e}},options:function(e=DNe,t){switch(t.type){case Ac:{const n=t.payload;return PNe([n],e)}case Nc:{const n=t.payload;return Array.isArray(n)&&0!==n.length?o({isLoaded:!0},PNe(n,e)):e}default:return e}},openAjaxRequests:function(e=TNe,t){switch(t.type){case"START_AJAX_REQUEST":return INe(t.payload,"start",e);case"END_AJAX_REQUEST":return INe(t.payload,"end",e);default:return e}},pages:function(e=RNe,t){let n,r;switch(t.type){case"ADD_PAGES_PARTIAL":return n=t.payload.page,r=t.payload.partial,l(o({},e),{pagesLookup:l(o({},e.pagesLookup),{[n]:l(o({},e.pagesLookup[n]),{isLoading:!1,wasError:!1,partial:r})})});case"PAGES_LOAD_ERROR":return n=t.payload.page,l(o({},e),{pagesLookup:l(o({},e.pagesLookup),{[n]:l(o({},e.pagesLookup[n]),{isLoading:!1,wasError:!0})})});default:return e}},externalPositions:function(e=FNe,t){let n,r;switch(t.type){case"START_LOADING_EXTERNAL_POSITIONS_DATA":return l(o({},e),{loading:!0});case"ADD_EXTERNAL_POSITIONS_DATA":case"UPDATE_EXTERNAL_POSITIONS_DATA":return n=t.payload.portfolioData,r=l(o(o({},e),n),{loading:!1,num_accounts:MNe(n)}),r;default:return e}},portfolio:function(e=UNe,t){let n,r,i;switch(t.type){case"START_LOADING_PORTFOLIO_DATA":return r=t.payload.userId,l(o({},e),{userPortfolioDict:l(o({},e.userPortfolioDict),{[r]:{}})});case"ADD_PORTFOLIO_DATA":return n=t.payload.portfolioData,l(o(o({},e),n),{loading:!1});case"ADD_USER_PORTFOLIO_DATA":return n=t.payload.portfolioData,r=t.payload.userId,l(o({},e),{userPortfolioDict:l(o({},e.userPortfolioDict),{[r]:{securities:o({},n)}})});case"REMOVE_IDEA":i=t.payload,r=i.user_id;const a={},s=e.userPortfolioDict[r],c=s?s.securities:{};return Object.keys(c).forEach((e=>{e.toString()!==DS(i).toString()&&(a[e]=c[e])})),l(o({},e),{userPortfolioDict:l(o({},e.userPortfolioDict),{[r]:{securities:o({},a)}})});case"USER_PORTFOLIO_DATA_ERROR":const d=t.payload.error;return r=t.payload.userId,l(o({},e),{userPortfolioDict:l(o({},e.userPortfolioDict),{[r]:{error:d}})});default:return e}},portfolioExplorer:function(e=$Ne,t){let n,r,i;switch(o({},e),t.type){case"FILTER_SECURITIES":r=t.payload.securityIds,i=t.payload.counter;const a=e.filterResultsCounterReturned.some((e=>e>i));return i===e.counter||a?l(o({},e),{securities:[...r],filterResultsCounterReturned:[...e.filterResultsCounterReturned,i]}):l(o({},e),{filterResultsCounterReturned:[...e.filterResultsCounterReturned,i]});case"START_FILTERING_LOADING":return l(o({},e),{loadingFilters:!0,counter:e.counter+1});case"END_FILTERING_LOADING":return l(o({},e),{loadingFilters:!1});case"GET_FILTER_SELECTIONS":const{thought_leaders:s,connections:c,sectors:d}=t.payload;return l(o({},e),{selections:{loading:!1,thought_leaders:s,connections:c,sectors:d}});case"ADD_SECURITY_TO_PORTFOLIO_EXPLORER":return n=t.payload,l(o({},e),{securitiesInPortfolioOptimizer:[...e.securitiesInPortfolioOptimizer,n]});case"REMOVE_SECURITY_FROM_PORTFOLIO_EXPLORER":return n=t.payload,l(o({},e),{securitiesInPortfolioOptimizer:e.securitiesInPortfolioOptimizer.filter((e=>e!==n))});default:return e}},rebalancer:function(e=ANe,t){switch(t.type){case"OPEN_REBALANCER_PANEL":return l(o({},e),{showPanel:!0});case"CLOSE_REBALANCER_PANEL":return l(o({},e),{showPanel:!1});case"RUN_REBALANCER":{const n=t.payload.optimizerData,r=t.payload.optimizerCallTimestamp;return l(o({},e),{isRebalancerRunning:!0,latestRebalancerCallTimestamp:r,data:o(o({},e.data),n)})}case"NEW_REBALANCER_DATA_RECEIVED":{const n=t.payload.optimizerCallTimestamp;if(e.latestRebalancerCallTimestamp===n){const n=t.payload.optimizerData;return l(o({},e),{loading:!1,isRebalancerRunning:!1,data:o(o({},e.data),n)})}return Mk("Skipped Optimization: Optimization received but is older than current optimization request"),e}case"REBALANCER_RUN_FAILED":{const n=t.payload.optimizerCallTimestamp;return e.latestRebalancerCallTimestamp===n?l(o({},e),{loading:!1,isRebalancerRunning:!1}):(Mk("Skipped Optimization: Optimization received but is older than current optimization request"),e)}default:return e}},rewards:function(e=BNe,t){switch(t.type){case"LOADING_REWARDS_DATA":return l(o({},e),{loading:!0});case"GET_REWARDS_DATA":{const n=t.payload;if(!t.payload)return e;const{completed_referral_count:r,live_trading_approved_connections:i,live_trading_approved_referral_count:a,referral_count:s,requiring_ach_link_referral_count:c,requiring_live_approval_referral_count:d,requiring_trade_referral_count:u,cash_requiring_trade_to_keep:h,next_cash_expiration_date:p,referral_reward_total_redeemed:m,referral_reward_total_approved:g,funding_reward_total_redeemed:y,funding_reward_total_approved:_,referral_rewards_not_redeemed_count:f,funding_rewards_not_redeemed_count:v,options_total_redeemed:E}=n;return l(o({},e),{referral_count:s,live_trading_approved_referral_count:a,completed_referral_count:r,requiring_ach_link_referral_count:c,requiring_live_approval_referral_count:d,requiring_trade_referral_count:u,live_trading_approved_connections:i,cash_requiring_trade_to_keep:h,next_cash_expiration_date:p,referral_reward_total_redeemed:m,referral_reward_total_approved:g,funding_reward_total_redeemed:y,funding_reward_total_approved:_,referral_rewards_not_redeemed_count:f,funding_rewards_not_redeemed_count:v,options_total_redeemed:E,initializing:!1,loading:!1,loaded:!0,wasError:!1})}case"GET_REWARDS_DATA_ERROR":return l(o({},e),{loading:!1,loaded:!1,wasError:!0});case"RECEIVED_RANDOM_REWARD_REDEMPTION":{const n=t.payload.reward_amount;return l(o({},e),{not_redeemed_count:e.not_redeemed_count-1,referral_reward_total_redeemed:e.referral_reward_total_redeemed+n,cash_requiring_trade_to_keep:e.cash_requiring_trade_to_keep+n})}case"RECEIVED_REFERRAL_REWARD_REDEMPTION":{const n=t.payload.reward_amount;return l(o({},e),{referral_rewards_not_redeemed_count:e.referral_rewards_not_redeemed_count-1,referral_reward_total_redeemed:e.referral_reward_total_redeemed+n,cash_requiring_trade_to_keep:e.cash_requiring_trade_to_keep+n})}case"RECEIVED_FUNDING_REWARD_REDEMPTION":{const n=t.payload.reward_amount;return l(o({},e),{funding_rewards_not_redeemed_count:e.funding_rewards_not_redeemed_count-1,funding_reward_total_redeemed:e.funding_reward_total_redeemed+n})}default:return e}},scroll:function(e=zNe,t){switch(t.payload,t.type){case"LOCK_APP_SCROLL":return l(o({},e),{isAppScrollLocked:!0});case"UNLOCK_APP_SCROLL":return l(o({},e),{isAppScrollLocked:!1});default:return e}},search:function(e=HNe,t){switch(t.type){case"QUERY_SECURITIES":return WNe=t.payload,l(o({},e),{queries:[...e.queries,WNe]});case"QUERY_RESULTS":return WNe=t.payload.query,jNe=t.payload.results,l(o({},e),{data:l(o({},e.data),{[WNe]:[...jNe]})});default:return e}},symbolToSecurityId:function(e=VNe,t){switch(t.type){case"ADD_SYMBOL_LOOKUP":if(Array.isArray(t.payload)){const n={};return t.payload.forEach((e=>{const[t,r]=Object.entries(e)[0];n[t]=r})),o(o({},e),n)}{const n=t.payload,[r,i]=Object.entries(n)[0];return e[r]===i?e:l(o({},e),{[r]:i})}default:return e}},securities:function(e=KNe,t){let n,r,i;switch(t.type){case"LOADING_SECURITIES_DATA":return n=t.payload,l(o({},e),{loadingSecuritiesList:[...e.loadingSecuritiesList,...n]});case"ADD_SECURITIES":if(t.payload.length>0){const i={};return n=[],t.payload.forEach((t=>{r=t.security_id,n.push(r),i[r]=o(o({},e.lookup[r]),t)})),l(o({},e),{lookup:o(o({},e.lookup),i),loadingSecuritiesList:e.loadingSecuritiesList.filter((e=>!n.includes(e)))})}return i=t.payload,r=i.security_id,l(o({},e),{lookup:l(o({},e.lookup),{[r]:o(o({},e.lookup[r]),i)}),loadingSecuritiesList:e.loadingSecuritiesList.filter((e=>e!==r))});default:return e}},securitiesOrderPrice:function(e=YNe,t){switch(t.type){case"ADD_SECURITY_ORDER_PRICE_DATA":const n=t.payload.securitiesPriceData,r={};return n.forEach((t=>{r[t.security_id]=o(l(o({},e.securities[t.security_id]||{}),{loading:!1}),t)})),l(o({},e),{securities:o(o({},e.securities),r)});case"LOADING_SECURITY_ORDER_PRICE_DATA":const i=t.payload.securitiesListById,a={};return i.forEach((t=>{a[t]=l(o({},e.securities[t]||{}),{loading:!0})})),l(o({},e),{securities:o(o({},e.securities),a)});default:return e}},securitiesPrice:function(e=qNe,t){switch(t.type){case"ADD_SECURITY_PRICE_DATA":const n=t.payload.securitiesPriceData,r={};return n.forEach((t=>{r[t.id]=o(l(o({},e.securities[t.id]||{}),{loading:!1}),t)})),l(o({},e),{securities:o(o({},e.securities),r)});case"LOADING_SECURITY_PRICE_DATA":const i=t.payload.securitiesListById,a={};return i.forEach((t=>{a[t]=l(o({},e.securities[t]||{}),{loading:!0})})),l(o({},e),{securities:o(o({},e.securities),a)});default:return e}},securitiesPriceHistory:function(e=GNe,t){let n,r,i,a,s,c;switch(t.type){case"ADD_PRICE_HISTORY":return n=t.payload,i=t.payload.securities,s=n.timePeriod,Array.isArray(i)?(a=n.securities,c={},a.forEach((t=>{c[t.security_id]=l(o({},e.securitiesList[t.security_id]),{[s]:t.price_history})})),l(o({},e),{securitiesList:o(o({},e.securitiesList),c)})):(r=i,l(o({},e),{securitiesList:l(o({},e.securitiesList),{[r.security_id]:l(o({},e.securitiesList[r.security_id]),{[s]:r.price_history})})}));case"START_LOADING_PRICE_HISTORY":if(n=t.payload,i=n.securities,s=n.timePeriod,Array.isArray(i))return a=n.securities,c={},a.forEach((t=>{e.securitiesList[t.securityId]&&!(s in e.securitiesList[t.securityId])&&(c[t.security_id]=l(o({},e.securitiesList[t.security_id]),{[s]:null}))})),l(o({},e),{securitiesList:o(o({},e.securitiesList),c)});{r=i;const t=r.security_id;return e.securitiesList[r.securityId]&&!(s in e.securitiesList[r.securityId])?l(o({},e),{securitiesList:l(o({},e.securitiesList),{[t]:l(o({},e.securitiesList[t]),{[s]:e.securitiesList[t]?e.securitiesList[t][s]:null})})}):e}default:return e}},thoughts:function(e=QNe,t){let n,r,i,a,s,c,d;switch(t.type){case"CREATE_THOUGHT":return n=t.payload.thought,n.showAtTop=!0,r=n.security_id,a=e.securityLookup[r]||{},s=a.thoughtLookup||{},l(o({},e),{securityLookup:l(o({},e.securityLookup),{[r]:l(o({},a),{thoughtLookup:l(o({},s),{[n.id]:n})})})});case"ADD_THOUGHTS":return d=t.payload,c={},d.forEach((t=>{const n=t.securityId,r=t.thoughts||[],i={};r.forEach((e=>{i[e.id]=e})),c[n]=l(o({},e.securityLookup[n]||{}),{loading:!1,thoughtLookup:o(o({},(e.securityLookup[n]||{}).thoughtLookup||{}),i)})})),l(o({},e),{securityLookup:o(o({},e.securityLookup),c)});case"UPDATE_THOUGHT":return n=t.payload.thought,r=n.security_id,a=e.securityLookup[r]||{},s=a.thoughtLookup||{},l(o({},e),{securityLookup:l(o({},e.securityLookup),{[r]:l(o({},a),{thoughtLookup:l(o({},s),{[n.id]:n})})})});case"LOADING_THOUGHTS_FOR_SECURITY":return i=t.payload,c={},i.forEach((t=>{c[t]=l(o({},e.securityLookup[t]||{}),{loading:!0})})),l(o({},e),{securityLookup:o(o({},e.securityLookup),c)});case"ADD_EXCLUDE_THOUGHTS_SUGGESTIONS":return l(o({},e),{thoughtsByIdSuggested:[...e.thoughtsByIdSuggested,...t.payload]});case"TRACK_SUGGESTED_THOUGHT":return l(o({},e),{thoughtsByIdSuggested:[...e.thoughtsByIdSuggested,t.payload]});default:return e}},tour:function(e=ZNe,t){switch(t.type){case"ADD_TOUR_DATA":return o(l(o({},e),{loaded:!0}),t.payload);case"UPDATE_TOUR_DATA":return o(o({},e),t.payload);default:return e}},users:function(e=tAe,t){let n,r,i,a,s,c;switch(t.type){case"ADD_CONNECTIONS":const d=t.payload;if(Array.isArray(d)){const t=ek(d,"user_id");return l(o({},e),{userList:o(o({},e.userList),t)})}return l(o({},e),{userList:o(o({},e.userList),d)});case Hc:if(s=t.payload.users,s){const n=ek(t.payload.users,"user_id");return l(o({},e),{userList:o(o({},e.userList),n)})}return e;case"UPDATE_USER":return a=t.payload.user,l(o({},e),{userList:l(o({},e.userList),{[a.user_id]:o(o({},e.userList[a.user_id]),a)})});case"ADD_THOUGHT_LEADERS":if(n=t.payload,Array.isArray(n)){const t=ek(n,"user_id");return l(o({},e),{userList:o(o({},e.userList),t)})}return l(o({},e),{userList:o(o({},e.userList),n)});case"ADD_PEOPLE_YOU_MAY_KNOW":const{usersYouMayKnow:u}=t.payload;return l(o({},e),{peopleYouMayKnow:{loading:!1,usersYouMayKnow:u}});case"HIDE_CONNECTION_SUGGESTION":const{dismissUserId:h}=t.payload,p=e.peopleYouMayKnow.usersYouMayKnow.filter((e=>e.user_id.toString()!==h.toString()));return l(o({},e),{peopleYouMayKnow:l(o({},e.peopleYouMayKnow),{usersYouMayKnow:p})});case"QUERY_USERS":return r=t.payload,l(o({},e),{queries:[...e.queries,r]});case"USERS_QUERY_RESULTS":return r=t.payload.query,i=t.payload.results,l(o({},e),{queryResults:l(o({},e.queryResults),{[r]:[...i]})});case"ADD_TOP_CONNECTION_PERFORMANCES":const m=t.payload.connectionsPerformance;return l(o({},e),{connectionsPerformance:m});case"SEND_CONNECTION_REQUEST":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:"request_sent"})})});case"CONNECTION_REQUEST_FAILED":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:null})})});case"ACCEPT_CONNECTION_REQUEST":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:"connected"})})});case"ACCEPT_CONNECTION_REQUEST_FAILED":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:"request_received"})})});case"IGNORE_CONNECTION_REQUEST":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:null})})});case"IGNORE_CONNECTION_REQUEST_FAILED":return c=t.payload.connectUserId,l(o({},e),{userList:l(o({},e.userList),{[c]:l(o({},e.userList[c]),{connection_status_to_current_user:"request_received"})})});case"LOADING_PENDING_CONNECTIONS":return l(o({},e),{loadingPendingConnections:!1});case"COMPLETE_LOADING_PENDING_CONNECTIONS":return l(o({},e),{loadingPendingConnections:!1,loadedPendingConnectionsAt:jl().valueOf()});default:return e}},userConnections:function(e=JNe,t){let n,r,i,a,s;switch(t.type){case"ADD_CURRENT_USER_QUICK_INFO":return i=t.payload.user_id,e.currentUserId?e:l(o({},e),{currentUserId:i});case"LOADING_CURRENT_USER_CONNECTIONS":return n=e.currentUserId,l(o({},e),{userDict:l(o({},e.userDict),{[n]:{}})});case"ADD_CURRENT_USER_CONNECTIONS":return n=e.currentUserId,a=t.payload.connections,s=a?a.map((e=>e.user_id)):[],l(o({},e),{userDict:l(o({},e.userDict),{[n]:{connections:s}})});case"LOADING_USER_CONNECTIONS":return n=t.payload.userId,l(o({},e),{userDict:l(o({},e.userDict),{[n]:{}})});case"ADD_USER_CONNECTIONS":return a=t.payload.connections,s=a?a.map((e=>e.user_id)):[],n=t.payload.userId,l(o({},e),{userDict:l(o({},e.userDict),{[n]:{connections:s}})});case"ACCEPT_CONNECTION_REQUEST":{if(n=t.payload.userId,r=t.payload.connectUserId,n===r)return e;const i=e.userDict[n].connections||[];return l(o({},e),{userDict:l(o({},e.userDict),{[n]:{connections:[...i,r]}})})}case"REMOVE_CONNECTION":{n=t.payload.userId,i=t.payload.currentUserId;const r=e.userDict[i].connections||[],a=r?r.filter((e=>e!==n)):[];return l(o({},e),{userDict:l(o({},e.userDict),{[i]:{connections:[...a]}})})}case"REMOVE_CONNECTION_FAILURE":{n=t.payload.userId,i=t.payload.currentUserId;const r=e.userDict[i].connections||[];return l(o({},e),{userDict:l(o({},e.userDict),{[i]:{connections:[...r,n]}})})}default:return e}},userMutualConnections:function(e=eAe,t){let n;const r={};switch(t.type){case"LOADING_USER_MUTUAL_CONNECTIONS":return t.payload.userIds.forEach((e=>{r[e]={}})),l(o({},e),{userDict:o(o({},e.userDict),r)});case"ADD_USER_MUTUAL_CONNECTIONS":return n=t.payload.users,n.forEach((e=>{r[e.user_id]={mutual_connections:e.mutual_connections}})),l(o({},e),{userDict:o(o({},e.userDict),r)});default:return e}},userIdeaPerformance:function(e=XNe,t){let n;switch(t.type){case"LOADING_USERS_IDEA_PERFORMANCES":const r=t.payload.userIds;return n={},r.forEach((e=>n[e]={})),l(o({},e),{userDict:o(o({},e.userDict),n)});case"ADD_USERS_PERFORMANCES":const i=t.payload.users;return n={},i.forEach((e=>n[e.user_id]={performance_today:e.performance_today,performance_this_month:e.performance_this_month,performance_last_month:e.performance_last_month,performance_last_week:e.performance_last_week})),l(o({},e),{userDict:o(o({},e.userDict),n)});default:return e}},viewpoints:function(e=nAe,t){switch(t.type){case"UPDATE_VIEWPOINT_DATA":{const{orgs:n,featuredSubscriptionIdsDisplayOrder:r,defaultSelection:i}=t.payload,{subscriptionIds:a,featuredSubscriptionIds:s,allViewpointIds:c,viewpointAdminUserIds:d,adminUserIdToViewpointLookup:u,nameToIdLookup:h}=(e=>{const t=[],n=[],r=[],i=[],a={},s={};return e.forEach((e=>{const{id:o}=e,l=e.avatar_user_id,c=vP(e).toLowerCase();r.push(o),s[c]=o,null!==l&&(i.push(l),a[l]=o),bP(e)&&n.push(o),wP(e)&&t.push(o)})),{subscriptionIds:t,featuredSubscriptionIds:n,allViewpointIds:r,viewpointAdminUserIds:i,adminUserIdToViewpointLookup:a,nameToIdLookup:s}})(n),p=((e=[],t="id",n)=>{const r={};return e.forEach((e=>r[e[t]]=!!n||o({},e))),r})(n);return l(o({},e),{lookup:p,subscriptionIds:a,featuredSubscriptionIds:s,allViewpointIds:c,viewpointAdminUserIds:d,adminUserIdToViewpointLookup:u,featuredSubscriptionIdsDisplayOrder:r,defaultSelection:i,nameToIdLookup:h})}case"VIEWPOINT_SUBSCRIBE_COMPLETE":{const{id:n,isFree:r}=t.payload,i=e.lookup[n],a=l(o({},i),{is_free:r,is_subscribed:!0});return l(o({},e),{lookup:l(o({},e.lookup),{[n]:a}),subscriptionIds:[...e.subscriptionIds,n]})}case"VIEWPOINT_SUBSCRIBE_CANCELLED":{const n=t.payload,r=e.lookup[n],i=l(o({},r),{is_free:!1,is_subscribed:!r.is_free,is_canceled:!0});return l(o({},e),{lookup:l(o({},e.lookup),{[n]:i}),subscriptionIds:e.subscriptionIds.filter((e=>e!==n))})}default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const oAe=lAe?ae(sAe,lAe,se(oe)):ae(sAe,se(oe));var lAe;try{le({dsn:"https://af84f95bedef4a8fb0fb42f5682c6554@o158945.ingest.sentry.io/5858933",environment:"production",release:"2.6.0",dist:"1",integrations:[new ce({routingInstrumentation:de(c.useEffect,_,ue,he,pe)})],tracesSampleRate:1,sanitizeKeys:[/_token$/,/password/i,/annual_income_usd_max/i,/total_investible_assets_usd_min/i,/total_investible_assets_usd_max/i,/requested_change_ssn/i,/is_permanent_resident/i,/birth_country/i,/green_card_number/i,/green_card_expiration_date/i,/visa_type/i,/visa_number/i,/visa_expiration_date/i,/phone_number/i,/annual_income_usd_min/i,/firm_name/i,/is_affiliated_exchange_or_finra/i,/political_organization/i,/immediate_family/i,/is_politically_exposed/i,/company_symbols/i,/is_control_person/i,/citizenship_country/i,/date_of_birth/i,/social_security_number/i,/accounts/i,/margin_call_amount/i,/funds_available/i,/amount1/i,/amount2/i,/amount/i,/funding_operation/i,/apex_ach_transfer_id/i,/bank_routing_number/i,/bank_account_type/i,"/bank_account/i"],autoBreadcrumbs:{xhr:!1,console:!0,dom:!0,location:!0,sentry:!0}}),window.ResizeObserver=me}catch(cAe){console.error(cAe)}ge.render(c.createElement(ye,{store:oAe},c.createElement(qIe,null)),document.getElementById("root"));
//# sourceMappingURL=index.692cdaac.js.map
